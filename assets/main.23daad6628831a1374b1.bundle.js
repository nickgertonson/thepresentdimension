(()=>{var LF=Object.defineProperty,NF=Object.defineProperties;var xF=Object.getOwnPropertyDescriptors;var Wu=Object.getOwnPropertySymbols;var ob=Object.prototype.hasOwnProperty,ab=Object.prototype.propertyIsEnumerable;var rb=(Jn,er,Ke)=>er in Jn?LF(Jn,er,{enumerable:!0,configurable:!0,writable:!0,value:Ke}):Jn[er]=Ke,or=(Jn,er)=>{for(var Ke in er||(er={}))ob.call(er,Ke)&&rb(Jn,Ke,er[Ke]);if(Wu)for(var Ke of Wu(er))ab.call(er,Ke)&&rb(Jn,Ke,er[Ke]);return Jn},no=(Jn,er)=>NF(Jn,xF(er));var Or=(Jn,er)=>{var Ke={};for(var co in Jn)ob.call(Jn,co)&&er.indexOf(co)<0&&(Ke[co]=Jn[co]);if(Jn!=null&&Wu)for(var co of Wu(Jn))er.indexOf(co)<0&&ab.call(Jn,co)&&(Ke[co]=Jn[co]);return Ke};var RF=(Jn,er)=>()=>(er||Jn((er={exports:{}}).exports,er),er.exports);var Vs=(Jn,er,Ke)=>new Promise((co,j)=>{var l=c=>{try{n(Ke.next(c))}catch(u){j(u)}},e=c=>{try{n(Ke.throw(c))}catch(u){j(u)}},n=c=>c.done?co(c.value):Promise.resolve(c.value).then(l,e);n((Ke=Ke.apply(Jn,er)).next())});var UF=RF(Wf=>{(function(){try{var Jn=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},er=new Error().stack;er&&(Jn._sentryDebugIds=Jn._sentryDebugIds||{},Jn._sentryDebugIds[er]="0e59c874-41bc-4614-b82d-e547dc9018ad",Jn._sentryDebugIdIdentifier="sentry-dbid-0e59c874-41bc-4614-b82d-e547dc9018ad")}catch(Ke){}})();var BF=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};BF.SENTRY_RELEASE={id:"substack@d9e688e"};(()=>{var Jn={28599:j=>{"use strict";const{AbortController:l,AbortSignal:e}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;j.exports=l,j.exports.AbortSignal=e,j.exports.default=l},21924:(j,l,e)=>{"use strict";var n=e(40210),c=e(55559),u=c(n("String.prototype.indexOf"));j.exports=function(O,y){var E=n(O,!!y);return typeof E=="function"&&u(O,".prototype.")>-1?c(E):E}},55559:(j,l,e)=>{"use strict";var n=e(58612),c=e(40210),u=c("%Function.prototype.apply%"),v=c("%Function.prototype.call%"),O=c("%Reflect.apply%",!0)||n.call(v,u),y=c("%Object.getOwnPropertyDescriptor%",!0),E=c("%Object.defineProperty%",!0),d=c("%Math.max%");if(E)try{E({},"a",{value:1})}catch(P){E=null}j.exports=function(S){var T=O(n,v,arguments);if(y&&E){var C=y(T,"length");C.configurable&&E(T,"length",{value:1+d(0,S.length-(arguments.length-1))})}return T};var g=function(){return O(n,u,arguments)};E?E(j.exports,"apply",{value:g}):j.exports.apply=g},94184:(j,l)=>{var e,n;/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var c={}.hasOwnProperty;function u(){for(var v=[],O=0;O<arguments.length;O++){var y=arguments[O];if(y){var E=typeof y;if(E==="string"||E==="number")v.push(y);else if(Array.isArray(y)){if(y.length){var d=u.apply(null,y);d&&v.push(d)}}else if(E==="object")if(y.toString===Object.prototype.toString)for(var g in y)c.call(y,g)&&y[g]&&v.push(g);else v.push(y.toString())}}return v.join(" ")}j.exports?(u.default=u,j.exports=u):(e=[],n=function(){return u}.apply(l,e),n!==void 0&&(j.exports=n))})()},98767:j=>{j.exports=l;function l(n){if(n)return e(n)}function e(n){for(var c in l.prototype)n[c]=l.prototype[c];return n}l.prototype.on=l.prototype.addEventListener=function(n,c){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(c),this},l.prototype.once=function(n,c){function u(){this.off(n,u),c.apply(this,arguments)}return u.fn=c,this.on(n,u),this},l.prototype.off=l.prototype.removeListener=l.prototype.removeAllListeners=l.prototype.removeEventListener=function(n,c){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var u=this._callbacks["$"+n];if(!u)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var v,O=0;O<u.length;O++)if(v=u[O],v===c||v.fn===c){u.splice(O,1);break}return u.length===0&&delete this._callbacks["$"+n],this},l.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var c=new Array(arguments.length-1),u=this._callbacks["$"+n],v=1;v<arguments.length;v++)c[v-1]=arguments[v];if(u){u=u.slice(0);for(var v=0,O=u.length;v<O;++v)u[v].apply(this,c)}return this},l.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},l.prototype.hasListeners=function(n){return!!this.listeners(n).length}},27484:function(j){(function(l,e){j.exports=e()})(this,function(){"use strict";var l="millisecond",e="second",n="minute",c="hour",u="day",v="week",O="month",y="quarter",E="year",d="date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,P=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},T=function(I,A,M){var R=String(I);return!R||R.length>=A?I:""+Array(A+1-R.length).join(M)+I},C={s:T,z:function(I){var A=-I.utcOffset(),M=Math.abs(A),R=Math.floor(M/60),F=M%60;return(A<=0?"+":"-")+T(R,2,"0")+":"+T(F,2,"0")},m:function I(A,M){if(A.date()<M.date())return-I(M,A);var R=12*(M.year()-A.year())+(M.month()-A.month()),F=A.clone().add(R,O),Z=M-F<0,V=A.clone().add(R+(Z?-1:1),O);return+(-(R+(M-F)/(Z?F-V:V-F))||0)},a:function(I){return I<0?Math.ceil(I)||0:Math.floor(I)},p:function(I){return{M:O,y:E,w:v,d:u,D:d,h:c,m:n,s:e,ms:l,Q:y}[I]||String(I||"").toLowerCase().replace(/s$/,"")},u:function(I){return I===void 0}},p="en",i={};i[p]=S;var s=function(I){return I instanceof D},_=function(I,A,M){var R;if(!I)return p;if(typeof I=="string")i[I]&&(R=I),A&&(i[I]=A,R=I);else{var F=I.name;i[F]=I,R=F}return!M&&R&&(p=R),R||!M&&p},w=function(I,A){if(s(I))return I.clone();var M=typeof A=="object"?A:{};return M.date=I,M.args=arguments,new D(M)},x=C;x.l=_,x.i=s,x.w=function(I,A){return w(I,{locale:A.$L,utc:A.$u,x:A.$x,$offset:A.$offset})};var D=function(){function I(M){this.$L=_(M.locale,null,!0),this.parse(M)}var A=I.prototype;return A.parse=function(M){this.$d=function(R){var F=R.date,Z=R.utc;if(F===null)return new Date(NaN);if(x.u(F))return new Date;if(F instanceof Date)return new Date(F);if(typeof F=="string"&&!/Z$/i.test(F)){var V=F.match(g);if(V){var G=V[2]-1||0,$=(V[7]||"0").substring(0,3);return Z?new Date(Date.UTC(V[1],G,V[3]||1,V[4]||0,V[5]||0,V[6]||0,$)):new Date(V[1],G,V[3]||1,V[4]||0,V[5]||0,V[6]||0,$)}}return new Date(F)}(M),this.$x=M.x||{},this.init()},A.init=function(){var M=this.$d;this.$y=M.getFullYear(),this.$M=M.getMonth(),this.$D=M.getDate(),this.$W=M.getDay(),this.$H=M.getHours(),this.$m=M.getMinutes(),this.$s=M.getSeconds(),this.$ms=M.getMilliseconds()},A.$utils=function(){return x},A.isValid=function(){return this.$d.toString()!=="Invalid Date"},A.isSame=function(M,R){var F=w(M);return this.startOf(R)<=F&&F<=this.endOf(R)},A.isAfter=function(M,R){return w(M)<this.startOf(R)},A.isBefore=function(M,R){return this.endOf(R)<w(M)},A.$g=function(M,R,F){return x.u(M)?this[R]:this.set(F,M)},A.unix=function(){return Math.floor(this.valueOf()/1e3)},A.valueOf=function(){return this.$d.getTime()},A.startOf=function(M,R){var F=this,Z=!!x.u(R)||R,V=x.p(M),G=function(te,ie){var se=x.w(F.$u?Date.UTC(F.$y,ie,te):new Date(F.$y,ie,te),F);return Z?se:se.endOf(u)},$=function(te,ie){return x.w(F.toDate()[te].apply(F.toDate("s"),(Z?[0,0,0,0]:[23,59,59,999]).slice(ie)),F)},K=this.$W,H=this.$M,re=this.$D,ee="set"+(this.$u?"UTC":"");switch(V){case E:return Z?G(1,0):G(31,11);case O:return Z?G(1,H):G(0,H+1);case v:var Y=this.$locale().weekStart||0,J=(K<Y?K+7:K)-Y;return G(Z?re-J:re+(6-J),H);case u:case d:return $(ee+"Hours",0);case c:return $(ee+"Minutes",1);case n:return $(ee+"Seconds",2);case e:return $(ee+"Milliseconds",3);default:return this.clone()}},A.endOf=function(M){return this.startOf(M,!1)},A.$set=function(M,R){var F,Z=x.p(M),V="set"+(this.$u?"UTC":""),G=(F={},F[u]=V+"Date",F[d]=V+"Date",F[O]=V+"Month",F[E]=V+"FullYear",F[c]=V+"Hours",F[n]=V+"Minutes",F[e]=V+"Seconds",F[l]=V+"Milliseconds",F)[Z],$=Z===u?this.$D+(R-this.$W):R;if(Z===O||Z===E){var K=this.clone().set(d,1);K.$d[G]($),K.init(),this.$d=K.set(d,Math.min(this.$D,K.daysInMonth())).$d}else G&&this.$d[G]($);return this.init(),this},A.set=function(M,R){return this.clone().$set(M,R)},A.get=function(M){return this[x.p(M)]()},A.add=function(M,R){var F,Z=this;M=Number(M);var V=x.p(R),G=function(H){var re=w(Z);return x.w(re.date(re.date()+Math.round(H*M)),Z)};if(V===O)return this.set(O,this.$M+M);if(V===E)return this.set(E,this.$y+M);if(V===u)return G(1);if(V===v)return G(7);var $=(F={},F[n]=6e4,F[c]=36e5,F[e]=1e3,F)[V]||1,K=this.$d.getTime()+M*$;return x.w(K,this)},A.subtract=function(M,R){return this.add(-1*M,R)},A.format=function(M){var R=this;if(!this.isValid())return"Invalid Date";var F=M||"YYYY-MM-DDTHH:mm:ssZ",Z=x.z(this),V=this.$locale(),G=this.$H,$=this.$m,K=this.$M,H=V.weekdays,re=V.months,ee=function(ie,se,W,z){return ie&&(ie[se]||ie(R,F))||W[se].substr(0,z)},Y=function(ie){return x.s(G%12||12,ie,"0")},J=V.meridiem||function(ie,se,W){var z=ie<12?"AM":"PM";return W?z.toLowerCase():z},te={YY:String(this.$y).slice(-2),YYYY:this.$y,M:K+1,MM:x.s(K+1,2,"0"),MMM:ee(V.monthsShort,K,re,3),MMMM:ee(re,K),D:this.$D,DD:x.s(this.$D,2,"0"),d:String(this.$W),dd:ee(V.weekdaysMin,this.$W,H,2),ddd:ee(V.weekdaysShort,this.$W,H,3),dddd:H[this.$W],H:String(G),HH:x.s(G,2,"0"),h:Y(1),hh:Y(2),a:J(G,$,!0),A:J(G,$,!1),m:String($),mm:x.s($,2,"0"),s:String(this.$s),ss:x.s(this.$s,2,"0"),SSS:x.s(this.$ms,3,"0"),Z};return F.replace(P,function(ie,se){return se||te[ie]||Z.replace(":","")})},A.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},A.diff=function(M,R,F){var Z,V=x.p(R),G=w(M),$=6e4*(G.utcOffset()-this.utcOffset()),K=this-G,H=x.m(this,G);return H=(Z={},Z[E]=H/12,Z[O]=H,Z[y]=H/3,Z[v]=(K-$)/6048e5,Z[u]=(K-$)/864e5,Z[c]=K/36e5,Z[n]=K/6e4,Z[e]=K/1e3,Z)[V]||K,F?H:x.a(H)},A.daysInMonth=function(){return this.endOf(O).$D},A.$locale=function(){return i[this.$L]},A.locale=function(M,R){if(!M)return this.$L;var F=this.clone(),Z=_(M,R,!0);return Z&&(F.$L=Z),F},A.clone=function(){return x.w(this.$d,this)},A.toDate=function(){return new Date(this.valueOf())},A.toJSON=function(){return this.isValid()?this.toISOString():null},A.toISOString=function(){return this.$d.toISOString()},A.toString=function(){return this.$d.toUTCString()},I}(),N=D.prototype;return w.prototype=N,[["$ms",l],["$s",e],["$m",n],["$H",c],["$W",u],["$M",O],["$y",E],["$D",d]].forEach(function(I){N[I[1]]=function(A){return this.$g(A,I[0],I[1])}}),w.extend=function(I,A){return I.$i||(I(A,D,w),I.$i=!0),w},w.locale=_,w.isDayjs=s,w.unix=function(I){return w(1e3*I)},w.en=i[p],w.Ls=i,w.p={},w})},80790:function(j,l,e){(function(n,c){j.exports=c(e(27484))})(this,function(n){"use strict";n=n&&n.hasOwnProperty("default")?n.default:n;var c={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function u(O,y,E){var d=c[E];return Array.isArray(d)&&(d=d[y?0:1]),d.replace("%d",O)}var v={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_M\xE4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan_Feb_M\xE4rz_Apr_Mai_Juni_Juli_Aug_Sept_Okt_Nov_Dez".split("_"),ordinal:function(O){return O+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:u,m:u,mm:u,h:u,hh:u,d:u,dd:u,M:u,MM:u,y:u,yy:u}};return n.locale(v,null,!0),v})},67763:function(j,l,e){(function(n,c){j.exports=c(e(27484))})(this,function(n){"use strict";n=n&&n.hasOwnProperty("default")?n.default:n;var c={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mi\xE9rcoles_jueves_viernes_s\xE1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xE9._jue._vie._s\xE1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xE1".split("_"),months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"},ordinal:function(u){return u+"\xBA"}};return n.locale(c,null,!0),c})},96023:function(j,l,e){(function(n,c){j.exports=c(e(27484))})(this,function(n){"use strict";n=n&&n.hasOwnProperty("default")?n.default:n;var c={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_f\xE9vrier_mars_avril_mai_juin_juillet_ao\xFBt_septembre_octobre_novembre_d\xE9cembre".split("_"),monthsShort:"janv._f\xE9vr._mars_avr._mai_juin_juil._ao\xFBt_sept._oct._nov._d\xE9c.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(u){return""+u+(u===1?"er":"")}};return n.locale(c,null,!0),c})},28734:function(j){(function(l,e){j.exports=e()})(this,function(){"use strict";return function(l,e,n){var c=e.prototype,u=c.format;n.en.ordinal=function(v){var O=["th","st","nd","rd"],y=v%100;return"["+v+(O[(y-20)%10]||O[y]||O[0])+"]"},c.format=function(v){var O=this,y=this.$locale(),E=this.$utils(),d=(v||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(g){switch(g){case"Q":return Math.ceil((O.$M+1)/3);case"Do":return y.ordinal(O.$D);case"gggg":return O.weekYear();case"GGGG":return O.isoWeekYear();case"wo":return y.ordinal(O.week(),"W");case"w":case"ww":return E.s(O.week(),g==="w"?1:2,"0");case"W":case"WW":return E.s(O.isoWeek(),g==="W"?1:2,"0");case"k":case"kk":return E.s(String(O.$H===0?24:O.$H),g==="k"?1:2,"0");case"X":return Math.floor(O.$d.getTime()/1e3);case"x":return O.$d.getTime();case"z":return"["+O.offsetName()+"]";case"zzz":return"["+O.offsetName("long")+"]";default:return g}});return u.bind(this)(d)}}})},90850:function(j){(function(l,e){j.exports=e()})(this,function(){"use strict";return function(l,e,n){var c=e.prototype,u=c.parse;c.parse=function(v){v.date=function(O){var y=O.date,E=O.utc;return Array.isArray(y)?E?y.length?new Date(Date.UTC.apply(null,y)):new Date:y.length===1?n(String(y[0])).toDate():new(Function.prototype.bind.apply(Date,[null].concat(y))):y}.bind(this)(v),u.bind(this)(v)}}})},94712:function(j){(function(l,e){j.exports=e()})(this,function(){"use strict";return function(l,e,n){var c="h:mm A",u={lastDay:"[Yesterday at] "+c,sameDay:"[Today at] "+c,nextDay:"[Tomorrow at] "+c,nextWeek:"dddd [at] "+c,lastWeek:"[Last] dddd [at] "+c,sameElse:"MM/DD/YYYY"};e.prototype.calendar=function(v,O){var y=O||this.$locale().calendar||u,E=n(v||void 0).startOf("d"),d=this.diff(E,"d",!0),g=d<-6?"sameElse":d<-1?"lastWeek":d<0?"lastDay":d<1?"sameDay":d<2?"nextDay":d<7?"nextWeek":"sameElse",P=y[g]||u[g];return typeof P=="function"?P.call(this,n()):this.format(P)}}})},10285:function(j){(function(l,e){j.exports=e()})(this,function(){"use strict";var l={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=function(T,C){return T.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,i,s){var _=s&&s.toUpperCase();return i||C[s]||l[s]||C[_].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,x,D){return x||D.slice(1)})})},n=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,c=/\d\d/,u=/\d\d?/,v=/\d*[^\s\d-_:/()]+/,O={},y=function(T){return function(C){this[T]=+C}},E=[/[+-]\d\d:?(\d\d)?/,function(T){(this.zone||(this.zone={})).offset=function(C){if(!C)return 0;var p=C.match(/([+-]|\d\d)/g),i=60*p[1]+(+p[2]||0);return i===0?0:p[0]==="+"?-i:i}(T)}],d=function(T){var C=O[T];return C&&(C.indexOf?C:C.s.concat(C.f))},g=function(T,C){var p,i=O.meridiem;if(i){for(var s=1;s<=24;s+=1)if(T.indexOf(i(s,0,C))>-1){p=s>12;break}}else p=T===(C?"pm":"PM");return p},P={A:[v,function(T){this.afternoon=g(T,!1)}],a:[v,function(T){this.afternoon=g(T,!0)}],S:[/\d/,function(T){this.milliseconds=100*+T}],SS:[c,function(T){this.milliseconds=10*+T}],SSS:[/\d{3}/,function(T){this.milliseconds=+T}],s:[u,y("seconds")],ss:[u,y("seconds")],m:[u,y("minutes")],mm:[u,y("minutes")],H:[u,y("hours")],h:[u,y("hours")],HH:[u,y("hours")],hh:[u,y("hours")],D:[u,y("day")],DD:[c,y("day")],Do:[v,function(T){var C=O.ordinal,p=T.match(/\d+/);if(this.day=p[0],C)for(var i=1;i<=31;i+=1)C(i).replace(/\[|\]/g,"")===T&&(this.day=i)}],M:[u,y("month")],MM:[c,y("month")],MMM:[v,function(T){var C=d("months"),p=(d("monthsShort")||C.map(function(i){return i.substr(0,3)})).indexOf(T)+1;if(p<1)throw new Error;this.month=p%12||p}],MMMM:[v,function(T){var C=d("months").indexOf(T)+1;if(C<1)throw new Error;this.month=C%12||C}],Y:[/[+-]?\d+/,y("year")],YY:[c,function(T){T=+T,this.year=T+(T>68?1900:2e3)}],YYYY:[/\d{4}/,y("year")],Z:E,ZZ:E},S=function(T,C,p){try{var i=function(H){for(var re=(H=e(H,O&&O.formats)).match(n),ee=re.length,Y=0;Y<ee;Y+=1){var J=re[Y],te=P[J],ie=te&&te[0],se=te&&te[1];re[Y]=se?{regex:ie,parser:se}:J.replace(/^\[|\]$/g,"")}return function(W){for(var z={},Q=0,oe=0;Q<ee;Q+=1){var ne=re[Q];if(typeof ne=="string")oe+=ne.length;else{var ae=ne.regex,le=ne.parser,ue=W.substr(oe),fe=ae.exec(ue)[0];le.call(z,fe),W=W.replace(fe,"")}}return function(he){var be=he.afternoon;if(be!==void 0){var ve=he.hours;be?ve<12&&(he.hours+=12):ve===12&&(he.hours=0),delete he.afternoon}}(z),z}}(C)(T),s=i.year,_=i.month,w=i.day,x=i.hours,D=i.minutes,N=i.seconds,I=i.milliseconds,A=i.zone,M=new Date,R=w||(s||_?1:M.getDate()),F=s||M.getFullYear(),Z=0;s&&!_||(Z=_>0?_-1:M.getMonth());var V=x||0,G=D||0,$=N||0,K=I||0;return A?new Date(Date.UTC(F,Z,R,V,G,$,K+60*A.offset*1e3)):p?new Date(Date.UTC(F,Z,R,V,G,$,K)):new Date(F,Z,R,V,G,$,K)}catch(H){return new Date("")}};return function(T,C,p){p.p.customParseFormat=!0;var i=C.prototype,s=i.parse;i.parse=function(_){var w=_.date,x=_.utc,D=_.args;this.$u=x;var N=D[1];if(typeof N=="string"){var I=D[2]===!0,A=D[3]===!0,M=I||A,R=D[2];A&&(R=D[2]),O=this.$locale(),!I&&R&&(O=p.Ls[R]),this.$d=S(w,N,x),this.init(),R&&R!==!0&&(this.$L=this.locale(R).$L),M&&w!==this.format(N)&&(this.$d=new Date("")),O={}}else if(N instanceof Array)for(var F=N.length,Z=1;Z<=F;Z+=1){D[1]=N[Z-1];var V=p.apply(this,D);if(V.isValid()){this.$d=V.$d,this.$L=V.$L,this.init();break}Z===F&&(this.$d=new Date(""))}else s.call(this,_)}}})},92997:function(j){(function(l,e){j.exports=e()})(this,function(){"use strict";return function(l,e){e.prototype.dayOfYear=function(n){var c=Math.round((this.startOf("day")-this.startOf("year"))/864e5)+1;return n==null?c:this.add(n-c,"day")}}})},1646:function(j){(function(l,e){j.exports=e()})(this,function(){"use strict";var l,e,n=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,u={years:31536e6,months:2592e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},v=function(S){return S instanceof P},O=function(S,T,C){return new P(S,C,T.$l)},y=function(S){return e.p(S)+"s"},E=function(S){return S<0},d=function(S){return E(S)?Math.ceil(S):Math.floor(S)},g=function(S,T){return S?E(S)?{negative:!0,format:""+function(C){return Math.abs(C)}(S)+T}:{negative:!1,format:""+S+T}:{negative:!1,format:""}},P=function(){function S(C,p,i){var s=this;if(this.$d={},this.$l=i,p)return O(C*u[y(p)],this);if(typeof C=="number")return this.$ms=C,this.parseFromMilliseconds(),this;if(typeof C=="object")return Object.keys(C).forEach(function(w){s.$d[y(w)]=C[w]}),this.calMilliseconds(),this;if(typeof C=="string"){var _=C.match(c);if(_)return this.$d.years=_[2],this.$d.months=_[3],this.$d.weeks=_[4],this.$d.days=_[5],this.$d.hours=_[6],this.$d.minutes=_[7],this.$d.seconds=_[8],this.calMilliseconds(),this}return this}var T=S.prototype;return T.calMilliseconds=function(){var C=this;this.$ms=Object.keys(this.$d).reduce(function(p,i){return p+(C.$d[i]||0)*u[i]},0)},T.parseFromMilliseconds=function(){var C=this.$ms;this.$d.years=d(C/31536e6),C%=31536e6,this.$d.months=d(C/2592e6),C%=2592e6,this.$d.days=d(C/864e5),C%=864e5,this.$d.hours=d(C/36e5),C%=36e5,this.$d.minutes=d(C/6e4),C%=6e4,this.$d.seconds=d(C/1e3),C%=1e3,this.$d.milliseconds=C},T.toISOString=function(){var C=g(this.$d.years,"Y"),p=g(this.$d.months,"M"),i=+this.$d.days||0;this.$d.weeks&&(i+=7*this.$d.weeks);var s=g(i,"D"),_=g(this.$d.hours,"H"),w=g(this.$d.minutes,"M"),x=this.$d.seconds||0;this.$d.milliseconds&&(x+=this.$d.milliseconds/1e3);var D=g(x,"S"),N=C.negative||p.negative||s.negative||_.negative||w.negative||D.negative,I=_.format||w.format||D.format?"T":"",A=(N?"-":"")+"P"+C.format+p.format+s.format+I+_.format+w.format+D.format;return A==="P"||A==="-P"?"P0D":A},T.toJSON=function(){return this.toISOString()},T.format=function(C){var p=C||"YYYY-MM-DDTHH:mm:ss",i={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return p.replace(n,function(s,_){return _||String(i[s])})},T.as=function(C){return this.$ms/u[y(C)]},T.get=function(C){var p=this.$ms,i=y(C);return i==="milliseconds"?p%=1e3:p=i==="weeks"?d(p/u[i]):this.$d[i],p===0?0:p},T.add=function(C,p,i){var s;return s=p?C*u[y(p)]:v(C)?C.$ms:O(C,this).$ms,O(this.$ms+s*(i?-1:1),this)},T.subtract=function(C,p){return this.add(C,p,!0)},T.locale=function(C){var p=this.clone();return p.$l=C,p},T.clone=function(){return O(this.$ms,this)},T.humanize=function(C){return l().add(this.$ms,"ms").locale(this.$l).fromNow(!C)},T.milliseconds=function(){return this.get("milliseconds")},T.asMilliseconds=function(){return this.as("milliseconds")},T.seconds=function(){return this.get("seconds")},T.asSeconds=function(){return this.as("seconds")},T.minutes=function(){return this.get("minutes")},T.asMinutes=function(){return this.as("minutes")},T.hours=function(){return this.get("hours")},T.asHours=function(){return this.as("hours")},T.days=function(){return this.get("days")},T.asDays=function(){return this.as("days")},T.weeks=function(){return this.get("weeks")},T.asWeeks=function(){return this.as("weeks")},T.months=function(){return this.get("months")},T.asMonths=function(){return this.as("months")},T.years=function(){return this.get("years")},T.asYears=function(){return this.as("years")},S}();return function(S,T,C){l=C,e=C().$utils(),C.duration=function(s,_){var w=C.locale();return O(s,{$l:w},_)},C.isDuration=v;var p=T.prototype.add,i=T.prototype.subtract;T.prototype.add=function(s,_){return v(s)&&(s=s.asMilliseconds()),p.bind(this)(s,_)},T.prototype.subtract=function(s,_){return v(s)&&(s=s.asMilliseconds()),i.bind(this)(s,_)}}})},66607:function(j){(function(l,e){j.exports=e()})(this,function(){"use strict";return function(l,e,n){e.prototype.isBetween=function(c,u,v,O){var y=n(c),E=n(u),d=(O=O||"()")[0]==="(",g=O[1]===")";return(d?this.isAfter(y,v):!this.isBefore(y,v))&&(g?this.isBefore(E,v):!this.isAfter(E,v))||(d?this.isBefore(y,v):!this.isAfter(y,v))&&(g?this.isAfter(E,v):!this.isBefore(E,v))}}})},10423:function(j){(function(l,e){j.exports=e()})(this,function(){"use strict";return function(l,e){e.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})},79212:function(j){(function(l,e){j.exports=e()})(this,function(){"use strict";return function(l,e){e.prototype.isSameOrAfter=function(n,c){return this.isSame(n,c)||this.isAfter(n,c)}}})},37412:function(j){(function(l,e){j.exports=e()})(this,function(){"use strict";return function(l,e){e.prototype.isSameOrBefore=function(n,c){return this.isSame(n,c)||this.isBefore(n,c)}}})},96671:function(j){(function(l,e){j.exports=e()})(this,function(){"use strict";var l="month",e="quarter";return function(n,c){var u=c.prototype;u.quarter=function(y){return this.$utils().u(y)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(y-1))};var v=u.add;u.add=function(y,E){return y=Number(y),this.$utils().p(E)===e?this.add(3*y,l):v.bind(this)(y,E)};var O=u.startOf;u.startOf=function(y,E){var d=this.$utils(),g=!!d.u(E)||E;if(d.p(y)===e){var P=this.quarter()-1;return g?this.month(3*P).startOf(l).startOf("day"):this.month(3*P+2).endOf(l).endOf("day")}return O.bind(this)(y,E)}}})},84110:function(j){(function(l,e){j.exports=e()})(this,function(){"use strict";return function(l,e,n){l=l||{};var c=e.prototype,u={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function v(y,E,d,g){return c.fromToBase(y,E,d,g)}n.en.relativeTime=u,c.fromToBase=function(y,E,d,g,P){for(var S,T,C,p=d.$locale().relativeTime||u,i=l.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],s=i.length,_=0;_<s;_+=1){var w=i[_];w.d&&(S=g?n(y).diff(d,w.d,!0):d.diff(y,w.d,!0));var x=(l.rounding||Math.round)(Math.abs(S));if(C=S>0,x<=w.r||!w.r){x<=1&&_>0&&(w=i[_-1]);var D=p[w.l];P&&(x=P(""+x)),T=typeof D=="string"?D.replace("%d",x):D(x,E,w.l,C);break}}if(E)return T;var N=C?p.future:p.past;return typeof N=="function"?N(T):N.replace("%s",T)},c.to=function(y,E){return v(y,E,this,!0)},c.from=function(y,E){return v(y,E,this)};var O=function(y){return y.$u?n.utc():n()};c.toNow=function(y){return this.to(O(this),y)},c.fromNow=function(y){return this.from(O(this),y)}}})},29387:function(j){(function(l,e){j.exports=e()})(this,function(){"use strict";var l={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(n,c,u){var v,O=u().utcOffset(),y=function(P,S,T){T===void 0&&(T={});var C=new Date(P);return function(p,i){i===void 0&&(i={});var s=i.timeZoneName||"short",_=p+"|"+s,w=e[_];return w||(w=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:p,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:s}),e[_]=w),w}(S,T).formatToParts(C)},E=function(P,S){for(var T=y(P,S),C=[],p=0;p<T.length;p+=1){var i=T[p],s=i.type,_=i.value,w=l[s];w>=0&&(C[w]=parseInt(_,10))}var x=C[3],D=x===24?0:x,N=C[0]+"-"+C[1]+"-"+C[2]+" "+D+":"+C[4]+":"+C[5]+":000",I=+P;return(u.utc(N).valueOf()-(I-=I%1e3))/6e4},d=c.prototype;d.tz=function(P,S){P===void 0&&(P=v);var T=this.utcOffset(),C=this.toDate().toLocaleString("en-US",{timeZone:P}),p=Math.round((this.toDate()-new Date(C))/1e3/60),i=u(C).$set("millisecond",this.$ms).utcOffset(O-p,!0);if(S){var s=i.utcOffset();i=i.add(T-s,"minute")}return i.$x.$timezone=P,i},d.offsetName=function(P){var S=this.$x.$timezone||u.tz.guess(),T=y(this.valueOf(),S,{timeZoneName:P}).find(function(C){return C.type.toLowerCase()==="timezonename"});return T&&T.value};var g=d.startOf;d.startOf=function(P,S){if(!this.$x||!this.$x.$timezone)return g.call(this,P,S);var T=u(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return g.call(T,P,S).tz(this.$x.$timezone,!0)},u.tz=function(P,S,T){var C=T&&S,p=T||S||v,i=E(+u(),p);if(typeof P!="string")return u(P).tz(p);var s=function(D,N,I){var A=D-60*N*1e3,M=E(A,I);if(N===M)return[A,N];var R=E(A-=60*(M-N)*1e3,I);return M===R?[A,M]:[D-60*Math.min(M,R)*1e3,Math.max(M,R)]}(u.utc(P,C).valueOf(),i,p),_=s[0],w=s[1],x=u(_).utcOffset(w);return x.$x.$timezone=p,x},u.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},u.tz.setDefault=function(P){v=P}}})},70178:function(j){(function(l,e){j.exports=e()})(this,function(){"use strict";return function(l,e,n){var c=e.prototype;n.utc=function(g){return new e({date:g,utc:!0,args:arguments})},c.utc=function(g){var P=n(this.toDate(),{locale:this.$L,utc:!0});return g?P.add(this.utcOffset(),"minute"):P},c.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),u.call(this,g)};var v=c.init;c.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else v.call(this)};var O=c.utcOffset;c.utcOffset=function(g,P){var S=this.$utils().u;if(S(g))return this.$u?0:S(this.$offset)?O.call(this):this.$offset;var T=Math.abs(g)<=16?60*g:g,C=this;if(P)return C.$offset=T,C.$u=g===0,C;if(g!==0){var p=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(C=this.local().add(T+p,"minute")).$offset=T,C.$x.$localOffset=p}else C=this.utc();return C};var y=c.format;c.format=function(g){var P=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,P)},c.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||new Date().getTimezoneOffset());return this.$d.valueOf()-6e4*g},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var E=c.toDate;c.toDate=function(g){return g==="s"&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():E.call(this)};var d=c.diff;c.diff=function(g,P,S){if(g&&this.$u===g.$u)return d.call(this,g,P,S);var T=this.local(),C=n(g).local();return d.call(T,C,P,S)}}})},55183:function(j){(function(l,e){j.exports=e()})(this,function(){"use strict";var l="week",e="year";return function(n,c,u){var v=c.prototype;v.week=function(O){if(O===void 0&&(O=null),O!==null)return this.add(7*(O-this.week()),"day");var y=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var E=u(this).startOf(e).add(1,e).date(y),d=u(this).endOf(l);if(E.isBefore(d))return 1}var g=u(this).startOf(e).date(y).startOf(l).subtract(1,"millisecond"),P=this.diff(g,l,!0);return P<0?u(this).startOf("week").week():Math.ceil(P)},v.weeks=function(O){return O===void 0&&(O=null),this.week(O)}}})},6833:function(j){(function(l,e){j.exports=e()})(this,function(){"use strict";return function(l,e){e.prototype.weekday=function(n){var c=this.$locale().weekStart||0,u=this.$W,v=(u<c?u+7:u)-c;return this.$utils().u(n)?v:this.subtract(v,"day").add(n,"day")}}})},10251:(j,l,e)=>{var n=Array.prototype.slice,c=e(41705),u=e(45539),v=j.exports=function(d,g,P){return P||(P={}),d===g?!0:d instanceof Date&&g instanceof Date?d.getTime()===g.getTime():!d||!g||typeof d!="object"&&typeof g!="object"?P.strict?d===g:d==g:E(d,g,P)};function O(d){return d==null}function y(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function E(d,g,P){var S,T;if(O(d)||O(g)||d.prototype!==g.prototype)return!1;if(u(d))return u(g)?(d=n.call(d),g=n.call(g),v(d,g,P)):!1;if(y(d)){if(!y(g)||d.length!==g.length)return!1;for(S=0;S<d.length;S++)if(d[S]!==g[S])return!1;return!0}try{var C=c(d),p=c(g)}catch(i){return!1}if(C.length!=p.length)return!1;for(C.sort(),p.sort(),S=C.length-1;S>=0;S--)if(C[S]!=p[S])return!1;for(S=C.length-1;S>=0;S--)if(T=C[S],!v(d[T],g[T],P))return!1;return typeof d==typeof g}},45539:(j,l)=>{var e=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";l=j.exports=e?n:c,l.supported=n;function n(u){return Object.prototype.toString.call(u)=="[object Arguments]"}l.unsupported=c;function c(u){return u&&typeof u=="object"&&typeof u.length=="number"&&Object.prototype.hasOwnProperty.call(u,"callee")&&!Object.prototype.propertyIsEnumerable.call(u,"callee")||!1}},41705:(j,l)=>{l=j.exports=typeof Object.keys=="function"?Object.keys:e,l.shim=e;function e(n){var c=[];for(var u in n)c.push(u);return c}},9996:j=>{"use strict";var l=function(_){return e(_)&&!n(_)};function e(s){return!!s&&typeof s=="object"}function n(s){var _=Object.prototype.toString.call(s);return _==="[object RegExp]"||_==="[object Date]"||v(s)}var c=typeof Symbol=="function"&&Symbol.for,u=c?Symbol.for("react.element"):60103;function v(s){return s.$$typeof===u}function O(s){return Array.isArray(s)?[]:{}}function y(s,_){return _.clone!==!1&&_.isMergeableObject(s)?p(O(s),s,_):s}function E(s,_,w){return s.concat(_).map(function(x){return y(x,w)})}function d(s,_){if(!_.customMerge)return p;var w=_.customMerge(s);return typeof w=="function"?w:p}function g(s){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(s).filter(function(_){return s.propertyIsEnumerable(_)}):[]}function P(s){return Object.keys(s).concat(g(s))}function S(s,_){try{return _ in s}catch(w){return!1}}function T(s,_){return S(s,_)&&!(Object.hasOwnProperty.call(s,_)&&Object.propertyIsEnumerable.call(s,_))}function C(s,_,w){var x={};return w.isMergeableObject(s)&&P(s).forEach(function(D){x[D]=y(s[D],w)}),P(_).forEach(function(D){T(s,D)||(S(s,D)&&w.isMergeableObject(_[D])?x[D]=d(D,w)(s[D],_[D],w):x[D]=y(_[D],w))}),x}function p(s,_,w){w=w||{},w.arrayMerge=w.arrayMerge||E,w.isMergeableObject=w.isMergeableObject||l,w.cloneUnlessOtherwiseSpecified=y;var x=Array.isArray(_),D=Array.isArray(s),N=x===D;return N?x?w.arrayMerge(s,_,w):C(s,_,w):y(_,w)}p.all=function(_,w){if(!Array.isArray(_))throw new Error("first argument should be an array");return _.reduce(function(x,D){return p(x,D,w)},{})};var i=p;j.exports=i},65987:j=>{"use strict";var l={single_source_shortest_paths:function(e,n,c){var u={},v={};v[n]=0;var O=l.PriorityQueue.make();O.push(n,0);for(var y,E,d,g,P,S,T,C,p;!O.empty();){y=O.pop(),E=y.value,g=y.cost,P=e[E]||{};for(d in P)P.hasOwnProperty(d)&&(S=P[d],T=g+S,C=v[d],p=typeof v[d]=="undefined",(p||C>T)&&(v[d]=T,O.push(d,T),u[d]=E))}if(typeof c!="undefined"&&typeof v[c]=="undefined"){var i=["Could not find a path from ",n," to ",c,"."].join("");throw new Error(i)}return u},extract_shortest_path_from_predecessor_list:function(e,n){for(var c=[],u=n,v;u;)c.push(u),v=e[u],u=e[u];return c.reverse(),c},find_path:function(e,n,c){var u=l.single_source_shortest_paths(e,n,c);return l.extract_shortest_path_from_predecessor_list(u,c)},PriorityQueue:{make:function(e){var n=l.PriorityQueue,c={},u;e=e||{};for(u in n)n.hasOwnProperty(u)&&(c[u]=n[u]);return c.queue=[],c.sorter=e.sorter||n.default_sorter,c},default_sorter:function(e,n){return e.cost-n.cost},push:function(e,n){var c={value:e,cost:n};this.queue.push(c),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};j.exports=l},17837:(j,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.attributeNames=l.elementNames=void 0,l.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),l.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},97220:function(j,l,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(D){for(var N,I=1,A=arguments.length;I<A;I++){N=arguments[I];for(var M in N)Object.prototype.hasOwnProperty.call(N,M)&&(D[M]=N[M])}return D},n.apply(this,arguments)},c=this&&this.__createBinding||(Object.create?function(D,N,I,A){A===void 0&&(A=I),Object.defineProperty(D,A,{enumerable:!0,get:function(){return N[I]}})}:function(D,N,I,A){A===void 0&&(A=I),D[A]=N[I]}),u=this&&this.__setModuleDefault||(Object.create?function(D,N){Object.defineProperty(D,"default",{enumerable:!0,value:N})}:function(D,N){D.default=N}),v=this&&this.__importStar||function(D){if(D&&D.__esModule)return D;var N={};if(D!=null)for(var I in D)I!=="default"&&Object.prototype.hasOwnProperty.call(D,I)&&c(N,D,I);return u(N,D),N};Object.defineProperty(l,"__esModule",{value:!0});var O=v(e(99960)),y=e(45863),E=e(17837),d=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function g(D,N){if(D)return Object.keys(D).map(function(I){var A,M,R=(A=D[I])!==null&&A!==void 0?A:"";return N.xmlMode==="foreign"&&(I=(M=E.attributeNames.get(I))!==null&&M!==void 0?M:I),!N.emptyAttrs&&!N.xmlMode&&R===""?I:I+'="'+(N.decodeEntities!==!1?y.encodeXML(R):R.replace(/"/g,"&quot;"))+'"'}).join(" ")}var P=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function S(D,N){N===void 0&&(N={});for(var I=("length"in D)?D:[D],A="",M=0;M<I.length;M++)A+=T(I[M],N);return A}l.default=S;function T(D,N){switch(D.type){case O.Root:return S(D.children,N);case O.Directive:case O.Doctype:return s(D);case O.Comment:return x(D);case O.CDATA:return w(D);case O.Script:case O.Style:case O.Tag:return i(D,N);case O.Text:return _(D,N)}}var C=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),p=new Set(["svg","math"]);function i(D,N){var I;N.xmlMode==="foreign"&&(D.name=(I=E.elementNames.get(D.name))!==null&&I!==void 0?I:D.name,D.parent&&C.has(D.parent.name)&&(N=n(n({},N),{xmlMode:!1}))),!N.xmlMode&&p.has(D.name)&&(N=n(n({},N),{xmlMode:"foreign"}));var A="<"+D.name,M=g(D.attribs,N);return M&&(A+=" "+M),D.children.length===0&&(N.xmlMode?N.selfClosingTags!==!1:N.selfClosingTags&&P.has(D.name))?(N.xmlMode||(A+=" "),A+="/>"):(A+=">",D.children.length>0&&(A+=S(D.children,N)),(N.xmlMode||!P.has(D.name))&&(A+="</"+D.name+">")),A}function s(D){return"<"+D.data+">"}function _(D,N){var I=D.data||"";return N.decodeEntities!==!1&&!(!N.xmlMode&&D.parent&&d.has(D.parent.name))&&(I=y.encodeXML(I)),I}function w(D){return"<![CDATA["+D.children[0].data+"]]>"}function x(D){return"<!--"+D.data+"-->"}},99960:(j,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Doctype=l.CDATA=l.Tag=l.Style=l.Script=l.Comment=l.Directive=l.Text=l.Root=l.isTag=l.ElementType=void 0;var e;(function(c){c.Root="root",c.Text="text",c.Directive="directive",c.Comment="comment",c.Script="script",c.Style="style",c.Tag="tag",c.CDATA="cdata",c.Doctype="doctype"})(e=l.ElementType||(l.ElementType={}));function n(c){return c.type===e.Tag||c.type===e.Script||c.type===e.Style}l.isTag=n,l.Root=e.Root,l.Text=e.Text,l.Directive=e.Directive,l.Comment=e.Comment,l.Script=e.Script,l.Style=e.Style,l.Tag=e.Tag,l.CDATA=e.CDATA,l.Doctype=e.Doctype},47915:function(j,l,e){"use strict";var n=this&&this.__createBinding||(Object.create?function(E,d,g,P){P===void 0&&(P=g),Object.defineProperty(E,P,{enumerable:!0,get:function(){return d[g]}})}:function(E,d,g,P){P===void 0&&(P=g),E[P]=d[g]}),c=this&&this.__exportStar||function(E,d){for(var g in E)g!=="default"&&!Object.prototype.hasOwnProperty.call(d,g)&&n(d,E,g)};Object.defineProperty(l,"__esModule",{value:!0}),l.DomHandler=void 0;var u=e(97790);c(e(97790),l);var v=/\s+/g,O={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},y=function(){function E(d,g,P){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null,typeof g=="function"&&(P=g,g=O),typeof d=="object"&&(g=d,d=void 0),this._callback=d!=null?d:null,this._options=g!=null?g:O,this._elementCB=P!=null?P:null}return E.prototype.onparserinit=function(d){this._parser=d},E.prototype.onreset=function(){var d;this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=(d=this._parser)!==null&&d!==void 0?d:null},E.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this.handleCallback(null))},E.prototype.onerror=function(d){this.handleCallback(d)},E.prototype.onclosetag=function(){this._lastNode=null;var d=this._tagStack.pop();!d||!this._parser||(this._options.withEndIndices&&(d.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(d))},E.prototype.onopentag=function(d,g){var P=new u.Element(d,g);this.addNode(P),this._tagStack.push(P)},E.prototype.ontext=function(d){var g=this._options.normalizeWhitespace,P=this._lastNode;if(P&&P.type==="text")g?P.data=(P.data+d).replace(v," "):P.data+=d;else{g&&(d=d.replace(v," "));var S=new u.Text(d);this.addNode(S),this._lastNode=S}},E.prototype.oncomment=function(d){if(this._lastNode&&this._lastNode.type==="comment"){this._lastNode.data+=d;return}var g=new u.Comment(d);this.addNode(g),this._lastNode=g},E.prototype.oncommentend=function(){this._lastNode=null},E.prototype.oncdatastart=function(){var d=new u.Text(""),g=new u.NodeWithChildren("cdata",[d]);this.addNode(g),d.parent=g,this._lastNode=d},E.prototype.oncdataend=function(){this._lastNode=null},E.prototype.onprocessinginstruction=function(d,g){var P=new u.ProcessingInstruction(d,g);this.addNode(P)},E.prototype.handleCallback=function(d){if(typeof this._callback=="function")this._callback(d,this.dom);else if(d)throw d},E.prototype.addNode=function(d){var g=this._tagStack[this._tagStack.length-1],P=g?g.children:this.dom,S=P[P.length-1];this._parser&&(this._options.withStartIndices&&(d.startIndex=this._parser.startIndex),this._options.withEndIndices&&(d.endIndex=this._parser.endIndex)),P.push(d),S&&(d.prev=S,S.next=d),g&&(d.parent=g),this._lastNode=null},E.prototype.addDataNode=function(d){this.addNode(d),this._lastNode=d},E}();l.DomHandler=y,l.default=y},97790:function(j,l){"use strict";var e=this&&this.__extends||function(){var T=function(C,p){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(i[_]=s[_])},T(C,p)};return function(C,p){T(C,p);function i(){this.constructor=C}C.prototype=p===null?Object.create(p):(i.prototype=p.prototype,new i)}}(),n=this&&this.__assign||function(){return n=Object.assign||function(T){for(var C,p=1,i=arguments.length;p<i;p++){C=arguments[p];for(var s in C)Object.prototype.hasOwnProperty.call(C,s)&&(T[s]=C[s])}return T},n.apply(this,arguments)};Object.defineProperty(l,"__esModule",{value:!0}),l.cloneNode=l.Element=l.NodeWithChildren=l.ProcessingInstruction=l.Comment=l.Text=l.DataNode=l.Node=void 0;var c=new Map([["tag",1],["script",1],["style",1],["directive",1],["text",3],["cdata",4],["comment",8]]),u=function(){function T(C){this.type=C,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(T.prototype,"nodeType",{get:function(){var C;return(C=c.get(this.type))!==null&&C!==void 0?C:1},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"parentNode",{get:function(){return this.parent},set:function(C){this.parent=C},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"previousSibling",{get:function(){return this.prev},set:function(C){this.prev=C},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"nextSibling",{get:function(){return this.next},set:function(C){this.next=C},enumerable:!1,configurable:!0}),T.prototype.cloneNode=function(C){return C===void 0&&(C=!1),P(this,C)},T}();l.Node=u;var v=function(T){e(C,T);function C(p,i){var s=T.call(this,p)||this;return s.data=i,s}return Object.defineProperty(C.prototype,"nodeValue",{get:function(){return this.data},set:function(p){this.data=p},enumerable:!1,configurable:!0}),C}(u);l.DataNode=v;var O=function(T){e(C,T);function C(p){return T.call(this,"text",p)||this}return C}(v);l.Text=O;var y=function(T){e(C,T);function C(p){return T.call(this,"comment",p)||this}return C}(v);l.Comment=y;var E=function(T){e(C,T);function C(p,i){var s=T.call(this,"directive",i)||this;return s.name=p,s}return C}(v);l.ProcessingInstruction=E;var d=function(T){e(C,T);function C(p,i){var s=T.call(this,p)||this;return s.children=i,s}return Object.defineProperty(C.prototype,"firstChild",{get:function(){var p;return(p=this.children[0])!==null&&p!==void 0?p:null},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"childNodes",{get:function(){return this.children},set:function(p){this.children=p},enumerable:!1,configurable:!0}),C}(u);l.NodeWithChildren=d;var g=function(T){e(C,T);function C(p,i,s){s===void 0&&(s=[]);var _=T.call(this,p==="script"?"script":p==="style"?"style":"tag",s)||this;return _.name=p,_.attribs=i,_.attribs=i,_}return Object.defineProperty(C.prototype,"tagName",{get:function(){return this.name},set:function(p){this.name=p},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"attributes",{get:function(){var p=this;return Object.keys(this.attribs).map(function(i){return{name:i,value:p.attribs[i]}})},enumerable:!1,configurable:!0}),C}(d);l.Element=g;function P(T,C){switch(C===void 0&&(C=!1),T.type){case"text":return new O(T.data);case"directive":{var p=T;return new E(p.name,p.data)}case"comment":return new y(T.data);case"tag":case"script":case"style":{var i=T,s=C?S(i.children):[],_=new g(i.name,n({},i.attribs),s);return s.forEach(function(D){return D.parent=_}),_}case"cdata":{var w=T,s=C?S(w.children):[],x=new d("cdata",s);return s.forEach(function(N){return N.parent=x}),x}case"doctype":throw new Error("Not implemented yet: ElementType.Doctype case")}}l.cloneNode=P;function S(T){for(var C=T.map(function(i){return P(i,!0)}),p=1;p<C.length;p++)C[p].prev=C[p-1],C[p-1].next=C[p];return C}},16996:(j,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.getFeed=void 0;var n=e(43346),c=e(23905);function u(C){var p=g(T,C);return p?p.name==="feed"?v(p):O(p):null}l.getFeed=u;function v(C){var p,i=C.children,s={type:"atom",items:(0,c.getElementsByTagName)("entry",i).map(function(x){var D,N=x.children,I={media:d(N)};S(I,"id","id",N),S(I,"title","title",N);var A=(D=g("link",N))===null||D===void 0?void 0:D.attribs.href;A&&(I.link=A);var M=P("summary",N)||P("content",N);M&&(I.description=M);var R=P("updated",N);return R&&(I.pubDate=new Date(R)),I})};S(s,"id","id",i),S(s,"title","title",i);var _=(p=g("link",i))===null||p===void 0?void 0:p.attribs.href;_&&(s.link=_),S(s,"description","subtitle",i);var w=P("updated",i);return w&&(s.updated=new Date(w)),S(s,"author","email",i,!0),s}function O(C){var p,i,s=(i=(p=g("channel",C.children))===null||p===void 0?void 0:p.children)!==null&&i!==void 0?i:[],_={type:C.name.substr(0,3),id:"",items:(0,c.getElementsByTagName)("item",C.children).map(function(x){var D=x.children,N={media:d(D)};S(N,"id","guid",D),S(N,"title","title",D),S(N,"link","link",D),S(N,"description","description",D);var I=P("pubDate",D);return I&&(N.pubDate=new Date(I)),N})};S(_,"title","title",s),S(_,"link","link",s),S(_,"description","description",s);var w=P("lastBuildDate",s);return w&&(_.updated=new Date(w)),S(_,"author","managingEditor",s,!0),_}var y=["url","type","lang"],E=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function d(C){return(0,c.getElementsByTagName)("media:content",C).map(function(p){for(var i=p.attribs,s={medium:i.medium,isDefault:!!i.isDefault},_=0,w=y;_<w.length;_++){var x=w[_];i[x]&&(s[x]=i[x])}for(var D=0,N=E;D<N.length;D++){var x=N[D];i[x]&&(s[x]=parseInt(i[x],10))}return i.expression&&(s.expression=i.expression),s})}function g(C,p){return(0,c.getElementsByTagName)(C,p,!0,1)[0]}function P(C,p,i){return i===void 0&&(i=!1),(0,n.textContent)((0,c.getElementsByTagName)(C,p,i,1)).trim()}function S(C,p,i,s,_){_===void 0&&(_=!1);var w=P(i,s,_);w&&(C[p]=w)}function T(C){return C==="rss"||C==="feed"||C==="rdf:RDF"}},74975:(j,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.uniqueSort=l.compareDocumentPosition=l.removeSubsets=void 0;var n=e(63317);function c(O){for(var y=O.length;--y>=0;){var E=O[y];if(y>0&&O.lastIndexOf(E,y-1)>=0){O.splice(y,1);continue}for(var d=E.parent;d;d=d.parent)if(O.includes(d)){O.splice(y,1);break}}return O}l.removeSubsets=c;function u(O,y){var E=[],d=[];if(O===y)return 0;for(var g=(0,n.hasChildren)(O)?O:O.parent;g;)E.unshift(g),g=g.parent;for(g=(0,n.hasChildren)(y)?y:y.parent;g;)d.unshift(g),g=g.parent;for(var P=Math.min(E.length,d.length),S=0;S<P&&E[S]===d[S];)S++;if(S===0)return 1;var T=E[S-1],C=T.children,p=E[S],i=d[S];return C.indexOf(p)>C.indexOf(i)?T===y?20:4:T===O?10:2}l.compareDocumentPosition=u;function v(O){return O=O.filter(function(y,E,d){return!d.includes(y,E+1)}),O.sort(function(y,E){var d=u(y,E);return d&2?-1:d&4?1:0}),O}l.uniqueSort=v},89432:function(j,l,e){"use strict";var n=this&&this.__createBinding||(Object.create?function(v,O,y,E){E===void 0&&(E=y),Object.defineProperty(v,E,{enumerable:!0,get:function(){return O[y]}})}:function(v,O,y,E){E===void 0&&(E=y),v[E]=O[y]}),c=this&&this.__exportStar||function(v,O){for(var y in v)y!=="default"&&!Object.prototype.hasOwnProperty.call(O,y)&&n(O,v,y)};Object.defineProperty(l,"__esModule",{value:!0}),l.hasChildren=l.isDocument=l.isComment=l.isText=l.isCDATA=l.isTag=void 0,c(e(43346),l),c(e(85010),l),c(e(26765),l),c(e(98043),l),c(e(23905),l),c(e(74975),l),c(e(16996),l);var u=e(63317);Object.defineProperty(l,"isTag",{enumerable:!0,get:function(){return u.isTag}}),Object.defineProperty(l,"isCDATA",{enumerable:!0,get:function(){return u.isCDATA}}),Object.defineProperty(l,"isText",{enumerable:!0,get:function(){return u.isText}}),Object.defineProperty(l,"isComment",{enumerable:!0,get:function(){return u.isComment}}),Object.defineProperty(l,"isDocument",{enumerable:!0,get:function(){return u.isDocument}}),Object.defineProperty(l,"hasChildren",{enumerable:!0,get:function(){return u.hasChildren}})},23905:(j,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.getElementsByTagType=l.getElementsByTagName=l.getElementById=l.getElements=l.testElement=void 0;var n=e(63317),c=e(98043),u={tag_name:function(T){return typeof T=="function"?function(C){return(0,n.isTag)(C)&&T(C.name)}:T==="*"?n.isTag:function(C){return(0,n.isTag)(C)&&C.name===T}},tag_type:function(T){return typeof T=="function"?function(C){return T(C.type)}:function(C){return C.type===T}},tag_contains:function(T){return typeof T=="function"?function(C){return(0,n.isText)(C)&&T(C.data)}:function(C){return(0,n.isText)(C)&&C.data===T}}};function v(T,C){return typeof C=="function"?function(p){return(0,n.isTag)(p)&&C(p.attribs[T])}:function(p){return(0,n.isTag)(p)&&p.attribs[T]===C}}function O(T,C){return function(p){return T(p)||C(p)}}function y(T){var C=Object.keys(T).map(function(p){var i=T[p];return Object.prototype.hasOwnProperty.call(u,p)?u[p](i):v(p,i)});return C.length===0?null:C.reduce(O)}function E(T,C){var p=y(T);return p?p(C):!0}l.testElement=E;function d(T,C,p,i){i===void 0&&(i=1/0);var s=y(T);return s?(0,c.filter)(s,C,p,i):[]}l.getElements=d;function g(T,C,p){return p===void 0&&(p=!0),Array.isArray(C)||(C=[C]),(0,c.findOne)(v("id",T),C,p)}l.getElementById=g;function P(T,C,p,i){return p===void 0&&(p=!0),i===void 0&&(i=1/0),(0,c.filter)(u.tag_name(T),C,p,i)}l.getElementsByTagName=P;function S(T,C,p,i){return p===void 0&&(p=!0),i===void 0&&(i=1/0),(0,c.filter)(u.tag_type(T),C,p,i)}l.getElementsByTagType=S},26765:(j,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.prepend=l.prependChild=l.append=l.appendChild=l.replaceElement=l.removeElement=void 0;function e(y){if(y.prev&&(y.prev.next=y.next),y.next&&(y.next.prev=y.prev),y.parent){var E=y.parent.children;E.splice(E.lastIndexOf(y),1)}}l.removeElement=e;function n(y,E){var d=E.prev=y.prev;d&&(d.next=E);var g=E.next=y.next;g&&(g.prev=E);var P=E.parent=y.parent;if(P){var S=P.children;S[S.lastIndexOf(y)]=E}}l.replaceElement=n;function c(y,E){if(e(E),E.next=null,E.parent=y,y.children.push(E)>1){var d=y.children[y.children.length-2];d.next=E,E.prev=d}else E.prev=null}l.appendChild=c;function u(y,E){e(E);var d=y.parent,g=y.next;if(E.next=g,E.prev=y,y.next=E,E.parent=d,g){if(g.prev=E,d){var P=d.children;P.splice(P.lastIndexOf(g),0,E)}}else d&&d.children.push(E)}l.append=u;function v(y,E){if(e(E),E.parent=y,E.prev=null,y.children.unshift(E)!==1){var d=y.children[1];d.prev=E,E.next=d}else E.next=null}l.prependChild=v;function O(y,E){e(E);var d=y.parent;if(d){var g=d.children;g.splice(g.indexOf(y),0,E)}y.prev&&(y.prev.next=E),E.parent=d,E.prev=y.prev,E.next=y,y.prev=E}l.prepend=O},98043:(j,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.findAll=l.existsOne=l.findOne=l.findOneChild=l.find=l.filter=void 0;var n=e(63317);function c(d,g,P,S){return P===void 0&&(P=!0),S===void 0&&(S=1/0),Array.isArray(g)||(g=[g]),u(d,g,P,S)}l.filter=c;function u(d,g,P,S){for(var T=[],C=0,p=g;C<p.length;C++){var i=p[C];if(d(i)&&(T.push(i),--S<=0))break;if(P&&(0,n.hasChildren)(i)&&i.children.length>0){var s=u(d,i.children,P,S);if(T.push.apply(T,s),S-=s.length,S<=0)break}}return T}l.find=u;function v(d,g){return g.find(d)}l.findOneChild=v;function O(d,g,P){P===void 0&&(P=!0);for(var S=null,T=0;T<g.length&&!S;T++){var C=g[T];if((0,n.isTag)(C))d(C)?S=C:P&&C.children.length>0&&(S=O(d,C.children));else continue}return S}l.findOne=O;function y(d,g){return g.some(function(P){return(0,n.isTag)(P)&&(d(P)||P.children.length>0&&y(d,P.children))})}l.existsOne=y;function E(d,g){for(var P,S=[],T=g.filter(n.isTag),C;C=T.shift();){var p=(P=C.children)===null||P===void 0?void 0:P.filter(n.isTag);p&&p.length>0&&T.unshift.apply(T,p),d(C)&&S.push(C)}return S}l.findAll=E},43346:function(j,l,e){"use strict";var n=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(l,"__esModule",{value:!0}),l.innerText=l.textContent=l.getText=l.getInnerHTML=l.getOuterHTML=void 0;var c=e(63317),u=n(e(97220)),v=e(99960);function O(P,S){return(0,u.default)(P,S)}l.getOuterHTML=O;function y(P,S){return(0,c.hasChildren)(P)?P.children.map(function(T){return O(T,S)}).join(""):""}l.getInnerHTML=y;function E(P){return Array.isArray(P)?P.map(E).join(""):(0,c.isTag)(P)?P.name==="br"?`
`:E(P.children):(0,c.isCDATA)(P)?E(P.children):(0,c.isText)(P)?P.data:""}l.getText=E;function d(P){return Array.isArray(P)?P.map(d).join(""):(0,c.hasChildren)(P)&&!(0,c.isComment)(P)?d(P.children):(0,c.isText)(P)?P.data:""}l.textContent=d;function g(P){return Array.isArray(P)?P.map(g).join(""):(0,c.hasChildren)(P)&&(P.type===v.ElementType.Tag||(0,c.isCDATA)(P))?g(P.children):(0,c.isText)(P)?P.data:""}l.innerText=g},85010:(j,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.prevElementSibling=l.nextElementSibling=l.getName=l.hasAttrib=l.getAttributeValue=l.getSiblings=l.getParent=l.getChildren=void 0;var n=e(63317),c=[];function u(S){var T;return(T=S.children)!==null&&T!==void 0?T:c}l.getChildren=u;function v(S){return S.parent||null}l.getParent=v;function O(S){var T,C,p=v(S);if(p!=null)return u(p);for(var i=[S],s=S.prev,_=S.next;s!=null;)i.unshift(s),T=s,s=T.prev;for(;_!=null;)i.push(_),C=_,_=C.next;return i}l.getSiblings=O;function y(S,T){var C;return(C=S.attribs)===null||C===void 0?void 0:C[T]}l.getAttributeValue=y;function E(S,T){return S.attribs!=null&&Object.prototype.hasOwnProperty.call(S.attribs,T)&&S.attribs[T]!=null}l.hasAttrib=E;function d(S){return S.name}l.getName=d;function g(S){for(var T,C=S.next;C!==null&&!(0,n.isTag)(C);)T=C,C=T.next;return C}l.nextElementSibling=g;function P(S){for(var T,C=S.prev;C!==null&&!(0,n.isTag)(C);)T=C,C=T.prev;return C}l.prevElementSibling=P},63317:function(j,l,e){"use strict";var n=this&&this.__createBinding||(Object.create?function(d,g,P,S){S===void 0&&(S=P);var T=Object.getOwnPropertyDescriptor(g,P);(!T||("get"in T?!g.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return g[P]}}),Object.defineProperty(d,S,T)}:function(d,g,P,S){S===void 0&&(S=P),d[S]=g[P]}),c=this&&this.__exportStar||function(d,g){for(var P in d)P!=="default"&&!Object.prototype.hasOwnProperty.call(g,P)&&n(g,d,P)};Object.defineProperty(l,"__esModule",{value:!0}),l.DomHandler=void 0;var u=e(99960),v=e(50943);c(e(50943),l);var O=/\s+/g,y={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},E=function(){function d(g,P,S){this.dom=[],this.root=new v.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof P=="function"&&(S=P,P=y),typeof g=="object"&&(P=g,g=void 0),this.callback=g!=null?g:null,this.options=P!=null?P:y,this.elementCB=S!=null?S:null}return d.prototype.onparserinit=function(g){this.parser=g},d.prototype.onreset=function(){this.dom=[],this.root=new v.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},d.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},d.prototype.onerror=function(g){this.handleCallback(g)},d.prototype.onclosetag=function(){this.lastNode=null;var g=this.tagStack.pop();this.options.withEndIndices&&(g.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(g)},d.prototype.onopentag=function(g,P){var S=this.options.xmlMode?u.ElementType.Tag:void 0,T=new v.Element(g,P,void 0,S);this.addNode(T),this.tagStack.push(T)},d.prototype.ontext=function(g){var P=this.options.normalizeWhitespace,S=this.lastNode;if(S&&S.type===u.ElementType.Text)P?S.data=(S.data+g).replace(O," "):S.data+=g,this.options.withEndIndices&&(S.endIndex=this.parser.endIndex);else{P&&(g=g.replace(O," "));var T=new v.Text(g);this.addNode(T),this.lastNode=T}},d.prototype.oncomment=function(g){if(this.lastNode&&this.lastNode.type===u.ElementType.Comment){this.lastNode.data+=g;return}var P=new v.Comment(g);this.addNode(P),this.lastNode=P},d.prototype.oncommentend=function(){this.lastNode=null},d.prototype.oncdatastart=function(){var g=new v.Text(""),P=new v.NodeWithChildren(u.ElementType.CDATA,[g]);this.addNode(P),g.parent=P,this.lastNode=g},d.prototype.oncdataend=function(){this.lastNode=null},d.prototype.onprocessinginstruction=function(g,P){var S=new v.ProcessingInstruction(g,P);this.addNode(S)},d.prototype.handleCallback=function(g){if(typeof this.callback=="function")this.callback(g,this.dom);else if(g)throw g},d.prototype.addNode=function(g){var P=this.tagStack[this.tagStack.length-1],S=P.children[P.children.length-1];this.options.withStartIndices&&(g.startIndex=this.parser.startIndex),this.options.withEndIndices&&(g.endIndex=this.parser.endIndex),P.children.push(g),S&&(g.prev=S,S.next=g),g.parent=P,this.lastNode=null},d}();l.DomHandler=E,l.default=E},50943:function(j,l,e){"use strict";var n=this&&this.__extends||function(){var I=function(A,M){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,F){R.__proto__=F}||function(R,F){for(var Z in F)Object.prototype.hasOwnProperty.call(F,Z)&&(R[Z]=F[Z])},I(A,M)};return function(A,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");I(A,M);function R(){this.constructor=A}A.prototype=M===null?Object.create(M):(R.prototype=M.prototype,new R)}}(),c=this&&this.__assign||function(){return c=Object.assign||function(I){for(var A,M=1,R=arguments.length;M<R;M++){A=arguments[M];for(var F in A)Object.prototype.hasOwnProperty.call(A,F)&&(I[F]=A[F])}return I},c.apply(this,arguments)};Object.defineProperty(l,"__esModule",{value:!0}),l.cloneNode=l.hasChildren=l.isDocument=l.isDirective=l.isComment=l.isText=l.isCDATA=l.isTag=l.Element=l.Document=l.NodeWithChildren=l.ProcessingInstruction=l.Comment=l.Text=l.DataNode=l.Node=void 0;var u=e(99960),v=new Map([[u.ElementType.Tag,1],[u.ElementType.Script,1],[u.ElementType.Style,1],[u.ElementType.Directive,1],[u.ElementType.Text,3],[u.ElementType.CDATA,4],[u.ElementType.Comment,8],[u.ElementType.Root,9]]),O=function(){function I(A){this.type=A,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(I.prototype,"nodeType",{get:function(){var A;return(A=v.get(this.type))!==null&&A!==void 0?A:1},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"parentNode",{get:function(){return this.parent},set:function(A){this.parent=A},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"previousSibling",{get:function(){return this.prev},set:function(A){this.prev=A},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"nextSibling",{get:function(){return this.next},set:function(A){this.next=A},enumerable:!1,configurable:!0}),I.prototype.cloneNode=function(A){return A===void 0&&(A=!1),D(this,A)},I}();l.Node=O;var y=function(I){n(A,I);function A(M,R){var F=I.call(this,M)||this;return F.data=R,F}return Object.defineProperty(A.prototype,"nodeValue",{get:function(){return this.data},set:function(M){this.data=M},enumerable:!1,configurable:!0}),A}(O);l.DataNode=y;var E=function(I){n(A,I);function A(M){return I.call(this,u.ElementType.Text,M)||this}return A}(y);l.Text=E;var d=function(I){n(A,I);function A(M){return I.call(this,u.ElementType.Comment,M)||this}return A}(y);l.Comment=d;var g=function(I){n(A,I);function A(M,R){var F=I.call(this,u.ElementType.Directive,R)||this;return F.name=M,F}return A}(y);l.ProcessingInstruction=g;var P=function(I){n(A,I);function A(M,R){var F=I.call(this,M)||this;return F.children=R,F}return Object.defineProperty(A.prototype,"firstChild",{get:function(){var M;return(M=this.children[0])!==null&&M!==void 0?M:null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"childNodes",{get:function(){return this.children},set:function(M){this.children=M},enumerable:!1,configurable:!0}),A}(O);l.NodeWithChildren=P;var S=function(I){n(A,I);function A(M){return I.call(this,u.ElementType.Root,M)||this}return A}(P);l.Document=S;var T=function(I){n(A,I);function A(M,R,F,Z){F===void 0&&(F=[]),Z===void 0&&(Z=M==="script"?u.ElementType.Script:M==="style"?u.ElementType.Style:u.ElementType.Tag);var V=I.call(this,Z,F)||this;return V.name=M,V.attribs=R,V}return Object.defineProperty(A.prototype,"tagName",{get:function(){return this.name},set:function(M){this.name=M},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"attributes",{get:function(){var M=this;return Object.keys(this.attribs).map(function(R){var F,Z;return{name:R,value:M.attribs[R],namespace:(F=M["x-attribsNamespace"])===null||F===void 0?void 0:F[R],prefix:(Z=M["x-attribsPrefix"])===null||Z===void 0?void 0:Z[R]}})},enumerable:!1,configurable:!0}),A}(P);l.Element=T;function C(I){return(0,u.isTag)(I)}l.isTag=C;function p(I){return I.type===u.ElementType.CDATA}l.isCDATA=p;function i(I){return I.type===u.ElementType.Text}l.isText=i;function s(I){return I.type===u.ElementType.Comment}l.isComment=s;function _(I){return I.type===u.ElementType.Directive}l.isDirective=_;function w(I){return I.type===u.ElementType.Root}l.isDocument=w;function x(I){return Object.prototype.hasOwnProperty.call(I,"children")}l.hasChildren=x;function D(I,A){A===void 0&&(A=!1);var M;if(i(I))M=new E(I.data);else if(s(I))M=new d(I.data);else if(C(I)){var R=A?N(I.children):[],F=new T(I.name,c({},I.attribs),R);R.forEach(function($){return $.parent=F}),I.namespace!=null&&(F.namespace=I.namespace),I["x-attribsNamespace"]&&(F["x-attribsNamespace"]=c({},I["x-attribsNamespace"])),I["x-attribsPrefix"]&&(F["x-attribsPrefix"]=c({},I["x-attribsPrefix"])),M=F}else if(p(I)){var R=A?N(I.children):[],Z=new P(u.ElementType.CDATA,R);R.forEach(function(K){return K.parent=Z}),M=Z}else if(w(I)){var R=A?N(I.children):[],V=new S(R);R.forEach(function(K){return K.parent=V}),I["x-mode"]&&(V["x-mode"]=I["x-mode"]),M=V}else if(_(I)){var G=new g(I.name,I.data);I["x-name"]!=null&&(G["x-name"]=I["x-name"],G["x-publicId"]=I["x-publicId"],G["x-systemId"]=I["x-systemId"]),M=G}else throw new Error("Not implemented yet: ".concat(I.type));return M.startIndex=I.startIndex,M.endIndex=I.endIndex,I.sourceCodeLocation!=null&&(M.sourceCodeLocation=I.sourceCodeLocation),M}l.cloneNode=D;function N(I){for(var A=I.map(function(R){return D(R,!0)}),M=1;M<A.length;M++)A[M].prev=A[M-1],A[M-1].next=A[M];return A}},62378:j=>{"use strict";j.exports=function(e){for(var n=[],c=e.length,u=0;u<c;u++){var v=e.charCodeAt(u);if(v>=55296&&v<=56319&&c>u+1){var O=e.charCodeAt(u+1);O>=56320&&O<=57343&&(v=(v-55296)*1024+O-56320+65536,u+=1)}if(v<128){n.push(v);continue}if(v<2048){n.push(v>>6|192),n.push(v&63|128);continue}if(v<55296||v>=57344&&v<65536){n.push(v>>12|224),n.push(v>>6&63|128),n.push(v&63|128);continue}if(v>=65536&&v<=1114111){n.push(v>>18|240),n.push(v>>12&63|128),n.push(v>>6&63|128),n.push(v&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer}},44076:function(j,l,e){"use strict";var n=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(l,"__esModule",{value:!0}),l.decodeHTML=l.decodeHTMLStrict=l.decodeXML=void 0;var c=n(e(59323)),u=n(e(29591)),v=n(e(2586)),O=n(e(26)),y=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;l.decodeXML=E(v.default),l.decodeHTMLStrict=E(c.default);function E(P){var S=g(P);return function(T){return String(T).replace(y,S)}}var d=function(P,S){return P<S?1:-1};l.decodeHTML=function(){for(var P=Object.keys(u.default).sort(d),S=Object.keys(c.default).sort(d),T=0,C=0;T<S.length;T++)P[C]===S[T]?(S[T]+=";?",C++):S[T]+=";";var p=new RegExp("&(?:"+S.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),i=g(c.default);function s(_){return _.substr(-1)!==";"&&(_+=";"),i(_)}return function(_){return String(_).replace(p,s)}}();function g(P){return function(T){if(T.charAt(1)==="#"){var C=T.charAt(2);return C==="X"||C==="x"?O.default(parseInt(T.substr(3),16)):O.default(parseInt(T.substr(2),10))}return P[T.slice(1,-1)]||T}}},26:function(j,l,e){"use strict";var n=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(l,"__esModule",{value:!0});var c=n(e(33600)),u=String.fromCodePoint||function(O){var y="";return O>65535&&(O-=65536,y+=String.fromCharCode(O>>>10&1023|55296),O=56320|O&1023),y+=String.fromCharCode(O),y};function v(O){return O>=55296&&O<=57343||O>1114111?"\uFFFD":(O in c.default&&(O=c.default[O]),u(O))}l.default=v},87322:function(j,l,e){"use strict";var n=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(l,"__esModule",{value:!0}),l.escapeUTF8=l.escape=l.encodeNonAsciiHTML=l.encodeHTML=l.encodeXML=void 0;var c=n(e(2586)),u=d(c.default),v=g(u);l.encodeXML=_(u);var O=n(e(59323)),y=d(O.default),E=g(y);l.encodeHTML=C(y,E),l.encodeNonAsciiHTML=_(y);function d(w){return Object.keys(w).sort().reduce(function(x,D){return x[w[D]]="&"+D+";",x},{})}function g(w){for(var x=[],D=[],N=0,I=Object.keys(w);N<I.length;N++){var A=I[N];A.length===1?x.push("\\"+A):D.push(A)}x.sort();for(var M=0;M<x.length-1;M++){for(var R=M;R<x.length-1&&x[R].charCodeAt(1)+1===x[R+1].charCodeAt(1);)R+=1;var F=1+R-M;F<3||x.splice(M,F,x[M]+"-"+x[R])}return D.unshift("["+x.join("")+"]"),new RegExp(D.join("|"),"g")}var P=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,S=String.prototype.codePointAt!=null?function(w){return w.codePointAt(0)}:function(w){return(w.charCodeAt(0)-55296)*1024+w.charCodeAt(1)-56320+65536};function T(w){return"&#x"+(w.length>1?S(w):w.charCodeAt(0)).toString(16).toUpperCase()+";"}function C(w,x){return function(D){return D.replace(x,function(N){return w[N]}).replace(P,T)}}var p=new RegExp(v.source+"|"+P.source,"g");function i(w){return w.replace(p,T)}l.escape=i;function s(w){return w.replace(v,T)}l.escapeUTF8=s;function _(w){return function(x){return x.replace(p,function(D){return w[D]||T(D)})}}},45863:(j,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.decodeXMLStrict=l.decodeHTML5Strict=l.decodeHTML4Strict=l.decodeHTML5=l.decodeHTML4=l.decodeHTMLStrict=l.decodeHTML=l.decodeXML=l.encodeHTML5=l.encodeHTML4=l.escapeUTF8=l.escape=l.encodeNonAsciiHTML=l.encodeHTML=l.encodeXML=l.encode=l.decodeStrict=l.decode=void 0;var n=e(44076),c=e(87322);function u(d,g){return(!g||g<=0?n.decodeXML:n.decodeHTML)(d)}l.decode=u;function v(d,g){return(!g||g<=0?n.decodeXML:n.decodeHTMLStrict)(d)}l.decodeStrict=v;function O(d,g){return(!g||g<=0?c.encodeXML:c.encodeHTML)(d)}l.encode=O;var y=e(87322);Object.defineProperty(l,"encodeXML",{enumerable:!0,get:function(){return y.encodeXML}}),Object.defineProperty(l,"encodeHTML",{enumerable:!0,get:function(){return y.encodeHTML}}),Object.defineProperty(l,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return y.encodeNonAsciiHTML}}),Object.defineProperty(l,"escape",{enumerable:!0,get:function(){return y.escape}}),Object.defineProperty(l,"escapeUTF8",{enumerable:!0,get:function(){return y.escapeUTF8}}),Object.defineProperty(l,"encodeHTML4",{enumerable:!0,get:function(){return y.encodeHTML}}),Object.defineProperty(l,"encodeHTML5",{enumerable:!0,get:function(){return y.encodeHTML}});var E=e(44076);Object.defineProperty(l,"decodeXML",{enumerable:!0,get:function(){return E.decodeXML}}),Object.defineProperty(l,"decodeHTML",{enumerable:!0,get:function(){return E.decodeHTML}}),Object.defineProperty(l,"decodeHTMLStrict",{enumerable:!0,get:function(){return E.decodeHTMLStrict}}),Object.defineProperty(l,"decodeHTML4",{enumerable:!0,get:function(){return E.decodeHTML}}),Object.defineProperty(l,"decodeHTML5",{enumerable:!0,get:function(){return E.decodeHTML}}),Object.defineProperty(l,"decodeHTML4Strict",{enumerable:!0,get:function(){return E.decodeHTMLStrict}}),Object.defineProperty(l,"decodeHTML5Strict",{enumerable:!0,get:function(){return E.decodeHTMLStrict}}),Object.defineProperty(l,"decodeXMLStrict",{enumerable:!0,get:function(){return E.decodeXML}})},14531:(j,l,e)=>{"use strict";e.d(l,{A:()=>n});const n={postAuthor:"custom-css-email-post-author",avatar:"custom-css-email-avatar",digestPostEmbed:"custom-css-email-digest-post-embed"}},82626:(j,l,e)=>{"use strict";e.d(l,{Substitutions:()=>n});const n={PLAY_ON_SUBSTACK:"%%play_on_substack_url%%",PLAY_ON_SUBSTACK_UFI:"%%play_on_substack_ufi_url%%",POST_URL:"%%post_url%%",POST_TITLE_URL:"%%post_title_url%%",NAME:"%%name%%",FIRST_NAME:"%%first_name%%",FIRST_NAME_NO_SPACE:"%%first_name_no_space%%",SUBSCRIBE_URL:"%%subscribe_url%%",UNSUBSCRIBE_URL:"%%unsubscribe_url%%",ONE_CLICK_UNSUBSCRIBE_URL:"%%one_click_unsubscribe_url%%",CHECKOUT_URL:"%%checkout_url%%",FOUNDING_CHECKOUT_URL:"%%founding_checkout_url%%",ACTIVITY_PAGE_URL:"%%activity_page_url%%",ACCOUNT_URL:"%%account_url%%",ARCHIVE_URL:"%%archive_url%%",PUBLICATION_NAME:"%%publication_name%%",PUBLICATION_HERO_TEXT:"%%publication_hero_text%%",AUTHOR_NAME:"%%author_name%%",AUTHOR_FIRST_NAME:"%%author_first_name%%",AUTHOR_BIO:"%%author_bio%%",AUTHOR_PHOTO_URL:"%%author_photo_url%%",SHARE_URL:"%%share_url%%",SHARE_PUB_URL:"%%share_pub_url%%",PODCAST_SETUP_URL:"%%podcast_setup_url%%",PERSONAL_PODCAST_SETUP_URL:"%%personal_podcast_setup_url%%",ALL_PODCASTS_SETUP_URL:"%%all_podcasts_setup_url%%",HOME_LINK:"%%home_link%%",THREAD_URL:"%%thread_url%%",CHAT_URL:"%%chat_url%%",MEETINGS_URL:"%%meetings_url%%",DASHBOARD_URL:"%%dashboard_url%%",CONTINUE_URL:"%%continue_url%%",LEADERBOARD_URL:"%%leaderboard_url%%",PAID_SUBSCRIPTION_BENEFITS_1:"%%paid_subscription_benefits_1%%",PAID_SUBSCRIPTION_BENEFITS_2:"%%paid_subscription_benefits_2%%",PAID_SUBSCRIPTION_BENEFITS_3:"%%paid_subscription_benefits_3%%",PAID_OR_FOUNDING_TIER_NAME:"%%paid_or_founding_tier_name%%",PUBLICATION_URL:"%%publication_url%%",MAGIC_UNLINK_URL:"%%magic_unlink_url%%",TWITTER_SCREEN_NAME:"%%twitter_screen_name%%",REFERRAL_URL:"%%referral_url%%",PRINTED_REFERRAL_URL:"%%printed_referral_url%%",COMMENTS_URL:"%%comments_url%%",HALF_MAGIC_COMMENTS_URL:"%%half_magic_comments_url%%",MAGIC_AMP_COMMENTS_URL:"%%magic_amp_comments_url%%",POST_APP_LINK_URL:"%%post_app_link_url%%",POST_APP_LINK_PLAY_URL:"%%post_app_link_play_url%%",SUBSCRIPTION_TYPE:"%%subscription_type%%",SUBSCRIPTION_DAYS_LEFT:"%%subscription_days_left%%",SUBSCRIPTION_DAYS_LEFT_LABEL:"%%subscription_days_left_label%%",SUBSCRIPTION_EXPIRY_DATE:"%%subscription_expiry_date%%",REACTION_URL:"%%reaction_url%%",HALF_POST_URL:"%%half_post_url%%",RELATED_PUB_URL:"%%related_pub_url%%",RELATED_PUB_DOMAIN:"%%related_pub_domain%%",REPLY_TO_AUTHOR:"%%reply_to_author%%",REPLY_TO_AUTHOR_PLUS:"%%reply_to_author_plus%%",REPLY_TO_FORUM:"%%reply_to_forum%%",REPLY_TO_FORUM_PLUS:"%%reply_to_forum_plus%%",SAVE_POST_URL:"%%save_post_url%%",RESTACK_URL:"%%restack_url%%",RESTACK_COMMENT_URL:"%%restack_comment_url%%",POST_UNSUBSCRIBE_URL:"%%post_unsubscribe_url%%",COMMENT_URL:"%%comment_url%%",COMMENTER_FROM_NAME:"%%commenter_from_name%%",COMMENTER_NAME:"%%commenter_name%%",COMMENT_REPLY_URL:"%%comment_reply_url%%",PARENT_COMMENT_URL:"%%parent_comment_url%%",REACTOR_FROM_NAMES:"%%reactor_from_names%%",REACTOR_NAMES:"%%reactor_names%%",RENEWAL_URL:"%%renewal_url%%",NUM_REFERRALS_REQUIRED:"%%num_referrals_required%%",REWARD_DESCRIPTION:"%%reward_description%%",FILE_DOWNLOAD_TOKEN:"%%file_download_token%%",COUPON_URL:"%%coupon_url%%",START_WRITING_URL:"%%start_writing_url%%",PREACT_COMPAT_HTML_COMMENT_OPEN:"<x_preact_compatible_html_comment_x>",PREACT_COMPAT_HTML_COMMENT_CLOSE:"</x_preact_compatible_html_comment_x>",USER_ID:"%%user_id%%",USER_ID_B36:"%%user_id_b36%%",USER_ID_JWT:"%%user_id_jwt%%",FIRST_NOTE_EMBED:"%%first_note_embed%%"}},91004:(j,l,e)=>{"use strict";e.d(l,{B8:()=>V,BZ:()=>F,I:()=>w,O1:()=>G,Po:()=>Z,Ui:()=>M,Vn:()=>A,WZ:()=>R,Wn:()=>x,b6:()=>I,lc:()=>D,sn:()=>N});var n=e(4605),c=e(3258),u=e(90304),v=e(39419),O=e.n(v),y=e(15045),E=e(70444),d=e(83322),g=Object.defineProperty,P=Object.defineProperties,S=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,i=($,K,H)=>K in $?g($,K,{enumerable:!0,configurable:!0,writable:!0,value:H}):$[K]=H,s=($,K)=>{for(var H in K||(K={}))C.call(K,H)&&i($,H,K[H]);if(T)for(var H of T(K))p.call(K,H)&&i($,H,K[H]);return $},_=($,K)=>P($,S(K));function w($,K,H){const{shareUrl:re,post:ee,pub:Y,selectionId:J,utm_campaign:te,utm_medium:ie,event:se=c.FP.SHARE_LINK_CLICKED}=H;(0,c.j)(se,_(s({name:$,post_id:ee?ee.id:null},J?{selection_id:J}:{}),{source:te,utm_medium:ie}));const W=K(re);W&&typeof W=="string"&&(W.startsWith("http")?window.open(W,"_blank"):document.location.href=W),(0,u.ex)(`${Y==null?void 0:Y.subdomain} shared`,!0)}function x($){const{pub:K,post:H,sharingSelfPub:re,shareName:ee}=$,Y=(K==null?void 0:K.twitter_screen_name)||K&&d.twitterScreenNames[K.subdomain];let J=ee;K&&re?J="I just started a Substack! You can subscribe to it here":(K&&!H&&(J=`Subscribe to ${J}`),Y&&(!H||K&&(!H.publishedBylines.length||H.publishedBylines.some(te=>te.id===K.author_id)))&&(J+=`, by @${Y}`)),w("twitter",te=>(0,y.pathWithQuery)("https://twitter.com/share",{url:te,text:J}),$)}function D($){w("linkedin",K=>(0,y.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:K}),$)}function N($){w("reddit",K=>(0,y.pathWithQuery)("https://www.reddit.com/submit/",{url:K,title:$.shareName}),$)}function I($){w("hackernews",K=>(0,y.pathWithQuery)("https://news.ycombinator.com/submitlink",{url:K,title:$.shareName}),$)}function A($){w("pinterest",K=>(0,y.pathWithQuery)("https://www.pinterest.com/pin/create/button",{u:K,description:$.shareName}),$)}function M($){var K;const{iString:H}=I18N.i(((K=$.pub)==null?void 0:K.language)||"en");w("copy",re=>((0,v.copyToClipboard)(re),!1),$),$.skipToast||(0,n.ZP)(H("Link copied to clipboard"))}function R($){w("email",K=>(0,y.pathWithQuery)("mailto:",{subject:$.shareName,body:K}),$)}function F($){w("notes",K=>(0,y.pathWithQuery)((0,E.getCreateNotesUrl)({message:K})),$)}function Z($){w("facebook",K=>(0,y.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:K}),$)}function V($={}){const{post:K,pub:H,profile:re}=$;return K?K.title:H?H.name:re?`${re.name} on Substack`:document.title}function G($,K={}){const{pub:H,post:re,clip:ee,comments:Y,commentId:J,selectionId:te,profile:ie,user:se,utm_campaign:W,medium:z,referral_token:Q,useCustomDomainOverOpen:oe}=K,ne=s(s({r:se!=null&&se.id?(0,d.userReferralKey)(se):Q,selection:te,utm_campaign:W||(re?"post":ie?"profile":H?"pub":ee?"clip":"unknown"),utm_medium:z||"web",utm_source:$},{comments:Y!=null&&Y.length?!0:void 0,commentId:J}),ee?{clipId:ee.id}:{});return H!=null&&H.subdomain&&(re!=null&&re.slug)&&!ee?(0,y.getPostAppLinkUrl)(H.subdomain,re.slug,{params:ne,hostOverride:oe&&H.custom_domain?(0,y.getBaseUrl)(H):null}):(0,y.pathWithQuery)(`${re?(0,y.getPostUrl)(H,re,{comments:!!(Y!=null&&Y.length),commentId:J,clipId:ee==null?void 0:ee.id}):H?`${H.base_url}/`:typeof window!="undefined"?window.location.href.split("?")[0]:""}`,ne)}},35570:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(30396);const c=({root:u=null,threshold:v=0,rootMargin:O}={})=>{if(typeof window=="undefined"||typeof IntersectionObserver=="undefined")return[null,null];const[y,E]=(0,n.eJ)(null),[d,g]=(0,n.eJ)(null),P=(0,n.sO)(new IntersectionObserver(([S])=>E(S),{root:u,threshold:v,rootMargin:O}));return(0,n.d4)(()=>{var S;const T=(S=d==null?void 0:d.base)!=null&&S.addEventListener?d.base:d!=null&&d.addEventListener?d:null,{current:C}=P;return C.disconnect(),T&&C.observe(T),()=>C.disconnect()},[d]),[g,y]}},36487:(j,l,e)=>{"use strict";e.d(l,{u:()=>c});var n=e(83322);function c(u){let v;try{v=new URL(u)}catch(E){return console.error("Failed to parse URL",u,E),u}v.hostname=v.hostname.replace(/^www\./,""),v.pathname=v.pathname.replace(/\/+$/,""),v.hash="";const O=[];v.hostname.includes("youtube")&&O.push("v"),v.searchParams.forEach((E,d)=>{O.includes(d)||v.searchParams.delete(d)});const y=v.toString().replace(/^\w+:\/\//,"").replace(/\/+$/,"");return y?(0,n.truncateText)(y,40):u}},55687:(j,l,e)=>{"use strict";e.d(l,{u:()=>c});const n=Intl.NumberFormat(void 0,{maximumSignificantDigits:4});function c(O){return n.format(O)}const u=new Intl.NumberFormat(void 0,{maximumSignificantDigits:3,notation:"compact"});function v(O){return u.format(O)}},80076:(j,l,e)=>{"use strict";e.d(l,{d:()=>n});function n(c){return Array.from(c.items).filter(u=>u.kind==="file"&&u.type.startsWith("image/")).length>0}},62952:(j,l,e)=>{"use strict";e.d(l,{h:()=>u});var n=e(30396),c=e(80076);function u({onAddFiles:v}){const O=(0,n.sO)(),y=(0,n.sO)(),[E,d]=(0,n.eJ)(!1),g=C=>{C instanceof DragEvent&&!C.defaultPrevented&&C.dataTransfer&&(0,c.d)(C.dataTransfer)&&(C.preventDefault(),v(Array.from(C.dataTransfer.files)),d(!1))},P=C=>{const{current:p}=O,{target:i}=C;!E&&p&&i&&i instanceof HTMLDivElement&&(p===i||p.contains(i))&&C.dataTransfer&&(0,c.d)(C.dataTransfer)&&(C.preventDefault(),y.current=i,d(!0))},S=C=>{y.current&&C.preventDefault()},T=C=>{const{current:p}=y;p&&C.relatedTarget!==p&&!p.contains(C.relatedTarget)&&(y.current=void 0,d(!1))};return{isDragging:E,props:{onDragEnter:P,onDragOver:S,onDragLeave:T,onDragEnd:T,onDrop:g,ref:O}}}},95406:(j,l,e)=>{"use strict";e.d(l,{Z:()=>H});var n=e(30396),c=e(45895);const u=["listItem","codeBlock","heading","paragraph"];function v(Y){var J,te;let ie=0;if(Y)if(Y.content&&Y.content.length>0)for(const se of Y.content)ie+=v(se);else ie+=(te=(J=Y.text)==null?void 0:J.length)!=null?te:0;return ie}function O(Y){let J=0;return(0,c.forEachNode)(Y,te=>{u.includes(te.type)&&(te.type==="codeBlock"&&te.content?te.content.forEach(ie=>{var se,W;ie.type==="text"&&(J+=((W=((se=ie.text)!=null?se:"").match(/\n/g))!=null?W:[]).length+1)}):J++)}),J}var y=e(83322),E=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,C=(Y,J,te)=>J in Y?E(Y,J,{enumerable:!0,configurable:!0,writable:!0,value:te}):Y[J]=te,p=(Y,J)=>{for(var te in J||(J={}))S.call(J,te)&&C(Y,te,J[te]);if(P)for(var te of P(J))T.call(J,te)&&C(Y,te,J[te]);return Y},i=(Y,J)=>d(Y,g(J));function s(Y,{limit:J=420}={}){var te,ie,se,W;let z=null,Q=0,oe=!1;if(Y)if(J<=0)oe=!0;else if(Y.content&&Y.content.length>0){z=i(p({},Y),{content:[]});for(const ne of Y.content){const ae=s(ne,{limit:J-Q});if(ae.doc){if((te=z.content)==null||te.push(ae.doc),Q+=ae.length,ae.isTruncated){oe=!0;break}}else{oe=!0;break}}}else z=i(p({},Y),{text:(ie=(0,y.truncateText)(Y.text,J))!=null?ie:void 0}),Q+=(W=(se=z.text)==null?void 0:se.length)!=null?W:0,Y.text!==z.text&&(oe=!0);return{doc:z,length:Q,isTruncated:oe}}function _(Y,J){var te;const ie=[];let se=!1,W=0;for(const Q of(te=Y.content)!=null?te:[]){if(Q.type&&u.includes(Q.type)){if(W++,W===J){se=!0,ie.push(Q);break}}else if(Q.content){const oe=_(Q,J-W);if(W+=oe.blockCount,oe.isTruncated){ie.push(oe.doc),se=!0;break}}ie.push(Q)}const z=i(p({},Y),{content:ie});return Y.text&&(z.text=Y.text.split(/\n/g).slice(0,J).join(`
`)),{doc:z,blockCount:W,isTruncated:se}}var w=e(36487),x=Object.defineProperty,D=Object.defineProperties,N=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,R=(Y,J,te)=>J in Y?x(Y,J,{enumerable:!0,configurable:!0,writable:!0,value:te}):Y[J]=te,F=(Y,J)=>{for(var te in J||(J={}))A.call(J,te)&&R(Y,te,J[te]);if(I)for(var te of I(J))M.call(J,te)&&R(Y,te,J[te]);return Y},Z=(Y,J)=>D(Y,N(J));const V=420,G=380,$=9,K=12;function H(Y,{characterTruncationLimit:J=V,characterTruncationThreshold:te=G,lineTruncationLimit:ie=$,lineTruncationThreshold:se=K}={}){return(0,n.Ye)(()=>{var W;const z=(W=Y==null?void 0:Y.body_json)!=null?W:Y!=null&&Y.body?re(Y.body):null,Q=ee(z),oe=v(Q)>te,ne=O(Q)>se;if(!Q||!(oe||ne))return{bodyJson:Q,truncatedBodyJson:Q,isTruncated:!1};let ae=Q,le=!1;if(oe){const fe=s(ae,{limit:J});ae=fe.doc,le=fe.isTruncated}let ue=!1;if(ne&&ae){const fe=_(ae,ie);ae=fe.doc,ue=fe.isTruncated}return{bodyJson:Q,truncatedBodyJson:ae,isTruncated:le||ue}},[Y==null?void 0:Y.body,Y==null?void 0:Y.body_json])}function re(Y){return{type:"doc",attrs:{schemaVersion:"v1"},content:Y.split(`

`).map(J=>({type:"paragraph",content:[{type:"text",text:J}]}))}}function ee(Y){var J,te;let ie=null;if(Y)if(ie=Z(F({},Y),{content:void 0,text:void 0}),Y!=null&&Y.content){ie.content=[];for(const se of Y.content){const W=ee(se);W&&ie.content.push(W)}}else{const se=(J=Y.marks)==null?void 0:J.find(W=>W.type==="link");(te=se==null?void 0:se.attrs)!=null&&te.href?ie.text=(0,w.u)(se.attrs.href):ie.text=Y.text}return ie}},81176:(j,l,e)=>{"use strict";e.d(l,{M:()=>u});var n=e(30396);let c=0;function u(v="",O=[]){return(0,n.Ye)(()=>(c++,c=c>Number.MAX_SAFE_INTEGER?1:c,`${v}${c}`),O)}},41487:(j,l,e)=>{"use strict";e.d(l,{Q:()=>E});var n=e(30396),c=e(8479),u=e(76193),v=e(39419),O=e.n(v),y=(d,g,P)=>new Promise((S,T)=>{var C=s=>{try{i(P.next(s))}catch(_){T(_)}},p=s=>{try{i(P.throw(s))}catch(_){T(_)}},i=s=>s.done?S(s.value):Promise.resolve(s.value).then(C,p);i((P=P.apply(d,g)).next())});function E(d){const[g,P]=(0,n.eJ)(""),[S,T]=(0,n.eJ)(""),[C,p]=(0,n.eJ)({}),[i,s]=(0,n.eJ)(!1);(0,n.d4)(()=>{(0,u.isMobile)()&&navigator.share&&navigator.canShare(C)&&s(!0)},[C]),(0,n.d4)(()=>{function x(){return y(this,null,function*(){var D;P("");const N=d.imageUrl;if((0,v.preloadImage)(d.imageUrl,()=>{P(N),T(d.imageDownloadUrl)}),(0,u.isMobile)()){const I=yield fetch(d.imageUrlSameOrigin||N),A=["instagram","instagram-stories"].includes((D=d.shareApp)!=null?D:"");p({title:A?void 0:d.shareTitle,text:A?void 0:d.shareText,files:[new File([yield I.blob()],"image.png",{type:"image/png"})],url:A?void 0:d.shareUrl})}})}x()},[d.imageDownloadUrl,d.imageUrl,d.shareApp,d.shareText,d.shareTitle,d.shareUrl]);const{refetch:_}=(0,c.Q1)({method:"post",pathname:"/api/v1/press_kit/notification",body:{title:d.shareText,imageUrl:d.imageUrl,shareApp:d.shareApp},deps:[d.shareText,d.imageUrl,d.shareApp]}),w=(0,n.I4)(()=>y(this,null,function*(){const x=yield _();return x instanceof Error?!1:x.success}),[_]);return{img:g,imgDownload:S,sendPushNotification:w,shareData:C,useNativeShare:i}}},95582:(j,l,e)=>{"use strict";e.d(l,{L:()=>u});var n=e(30396),c=(v,O,y)=>new Promise((E,d)=>{var g=T=>{try{S(y.next(T))}catch(C){d(C)}},P=T=>{try{S(y.throw(T))}catch(C){d(C)}},S=T=>T.done?E(T.value):Promise.resolve(T.value).then(g,P);S((y=y.apply(v,O)).next())});function u(v,O,y){const[E,d]=(0,n._Y)(v,O,y),g=(0,n.sO)(E);g.current=E;const P=(0,n.Ye)(()=>S=>c(this,null,function*(){if(typeof S=="function")return yield S(P,()=>g.current);d(S)}),[]);return[E,P]}},20964:(j,l,e)=>{"use strict";e.d(l,{M:()=>u});var n=e(26686);function c(){return(0,n._)("/api/v1/user-settings")}function u(){var v,O;const{data:y}=c();return(O=y==null?void 0:y.userSettings.some(E=>E.type==="explicit_content_enabled"&&E.value_bool))!=null?O:typeof window!="undefined"?(v=window._preloads)==null?void 0:v.userSettings.explicitContentEnabled:!1}},92298:(j,l,e)=>{"use strict";e.d(l,{j:()=>d,l:()=>g});var n=Object.defineProperty,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,O=(P,S,T)=>S in P?n(P,S,{enumerable:!0,configurable:!0,writable:!0,value:T}):P[S]=T,y=(P,S)=>{for(var T in S||(S={}))u.call(S,T)&&O(P,T,S[T]);if(c)for(var T of c(S))v.call(S,T)&&O(P,T,S[T]);return P};let E={};function d(P){E=y({},P)}function g(){return y({},E)}},8461:(j,l,e)=>{"use strict";e.d(l,{IU:()=>E});var n=e(15045),c=e(83322),u=e(86405),v=e(28876),O=e(32081);function y(S,T,{quantity:C=1,plan:p,isSubscription:i,coupon:s}){var _;const w=(S/100).toFixed(2),x=(S/C/100).toFixed(2);T=T.toUpperCase(),E();const D=getConfig(),N=getPublicationFbPixelId();N&&(new Image().src=`https://www.facebook.com/tr?id=${N}&ev=Purchase&cd[value]=${w}&cd[currency]=${T}`),N&&i&&(new Image().src=`https://www.facebook.com/tr?id=${N}&ev=Subscribe&cd[value]=${w}&cd[currency]=${T}`),recordTwitterEvent("purchase",{price:Number(x),quantity:C});const I=randomString(),A=((_=p.amount)!=null?_:0)*C;let M;s&&s.percent_off?M=Math.round(A*((s.percent_off_precise||s.percent_off)/100)):s&&s.amount_off&&(M=Math.max(0,s.amount_off));const R=p.name;sendPublisherGa4Event("purchase",{transaction_id:I,value:w,currency:T,coupon:(s==null?void 0:s.name)||(s==null?void 0:s.id),items:[{item_id:p&&p.id,item_name:p&&(R||p.nickname||p.id)||"subscription",coupon:(s==null?void 0:s.name)||(s==null?void 0:s.id),discount:M,index:0,price:x,quantity:C}]}),sendPublisherGaEvent("transaction",{ti:I,tr:w,cu:T}),sendPublisherGaEvent("item",{ti:I,in:p&&(R||p.nickname||p.id)||"subscription",ip:x,iq:C,ic:p&&p.id,cu:T});const F="7AeECMLq68wDEKuN5pYB";sendLocalGaEvent("conversion",D!=null&&D.adwordsAccountId&&(D!=null&&D.adwordsEventSendTo)?{send_to:`${D.adwordsAccountId}/${F}`}:{});const Z=g();if(Z){const{id:V,label:G}=Z;new Image().src=`//www.googleadservices.com/pagead/conversion/${V}/?value=${w}&currency_code=${T}&label=${G}&guid=ON&script=0`}if(typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackSubscription&&window.PARSELY.conversions.trackSubscription(`${p&&(R||p.nickname||p.id)||""} Subscription`),P()==="bankless"){const V=p?`paid_${p.interval}ly`:"paid";window.history.replaceState({},document.title,updateQuery({plan:V})),page()}}function E(){const S=(0,v.iE)();if(S.properties.is_free_subscribed)return;S.properties.is_free_subscribed=!0,(0,v.Hx)("sign_up"),(0,v.XY)("event",{ec:"Signup",ea:"Signup Success"});const T="Yo9oCMOM1MYDEKuN5pYB";(0,v.NA)("conversion",S!=null&&S.adwordsAccountId&&(S!=null&&S.adwordsEventSendTo)?{send_to:`${S.adwordsAccountId}/${T}`}:{});const C=(0,v.xL)();C&&(new Image().src=`https://www.facebook.com/tr?id=${C}&ev=CompleteRegistration`),(0,u.g)("signup"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackNewsletterSignup&&window.PARSELY.conversions.trackNewsletterSignup("Newsletter Sign Up"),P()==="bankless"&&(window.history.replaceState({},document.title,(0,n.updateQuery)({plan:"free"})),(0,O.Md)())}function d(S={}){sendLocalGaEvent("Publication Created",S)}function g(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.google_conversion_info}function P(){var S;const T=typeof window!="undefined"&&((S=window._preloads)==null?void 0:S.pub);return T==null?void 0:T.subdomain}},3258:(j,l,e)=>{"use strict";e.d(l,{A:()=>u.A,FP:()=>u.FP,IU:()=>n.IU,K8:()=>u.K8,XY:()=>c.XY,j:()=>u.j,jA:()=>u.jA,jJ:()=>u.jJ,uF:()=>v.S,x6:()=>u.x6,xG:()=>u.xG});var n=e(8461),c=e(28876),u=e(32081),v=e(31256)},31256:(j,l,e)=>{"use strict";e.d(l,{S:()=>y});var n=e(39419),c=e.n(n),u=e(28876),v=e(32081);let O=null;function y(){var E;typeof window!="undefined"&&((E=window==null?void 0:window.navigator)!=null&&E.sendBeacon)&&(window.navigator.sendBeacon=window.navigator.sendBeacon.bind(window.navigator)),(0,u.LH)(),(0,u.dl)(),(0,u.jP)(),(0,v.Md)(),(0,n.windowReady)(()=>{const d=O;O=null,d&&d.length>0&&(0,v.At)(d)})}},31032:(j,l,e)=>{"use strict";e.d(l,{W:()=>c});var n=e(83322);const c=(0,n.randomString)()},28876:(j,l,e)=>{"use strict";e.d(l,{Hx:()=>s,LH:()=>x,NA:()=>_,XY:()=>w,dl:()=>p,iE:()=>i,jP:()=>D,xL:()=>I});var n=e(15045),c=e(39776),u=e(39419),v=e.n(u),O=e(31032),y=Object.defineProperty,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(A,M,R)=>M in A?y(A,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):A[M]=R,S=(A,M)=>{for(var R in M||(M={}))d.call(M,R)&&P(A,R,M[R]);if(E)for(var R of E(M))g.call(M,R)&&P(A,R,M[R]);return A};function T(A,{toHead:M=!1}={}){(0,u.windowReady)(()=>{const R=document.createElement("script");if(R.async=!0,R.src=A,M)document.head.appendChild(R);else{const F=document.getElementsByTagName("script")[0];F.parentNode&&F.parentNode.insertBefore(R,F)}})}function C(){return typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.google_analytics_4_token}function p(){var A,M,R;if(typeof window=="undefined")return;const F=(M=(A=window==null?void 0:window._preloads)==null?void 0:A.pub)==null?void 0:M.google_tag_manager_token;if(!F)return;const Z=C();if(F===Z)return;window.dataLayer=window.dataLayer||[],(0,c.default)("exempt_from_gtm_filter")?window.dataLayer.push({"gtm.allowlist":["customPixels","customScripts","google","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}):window.dataLayer.push({"gtm.allowlist":["google"],"gtm.blocklist":["customPixels","customScripts","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}),window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"});const V=i();(R=V.user)!=null&&R.id&&window.dataLayer.push({userId:V.user.id.toString()}),T(`https://www.googletagmanager.com/gtm.js?id=${F}`,{toHead:!0})}function i(){let A;return typeof window!="undefined"&&(A=window._analyticsConfig),A||(A={}),A.properties||(A.properties={}),A.properties.browserSessionId=O.W,A}function s(A,M={}){var R;if(typeof window=="undefined"||!(window!=null&&window.publisherGA4gtag))return;const F=i();(R=F.user)!=null&&R.id&&(M.user_id=F.user.id.toString()),window.publisherGA4gtag("event",A,M)}function _(A,M){typeof window=="undefined"||!(window!=null&&window.gtag)||window.gtag("event",A,M)}function w(A,M={}){var R;const F=i(),Z=N();if(!Z)return;const V=(0,n.parseQuery)(window.location.href);M=Object.assign({v:1,t:A,tid:Z,cid:F.anonymousId,dl:document.location.origin+document.location.pathname+document.location.search,dt:document.title||"",dr:document.referrer||"",cn:V.utm_campaign,cs:V.utm_source,cm:V.utm_medium,ck:V.utm_term,cc:V.utm_content,ci:V.utm_id},M),(R=F.user)!=null&&R.id&&(M.uid=F.user.id.toString()),new Image().src=`https://www.google-analytics.com/collect?${(0,n.serializeQuery)(M)}`}function x(){var A;if(typeof window=="undefined")return;const M=C();if(!M)return;window.GA4DataLayer=window.GA4DataLayer||[],window.publisherGA4gtag=function(){var F;(F=window.GA4DataLayer)==null||F.push(arguments)},window.publisherGA4gtag("js",new Date);const R=i();window.publisherGA4gtag("config",M,S({send_page_view:!1},R.user&&{user_id:(A=R==null?void 0:R.user)==null?void 0:A.id.toString()}))}function D(){var A;if(typeof window=="undefined")return;const M=i();!M.localGaPixelId&&!M.adwordsAccountId||(window.localGaDataLayer=window.localGaDataLayer||[],window.gtag=function(){var R;(R=window==null?void 0:window.localGaDataLayer)==null||R.push(arguments)},window.gtag("js",new Date),M.localGaPixelId&&window.gtag("config",M.localGaPixelId),M.adwordsAccountId&&window.gtag("config",M.adwordsAccountId),(A=M.user)!=null&&A.id&&window.gtag("userId",M.user.id.toString()),T(`https://www.googletagmanager.com/gtag/js?id=${M.localGaPixelId||M.adwordsAccountId}&l=localGaDataLayer`))}function N(){const A=typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.ga_pixel_id;return A&&A.startsWith("UA-")?null:A}function I(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.fb_pixel_id}},32081:(j,l,e)=>{"use strict";e.d(l,{A:()=>M,At:()=>ee,FP:()=>x,K8:()=>$,Md:()=>H,j:()=>R,jA:()=>K,jJ:()=>Z,x6:()=>F,xG:()=>G});var n=e(85928),c=e.n(n),u=e(44043),v=e(15045),O=e(63830),y=e(86405),E=e(39419),d=e.n(E),g=e(92298),P=e(31032),S=e(28876),T=Object.defineProperty,C=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(J,te,ie)=>te in J?T(J,te,{enumerable:!0,configurable:!0,writable:!0,value:ie}):J[te]=ie,_=(J,te)=>{for(var ie in te||(te={}))p.call(te,ie)&&s(J,ie,te[ie]);if(C)for(var ie of C(te))i.call(te,ie)&&s(J,ie,te[ie]);return J},w;const x=u.F,D=10,N=typeof window!="undefined"&&window!=window.top&&(0,O.l)(E.uuidV4);let I="browser";typeof window!="undefined"&&(navigator.standalone||(w=window.matchMedia)!=null&&w.call(window,"(display-mode: standalone)").matches)&&(I="standalone");const A=null;function M(){return N}function R(J,te={}){var ie;if(["development","test"].includes((ie="production")!=null?ie:"")&&!J)throw new Error("`undefined` event passed to FRONTEND track call");re(J,Object.assign({},te))}function F(J,te,ie={}){R(x.PUBLICATION_VISITED,_({visited_publication_id:J.id,visited_publication_subdomain:J.subdomain,source:te},ie))}function Z({post:J,hasPaywall:te,surface:ie,markRead:se}){R(x.POST_SEEN,{post_id:J.id,post_audience:J.audience,post_type:J.type,has_paywall:te,post_age_minutes:J.post_date&&c()().diff(J.post_date,"minute"),surface:ie}),se&&V(J.id)}function V(J){return fetch(`/api/v1/posts/${J}/seen`,{method:"POST"})}function G({post:J,hasPaywall:te,surface:ie}){R(x.POST_BOTTOM_SEEN,{post_id:J.id,post_audience:J.audience,post_type:J.type,has_paywall:te,surface:ie})}function $({post:J}){J!=null&&J.id&&(R(x.POST_PAGE_PINGBACK,{seconds:0,post_id:J.id}),setTimeout(()=>{R(x.POST_PAGE_PINGBACK,{seconds:10,post_id:J.id})},1e4))}function K({previous:J,url:te}){J&&(te.includes("_no_an=true")||H())}function H(J={}){var te,ie;if(document.location.pathname.startsWith("/embed")&&typeof window!="undefined"&&((ie=(te=window==null?void 0:window._preloads)==null?void 0:te.pub)!=null&&ie.embed_tracking_disabled))return;re(x.PAGES,Object.assign(Y(),J));const se=(0,S.xL)();se&&(new Image().src=`https://www.facebook.com/tr?id=${se}&ev=PageView`),(0,y.g)("pageview"),(0,S.XY)("pageview"),(0,S.Hx)("page_view"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.beacon&&window.PARSELY.beacon.trackPageView&&window.PARSELY.beacon.trackPageView({url:document.location.origin+document.location.pathname+document.location.search,urlref:document.referrer||"",js:1})}function re(J,te={}){var ie,se;if(typeof window=="undefined")return;const W={event:J,properties:Object.assign({browserSessionId:P.W,iframeVisitId:N,r:(0,v.getQueryItem)("r")},te),context:{client_type:"web",displayMode:I,page:{referrer:document.referrer,title:document.title,url:document.location.href},campaign:(0,g.l)()}},z=(0,E.base64encode)(JSON.stringify(W));A&&A.length<D?A.push(z):new Image().src=(0,v.pathWithQuery)("/api/v1/firehose",{_:new Date().getTime(),d:z}),(se=(ie=window==null?void 0:window._preloads)==null?void 0:ie.user)!=null&&se.is_global_admin&&console.log(`EVENT: ${J}`,te)}function ee(J){typeof window!="undefined"&&(new Image().src=(0,v.pathWithQuery)("/api/v1/firehose/batch",{_:new Date().getTime(),d:J.join(",")}))}function Y(){const J={};if(typeof window!="undefined"){const te=window._preloads&&window._preloads.post,ie=window.location&&/^\/p\/([^\/]+)/.exec(window.location.pathname);ie&&te&&ie[1]===te.slug&&(J.post_id=te.id,J.post_audience=te.audience,J.post_type=te.type)}return J}},66141:(j,l,e)=>{"use strict";e.d(l,{Z:()=>P});var n=e(15103),c=e(48583),u=e(95495),v=e(3258),O=e(85928),y=e.n(O),E=e(90304);const d=()=>{},g=(0,u.xu)(T=>(0,n.cn)({key:T,value:!1}));function P(T,C=null,p=d){const[i,s]=(0,c.KO)(g(T));if(!T)return[!0,d];const _=()=>{p(),(0,v.j)(v.FP.DASHBOARD_ACTION_BOX_DISMISSED,{key:T});const x=new Date;(0,E.ex)(T,x.toString()),s({key:T,value:!0})};return[i.value||S(T,C),_]}function S(T,C){let p;const i=typeof window=="undefined"?new Date().toString():(0,E.mM)(T);return i&&C?p=y()(i).add(C,"second").isAfterNow():p=!!i,p}},66219:(j,l,e)=>{"use strict";e.d(l,{z:()=>E});var n=e(30396),c=e(80569),u=e.n(c),v=e(39419),O=e.n(v),y=(d,g,P)=>new Promise((S,T)=>{var C=s=>{try{i(P.next(s))}catch(_){T(_)}},p=s=>{try{i(P.throw(s))}catch(_){T(_)}},i=s=>s.done?S(s.value):Promise.resolve(s.value).then(C,p);i((P=P.apply(d,g)).next())});const E=({mediaUploadId:d})=>{const[g,P]=(0,n.eJ)(null),[S,T]=(0,n.eJ)(!0),[C,p]=(0,n.eJ)(null);return(0,n.d4)(()=>{d?(()=>y(void 0,null,function*(){try{const s=yield u().get(`/api/v1/video/upload/${d}`);P(s.body),T(!1)}catch(s){console.error("Failed to load media upload:",s),p((0,v.getNetworkErrorMessage)(s)),T(!1)}}))():(P(null),T(!1))},[d,C]),{mediaUpload:g,loading:S,error:C}}},3313:(j,l,e)=>{"use strict";e.r(l),e.d(l,{getExtraSeatInfo:()=>O,getFoundingBenefitsForBulwark:()=>d,hidePaidPostUI:()=>E,isTheBulwark:()=>v,pubHasStandingSpecialOffers:()=>y});var n=e(11322),c=e(83322);const u=new Set([138155578,137086721,135978166,138762631,138967817]);function v({pub:g}){return g.id===87281}function O({pub:g,sub:P}){return!g||!P||!y({pub:g})||!P.totalAmount||P.is_group_parent?null:v({pub:g})?!P.is_founding||!P.plan?null:P.totalAmount>=12e4?{numSeats:6,couponCode:"0af6dce7"}:P.totalAmount>=25e3?{numSeats:3,couponCode:"b2f6a20f"}:null:g.subdomain==="pinespayments"?P.totalAmount>=12e4?{numSeats:6,couponCode:"0371e499"}:P.totalAmount>=3e4?{numSeats:3,couponCode:"557e2314"}:null:null}function y({pub:g}){return v({pub:g})||g.subdomain==="pinespayments"}function E({post:g}){return g?u.has(g.id)&&!!g.podcast_preview_upload_id:!1}function d({pub:g,benefits:P,plan:S}){if(!v({pub:g})||!(0,c.isFoundingPlan)(S))return P;const T=[];return(0,n.planFromPubIsClassicFounding)({plan:S})?T.push({benefit:"Navigator memberships help to fuel our growth and ensure our longevity. ",checked:!0}):T.push({benefit:"Founding memberships help to keep The Bulwark available to the widest possible audience.",checked:!0}),T.push({benefit:"Unlimited access to our newsletters, ad-free and member-only podcasts, weekly livestreams and more\u2026",checked:!0}),(0,n.planFromPubIsClassicFounding)({plan:S})?T.push({benefit:"6 free gift memberships to give to friends and family",checked:!0}):T.push({benefit:"3 free gift memberships to give to friends and family",checked:!0}),T.push({benefit:"2-3 Bulwark virtual town hall meetings with Bulwark editors and staff and invites to informal meet-ups before Bulwark live shows.",checked:!0}),T}},63030:(j,l,e)=>{"use strict";e.r(l),e.d(l,{getInitialPodcast:()=>x,getNewPubPodcastSettings:()=>s,getNewSectionPodcastSettings:()=>p,getPodcastEpisodeImageUrl:()=>_,getPodcastsForDisplay:()=>w,getPubPodcastSettings:()=>i,getSectionPodcastSettings:()=>C});var n=e(15045),c=e(83322),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(D,N,I)=>N in D?u(D,N,{enumerable:!0,configurable:!0,writable:!0,value:I}):D[N]=I,P=(D,N)=>{for(var I in N||(N={}))E.call(N,I)&&g(D,I,N[I]);if(y)for(var I of y(N))d.call(N,I)&&g(D,I,N[I]);return D},S=(D,N)=>v(D,O(N));const T=D=>{if(!D)return[];const N=[];for(const I of D){if(N.length===2)break;const A=I.toLowerCase();for(const[M,R]of Object.entries(c.PODCAST_CATEGORIES)){if(N.length===2)break;if(M.toLowerCase()===A||M.toLowerCase().split(" & ").includes(A)){N.push({category:M});break}for(const F of R){if(N.length===2)break;if(F.toLowerCase()===A||F.toLowerCase().split(" & ").includes(A)){N.push({category:M,subcategory:F});break}}}}return N},C=({pub:D,section:N})=>{var I,A,M,R,F,Z,V,G;const $=N==null?void 0:N.podcastSettings,K=(A=(I=$==null?void 0:$.podcast_title)!=null?I:N==null?void 0:N.name)!=null?A:null,H=(R=(M=$==null?void 0:$.podcast_description)!=null?M:N==null?void 0:N.description)!=null?R:null,re=(F=$==null?void 0:$.itunes_podcast_primary_category)!=null?F:null,ee=(Z=$==null?void 0:$.itunes_podcast_primary_subcategory)!=null?Z:null,Y=(V=$==null?void 0:$.itunes_podcast_secondary_category)!=null?V:null,J=(G=$==null?void 0:$.itunes_podcast_secondary_subcategory)!=null?G:null,te=($==null?void 0:$.itunes_explicit)||!1,ie=($==null?void 0:$.podcast_art_url)||(0,n.getDefaultPodcastArtUrlCDN)(),se=($==null?void 0:$.paid_podcast_episode_art_url)||null,W=($==null?void 0:$.podcast_byline)||D.podcast_byline||D.author_name||"",z=($==null?void 0:$.language)||D.podcast_language||"",Q=!!$&&!!$.podcast_feed_url,oe=Q?$.podcast_feed_url:(0,n.getPodcastRssUrl)({pub:S(P({},D),{section:N})});return{title:K,description:H,primaryCategory:re,primarySubcategory:ee,secondaryCategory:Y,secondarySubcategory:J,isExplicit:te,artUrl:ie,byline:W,language:z,isRedirected:Q,podcastRssUrl:oe,paidEpisodeArtUrl:se}},p=({pub:D,section:N})=>{var I,A;const M=(I=N==null?void 0:N.name)!=null?I:null,R=(A=N==null?void 0:N.description)!=null?A:null,F=null,Z=null,V=null,G=null,$=!1,K=(0,n.getDefaultPodcastArtUrlCDN)(),H=D.podcast_byline||D.author_name||"",re=D.podcast_language||"";return{title:M,description:R,primaryCategory:F,primarySubcategory:Z,secondaryCategory:V,secondarySubcategory:G,isExplicit:$,artUrl:K,byline:H,language:re,isRedirected:!1,podcastRssUrl:null,paidEpisodeArtUrl:null}},i=({pub:D})=>{var N,I;const A=D.podcast_title||D.name,M=D.podcast_description||D.hero_text,R=D.itunes_podcast_primary_category,F=D.itunes_podcast_primary_subcategory,Z=D.itunes_podcast_secondary_category,V=D.itunes_podcast_secondary_subcategory,G=(N=D.itunes_explicit)!=null?N:!1,$=D.podcast_art_url||(0,n.getDefaultPodcastArtUrlCDN)(),K=D.podcast_byline||D.author_name,H=D.podcast_language||"",re=!!D.show_pub_podcast_tab,ee=!!D.podcast_feed_url,Y=P({},D);delete Y.section;const J=ee?D.podcast_feed_url:(0,n.getPodcastRssUrl)({pub:Y});return{title:A,description:M,primaryCategory:R,primarySubcategory:F,secondaryCategory:Z,secondarySubcategory:V,isExplicit:G,artUrl:$,byline:K,language:H,isRedirected:ee,podcastRssUrl:J,showPodcastTab:re,paidEpisodeArtUrl:(I=D.paid_podcast_episode_art_url)!=null?I:null}},s=({pub:D,publication:N})=>{var I,A,M;const[R,F]=T(N.tags.map(({canonical_name:ie})=>ie)),Z=`${D.name} Podcast`,V=D.hero_text,G=R==null?void 0:R.category,$=(I=R==null?void 0:R.subcategory)!=null?I:null,K=F==null?void 0:F.category,H=(A=F==null?void 0:F.subcategory)!=null?A:null,re=D.explicit||!1,ee=(0,n.getDefaultPodcastArtUrlCDN)(),Y=D.author_name;return{title:Z,description:V,primaryCategory:G,primarySubcategory:$,secondaryCategory:K,secondarySubcategory:H,isExplicit:re,artUrl:ee,byline:Y,language:"",isRedirected:null,podcastRssUrl:null,showPodcastTab:!0,paidEpisodeArtUrl:(M=D.paid_podcast_episode_art_url)!=null?M:null}};function _(D,N){return(N==null?void 0:N.cover_image)||(N==null?void 0:N.podcast_art_url)||(D==null?void 0:D.podcast_art_url)}const w=D=>{var N,I;const A=(I=(N=D.sections)==null?void 0:N.filter(({is_podcast:M})=>M).map(M=>{var R;const F=C({pub:D,section:M});return{slug:M.slug,podcastTitle:(R=F.title)!=null?R:"",sectionId:M.id}}))!=null?I:[];return[...D.podcast_enabled?[{podcastTitle:D.podcast_title||D.name,slug:D.subdomain,sectionId:null}]:[],...A]},x=({podcasts:D,urlSlug:N,isSection:I,defaultPodcastSlug:A})=>{if(!D.length)return null;if(N){const M=D.find(({sectionId:R,slug:F})=>F===N&&I===!!R);if(M)return M;typeof window!="undefined"&&window.alert("No podcast was found at that URL")}return A&&D.find(({slug:M})=>M==A)||D[0]}},69229:(j,l,e)=>{"use strict";e.d(l,{b:()=>v});var n=e(85928),c=e.n(n);function u(O){var y;return`${[O.is_primary,((y=O.publication)==null?void 0:y.author_id)===O.user_id,O.role==="admin",O.role==="contributor"].map(d=>d?"0":"1").join("")}-${c()(O.created_at).valueOf()}`}function v(O){return O.slice(0).sort((y,E)=>u(y)>u(E)?1:-1)}},16527:(j,l,e)=>{"use strict";e.d(l,{Q:()=>c});var n=e(20042);function c(u,v,{native:O=!1,newTab:y=!1,replace:E,state:d}={}){u.defaultPrevented||(u.preventDefault(),O?y||u.metaKey||u.ctrlKey?Object.assign(document.createElement("a"),{target:"_blank",rel:"noopener",href:v}).click():window.location.assign(v):((0,n.route)(v,E),d!==void 0&&history.replaceState(d,"")))}},90304:(j,l,e)=>{"use strict";e.d(l,{ex:()=>v,mM:()=>u});var n=e(79546),c=e.n(n);const u=(y,E=null)=>typeof window!="undefined"?c().get(y,E):E,v=(y,E)=>{if(typeof window!="undefined")return c().set(y,E)},O=y=>{if(typeof window!="undefined")return store.remove(y)}},86405:(j,l,e)=>{"use strict";e.d(l,{g:()=>E});var n=e(20501);const c=()=>typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.twitter_pixel_id||null,u=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_signup_event_id||null,v=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_subscribe_event_id||null,O=(d,g=null)=>{const P=c();if(!P)return;const S={p_id:"Twitter",p_user_id:0,txn_id:P,events:JSON.stringify([[d,g]]),tw_sale_amount:(g==null?void 0:g.value)||0,tw_order_quantity:(g==null?void 0:g.num_items)||0,tw_iframe_status:0,tw_document_href:document.location.href};y(S)},y=d=>{new Image().src=`https://t.co/i/adsct?${(0,n.serializeQuery)(d)}`,new Image().src=`https://analytics.twitter.com/i/adsct?${(0,n.serializeQuery)(d)}`},E=(d,{quantity:g,price:P}={})=>{if(d==="purchase"){const S=v();S&&typeof window.twq=="function"&&window.twq("event",S),O("purchase",{num_items:g,value:P})}else if(d==="signup"){const S=u();S&&typeof window.twq=="function"&&window.twq("event",S),O("signup")}else O("pageview")}},8479:(j,l,e)=>{"use strict";e.d(l,{NL:()=>V,Q1:()=>R,Wf:()=>I,do:()=>N,i:()=>K,ib:()=>Z,kp:()=>$,rd:()=>G,x8:()=>A});var n=e(30396),c=e(28599),u=e.n(c),v=e(73955),O=e.n(v),y=e(80569),E=e.n(y),d=e(39419),g=e.n(d),P=Object.defineProperty,S=Object.defineProperties,T=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(re,ee,Y)=>ee in re?P(re,ee,{enumerable:!0,configurable:!0,writable:!0,value:Y}):re[ee]=Y,_=(re,ee)=>{for(var Y in ee||(ee={}))p.call(ee,Y)&&s(re,Y,ee[Y]);if(C)for(var Y of C(ee))i.call(ee,Y)&&s(re,Y,ee[Y]);return re},w=(re,ee)=>S(re,T(ee)),x=(re,ee)=>{var Y={};for(var J in re)p.call(re,J)&&ee.indexOf(J)<0&&(Y[J]=re[J]);if(re!=null&&C)for(var J of C(re))ee.indexOf(J)<0&&i.call(re,J)&&(Y[J]=re[J]);return Y},D=(re,ee,Y)=>new Promise((J,te)=>{var ie=z=>{try{W(Y.next(z))}catch(Q){te(Q)}},se=z=>{try{W(Y.throw(z))}catch(Q){te(Q)}},W=z=>z.done?J(z.value):Promise.resolve(z.value).then(ie,se);W((Y=Y.apply(re,ee)).next())});const N={result:null,isLoading:!1,hasLoadedOnce:!1,error:null,promise:null,refetch:()=>Promise.resolve(null),clearError:()=>{},setResult:()=>{}};function I(re,ee,{auto:Y,initialResult:J}={}){const[te,ie]=(0,n.eJ)({result:J||null,isLoading:!!Y,hasLoadedOnce:!1,error:null,promise:null}),se=()=>{ie(w(_({},te),{error:null}))},W=(Q={})=>{var oe=Q,{abortController:ne=new(u())}=oe,ae=x(oe,["abortController"]);const le=re(w(_({},ae),{signal:ne.signal})).then(ue=>{if(!ne.signal.aborted)return ie({isLoading:!1,hasLoadedOnce:!0,error:null,result:ue,promise:null}),ue},ue=>{if(!ne.signal.aborted)return console.error("There was an error fetching resource",ue),ie(fe=>w(_({},fe),{isLoading:!1,error:ue,result:null,promise:null})),ue});return ie(ue=>w(_({},ue),{isLoading:!0,error:null,promise:le})),le},z=Q=>{ie(oe=>w(_({},oe),{error:null,result:Q,isLoading:!1,promise:null}))};return(0,n.d4)(()=>{if(Y){const Q=new(u());return W({abortController:Q}),()=>{Q.abort()}}},ee||[]),w(_({},te),{refetch:W,setResult:z,clearError:se})}function A(re,ee){switch(ee.type){case"page_reset":return[{isLoading:!0,error:null,result:null}];case"page_start":{const Y=re.slice(),{page:J,id:te}=ee.payload;return Y[J]={result:null,id:te,isLoading:!0,error:null},Y}case"page_load":{const{id:Y,result:J}=ee.payload;return re.map(te=>te.id===Y?w(_({},te),{isLoading:!1,result:J,error:null}):te)}case"page_error":{const{id:Y,error:J}=ee.payload;return re.map(te=>te.id===Y?w(_({},te),{isLoading:!1,result:null,error:J}):te)}}return re}function M(re,ee,{auto:Y,initialResult:J,pages:te,dispatch:ie}={}){var se;const[W,z]=(0,n._Y)(A,[{result:J||null,isLoading:!!Y,error:null}]),Q=te!=null?te:W,oe=ie!=null?ie:z,ne=(he={})=>{var be=he,{abortController:ve=new(u()),page:Te=Q.length}=be,we=x(be,["abortController","page"]);const Se=Q[Te-1],We=O()();return oe({type:"page_start",payload:{page:Te,id:We}}),re({options:we,signal:ve.signal,page:Te,lastPage:Se}).then(Ae=>{if(!ve.signal.aborted)return oe({type:"page_load",payload:{page:Te,id:We,result:Ae}}),Ae},Ae=>{if(!ve.signal.aborted)return oe({type:"page_error",payload:{page:Te,id:We,error:Ae}}),Ae})},ae=he=>(oe({type:"page_reset"}),ne(w(_({},he),{page:0})));(0,n.d4)(()=>{if(Y){const he=new(u());return ae({abortController:he}),()=>{he.abort()}}},ee||[]);let le=!1;const ue=()=>D(this,null,function*(){if(!le){const he=Q[Q.length-1];if(!he.isLoading&&!he.error)return le=!0,yield ne()}}),fe=Q[Q.length-1];return{pages:Q,page:Q.length,lastPage:fe,fetchMore:ue,canFetchMore:fe&&!fe.isLoading&&!fe.error,fetchFirstPage:ae,hasLoadedOnce:!!((se=Q[0])!=null&&se.result)}}function R(re){var ee=re,{auto:Y,initialResult:J,deps:te}=ee,ie=x(ee,["auto","initialResult","deps"]);return I(se=>D(this,null,function*(){var W=se,{signal:z}=W,Q=x(W,["signal"]);const{pathname:oe="",query:ne,body:ae,method:le="get"}=_(_({},ie),Q),ue=E()(le.toUpperCase(),oe);ne&&ue.query(ne),ae&&ue.send(ae),z.addEventListener("abort",()=>{ue.abort()});const fe=yield ue;if(z.aborted)return;const he=fe.error;if(he)throw he;return fe.body}),te||[],{auto:Y,initialResult:J})}const F=new Map;function Z(re){var ee=re,{pathname:Y,auto:J,initialResult:te,deps:ie,cacheTtl:se}=ee,W=x(ee,["pathname","auto","initialResult","deps","cacheTtl"]);const z=I(oe=>{var ne=oe,{pathname:ae}=ne,le=x(ne,["pathname"]);if(!Y)throw new Error("useFetch requires a pathname");if(se){const fe=F.get(Y);if(fe){const{ts:he,ttl:be,promise:ve}=fe;if(he+be>Date.now())return ve}}const ue=G(ae!=null?ae:Y,_(_({},W),le));return se&&F.set(Y,{ts:Date.now(),ttl:se,promise:ue}),ue},ie||[],{auto:J,initialResult:te}),Q=oe=>{Y&&se&&F.set(Y,{ts:Date.now(),ttl:se,promise:Promise.resolve(oe)}),z.setResult(oe)};return w(_({},z),{setResult:Q})}function V(re){var ee=re,{pathname:Y,auto:J,initialResult:te,deps:ie,getPageInit:se,pages:W,dispatch:z}=ee,Q=x(ee,["pathname","auto","initialResult","deps","getPageInit","pages","dispatch"]);return M(({page:oe,lastPage:ne,options:ae})=>{if(!Y)throw new Error("useFetch requires a pathname");const le=se({init:_(_({},Q),ae),page:oe,lastPage:ne});return G(Y,le)},ie||[],{auto:J,initialResult:te,pages:W,dispatch:z})}function G(re){return D(this,arguments,function*(ee,Y={}){var J;const ie=_({cache:"no-cache"},Y),{query:se,json:W}=ie,z=x(ie,["query","json"]);let Q=ee;if(se){let ne;se instanceof URLSearchParams?ne=se:ne=new URLSearchParams(Object.entries(se).reduce((le,[ue,fe])=>(fe!==void 0&&(Array.isArray(fe)?fe.forEach(he=>{he!==void 0&&le.push([`${ue}[]`,he])}):le.push([ue,fe])),le),[]));const ae=ne.toString();ae&&(ee.indexOf("?")!==-1?Q+=`&${ae}`:Q+=`?${ae}`)}W&&(z.body=JSON.stringify(W),z.headers instanceof Headers||(z.headers=new Headers(z.headers)),z.headers.set("Content-Type","application/json"));const oe=yield fetch(Q,z);if(!oe.ok){let ne;try{ne=yield oe.json()}catch(ae){ne={}}throw new $(oe,ne)}return(J=oe.headers.get("Content-Type"))!=null&&J.startsWith("application/json")?oe.json():oe.text()})}class $ extends Error{constructor(ee,Y){super(),this.response=ee,this.body=Y}getMessage(ee){return(0,d.getNetworkErrorMessageFromResponse)(this.body,ee)}}function K(re,ee="Something went wrong."){return re instanceof $?re.getMessage():ee}function H(re,ee,Y){const[J,te]=useState(null);return useCallback((...ie)=>{clearTimeout(J),te(null),te(setTimeout(()=>re(...ie),ee))},[J,...Y])}},11533:(j,l,e)=>{"use strict";e.d(l,{js:()=>u});var n=e(30396),c=e(20042);function u(y,E){(0,n.d4)(()=>{const d=g=>{y(g)};return c.subscribers.push(d),()=>{c.subscribers.splice(c.subscribers.indexOf(d)>>>0,1)}},E)}function v({path:y}={}){const[E,d]=useState({}),g=useRef(null);u(T=>{g.current=T,d({})},[]);const P=g.current||getCurrentUrl(),S=P.replace(/\?.+$/,"");return g.current=null,[{url:P,path:S,matches:y&&exec(S,y,{})||null},route]}function O(){return history.state}},26686:(j,l,e)=>{"use strict";e.d(l,{_:()=>d});var n=e(95591),c=e(8479),u=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,y=(g,P)=>{var S={};for(var T in g)v.call(g,T)&&P.indexOf(T)<0&&(S[T]=g[T]);if(g!=null&&u)for(var T of u(g))P.indexOf(T)<0&&O.call(g,T)&&(S[T]=g[T]);return S},E=(g,P,S)=>new Promise((T,C)=>{var p=_=>{try{s(S.next(_))}catch(w){C(w)}},i=_=>{try{s(S.throw(_))}catch(w){C(w)}},s=_=>_.done?T(_.value):Promise.resolve(_.value).then(p,i);s((S=S.apply(g,P)).next())});function d(g,P={},S){var T=P,{deps:C,auto:p=!0,massage:i=_=>E(this,null,function*(){return _})}=T,s=y(T,["deps","auto","massage"]);return(0,n.ZP)(p?C?[...C,g]:g:null,()=>(0,c.rd)(g,s).then(i),S)}},6742:(j,l,e)=>{"use strict";e.d(l,{UM:()=>O,th:()=>y});var n=e(30396),c=e(39419),u=e.n(c);function v(E,d,{root:g,threshold:P=0,rootMargin:S,disabled:T=!1}={}){(0,n.d4)(()=>{if(typeof IntersectionObserver=="undefined"||!E.current||T)return;const C=new IntersectionObserver(i=>{d(i.some(s=>s.isIntersecting))},{root:g,threshold:P,rootMargin:S});C.observe(E.current);function p(){C.disconnect()}return p},[E,d,g,P,S,T])}function O(E,d,{root:g,threshold:P=0,rootMargin:S,disabled:T=!1}={}){const C=(0,n.sO)(!1),p=(0,n.I4)(i=>{i&&!C.current&&(C.current=!0,d())},[d,C]);v(E,p,{root:g,threshold:P,rootMargin:S,disabled:T||C.current})}function y(E){const[d,g]=(0,n.eJ)(!1);return(0,n.d4)(()=>{const P=()=>{const S=(0,c.isWindowVisible)();g(S),E==null||E(S)};return(0,c.onWindowVisibilityChange)(P),()=>{(0,c.offWindowVisibilityChange)(P)}},[E]),d}},36868:(j,l,e)=>{"use strict";e.d(l,{P:()=>n});const n=(c,u)=>u.payments_state==="enabled"?c.is_subscribed:c.is_free_subscribed},25018:(j,l,e)=>{"use strict";e.d(l,{qU:()=>D,uj:()=>I,v9:()=>x});var n=e(30396),c=e(18446),u=e.n(c),v=e(1852),O=e.n(v),y=e(80569),E=e.n(y),d=e(76193),g=Object.defineProperty,P=Object.defineProperties,S=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,i=(M,R,F)=>R in M?g(M,R,{enumerable:!0,configurable:!0,writable:!0,value:F}):M[R]=F,s=(M,R)=>{for(var F in R||(R={}))C.call(R,F)&&i(M,F,R[F]);if(T)for(var F of T(R))p.call(R,F)&&i(M,F,R[F]);return M},_=(M,R)=>P(M,S(R)),w=(M,R,F)=>new Promise((Z,V)=>{var G=H=>{try{K(F.next(H))}catch(re){V(re)}},$=H=>{try{K(F.throw(H))}catch(re){V(re)}},K=H=>H.done?Z(H.value):Promise.resolve(H.value).then(G,$);K((F=F.apply(M,R)).next())});const x=()=>{const M=(0,v.useMediaQuery)({query:"only screen and (max-width: 1024px)"}),R=(0,v.useMediaQuery)({query:"only screen and (max-width: 768px)"});let F;return typeof window=="undefined"?F=(0,d.isMobile)()?"mobile":"desktop":F=R?"mobile":M?"tablet":"desktop",{breakpoint:F,isMobile:F==="mobile",isTablet:F==="tablet",isDesktop:F==="desktop"}},D=({pubId:M,preloads:R={}})=>{var F,Z,V,G,$,K,H,re,ee;const[Y,J]=(0,n.eJ)((F=R.contentBlocks)!=null?F:[]),[te,ie]=(0,n.eJ)((Z=R.contributors)!=null?Z:[]),[se,W]=(0,n.eJ)((V=R.homepageLinks)!=null?V:[]),[z,Q]=(0,n.eJ)((G=R.newPosts)!=null?G:[]),[oe,ne]=(0,n.eJ)(($=R.pinnedPosts)!=null?$:[]),[ae,le]=(0,n.eJ)((K=R.recommendations)!=null?K:[]),[ue,fe]=(0,n.eJ)((H=R.topPosts)!=null?H:[]),[he,be]=(0,n.eJ)(!!R.newPosts),[ve,Te]=(0,n.eJ)((re=R.postsBySectionId)!=null?re:{}),[we,Se]=(0,n.eJ)((ee=R.postsByTagId)!=null?ee:{});return(0,n.d4)(()=>{var We;R.homepageLinks?((We=R.homepageLinks)==null?void 0:We.length)>se.length&&W(R.homepageLinks):E().get("/api/v1/homepage_links").then(({body:Ae})=>W(Ae))},[M,R.homepageLinks]),(0,n.d4)(()=>{var We;R.newPosts?((We=R.newPosts)==null?void 0:We.length)>z.length&&Q(R.newPosts):E().get("/api/v1/archive").query({sort:"new",limit:13}).then(({body:Ae})=>{Q(Ae),be(!0)})},[M,R.newPosts]),(0,n.d4)(()=>{var We;R.pinnedPosts?((We=R.pinnedPosts)==null?void 0:We.length)>oe.length&&ne(R.pinnedPosts):E().get("/api/v1/archive").query({sort:"pinned"}).then(({body:Ae})=>ne(Ae))},[M,R.pinnedPosts]),(0,n.d4)(()=>{var We;R.recommendations?((We=R.recommendations)==null?void 0:We.length)>ae.length&&le(R.recommendations):E().get(`/api/v1/recommendations/from/${M}`).query({limit:5}).then(Ae=>{le(Ae.body)})},[M,R.recommendations]),(0,n.d4)(()=>{var We;R.topPosts?((We=R.topPosts)==null?void 0:We.length)>ue.length&&fe(R.topPosts):E().get("/api/v1/archive").query({sort:"top",limit:6}).then(({body:Ae})=>fe(Ae))},[M,R.topPosts]),(0,n.d4)(()=>{var We;(!R.postsBySectionId||!R.postsByTagId||!R.contributors)&&E().get("/api/v1/homepage_data").then(Ae=>{Te(Ae.body.postsBySectionId),Se(Ae.body.postsByTagId),ie(Ae.body.contributors),J(Ae.body.contentBlocks)}),R.contributors&&((We=R.contributors)==null?void 0:We.length)>te.length&&ie(R.contributors),R.postsBySectionId&&!u()(R.postsBySectionId,ve)&&Te(R.postsBySectionId),R.postsByTagId&&!u()(R.postsByTagId,we)&&Se(R.postsByTagId)},[M,R.contributors,R.postsBySectionId,R.postsByTagId]),(0,n.Ye)(()=>({contentBlocks:Y,contributors:te,homepageLinks:se,newPosts:z,pinnedPosts:oe,postsLoaded:he,recommendations:ae,topPosts:ue,postsBySectionId:ve,postsByTagId:we}),[Y,te,se,z,oe,ve,we,he,ae,ue])},N=()=>{const[M,R]=useState([]),[F,Z]=useState({}),[V,G]=useState({});return useEffect(()=>{(()=>w(void 0,null,function*(){for(const K of M){if(K.post_source==="section"&&K.section_id&&!F[K.section_id]){const{body:H}=yield request.get("/api/v1/archive").query({section_id:K.section_id,sort:"new",limit:13});Z(re=>_(s({},re),{[String(K.section_id)]:H}))}if(K.post_source==="tag"&&K.post_tag_id&&!V[K.post_tag_id]){const{body:H}=yield request.get("/api/v1/archive").query({post_tag_id:K.post_tag_id,sort:"new",limit:13});G(re=>_(s({},re),{[String(K.post_tag_id)]:H}))}}}))()},[M,F,V]),{contentBlocks:M,onChangeContentBlocks:R,postsBySectionId:F,postsByTagId:V}},I=M=>{const[R,F]=(0,n.eJ)(M.newPosts),[Z,V]=(0,n.eJ)(M.pinnedPosts),[G,$]=(0,n.eJ)(M.topPosts),[K,H]=(0,n.eJ)(M.postsLoaded),re=new Set((Z||[]).map(J=>J.id)),ee=(Z||[]).concat((R||[]).filter(J=>!re.has(J.id)));(0,n.d4)(()=>{var J,te,ie;((J=M.newPosts)==null?void 0:J.length)!==R.length&&F(M.newPosts),((te=M.pinnedPosts)==null?void 0:te.length)!==Z.length&&V(M.pinnedPosts),((ie=M.topPosts)==null?void 0:ie.length)!==G.length&&$(M.topPosts),M.postsLoaded&&H(!0)},[M.newPosts,M.pinnedPosts,M.topPosts,R.length,Z.length,G.length,M.postsLoaded]);const Y=(0,n.I4)(({post:J})=>{if(!J)return;const te=[{list:G,setter:$},{list:Z,setter:V},{list:R,setter:F}];for(const ie of te){if(!ie.list)return;const se=ie.list.findIndex(W=>W.id===J.id);if(se!==-1){const W=[...ie.list];W.splice(se,1,J),ie.setter(W)}}},[R,Z,G]);return{posts:ee,topPosts:G,onChange:Y,postsLoaded:K}},A=({bodyId:M})=>{const[R,F]=useState(null),[Z,V]=useState(null);return useEffect(()=>{M==="grid-groups"&&(Z||w(void 0,null,function*(){try{const $=yield request.get("/api/v1/publication/sections");V($.body)}catch($){console.error($)}}),R||w(void 0,null,function*(){try{const $=yield request.get("/api/v1/publication/post-tag");F($.body)}catch($){console.error($)}}))},[M,R,Z]),{postTags:R,sections:Z}}},62246:(j,l,e)=>{"use strict";e.d(l,{fe:()=>c.f,mz:()=>u.m,r6:()=>n.r,u_:()=>c.u,xB:()=>n.x});var n=e(28079),c=e(53940),u=e(29354)},21958:(j,l,e)=>{"use strict";e.d(l,{L:()=>p});var n=e(6400),c=e(98661),u=e(94184),v=e.n(u),O=Object.defineProperty,y=Object.defineProperties,E=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,S=(i,s,_)=>s in i?O(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,T=(i,s)=>{for(var _ in s||(s={}))g.call(s,_)&&S(i,_,s[_]);if(d)for(var _ of d(s))P.call(s,_)&&S(i,_,s[_]);return i},C=(i,s)=>y(i,E(s));function p(i,s="div",_){return(0,c.forwardRef)((w,x)=>(0,n.createElement)(s,C(T(T({},_),w),{ref:x,className:v()(i,w==null?void 0:w.className)})))}},29811:(j,l,e)=>{"use strict";e.d(l,{E7:()=>O.E7,FN:()=>_.FN,HZ:()=>c.H,Tz:()=>y.Tz,XZ:()=>w.X,aN:()=>P.a,dd:()=>_.dd,fe:()=>S.fe,gq:()=>d.gq,gu:()=>A.g,gx:()=>Z.g,hE:()=>v.h,hU:()=>u.hU,hs:()=>d.hs,iz:()=>E.i,ji:()=>x.j,kG:()=>u.kG,o6:()=>u.o6,oB:()=>O.oB,oi:()=>F.o,pm:()=>_.pm,rs:()=>p.r,sN:()=>T.sN,tu:()=>d.tu,u:()=>s.u,u_:()=>S.u_,v2:()=>T.v2,xB:()=>S.xB,xu:()=>O.xu,xv:()=>i.xv,zx:()=>u.zx});var n=e(11059),c=e(83787),u=e(84040),v=e(80825),O=e(84606),y=e(25277),E=e(80131),d=e(51126),g=e(26300),P=e(9849),S=e(62246),T=e(25752),C=e(4502),p=e(65414),i=e(43887),s=e(61274),_=e(75425),w=e(93414),x=e(71346),D=e(72657),N=e(13847),I=e(2099),A=e(2019),M=e(35634),R=e(30858),F=e(34394),Z=e(27885),V=e(50477)},50292:(j,l,e)=>{"use strict";e.d(l,{SJ:()=>O});var n=e(6400),c=e(30396);const u=(0,n.createContext)({setChildOptions:()=>{},addRssFeed:()=>{},onboardingModalRef:{current:null},isLoading:!1,subscriptions:[],publicationUsers:[],onPageScroll:()=>{},setPinTitle:()=>{},setDrawer:()=>null,checkFocus:()=>!1,requireLogin:null});function v(y,{shouldShowGetAppPill:E=!0,style:d,alwaysPinTitle:g,backAction:P,onRefresh:S}={}){const T=O();return useLayoutEffect(()=>{T.setChildOptions({title:y,style:d,alwaysPinTitle:g,backAction:P,shouldShowGetAppPill:E,onRefresh:S})},[T,y,d,P,E,S]),useLayoutEffect(()=>{T.setPinTitle(!1)},[]),T}function O(){return(0,c.qp)(u)}},19696:(j,l,e)=>{"use strict";e.d(l,{L:()=>n.L});var n=e(21958)},41474:(j,l,e)=>{"use strict";e.d(l,{CD:()=>D,Gv:()=>R,Kr:()=>M,MJ:()=>x,iI:()=>s,qG:()=>w,rw:()=>C,zi:()=>T});var n=e(69371),c=e(3258);j=e.hmd(j);var u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(F,Z,V)=>Z in F?u(F,Z,{enumerable:!0,configurable:!0,writable:!0,value:V}):F[Z]=V,P=(F,Z)=>{for(var V in Z||(Z={}))E.call(Z,V)&&g(F,V,Z[V]);if(y)for(var V of y(Z))d.call(Z,V)&&g(F,V,Z[V]);return F},S=(F,Z)=>v(F,O(Z));function T(F,Z,{extraEventProps:V={},tabId:G,primaryItem:$}={}){_("seen",F,Z,{extraEventProps:V,tabId:G,primaryItem:$})}function C(F,Z,V,{extraEventProps:G={},tabId:$,primaryItem:K}={}){_("clicked",F,Z,{extraEventProps:S(P({clicked_element:V},G),{tabId:$,primaryItem:K})})}function p(F,Z,{primaryItem:V}={}){var G,$,K,H,re,ee,Y;return{item_primary_entity_key:V&&"entity_key"in V?V.entity_key:"entity_key"in F?F.entity_key:"",item_entity_key:"entity_key"in F?F.entity_key:"",item_type:F.type,item_context_type:"context"in F?F.context.type:"",item_context_type_bucket:"context"in F&&(G=F.context.typeBucket)!=null?G:"",item_context_timestamp:new Date("context"in F?F.context.timestamp:new Date).toISOString(),item_context_user_id:"context"in F?($=F.context.users[0])==null?void 0:$.id:void 0,item_context_user_ids:"context"in F&&((H=(K=F.context.users)==null?void 0:K.length)!=null?H:0)>0?F.context.users.map(({id:J})=>J):[],item_publication_id:"publication"in F?(re=F.publication)==null?void 0:re.id:void 0,item_post_id:(ee=F.post)==null?void 0:ee.id,item_comment_id:(Y=F.comment)==null?void 0:Y.id,item_can_reply:"canReply"in F?F.canReply:!0,tab_id:Z!=null?Z:void 0,item_module_id:"id"in F?F.id:void 0}}function i(F,Z,{primaryItem:V}={}){return F.type==="comment"||F.type==="post"||F.type==="featuredCollection"||F.type==="featuredPublication"||F.type==="postLeaderboard"||F.type==="recommendedPosts"?F.trackingParameters:p(F,Z,{primaryItem:V})}function s(F,{primaryItem:Z}={}){return S(P({},F),{trackingParameters:p(F,null,{primaryItem:Z})})}function _(F,Z,V,{extraEventProps:G={},tabId:$,primaryItem:K}={}){const H=i(Z,$!=null?$:null,{primaryItem:K});(0,c.j)(F==="seen"?c.FP.FEED_ITEM_SEEN:c.FP.FEED_ITEM_CLICKED,P(P({surface:V,tabId:$,module:j},H),G))}function w(F,Z,V,{extraEventProps:G={},tabId:$,primaryItem:K}={}){const H=i(Z,$!=null?$:null,{primaryItem:K});(0,c.j)(F==="seen"?c.FP.FEED_MODULE_ITEM_SEEN:c.FP.FEED_MODULE_ITEM_CLICKED,P(P({surface:V,tabId:$,module:j},H),G))}function x(F,Z,{extraEventProps:V={}}={}){N("seen",F,Z,{extraEventProps:V})}function D(F,Z,V,{extraEventProps:G={}}={}){N("clicked",F,Z,{extraEventProps:P({clicked_element:V},G)})}function N(F,Z,V,{extraEventProps:G={}}={}){var $,K,H,re;(0,c.j)(F==="seen"?c.FP.FEED_USER_SUGGESTION_SEEN:c.FP.FEED_USER_SUGGESTION_CLICKED,P({suggested_user_id:Z.user.id,suggested_publication_id:(K=($=Z.publication)==null?void 0:$.id)!=null?K:null,suggestion_source:(H=Z.source)!=null?H:null,suggestion_id:(re=Z.id)!=null?re:null,surface:V},G))}function I(F,{utm_source:Z}={}){track(EVENTS.FEED_SCREEN_VIEWED,{utm_source:Z,tab_id:F})}function A(F,{utm_source:Z}={}){const V=i(F,null);track(EVENTS.FEED_PERMALINK_SCREEN_VIEWED,P({utm_source:Z},V))}function M(F,Z,{tabId:V,noteId:G}={}){(0,c.j)(c.FP.FEED_HIDDEN_ATTACHMENT_SHOWN,{attachmentId:F,reason:Z,tabId:V,noteId:G})}function R(F,{props:Z,isModuleItem:V}={}){const G=(0,n.rI)(),$=V?w:_;return K=>{$("clicked",F,G,{extraEventProps:P({clicked_element:K},Z)})}}},91870:(j,l,e)=>{"use strict";e.d(l,{I0:()=>D,RR:()=>x,d6:()=>A,ev:()=>I,kc:()=>M});var n=e(6400),c=e(30396),u=e(70444),v=e(20501),O=e(95582),y=e(8479),E=e(39419),d=e.n(E),g=e(41474),P=Object.defineProperty,S=Object.defineProperties,T=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(ee,Y,J)=>Y in ee?P(ee,Y,{enumerable:!0,configurable:!0,writable:!0,value:J}):ee[Y]=J,_=(ee,Y)=>{for(var J in Y||(Y={}))p.call(Y,J)&&s(ee,J,Y[J]);if(C)for(var J of C(Y))i.call(Y,J)&&s(ee,J,Y[J]);return ee},w=(ee,Y)=>S(ee,T(Y));const x=(0,n.createContext)({dispatch:()=>Promise.resolve()});function D(){return(0,c.qp)(x).dispatch}const N={isSigningIn:!1,signInNoExit:!1,pages:[],readingQueue:[],posts:new Map,publications:new Map,comments:new Map,inboxItems:new Map},I=(0,n.createContext)(N);function A({initialData:ee={}}={}){return(0,O.L)(R,ee,({feedItem:Y,readingQueue:J})=>{let te=N;return Y&&(te=Z(te,Y)),J&&(te=H(te,J)),te})}function M(){return(0,c.qp)(I)}function R(ee,Y){var J,te,ie,se;switch(Y.type){case"sign_in":return w(_({},ee),{lastDispatchType:Y.type,isSigningIn:Y.payload.isSigningIn,signInNoExit:(J=Y.payload.signInNoExit)!=null?J:!1});case"page_load":{const{result:W}=Y.payload;return w(_({},F(ee,W.items)),{lastDispatchType:Y.type,pages:(0,y.x8)(ee.pages,Y)})}case"post_load":{const{post:W,publication:z}=Y.payload;return K(ee,{posts:[W],publications:[z]})}case"post_like":{const{postId:W,isLiked:z}=Y.payload,Q=ee.posts.get(W);return V(ee,Y.type,W,G(Q,z))}case"post_restack":{const{postId:W,isRestacked:z}=Y.payload,Q=ee.posts.get(W);return Q?V(ee,Y.type,W,$(Q,z)):ee}case"post_delete":{const{publication:W,post:z}=Y.payload,Q=new Map(ee.posts);Q.delete(z.id);const oe=new Map([...ee.comments].filter(([ne,ae])=>ae.post_id!==z.id));return[(0,v.getFeedPostUrl)(z.id,{noBase:!0}),(0,v.getFeedShortPostUrl)(W,z,{noBase:!0})].includes(window.location.pathname)&&(0,E.redirect)(u.FEED_PATH,{replace:!0}),w(_({},ee),{lastDispatchType:Y.type,posts:Q,comments:oe,pages:ee.pages.map(ne=>w(_({},ne),{result:ne.result?w(_({},ne.result),{items:ne.result.items.filter(ae=>{var le;return((le=ae.post)==null?void 0:le.id)!==z.id})}):ne.result}))})}case"post_save":{const{postId:W,isSaved:z}=Y.payload;return ee.posts.get(W)?V(ee,Y.type,W,{is_saved:z}):ee}case"comment_like":{const{commentId:W,isLiked:z}=Y.payload,Q=ee.comments.get(W);return w(_({},ee),{lastDispatchType:Y.type,comments:re(ee.comments,W,w(_({},Q),{reaction:z?"\u2764":void 0,reactions:w(_({},Q.reactions),{"\u2764":(((te=Q.reactions)==null?void 0:te["\u2764"])||0)+(z?1:-1)}),reaction_count:(Q.reaction_count||0)+(z?1:-1)}))})}case"comment_restack":{const{commentId:W,isRestacked:z}=Y.payload,Q=ee.comments.get(W);return w(_({},ee),{lastDispatchType:Y.type,comments:Q?re(ee.comments,W,w(_({},Q),{restacked:z,restacks:(Q.restacks||0)+(z?1:-1)})):ee.comments})}case"comment_delete":{const{comment:W}=Y.payload,z=new Map(ee.posts),Q=new Map([...ee.comments].filter(([ae,le])=>le.id!==W.id&&!new RegExp(`(^|.)${W.id}(.|$)`).test(le.ancestor_path))),oe=z.get(W.post_id),ne=W.ancestor_path&&Q.get(Number(W.ancestor_path.split(".").pop()));return ne?Q.set(ne.id,w(_({},ne),{children_count:(ne.children_count||1)-1,children:(ne.children||[]).filter(ae=>ae.id!==W.id)})):oe&&z.set(oe.id,w(_({},oe),{child_comment_count:(oe.child_comment_count||1)-1})),[(0,v.getFeedCommentUrl)(W,{noBase:!0})].includes(window.location.pathname)&&(0,E.redirect)(u.FEED_PATH,{replace:!0}),w(_({},ee),{lastDispatchType:Y.type,posts:z,comments:Q,pages:ee.pages.map(ae=>w(_({},ae),{result:ae.result?w(_({},ae.result),{items:ae.result.items.filter(le=>{var ue;return((ue=le.comment)==null?void 0:ue.id)!==W.id&&!(le.parentComments||[]).filter(Boolean).map(fe=>fe.id).includes(W.id)})}):ae.result}))})}case"new_post":return w(_({},ee),{lastDispatchType:Y.type,publications:new Map([...ee.publications].concat([[Y.payload.publication.id,Y.payload.publication]])),posts:new Map([...ee.posts].concat([[Y.payload.post.id,Y.payload.post]])),pages:[{error:null,isLoading:!1,result:{items:[{type:"post",entity_key:(0,u.getPostEntityKey)(Y.payload.post.id),publication:Y.payload.publication,post:Y.payload.post,context:Y.payload.context||{}}]}},...ee.pages]});case"new_comment":{const{comment:W}=Y.payload,z=new Map(ee.posts),Q=z.get(W.post_id);Q&&z.set(Q.id,w(_({},Q),{child_comment_count:(Q.child_comment_count||0)+1}));const oe=new Map(ee.comments);oe.set(W.id,W);const ne=(((ie=W.ancestor_path)==null?void 0:ie.split("."))||[]).map(Number).filter(Boolean).map(fe=>oe.get(fe)||null),ae=(se=ne[ne.length-1])!=null?se:null;ae&&oe.set(ae.id,w(_({},ae),{children_count:(ae.children_count||0)+1,children:[W].concat(ae.children||[])}));const ue=[{error:null,isLoading:!1,result:{items:[(0,g.iI)({type:"comment",entity_key:(0,u.getCommentEntityKey)(W.id),comment:W,parentComments:ne,publication:null,post:null,canReply:!0,context:{type:"comment",timestamp:new Date().toISOString(),users:[],fallbackReason:"",fallbackUrl:null}})]}},...ee.pages];return w(_({},ee),{lastDispatchType:Y.type,posts:z,comments:oe,pages:ue})}case"edit_comment":{const{comment:W}=Y.payload,z=new Map(ee.comments);return z.set(W.id,W),w(_({},ee),{lastDispatchType:Y.type,comments:z})}case"comments_load":{const{comments:W}=Y.payload,z=[],Q=W.slice();for(;Q.length>0;){const oe=Q.pop();z.push(oe),Q.push(...oe.children||[])}return w(_({},ee),{lastDispatchType:Y.type,comments:new Map([...ee.comments].concat(z.map(oe=>[oe.id,oe])))})}case"item_load":{const{item:W}=Y.payload;return w(_({},Z(ee,W)),{lastDispatchType:Y.type})}case"items_load":{const{items:W}=Y.payload;return w(_({},F(ee,W)),{lastDispatchType:Y.type})}case"new_feed_items":{const W=[...ee.pages];if(Y.payload.insertLocation){const z={error:null,isLoading:!1,result:{items:Y.payload.feedItems}};Y.payload.insertLocation==="prepend"?W.unshift(z):Y.payload.insertLocation==="append"&&W.push(z)}return w(_({},F(ee,Y.payload.feedItems)),{lastDispatchType:Y.type,pages:W})}case"inbox_load":return H(ee,Y.payload);case"inbox_item_archive":{const{contentKey:W}=Y.payload,z=ee.inboxItems.get(W);return w(_({},ee),{inboxItems:re(ee.inboxItems,W,w(_({},z),{archived_at:new Date().toISOString()}))})}}return w(_({},ee),{lastDispatchType:Y.type,pages:(0,y.x8)(ee.pages,Y)})}function F(ee,Y){const J=new Map(ee.publications),te=new Map(ee.posts),ie=new Map(ee.comments);for(const se of Y){if("publication"in se&&se.publication&&J.set(se.publication.id,se.publication),"post"in se){const{post:W}=se;W&&te.set(W.id,W)}if("comment"in se){const{comment:W}=se;if(W&&(ie.set(W.id,W),W.attachments))for(const z of W.attachments)z.type==="post"&&(te.set(z.post.id,z.post),J.set(z.publication.id,z.publication))}if("parentComments"in se)for(const W of se.parentComments)W&&ie.set(W.id,W)}return w(_({},ee),{publications:J,posts:te,comments:ie})}function Z(ee,Y){var J;return w(_({},ee),{posts:Y.post?re(ee.posts,Y.post.id,Y.post):ee.posts,publications:Y.publication?re(ee.publications,Y.publication.id,Y.publication):ee.publications,comments:new Map([...ee.comments].concat([Y.comment,...(J=Y.parentComments)!=null?J:[]].filter(Boolean).map(te=>[te.id,te])))})}function V(ee,Y,J,te){const ie=new Map(ee.posts),se=ie.get(J);return se&&ie.set(se.id,_(_({},se),te)),w(_({},ee),{lastDispatchType:Y,posts:ie})}function G(ee,Y){var J;const te=Y!=null?Y:!ee.reaction,ie="\u2764";return{reaction:te,reactions:{[ie]:(((J=ee.reactions)==null?void 0:J[ie])||0)+(Y?1:-1)}}}function $(ee,Y){return{restacked:Y,restacks:(ee.restacks||0)+(Y?1:-1)}}function K(ee,{posts:Y,publications:J}){const te=new Map(ee.posts);for(const se of Y)te.set(se.id,_(_({},te.get(se.id)),se));const ie=new Map(ee.publications);for(const se of J)ie.set(se.id,_(_({},ie.get(se.id)),se));return w(_({},ee),{posts:te,publications:ie})}function H(ee,Y){return w(_({},K(ee,Y)),{readingQueue:Y.inboxItems.map(J=>J.content_key),inboxItems:new Map([...ee.inboxItems].concat(Y.inboxItems.map(J=>[J.content_key,J])))})}function re(ee,Y,J){const te=new Map(ee);return te.set(Y,J),te}},73413:(j,l,e)=>{"use strict";e.d(l,{L:()=>c});var n=e(30123);const c=document.location.origin===n.tE},15337:(j,l,e)=>{"use strict";e.d(l,{i:()=>v});var n=e(67963),c=e(3258),u=e(50292);function v(O){const y=(0,n.aF)(),{onboardingModalRef:E}=(0,u.SJ)();return(d,g)=>P=>{var S,T;if(!y){if(!E.current)return;P.preventDefault(),g?(S=E.current)==null||S.openForPub(d,g):(T=E.current)==null||T.openToPubSignup(d);return}(0,c.x6)(d,O)}}},5707:(j,l,e)=>{"use strict";e.d(l,{H:()=>n});const n="#FF6719"},44396:(j,l,e)=>{"use strict";e.d(l,{XA:()=>y});var n=e(30396),c=e(1852),u=e.n(c),v=e(39419),O=e.n(v);function y(){return(0,c.useMediaQuery)({maxWidth:650})}function E(){return useMediaQuery({maxWidth:1400})}function d(){const[g,P]=useState(!1);return useLayoutEffect(()=>{P(isIOs())},[]),g}},72307:(j,l,e)=>{"use strict";e.d(l,{Th:()=>i,Y0:()=>_,_V:()=>x,e:()=>p,lV:()=>C});var n=e(6400),c=e(30396),u=e(8479),v=Object.defineProperty,O=Object.defineProperties,y=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(D,N,I)=>N in D?v(D,N,{enumerable:!0,configurable:!0,writable:!0,value:I}):D[N]=I,S=(D,N)=>{for(var I in N||(N={}))d.call(N,I)&&P(D,I,N[I]);if(E)for(var I of E(N))g.call(N,I)&&P(D,I,N[I]);return D},T=(D,N)=>O(D,y(N));function C(D){const N=(0,u.ib)({pathname:"/api/v1/subscriptions",auto:D,deps:[]});return(0,c.Ye)(()=>T(S({},N),{result:N.result?T(S({},N.result),{publicationMap:new Map(N.result.publications.map(A=>[A.id,A])),subscriptionMap:new Map(N.result.subscriptions.map(A=>[A.publication_id,A])),publicationUserMap:new Map(N.result.publicationUsers.map(A=>[A.publication_id,A]))}):null}),[N])}const p=(0,n.createContext)(u.do);function i(){return(0,c.qp)(p)}function s(D){var N;const{subscriptionMap:I,publicationUserMap:A,publicationsWithPledges:M}=(N=i().result)!=null?N:{subscriptionMap:new Map,publicationUserMap:new Map,publicationsWithPledges:[]},R=I.get(D),F=A.get(D);return{subscription:R,publicationUser:F,is_pledged:!!(M!=null&&M.includes(D))}}function _(D){const{subscription:N,publicationUser:I,is_pledged:A}=s(D),M=(N==null?void 0:N.membership_state)==="free_signup",R=(N==null?void 0:N.membership_state)==="subscribed",F=!!(N!=null&&N.is_founding),Z=!!(I&&["contributor","admin"].includes(I.role));return{subscription:N,publicationUser:I,isFreeSubscribed:M,isPaid:R,isSubscribed:M||R,isAuthor:Z,isFounding:F,isPledged:A}}function w(){var D,N,I;const{publicationUsers:A,publicationMap:M}=(D=i().result)!=null?D:{publicationMap:new Map,publicationUsers:[]},R=(I=(N=A.find(F=>F.is_primary))!=null?N:A.find(F=>F.role==="admin"))!=null?I:A.find(F=>F.role==="contributor");return R&&M.get(R.publication_id)}function x(D){var N,I;const{publicationUsers:A}=(N=i().result)!=null?N:{publicationUsers:[]};return(I=A.find(M=>M.publication_id===D))!=null?I:null}},42208:(j,l,e)=>{"use strict";e.d(l,{Mv:()=>N,U6:()=>R,a9:()=>G,nK:()=>H,ty:()=>K});var n=e(39693),c=e.n(n),u=e(24350),v=e.n(u),O=e(4605),y=e(3258),E=e(63030),d=e(39419),g=e.n(d),P=e(15045),S=e(20501),T=Object.defineProperty,C=Object.defineProperties,p=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,w=(re,ee,Y)=>ee in re?T(re,ee,{enumerable:!0,configurable:!0,writable:!0,value:Y}):re[ee]=Y,x=(re,ee)=>{for(var Y in ee||(ee={}))s.call(ee,Y)&&w(re,Y,ee[Y]);if(i)for(var Y of i(ee))_.call(ee,Y)&&w(re,Y,ee[Y]);return re},D=(re,ee)=>C(re,p(ee));const N=({pub:re,podcastUpload:ee,section:Y,thumbnailInfo:J})=>{const{title:te,description:ie,artUrl:se}=Y?(0,E.getSectionPodcastSettings)({pub:re,section:Y}):(0,E.getPubPodcastSettings)({pub:re}),W=Y?(0,S.getSectionUrl)(re,{section:Y}):(0,S.getBaseUrl)(re);let z=se;if(J&&J.thumbnail_id>1){const Q=(0,P.getMediaUploadThumbnailUrlForPlayer)(D(x({},ee),{id:J.media_upload_id,post_id:J.post_id,thumbnail_id:J.thumbnail_id}));Q&&(z=Q)}else if(ee&&ee.thumbnail_id>1){const Q=(0,P.getMediaUploadThumbnailUrlForPlayer)(ee);Q&&(z=Q)}return{title:te,description:ie,artUrl:se,backgroundUrl:z,url:W}},I=[{key:"apple_podcasts",label:"Apple Podcasts",fieldName:"apple_podcasts_url"},{key:"google_podcasts",label:"Google Podcasts",fieldName:"google_podcasts_url"},{key:"overcast",label:"Overcast",fieldName:"overcast_url"},{key:"pocket_casts",label:"Pocket Casts",fieldName:"pocket_casts_url"},{key:"spotify",label:"Spotify",fieldName:"spotify_url"},{key:"youtube",label:"YouTube",fieldName:"youtube_url"}],A=({platform:re,feedUrl:ee,isMobile:Y})=>ee?re==="apple_podcasts"?`podcast://${(0,P.stripProtocol)(ee)}`:re==="google_podcasts"&&Y?`googlepodcasts://subscribe-by-rss-feed?feed=${btoa(ee)}`:re==="overcast"&&Y?`overcast://x-callback-url/add?url=${encodeURIComponent(ee)}`:re==="pocket_casts"&&Y?`pktc://subscribe/${(0,P.stripProtocol)(ee)}`:null:null,M=({feedUrl:re,isMobile:ee,showLinks:Y,isPaid:J})=>{var te;const ie=[];for(const se of I){let W;J&&se.key!=="youtube"?W=A({platform:se.key,feedUrl:re,isMobile:ee}):W=(te=Y[se.fieldName])!=null?te:A({platform:se.key,feedUrl:re,isMobile:ee}),W&&ie.push({platform:se.key,url:W})}return ie},R=({feedUrl:re,isMobile:ee,render:Y,showLinks:J,user:te,analyticsSource:ie="shows_episode_page"})=>{const se=v()(I,"key");return c()([...M({feedUrl:re,isMobile:ee,showLinks:J,isPaid:!!(te!=null&&te.is_subscribed)}).map(W=>{const z=se[W.platform].label;return Y({key:W.platform,label:z,url:W.url,onClick:()=>{(0,y.j)(y.FP.PODCAST_APP_LINK_CLICK,{appName:z,feedUrl:re,url:W.url,source:ie}),window.open(W.url,"_blank")}})}),re&&Y({key:"rss",label:"RSS Feed",url:re,onClick:()=>{(0,y.j)(y.FP.PODCAST_FEED_URL_COPIED,{feedUrl:re,source:ie}),(0,O.ZP)("RSS feed URL copied"),(0,d.copyToClipboard)(re)}})])},F={apple_podcasts:["https://podcasts.apple.com/","https://itunes.apple.com/"],google_podcasts:["https://podcasts.google.com/"],overcast:["https://overcast.fm/"],pocket_casts:["https://pca.st/"],spotify:["https://open.spotify.com/"],youtube:["https://youtube.com/"]},Z=({platform:re,url:ee,language:Y})=>{const{iString:J,iTemplate:te}=I18N.i(Y),ie=F[re];return ie.every(se=>!ee.startsWith(se))?{isValid:!1,message:te`Invalid URL. URL should start with "${ie[0]}"`}:ee.length>255?{isValid:!1,message:J("URL can't be longer than 255 characters")}:{isValid:!0,message:null}},V=({showLinks:re,language:ee="en"})=>{const Y={};let J=!1;for(const te of I){const ie=re[te.fieldName];if(!ie)continue;const{isValid:se,message:W}=Z({platform:te.key,url:ie,language:ee});!se&&W&&(Y[te.fieldName]=W,J=!0)}return J?Y:null},G=({pub:re,section:ee})=>$(ee?ee.showLinks:re.show_links),$=re=>{const ee={apple_podcasts_url:null,google_podcasts_url:null,overcast_url:null,pocket_casts_url:null,spotify_url:null,youtube_url:null};if(!re)return ee;for(const Y of re){const J=`${Y.platform}_url`;ee[J]=Y.url}return ee},K="https://support.substack.com/hc/en-us/articles/4519588148244-How-do-I-listen-to-episodes-on-my-podcast-app-",H="comments-for-scroll"},82622:(j,l,e)=>{"use strict";e.d(l,{COMMENT_STATUS:()=>P,Hz:()=>E,Ng:()=>T,Sh:()=>d,Zu:()=>v,_N:()=>C,hO:()=>g,us:()=>y});var n=e(85200),c=e(46131);const u=1e4,v=9999;var O=(_=>(_.everyone="everyone",_.free_subscriber="free_subscriber",_.paid_subscriber="paid_subscriber",_))(O||{}),y=(_=>(_.comments_disabled="comments_disabled",_.free_subscription_required="free_subscription_required",_.paid_subscription_required="paid_subscription_required",_.founding_subscription_required="founding_subscription_required",_))(y||{});const E=({likesEnabled:_=!0,language:w="en"}={})=>{const{iString:x}=I18N.i(w),D=[];return D.push({key:"most_recent_first",text:x("New First"),description:x("Newest first (good for live events)")}),_&&D.push({key:"best_first",text:x("Top First"),description:x("Top ranked first")}),D.push({key:"oldest_first",text:x("Chronological"),description:x("Chronological order (oldest first)")}),D},d=(_,w)=>E({language:w}).find(x=>x.key===_).text,g=function(_,w){if(Symbol.iterator in Object(_)){for(const x of _)if(w(x)===!1||g(x.children||[],w)===!1)return!1}},P={review_required:"review_required",edit_review_required:"edit_review_required",published:"published",flagged:"flagged",deleted:"deleted",moderator_approved:"moderator_approved",moderator_removed:"moderator_removed",new_commenter_approval_required:"new_commenter_approval_required",reported:"reported"},S=new Set([P.review_required,P.edit_review_required,P.published,P.moderator_approved,P.new_commenter_approval_required,P.reported]),T=_=>_.deleted?!1:S.has(_.status);function C(_,w){const{attachments:x}=_;if(x&&x.length>0){for(const D of x)if(D.type==="post"){for(const N of D.post.publishedBylines)if(N.id===w)return!0;if((0,n.wN)(D.publication,w))return!0}else if(D.type==="comment"){if(D.comment.user_id===w)return!0}else if(D.type==="publication"&&(0,n.wN)(D.publication,w))return!0}return p(_).has(w)}function p(_){var w,x,D;const N=[];if(_.body_json)for(const I of(0,c.Z)(_.body_json))I.type==="substack_mention"&&(((w=I.attrs)==null?void 0:w.mentionType)==="user"||!((x=I.attrs)!=null&&x.mentionType))&&N.push((D=I.attrs)==null?void 0:D.id);return new Set(N)}function i(_){var w,x;const D=[];if(_.body_json)for(const N of traverse(_.body_json))N.type==="substack_mention"&&((w=N.attrs)==null?void 0:w.mentionType)==="pub"&&D.push((x=N.attrs)==null?void 0:x.id);return new Set(D)}function s(_){return _!=null&&_.body_json?!isEmptyNode(_.body_json):!1}},44043:(j,l,e)=>{"use strict";e.d(l,{F:()=>n});const n={ABOUT_PAGE_END_CTA_RENDERED:"About Page End Cta Rendered",ABOUT_PAGE_END_CTA_SEEN:"About Page End Cta Seen",ABOUT_PAGE_VISITED:"About Page Visited",ACCOUNT_CARD_PRESUBSCRIBE_CLICKED:"Account Card Presubscribe Clicked",ACCOUNT_CARD_READS_LINK_CLICKED:"Account Card Reads Link Clicked",ACCOUNT_CARD_SHOWN:"Account Card Shown",ACCOUNT_CARD_SUBSCRIBE_CLICKED:"Account Card Subscribe Clicked",ACCOUNT_CARD_UNPRESUBSCRIBE_CLICKED:"Account Card Unpresubscribe Clicked",ACCOUNT_CARD_VIEW_PROFILE_LINK_CLICKED:"Account Card View Profile Link Clicked",ACCOUNT_CARD_WRITES_LINK_CLICKED:"Account Card Writes Link Clicked",ACTIVITY_ITEM_TAPPED:"Activity Item Tapped",ACTIVITY_ITEM_VIEWED:"Activity Item Viewed",ACTIVITY_SCREEN_VIEWED:"Activity Screen Viewed",ADD_EPISODE_MEDIA_CLICKED:"Add Episode Media Clicked",ADD_TO_PODCAST_CLICKED:"Add To Podcast Clicked",ADD_TO_PODCAST_SCREEN_SHOWN:"Add To Podcast Screen Shown",ADD_TO_PODCAST_SKIPPED:"Add To Podcast Skipped",ADD_WATERMARK_CLICKED:"Add Watermark Clicked",APPLE_PAY_ATTEMPED:"Apple Pay Attemped",APPLE_PAY_FAILED:"Apple Pay Failed",APPLE_PAY_SETUP_FINISHED:"Apple Pay Setup Finished",APPLE_PAY_SETUP_STARTED:"Apple Pay Setup Started",APPLE_PAY_SUCCEEDED:"Apple Pay Succeeded",APP_BANNER_DISMISSED:"App Banner Dismissed",APP_BANNER_TAPPED:"App Banner Tapped",APP_BANNER_VIEWED:"App Banner Viewed",APP_INSTALL_MODAL_OPENED:"App Install Modal Opened",APP_PROMO_WIZARD_CLICKED:"App Promo Wizard Clicked",APP_PROMO_WIZARD_DISMISSED:"App Promo Wizard Dismissed",APP_PROMO_WIZARD_SEEN:"App Promo Wizard Seen",ARCHIVE_PAGE_POST_CLICKED:"Archive Page Post Clicked",AUDIOGRAM_DOWNLOAD_CLICKED:"Audiogram Download Clicked",AUDIO_BUFFERING_COMPLETED:"Audio Buffering Completed",AUDIO_BUFFERING_STARTED:"Audio Buffering Started",AUDIO_DRAWER_DONE_CLICKED:"Audio Drawer Done Clicked",AUDIO_MODAL_BROWSE_FILES_CLICKED:"Audio Modal Browse Files Clicked",AUDIO_MODAL_CANCEL_CLICKED:"Audio Modal Cancel Clicked",AUDIO_MODAL_DROPPED_FILE:"Audio Modal Dropped File",AUDIO_MODAL_INSERT_CLICKED:"Audio Modal Insert Clicked",AUDIO_MODAL_PLAYPAUSE_CLICKED:"Audio Modal Playpause Clicked",AUDIO_MODAL_START_OVER_CLICKED:"Audio Modal Start Over Clicked",AUDIO_PLAYBACK_COMPLETE:"Audio Playback Complete",AUDIO_PLAYBACK_CONTINUED:"Audio Playback Continued",AUDIO_PLAYBACK_STARTED:"Audio Playback Started",AUDIO_PRESS_RECORD_CLICKED:"Audio Press Record Clicked",AUDIO_UPLOAD_COMPLETED:"Audio Upload Completed",AUTOSAVE_CONFLICT_DISPLAYED:"Autosave Conflict Displayed",BESTSELLER_INFO_SHOWN:"Bestseller Info Shown",BILLING_FORM_ERROR:"Billing Form Error",BILLING_FORM_INPUT_FILLED:"Billing Form Input Filled",BILLING_FORM_MISSING_PAYMENT:"Billing Form Missing Payment",BILLING_FORM_SUBMIT_PRESSED:"Billing Form Submit Pressed",BILLING_UPDATE_PAGE_SEEN:"Billing Update Page Seen",BOOST_LEARN_MORE_CLICKED:"Boost Learn More Clicked",BOOST_MODAL_DONE_CLICKED:"Boost Modal Done Clicked",BOOST_MODAL_SEEN:"Boost Modal Seen",BOOST_MODAL_TURN_ON_CLICKED:"Boost Modal Turn On Clicked",BUNDLE_PUBLICATION_TOGGLED:"Bundle Publication Toggled",BUNDLE_SCREEN_SHOWN:"Bundle Screen Shown",BUNDLE_SUBSCRIBED:"Bundle Subscribed",BUNDLE_SUBSCRIBE_FAILED:"Bundle Subscribe Failed",BUNDLE_SUBSCRIBE_INITIATED:"Bundle Subscribe Initiated",CARD_EXPIRED_WARNING_DISMISSED:"Card Expired Warning Dismissed",CHAT_APP_UPSELL_SUBSCRIBE_SCREEN_SHOWN:"Chat App Upsell Subscribe Screen Shown",CHAT_CHECKLIST_GET_APP_CLICKED:"Chat Checklist Get App Clicked",CHAT_CHECKLIST_SEE_EXAMPLES_CLICKED:"Chat Checklist See Examples Clicked",CHAT_CHECKLIST_USE_TEMPLATE_CLICKED:"Chat Checklist Use Template Clicked",CHAT_ENABLE_DASHBOARD_CTA_CLICKED:"Chat Enable Dashboard Cta Clicked",CHAT_ENABLE_DASHBOARD_CTA_DISMISSED:"Chat Enable Dashboard Cta Dismissed",CHAT_ENABLE_DASHBOARD_CTA_SHOWN:"Chat Enable Dashboard Cta Shown",CHAT_INVITE_DRAFT_POST_CTA_CLICKED:"Chat Invite Draft Post Cta Clicked",CHAT_INVITE_DRAFT_POST_CTA_DISMISSED:"Chat Invite Draft Post Cta Dismissed",CHAT_INVITE_DRAFT_POST_CTA_SHOWN:"Chat Invite Draft Post Cta Shown",CHAT_READER_PARTICIPATION_CHANGED:"Chat Reader Participation Changed",CHAT_START_CHAT_THREAD_CLICKED:"Chat Start Chat Thread Clicked",CLICKED_CATEGORY:"Clicked Category",CLICKED_GO_TO_SUBSCRIPTION_ON_PROFILE_PAGE:"Clicked Go To Subscription On Profile Page",CLICKED_PAUSE_BUTTON:"Clicked Pause Button",CLICKED_PLAY_BUTTON:"Clicked Play Button",CLICKED_SUBSCRIBE_ON_PROFILE_PAGE:"Clicked Subscribe On Profile Page",COHORT_PAGE_CLICKED:"Cohort Page Clicked",COLLAPSED_POSTS_SHOWN:"Collapsed Posts Shown",COMMENTS_CLICKED:"Comments Clicked",COMMENTS_SORTED:"Comments Sorted",COMMENTS_VIEWED:"Comments Viewed",COMMENT_EXPAND_TOGGLE_CLICKED:"Comment Expand Toggle Clicked",COMMENT_PAYWALL_SHOWN:"Comment Paywall Shown",CONFLICT_TOAST_DISMISSED:"Conflict Toast Dismissed",CONNECT_FACEBOOK_SCREEN_COMPLETED:"Connect Facebook Screen Completed",CONNECT_FACEBOOK_SCREEN_VIEWED:"Connect Facebook Screen Viewed",COVER_PAGE_AUTHOR_CLICKED:"Cover Page Author Clicked",COVER_PAGE_BECOME_PAYING_CLICKED:"Cover Page Become Paying Clicked",COVER_PAGE_EMAIL_SUBMITTED:"Cover Page Email Submitted",COVER_PAGE_LEARN_MORE_CLICKED:"Cover Page Learn More Clicked",COVER_PAGE_MAYBE_LATER_CLICKED:"Cover Page Maybe Later Clicked",COVER_PAGE_REFERRAL_VISIT:"Cover Page Referral Visit",COVER_PAGE_SHOWN:"Cover Page Shown",CREDIT_TOKEN_OPT_OUT_MODAL_CLOSED:"Credit Token Opt Out Modal Closed",CREDIT_TOKEN_OPT_OUT_MODAL_SEEN:"Credit Token Opt Out Modal Seen",CREDIT_TOKEN_READER_ONBOARDING_STARTED:"Credit Token Reader Onboarding Started",CROSS_POST_MODAL_CLOSED:"Cross Post Modal Closed",CROSS_POST_MODAL_CONTINUED:"Cross Post Modal Continued",CROSS_POST_MODAL_CONTINUE_CLICKED:"Cross Post Modal Continue Clicked",CROSS_POST_MODAL_CONTINUE_FAILED:"Cross Post Modal Continue Failed",CROSS_POST_MODAL_SUBMITTED:"Cross Post Modal Submitted",CROSS_POST_MODAL_SUBMIT_CLICKED:"Cross Post Modal Submit Clicked",CROSS_POST_MODAL_SUBMIT_FAILED:"Cross Post Modal Submit Failed",CROSS_POST_MODAL_TYPING_STARTED:"Cross Post Modal Typing Started",CUSTOMER_SUPPORT_MODE_FORM_ERROR:"Customer Support Mode Form Error",CUSTOMER_SUPPORT_MODE_FORM_INPUT_FILLED:"Customer Support Mode Form Input Filled",CUSTOMER_SUPPORT_MODE_FORM_MISSING_PAYMENT:"Customer Support Mode Form Missing Payment",CUSTOMER_SUPPORT_MODE_FORM_SUBMIT_PRESSED:"Customer Support Mode Form Submit Pressed",CUSTOM_DOMAIN_CONFIG_ERROR:"Custom Domain Config Error",CUSTOM_DOMAIN_CONFIG_INPUT_FILLED:"Custom Domain Config Input Filled",CUSTOM_DOMAIN_CONFIG_MISSING_PAYMENT:"Custom Domain Config Missing Payment",CUSTOM_DOMAIN_CONFIG_SUBMIT_PRESSED:"Custom Domain Config Submit Pressed",CUSTOM_DOMAIN_INQUIRY:"Custom Domain Inquiry",CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED:"Custom Domain Login Redirect Attempted",CUSTOM_DOMAIN_PAYMENT_ERROR:"Custom Domain Payment Error",CUSTOM_DOMAIN_PAYMENT_INPUT_FILLED:"Custom Domain Payment Input Filled",CUSTOM_DOMAIN_PAYMENT_MISSING_PAYMENT:"Custom Domain Payment Missing Payment",CUSTOM_DOMAIN_PAYMENT_SUBMIT_PRESSED:"Custom Domain Payment Submit Pressed",DASHBOARD_ACTION_BOX_DISMISSED:"Dashboard Action Box Dismissed",DASHBOARD_ACTION_BOX_SHOWN:"Dashboard Action Box Shown",DASHBOARD_ACTION_CTA_CLICKED:"Dashboard Action Cta Clicked",DASHBOARD_ACTION_CTA_DISMISSED:"Dashboard Action Cta Dismissed",DEFAULT_PUBLICATION_CREATION_FAILED:"Default Publication Creation Failed",DONATE_SUBSCRIBE_FORM_ERROR:"Donate Subscribe Form Error",DONATE_SUBSCRIBE_FORM_INPUT_FILLED:"Donate Subscribe Form Input Filled",DONATE_SUBSCRIBE_FORM_MISSING_PAYMENT:"Donate Subscribe Form Missing Payment",DONATE_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Donate Subscribe Form Submit Pressed",DONATE_SUBSCRIBE_SCREEN_SHOWN:"Donate Subscribe Screen Shown",EARNING_CALCULATOR_INFO_CLICKED:"Earning Calculator Info Clicked",EARNING_CALCULATOR_UPDATED:"Earning Calculator Updated",EDITOR_AWARENESS_UPDATED:"Editor Awareness Updated",EDITOR_CONVERSION_SURVEY_SUBMITTED:"Editor Conversion Survey Submitted",EDITOR_MENU_ICON_CLICKED:"Editor Menu Icon Clicked",EDIT_POST_DROPDOWN_MENU_OPENED:"Edit Post Dropdown Menu Opened",EMAIL_LINK_INTERSTITIAL_CLICKED:"Email Link Interstitial Clicked",EMAIL_TYPO_SUGGESTION_ACCEPTED:"Email Typo Suggestion Accepted",EMAIL_TYPO_SUGGESTION_REJECTED:"Email Typo Suggestion Rejected",EMAIL_TYPO_SUGGESTION_SHOWN:"Email Typo Suggestion Shown",EMBED_URL_ATTEMPTED:"Embed Url Attempted",EMBED_URL_FAILED:"Embed Url Failed",EMBED_URL_SUCCEEDED:"Embed Url Succeeded",END_OF_POST_RECOMMEND_CTA_CLICKED:"End Of Post Recommend Cta Clicked",FACEBOOK_FOLLOW_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Follow Suggestions Screen Completed",FACEBOOK_FOLLOW_SUGGESTIONS_SCREEN_VIEWED:"Facebook Follow Suggestions Screen Viewed",FACEBOOK_PROFILE_VISIBLE_TOGGLED:"Facebook Profile Visible Toggled",FACEBOOK_PUB_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Pub Suggestions Screen Completed",FACEBOOK_PUB_SUGGESTIONS_SCREEN_VIEWED:"Facebook Pub Suggestions Screen Viewed",FACEBOOK_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Suggestions Screen Completed",FACEBOOK_SUGGESTIONS_SCREEN_VIEWED:"Facebook Suggestions Screen Viewed",FEATURED_COLLECTION_ITEM_CLICKED:"Featured Collection Item Clicked",FEATURE_ANNOUNCEMENT_BANNER_CLICKED:"Feature Announcement Banner Clicked",FEATURE_ANNOUNCEMENT_BANNER_SHOWN:"Feature Announcement Banner Shown",FEED_DASHBOARD_CTA_CLICKED:"Feed Dashboard Cta Clicked",FEED_DASHBOARD_CTA_DISMISSED:"Feed Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_CLICKED:"Feed First Note Dashboard Cta Clicked",FEED_FIRST_NOTE_DASHBOARD_CTA_DISMISSED:"Feed First Note Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_SHOWN:"Feed First Note Dashboard Cta Shown",FEED_HIDDEN_ATTACHMENT_SHOWN:"Feed Hidden Attachment Shown",FEED_ITEM_CLICKED:"Feed Item Clicked",FEED_ITEM_SEEN:"Feed Item Seen",FEED_ITEM_SHARE_LINK_CLICKED:"Feed Item Share Link Clicked",FEED_MODULE_ITEM_CLICKED:"Feed Module Item Clicked",FEED_MODULE_ITEM_SEEN:"Feed Module Item Seen",FEED_ONE_CLICK_SUBSCRIBE:"Feed One Click Subscribe",FEED_PERMALINK_SCREEN_VIEWED:"Feed Permalink Screen Viewed",FEED_PROFILE_SCREEN_VIEWED:"Feed Profile Screen Viewed",FEED_PUBLICATION_SCREEN_VIEWED:"Feed Publication Screen Viewed",FEED_SCREEN_VIEWED:"Feed Screen Viewed",FEED_USER_SUGGESTION_CLICKED:"Feed User Suggestion Clicked",FEED_USER_SUGGESTION_SEEN:"Feed User Suggestion Seen",FILES_REJECTED:"Files Rejected",FINISH_MAGIC_LOGIN_MODAL_SHOWN:"Finish Magic Login Modal Shown",FIRST_MONTH_UPSELL_MODAL_DONE_CLICKED:"First Month Upsell Modal Done Clicked",FIRST_MONTH_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"First Month Upsell Modal Edit Email Clicked",FIRST_MONTH_UPSELL_MODAL_SEEN:"First Month Upsell Modal Seen",FOUNDING_PRICE_CONFIRMATION_DISMISSED:"Founding Price Confirmation Dismissed",FOUNDING_PRICE_CONFIRMATION_REQUIRED:"Founding Price Confirmation Required",FOUNDING_PRICE_CONFIRMATION_SUBMITTED:"Founding Price Confirmation Submitted",FRAME_MESSAGE_HANDLED:"Frame Message Handled",FRAME_MESSAGE_SENT:"Frame Message Sent",FREE_PREVIEW_PAYWALL_RESTART_BUTTON_CLICKED:"Free Preview Paywall Restart Button Clicked",FREE_PREVIEW_PAYWALL_SHOWN:"Free Preview Paywall Shown",FREE_SIGNUP_FAILED:"Free Signup Failed",FULL_EMAIL_FORM_SHOWN:"Full Email Form Shown",GIFT_SUBSCRIBE_FORM_ERROR:"Gift Subscribe Form Error",GIFT_SUBSCRIBE_FORM_INPUT_FILLED:"Gift Subscribe Form Input Filled",GIFT_SUBSCRIBE_FORM_MISSING_PAYMENT:"Gift Subscribe Form Missing Payment",GIFT_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Gift Subscribe Form Submit Pressed",GIFT_SUBSCRIBE_SCREEN_SHOWN:"Gift Subscribe Screen Shown",GO_PAID_CTA_CLICKED:"Go Paid Cta Clicked",GO_PAID_CTA_DISMISSED:"Go Paid Cta Dismissed",GO_PAID_CTA_SHOWN:"Go Paid Cta Shown",GROUP_SUBSCRIBE_FORM_ERROR:"Group Subscribe Form Error",GROUP_SUBSCRIBE_FORM_INPUT_FILLED:"Group Subscribe Form Input Filled",GROUP_SUBSCRIBE_FORM_MISSING_PAYMENT:"Group Subscribe Form Missing Payment",GROUP_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Group Subscribe Form Submit Pressed",GROUP_SUBSCRIBE_MODAL_CANCEL_CLICKED:"Group Subscribe Modal Cancel Clicked",GROUP_SUBSCRIBE_MODAL_CONFIRM_CLICKED:"Group Subscribe Modal Confirm Clicked",GROUP_SUBSCRIBE_SCREEN_SHOWN:"Group Subscribe Screen Shown",HEADER_ANCHOR_WIDGET_CLICKED:"Header Anchor Widget Clicked",HEADER_SEARCHED:"Header Searched",HOLIDAY_GIFT_CTA_CLICKED:"Holiday Gift Cta Clicked",HOLIDAY_GIFT_CTA_DISMISSED:"Holiday Gift Cta Dismissed",HOLIDAY_GIFT_CTA_SHOWN:"Holiday Gift Cta Shown",HOMEPAGE_DASHBOARD_LINK_CLICKED:"Homepage Dashboard Link Clicked",HOMEPAGE_GET_STARTED_CLICKED:"Homepage Get Started Clicked",HOMEPAGE_GOING_PAID_LINK_CLICKED:"Homepage Going Paid Link Clicked",HOMEPAGE_GROW_LINK_CLICKED:"Homepage Grow Link Clicked",HOMEPAGE_LINK_CLICKED:"Homepage Link Clicked",HOMEPAGE_PUBLICATION_LINK_CLICKED:"Homepage Publication Link Clicked",HOMEPAGE_READER_LINK_CLICKED:"Homepage Reader Link Clicked",IMAGE_CONTEXT_MENU_CLICKED:"Image Context Menu Clicked",IMPORT_PUBLICATION_BYPASSED:"Import Publication Bypassed",IMPORT_PUBLICATION_CANCELLED:"Import Publication Cancelled",IMPORT_PUBLICATION_COMPLETE:"Import Publication Complete",IMPORT_PUBLICATION_CONFIRMED:"Import Publication Confirmed",IMPORT_PUBLICATION_ERROR:"Import Publication Error",IMPORT_PUBLICATION_ERROR_SKIPPED:"Import Publication Error Skipped",IMPORT_PUBLICATION_FILE_UPLOAD_ERROR:"Import Publication File Upload Error",IMPORT_PUBLICATION_FILE_UPLOAD_STARTED:"Import Publication File Upload Started",IMPORT_PUBLICATION_FILE_UPLOAD_SUCCEEDED:"Import Publication File Upload Succeeded",IMPORT_PUBLICATION_LOADED:"Import Publication Loaded",INBOX_LAYOUT_CHANGED:"Inbox Layout Changed",INBOX_POST_CLICKED:"Inbox Post Clicked",INBOX_TAB_CHANGED:"Inbox Tab Changed",INSTAGRAM_SHARE_MODAL_SEEN:"Instagram Share Modal Seen",INTERNATIONALIZATION_BETA_OPTIN_MODAL_SEEN:"Internationalization Beta Optin Modal Seen",INTERNATIONALIZATION_BETA_OPTIN_MODAL_SUBMITTED:"Internationalization Beta Optin Modal Submitted",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_LEARN_MORE_CLICKED:"Introducing Recommendation Digests Modal Learn More Clicked",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_SHOWN:"Introducing Recommendation Digests Modal Shown",INVITE_FRIENDS_MODAL_SHOWN:"Invite Friends Modal Shown",INVITE_FRIENDS_PAGE_SEEN:"Invite Friends Page Seen",INVITE_FRIENDS_SIGNIN_MODAL_SEEN:"Invite Friends Signin Modal Seen",LATEST_POST_CLICKED:"Latest Post Clicked",LATEX_BLOCK_ADDED:"Latex Block Added",LAUNCH_CHECKLIST_ITEM_CLICKED:"Launch Checklist Item Clicked",LAUNCH_CHECKLIST_SEEN:"Launch Checklist Seen",LIKE_ACTIVITY_TOGGLED:"Like Activity Toggled",LIKE_NUX_SHOWN:"Like Nux Shown",LIKE_UPSELL_FREE_SUBSCRIBED:"Like Upsell Free Subscribed",LIKE_UPSELL_MODAL_SEEN:"Like Upsell Modal Seen",LIKE_UPSELL_PLAN_SELECTED:"Like Upsell Plan Selected",LIKE_UPSELL_PLEDGE_CLICKED:"Like Upsell Pledge Clicked",LIKE_UPSELL_SHARE_CLICKED:"Like Upsell Share Clicked",LISTEN_TO_THIS_POST_MODAL_DISMISSED:"Listen To This Post Modal Dismissed",LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED:"Listen To This Post Modal Get The App Clicked",LISTEN_TO_THIS_POST_MODAL_SHOWN:"Listen To This Post Modal Shown",LIST_MANAGEMENT_MODAL_CLOSED:"List Management Modal Closed",LIST_MANAGEMENT_MODAL_ERROR:"List Management Modal Error",LIST_MANAGEMENT_MODAL_PUBLICATION_ADDED:"List Management Modal Publication Added",LIST_MANAGEMENT_MODAL_PUBLICATION_REMOVED:"List Management Modal Publication Removed",LIST_MANAGEMENT_MODAL_PUBLICATION_SEARCHED:"List Management Modal Publication Searched",LIST_MANAGEMENT_MODAL_PUBLICATION_SUGGESTION_ADDED:"List Management Modal Publication Suggestion Added",LIST_MANAGEMENT_MODAL_SEEN:"List Management Modal Seen",LIST_MANAGEMENT_MODAL_SUBMITTED:"List Management Modal Submitted",LIST_PROFILE_TAB_LIST_CLICKED:"List Profile Tab List Clicked",LIST_PROFILE_TAB_SEEN:"List Profile Tab Seen",LOCAL_CURRENCY_MODAL_SEEN:"Local Currency Modal Seen",LOCAL_CURRENCY_MODAL_TURN_OFF_CLICKED:"Local Currency Modal Turn Off Clicked",LOCAL_PAYMENT_METHODS_MODAL_SEEN:"Local Payment Methods Modal Seen",LOCAL_PAYMENT_METHODS_MODAL_TURN_OFF_CLICKED:"Local Payment Methods Modal Turn Off Clicked",MANAGE_RECOMMENDATIONS_BUTTON_CLICKED:"Manage Recommendations Button Clicked",MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED:"Manage Recommendations Learn More Clicked",MANAGE_RECOMMENDATIONS_MODAL_CLOSED:"Manage Recommendations Modal Closed",MANAGE_RECOMMENDATIONS_MODAL_OPENED:"Manage Recommendations Modal Opened",MANAGE_RECOMMENDATIONS_STEP_CHANGED:"Manage Recommendations Step Changed",MEDIA_UPLOAD_COMPLETED:"Media Upload Completed",MEDIA_UPLOAD_CREATED:"Media Upload Created",MEDIA_UPLOAD_FAILED:"Media Upload Failed",MEDIA_UPLOAD_STARTED:"Media Upload Started",MEETING_MISSING_PAYMENT:"Meeting Missing Payment",MEETING_ORDER_PAGE_VIEWED:"Meeting Order Page Viewed",MEETING_PAGE_VIEWED:"Meeting Page Viewed",MEETING_POST_TEMPLATE_CREATED:"Meeting Post Template Created",MEETING_SUBMIT_PRESSED:"Meeting Submit Pressed",MILESTONE_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Milestone Media Assets Image Downloaded",NATIVE_SHARE_FAILED:"Native Share Failed",NATIVE_SHARE_SUCCESS:"Native Share Success",NAV_BAR_CTA_CLICKED:"Nav Bar Cta Clicked",NAV_BAR_HOME_LINK_CLICKED:"Nav Bar Home Link Clicked",NEW_GUEST_POST_CLICKED:"New Guest Post Clicked",NEW_SUBSCRIPTION_ON_PROFILE_DISPLAYED:"New Subscription On Profile Displayed",NEXT_POST_LINK_CLICKED:"Next Post Link Clicked",NOTES_BAN_PAGE_VIEWED:"Notes Ban Page Viewed",NOTES_TAB_ANNOUNCEMENT_CLICKED:"Notes Tab Announcement Clicked",NOTES_TAB_ANNOUNCEMENT_DISMISSED:"Notes Tab Announcement Dismissed",NOTIFICATIONS_ALERT_SHOWN:"Notifications Alert Shown",NOTIFICATIONS_DROPDOWN_VIEWED:"Notifications Dropdown Viewed",NOTIFICATIONS_UNREAD_SHOWN:"Notifications Unread Shown",NOT_YOU_BANNER_DISMISSED:"Not You Banner Dismissed",NOT_YOU_BANNER_TAPPED:"Not You Banner Tapped",NOT_YOU_BANNER_VIEWED:"Not You Banner Viewed",OPENNODE_ACCOUNT_SIGNUP_CLICKED:"Opennode Account Signup Clicked",OPENNODE_GENERATE_API_KEY_CLICKED:"Opennode Generate Api Key Clicked",OTHER_SUBSCRIPTION_OPTIONS_CLICKED:"Other Subscription Options Clicked",OTHER_SUBSCRIPTION_OPTION_SELECTED:"Other Subscription Option Selected",PAGES:"Pages",PAYMENT_CONFIRMATION_FAILED:"Payment Confirmation Failed",PAYMENT_CONFIRMATION_STARTED:"Payment Confirmation Started",PAYMENT_CONFIRMATION_SUCCEEDED:"Payment Confirmation Succeeded",PAYMENT_PLEDGE_LAUNCH_MODAL_SEEN:"Payment Pledge Launch Modal Seen",PAYMENT_PLEDGE_LAUNCH_MODAL_TURN_OFF_CLICKED:"Payment Pledge Launch Modal Turn Off Clicked",PAYMENT_PLEDGE_MISSING_PAYMENT:"Payment Pledge Missing Payment",PAYMENT_PLEDGE_NOTE_SCREEN_FAILED:"Payment Pledge Note Screen Failed",PAYMENT_PLEDGE_NOTE_SCREEN_SEEN:"Payment Pledge Note Screen Seen",PAYMENT_PLEDGE_NOTE_SCREEN_SUBMITTED:"Payment Pledge Note Screen Submitted",PAYMENT_PLEDGE_PRICE_WARNING_SEEN:"Payment Pledge Price Warning Seen",PAYMENT_PLEDGE_SCREEN_FAILED:"Payment Pledge Screen Failed",PAYMENT_PLEDGE_SCREEN_SEEN:"Payment Pledge Screen Seen",PAYMENT_PLEDGE_SCREEN_SKIPPED:"Payment Pledge Screen Skipped",PAYMENT_PLEDGE_SCREEN_SUBMITTED:"Payment Pledge Screen Submitted",PAYMENT_SETUP_BUTTON_CLICKED:"Payment Setup Button Clicked",PAYWALL_FREE_SIGNUP_FAILED:"Paywall Free Signup Failed",PAYWALL_FREE_TRIAL_CTA_CLICKED:"Paywall Free Trial Cta Clicked",PAYWALL_FREE_TRIAL_CTA_DISMISSED:"Paywall Free Trial Cta Dismissed",PAYWALL_FREE_TRIAL_CTA_SHOWN:"Paywall Free Trial Cta Shown",PAYWALL_PROMPT_ACCEPTED:"Paywall Prompt Accepted",PAYWALL_PROMPT_REJECTED:"Paywall Prompt Rejected",PLAN_PURCHASE_BOX_ERROR:"Plan Purchase Box Error",PLAN_PURCHASE_BOX_SEEN:"Plan Purchase Box Seen",PLAN_PURCHASE_BOX_STRIPE_ERROR:"Plan Purchase Box Stripe Error",PLAN_PURCHASE_BOX_SUBMITTED:"Plan Purchase Box Submitted",PLEDGE_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Pledge Note Media Assets Image Downloaded",PODCAST_APP_LINK_CLICK:"Podcast App Link Click",PODCAST_EDITING_COMPLETE:"Podcast Editing Complete",PODCAST_EDITING_ERROR:"Podcast Editing Error",PODCAST_EDITING_INITIATED:"Podcast Editing Initiated",PODCAST_EDITOR_CTA_CLICKED:"Podcast Editor Cta Clicked",PODCAST_EDITOR_CTA_DISMISSED:"Podcast Editor Cta Dismissed",PODCAST_EDITOR_CTA_SEEN:"Podcast Editor Cta Seen",PODCAST_EMAIL_LINK_CLICKED:"Podcast Email Link Clicked",PODCAST_EPISODE_NOTES_SAVE_CLICKED:"Podcast Episode Notes Save Clicked",PODCAST_FEED_URL_COPIED:"Podcast Feed Url Copied",PODCAST_LISTEN_ON_CLICKED:"Podcast Listen On Clicked",PODCAST_PREVIEW_MENU_ADD_PREVIEW_CLICKED:"Podcast Preview Menu Add Preview Clicked",PODCAST_PREVIEW_MENU_CLICKED:"Podcast Preview Menu Clicked",PODCAST_PREVIEW_MENU_REMOVE_CLICKED:"Podcast Preview Menu Remove Clicked",PODCAST_PREVIEW_MENU_REMOVE_PREVIEW_CLICKED:"Podcast Preview Menu Remove Preview Clicked",PODCAST_SETUP_COMPLETE:"Podcast Setup Complete",PODCAST_SETUP_ERROR:"Podcast Setup Error",PODCAST_SETUP_INITIATED:"Podcast Setup Initiated",POLL_SIGNUP_DIALOG_CLOSED:"Poll Signup Dialog Closed",POLL_SIGNUP_DIALOG_PRESENTED:"Poll Signup Dialog Presented",POLL_SIGNUP_DIALOG_SUBMITTED:"Poll Signup Dialog Submitted",POSTS_PAGE_FILTERED:"Posts Page Filtered",POSTS_PAGE_SORTED:"Posts Page Sorted",POST_ARCHIVED:"Post Archived",POST_BOTTOM_SEEN:"Post Bottom Seen",POST_COMMENTS_FOOTER_SEEN:"Post Comments Footer Seen",POST_COMPOSER_CREATION_SHARED:"Post Composer Creation Shared",POST_COMPOSER_CREATION_SHARE_SHEET_VIEWED:"Post Composer Creation Share Sheet Viewed",POST_COMPOSER_DRAFT_LOADED:"Post Composer Draft Loaded",POST_COMPOSER_PUBLISH_CONFIRMATION_VIEWED:"Post Composer Publish Confirmation Viewed",POST_COMPOSER_PUB_PICKER_PUB_SELECTED:"Post Composer Pub Picker Pub Selected",POST_COMPOSER_PUB_PICKER_VIEWED:"Post Composer Pub Picker Viewed",POST_COMPOSER_SETTINGS_VIEWED:"Post Composer Settings Viewed",POST_COMPOSER_VIEWED:"Post Composer Viewed",POST_EDITOR_ADD_GUEST_CLICKED:"Post Editor Add Guest Clicked",POST_END_CTA_CLICKED:"Post End Cta Clicked",POST_END_CTA_RENDERED:"Post End Cta Rendered",POST_END_CTA_SEEN:"Post End Cta Seen",POST_INFO_VIEWED:"Post Info Viewed",POST_LINK_CLICKED:"Post Link Clicked",POST_PAGE_PINGBACK:"Post Page Pingback",POST_PAYWALL_SHOWN:"Post Paywall Shown",POST_PREVIEW_OPTION:"Post Preview Option",POST_PUBLISHED_SETTINGS:"Post Published Settings",POST_REACTIONS_MODAL_VIEWED:"Post Reactions Modal Viewed",POST_RECOMMENDATIONS_SHOWN:"Post Recommendations Shown",POST_SAVED:"Post Saved",POST_SEARCH_RESULT_CLICKED:"Post Search Result Clicked",POST_SEEN:"Post Seen",POST_SHARE_BUTTON_CLICKED:"Post Share Button Clicked",POST_STATS_ANNOUNCEMENT_CLICKED:"Post Stats Announcement Clicked",POST_TEXT_SELECTED:"Post Text Selected",POST_VIEWER_CLOSED:"Post Viewer Closed",POST_VIEWER_NAVIGATED:"Post Viewer Navigated",POST_VIEWER_VIEWED:"Post Viewer Viewed",PREFERRED_LANGUAGE_SET:"Preferred Language Set",PREFER_APPLE_PAY_CLICKED:"Prefer Apple Pay Clicked",PREFER_CREDIT_CARD_CLICKED:"Prefer Credit Card Clicked",PREPUBLISH_PROMPT_DISPLAYED:"Prepublish Prompt Displayed",PREVIEW_BUTTON_CLICKED:"Preview Button Clicked",PREVIOUS_POST_LINK_CLICKED:"Previous Post Link Clicked",PROCESSING_EPISODE_MEDIA_CLICKED:"Processing Episode Media Clicked",PROCESSING_VOICEOVER_AUDIO_CLICKED:"Processing Voiceover Audio Clicked",PROFILE_EDITED:"Profile Edited",PROFILE_FILLED_OUT:"Profile Filled Out",PROFILE_MORE_MENU_TAPPED:"Profile More Menu Tapped",PROFILE_PEOPLE_LIST_VIEWED:"Profile People List Viewed",PROFILE_SHARE_LINK_CLICKED:"Profile Share Link Clicked",PROFILE_STARTED:"Profile Started",PROFILE_UPDATER_SHOWN:"Profile Updater Shown",PROFILE_VISIBILITY_SET:"Profile Visibility Set",PROFILE_VISITED:"Profile Visited",PUBLICATION_FOOTER_SEEN:"Publication Footer Seen",PUBLICATION_HOVER_CARD_SHOWN:"Publication Hover Card Shown",PUBLICATION_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Publication Media Assets Image Downloaded",PUBLICATION_RECOMMENDATIONS_SHOWN:"Publication Recommendations Shown",PUBLICATION_RECOMMENDATION_LINK_CLICKED:"Publication Recommendation Link Clicked",PUBLICATION_SETTING_TEXT_INPUT_ERRORED:"Publication Setting Text Input Errored",PUBLICATION_SHARE_BUTTON_CLICKED:"Publication Share Button Clicked",PUBLICATION_THREADS_SCREEN_VIEWED:"Publication Threads Screen Viewed",PUBLICATION_VISITED:"Publication Visited",PUBLIC_LEADERBOARD_VIEWED:"Public Leaderboard Viewed",PUBLISHER_DASHBOARD_POST_BUTTON_CLICKED:"Publisher Dashboard Post Button Clicked",PUBLISHER_DASHBOARD_SEEN:"Publisher Dashboard Seen",PUBLISHER_DASHBOARD_VISIT_SITE_CLICKED:"Publisher Dashboard Visit Site Clicked",PUBLISH_DISABLED_APPEALED:"Publish Disabled Appealed",REACTION_REJECTED:"Reaction Rejected",READER_FLOATING_CTA_HOVERED:"Reader Floating Cta Hovered",READER_INBOX_TAB_CHANGED:"Reader Inbox Tab Changed",READER_ONBOARDING_APP_UPSELL_SHOWN:"Reader Onboarding App Upsell Shown",READER_ONBOARDING_BULK_SUBSCRIBED:"Reader Onboarding Bulk Subscribed",READER_ONBOARDING_BULK_SUBSCRIBE_SELECTED_IN_UI:"Reader Onboarding Bulk Subscribe Selected In Ui",READER_ONBOARDING_BULK_SUBSCRIBE_SKIPPED:"Reader Onboarding Bulk Subscribe Skipped",READER_ONBOARDING_CATEGORIES_FINALIZED:"Reader Onboarding Categories Finalized",READER_ONBOARDING_CATEGORY_REQUESTED:"Reader Onboarding Category Requested",READER_ONBOARDING_CREATE_PUBLICATION_STEP_ERROR:"Reader Onboarding Create Publication Step Error",READER_ONBOARDING_CREATE_PUBLICATION_STEP_STARTED:"Reader Onboarding Create Publication Step Started",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_SKIPPED:"Reader Onboarding Create Publication Success Step Skipped",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_STARTED:"Reader Onboarding Create Publication Success Step Started",READER_ONBOARDING_EDIT_SUB_VISIBILITY_SKIPPED:"Reader Onboarding Edit Sub Visibility Skipped",READER_ONBOARDING_ERROR:"Reader Onboarding Error",READER_ONBOARDING_INVITE_FRIENDS_PAID_REFERRAL_STEP_SHOWN:"Reader Onboarding Invite Friends Paid Referral Step Shown",READER_ONBOARDING_MODAL_CLOSED:"Reader Onboarding Modal Closed",READER_ONBOARDING_MODAL_OPENED:"Reader Onboarding Modal Opened",READER_ONBOARDING_NO_TWITTER_PUBS_RECOMMENDED:"Reader Onboarding No Twitter Pubs Recommended",READER_ONBOARDING_PROFILE_SETUP_SKIPPED:"Reader Onboarding Profile Setup Skipped",READER_ONBOARDING_PROFILE_SETUP_STARTED:"Reader Onboarding Profile Setup Started",READER_ONBOARDING_PUB_LANDING_LET_ME_READ_CLICKED:"Reader Onboarding Pub Landing Let Me Read Clicked",READER_ONBOARDING_PUB_LANDING_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Landing Signup Succeeded",READER_ONBOARDING_PUB_LANDING_SUBSCRIBE_CLICKED:"Reader Onboarding Pub Landing Subscribe Clicked",READER_ONBOARDING_PUB_RECOMMENDED:"Reader Onboarding Pub Recommended",READER_ONBOARDING_PUB_SIGNUP_FAILED:"Reader Onboarding Pub Signup Failed",READER_ONBOARDING_PUB_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Signup Succeeded",READER_ONBOARDING_SIGNUP_FAILED:"Reader Onboarding Signup Failed",READER_ONBOARDING_SIGNUP_SUCCEEDED:"Reader Onboarding Signup Succeeded",READER_ONBOARDING_SKIP_CATEGORIES_CLICKED:"Reader Onboarding Skip Categories Clicked",READER_ONBOARDING_SKIP_SUBSCRIBE_CLICKED:"Reader Onboarding Skip Subscribe Clicked",READER_ONBOARDING_SKIP_TWITTER_CLICKED:"Reader Onboarding Skip Twitter Clicked",READER_ONBOARDING_START_READING_CLICKED:"Reader Onboarding Start Reading Clicked",READER_ONBOARDING_START_WRITING_STEP_SKIPPED:"Reader Onboarding Start Writing Step Skipped",READER_ONBOARDING_START_WRITING_STEP_STARTED:"Reader Onboarding Start Writing Step Started",READER_ONBOARDING_STEP_CHANGED:"Reader Onboarding Step Changed",READER_ONBOARDING_TWITTER_LINK_CLICKED:"Reader Onboarding Twitter Link Clicked",READER_REFERRALS_MODAL_LEARN_MORE_CLICKED:"Reader Referrals Modal Learn More Clicked",READER_REFERRALS_MODAL_LEARN_MORE_SEEN:"Reader Referrals Modal Learn More Seen",READER_REFERRALS_MODAL_OPT_IN_CLICKED:"Reader Referrals Modal Opt In Clicked",READER_REFERRALS_MODAL_OPT_OUT_CLICKED:"Reader Referrals Modal Opt Out Clicked",READING_QUEUE_ITEM_CLICKED:"Reading Queue Item Clicked",READING_QUEUE_ITEM_DISMISSED:"Reading Queue Item Dismissed",READING_QUEUE_ITEM_SEEN:"Reading Queue Item Seen",RECENT_EPISODE_ITEM_CLICKED:"Recent Episode Item Clicked",RECENT_EPISODE_ITEM_SEEN:"Recent Episode Item Seen",RECOMMENDATIONS_CTA_CLICKED:"Recommendations Cta Clicked",RECOMMENDATIONS_CTA_DISMISSED:"Recommendations Cta Dismissed",RECOMMENDATIONS_CTA_SHOWN:"Recommendations Cta Shown",RECOMMENDATIONS_INVITE_WRITER_CLICKED:"Recommendations Invite Writer Clicked",RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED:"Recommendation Subscribe Button Clicked",RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED:"Recommendation Unsubscribe Button Clicked",RECOMMENDED_POST_CLICKED:"Recommended Post Clicked",RECOMMENDED_PUBLICATIONS_MAYBE_LATER_CLICKED:"Recommended Publications Maybe Later Clicked",RECOMMENDED_PUBLICATION_CLICKED:"Recommended Publication Clicked",RECOMMENDED_PUBLICATION_TOGGLED:"Recommended Publication Toggled",RECOMMEND_FROM_WRITER_ONBOARDING_CLICKED:"Recommend From Writer Onboarding Clicked",RECOMMEND_FROM_WRITER_ONBOARDING_SKIPPED:"Recommend From Writer Onboarding Skipped",RECORD_EPISODE_AUDIO_CLICKED:"Record Episode Audio Clicked",REDIRECTED_PAYMENT_SCREEN_SHOWN:"Redirected Payment Screen Shown",REFERRALS_ENABLE_DASHBOARD_CTA_CLICKED:"Referrals Enable Dashboard Cta Clicked",REFERRALS_ENABLE_DASHBOARD_CTA_DISMISSED:"Referrals Enable Dashboard Cta Dismissed",REFERRALS_ENABLE_DASHBOARD_CTA_SHOWN:"Referrals Enable Dashboard Cta Shown",REMOVE_WATERMARK_CLICKED:"Remove Watermark Clicked",REPLY_ACTIVITY_SCREEN_VIEWED:"Reply Activity Screen Viewed",RESTACK_POST_CLICKED:"Restack Post Clicked",RESTACK_POST_SUBMITTED:"Restack Post Submitted",RESTACK_SELECTION_CLICKED:"Restack Selection Clicked",SAVED_CARD_PAYWALL_FAILED:"Saved Card Paywall Failed",SAVED_CARD_PAYWALL_SEEN:"Saved Card Paywall Seen",SAVED_CARD_PAYWALL_SUBMITTED:"Saved Card Paywall Submitted",SAVED_POST_CLICKED:"Saved Post Clicked",SAVE_WATERMARK_CLICKED:"Save Watermark Clicked",SCHEDULED_POST_SEEN:"Scheduled Post Seen",SCORE_BASED_UPSELL_MODAL_DONE_CLICKED:"Score Based Upsell Modal Done Clicked",SCORE_BASED_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"Score Based Upsell Modal Edit Email Clicked",SCORE_BASED_UPSELL_MODAL_SEEN:"Score Based Upsell Modal Seen",SECRET_LINK_COPIED:"Secret Link Copied",SECTION_DELETION_INITIATED:"Section Deletion Initiated",SECTION_EDITING_ERROR:"Section Editing Error",SECTION_EMAIL_STATE_SCREEN_SHOWN:"Section Email State Screen Shown",SECTION_SETUP_ERROR:"Section Setup Error",SECURITY_QUESTIONS_VIEWED:"Security Questions Viewed",SEEKED_AUDIO:"Seeked Audio",SELECTED_PLAN_CHANGED:"Selected Plan Changed",SEND_AS_EMAIL_PROMPT_ACCEPTED:"Send As Email Prompt Accepted",SEND_AS_EMAIL_PROMPT_REJECTED:"Send As Email Prompt Rejected",SEND_NOTE_AS_EMAIL_CONFIRMATION_CONFIRMED:"Send Note As Email Confirmation Confirmed",SEND_NOTE_AS_EMAIL_CONFIRMATION_REJECTED:"Send Note As Email Confirmation Rejected",SEND_NOTE_AS_EMAIL_PUBLICATION_SELECTED:"Send Note As Email Publication Selected",SEND_NOTE_AS_EMAIL_TOGGLE_CLICKED:"Send Note As Email Toggle Clicked",SETTINGS_PAGE_CONFIRM_EMAIL_BANNER_SHOWN:"Settings Page Confirm Email Banner Shown",SETTINGS_PAGE_CONFIRM_EMAIL_BUTTON_TAPPED:"Settings Page Confirm Email Button Tapped",SETUP_PLANS_PAGE_FAILED:"Setup Plans Page Failed",SETUP_TWITTER_CTA_CONNECT_CLICKED:"Setup Twitter Cta Connect Clicked",SETUP_TWITTER_CTA_DISMISSED:"Setup Twitter Cta Dismissed",SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED:"Setup Twitter Cta Setdiscoverable Clicked",SET_NEW_RATES_CLICKED:"Set New Rates Clicked",SHARE_CENTER_INSTAGRAM_MODAL_OPENED:"Share Center Instagram Modal Opened",SHARE_CENTER_MEDIA_ASSETS_EMAILED:"Share Center Media Assets Emailed",SHARE_CENTER_MEDIA_ASSETS_EMAILED_FAILED:"Share Center Media Assets Emailed Failed",SHARE_CENTER_SEEN:"Share Center Seen",SHARE_CENTER_VIDEO_DOWNLOADED:"Share Center Video Downloaded",SHARE_CENTER_VIDEO_SELECT_QUOTE_CLICKED:"Share Center Video Select Quote Clicked",SHARE_DIALOG_MORE_OPTION_CLICKED:"Share Dialog More Option Clicked",SHARE_DIALOG_OPENED:"Share Dialog Opened",SHARE_LINK_CLICKED:"Share Link Clicked",SHARE_PUBLICATION_MODAL_OPENED:"Share Publication Modal Opened",SHARE_SELECTION_EDIT_MODAL_OPENED:"Share Selection Edit Modal Opened",SHARE_SELECTION_IMAGE_DOWNLOADED:"Share Selection Image Downloaded",SHARE_SELECTION_INSTAGRAM_MODAL_OPENED:"Share Selection Instagram Modal Opened",SHARE_SELECTION_MODAL_OPENED:"Share Selection Modal Opened",SHARE_SELECTION_RESTACK_CLICKED:"Share Selection Restack Clicked",SIGN_IN_APP_UPSELL_CLICKED:"Sign In App Upsell Clicked",STAGED_RELEASE_SCHEDULED:"Staged Release Scheduled",STATS_PAGE_VIEWED:"Stats Page Viewed",STATS_PLACEHOLDER_SEEN:"Stats Placeholder Seen",STREAKS_MODAL_SEEN:"Streaks Modal Seen",STREAKS_MODAL_TURN_ON_CLICKED:"Streaks Modal Turn On Clicked",SUBDOMAIN_CHANGED:"Subdomain Changed",SUBSCRIBER_BADGE_INFO_SHOWN:"Subscriber Badge Info Shown",SUBSCRIBER_COUNT_ANNOUNCEMENT_DISMISSED:"Subscriber Count Announcement Dismissed",SUBSCRIBER_COUNT_ANNOUNCEMENT_SETTINGS_CLICKED:"Subscriber Count Announcement Settings Clicked",SUBSCRIBER_COUNT_ANNOUNCEMENT_SHOWN:"Subscriber Count Announcement Shown",SUBSCRIBER_REFERRALS_SETUP_ERROR:"Subscriber Referrals Setup Error",SUBSCRIBER_REFERRALS_SETUP_MODAL_NOT_NOW:"Subscriber Referrals Setup Modal Not Now",SUBSCRIBER_REFERRALS_SETUP_MODAL_SHOWN:"Subscriber Referrals Setup Modal Shown",SUBSCRIBER_REFERRALS_SETUP_MODAL_SUBMITTED:"Subscriber Referrals Setup Modal Submitted",SUBSCRIBE_BUTTON_FLOATING_IN_POST_CLICKED:"Subscribe Button Floating In Post Clicked",SUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Subscribe Button In Reader Onboarding Clicked",SUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Subscribe Button In Search Results Clicked",SUBSCRIBE_CONFIRM_PAYMENT_SCREEN_SHOWN:"Subscribe Confirm Payment Screen Shown",SUBSCRIBE_CTA_PROMPT_ACCEPTED:"Subscribe Cta Prompt Accepted",SUBSCRIBE_CTA_PROMPT_REJECTED:"Subscribe Cta Prompt Rejected",SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN:"Subscribe Email Full Screen Shown",SUBSCRIBE_EMAIL_SCREEN_SHOWN:"Subscribe Email Screen Shown",SUBSCRIBE_FLOW_START_WRITING_SEEN:"Subscribe Flow Start Writing Seen",SUBSCRIBE_FOOTER_SEEN:"Subscribe Footer Seen",SUBSCRIBE_FORM_ERROR:"Subscribe Form Error",SUBSCRIBE_FORM_INPUT_FILLED:"Subscribe Form Input Filled",SUBSCRIBE_FORM_MISSING_PAYMENT:"Subscribe Form Missing Payment",SUBSCRIBE_FORM_SUBMIT_PRESSED:"Subscribe Form Submit Pressed",SUBSCRIBE_INVITE_SCREEN_SHOWN:"Subscribe Invite Screen Shown",SUBSCRIBE_LATER_SCREEN_SHOWN:"Subscribe Later Screen Shown",SUBSCRIBE_MODAL_IN_POST_CLOSED:"Subscribe Modal In Post Closed",SUBSCRIBE_MODAL_IN_POST_OPENED_AUTOMATICALLY:"Subscribe Modal In Post Opened Automatically",SUBSCRIBE_NOTE_SCREEN_FAILED:"Subscribe Note Screen Failed",SUBSCRIBE_NOTE_SCREEN_SEEN:"Subscribe Note Screen Seen",SUBSCRIBE_NOTE_SCREEN_SUBMITTED:"Subscribe Note Screen Submitted",SUBSCRIBE_PAGE_BULK_SUBSCRIBED:"Subscribe Page Bulk Subscribed",SUBSCRIBE_PAGE_REFERRAL_VISIT:"Subscribe Page Referral Visit",SUBSCRIBE_PROMPT_DISMISSED:"Subscribe Prompt Dismissed",SUBSCRIBE_PROMPT_EXPANDED:"Subscribe Prompt Expanded",SUBSCRIBE_PROMPT_SHOWN:"Subscribe Prompt Shown",SUBSCRIBE_PROMPT_SIGN_IN_CLICKED:"Subscribe Prompt Sign In Clicked",SUBSCRIBE_PROMPT_SUBMITTED:"Subscribe Prompt Submitted",SUBSCRIBE_SCREEN_SHOWN:"Subscribe Screen Shown",SUBSCRIBE_SCREEN_STEP_SHOWN:"Subscribe Screen Step Shown",SUBSCRIBE_SCREEN_SUBMIT_ERROR:"Subscribe Screen Submit Error",SUBSCRIBE_SCREEN_TYPE_SELECTED:"Subscribe Screen Type Selected",SUBSCRIBE_THANK_YOU_SCREEN_SHOWN:"Subscribe Thank You Screen Shown",SUBSCRIBE_TWEET_SCREEN_SHOWN:"Subscribe Tweet Screen Shown",SUBSCRIPTION_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Subscription Note Media Assets Image Downloaded",SUGGESTED_PUBS_SCREEN_SHOWN:"Suggested Pubs Screen Shown",SUGGESTED_RECOMMEND_SUBSCRIBING_PUB_SCREEN_SHOWN:"Suggested Recommend Subscribing Pub Screen Shown",SUGGESTED_SUBDOMAIN_SELECTED:"Suggested Subdomain Selected",TEST_DRAFT_EMAIL_ERROR:"Test Draft Email Error",TEST_DRAFT_EMAIL_INPUT_FILLED:"Test Draft Email Input Filled",TEST_DRAFT_EMAIL_MISSING_PAYMENT:"Test Draft Email Missing Payment",TEST_DRAFT_EMAIL_SUBMIT_PRESSED:"Test Draft Email Submit Pressed",THREADS_COMPOSER_SCREEN_VIEWED:"Threads Composer Screen Viewed",THREADS_INBOX_SCREEN_VIEWED:"Threads Inbox Screen Viewed",THREAD_PAYWALL_SCREEN_VIEWED:"Thread Paywall Screen Viewed",THREAD_PERMALINK_VIEWED:"Thread Permalink Viewed",THREAD_REPLY_PERMALINK_VIEWED:"Thread Reply Permalink Viewed",THREAD_SUBSCRIBE_WALL_VIEWED:"Thread Subscribe Wall Viewed",TICKER_DID_YOU_MEAN_CLICKED:"Ticker Did You Mean Clicked",TOP_POSTS_FOOTER_SEEN:"Top Posts Footer Seen",TRANSCRIPTION_PAGE_VIEWED:"Transcription Page Viewed",TRANSCRIPTION_TOGGLED:"Transcription Toggled",TWITTER_AUTO_SHARE_OPTION_TOGGLED:"Twitter Auto Share Option Toggled",TWITTER_PROFILE_VISIBLE_TOGGLED:"Twitter Profile Visible Toggled",UNSUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Unsubscribe Button In Reader Onboarding Clicked",UNSUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Unsubscribe Button In Search Results Clicked",UPDATE_EXPIRED_CARD_LINK_CLICKED:"Update Expired Card Link Clicked",UPGRADE_PLAN_MODAL_DISMISSED:"Upgrade Plan Modal Dismissed",UPGRADE_PLAN_MODAL_OPENED:"Upgrade Plan Modal Opened",UPGRADE_PLAN_MODAL_PLAN_CHANGED:"Upgrade Plan Modal Plan Changed",UPGRADE_PLAN_MODAL_SUBMITTED:"Upgrade Plan Modal Submitted",UPLOAD_AUDIO_CLICKED:"Upload Audio Clicked",UPLOAD_EPISODE_AUDIO_CLICKED:"Upload Episode Audio Clicked",UPLOAD_VIDEO_CLICKED:"Upload Video Clicked",USER_HEAD_CLICKED:"User Head Clicked",USER_LINK_CLICKED:"User Link Clicked",USER_MENU_ACCOUNT_SETTINGS_CLICKED:"User Menu Account Settings Clicked",USER_MENU_ACTIVITY_CLICKED:"User Menu Activity Clicked",USER_MENU_DASHBOARD_CLICKED:"User Menu Dashboard Clicked",USER_MENU_DISCOVER_CLICKED:"User Menu Discover Clicked",USER_MENU_DISMISSED:"User Menu Dismissed",USER_MENU_INVITE_FRIENDS_CLICKED:"User Menu Invite Friends Clicked",USER_MENU_MANAGE_SUBSCRIPTION_CLICKED:"User Menu Manage Subscription Clicked",USER_MENU_OPENED:"User Menu Opened",USER_MENU_PROFILE_CLICKED:"User Menu Profile Clicked",USER_MENU_READER_CLICKED:"User Menu Reader Clicked",USER_MENU_SAVED_CLICKED:"User Menu Saved Clicked",VIDEO_BUFFERING_COMPLETED:"Video Buffering Completed",VIDEO_BUFFERING_STARTED:"Video Buffering Started",VIDEO_CLIP_BUTTON_CLICKED:"Video Clip Button Clicked",VIDEO_CLIP_BUTTON_SEEN:"Video Clip Button Seen",VIDEO_CLIP_CREATE_BUTTON_CLICKED:"Video Clip Create Button Clicked",VIDEO_CLIP_CREATE_MODAL_CLOSED:"Video Clip Create Modal Closed",VIDEO_CLIP_DOWNLOAD_BUTTON_CLICKED:"Video Clip Download Button Clicked",VIDEO_CLIP_INSTAGRAM_SHARE_MODAL_SEEN:"Video Clip Instagram Share Modal Seen",VIDEO_CLIP_LOOP_BUTTON_CLICKED:"Video Clip Loop Button Clicked",VIDEO_CLIP_MODAL_CLOSED:"Video Clip Modal Closed",VIDEO_CLIP_NUX_CLICKED:"Video Clip Nux Clicked",VIDEO_CLIP_NUX_DISMISSED:"Video Clip Nux Dismissed",VIDEO_CLIP_NUX_SEEN:"Video Clip Nux Seen",VIDEO_CLIP_SEEKED:"Video Clip Seeked",VIDEO_CLIP_SEEN:"Video Clip Seen",VIDEO_CLIP_SHARE_BUTTON_CLICKED:"Video Clip Share Button Clicked",VIDEO_CLIP_WATCH_FULL_EPISODE_BUTTON_CLICKED:"Video Clip Watch Full Episode Button Clicked",VIDEO_MODAL_BROWSE_FILES_CLICKED:"Video Modal Browse Files Clicked",VIDEO_MODAL_CANCEL_CLICKED:"Video Modal Cancel Clicked",VIDEO_MODAL_DROPPED_FILE:"Video Modal Dropped File",VIDEO_MODAL_INSERT_CLICKED:"Video Modal Insert Clicked",VIDEO_PAUSE_BUTTON_CLICKED:"Video Pause Button Clicked",VIDEO_PLAYBACK_COMPLETED:"Video Playback Completed",VIDEO_PLAYBACK_CONTINUED:"Video Playback Continued",VIDEO_PLAY_BUTTON_CLICKED:"Video Play Button Clicked",VIDEO_QUOTE_TEXT_SELECTED:"Video Quote Text Selected",VIDEO_RECORDED:"Video Recorded",VIDEO_RECORDER_HIDDEN:"Video Recorder Hidden",VIDEO_RECORDER_SHOWN:"Video Recorder Shown",VIDEO_RECORDER_STARTED:"Video Recorder Started",VIDEO_RECORDER_STARTING:"Video Recorder Starting",VIDEO_RECORDER_STOPPED:"Video Recorder Stopped",VIDEO_RECORDER_STOPPING:"Video Recorder Stopping",VIEWED_MORE_CATEGORY:"Viewed More Category",VIRAL_GIFT_ALL_EMAILS_FILLED:"Viral Gift All Emails Filled",VIRAL_GIFT_FORM_SUBMITTED:"Viral Gift Form Submitted",VIRAL_GIFT_LINK_COPIED:"Viral Gift Link Copied",VIRAL_GIFT_LINK_INPUT_CLICKED:"Viral Gift Link Input Clicked",VIRAL_GIFT_PAGE_VIEWED:"Viral Gift Page Viewed",VIRAL_GIFT_SHARE_ON_TWITTER_CLICKED:"Viral Gift Share On Twitter Clicked",VIRTUAL_FREE_SIGNUP_FAILED:"Virtual Free Signup Failed",WRITER_DASHBOARD_POSTS_SEARCHED:"Writer Dashboard Posts Searched",WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Writer Media Assets Image Downloaded",WRITER_MEDIA_ASSETS_PAGE_VISITED:"Writer Media Assets Page Visited",WRITER_REFERRAL_ACTION_BOX_DISMISSED:"Writer Referral Action Box Dismissed",WRITER_REFERRAL_ACTION_BOX_SHOWN:"Writer Referral Action Box Shown",WRITER_REFERRAL_CODE_COPIED:"Writer Referral Code Copied",WRITER_REFERRAL_PROFILE_LINK_CLICKED:"Writer Referral Profile Link Clicked",WRITER_SIGNUP_ADD_SUBS_SKIP:"Writer Signup Add Subs Skip",WRITER_SIGNUP_ADD_SUBS_SUCCESS:"Writer Signup Add Subs Success",WRITER_SIGNUP_CONNECT_ACCOUNTS_SKIP:"Writer Signup Connect Accounts Skip",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_ERROR:"Writer Signup Create Publication Form Error",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_INPUT_FILLED:"Writer Signup Create Publication Form Input Filled",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_MISSING_PAYMENT:"Writer Signup Create Publication Form Missing Payment",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_SUBMIT_PRESSED:"Writer Signup Create Publication Form Submit Pressed",WRITER_SIGNUP_EMAIL_INPUTS_FORM_ERROR:"Writer Signup Email Inputs Form Error",WRITER_SIGNUP_EMAIL_INPUTS_FORM_INPUT_FILLED:"Writer Signup Email Inputs Form Input Filled",WRITER_SIGNUP_EMAIL_INPUTS_FORM_MISSING_PAYMENT:"Writer Signup Email Inputs Form Missing Payment",WRITER_SIGNUP_EMAIL_INPUTS_FORM_SUBMIT_PRESSED:"Writer Signup Email Inputs Form Submit Pressed",WRITER_SIGNUP_GOOGLE_CLICKED:"Writer Signup Google Clicked",WRITER_SIGNUP_IMPORT_SKIP:"Writer Signup Import Skip",WRITER_SIGNUP_IMPORT_SUCCESS:"Writer Signup Import Success",WRITER_SIGNUP_LOG_IN_CLICKED:"Writer Signup Log In Clicked",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_ERROR:"Writer Signup Publisher Agreement Form Error",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_INPUT_FILLED:"Writer Signup Publisher Agreement Form Input Filled",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_MISSING_PAYMENT:"Writer Signup Publisher Agreement Form Missing Payment",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_SUBMIT_PRESSED:"Writer Signup Publisher Agreement Form Submit Pressed",WRITER_SIGNUP_SECOND_TWITTER_SKIP:"Writer Signup Second Twitter Skip",WRITER_SIGNUP_SETUP_PROFILE_FORM_ERROR:"Writer Signup Setup Profile Form Error",WRITER_SIGNUP_SETUP_PROFILE_FORM_INPUT_FILLED:"Writer Signup Setup Profile Form Input Filled",WRITER_SIGNUP_SETUP_PROFILE_FORM_MISSING_PAYMENT:"Writer Signup Setup Profile Form Missing Payment",WRITER_SIGNUP_SETUP_PROFILE_FORM_SUBMIT_PRESSED:"Writer Signup Setup Profile Form Submit Pressed",WRITER_SIGNUP_SUBSCRIBE_TO_OTHERS_SKIPPED:"Writer Signup Subscribe To Others Skipped",WRITER_SIGNUP_SWITCH_ACCOUNTS_CLICKED:"Writer Signup Switch Accounts Clicked",WRITER_SIGNUP_TWITTER_CLICKED:"Writer Signup Twitter Clicked",WRITING_BRANDPAGE_VISITED:"Writing Brandpage Visited",WRITING_HOMEPAGE_VISITED:"Writing Homepage Visited",ZENDESK_CLASSIC_WIDGET_INTERACTED:"Zendesk Classic Widget Interacted"},c={APPLICATION_BACKGROUNDED:"Application Backgrounded",APPLICATION_INSTALLED:"Application Installed",APPLICATION_OPENED:"Application Opened",APPLICATION_UPDATED:"Application Updated",APP_ICON_CHANGED:"App Icon Changed",APP_SIGN_IN_COMPLETE:"App Sign In Complete",ARCHIVE_SCREEN_VIEWED:"Archive Screen Viewed",AUDIO_UNAVAILABLE_MODAL_SHOWN:"Audio Unavailable Modal Shown",CHAT_MENTION_INSERTED:"Chat Mention Inserted",CHAT_MENTION_SEARCH_CANCELLED:"Chat Mention Search Cancelled",CHAT_MENTION_SEARCH_STARTED:"Chat Mention Search Started",COMING_SOON_SCREEN_VIEWED:"Coming Soon Screen Viewed",COMMENTS_THREAD_VIEWED:"Comments Thread Viewed",CONNECT_TWITTER_SCREEN_COMPLETED:"Connect Twitter Screen Completed",CONNECT_TWITTER_SCREEN_VIEWED:"Connect Twitter Screen Viewed",CONTACT_SYNC_INITIATED:"Contact Sync Initiated",CONTACT_SYNC_PERMISSIONS_SCREEN_COMPLETED:"Contact Sync Permissions Screen Completed",CONTACT_SYNC_PERMISSIONS_SCREEN_VIEWED:"Contact Sync Permissions Screen Viewed",CONTACT_SYNC_SCREEN_DISMISSED:"Contact Sync Screen Dismissed",CONTACT_SYNC_SCREEN_VIEWED:"Contact Sync Screen Viewed",CONTACT_SYNC_SUGGESTIONS_SCREEN_COMPLETED:"Contact Sync Suggestions Screen Completed",CONTACT_SYNC_SUGGESTIONS_SCREEN_VIEWED:"Contact Sync Suggestions Screen Viewed",DEFAULT_TAB_CHANGED:"Default Tab Changed",DISCOVERY_SCREEN_VIEWED:"Discovery Screen Viewed",DISCOVER_CATEGORY_SCREEN_VIEWED:"Discover Category Screen Viewed",DISPLAY_SETTINGS_UPDATED:"Display Settings Updated",DISPLAY_SETTINGS_VIEWED:"Display Settings Viewed",EMAIL_INSTRUCTIONS_SCREEN_VIEWED:"Email Instructions Screen Viewed",ENTER_PASSWORD_SCREEN_VIEWED:"Enter Password Screen Viewed",ENTRY_FLOW_COMPLETED:"Entry Flow Completed",ENTRY_FLOW_STARTED:"Entry Flow Started",FEED_COMPOSER_SCREEN_VIEWED:"Feed Composer Screen Viewed",FOLLOW_MODAL_VIEWED:"Follow Modal Viewed",HIDDEN_PUBLICATIONS_VIEWED:"Hidden Publications Viewed",IAP_PAYMENT_PROCESSED:"Iap Payment Processed",INBOX_AUDIO_ENTRY_TAPPED:"Inbox Audio Entry Tapped",INBOX_SCREEN_VIEWED:"Inbox Screen Viewed",IOS_APP_BANNER_VIEWED:"Ios App Banner Viewed",IOS_EXTERNAL_LINK_CLICKED:"Ios External Link Clicked",IOS_EXTERNAL_LINK_OPENED:"Ios External Link Opened",IOS_EXTERNAL_LINK_SEEN:"Ios External Link Seen",LIBRARY_SCREEN_VIEWED:"Library Screen Viewed",MANAGE_INTERESTS_VIEWED:"Manage Interests Viewed",MANAGE_SUBSCRIPTION_EXPLANATION_SHOWN:"Manage Subscription Explanation Shown",MENTION_INSERTED:"Mention Inserted",MENTION_SEARCH_CANCELLED:"Mention Search Cancelled",MENTION_SEARCH_STARTED:"Mention Search Started",MFA_CHALLENGE_SCREEN_VIEWED:"Mfa Challenge Screen Viewed",MOBILE_MANAGE_SUBSCRIPTION_ITEM_TAPPED:"Mobile Manage Subscription Item Tapped",MOBILE_MANAGE_SUBSCRIPTION_SCREEN_VIEWED:"Mobile Manage Subscription Screen Viewed",MOBILE_NEW_FEATURE_MODAL_SHOWN:"Mobile New Feature Modal Shown",MOBILE_SUBSCRIBE_CTA_TAPPED:"Mobile Subscribe Cta Tapped",MOBILE_SUBSCRIBE_SCREEN_COMPLETED:"Mobile Subscribe Screen Completed",MOBILE_SUBSCRIBE_SCREEN_OPTION_SELECTED:"Mobile Subscribe Screen Option Selected",MOBILE_SUBSCRIBE_SCREEN_VIEWED:"Mobile Subscribe Screen Viewed",NOTIFICATIONS_UPSELL_MODAL_SHOWN:"Notifications Upsell Modal Shown",ONBOARDING_CATEGORIES_SCREEN_COMPLETED:"Onboarding Categories Screen Completed",ONBOARDING_CATEGORIES_SCREEN_VIEWED:"Onboarding Categories Screen Viewed",ONBOARDING_NOTIFICATIONS_SCREEN_COMPLETED:"Onboarding Notifications Screen Completed",ONBOARDING_NOTIFICATIONS_SCREEN_VIEWED:"Onboarding Notifications Screen Viewed",ONBOARDING_NOTIFICATIONS_SKIP_REPROMPT_VIEWED:"Onboarding Notifications Skip Reprompt Viewed",ONBOARDING_SUGGESTIONS_SCREEN_COMPLETED:"Onboarding Suggestions Screen Completed",ONBOARDING_SUGGESTIONS_SCREEN_VIEWED:"Onboarding Suggestions Screen Viewed",PHONE_VERIFICATION_CODE_SCREEN_COMPLETED:"Phone Verification Code Screen Completed",PHONE_VERIFICATION_CODE_SCREEN_VIEWED:"Phone Verification Code Screen Viewed",PHONE_VERIFICATION_SCREEN_COMPLETED:"Phone Verification Screen Completed",PHONE_VERIFICATION_SCREEN_VIEWED:"Phone Verification Screen Viewed",PLAYER_ACTIVATED:"Player Activated",PLAYER_DISMISSED:"Player Dismissed",PLAYER_OPENED:"Player Opened",PLAYER_QUEUE_ITEM_REMOVED:"Player Queue Item Removed",PLAYER_QUEUE_ITEM_SELECTED:"Player Queue Item Selected",PLAYER_QUEUE_OPENED:"Player Queue Opened",PLAYER_QUEUE_REORDERED:"Player Queue Reordered",PLAYER_SPEED_CHANGED:"Player Speed Changed",PODCASTS_SCREEN_VIEWED:"Podcasts Screen Viewed",POSTS_BULK_ARCHIVED:"Posts Bulk Archived",POST_AUDIO_ENTRY_TAPPED:"Post Audio Entry Tapped",POST_AUDIO_QUEUED:"Post Audio Queued",PRIVACY_SETTINGS_SCREEN_VIEWED:"Privacy Settings Screen Viewed",PROFILE_CREATION_SCREEN_VIEWED:"Profile Creation Screen Viewed",PROFILE_VISIBILITY_SCREEN_VIEWED:"Profile Visibility Screen Viewed",PUSH_AUTHORIZATION_STATUS_CHANGED:"Push Authorization Status Changed",PUSH_NOTIFICATIONS_ENABLED:"Push Notifications Enabled",PUSH_NOTIFICATION_DELIVERED:"Push Notification Delivered",PUSH_NOTIFICATION_PERMISSION_TRIGGERED:"Push Notification Permission Triggered",PUSH_NOTIFICATION_TAPPED:"Push Notification Tapped",PUSH_SETTINGS_SCREEN_VIEWED:"Push Settings Screen Viewed",REQUESTING_CONTACTS_ACCESS:"Requesting Contacts Access",SAVED_POSTS_VIEWED:"Saved Posts Viewed",SHARE_PUBLICATION_EDIT_MODAL_OPENED:"Share Publication Edit Modal Opened",SHOW_EXPLICIT_CONTENT_TAPPED:"Show Explicit Content Tapped",SUBSTACK_PUB_SCREEN_COMPLETED:"Substack Pub Screen Completed",SUBSTACK_PUB_SCREEN_VIEWED:"Substack Pub Screen Viewed",THREADS_INTRO_SCREEN_VIEWED:"Threads Intro Screen Viewed",TWITTER_SUGGESTIONS_SCREEN_COMPLETED:"Twitter Suggestions Screen Completed",TWITTER_SUGGESTIONS_SCREEN_VIEWED:"Twitter Suggestions Screen Viewed",UNSUPPORTED_EMBED_SEEN:"Unsupported Embed Seen",WELCOME_SCREEN_VIEWED:"Welcome Screen Viewed"}},18349:(j,l,e)=>{"use strict";e.r(l),e.d(l,{I18N:()=>A,I18N_EXPERIMENT_ROUTES:()=>i,I18N_MARKETING_PAGES:()=>p,I18N_MARKETING_REDIRECTS:()=>C,defaultTemplateTranslate:()=>w,getLanguage:()=>x,i:()=>D,l:()=>I,p:()=>N,serializeStringTemplate:()=>_,supportedLanguages:()=>S,supportedNonEnglishLanguages:()=>T});/*! gettext.js - Guillaume Potier - MIT Licensed */var n=function(M){M=M||{},this&&(this.__version="1.1.1");var R={domain:"messages",locale:(typeof document!="undefined"?document.documentElement.getAttribute("lang"):!1)||"en",plural_func:function(se){return{nplurals:2,plural:se!=1?1:0}},ctxt_delimiter:String.fromCharCode(4)},F={isObject:function(se){var W=typeof se;return W==="function"||W==="object"&&!!se},isArray:function(se){return toString.call(se)==="[object Array]"}},Z={},V=M.locale||R.locale,G=M.domain||R.domain,$={},K={},H=M.ctxt_delimiter||R.ctxt_delimiter;M.messages&&($[G]={},$[G][V]=M.messages),M.plural_forms&&(K[V]=M.plural_forms);var re=function(se){var W=arguments;return se.replace(/%%/g,"%% ").replace(/%(\d+)/g,function(z,Q){return W[Q]}).replace(/%% /g,"%")},ee=function(se){if(se.indexOf(H)!==-1){var W=se.split(H);return W[1]}return se},Y=function(se){for(var W=[se],z=se.lastIndexOf("-");z>0;)se=se.slice(0,z),W.push(se),z=se.lastIndexOf("-");return W},J=function(se){se=se.replace("_","-");var W=se.search(/[.@]/);return W!=-1&&(se=se.slice(0,W)),se},te=function(se){var W=new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+");if(!W.test(se))throw new Error(re('The plural form "%1" is not valid',se));return new Function("n","var plural, nplurals; "+se+" return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };")},ie=function(se,W,z){if(!z.plural_form)return re.apply(this,[ee(se[0])].concat(Array.prototype.slice.call(arguments,3)));var Q;return z.plural_func?Q=z.plural_func(W):(Z[V]||(Z[V]=te(K[V])),Q=Z[V](W)),(typeof Q.plural=="undefined"||Q.plural>Q.nplurals||se.length<=Q.plural)&&(Q.plural=0),re.apply(this,[ee(se[Q.plural]),W].concat(Array.prototype.slice.call(arguments,3)))};return{strfmt:re,expand_locale:Y,__:function(){return this.gettext.apply(this,arguments)},_n:function(){return this.ngettext.apply(this,arguments)},_p:function(){return this.pgettext.apply(this,arguments)},setMessages:function(se,W,z,Q){if(!se||!W||!z)throw new Error("You must provide a domain, a locale and messages");if(typeof se!="string"||typeof W!="string"||!F.isObject(z))throw new Error("Invalid arguments");return W=J(W),Q&&(K[W]=Q),$[se]||($[se]={}),$[se][W]=z,this},loadJSON:function(se,W){if(F.isObject(se)||(se=JSON.parse(se)),!se[""]||!se[""].language||!se[""]["plural-forms"])throw new Error('Wrong JSON, it must have an empty key ("") with "language" and "plural-forms" information');var z=se[""];return delete se[""],this.setMessages(W||R.domain,z.language,se,z["plural-forms"])},setLocale:function(se){return V=J(se),this},getLocale:function(){return V},textdomain:function(se){return se?(G=se,this):G},gettext:function(se){return this.dcnpgettext.apply(this,[void 0,void 0,se,void 0,void 0].concat(Array.prototype.slice.call(arguments,1)))},ngettext:function(se,W,z){return this.dcnpgettext.apply(this,[void 0,void 0,se,W,z].concat(Array.prototype.slice.call(arguments,3)))},pgettext:function(se,W){return this.dcnpgettext.apply(this,[void 0,se,W,void 0,void 0].concat(Array.prototype.slice.call(arguments,2)))},dcnpgettext:function(se,W,z,Q,oe){if(se=se||G,typeof z!="string")throw new Error(this.strfmt('Msgid "%1" is not a valid translatable string',z));var ne,ae={plural_form:!1},le=W?W+H+z:z,ue,fe,he=Y(V);for(var be in he)if(fe=he[be],ue=$[se]&&$[se][fe]&&$[se][fe][le],Q?ue=ue&&typeof $[se][fe][le]!="string":ue=ue&&typeof $[se][fe][le]=="string",ue)break;return ue?ne=$[se][fe][le]:(ne=z,ae.plural_func=R.plural_func),Q?(ae.plural_form=!0,ie.apply(this,[ue?ne:[z,Q],oe,ae].concat(Array.prototype.slice.call(arguments,5)))):ie.apply(this,[[ne],oe,ae].concat(Array.prototype.slice.call(arguments,5)))}}};const c=n,u=c();u.setLocale("de");const v=c();v.setLocale("de");const O=c();O.setLocale("fr");const y=c();y.setLocale("es");const E=c();E.setLocale("pt");const d=c();d.setLocale("it");const g=c(),P="en",S=["en","de","es","fr","pt","it","de-machine"],T=["de","es","fr","pt","it","de-machine"],C={"/":"/home-i","/going-paid":"/going-paid-i","/about":"/about-i"},p=[...new Set([...Object.keys(C),...Object.values(C),"/signup","/get-started"])],i=["/subscribe","/"],s=M=>({de:u,es:y,fr:O,pt:E,it:d,"de-machine":v})[M]||g,_=M=>(Array.isArray(M)?(M[0]||"")+M.slice(1).map((R,F)=>`%${F+1}${R}`).join(""):M).toString(),w=(M,...R)=>{const F=_(M);return g.gettext(F,...R)},x=({pub:M,locale:R,forceLocale:F=!1}={})=>{let Z;switch(R==null?void 0:R.language){case"de":Z="de";break;case"es":Z="es";break;case"fr":Z="fr";break;case"pt":Z="pt";break;case"it":Z="it";break;case"de-machine":Z="de-machine";break;default:Z="en"}return F?Z:(M==null?void 0:M.language)||Z||P},D=(M=P)=>{const R=typeof M=="string"?M:M?x({pub:M.pub}):P,F=s(R),Z=G=>G.replace(/%%([A-Za-z_]+)%($|\w){1}/g,"%%$1%% ");return{iString:(G,...$)=>Z(F.gettext(G,...$)),iPlural:(G,$,K,...H)=>Z(F.ngettext(G,$,K,...H)),iContext:(G,$,...K)=>Z(F.pgettext(G,$,...K)),iTemplate:(G,...$)=>{const K=_(G);return Z(F.gettext(K,...$))},iCombo:(G,$,K,H,...re)=>Z(F.dcnpgettext(null,G,$,K,H,...re))}},N=M=>[M,null],I=(M,R)=>{const F=s(M),Z=JSON.parse(JSON.stringify(R));F.loadJSON(Z,"messages")},A={i:D,p:N,l:I};if(typeof window=="undefined"){const M=e(Object(function(){var K=new Error("Cannot find module '@/lib/translations/build/translations-de.json'");throw K.code="MODULE_NOT_FOUND",K}()));A.l("de",M);const R=e(Object(function(){var K=new Error("Cannot find module '@/lib/translations/build/translations-de-machine.json'");throw K.code="MODULE_NOT_FOUND",K}()));A.l("de-machine",R);const F=e(Object(function(){var K=new Error("Cannot find module '@/lib/translations/build/translations-es.json'");throw K.code="MODULE_NOT_FOUND",K}()));A.l("es",F);const Z=e(Object(function(){var K=new Error("Cannot find module '@/lib/translations/build/translations-fr.json'");throw K.code="MODULE_NOT_FOUND",K}()));A.l("fr",Z);const V=e(Object(function(){var K=new Error("Cannot find module '@/lib/translations/build/translations-it.json'");throw K.code="MODULE_NOT_FOUND",K}()));A.l("it",V);const G=e(Object(function(){var K=new Error("Cannot find module '@/lib/translations/build/translations-pt.json'");throw K.code="MODULE_NOT_FOUND",K}()));A.l("pt",G)}typeof window!="undefined"?window.I18N=A:e.g.I18N=A},61782:(j,l,e)=>{"use strict";e.d(l,{L:()=>n});const n=1653592864},11322:(j,l,e)=>{"use strict";e.r(l),e.d(l,{canSubscribeToPubPodcast:()=>g,canSubscribeToSectionPodcast:()=>P,feedUrlBelongsToSamePub:()=>O,filterForPublicSections:()=>C,getCouponType:()=>i,getEmailSetting:()=>S,getNewslettersForSubscribeFromPub:()=>p,getPodcastFeedDestinations:()=>d,getSectionsForPost:()=>x,hasCustomThemeContext:()=>D,planFromPubIsClassicFounding:()=>_,planIsFixedPriceFounding:()=>w,subIsOnClassicFoundingPlan:()=>s});var n=e(6378),c=e(15045),u=e(20501);const v=({pub:N,url:I})=>{var A,M;if(!I.includes("api.substack.com"))return null;if(I.includes(`/feed/podcast/${N.id}.rss`))return N.podcast_title||N.name;if(I.includes(`/feed/podcast/${N.id}/s/`)){const R=(M=(A=I.match(new RegExp("\\/feed\\/podcast\\/\\d+\\/s\\/(?<sectionId>\\d+)\\.rss")))==null?void 0:A.groups)==null?void 0:M.sectionId;if(!R)return"Unknown section";const F=N.sections.find(Z=>Z.id===parseInt(R));return F?F.name:"Unknown Section"}return"another podcast"},O=({pub:N,url:I})=>I.includes("api.substack.com")?I.includes(`/feed/podcast/${N.id}/s/`)||I.includes(`/feed/podcast/${N.id}.rss`):!1,y=N=>{if(!N)return{can_syndicate:!1,hover_text:"Cannot find podcast"};if(!N.podcast_enabled)return{can_syndicate:!1,hover_text:"This podcast is not currently enabled."};if(!N.podcast_feed_url)return{can_syndicate:!0,hover_text:null};const I=v({pub:N,url:N.podcast_feed_url});return I?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${I}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${N.podcast_feed_url}.`}},E=({pub:N,section:I})=>{var A;if(!I.is_podcast)return{can_syndicate:!1,hover_text:"This section is not currently set up as a podcast."};const M=((A=I.podcastSettings)==null?void 0:A.podcast_feed_url)||null;if(!M)return{can_syndicate:!0,hover_text:null};const R=v({pub:N,url:M});return R?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${R}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${M}.`}},d=({pub:N})=>{var I;const A=[];if(N.podcast_enabled||N.podcast_title){const M=y(N);A.push({name:N.podcast_title||N.name,description:N.podcast_description||"",can_publish_to:M.can_syndicate,hover_text:M.hover_text,publication_id:N.id,section_id:null})}for(const M of(I=N.sections)!=null?I:[]){if(!M.is_podcast)continue;const R=E({pub:N,section:M});A.push({name:M.name,description:M.description,can_publish_to:R.can_syndicate,hover_text:R.hover_text,publication_id:N.id,section_id:M.id})}return A},g=N=>!N||!N.podcast_enabled?!1:N.podcast_feed_url?!O({pub:N,url:N.podcast_feed_url}):!0,P=({pub:N,section:I})=>{var A;if(!I.is_podcast)return!1;const M=((A=I.podcastSettings)==null?void 0:A.podcast_feed_url)||null;return M?!O({pub:N,url:M}):!0},S=(N,I=0)=>I?T(N,I):N.email_disabled?"none":N.receive_podcast_emails?"all":"allButPodcasts",T=(N,I)=>{var A;return!N.email_settings||!N.email_settings[I]?null:N.email_settings[I]==="disabled"?"none":(A=N.section_podcasts_enabled)!=null&&A.includes(I)?"all":"allButPodcasts"},C=N=>N.filter(I=>I.is_live),p=({pub:N,includeMainPub:I})=>{var A;if(!N)return[];const M=[];return I&&M.push({name:N.name,description:N.hero_text,logoUrl:N.logo_url,sectionId:null,linkUrl:(0,c.getArchiveUrl)(N),defaultOn:!0}),(A=N.sections)==null||A.forEach(R=>{M.push({name:R.name,description:R.description,logoUrl:R.logo_url,sectionId:R.id,linkUrl:(0,u.getSectionUrl)(N,{section:R}),defaultOn:R.is_default_on})}),M},i=N=>N.trial_period_days>0?"FREE_TRIAL":N.extra_seats>0?"EXTRA_SEATS":"PERCENT_OFF";function s({sub:N}){return!N||!N.plan||!N.is_founding||!N.plan.metadata?!1:!N.plan.metadata.fixed_price}function _({plan:N}){return N.metadata?!!N.metadata.founding&&!N.metadata.fixed_price:!1}function w({plan:N}){return!N||!N.metadata?!1:!!N.metadata.founding&&!!N.metadata.fixed_price}const x=(N,I)=>{if((0,n.isSectionedPub)(N)){if(["newsletter","thread","podcast","video"].includes(I))return N.sections}else return null;return null},D=N=>{var I;return(typeof window!="undefined"?((I=window._preloads)==null?void 0:I.customPublicationThemeContext)||[]:[]).includes(N)}},48971:(j,l,e)=>{"use strict";e.r(l),e.d(l,{DEFAULT_MINIMUM_RATES:()=>u,MAX_MONTHLY_RATE:()=>v,MAX_YEARLY_RATE:()=>O,MINIMUM_CURRENCY_SPECIFIC_RATES:()=>c,currencyFormattedPledgePriceString:()=>E,validatePledgePrices:()=>y});var n=e(83322);const c={gbp:{month:3.5,year:20,founding:20},inr:{month:50,year:300,founding:300}},u={month:5,year:50,founding:50},v=99999999,O=99999999,y=d=>{const{value:g,interval:P,is_founding:S,currency:T}=d,C=(c[T.toLowerCase()]||u)[S?"founding":P],p=P==="month"?v:O;return g<C?`${(0,n.toTitleCase)(P)}ly plan price must be at least ${E(C,T)}`:g>p?`${(0,n.toTitleCase)(P)}ly${d.is_founding?" founding":""} plan price must be less than ${E(p,T)}`:null},E=(d,g)=>(0,n.centsToPriceString)(d*((0,n.isZeroDecimalCurrency)(g)?1:100),g)},6385:(j,l,e)=>{"use strict";e.r(l),e.d(l,{getAllAudiences:()=>T,getAudiencesForPublicListing:()=>C,getCommentAuthor:()=>G,getCoverImageUrl:()=>$,getFoundingAudiences:()=>i,getPaidAudiences:()=>p,getPostAuthor:()=>V,isFoundingAudience:()=>_,isPaidAudience:()=>s,previewSubHasFullAccessToPost:()=>Z,pubRoleHasFullAccessToPost:()=>R,pubRolesHaveFullAccessToPost:()=>F,subHasFullAccessToPost:()=>I,subHasFullAccessToPostAudience:()=>A,userHasFullAccessToPost:()=>D});var n=Object.defineProperty,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,O=(K,H,re)=>H in K?n(K,H,{enumerable:!0,configurable:!0,writable:!0,value:re}):K[H]=re,y=(K,H)=>{for(var re in H||(H={}))u.call(H,re)&&O(K,re,H[re]);if(c)for(var re of c(H))v.call(H,re)&&O(K,re,H[re]);return K},E=(K,H)=>{var re={};for(var ee in K)u.call(K,ee)&&H.indexOf(ee)<0&&(re[ee]=K[ee]);if(K!=null&&c)for(var ee of c(K))H.indexOf(ee)<0&&v.call(K,ee)&&(re[ee]=K[ee]);return re};const d=["founding","only_paid","everyone","only_free"],g=["founding","only_paid","everyone"],P=["founding","only_paid"],S=["founding"];function T(){return[...d]}function C(){return[...g]}function p(){return[...P]}function i(){return[...S]}function s(K){return p().includes(K)}function _(K){return i().includes(K)}function w(K,H){if(!H||(K==null?void 0:K.subscription_publication_id)===H){if(K!=null&&K.is_founding||K!=null&&K.is_contributor)return"founding";if(K!=null&&K.is_subscribed)return"paid"}return"free"}function x(K){switch(K){case"founding":return["founding"];case"only_paid":return["paid","founding"];case"only_free":return["free"];case"everyone":return["free","paid","founding"];default:throw new Error(`Unknown audience: ${K}`)}}function D(K,H,re){if(!H)return!1;if(!H.audience)throw new Error("Post has no audience");const ee=w(K,H.publication_id);return x(H.audience).includes(ee)}function N(K,H){if(!H||(K==null?void 0:K.publication_id)===H){if((K==null?void 0:K.membership_state)==="subscribed"&&(K!=null&&K.is_founding))return"founding";if((K==null?void 0:K.membership_state)==="subscribed")return"paid"}return"free"}function I(K,H){if(!H)return!1;if(!H.audience)throw new Error("Post has no audience");const re=N(K,H.publication_id);return x(H.audience).includes(re)}function A(K,H){const re=N(K);return x(H).includes(re)}function M(K){return(K==null?void 0:K.role)==="admin"||(K==null?void 0:K.role)==="contributor"||(K==null?void 0:K.membership_state)==="subscribed"&&(K!=null&&K.is_founding)?"founding":(K==null?void 0:K.membership_state)==="subscribed"?"paid":"free"}function R(K,H){if(!H)return!1;if(!H.audience)throw new Error("Post has no audience");const re=M(K);return x(H.audience).includes(re)}function F(K,H){return!!(H&&R(K==null?void 0:K[H.publication_id],H))}function Z(K,H,{audienceOverride:re}){if(!H)return!1;if(!H.audience&&!re)throw new Error("Post has no audience");const ee=K;return x(re!=null?re:H.audience).includes(ee)}function V(K,H){var re;const ee=(re=H==null?void 0:H.publishedBylines)==null?void 0:re[0];if(ee)return ee;const Y=K.contributors.find(te=>te.owner);if(Y){const te=Y,{user_id:ie}=te,se=E(te,["user_id"]);return y({id:ie},se)}const J=K.contributors.find(te=>["admin","contributor"].includes(te.role));if(J){const te=J,{user_id:ie}=te,se=E(te,["user_id"]);return y({id:ie},se)}return{id:K.author_id,name:K.author_name,photo_url:K.author_photo_url,bio:K.author_bio}}function G(K){var H,re,ee,Y,J,te,ie,se,W,z,Q,oe,ne,ae,le;return{id:(ee=(re=(H=K.user)==null?void 0:H.id)!=null?re:K.user_id)!=null?ee:-1,name:(te=(J=(Y=K.user)==null?void 0:Y.name)!=null?J:K.name)!=null?te:"",handle:(se=(ie=K.user)==null?void 0:ie.handle)!=null?se:K.handle,photo_url:(z=(W=K.user)==null?void 0:W.photo_url)!=null?z:K.photo_url,bestseller_tier:(ne=(oe=(Q=K.user)==null?void 0:Q.bestseller_tier)!=null?oe:K.user_bestseller_tier)!=null?ne:null,primary_publication:(le=(ae=K.user)==null?void 0:ae.primary_publication)!=null?le:K.user_primary_publication}}function $(K){return!K.cover_image||/12634ced-0eb6-4238-a94a-70ab242c5ad8/.test(K.cover_image)||/fa15c776-f514-42fe-8ee0-4c94148a0a8a/.test(K.cover_image)||/8826edac-0d50-4ba0-b861-f3ed9336878b/.test(K.cover_image)||/49be2356-6491-4a6f-84a5-15e99d23b6d1/.test(K.cover_image)?null:K.cover_image}},85200:(j,l,e)=>{"use strict";e.d(l,{FV:()=>g,Im:()=>y,ab:()=>E,wN:()=>d});var n=e(39693),c=e.n(n),u=e(15045),v=e(83322);const O=function(P){const S=P.trim();return(0,v.endsWithPunctuation)(S)?S:`${S}.`},y=function(P,S=3){if(!(P!=null&&P.length)||!P[0].owner)return null;const T=P[0].name;if(P.length===1)return{owner:T,others:null};let C=P.slice(1);if(C.length>S&&(C=C.filter(p=>p.role==="admin")),C.length&&C.length<=S){const p=C.map(i=>i.name);return{owner:T,others:(0,v.oxfordComma)(p).toString()}}return{owner:T,others:null}},E=function(P,S,T,C,p){const i=P?O(P):"";let s;S&&!S.others?C.toLowerCase().includes(S.owner.toLowerCase())?s="":s=` by ${S.owner},`:s="";let _;return T?_=` a Substack publication with ${T}.`:p?_=` a Substack publication. ${p}.`:_=" a Substack publication.",O(`${i} Click to read ${C},${s}${_}`)};function d(P,S){if(P){if(P.author_id===S)return!0;for(const T of P.contributors)if(T.user_id===S)return!0}return!1}const g=P=>{const S=P.podcast_enabled?{title:P.podcast_title,subtitle:P.podcast_description,podcast_art_url:P.podcast_art_url,url:(0,u.getPodcastLandingUrl)({pub:P,section:null})}:null,T=P.sections.filter(C=>C.is_podcast).map(C=>{var p,i;return{title:C.name,subtitle:(p=C.podcastSettings)==null?void 0:p.podcast_description,podcast_art_url:(i=C.podcastSettings)==null?void 0:i.podcast_art_url,url:(0,u.getPodcastLandingUrl)({pub:P,section:C})}});return c()([S,...T])}},91613:(j,l,e)=>{"use strict";e.d(l,{x:()=>c});var n=e(6385);const c=(u,v,O,y,E)=>!(!E&&!(u!=null&&u.has_publication)||y.invite_only||(0,n.isPaidAudience)(O.audience)||!v.enable_restacking)},68842:(j,l,e)=>{"use strict";e.r(l),e.d(l,{foundingPlanMinimum:()=>d,generatePlanNickname:()=>y,getStripeChargeStatusMapper:()=>C,getStripeErrorRewrite:()=>T,isSubscriptionInvoiced:()=>g,paymentMethodTypeMapper:()=>p,planAmount:()=>E,stripeInvoiceStatusMapper:()=>P,stripeSubscriptionStatusMapper:()=>S});var n=e(27484),c=e.n(n),u=e(83322);const v=e(18029),O={"This customer has no attached payment source":"Please enter payment details"},y=({amount:i,currency:s,interval:_,interval_count:w=1})=>{let x;return _==="month"&&w===3?x="quarter":_==="month"&&w===6&&(x="semiannual"),`${(0,u.centsToPriceString)(i,s)} ${x?`${x}ly`:`a ${_}`}`},E=(i,s)=>{var _;let w;if(!s||s===i.currency)w=i.object==="price"?i.unit_amount:i.amount;else{if(!((_=i.currency_options)!=null&&_[s]))return;w=i.currency_options[s].unit_amount}return w!=null?w:0},d=(i,s)=>{var _;return!s||s===i.currency?i.metadata.minimum:(_=i.metadata.minimum_local)==null?void 0:_[s]},g=i=>i.billing==="send_invoice",P=(i,s)=>{if(i==="open"&&c()(s).isBeforeNow())return"Overdue";switch(i){case"open":return"Unpaid";default:return v(i)}},S=(i,{language:s})=>{const{iString:_}=I18N.i(s!=null?s:"en");switch(i){case"active":return _("Active");case"canceled":return _("Canceled");case"incomplete":return _("Incomplete");case"incomplete_expired":return _("Incomplete Expired");case"past_due":return _("Past Due");case"trialing":return _("Trialing");case"unpaid":return _("Unpaid");default:return v(i)}},T=i=>O[i]?O[i]:i.includes("Set an `address` on the customer object and verify with the `tax[automatic_tax]` status.")?"Please enter your billing details and try again":null,C=(i,s)=>{if(s)return"Refunded";switch(i){case"succeeded":return"Paid";default:return v(i)}},p=i=>{switch(i){case"card":return"Card";case"bancontact":return"Bancontact";case"ideal":return"iDEAL";case"sofort":return"Sofort";case"sepa_debit":return"SEPA Direct Debit";default:return v(i)}}},86418:(j,l,e)=>{"use strict";e.d(l,{P:()=>u});const n=new Set(["subscribed","free_signup"]);function c(v){return n.has(v)}function u(v,O){if(!v)return!1;if(!O)return!0;const y=["unsubscribed","free_signup","subscribed"];return y.indexOf(v)>=y.indexOf(O)}},46131:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});function*n(c){if(yield c,c.content)for(const u of c.content)yield*n(u)}},20501:(j,l,e)=>{"use strict";e.r(l),e.d(l,{CDN_URL:()=>c.L4,CHAT_EXAMPLES_URL:()=>Oe,CHAT_FAQ_URL:()=>_e,FEED_PATH:()=>u.FEED_PATH,FEED_PATH_NAME:()=>u.FEED_PATH_NAME,OLD_FEED_PATH:()=>u.OLD_FEED_PATH,_getUrl:()=>c.JD,extractDimensionsFromImageUrl:()=>Be,feedPathRegex:()=>u.feedPathRegex,fixOldFeedPath:()=>u.fixOldFeedPath,getActivityRepliesDeepLinkUrl:()=>u.getActivityRepliesDeepLinkUrl,getAddPodcastToSectionUrl:()=>Ve,getAppLinkTabUrl:()=>le,getBaseAppLinkUrl:()=>W,getBaseUrl:()=>c.SV,getBillingDetailsUrl:()=>I,getBillingHistoryUrl:()=>A,getCancelOrUncancelUrl:()=>rn,getChangeEmailUrl:()=>F,getChatAppLinkUrl:()=>oe,getChatUrl:()=>lr,getCollabPostUrl:()=>xn,getCommentDeepLinkUrl:()=>u.getCommentDeepLinkUrl,getCommentEntityKey:()=>u.getCommentEntityKey,getCommentFallbackUrl:()=>u.getCommentFallbackUrl,getCommunityCommentAppLinkUrl:()=>be,getCommunityPostAppLinkUrl:()=>he,getCommunityPostEntityKey:()=>u.getCommunityPostEntityKey,getConnectFacebookUrl:()=>et,getConnectTwitterUrl:()=>vt,getContactSyncAppLinkUrl:()=>ne,getContactSyncDeepLinkUrl:()=>ae,getCreateNotesUrl:()=>u.getCreateNotesUrl,getCreditInviteAcceptedUrl:()=>tr,getCreditInviteUrl:()=>$n,getCustomPublicationThemeDisablePreviewUrl:()=>ce,getCustomPublicationThemePreviewUrl:()=>de,getDashboardHomeUrl:()=>ee,getDiscoveryLeaderboardUrl:()=>Fn,getDonateSubscriptionUrl:()=>D,getEditPostUrlById:()=>v.getEditPostUrlById,getEditProfileUrl:()=>O.getEditProfileUrl,getEditPubPodcastUrl:()=>$e,getEditSectionPodcastUrl:()=>Ie,getEmailTestUrl:()=>M,getFeedCommentAppLinkUrl:()=>ve,getFeedCommentUrl:()=>u.getFeedCommentUrl,getFeedPeopleYouMayKnowUrl:()=>u.getFeedPeopleYouMayKnowUrl,getFeedPostRestacksUrl:()=>u.getFeedPostRestacksUrl,getFeedPostUrl:()=>u.getFeedPostUrl,getFeedShortPostUrl:()=>u.getFeedShortPostUrl,getFeedUrl:()=>u.getFeedUrl,getGiftsUrl:()=>R,getGroupManagementUrl:()=>H,getHcProfileViolationFormUrl:()=>Ht,getHostname:()=>c.Fo,getImginariedFavicons:()=>je,getImportPodcastToSectionUrl:()=>pt,getInboxAppLinkUrl:()=>z,getInviteFriendsCreditPageUrl:()=>zn,getLeaderboardUrl:()=>Tn,getLikelyLoggedInParam:()=>v.getLikelyLoggedInParam,getLinkToVideo:()=>v.getLinkToVideo,getLinkableElementIdForVideo:()=>v.getLinkableElementIdForVideo,getListCoverImageUrl:()=>Kn,getManageGroupSubscriptionUrl:()=>V,getManageSubscriptionUrl:()=>Z,getMeetingAdminUrl:()=>se,getMeetingOrderUrl:()=>te,getMeetingsUrl:()=>ie,getMentionsUrl:()=>ze,getNavigationBarItemUrl:()=>ct,getNoteCommentPreviewUrl:()=>u.getNoteCommentPreviewUrl,getNoteEntityKey:()=>u.getNoteEntityKey,getNoteRestacksUrl:()=>u.getNoteRestacksUrl,getNoteUrl:()=>u.getNoteUrl,getNotesDeepLinkUrl:()=>u.getNotesDeepLinkUrl,getOfferSubscribeUrl:()=>N,getPodcastArchiveUrl:()=>Se,getPodcastRssUrlFromIds:()=>dn,getPostDashboardUrl:()=>re,getPostDeepLinkUrl:()=>u.getPostDeepLinkUrl,getPostDetailsPageUrl:()=>pn,getPostDetailsShareCenterUrl:()=>_n,getPostEntityKey:()=>u.getPostEntityKey,getPostManagementUrl:()=>Y,getPostTagUrl:()=>Pt,getPostUrl:()=>v.getPostUrl,getPostUrlBySlug:()=>v.getPostUrlBySlug,getPresubscribeUrl:()=>_,getProfileConnectionsUrl:()=>O.getProfileConnectionsUrl,getProfileHandleUrl:()=>O.getProfileHandleUrl,getProfileSetupUrl:()=>O.getProfileSetupUrl,getProfileSubdomain:()=>O.getProfileSubdomain,getProfileUrlById:()=>O.getProfileUrlById,getPubAccountSettingsUrl:()=>v.getPubAccountSettingsUrl,getPubConnectTwitterUrl:()=>tt,getPublicationAppLinkUrl:()=>ue,getPublicationChatAppLinkUrl:()=>fe,getPublishBaseUrl:()=>G,getPublishPledgeStats:()=>Dn,getPublishSettingsUrl:()=>$,getPublishSubscriberNotesUrl:()=>Wn,getReaderAutoFollowUrl:()=>O.getReaderAutoFollowUrl,getReaderCollectionUrl:()=>bn,getReaderInviteUrl:()=>O.getReaderInviteUrl,getReaderPostUrl:()=>Xe,getReaderProfileUrl:()=>O.getReaderProfileUrl,getRecommendedPostsUrl:()=>Cn,getReferralSettingsUrl:()=>K,getRssUrl:()=>fn,getSectionEmailBannerSettingUrl:()=>it,getSectionUrl:()=>dt,getSectionWelcomeUrl:()=>w,getSharePublicationUrl:()=>i,getStreakGraphicUrl:()=>en,getStripeInvoiceUrl:()=>xe,getStripePlanUrl:()=>Ce,getSubdomainOrCustomDomain:()=>ft,getSubscribeUrl:()=>s,getSubscriberDashboardUrl:()=>J,getSubstackUrl:()=>c.ZJ,getSubstackUrlWithDomain:()=>c.y,getThreadCommentsLandingPageUrl:()=>we,getThreadsLandingPageUrl:()=>Te,getUserAppLinkUrl:()=>Q,getWebChatUrl:()=>x,imginary:()=>We,isFeedPath:()=>u.isFeedPath,isHostedBySubstack:()=>Ge,isHostedByUnsplash:()=>He,isOldFeedPath:()=>u.isOldFeedPath,isOpenSubstackPostUrl:()=>Qe,matchCommentPath:()=>u.matchCommentPath,matchFeedSubpath:()=>u.matchFeedSubpath,matchNoteId:()=>u.matchNoteId,matchNotePath:()=>u.matchNotePath,matchOldCommentPath:()=>u.matchOldCommentPath,matchPostPath:()=>u.matchPostPath,parsePostUrl:()=>Je,parseUrl:()=>Le,pathWithQuery:()=>c.n1,serializeQuery:()=>c.Y$,shareSamePub:()=>At,stripeBaseUrl:()=>ye,substackBaseUrl:()=>c.tE,substackDomain:()=>c.T9,substackUrl:()=>c.pv,unimginary:()=>Ae});var n=e(72985),c=e(30123),u=e(70444),v=e(36250),O=e(2731),y=Object.defineProperty,E=Object.defineProperties,d=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,T=(rt,lt,bt)=>lt in rt?y(rt,lt,{enumerable:!0,configurable:!0,writable:!0,value:bt}):rt[lt]=bt,C=(rt,lt)=>{for(var bt in lt||(lt={}))P.call(lt,bt)&&T(rt,bt,lt[bt]);if(g)for(var bt of g(lt))S.call(lt,bt)&&T(rt,bt,lt[bt]);return rt},p=(rt,lt)=>E(rt,d(lt));const i=(rt,lt={})=>{const bt=C({utm_source:"substack",utm_medium:"email",utm_content:"share",action:"share"},lt),Ut=(0,c.SV)(rt);return(0,c.n1)(Ut,C(C({},bt),lt))};function s(rt,{root:lt,user:bt,addBase:Ut,skipToken:an=!1,params:wn={}}={}){var Hn;if(lt?/[&?]$/.test(lt)||(lt.includes("?")||lt.endsWith("%%")?lt+="&":lt+="?"):lt=Ut?`${(0,c.SV)(rt)}/subscribe?`:"/subscribe?",bt!=null&&bt.email)wn.autoSubmit=!0,wn.email=bt==null?void 0:bt.email;else if(!wn.token&&!an){const{getQueryItem:Xn}=e(15045),ar=typeof window!="undefined"&&((Hn=window._preloads)!=null&&Hn.original_url)?Xn(window._preloads.original_url,"token"):null;wn.token=ar}return lt+(0,c.Y$)(wn)}function _(rt){return`/api/v1/presubscribe/${rt.id}`}function w({pub:rt,section:lt}){const bt=`/s/${lt.slug}/welcome`;return`${(0,c.SV)(rt)}${bt}`}function x({pubId:rt,postId:lt,commentId:bt,params:Ut}){return(0,c.n1)(`${(0,c.ZJ)()}/chat${rt?`/${rt}`:""}${lt?`/post/${lt}`:""}${bt?`/reply/${bt}`:""}`,Ut)}function D(rt,{root:lt,addBase:bt,params:Ut={}}={}){return lt?/[&?]$/.test(lt)||(lt.includes("?")||lt.endsWith("%%")?lt+="&":lt+="?"):lt=bt?`${(0,c.SV)(rt)}/donate?`:"/donate?",lt+(0,c.Y$)(Ut)}function N(rt,{root:lt,user:bt,addBase:Ut,offerCode:an,params:wn={}}){return lt?/[&?]$/.test(lt)||(lt.includes("?")||lt.endsWith("%%")?lt+="&":lt+="?"):lt=Ut?`${(0,c.SV)(rt)}/subscribe/offer/${an}?`:`/subscribe/offer/${an}?`,bt!=null&&bt.email&&(wn.autoSubmit=!0,wn.email=bt==null?void 0:bt.email),lt+(0,c.Y$)(wn)}function I(rt,{utm_source:lt}={}){return(0,c.n1)(`${(0,c.SV)(rt)}/account/billing?details`,{utm_source:lt})}function A(rt,{utm_source:lt}={}){return(0,c.n1)(`${(0,c.SV)(rt)}/account/receipts`,{utm_source:lt})}function M(rt,{utm_source:lt}={}){return(0,c.n1)(`${(0,c.SV)(rt)}/account/email-test`,{utm_source:lt})}function R({pub:rt}){return`${(0,c.SV)(rt)}/account/gifts`}function F({utm_source:rt}={}){return(0,c.n1)(`${(0,c.ZJ)()}/account/email`,{utm_source:rt})}function Z(rt){return`${(0,c.SV)(rt)}/account`}const V=(rt,lt={})=>(0,c.n1)(`${(0,c.SV)(rt)}/account/group`,lt);function G(rt,{addBase:lt,baseUrlOptions:bt}={}){return`${lt?(0,c.SV)(rt,bt):""}/publish`}function $(rt,{addBase:lt=!1,baseUrlOptions:bt={},section:Ut="",params:an}={}){let wn=(0,c.n1)(`${G(rt,{addBase:lt,baseUrlOptions:bt})}/settings`,an);return Ut&&(wn+=`#${Ut}`),wn}function K(rt,{addBase:lt=!1,baseUrlOptions:bt={},params:Ut}={}){return(0,c.n1)(`${G(rt,{addBase:lt,baseUrlOptions:bt})}/settings/reader_referrals`,Ut)}function H(rt,{addBase:lt=!1,baseUrlOptions:bt={},params:Ut}={}){return(0,c.n1)(`${G(rt,{addBase:lt,baseUrlOptions:bt})}/groups`,Ut)}function re(rt,{addBase:lt,params:bt}={}){const an=`${lt?(0,c.SV)(rt):""}/publish`;return bt?(0,c.n1)(an,bt):an}function ee(rt,{addBase:lt,params:bt}={}){const an=`${lt?(0,c.SV)(rt):""}/publish/home`;return bt?(0,c.n1)(an,bt):an}function Y(rt,lt="published",{addBase:bt,params:Ut}={}){const wn=`${bt?(0,c.SV)(rt):""}/publish/posts/${lt}`;return Ut?(0,c.n1)(wn,Ut):wn}function J(rt,{addBase:lt,params:bt}={}){const an=`${lt?(0,c.SV)(rt):""}/publish/subscribers`;return bt?(0,c.n1)(an,bt):an}function te(rt,lt,{addBase:bt,params:Ut,referrer:an}={}){const Hn=`${bt?(0,c.SV)(rt):""}/meetings/book/${lt}`,Xn=p(C({},Ut),{referrer:an});return Ut||an?(0,c.n1)(Hn,Xn):Hn}function ie(rt,{addBase:lt,params:bt,referrer:Ut}={}){const wn=`${lt?(0,c.SV)(rt):""}/meetings`,Hn=p(C({},bt),{referrer:Ut});return bt||Ut?(0,c.n1)(wn,Hn):wn}function se(rt,{addBase:lt,params:bt,filter:Ut}={}){const wn=`${lt?(0,c.SV)(rt):""}/publish/meetings/${Ut!=null?Ut:"upcoming"}`;return bt?(0,c.n1)(wn,bt):wn}function W(){return(0,c.JD)(`open.${c.T9}`)}function z({utm_source:rt,utm_campaign:lt,redirect:bt}){return(0,c.n1)(`${W()}/inbox`,{utm_source:rt,utm_campaign:lt,redirect:bt})}function Q({user_id:rt,user_name:lt,utm_source:bt,utm_campaign:Ut,redirect:an}){let wn=`${W()}/users/${rt}`;const Hn=(0,n.cleanSlug)(lt,{hashIfEmpty:!0});return Hn&&(wn+=`-${Hn}`),(0,c.n1)(wn,{utm_source:bt,utm_campaign:Ut,redirect:an})}function oe({utm_source:rt,utm_campaign:lt}){return(0,c.n1)(`${W()}/chat`,{utm_source:rt,utm_campaign:lt})}function ne({utm_source:rt,utm_campaign:lt,deepLink:bt}){return(0,c.n1)(`${W()}/contact-sync`,{utm_source:rt,utm_campaign:lt,deepLink:bt})}function ae({utm_source:rt,utm_campaign:lt}={}){return(0,c.n1)("substack://contact-sync",{utm_source:rt,utm_campaign:lt})}function le({tab:rt,utm_source:lt,utm_campaign:bt,redirect:Ut}){return(0,c.n1)(`${W()}/${rt}`,{utm_source:lt,utm_campaign:bt,redirect:Ut})}function ue({subdomain:rt,utm_source:lt,utm_campaign:bt,redirect:Ut}){return(0,c.n1)(`${W()}/pub/${rt}`,{utm_source:lt,utm_campaign:bt,redirect:Ut})}function fe({pubKey:rt,utm_source:lt,utm_campaign:bt,r:Ut,redirect:an,modal:wn}){return(0,c.n1)(`${W()}/pub/${rt}/chat`,{utm_source:lt,utm_campaign:bt,redirect:an,modal:wn,r:Ut})}function he({postId:rt,utm_source:lt,utm_campaign:bt,redirect:Ut,modal:an}){return(0,c.n1)(`${W()}/chat/posts/${rt}`,{utm_source:lt,utm_campaign:bt,redirect:Ut,modal:an})}function be({commentId:rt,targetReplyId:lt,utm_source:bt,utm_campaign:Ut,redirect:an,modal:wn}){return(0,c.n1)(`${W()}/chat/replies/${rt}`,{target_reply_id:lt,utm_source:bt,utm_campaign:Ut,redirect:an,modal:wn})}function ve(rt,{urlParams:lt}={}){return(0,u.getFeedCommentUrl)(rt,{baseUrl:W(),urlParams:lt})}function Te({pub:rt,postId:lt,modal:bt,query:Ut}){return(0,c.n1)(`${(0,c.SV)(rt)}/chat${lt?`/posts/${lt}`:""}`,C({modal:bt},Ut))}function we({pub:rt,commentId:lt,targetReplyId:bt,modal:Ut,query:an}){return(0,c.n1)(`${(0,c.SV)(rt)}/chat${lt?`/replies/${lt}`:""}`,C({modal:Ut,target_reply_id:bt},an))}function Se({pub:rt,params:lt,section:bt}){return bt?(0,c.n1)(`${(0,c.SV)(rt)}/listen/${bt.slug}/archive`,lt):(0,c.n1)(`${(0,c.SV)(rt)}/podcast/archive`,lt)}function We(rt,lt,{quality:bt="auto:good",format:Ut="auto",crop:an="limit",lossy:wn=!1,attachment:Hn=!1,filename:Xn=null,gravity:ar=null,height:Er=null,aspect:Ur=null,backgroundColor:kr,version:yo=null,smartCrop:ro=!1,portraitCrop:fo=!1,skipDomainValidation:Fr=!1,leadingSegments:$t=[],trailingSegments:Gr=[]}={}){var gr;if(!rt)return rt;rt.startsWith("/")&&!rt.startsWith("//")&&(rt=(0,c.ZJ)()+rt),rt=Ae(rt);try{if(new URL(rt).hostname.endsWith(".localhost"))return rt}catch(Kt){}if(typeof window!="undefined"&&((gr=window==null?void 0:window.location)!=null&&gr.hostname)&&["subwit.com","herokuapp.com"].reduce((Kt,ke)=>Kt||window.location.hostname.endsWith(ke),!1)&&(rt=rt.replace("//substack.com",`//${window.location.hostname}`)),rt.startsWith("https://substackcdn.com")||rt.startsWith(c.L4))return rt;if(rt.startsWith("https://d3b3sm9t19x0yd.cloudfront.net"))return rt.replace(/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net/,c.L4);if(rt.startsWith("https://res.cloudinary.com"))return rt.replace(/^https:\/\/res\.cloudinary\.com\/[^/]+/,c.L4);if(!Fr&&!rt.match(/^https?:\/\/(bucketeer[^/]*\.s3\.amazonaws\.com|(.*\.)?substack\.com|substack-post-media\.s3\.amazonaws\.com|substack-post-media-staging\.s3\.amazonaws\.com|substack-video\.s3\.amazonaws\.com|substack-video-staging\.s3\.amazonaws\.com|substack-staging-pr-\d+\.herokuapp\.com|.*\.ngrok\.io|.*\.subwit\.com|www\.shatnerchatner\.com|cyberrisk\.news|proofofwork\.news|www\.trapital\.co|www\.truehoop\.com|www\.creditwritedowns\.com|sinocism\.com|nb\.sinocism\.com|popular\.info|robertcottrell\.com|pbs\.twimg\.com|www\.theupside\.us|www\.exponentialview\.co|storage\.opensea\.io).*/))return rt;if(ro&&lt&&Er){const Kt=Be(rt);if(Kt){const ke=lt/Er,ot=Kt.width/Kt.height;(ke<1&&ot>=1||ke>=1&&ot<1||ke===1&&ot>=1||ke===1&&ot<=1)&&Math.abs(ke-ot)>=.5&&(an="fill",ar=ar!=null?ar:"auto")}}if(ro&&(an="fill",ar=ar!=null?ar:"auto"),Ur&&lt&&Er==null){const[Kt,ke]=Ur.split(":").map(Number);Er=Math.round(lt*ke/Kt)}const Vr=[lt&&`w_${lt}`,Er&&`h_${Er}`,an&&(lt||Er)&&`c_${an}`,Ut&&`f_${Ut}`,bt&&`q_${bt}`,`fl_${wn?"lossy":"progressive:steep"}`,ar&&`g_${ar}`,Hn&&`fl_attachment${Xn?`:${Xn}`:""}`,kr&&`b_rgb:${kr}`].filter(Boolean).join(","),_t=[lt&&`w_${lt}`,Ut&&`f_${Ut}`,bt&&`q_${bt}`,`fl_${wn?"lossy":"progressive:steep"}`,Hn&&`fl_attachment${Xn?`:${Xn}`:""}`,kr&&`b_rgb:${kr}`].filter(Boolean).join(","),Ot=[an&&(lt||Er)&&`c_${an}`,ar&&`g_${ar}`,Ur?`ar_${Ur}`:"ar_1"].filter(Boolean).join(","),Mt=fo?[_t,"/if_ar_lt_1.0/",Ot,"/if_end"].join(""):[Vr].filter(Boolean).join(",");return`${c.L4}/image/fetch/${$t.concat([Mt]).concat(Gr).join("/")}/${encodeURIComponent(rt+(yo?`${rt.indexOf("?")!==-1?"&":"?"}version=${yo}`:""))}`}function Ae(rt){if(!rt)return rt;const lt=[/^https:\/\/substackcdn\.com\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/substackcdn\.net\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.com\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.info\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/res\.cloudinary\.com\/hhsslviub\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i];for(const bt of lt){const Ut=bt.exec(rt);if(Ut)return decodeURIComponent(Ut[1])}return rt}function Be(rt){const lt=rt.match(/(\d+)x(\d+)\.\w+$/);return lt?{width:+lt[1],height:+lt[2]}:null}function de(rt,lt){return`${(0,c.SV)(rt)}/api/v1/custom-publication-theme/${lt.id}/preview`}function ce(rt){return`${(0,c.SV)(rt)}/api/v1/custom-publication-theme/disable-preview`}const _e="https://substack.link/chat-faq",Oe="https://substack.link/chat-examples";function Le(rt){const lt=rt.trim();if(/\s/.test(lt))return null;try{const bt=new URL(lt);return["http:","https:"].includes(bt.protocol)?bt:null}catch(bt){return null}}const ze=(rt,lt,bt,Ut)=>{switch(rt){case"user":default:return Q({user_id:lt,user_name:bt,utm_source:"mentions"});case"pub":return Ut?(0,c.n1)(Ut,{utm_source:"mentions"}):""}};function Je(rt){var lt;const bt=Le(rt);if(!bt)return null;const Ut=(lt=bt.pathname.match(/^\/p\/([^\/]+)$/))==null?void 0:lt[1];if(!Ut)return null;let an,wn;return bt.hostname.endsWith(`.${c.pv.hostname}`)?an=bt.hostname.split(".")[0]:wn=bt.hostname,{slug:Ut,subdomain:an,customDomain:wn}}function Pt(rt,lt,{addBase:bt=!1,query:Ut={}}={}){return(0,c.n1)(`${bt?(0,c.SV)(rt):""}/t/${lt.slug}`,Ut)}const Ve=({section:rt})=>`/publish/settings/new_podcast/${rt.id}`,pt=({section:rt})=>rt?`/publish/import/podcast/${rt.id}`:"",$e=({pub:rt,addBase:lt})=>`${lt?(0,c.SV)(rt):""}/publish/settings/podcast/edit`,Ie=({pub:rt,section:lt,addBase:bt,referrer:Ut})=>lt?`${bt?(0,c.SV)(rt):""}/publish/settings/podcast/${lt.id}${Ut?`?referrer=${Ut}`:""}`:(console.error("section is missing when passed to getEditSectionPodcastUrl"),""),ye="https://dashboard.stripe.com",Ce=(rt,lt)=>`${ye}/${rt.stripe_user_id}/prices/${lt}`,xe=(rt,lt)=>`${ye}/${rt.stripe_user_id}/invoices/${lt}`;function je(rt){const lt=rt.html.map(bt=>{var Ut;const an=(Ut=bt.match(/href="([^"]+)"/))==null?void 0:Ut[1];return an?bt.replace(an,We(an)):bt});return p(C({},rt),{html:lt})}function He(rt){return rt?rt.startsWith("https://images.unsplash.com/"):!1}function Ge(rt){if(rt){if(rt.startsWith(c.L4)||rt.startsWith("https://res.cloudinary.com")||rt.startsWith("https://bucketeer"))return!0;const{getPostMediaBucketName:lt}=e(83322),bt=`https://${lt()}.s3.amazonaws.com`;if(rt.startsWith(bt))return!0}return!1}function Qe(rt){if(!rt)return!1;let lt;try{lt=new URL(rt)}catch(an){return!1}const{hostname:bt,pathname:Ut}=lt;return bt.startsWith("open.substack.com")?Ut.startsWith("/pub/")&&Ut.includes("/p/"):!1}function ct(rt,lt,{addBase:bt}={}){var Ut,an;return lt.section?dt(rt,{addBase:bt,section:lt.section}):lt.post?(0,v.getPostUrl)(rt,lt.post,{noBase:!bt}):lt.postTag?Pt(rt,lt.postTag,{addBase:bt}):bt&&/^\/[^/]/.test((Ut=lt.link_url)!=null?Ut:"")?`${(0,c.SV)(rt)}${lt.link_url}`:(an=lt.link_url)!=null?an:""}function dt(rt,{addBase:lt,section:bt}={}){if(bt=bt||(rt==null?void 0:rt.section),!bt)throw new Error("Section not found");return`${lt?(0,c.SV)(rt):""}/s/${bt.slug||bt.id}`}function it(rt,{addBase:lt,section:bt}={}){if(bt=bt||(rt==null?void 0:rt.section),!bt)throw new Error("Section not found");const Ut=lt?(0,c.SV)(rt):"";return(0,c.n1)(`${Ut}/publish/settings/preamble`,{section:bt.id})}const tt=(rt,{addBase:lt,params:bt}={})=>{const Ut=lt&&rt?Wf.getBaseUrl(rt):"";return vt(C({base:Ut},bt))},vt=rt=>{var lt;const bt=`${(lt=rt==null?void 0:rt.base)!=null?lt:""}/api/v1/twitter/authorize`;return rt?(0,c.n1)(bt,rt):bt},et=rt=>{var lt;const bt=`${(lt=rt==null?void 0:rt.base)!=null?lt:""}/api/v1/fb/auth`;return rt?(0,c.n1)(bt,rt):bt};function Xe(rt,lt){return(0,c.n1)(`${(0,c.SV)()}/inbox/post/${rt}`,lt)}function Ne(rt){const lt=/^https?:\/\/open\.substack\.com(?:\.localhost:5000)?\/pub\/([^\/]+)/,bt=/^https?:\/\/([^\.]+)\.substack\.com/;let Ut=rt.match(lt);return!Ut&&(Ut=rt.match(bt),!Ut)?null:Ut[1]}function ft(rt){rt=(rt||"").toLowerCase();const lt=rt.match(/^\s*(\w+)\s*$/);if(lt)return lt[1];const bt=rt.match(/\w+(\.\w+)+/);if(bt){let Ut=bt[0];return Ut.includes("substack")&&(Ut=Ut.split(".")[0]),Ut}}function At({url:rt,currentSubdomain:lt,currentCustomDomain:bt}){return Qe(rt)?lt===Ne(rt):bt?bt===ft(rt):lt===Ne(rt)}function Ht(rt){return`${(0,c.ZJ)()}/profile/${rt}/hc-violation-form`}const rn=(rt,{addBase:lt,params:bt}={})=>{const Ut=lt?(0,c.SV)(rt):"";return(0,c.n1)(`${Ut}/account/cancel`,bt)},en=(rt,lt,bt)=>`${(0,c.SV)(rt)}/api/v1/streak.jpg?n=${lt}&pct=${bt}`,pn=(rt,lt,{addBase:bt,referrer:Ut,params:an}={})=>{const Hn=`${bt?(0,c.SV)(rt):""}/publish/posts/detail/${lt}`,Xn=p(C({},an),{referrer:Ut});return an||Ut?(0,c.n1)(Hn,Xn):Hn},_n=(rt,lt,{addBase:bt,referrer:Ut,params:an,selectionForQuote:wn}={})=>{const Xn=`${bt?(0,c.SV)(rt):""}/publish/posts/detail/${lt}/share-center`,ar=p(C({},an),{referrer:Ut,selectionForQuote:wn});return an||Ut||wn?(0,c.n1)(Xn,ar):Xn},Tn=(rt,lt,{addBase:bt,params:Ut}={})=>{if(!(rt!=null&&rt.id))return"";const an=bt?(0,c.SV)(rt):"";return(0,c.n1)(`${an}/leaderboard?`,C(C({},Ut),(lt==null?void 0:lt.id)&&{referrer_token:lt.id.toString(36)}))};function dn({pubId:rt,sectionId:lt,token:bt}){if(lt){let an=`${(0,c.SV)({subdomain:"api"})}/feed/podcast/${rt}/s/`;return bt?an+=`${lt}/private/${bt}.rss`:an+=`${lt}.rss`,an}let Ut=`${(0,c.SV)({subdomain:"api"})}/feed/podcast/${rt}`;return bt?Ut+=`/private/${bt}.rss`:Ut+=".rss",Ut}function fn({subdomain:rt,sectionId:lt}){return(0,c.n1)(`https://${rt}.substack.com/feed`,{sectionId:lt!=null?lt:void 0})}const xn=({pub:rt,postId:lt,params:bt={type:"newsletter",mediaType:"video"}})=>{const Ut=`${(0,c.SV)(rt)}/publish/collab`;return(0,c.n1)(lt?`${Ut}/${lt}`:Ut,bt)},Dn=(rt,{addBase:lt,baseUrlOptions:bt,params:Ut}={})=>{const an=lt?(0,c.SV)(rt,bt):"";return(0,c.n1)(`${an}/publish/stats/pledges`,Ut)},Wn=(rt,{addBase:lt,baseUrlOptions:bt,params:Ut}={})=>{const an=lt?(0,c.SV)(rt,bt):"";return(0,c.n1)(`${an}/publish/stats/notes`,Ut)};function Fn(rt){return`${(0,c.ZJ)()}/browse/${rt}`}function Cn(){return`${(0,c.ZJ)()}/browse`}function bn(rt,lt){return(0,c.Q2)(`/collection/${rt}`,lt)}function zn(rt={}){return(0,c.n1)(`${(0,c.ZJ)()}/invite-friends`,rt)}function tr(rt={}){return(0,c.n1)(`${(0,c.ZJ)()}/credit-invite-accepted`,rt)}function $n(rt,lt={}){return(0,c.n1)(`${(0,c.ZJ)()}/reader-onboarding?credit_token_referring_user=${rt}`,lt)}function lr(rt){return(0,c.Q2)("/chat",rt)}function Kn(rt){return`${(0,c.ZJ)()}/api/v1/list/cover_image/${rt.id}.jpg`}},30123:(j,l,e)=>{"use strict";e.d(l,{Fo:()=>g,JD:()=>y,L4:()=>v,Q2:()=>i,SV:()=>T,T9:()=>n,Y$:()=>P,ZJ:()=>C,n1:()=>S,pv:()=>d,tE:()=>E,y:()=>p});const n="substack.com",c=null,v="https://substackcdn.com",O=null;function y(s){let _="https://",w="";return _+s+w}const E=y(n),d=new URL(E);function g(s,{forceSubdomain:_=!1}={}){if(s&&"custom_domain"in s&&s.custom_domain&&!s.custom_domain_optional&&!_)return s.custom_domain;let w=n;return s&&s.subdomain!=="www"&&(w=`${s.subdomain}.${w}`),w}function P(s){return Object.keys(s).filter(_=>typeof s[_]!="undefined"&&s[_]!==null).map(_=>`${encodeURIComponent(_)}=${encodeURIComponent(s[_])}`).join("&")}function S(s,_){if(!s)return"";if(!_)return s;const w=P(_),x=w?s.indexOf("?")===-1?"?":"&":"";return`${s}${x}${w}`}function T(s,{forceSubdomain:_=!1}={}){if(s&&"rss_website_url"in s&&s.rss_website_url)try{return new URL(s.rss_website_url).origin}catch(x){return s.rss_website_url}else if(s&&"base_url"in s&&s.base_url&&!_)return s.base_url;const w=g(s,{forceSubdomain:_});return y(w)}function C(){return T()}function p(s){return y(s)}function i(s,{noBase:_,urlParams:w}={}){const x=_?"":T();return S(`${x}${s}`,w)}},70444:(j,l,e)=>{"use strict";e.r(l),e.d(l,{FEED_PATH:()=>S,FEED_PATH_NAME:()=>P,OLD_FEED_PATH:()=>T,feedPathRegex:()=>N,fixOldFeedPath:()=>R,getActivityRepliesDeepLinkUrl:()=>ue,getCommentDeepLinkUrl:()=>le,getCommentEntityKey:()=>Q,getCommentFallbackUrl:()=>te,getCommunityPostEntityKey:()=>ne,getCreateNotesUrl:()=>he,getFeedCommentUrl:()=>Y,getFeedPeopleYouMayKnowUrl:()=>re,getFeedPostRestacksUrl:()=>se,getFeedPostUrl:()=>ie,getFeedShortPostUrl:()=>ee,getFeedUrl:()=>H,getNoteCommentPreviewUrl:()=>be,getNoteEntityKey:()=>z,getNoteRestacksUrl:()=>W,getNoteUrl:()=>J,getNotesDeepLinkUrl:()=>ae,getPostDeepLinkUrl:()=>fe,getPostEntityKey:()=>oe,isFeedPath:()=>p,isOldFeedPath:()=>M,matchCommentPath:()=>Z,matchFeedSubpath:()=>I,matchNoteId:()=>K,matchNotePath:()=>$,matchOldCommentPath:()=>G,matchPostPath:()=>F});var n=e(6385),c=e(30123),u=e(2731),v=Object.defineProperty,O=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,d=(ve,Te,we)=>Te in ve?v(ve,Te,{enumerable:!0,configurable:!0,writable:!0,value:we}):ve[Te]=we,g=(ve,Te)=>{for(var we in Te||(Te={}))y.call(Te,we)&&d(ve,we,Te[we]);if(O)for(var we of O(Te))E.call(Te,we)&&d(ve,we,Te[we]);return ve};const P="home",S=`/${P}`,T="/notes",C=`${S}/`;function p(ve){return ve===S||ve.startsWith(C)}const i=/^([cp])-(\d+)$/,s=/^\/note\/([cp])-(\d+)$/,_=/^\/profile\/(\d+)-([^\/]+)\/note\/c-(\d+)$/,w=/^\/profile\/(\d+)-([^\/]+)\/note\/p-(\d+)$/,x=/^\/@[^\/]+\/note\/c-(\d+)$/,D=/^\/@[^\/]+\/note\/p-(\d+)$/,N=new RegExp(`${S}/(short|post)/p-(\\d+)`);function I(ve){const Te=Z(ve);if(Te)return Te;const we=F(ve);if(we)return we;const Se=$(ve);return Se||null}const A=new RegExp(`^${T}(/?)`);function M(ve){return!!ve.match(A)}function R(ve){return ve.replace(A,`${S}$1`)}function F(ve){const Te=ve.match(w);if(Te)return{type:"post",id:Number(Te[3]),author:{id:Number(Te[1]),name:Te[2]}};const we=ve.match(D);if(we)return{type:"post",id:Number(we[1])};const Se=ve.match(N);return Se?{type:Se[1]==="short"?"post":"postViewer",id:Number(Se[2])}:null}function Z(ve){const Te=ve.match(_);if(Te)return{type:"comment",id:Number(Te[3]),author:{id:Number(Te[1]),name:Te[2]}};const we=ve.match(x);return we?{type:"comment",id:Number(we[1])}:null}const V=new RegExp(`^${T}/comment/(d+)$`);function G(ve){return ve.match(V)}function $(ve){const Te=ve.match(s);return Te?{type:Te[1]==="c"?"comment":"post",id:Number(Te[2])}:null}function K(ve){const Te=ve.match(i);return Te?{type:Te[1]==="c"?"comment":"post",id:Number(Te[2])}:null}function H({baseUrl:ve,urlParams:Te}={}){var we;let Se=S;const We=ve!=null?ve:(0,c.ZJ)();return(typeof window=="undefined"||!((we=window.location.href)!=null&&we.startsWith(We)))&&(Se=We+Se),(0,c.n1)(Se,Te)}function re({baseUrl:ve,urlParams:Te}={}){const we=H({baseUrl:ve});return(0,c.n1)(`${we}/suggestions`,Te)}function ee(ve,Te,{noBase:we,urlParams:Se}={}){var We,Ae;const Be=(We=Te.publishedBylines)!=null&&We[0]?(Ae=Te.publishedBylines)==null?void 0:Ae[0]:ve?(0,n.getPostAuthor)(ve,Te):{id:0,name:"someone"};return(0,c.n1)(`${(0,u.getReaderProfileUrl)(Be,{noBase:we,extraParams:Se})}/note/${oe(Te.id)}`,Se)}function Y(ve,{noBase:Te,baseUrl:we,urlParams:Se,noHandle:We}={}){return ve.user_id?(0,c.n1)(`${(0,u.getReaderProfileUrl)((0,n.getCommentAuthor)(ve),{baseUrl:we,noBase:Te,noHandle:We})}/note/${Q(ve.id)}`,Se):H({baseUrl:we})}function J(ve,{noBase:Te,baseUrl:we,urlParams:Se}={}){const We=Te?"":we!=null?we:(0,c.ZJ)();return(0,c.n1)(`${We}/note/${ve}`,Se)}function te(ve,{noBase:Te,urlParams:we}={}){const Se=Te?"":(0,c.SV)();return(0,c.n1)(`${Se}/note/${Q(ve)}`,we)}function ie(ve,{noBase:Te,urlParams:we}={}){const Se=Te?"":(0,c.SV)();return(0,c.n1)(`${Se}${S}/post/${oe(ve)}`,we)}function se(ve,Te){return(0,c.Q2)(`/note/${oe(ve)}/restacks`,Te)}function W(ve,Te,we){return(0,c.Q2)(`/note/${ve}/restacks${Te==="notes"?"/notes":"/instants"}`,we)}function z(ve,Te){return`${Te==="comment"?"c":"p"}-${ve}`}function Q(ve){return`c-${ve}`}function oe(ve){return`p-${ve}`}function ne(ve){return`cp-${ve}`}function ae({utm_source:ve,utm_campaign:Te}={}){return(0,c.n1)("substack://notes",{utm_source:ve,utm_campaign:Te})}function le(ve){return`substack://notes/${Q(ve)}`}function ue(ve){return`substack://activity/notes/${Q(ve)}/replies`}function fe(ve){return`substack://notes/${oe(ve)}`}function he(ve){return(0,c.n1)(H(),g({action:"compose"},ve))}function be(ve,{noBase:Te}={}){return`${Te?"":(0,c.SV)()}/note/${Q(ve)}/preview.jpg`}},36250:(j,l,e)=>{"use strict";e.r(l),e.d(l,{getCommentUrl:()=>_,getEditPostUrlById:()=>p,getLikelyLoggedInParam:()=>i,getLinkToVideo:()=>C,getLinkableElementIdForVideo:()=>T,getPostCommentsUrl:()=>S,getPostUrl:()=>g,getPostUrlBySlug:()=>P,getPubAccountSettingsUrl:()=>s});var n=e(30123),c=e(70444),u=Object.defineProperty,v=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,E=(w,x,D)=>x in w?u(w,x,{enumerable:!0,configurable:!0,writable:!0,value:D}):w[x]=D,d=(w,x)=>{for(var D in x||(x={}))O.call(x,D)&&E(w,D,x[D]);if(v)for(var D of v(x))y.call(x,D)&&E(w,D,x[D]);return w};function g(w,x,{noBase:D,edit:N,email:I,comments:A,commentId:M,commentInput:R,highlightComment:F,replyToComment:Z,commentContextId:V,uuid:G,urlParams:$,signedIn:K=!1,feedViewer:H=!1,clipId:re}={}){if((w==null?void 0:w.type)==="rss"&&x)return x.canonical_url||w.rss_website_url;const ee=x?G?x.uuid:x.slug:null;if((N||!ee)&&w&&(x!=null&&x.id)){const J=D?"":(0,n.SV)(w),te=!!(x!=null&&x.editor_v2);return`${J}${p(w,x.id,te,$)}`}if((x==null?void 0:x.type)==="restack"&&(x!=null&&x.id))return`${D?"":(0,n.SV)(w)}/cp/${x.id}`;if(H||!w||!x||!ee){const J=D?"":(0,n.SV)();return M?(0,c.getCommentFallbackUrl)(M,{noBase:D,urlParams:$}):x&&re?(0,n.n1)(`${(0,n.SV)(w)}/p/${x.slug}`,$):x?(0,c.getFeedPostUrl)(x.id,{noBase:D,urlParams:$}):(0,n.n1)(`${J}${c.FEED_PATH}`,$)}const Y=i(K,w);return P(w,ee,{noBase:D,email:I,comments:A,commentId:M,commentInput:R,highlightComment:F,replyToComment:Z,commentContextId:V,urlParams:d({lli:Y},$)})}function P(w,x,{noBase:D,email:N,comments:I,commentId:A,commentInput:M,highlightComment:R,replyToComment:F,commentContextId:Z,urlParams:V}={}){let G="";return D||(G+=(0,n.SV)(w)),G+=`/p/${x}`,I&&(!A||R)&&(G+="/comments"),A&&!R&&!Z&&(G+=`/comment/${A}`),N&&(G+="/email"),V&&(G=(0,n.n1)(G,V)),A&&(R||F)?G+=`#comment-${A}${F?"-reply":""}`:M&&(G+="#input"),A&&Z&&(G+=`/comment/${Z}#comment-${A}`),G}function S(w,x,D,N){return g(w,x,d({comments:!0,commentId:D==null?void 0:D.id},N))}function T({mediaUploadId:w}){return`media-${w}`}function C({pub:w,post:x,mediaUploadId:D}){return`${g(w,x)}#${T({mediaUploadId:D})}`}function p(w,x,D,N){const I=D?"/publish/collab":"/publish/post";return(0,n.n1)(`${I}/${x}`,N)}function i(w,x){return x.custom_domain&&w?"1":void 0}function s(w,{addBase:x,params:D,signedIn:N}={}){const I=i(N,w),A=x?(0,n.SV)(w):"";return(0,n.n1)(`${A}/account`,d({lli:I},D))}function _(w,x,D,N){return x.post_id?S(D!=null?D:void 0,w!=null?w:void 0,x,N):(0,c.getFeedCommentUrl)(x,N)}},2731:(j,l,e)=>{"use strict";e.r(l),e.d(l,{getEditProfileUrl:()=>T,getProfileConnectionsUrl:()=>s,getProfileHandleUrl:()=>P,getProfileSetupUrl:()=>_,getProfileSubdomain:()=>S,getProfileUrlById:()=>g,getReaderAutoFollowUrl:()=>p,getReaderInviteUrl:()=>i,getReaderProfileUrl:()=>C});var n=e(72985),c=e(30123),u=Object.defineProperty,v=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,E=(w,x,D)=>x in w?u(w,x,{enumerable:!0,configurable:!0,writable:!0,value:D}):w[x]=D,d=(w,x)=>{for(var D in x||(x={}))O.call(x,D)&&E(w,D,x[D]);if(v)for(var D of v(x))y.call(x,D)&&E(w,D,x[D]);return w};function g(w,x,{searchParams:D,noBase:N,baseUrl:I}={}){let M=`${N?"":I!=null?I:(0,c.ZJ)()}/profile/${w}`;const R=(0,n.cleanSlug)(x,{hashIfEmpty:!0});return R&&(M+=`-${R}`),(0,c.n1)(M,D)}const P=(w,{searchParams:x,noBase:D,baseUrl:N}={})=>{const A=`${D?"":N!=null?N:(0,c.ZJ)()}/@${w}`;return(0,c.n1)(A,x)};function S(w,{searchParams:x,noBase:D,baseUrl:N}={}){const A=`${D?"":N!=null?N:(0,c.ZJ)()}/@${w}`;return(0,c.n1)(A,x)}function T(){return`${(0,c.ZJ)()}/profile/edit`}function C(w,{utm_source:x,utm_content:D,noBase:N,baseUrl:I,noHandle:A,extraParams:M}={}){const R=x||D?{utm_source:x,utm_content:D}:void 0,F=d(d({},M),R),Z=A?void 0:(w==null?void 0:w.handle)||(w==null?void 0:w.author_handle);return Z?P(Z,{noBase:N,baseUrl:I,searchParams:F}):g(w.author_id||w.user_id||w.id,w.user_profile_name||w.author_name||w.name,{noBase:N,baseUrl:I,searchParams:F})}function p(w){return`${C(w)}?follow`}function i(w){return`${C(w)}?invite`}function s(w,x,D){return(0,c.Q2)(`${C(w,{noBase:!0})}/${x!=null?x:"subscribers"}`,D)}function _(w={}){return(0,c.n1)(`${(0,c.ZJ)()}/profile/start`,w)}},96702:(j,l,e)=>{"use strict";e.r(l),e.d(l,{DEFAULT_PHOTO_URL:()=>y,getDefaultUserPhotoById:()=>O,getUserPhotoUrl:()=>u,getUserPhotoUrlWithoutDefault:()=>v});var n=e(20501),c=e(30123);function u(E,d){const g=v(E,d);return g||y}function v(E,{preferAuthorPhoto:d}={}){return d&&(E!=null&&E.author_photo_url)&&(0,n.imginary)(E.author_photo_url)?(0,n.imginary)(E.author_photo_url):E!=null&&E.photo_url&&(0,n.imginary)(E.photo_url)?(0,n.imginary)(E.photo_url):(E==null?void 0:E.id)!=null?O(E.id):null}function O(E){const d=["purple","yellow","orange","green","black"];return`${(0,c.ZJ)()}/img/avatars/${d[E%5]}.png`}const y=`${(0,c.ZJ)()}/img/avatars/logged-out.png`},76193:(j,l,e)=>{"use strict";e.r(l),e.d(l,{MOBILE_USER_AGENT_FIRST_4_PATTERN:()=>c,MOBILE_USER_AGENT_PATTERN:()=>n,getIosVersion:()=>O,isAndroid:()=>g,isAndroidUserAgent:()=>d,isIos:()=>y,isMobile:()=>u,isMobileUserAgent:()=>v});const n=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function u(P={}){let S=typeof navigator!="undefined"?navigator.userAgent||navigator.vendor:void 0;return!S&&typeof window!="undefined"&&(S=window.opera),S?v(S,P):!1}function v(P,{checkFirst4:S}={}){return n.lastIndex=0,c.lastIndex=0,!!(n.test(P)||S&&c.test(P.substr(0,4)))}function O(){if(typeof navigator=="undefined")return null;const P=navigator.userAgent;if(!P.match(/iPad/i)&&!P.match(/iPhone/i))return null;const S=P.indexOf("OS ");return S===-1?null:parseInt(P.substr(S+3,3).replace("_","."))||null}function y(){return!!O()}const E=/Android/i;function d(P){return E.lastIndex=0,!!P&&E.test(P)}function g(){return typeof navigator=="undefined"?!1:d(navigator.userAgent)}},63830:(j,l,e)=>{"use strict";e.d(l,{l:()=>n});const n=(c,{utm_source:u}={})=>{const v={id:c(),timestamp:new Date};return u&&(v.utm_source=u),v}},83322:(j,l,e)=>{"use strict";e.r(l),e.d(l,{AUDIENCE_ADJECTIVES:()=>ce,AppError:()=>Ge,CENTS_PER_EMAIL:()=>xe,CONTENT_MODERATION_REASONS:()=>Se,ChatError:()=>Qe,DEFAULT_MAX_BYLINES:()=>si,DEFAULT_PREVIEW_LIMIT:()=>ae,DEFAULT_PREVIEW_LIMIT_EMAIL:()=>le,DEFAULT_PROFILE_PAGE_SUBSCRIPTIONS_LIMIT:()=>ne,DEFAULT_THEME_COLORS:()=>pt,EU_COUNTRIES:()=>lr,GIFT_LENGTH_MONTHS:()=>Le,GRACE_PERIOD_COUPON_TRIAL_DAYS:()=>oe,GRACE_PERIOD_DAYS:()=>W,HOMEPAGE_TYPE_CHANGE_CUTOFF:()=>Oe,MANUAL_BILLING_DAYS_UNTIL_DUE:()=>z,MAX_BANK_PAYMENT_ATTEMPTS:()=>Te,MAX_FILE_SIZE:()=>F,MAX_INT32:()=>we,MAX_MEDIA_FILE_SIZE:()=>M,MAX_MEDIA_UPLOAD_CHUNK_SIZE:()=>R,MAX_PODCAST_FILE_SIZE:()=>A,MIN_MONTH_GAP_BETWEEN_PAUSES:()=>ue,MISSING_IMAGE_HEIGHT:()=>be,MISSING_IMAGE_URL:()=>he,MISSING_IMAGE_WIDTH:()=>ve,MONTH_NAMES:()=>Pt,NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES:()=>ye,NO_REPLY_EMAIL:()=>Ht,NZD_COUNTRIES:()=>Kn,OLD_PODCAST_CATEGORIES:()=>Je,PODCAST_CATEGORIES:()=>ze,PODCAST_SECTIONS_TO_MARK_AS_NEWSLETTERS:()=>je,PUBLICATION_TIER_DESCRIPTIONS:()=>$i,SECURITY_QUESTIONS:()=>de,SPECIAL_SUBDOMAINS:()=>Be,STRIPE_DAYS_UNTIL_DUE:()=>Q,STRIPE_TAX_ID_TYPES:()=>Ve,SUBSCRIPTION_WORDS:()=>Da,SUBSTACK_PUBLICATION_IDS:()=>J,SUBSTACK_PUBLICATION_ID_BETA:()=>H,SUBSTACK_PUBLICATION_ID_BLOGOLD:()=>K,SUBSTACK_PUBLICATION_ID_COMPANY:()=>V,SUBSTACK_PUBLICATION_ID_LIBRARYOLD:()=>G,SUBSTACK_PUBLICATION_ID_ON:()=>Z,SUBSTACK_PUBLICATION_ID_PRODUCTLAB:()=>Y,SUBSTACK_PUBLICATION_ID_READ:()=>re,SUBSTACK_PUBLICATION_ID_STORIESOLD:()=>$,SUBSTACK_PUBLICATION_ID_THREADSPILOT:()=>ee,SUBSTACK_USER_ID:()=>te,SUBSTACK_USER_IDS:()=>se,SUBSTACK_WRITERS_USER_ID:()=>ie,SUPPORTED_CURRENCIES:()=>rt,SUPPORTED_LANGUAGES:()=>$e,SUPPORTED_SEARCH_LANGUAGES:()=>Ie,TERSE_AUDIENCE_ADJECTIVES:()=>_e,TRANSPARENT_IMAGE_URL:()=>fe,TWEET_PLACEHOLDER_DATA_URI:()=>_,WEEK_IN_SECONDS:()=>Ce,anonymousName:()=>tc,areCommentsLocked:()=>Po,assertIsDefined:()=>w,assertIsError:()=>x,balanceTextWithCharacterWidths:()=>tr,baschezScoreToEmojis:()=>Lt,baschezToCategory:()=>Nt,canDeleteComment:()=>Fo,canDeletePost:()=>Io,canEditComment:()=>Sa,canPostComments:()=>So,canReplyToPost:()=>At,canReportComment:()=>pr,canSeeCommenterEmails:()=>wa,canSeeComments:()=>qo,canSeeTranscription:()=>ni,centsToDollarString:()=>ar,centsToPriceString:()=>Xn,colorLightness:()=>Kt,colorLuma:()=>ke,commentsEnabledForPost:()=>Xo,couldPostCommentsIfSubscribed:()=>ea,coverPageFreeSubscriberCount:()=>ir,currencySymbol:()=>wn,decimalToPercent:()=>Cr,deep_equals:()=>Co,defaultAudienceForPub:()=>Ia,defaultCommentLevelForPub:()=>ju,defaultSendEmailForPub:()=>Ku,dollarFormatter:()=>Er,dollarStringToCents:()=>Ur,endsWithPunctuation:()=>xn,ensureInList:()=>_c,escapeNewlines:()=>Jo,flat:()=>Oa,flowTextBasedOnWidth:()=>pc,formatArray:()=>ut,formatBytes:()=>ec,formatEllipsis:()=>fn,formatPercentForDisplay:()=>Ar,formatPodcastDuration:()=>Qs,formattedBytesToNumber:()=>Wi,foundingMemberDescription:()=>rc,fromEnv:()=>tl,getByLine:()=>ct,getBylineUsers:()=>Fi,getCopyrightedContentBucketName:()=>Ae,getCurrencyForCountry:()=>lt,getGiftValueText:()=>ro,getInitalPayment:()=>yo,getNext5HoursAfterMidnight:()=>Hf,getNumberWithCommas:()=>vr,getOpennodePaymentUrl:()=>oc,getPlanTitle:()=>li,getPostCtaPresentParticiple:()=>Gu,getPostCtaText:()=>jf,getPostEmbedMeta:()=>tt,getPostMediaBucketName:()=>We,getPrintedByline:()=>Xu,getPrintedPostType:()=>zu,getReadableAttribution:()=>ai,getReaderRecommendationEmailSubject:()=>fc,getRestackEmailSubject:()=>Yu,getScheduledAt:()=>oo,getSubscribeText:()=>it,getSubscriptionSentenceWithCustomWords:()=>ri,getSubscriptionWord:()=>Js,getSuperscriptNumberString:()=>oi,getTrialEndOverride:()=>Zs,getWithIndefiniteArticle:()=>na,get_month_name:()=>Gs,group_by:()=>ko,guessFirstName:()=>Hu,guessLastName:()=>Vu,handleDocumentLinkClick:()=>qu,hashString:()=>cc,hexToHSV:()=>Vr,hexToRgb:()=>_t,hidePaidPostsFor:()=>vt,isAppAttribution:()=>Ki,isFoundingPlan:()=>qs,isNotMainEntry:()=>Kf,isNotesAttribution:()=>ii,isPaidPub:()=>Wr,isPinnable:()=>ic,isProbablyEmail:()=>Hi,isSearchEngineCrawlerQuick:()=>Ta,isSubstackNetworkAttribution:()=>Xs,isTouchDevice:()=>hc,isUUID:()=>Qu,isValidCommentLevel:()=>$s,isZeroDecimalCurrency:()=>Ut,joinLines:()=>St,kFormatter:()=>dc,longestSetOfWordsBelowCost:()=>zn,mode:()=>Zu,normalizeHex:()=>gr,numberToHumanFileSize:()=>ac,numberToOrderOfMagnitude:()=>sn,numberToOrderOfMagnitudeShortString:()=>Pr,numberToOrderOfMagnitudeString:()=>mn,numberToOrdinal:()=>gn,numberToRoughRankingString:()=>fr,numberToString:()=>Sn,objectMap:()=>ti,onlyOwnsRootComment:()=>ta,oxfordComma:()=>$u,paymentPeriodToPlan:()=>jr,planBasePricing:()=>fo,pluralize:()=>po,possessive:()=>Yo,postSocialDescription:()=>nc,profilePageFreeSubscriberCount:()=>Qn,profilePageFreeSubscriberCountString:()=>zr,pubCurrency:()=>bt,pubHasPaymentsEnabled:()=>Lr,pubUsesZeroDecimalCurrency:()=>an,pubsWithCustomSubscriptionWords:()=>bo,randomString:()=>Ft,resolveTwitterShareText:()=>dt,restacksEnabledForPost:()=>Ca,rgbToHex:()=>Ot,roundPriceUp:()=>kr,sanitizeInlineText:()=>Vi,satoshiToBitcoin:()=>Hn,secondsToHHMMSS:()=>$t,secondsToLargestUnit:()=>Fr,sectionIsSpecificallyMarkedAsNewsletter:()=>He,setDateToMidnightPST:()=>lc,shouldHidePostFromArchive:()=>Ju,shouldUseInlineComments:()=>et,showCommentsOnPost:()=>Qo,simpleBalanceText:()=>Wn,sortSubscriptions:()=>Ne,spellOutNumber:()=>Oo,splitArray:()=>Ea,streamToBuffer:()=>nl,stringCost:()=>bn,stripInvalidBytes:()=>rn,subscriptionTypeText:()=>ft,textLengthAlphaNumericMinimumValidator:()=>el,toMap:()=>wo,toMillis:()=>zs,toSentenceCase:()=>yn,toTitleCase:()=>nn,transformDocumentLink:()=>Ys,truncAndFormatArray:()=>ot,truncateBytes:()=>en,truncateNumber:()=>ht,truncateText:()=>_n,truncateToValidBytes:()=>pn,truncateWords:()=>Tn,twitterScreenNames:()=>s,userFromReferralKey:()=>mc,userReferralKey:()=>ui,validCommentLevels:()=>ki,validateColor:()=>Mt,validateHex:()=>Gr,videoPlayerDimensions:()=>sc});var n=e(57824),c=e.n(n),u=e(82626),v=e(6385),O=e(82622);const y={test1:"SubstackInc",badnews:"ryangrim",dmortberg:"danielortberg",offthechain:"APompliano",on:"SubstackInc",petition:"petition",popularinformation:"JuddLegum",shane:"shanesnow",signalproblems:"A_W_Gordon",sinocism:"niubi",taibbi:"mtaibbi",thefirstand15th:"tressiemcphd",thenewsletter:"jbouie",numlock:"WaltHickey"};var E=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,C=(me,Re,Ze)=>Re in me?E(me,Re,{enumerable:!0,configurable:!0,writable:!0,value:Ze}):me[Re]=Ze,p=(me,Re)=>{for(var Ze in Re||(Re={}))S.call(Re,Ze)&&C(me,Ze,Re[Ze]);if(P)for(var Ze of P(Re))T.call(Re,Ze)&&C(me,Ze,Re[Ze]);return me},i=(me,Re)=>d(me,g(Re));const s=y,_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjQAAAC0BAMAAABxiqvBAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURd/n60dwTN/n7N/n7ODn69/n6N/n69/f6t/n6uHp7eLo7t/f3+Ho7QTAsUwAAAAMdFJOU4AATnVkIUAQN+W/CFiRL14AAALCSURBVHja7dy9TgJBFIbhAwtCYsOosBYWGDT+VGqMFjZQGKOVJBaWGivoiJWl8Q6M0cbKGHouwdLEi7JS92eGNWZcdpn3q7eYPJmdc2ZmQVT/+YPE86qk9jhQJJ6Nghwjo43/KC8o6NOXNxD0uYHGlCVooIEGGmiggQYaaKCBhkADDTQp05yvbMnueheaKE29JSIi4q1CE5Fpy1cOoQnG/5ERWYMmkLuAjHi30HxnTkKZgeY7zTCNLEOjnzQixcjjV5JidrJEcxEbXnjazEmqucwOzWJ8dNXQ0/Pp0mxnh+Y6PjpvEHy6li5NITs0Tc3wOtAopeq64ZUn+EJ1MkOzoBteKfh0w9Vl+FQ7vtAOvJWmzF52indTO0Bnu74gzVYGK2g2aOr6aV2GRtfwxZs+N2kMu4AiNPraHanejtIY+jkPGuMuABpooGGtoUJNsq+Bhm6YPRQ779TPayzdQ5UGOaNJPuWzdg91kDOa5LNha8fm1ZzRJN8o1FylUe2kpcZdmsTbS2svVDlvNIl33tbuofbzRqMp35FbspajxfsX39e42vIpvsoaQ9Ng0pho+ALUTOMHX6kjBU0gfG1upOE3CmYaftkyhoZAAw000EADDTTQQAMNNCBAAw000EADDTTQQAMNMdOciZMpjhJpfHE0nUSahqs0s9CYUoEGmn94oZxdhpcp3qZ/KxvR8tENQwMNNNBAAw000BBooIEGGmigyRvN1B9led0/0jhwAFr+I40Dx+ZFaKCBZvI0DizDFYq37eJNoIEGGmiggQYaaKCBhkADDTTQQAMNNLmnsXgA6l1OFY3VY/PqVNFYvWzxoIEGGnspsQybMkPxdqN4E2iggQYaaKCBBhpooCHQQAMNNNBAAw000EADDTTQQAMNNNBAkzOaJxBMNEMQ9NmU3gAFXfwHqd3DoJPpFUSdfJB43ofqE56LnR5mRT/HAAAAAElFTkSuQmCC";function w(me){if(me==null)throw new Ge(`Expected value to be defined, but received ${me}`)}function x(me){if(!(me instanceof Error))throw new Ge(`Expected value to be an Error, but received ${me}`)}const D="\u2026",N=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],I=["CA","AU","HK","NZ"],A=350*1024*1024,M=20*1024*1024*1024,R=50*1024*1024,F=700*1024*1024,Z=1,V=46438,G=86696,$=81318,K=87805,H=508885,re=737237,ee=1014268,Y=1056696,J=[Z,V,G,$,K,H,re,ee,Y],te=81309935,ie=41856304,se=[te,ie],W=16,z=45,Q=30,oe=0,ne=1e3,ae=356,le=256,ue=6,fe="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",he="/img/missing-image.png",be=455,ve=728,Te=3,we=2147483647,Se=["illegal","private_information","general","spam","hate","impersonation","plagiarism","porn"].sort();function We(){const me="substack-post-media";if(!me)throw new Ge("postMediaBucketName is not defined");return me}function Ae(){return We()==="substack-post-media"?"substack-copyrighted-media":"substack-copyrighted-media-staging"}const Be=["cdn","cloudinary","delivery","jobs","mailgun","mail","support","www","callback","api","admin","reader","sublink","random","your","dashboard","open"],de=["In what city or town did your parents meet?","What was your first teacher's last name?","What is your earliest memory?","What was the make and model of your first car?","What was the first concert you attended?","Where did you go on your first date?","What was your first favorite band?","What was your first computer or smartphone?","What is your least favorite color?","What was the first video game you beat?","Who was your favorite artist, musician, or celebrity when you were a teenager?"],ce={everyone:"public",only_free:"free-only",only_paid:"subscribers-only",founding:"founding-only"},_e={everyone:"public",only_free:"free-only",only_paid:"subscriber's",founding:"subscriber's"},Oe=new Date("2020-01-16"),Le=1,ze={Arts:["Books","Design","Fashion & Beauty","Food","Performing Arts","Visual Arts"],Business:["Careers","Entrepreneurship","Investing","Management","Marketing","Non-Profit"],Comedy:["Comedy Interviews","Improv","Stand-Up"],Education:["Courses","How To","Language Learning","Self-Improvement"],Fiction:["Comedy Fiction","Drama","Science Fiction"],Government:[],History:[],"Health & Fitness":["Alternative Health","Fitness","Medicine","Mental Health","Nutrition","Sexuality"],"Kids & Family":["Education for Kids","Parenting","Pets & Animals","Stories for Kids"],Leisure:["Animation & Manga","Automotive","Aviation","Crafts","Games","Hobbies","Home & Garden","Video Games"],Music:["Music Commentary","Music History","Music Interviews"],News:["Business News","Daily News","Entertainment News","News Commentary","Politics","Sports News","Tech News"],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Religion","Spirituality"],Science:["Astronomy","Chemistry","Earth Sciences","Life Sciences","Mathematics","Natural Sciences","Nature","Physics","Social Sciences"],"Society & Culture":["Documentary","Personal Journals","Philosophy","Places & Travel","Relationships"],Sports:["Baseball","Basketball","Cricket","Fantasy Sports","Football","Golf","Hockey","Rugby","Running","Soccer","Swimming","Tennis","Volleyball","Wilderness","Wrestling"],Technology:[],"True Crime":[],"TV & Film":["After Shows","Film History","Film Interviews","Film Reviews","TV Reviews"]},Je={Arts:["Books","Design","Fashion & Beauty","Food","Literature","Performing Arts","Visual Arts"],Business:["Business News","Careers","Investing","Management & Marketing","Shopping"],Comedy:[],Education:["Educational Technology","Higher Education","K-12","Language Courses","Training"],"Games & Hobbies":["Automotive","Aviation","Hobbies","Other Games","Video Games"],"Government & Organizations":["Local","National","Non-Profit","Regional"],Health:["Alternative Health","Fitness & Nutrition","Self-Help","Sexuality"],"Kids & Family":[],Music:[],"News & Politics":[],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Other","Spirituality"],"Science & Medicine":["Medicine","Natural Sciences","Social Sciences"],"Society & Culture":["History","Personal Journals","Philosophy","Places & Travel"],"Sports & Recreation":["Amateur","College & High School","Outdoor","Professional"],Technology:["Gadgets","Tech News","Podcasting","Software How-To"],"TV & Film":[]},Pt=["January","February","March","April","May","June","July","August","September","October","November","December"],Ve=[{name:"eu_vat",description:"European VAT number"},{name:"au_abn",description:"Australian Business Number (AU ABN)"},{name:"au_arn",description:"Australian Taxation Office Reference Number"},{name:"br_cnpj",description:"Brazilian CNPJ number"},{name:"br_cpf",description:"Brazilian CPF number"},{name:"bg_uic",description:"Bulgaria Unified Identification Code"},{name:"ca_bn",description:"Canadian BN"},{name:"ca_gst_hst",description:"Canadian GST/HST number"},{name:"ca_pst_bc",description:"Canadian PST number (British Columbia)"},{name:"ca_pst_mb",description:"Canadian PST number (Manitoba)"},{name:"ca_pst_sk",description:"Canadian PST number (Saskatchewan)"},{name:"ca_qst",description:"Canadian QST number (Qu\xE9bec)"},{name:"cl_tin",description:"Chilean TIN"},{name:"eu_oss_vat",description:"European One Stop Shop VAT number for non-Union scheme"},{name:"ge_va",description:"Georgian VAT"},{name:"hk_br",description:"Hong Kong BR number"},{name:"hu_tin",description:"Hungary tax number (ad\xF3sz\xE1m)"},{name:"is_vat",description:"Icelandic VAT"},{name:"in_gst",description:"Indian GST number"},{name:"id_npwp",description:"Indonesian NPWP number"},{name:"il_vat",description:"Israel VAT"},{name:"jp_cn",description:"Japanese Corporate Number (*H\u014Djin Bang\u014D*)"},{name:"jp_rn",description:"Japanese Registered Foreign Businesses' Registration Number (*T\u014Droku Kokugai Jigy\u014Dsha no T\u014Droku Bang\u014D*) "},{name:"li_uid",description:"Liechtensteinian UID number"},{name:"my_frp",description:"Malaysian FRP number"},{name:"my_itn",description:"Malaysian ITN C"},{name:"my_sst",description:"Malaysian SST number"},{name:"mx_rfc",description:"Mexican RFC number"},{name:"nz_gst",description:"New Zealand GST number"},{name:"no_vat",description:"Norwegian VAT number"},{name:"ru_inn",description:"Russian INN"},{name:"ru_kpp",description:"Russian KPP"},{name:"sa_vat",description:"Saudi Arabia VAT"},{name:"sg_gst",description:"Singaporean GST"},{name:"sg_uen",description:"Singaporean UEN"},{name:"si_tin",description:"Slovenia tax number (dav\u010Dna \u0161tevilka)"},{name:"za_vat",description:"South African VAT number"},{name:"kr_brn",description:"Korean BRN"},{name:"es_cif",description:"Spanish CIF number"},{name:"ch_vat",description:"Switzerland VAT number"},{name:"tw_vat",description:"Taiwanese VAT"},{name:"th_vat",description:"Thai VAT"},{name:"ua_vat",description:"Ukrainian VAT"},{name:"ae_trn",description:"United Arab Emirates TRN"},{name:"gb_vat",description:"United Kingdom VAT number"},{name:"us_ein",description:"United States EIN"}],pt=["#EA410B","#FF0000","#FD5353","#FF6B00","#FF9900","#00C2FF","#67BDFC","#2096FF","#0068EF","#121BFA","#6B26FF","#786CFF","#9D6FFF","#B599F1","#99A2F1","#FF5CD7","#FF81CD","#EA82FF","#A33ACB","#6C0095","#009B50","#25BD65","#2EE240","#8AE1A2","#45D800","#9A6600","#BAA049","#E8B500","#D10000"],$e={de:"German",es:"Spanish",fr:"French",it:"Italian",pt:"Portuguese"},Ie=["ar","cs","de","el","en","es","fr","hi","hu","id","it","ja","ko","la","nl","no","pl","pt","ro","ru","sv","th","tr","vi","zh"],ye=["IN"],Ce=60*60*24*7,xe=.0064,je={therampart:{sectionNames:[],sectionIds:[62635]},thebulwark:{sectionNames:["Bulwark Goes to Hollywood"],sectionIds:[]}},He=({section:me,pub:Re})=>{var Ze,qe;return!!((Ze=je[Re.subdomain])!=null&&Ze.sectionNames.includes(me.name)||(qe=je[Re.subdomain])!=null&&qe.sectionIds.includes(me.id))};class Ge extends Error{constructor(Re,{status:Ze=500,userVisible:qe=!1,messageHtml:gt=null,responseBody:Wt=null}={}){super(Re),this.name=this.constructor.name,this.status=Ze,this.userVisible=!!Wt||qe||!1,this.messageHtml=gt,this.response={body:Wt||(this.userVisible?gt?{errors:[{msg:Re,msgHTML:gt}]}:{error:Re}:{error:""})},Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Qe extends Error{constructor({status:Re=500,errType:Ze="SERVER_ERROR",errMessage:qe="",pub:gt=null}){super(qe),this.name=this.constructor.name,this.status=Re,this.response={body:{status:Ze,error:qe}},gt&&(this.response.body.publication=gt),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}function ct(me,{skipMultiContributorCheck:Re=!1}={}){var Ze,qe,gt,Wt;if(me.subdomain==="popularinformation")return"Judd Legum";if(me.subdomain==="whyisthisinteresting")return"Noah & Colin";if(me.subdomain==="informant")return"Nick Martin";if(me.subdomain==="colinmeloy")return"Colin Meloy";if(me.subdomain==="petition"||me.subdomain==="russiandissent")return null;if(me.subdomain==="mattlabash")return"Matt Labash";if(me.subdomain==="wmbrown")return"Matt Hranek";if(me.subdomain==="bigtechontrial")return"Matt Stoller";if(me.subdomain==="thegreenspoon")return"Greta and Fanny";if(!Re&&((Ze=me.contributors)==null?void 0:Ze.length)>1)return null;const Vt=me.name||me.subdomain,Jt=[(gt=(qe=me.contributors)==null?void 0:qe[0])==null?void 0:gt.name,me.author_name,me.email_from_name,(Wt=me==null?void 0:me.author)==null?void 0:Wt.name];for(let tn of Jt)if(tn&&(tn=tn.split(/(,|\||\s-|-\s|\bfrom\b|\bat\b)/g)[0].trim(),tn&&!tn.startsWith(Vt)&&!Vt.startsWith(tn)&&!tn.endsWith(Vt)&&!Vt.endsWith(tn)))return tn;return null}function dt({pub:me,post:Re}){var Ze;const qe=(me==null?void 0:me.twitter_screen_name)||me&&s[me==null?void 0:me.subdomain];let gt=(Ze=Re==null?void 0:Re.title)!=null?Ze:me==null?void 0:me.name;return me&&!Re&&(gt=`Subscribe to ${gt}`),qe&&(!Re||me&&(!Re.publishedBylines.length||Re.publishedBylines.some(Wt=>Wt.id===me.author_id)))&&(gt+=`, by @${qe}`),gt}function it(me,{now:Re=!1,isFreeSubscribed:Ze=!1,isMobile:qe=!1,isPledged:gt=!1,pledgesEnabled:Wt=!1,language:Vt}={}){if(!me)return"Subscribe";const{iString:Jt}=I18N.i(Vt||me.language);return ri(me,()=>Ze&&me.plans&&qe&&Re?Jt("Upgrade now"):Ze&&me.plans&&qe&&!Re?Jt("Upgrade"):Ze&&me.plans&&!qe&&Re?Jt("Upgrade to paid now"):Ze&&me.plans&&!qe&&!Re?Jt("Upgrade to paid"):Jt(Ze&&Wt&&!gt&&Re?"Pledge your support now":Ze&&Wt&&!gt&&!Re?"Pledge your support":Re?"Subscribe now":"Subscribe"),tn=>(Ze&&me.plans?yn(qe?tn.upgrade:tn.upgradeToPaid):Ze&&Wt&&!gt?"Pledge your support":yn(Js(me,"subscribe")))+(Re?" now":""))}function tt({date:me,bylines:Re,like_count:Ze,comment_count:qe,language:gt="en"}){const{iPlural:Wt}=I18N.i(gt),Vt=e(85928),Jt=[];return Jt.push(Vt(me).locale(gt).fromNow()),Ze&&Jt.push(Wt("1 like","%1 likes",Ze)),qe&&Jt.push(Wt("1 comment","%1 comments",qe)),Re&&Re.length&&Jt.push(ut(Re.map(tn=>tn.name).filter(tn=>tn!==null),gt)),Jt.join(" \xB7 ")}const vt=["astralcodexten"];function et(me,Re){return me.custom_publication_theme_id?!1:!!(["astralcodexten","company","library","on","blog","stories"].includes(me==null?void 0:me.subdomain)||me.shows_enabled&&(Re==null?void 0:Re.type)==="podcast"||(Re==null?void 0:Re.type)==="video")}const Xe=(me="")=>me.toUpperCase().replace(/^(THE|A|AN)\s+/,"");function Ne(me){return me.sort((Re,Ze)=>{var qe,gt;if(!Re)return 1;if(!Ze||Re.membership_state==="subscribed"&&Ze.membership_state!=="subscribed")return-1;if(Ze.membership_state==="subscribed"&&Re.membership_state!=="subscribed")return 1;const Wt=Xe((qe=Re.publication)==null?void 0:qe.name),Vt=Xe((gt=Ze.publication)==null?void 0:gt.name);return Wt<Vt?-1:Wt>Vt?1:0})}function ft(me){if(me.expiry&&new Date(me.expiry)>new Date)switch(me.type){case"gift":return"Gifted Subscription";case"comp":return"Comped Subscription";default:return"Paid Subscriber"}else return!me.email_disabled||me.email_settings&&Object.values(me.email_settings||{}).some(Re=>Re==="individual")?"Free Subscriber":me.digest_enabled||me.email_settings&&Object.values(me.email_settings||{}).some(Re=>Re==="digest")?"Follows in Digests":"Emails Disabled"}function At({post:me,user:Re}){return!!(me&&Re&&Re.has_publication&&!Re.is_admin&&!Re.is_contributor&&me.slug!=="coming-soon")}const Ht="no-reply@substack.com";function rn(me){if(!me||typeof me!="string")return me;try{return encodeURIComponent(me),me}catch(Re){}return me.replace(/[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,Re=>Re.length>1?Re:" ")}function en(me,Re){const Ze=new TextEncoder().encode(me);return Ze.length>Re?new TextDecoder().decode(Ze.slice(0,Re)):me}function pn(me){for(;;)try{return encodeURIComponent(me),me}catch(Re){me=me.substring(0,me.length-1)}}function _n(me,Re,{words:Ze=null,ellipsis:qe=D,extension:gt=null}={}){if(!me)return me;let Wt=!1;if(Ze){const Vt=new RegExp(`^(\\w+\\W+){${Ze-1}}\\w+`).exec(me);Vt&&(Wt=!0,me=Vt[0])}return Re&&me.length>Re&&(Wt=!0,me=me.substring(0,Re-qe.length)),Wt&&(me=pn(me),me+=qe,gt&&(me+=gt)),me}function Tn(me,Re,{ellipsis:Ze=D,quotationMarks:qe=!1}={}){if(!me)return me;qe&&(Re-=2);let gt=me;if(me&&me.length>Re){const Wt=me.split(/\s+/),Vt=[];let Jt=0;for(;Jt<=Re;){const tn=Wt.shift();if(!tn||Jt+tn.length>Re)break;Vt.push(tn),Jt+=tn.length+1}gt=fn(Vt.join(" "),Ze)}return qe&&(gt.endsWith(" ")||gt.startsWith(" "))&&(gt=gt.trim()),qe?`"${gt}"`:gt}const dn=/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~]+$/g;function fn(me,Re=D){return`${me.replace(dn,"")}${Re}`}function xn(me){return/[!.?](?:\s+)?$/.test(me)}const Dn=new Set([" ","-"]);function Wn(me,{maxCharsPerLine:Re=55,maxLines:Ze=2,preferWide:qe=!1}={}){if(me.length<=Re)return[me];const gt=Re*Ze;if(me.length>gt){let rr=gt;for(;rr>=0&&me.charAt(rr)!==" ";)rr--;me=fn(me.slice(0,rr))}const Wt=qe?Re:Math.floor(me.length/Ze);let Vt=-1,Jt=0;const tn=[];for(;Jt+Wt<me.length-1;){for(Jt=Jt+Wt;Jt<=me.length-1&&!Dn.has(me.charAt(Jt));)Jt++;const rr=me.charAt(Jt)==="-";tn.push(me.slice(Vt+1,rr?Jt+1:Jt)),Vt=Jt}return Jt<me.length-1&&tn.push(me.slice(Vt+1)),tn}const Fn=me=>/[A-Z]/.test(me),Cn=me=>/[\s-]/.test(me);function bn(me,Re){let Ze=0;for(let qe=0;qe<me.length;qe+=1){const gt=me[qe];Fn(gt)?Ze+=Re:Ze+=1}return Ze}function zn(me,Re,Ze){const qe=[];let gt=0,Wt=!1;for(let tn=0;tn<me.length;tn+=1){const rr=me[tn];if(Cn(rr)){Wt=!0;continue}else Wt&&(qe.push(me.slice(gt,tn)),gt=tn,Wt=!1)}if(gt<me.length&&qe.push(me.slice(gt)),!qe.length)return"";const Vt=[qe[0]];let Jt=bn(qe[0],Re);for(const tn of qe.slice(1)){const rr=bn(tn,Re);if(Jt+=rr,Jt<=Ze)Vt.push(tn);else break}return Vt.join("")}function tr(me,{maxCostPerLine:Re=55,maxLines:Ze=2,capitalCost:qe=1.2}={}){const gt=me;if(bn(me,qe)<=Re)return[me];const Vt=[];for(let Jt=0;Jt<Ze;Jt+=1){const tn=zn(me,qe,Re);if(tn)Vt.push(tn),me=me.slice(tn.length);else break}return Vt.reduce((Jt,tn)=>Jt+tn.length,0)<gt.length&&(Vt[Vt.length-1]=fn(Vt[Vt.length-1].slice(0,Vt[Vt.length-1].length-1))),Vt}const $n=["AT","BE","CY","DE","EE","ES","FI","FR","GR","HR","IE","IT","LT","LU","LV","MT","NL","PT","SI","SK"],lr=[...$n,"BG","CZ","DK","HU","PL","RO","SE"],Kn=["NZ","CK","NU","PN","TK"],rt=["usd","eur","gbp","cad","aud","nzd","brl","mxn","inr","pln"];function lt(me){return me==="AU"?"aud":me==="BR"?"brl":me==="CA"?"cad":me==="LI"||me==="CH"?"chf":me==="DK"||me==="FO"||me==="GL"?"dkk":$n.includes(me)?"eur":me==="GB"?"gbp":me==="MX"?"mxn":me==="BV"||me==="NO"||me==="SJ"?"nok":Kn.includes(me)?"nzd":me==="PL"?"pln":me==="SE"?"sek":me==="US"?"usd":null}const bt=me=>{var Re,Ze;return((Ze=(Re=me.draft_plans)==null?void 0:Re[0])==null?void 0:Ze.currency)||"usd"};function Ut(me){return["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","UGX","VND","VUV","XAF","XOF","XPF"].includes(me.toUpperCase())}function an(me){const Re=bt(me);return Ut(Re)}function wn(me){return new Intl.NumberFormat("en-US",{style:"currency",currency:me,minimumFractionDigits:0,maximumFractionDigits:0}).format(0).replace(/\d/,"").trim()}const Hn=me=>me/1e8;function Xn(me,Re,{forceDecimals:Ze=!1}={}){let gt=new Intl.NumberFormat("en-US",{style:"currency",currency:Re,minimumFractionDigits:Ze||me%100&&!Ut(Re)?2:0,maximumFractionDigits:Re==="btc"?8:2}).format(Re==="btc"?Hn(me):Ut(Re)?me:me/100);return Re==="usd"&&typeof window!="undefined"&&window._preloads&&window._preloads.country&&I.includes(window._preloads.country)&&(gt=`US${gt}`),gt}function ar(me){return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(me/100)}const Er=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0});function Ur(me){if(!me)return null;if(typeof me!="string")throw new Error("Bad type for dollar string");const Re=me.replace(/[^0-9.]/g,"");return Re?Math.round(Number(Re)*100):null}function kr(me){let Re=me/100;return Re=Re<50?Math.ceil(Re):Math.ceil(Re/5)*5,Re*100}function yo(me,{quantity:Re=1,coupon:Ze=null,noTrial:qe=!1,trial_end_override:gt=null}={}){if(!qe&&(me.trial_period_days||Ze&&Ze.trial_period_days||gt&&gt>Date.now()/1e3+120))return 0;let Wt=me.amount*Re;return Ze&&Ze.percent_off?Wt=Math.round(Wt*(1-(Ze.percent_off_precise||Ze.percent_off)/100)):Ze&&Ze.amount_off&&(Wt=Math.max(0,Wt-Ze.amount_off)),Wt}function ro(me,{interval:Re="month",interval_count:Ze=Le,multiplier:qe=1,min:gt=0}={}){let Wt,Vt,Jt;for(const nr of me){if(!Jt)Jt=nr.currency;else if(Jt!=nr.currency)continue;nr.interval=="month"?(!Wt||nr.amount<Wt)&&(Wt=nr.amount):nr.interval=="year"&&(!Vt||nr.amount<Vt)&&(Vt=nr.amount)}let tn=Wt;if(!tn&&Vt&&(tn=Vt/12),!tn)return null;let rr;switch(Re){case"month":rr=tn;break;case"day":rr=tn/30;break;case"year":rr=Vt||tn*12;break;default:throw new Error(`bad interval: ${Re}`)}let ao=rr*Ze*qe;return ao<gt?null:(ao=Math.floor(ao/100)*100,Xn(ao,Jt))}function fo(me,{amount:Re,interval:Ze="",language:qe="en"}={}){const gt=Xn(Re!=null?Re:me.amount,me.currency);if(me.interval!=="forever"){const Wt=Ze||me.interval,{iPlural:Vt,iString:Jt}=I18N.i(qe);if(me.interval_count===3){if(Wt==="day")return Jt("%1/three days",gt);if(Wt==="month")return Jt("%1/three months",gt);if(Wt==="week")return Jt("%1/three weeks",gt);if(Wt==="year")return Jt("%1/three years",gt)}if(Wt==="day")return Vt("%2/day","%2/%1 days",me.interval_count,gt);if(Wt==="month")return Vt("%2/month","%2/%1 months",me.interval_count,gt);if(Wt==="week")return Vt("%2/week","%2/%1 weeks",me.interval_count,gt);if(Wt==="year")return Vt("%2/year","%2/%1 years",me.interval_count,gt)}return gt}function Fr(me,{secondsCutoff:Re,minutesCutoff:Ze,hoursCutoff:qe,daysCutoff:gt,weeksCutoff:Wt,long:Vt,noNumber:Jt,noWord:tn,lessThanMinute:rr,language:ao="en",appendAgo:nr}={}){const{iCombo:Ln}=I18N.i(ao);me=Math.round(me);let On;return me<(Re||60)?(On=Math.round(me),tn?On:Jt&&Vt?Ln("secondsToLargestUnit","second","seconds",On):Jt&&!Vt?Ln("secondsToLargestUnit","sec","secs",On):!Vt&&nr?Ln("secondsToLargestUnit","%1 sec ago","%1 secs ago",On):Vt?nr?Ln("secondsToLargestUnit","%1 second ago","%1 seconds ago",On):Ln("secondsToLargestUnit","%1 second","%1 seconds",On):Ln("secondsToLargestUnit","%1 sec","%1 secs",On)):me<(Ze||3600)&&rr&&!tn&&!Jt?(On=Math.round(me/60),!Vt&&nr?Ln("secondsToLargestUnit","%1 min ago","%1 mins ago",On):Vt?nr?Ln("secondsToLargestUnit","less than %1 second ago","less than %1 seconds ago",On):Ln("secondsToLargestUnit","less than %1 minute","less than %1 minutes",On):Ln("secondsToLargestUnit","less than %1 min","less than %1 mins",On)):me<(Ze||3600)?(On=Math.round(me/60),tn?On:Jt&&Vt?Ln("secondsToLargestUnit","minute","minutes",On):Jt&&!Vt?Ln("secondsToLargestUnit","min","mins",On):!Vt&&nr?Ln("secondsToLargestUnit","%1 min ago","%1 mins ago",On):Vt?nr?Ln("secondsToLargestUnit","%1 minute ago","%1 minutes ago",On):Ln("secondsToLargestUnit","%1 minute","%1 minutes",On):Ln("secondsToLargestUnit","%1 min","%1 mins",On)):me<(qe||86400)?(On=Math.round(me/60/60),tn?On:Jt&&Vt?Ln("secondsToLargestUnit","hour","hours",On):Jt&&!Vt?Ln("secondsToLargestUnit","hr","hrs",On):!Vt&&nr?Ln("secondsToLargestUnit","%1 hr ago","%1 hrs ago",On):Vt?nr?Ln("secondsToLargestUnit","%1 hour ago","%1 hours ago",On):Ln("secondsToLargestUnit","%1 hour","%1 hours",On):Ln("secondsToLargestUnit","%1 hr","%1 hrs",On)):me<(gt||604800)?(On=Math.round(me/60/60),tn?On:Jt?Ln("secondsToLargestUnit","day","days",On):nr?Ln("secondsToLargestUnit","%1 day ago","%1 days ago",On):Ln("secondsToLargestUnit","%1 day","%1 days",On)):me<(Wt||31557600)?(On=Math.round(me/60/60),tn?On:Jt&&Vt?Ln("secondsToLargestUnit","week","weeks",On):Jt&&!Vt?Ln("secondsToLargestUnit","wk","wks",On):!Vt&&nr?Ln("secondsToLargestUnit","%1 wk ago","%1 wks ago",On):Vt?nr?Ln("secondsToLargestUnit","%1 week ago","%1 weeks ago",On):Ln("secondsToLargestUnit","%1 week","%1 weeks",On):Ln("secondsToLargestUnit","%1 wk","%1 wks",On)):(On=Math.round(me/60/60/24/365.25),tn?On:Jt&&Vt?Ln("secondsToLargestUnit","year","years",On):Jt&&!Vt?Ln("secondsToLargestUnit","yr","yrs",On):!Vt&&nr?Ln("secondsToLargestUnit","%1 yr ago","%1 yrs ago",On):Vt?nr?Ln("secondsToLargestUnit","%1 year ago","%1 years ago",On):Ln("secondsToLargestUnit","%1 year","%1 years",On):Ln("secondsToLargestUnit","%1 yr","%1 yrs",On))}function $t(me){const Re=Math.floor(me/60/60),Ze=Math.floor(me/60)%60,qe=Math.floor(me%60);return`${(Re?`${Re}:`:"")+(Re?`0${Ze}`.slice(-2):Ze)}:${`0${qe}`.slice(-2)}`}function Gr(me){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(me)}function gr(me){return me[0]!=="#"&&(me=`#${me}`),me=me.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(Re,Ze,qe,gt)=>Ze+Ze+qe+qe+gt+gt),me}function Vr(me){me=gr(me);function Re(Ln,On){typeof Ln=="string"&&Ln.indexOf(".")!=-1&&parseFloat(Ln)===1&&(Ln="100%");const ur=typeof Ln=="string"&&Ln.indexOf("%")!=-1;return Ln=Math.min(On,Math.max(0,parseFloat(Ln))),ur&&(Ln=parseInt(Ln*On,10)/100),Math.abs(Ln-On)<1e-6?1:Ln%On/parseFloat(On)}const Ze=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(me);let qe=parseInt(Ze[1],16),gt=parseInt(Ze[2],16),Wt=parseInt(Ze[3],16);qe=Re(qe,255),gt=Re(gt,255),Wt=Re(Wt,255);const Vt=Math.max(qe,gt,Wt),Jt=Math.min(qe,gt,Wt);let tn;const rr=Vt,ao=Vt-Jt,nr=Vt===0?0:ao/Vt;if(Vt==Jt)tn=0;else{switch(Vt){case qe:tn=(gt-Wt)/ao+(gt<Wt?6:0);break;case gt:tn=(Wt-qe)/ao+2;break;case Wt:tn=(qe-gt)/ao+4;break}tn/=6}return{h:tn,s:nr,v:rr}}function _t(me){const Re=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(gr(me));return Re?{r:parseInt(Re[1],16),g:parseInt(Re[2],16),b:parseInt(Re[3],16)}:null}function Ot({r:me,g:Re,b:Ze}){return`#${me.toString(16).padStart(2,"0")}${Re.toString(16).padStart(2,"0")}${Ze.toString(16).padStart(2,"0")}`}function Mt(me){const Re=Vr(me);if(Re.h>.11&&Re.h<.56)if(Re.s>.25&&Re.v>.5){if(Re.s<.6&&Re.v>.8)return!0;if(Re.s>.6)return!0}else return!1;else if(Re.s>.25&&Re.v>.5)return!0;return!1}function Kt(me,Re){const Ze=_t(me);return Ze?(Ze.r=Math.max(0,Math.min(255,Math.round(Ze.r*Re))),Ze.g=Math.max(0,Math.min(255,Math.round(Ze.g*Re))),Ze.b=Math.max(0,Math.min(255,Math.round(Ze.b*Re))),Ot(Ze)):me}function ke(me){let{r:Re,g:Ze,b:qe}=_t(me);return Re=Re/255,Ze=Ze/255,qe=qe/255,Re=Re<=.03928?Re/12.92:Math.pow((Re+.055)/1.055,2.4),Ze=Ze<=.03928?Ze/12.92:Math.pow((Ze+.055)/1.055,2.4),qe=qe<=.03928?qe/12.92:Math.pow((qe+.055)/1.055,2.4),.2126*Re+.7152*Ze+.0722*qe}function ot(me,Re,{name:Ze=Jt=>Jt,restWord:qe="other",noNames:gt="people",pluralizeRest:Wt=!0,showRestCount:Vt=!0}={}){const Jt=me.map(Ze).filter(Boolean).slice(0,Re);if(Jt.length===0)Jt.push(po(me.length,gt));else if(Jt.length<me.length){const tn=me.length-Jt.length;Jt.push(`${Vt?tn:""} ${qe}${tn>1&&Wt?"s":""}`)}return ut(Jt)}function ut(me,Re="en"){const{iString:Ze}=I18N.i(Re);let qe="";return me.length===1?qe=me[0]:me.length===2?qe=me.join(` ${Ze("and")} `):me.length>2&&(qe=`${me.slice(0,-1).join(", ")}, ${Ze("and")} ${me.slice(-1)}`),qe}function ht(me,{minSignificantDigits:Re=1,language:Ze="en"}={}){if(me<1e3)return me.toString();const{iTemplate:qe}=I18N.i(Ze),gt=Wt=>{const Vt=Math.max(Re-1-Math.floor(Math.log10(Wt)),0);return Math.round(Wt*Math.pow(10,Vt))/Math.pow(10,Vt)};return Math.round(me/1e3)<1e3?(me/=1e3,qe`${gt(me)}k`):Math.round(me/1e6)<1e3?(me/=1e6,qe`${gt(me)}m`):Math.round(me/1e9)<1e3?(me/=1e9,qe`${gt(me)}b`):(me/=1e12,qe`${gt(me)}t`)}const Nt=me=>Math.max(0,Math.min(5,Math.floor(Math.log(Math.max(me,1))/Math.LN10+1e-9))-1),Lt=me=>"\u{1F525}".repeat(Nt(me));function St(me,Re,Ze){const qe=(me||"").trim().split(/[\s\r]*\n[\s\r]*/g).map(Wt=>Wt.trim()).filter(Wt=>Wt),gt=[];for(;qe.length>0;){const Wt=qe.shift(),Vt=gt[gt.length-1];Vt&&Vt.length<Ze?gt[gt.length-1]+=Re+Wt:gt.push(Wt)}return gt.join(`
`)}function Ft(){return Math.random().toString(36).replace(/^0\./,"")}function nn(me){return me.trim().split(/\s+/).filter(Boolean).map(Re=>Re[0].toUpperCase()+Re.substr(1).toLowerCase()).join(" ")}function yn(me,Re){const Ze=Re?me.substr(1).toLowerCase():me.substr(1);return me[0].toUpperCase()+Ze}function gn(me){const Re=["th","st","nd","rd"],Ze=me%100;return me+(Re[(Ze-20)%10]||Re[Ze]||Re[0])}function Sn(me,{precision:Re=0,language:Ze="en"}={}){return typeof me=="string"&&(me=Number(me.replace(/,/g,""))),new Intl.NumberFormat(Ze,{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:Re}).format(me)}function sn(me){return Math.pow(10,Math.floor(Math.log10(me)))||0}function mn(me){return me<100?"tens":me<1e3?"hundreds":me<1e4?"thousands":me<1e5?"tens of thousands":me<1e6?"hundreds of thousands":me<1e7?"millions":me<1e8?"tens of millions":me<1e9?"hundreds of millions":me<1e10?"billions":me<1e11?"tens of billions":me<1e12?"hundreds of billions":me<1e13?"trillions":me<1e14?"tens of trillions":me<1e15?"hundreds of trillions":"gagillions"}function Pr(me){const Re=me.toLocaleString(void 0,{notation:"compact",maximumFractionDigits:0,roundingMode:"floor"});return me>=1e3?`${Re}+`:me>0?Re:"0"}function fr(me){return me<=10?`#${me}`:me<=25?"Top 25":me<=50?"Top 50":me<=100?"Top 100":""}function vr(me){if(me<1e3)return null;let qe=Math.floor(me/1e3)*1e3;return qe>=1e6&&(qe=Math.floor(me/1e5)*1e5),Sn(qe)}function ir(me,Re="en"){const{iTemplate:Ze}=I18N.i(Re),qe=vr(me);return qe?Ze`Over ${qe} subscribers`:null}function Qn(me){if(!me||me<100)return null;const Re=me<1e3?100:1;return Pr(Math.floor(me/Re)*Re)}function zr(me){return!me||me<100?"See subscribers":`${Qn(me)} subscribers`}const Ar=me=>me<1?"< 1%":`${me}%`;function Cr(me,{rounded:Re=!1,display:Ze=!1,decimalPlaces:qe=-1}={}){let gt=parseFloat(me)*100;return qe>=0&&(gt=gt.toFixed(qe)),Re&&(gt=Math.floor(gt)),Ze?Ar(Number(gt)):gt}function oo(me){var Re;if((Re=me==null?void 0:me.postSchedules)!=null&&Re.length&&me.postSchedules[0].trigger_at)return new Date(me.postSchedules[0].trigger_at);if("scheduled_at"in me&&!(!me||!me.scheduled_at)&&!(me.email_sent_at&&me.should_send_email))return new Date(Math.max(new Date(me.scheduled_at).getTime(),Date.now()))}function Oo(me){return me===0?"zero":me===1?"one":me===2?"two":me===3?"three":me===4?"four":me===5?"five":me===6?"six":me===7?"seven":me===8?"eight":me===9?"nine":me===10?"ten":me===11?"eleven":me===12?"twelve":Sn(me)}function po(me,Re,{zero_fallback:Ze="",just_word:qe}={}){let gt,Wt;const Vt=Re.lastIndexOf(" ")+1,Jt=Re.substr(Vt),tn=Re.substr(0,Vt);return["person","people"].includes(Jt)?(gt=`${tn}person`,Wt=`${tn}people`):["reply","replies"].includes(Jt)?(gt=`${tn}reply`,Wt=`${tn}replies`):["entry","entries"].includes(Jt)?(gt=`${tn}entry`,Wt=`${tn}entries`):["match","matches"].includes(Jt)?(gt=`${tn}match`,Wt=`${tn}matches`):(gt=Re,Wt=`${Re}s`),qe||(gt=`${Sn(me)} ${gt}`,Wt=`${Sn(me)} ${Wt}`),!me&&Ze?Ze:me==1?gt:Wt}function Yo(me){return`${me}\u2019${me[me.length-1]==="s"?"":"s"}`}function Jo(me){return me.replace(/\n/g,"\\n")}const ti=(me,Re,Ze)=>{const qe={};for(const gt in me)qe[gt]=Re.call(Ze,me[gt],gt,me);return qe};function Co(me,Re){if(isNaN(me))return isNaN(Re);if(me===null)return Re===null;switch(typeof me){case"undefined":case"boolean":case"number":case"string":return me===Re}const Ze=Object.keys(me).sort(),qe=Object.keys(Re).sort();if(Ze.length!==qe.length)return!1;for(let gt=0;gt<Ze.length;gt+=1){const Wt=Ze[gt];if(Wt!==qe[gt]||!Co(me[Wt],Re[Wt]))return!1}return!0}const wo=(me,Re="id")=>{const Ze={};for(const qe of me)typeof Re=="function"?Ze[Re(qe)]=qe:Ze[qe[Re]]=qe;return Ze};function Ea(me,Re){const Ze=[],qe=[];for(const gt of me)Re(gt)?Ze.push(gt):qe.push(gt);return[Ze,qe]}const Oa=(me,Re=1)=>{const Ze=[];function qe(gt,Wt){for(const Vt of gt)Array.isArray(Vt)&&Wt>0?qe(Vt,Wt-1):Ze.push(Vt)}return qe(me,Re),Ze},ko=(me,Re,Ze)=>{if(typeof Re=="string"){const qe=Re.split(".");Re=gt=>qe.reduce((Wt,Vt)=>Wt[Vt],gt)}return[].reduce.call(me,(qe,gt,Wt)=>{const Vt=Re.call(Ze,gt,Wt,me),Jt=qe.get(Vt);return Jt?Jt.push(gt):qe.set(Vt,[gt]),qe},new Map)};function Xo({publication:me,post:Re}){return["adhoc_email","page"].includes(Re==null?void 0:Re.type)?!1:me.community_enabled&&Re&&Re.write_comment_permissions!=="none"}function Ca({publication:me,post:Re}){return!!(me.community_enabled&&Re)}function Qo({publication:me,post:Re}){return(Re==null?void 0:Re.type)==="adhoc_email"||(Re==null?void 0:Re.slug)==="coming-soon"?!1:Re&&Re.comment_count>0||Xo({publication:me,post:Re})}const wa=me=>!!(me&&me.is_contributor);function qo(me,Re,{bypassContentAccessCheck:Ze=!1}={}){const{userHasFullAccessToPost:qe}=e(6385);return me&&Re.publishedBylines&&Re.publishedBylines.find(gt=>gt.id===me.id)?!0:Ze||qe(me,Re)}function ni(me,Re,{bypassContentAccessCheck:Ze=!1}={}){const{userHasFullAccessToPost:qe}=e(6385);return me&&Re.publishedBylines&&Re.publishedBylines.find(gt=>gt.id===me.id)?!0:Ze||qe(me,Re)}const Po=me=>me.type==="thread"&&me.write_comment_permissions==="none";function So(me,Re,Ze){const qe=me&&"id"in me?me.id:null;if(qe&&Re.publishedBylines&&Re.publishedBylines.find(gt=>gt.id===qe))return{canReply:!0};if(me&&me.is_contributor)return{canReply:!0};switch(Re.write_comment_permissions||Ze.default_write_comment_permissions){case"everyone":return{canReply:!0};case"none":return{canReply:!1,repliesDisabledReason:O.us.comments_disabled};case"only_paid":{if((0,v.isFoundingAudience)(Re.audience)){const Wt=me?(0,v.userHasFullAccessToPost)(me,Re,Ze):!1;return{canReply:Wt,repliesDisabledReason:Wt?void 0:O.us.founding_subscription_required}}const gt=!!(me&&me.is_subscribed);return{canReply:gt,repliesDisabledReason:gt?void 0:O.us.paid_subscription_required}}}return{canReply:!1}}function ea(me,Re,Ze){return So(i(p({},me),{is_subscribed:!0}),Re,Ze).canReply}const Sa=(me,Re)=>!!(Re&&me&&me.id===Re.user_id);function Fo(me,Re,{pub:Ze,post:qe,parentComments:gt}){if(!me||!Re)return!1;if(me.is_contributor||me.id===Re.user_id)return!0;if(Re.publication_id&&Re.post_id){if(Io(me,Ze,qe))return!0}else if(ta({user:me,comment:Re,parentComments:gt}))return!0;return!1}function ta({user:me,comment:Re,parentComments:Ze}){var qe;if(!me||!Re||Re.publication_id&&Re.post_id||me.id===Re.user_id||me.is_contributor)return!1;const gt=Number((qe=Re.ancestor_path)==null?void 0:qe.split(".").filter(Boolean)[0]);if(!gt)return!1;const Wt=Ze==null?void 0:Ze.find(Vt=>(Vt==null?void 0:Vt.id)===gt);return me.id===(Wt==null?void 0:Wt.user_id)}function Io(me,Re,Ze){return me?!!(me.is_contributor||me.id===(Re==null?void 0:Re.author_id)||Re!=null&&Re.contributors.find(qe=>qe.user_id===me.id&&["admin","contributor"].includes(qe.role))):!1}function pr(me,Re){return!(!me||!Re||me.id===Re.user_id)}function Lr(me){return!!me.plans}function Wr(me){return!!(me.plans||me.has_subscribers)}function Ia(me,{type:Re,coupon:Ze}={}){return!me.plans||Re==="page"?"everyone":Ze?"only_free":"only_paid"}function ki(me,Re,Ze){if(Re==="thread")switch(me){case"only_paid":return["only_paid"];case"founding":return["only_paid"];case"everyone":return["everyone"];default:return["everyone"]}else switch(me){case"only_paid":return["only_paid","none"];case"founding":return["only_paid","none"];case"everyone":return Ze?["only_paid","everyone","none"]:["everyone","none"];default:return["none"]}}function $s(me,Re,Ze,qe){return me!=null&&ki(Re,Ze,qe).includes(me)}function ju(me,Re,Ze,qe){return $s(Ze.default_write_comment_permissions,me,Re,qe)?Ze.default_write_comment_permissions:ki(me,Re,qe)[0]}function Ku(me,Re,Ze){return Re==="page"?!1:Ze==="only_free"?!0:!!me.default_post_publish_send_email}function Zs(me,Re,Ze){return Re&&Re.interval==="forever"?0:Math.max(0,...[me.trial_end_override>Date.now()/1e3?me.trial_end_override:0,Re&&Re.trial_period_days&&Math.round((Date.now()+Re.trial_period_days*24*60*60*1e3)/1e3),Ze&&Ze.trial_period_days&&Math.round((Date.now()+Ze.trial_period_days*24*60*60*1e3)/1e3)].filter(qe=>qe))}function Hu(me,{prependSpace:Re=!1}={}){return me?(Re?" ":"")+me.trim().split(/\s+/g)[0]:""}function Vu(me){return me?me.trim().split(/\s+/g).slice(1).slice(-1)[0]:""}const Gs=me=>Pt[new Date(me).getMonth()];function $u(me,{noBreakSpace:Re}={}){const Ze=Re?"\xA0":" ";let qe=[];if(me.length==1)qe=[me[0]];else if(me.length==2)qe=[me[0],`${Ze}and${Ze}`,me[1]];else if(me.length>=3)for(let gt=0;gt<me.length;gt++)qe.push(me[gt]),gt<me.length-2?qe.push(`,${Ze}`):gt===me.length-2&&qe.push(`,${Ze}and${Ze}`);return qe.toString=()=>qe.join(""),qe}function Zu(me){const Re=new Map;for(const Ze of me){let qe=Re.get(Ze);qe=(qe||0)+1,Re.set(Ze,qe)}return Array.from(Re).sort((Ze,qe)=>qe[1]-Ze[1])[0][0]}function jf(me,Re="en"){const{iString:Ze}=I18N.i(Re);return me.type==="thread"?Ze("View thread"):me.type==="podcast"?Ze("Listen"):Ze("Read")}function Gu(me,{isFinalWord:Re}={}){return me==="podcast"?`listening${Re?"":" to"}`:me==="video"?"watching":"reading"}function zu(me){return me==="newsletter"?"post":me==="podcast"?"episode":me==="adhoc_email"?"email":me==="video"?"video":me}function Yu(me){return`${_n(me.title||"Untitled post",115)}`}function Ju(me){return me.publication_id===10475&&me.section_id===18994}function Fi(me,{isDraft:Re=!1}={}){return me?((Re?me.draftBylines:me.publishedBylines)||[]).filter(qe=>qe.name):[]}function Xu(me,Re,{isDraft:Ze=!1}={}){const qe=Fi(Re,{isDraft:Ze});return qe.length>0?ut(qe.map(gt=>gt.name).filter(gt=>gt!==null)):null}const Qu=me=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(me);function zs(me){return typeof me=="string"?c()(me)||0:typeof me=="number"?me:0}function Ys(me){const Re=Ze=>new RegExp(`^.*${Ze}`);if(me){if(me.includes(u.Substitutions.CHECKOUT_URL))return me.replace(Re(u.Substitutions.CHECKOUT_URL),"/subscribe?");if(me.includes(u.Substitutions.FOUNDING_CHECKOUT_URL))return me.replace(Re(u.Substitutions.FOUNDING_CHECKOUT_URL),"/subscribe?plan=founding&");if(me.includes(u.Substitutions.REFERRAL_URL))return me.replace(Re(u.Substitutions.REFERRAL_URL),"/?showWelcome=true");if(me.includes(u.Substitutions.UNSUBSCRIBE_URL))return me.replace(Re(u.Substitutions.UNSUBSCRIBE_URL),"/account?");if(me.includes(u.Substitutions.ONE_CLICK_UNSUBSCRIBE_URL))return me.replace(Re(u.Substitutions.ONE_CLICK_UNSUBSCRIBE_URL),"/account?");if(/^.*%%.*%%/.test(me))return null}else return me;return me}function qu(me){const Re=Ys(me);if(Re){const Ze=window.open(Re,"_blank");Ze!=null&&Ze.focus&&Ze.focus()}}function Kf(me){if(!me)return!0;const Re=document.location&&document.location.pathname||"";return["publish","account"].includes(Re.split("/")[1])}function ec(me,Re=2){if(me===0)return"0 Bytes";const Ze=1024,qe=Re<0?0:Re,gt=Math.floor(Math.log(me)/Math.log(Ze));return`${parseFloat((me/Math.pow(Ze,gt)).toFixed(qe))} ${N[gt]}`}function Wi(me=""){if(!me)return 0;const[Re,Ze]=me.split(" "),qe=N.indexOf(Ze);return qe<0?0:Number(Re)*Math.pow(1024,qe)}function Ta(me){return/Googlebot/i.test(me||"")?"Google":/bingbot/i.test(me||"")||/BingPreview/i.test(me||"")?"Bing":/Slurp/i.test(me||"")?"Yahoo":/DuckDuckBot/i.test(me||"")?"DDG":/Baiduspider/i.test(me||"")?"Baidu":!1}function tc(me,Re,Ze,qe){return me.name?me.name:(Ze&&Ze.author_id===qe.id||Re&&Re.publishedBylines&&Re.publishedBylines.find(gt=>gt.id===qe.id))&&me.email||"Someone"}function nc(me,Re,Ze="en"){const{iTemplate:qe}=I18N.i(Ze);return me&&me.description||Re.hero_text||qe`Get ${Re.name} in your inbox`}const Da=[{pubs:["thebulwark"],subscription:"membership",donateItem:"membership",subscriber:"member",subscribe:"join",subscribeTo:"join",upgrade:"join",upgradeTo:"join",upgradeToPaid:"join",upgradeSubscriptionTo:"upgrade your membership to"},{pubs:["georgesaunders"],donateItem:"scholarship"}],ji={subscription:"subscription",donateItem:"subscription",subscriber:"subscriber",subscribe:"subscribe",subscribeTo:"subscribe to",upgrade:"upgrade",upgradeTo:"upgrade to",upgradeToPaid:"upgrade to paid",upgradeSubscriptionTo:"upgrade your subscription to"},bo=Da.flatMap(me=>me.pubs);function ri(me,Re,Ze){const qe=Da.find(Wt=>Wt.pubs.includes(me==null?void 0:me.subdomain))||null,gt=qe?p(p({},ji),qe):null;return gt?Ze(gt):Re()}function Js(me,Re){const Ze=Da.find(gt=>gt.pubs.includes(me==null?void 0:me.subdomain));let qe=Ze&&Ze[Re];if(!qe&&(qe=ji[Re],!qe))throw new Error(`${Re} is not a valid subscription word`);return qe}function oi(me){const Re={0:8304,1:185,2:178,3:179,4:8308,5:8309,6:8310,7:8311,8:8312,9:8313};return String.fromCodePoint(...Array.from(`${me}`).map(Ze=>Re[Ze]))}const rc=me=>{var Re,Ze,qe;return(qe=(Ze=(Re=me==null?void 0:me.plans)==null?void 0:Re.find(gt=>{var Wt;return(Wt=gt.metadata)==null?void 0:Wt.founding}))==null?void 0:Ze.metadata)==null?void 0:qe.short_description},oc=me=>`https://checkout.opennode.com/${me}`;function ac(me=0){const Re=me===0?0:Math.floor(Math.log(me)/Math.log(1024));return`${+(me/Math.pow(1024,Re)).toPrecision(3)}${["B","KB","MB","GB","TB"][Re]}`}function ai(me,Re="en"){if(!me)return null;const{iString:Ze}=I18N.i(Re),qe=Ze("Substack Network"),gt=Ze("Substack App");if(ii(me))return gt;const Wt={"blog.substack.com":qe,"library.substack.com":qe,"substack-network":qe,"on.substack.com":qe,"post-end-cta":"Post Footer CTA","stories.substack.com":qe,"substack-app":gt,"substack-boost":qe,"substack-categories-discovery":gt,"substack-categories-discovery-search":gt,"substack-comment-links":qe,"substack-cross-posts":qe,"substack-facepiles":qe,"substack-feed-item":gt,"substack-homepage-recommendations":qe,"substack-ios-in-app-purchase":"Substack iOS In-App Purchase","substack-leaderboards":gt,"substack-mentions":qe,"substack-notes":gt,"substack-onboarding-discovery":gt,"substack-post-embeds":qe,"substack-post-reply-comment":qe,"substack-presubscribe":gt,"substack-publication-embeds":qe,"substack-reader-discovery":gt,"substack-reader-profile-discovery":gt,"substack-reader-shared":"Reader sharing","substack-your-weekly-stack":Ze("Substack Network \u2014 Your Weekly Stack"),"substack-recommendation-email":qe,"substack-referral":qe,"substack-signup-flow":qe,"substack-subscriber-referral":qe,"substack-twitter-link":gt,"substack-twitter-suggest":gt,"substack-xp-post-template":qe,"substack-xp-read-next":qe,"substack.com":gt,"t.co":"Twitter","www.substack.com":qe,external:Ze("external form / api"),"googleads.g.doubleclick.net":"Google","score-upsell":Ze("Boost upsell to engaged subscribers")}[me];return Wt||(/(\b|\.)facebook\./.test(me)?"Facebook":/(\b|\.)instagram\./.test(me)?"Instagram":/(\b|\.)linkedin\./.test(me)?"LinkedIn":/(\b|\.)youtube\./.test(me)?"YouTube":/(\b|\.)duckduckgo\./.test(me)?"DuckDuckGo":/(\b|\.)medium\./.test(me)?"Medium":/(\b|\.)reddit\./.test(me)?"Reddit":/(\b|\.)bing\./.test(me)?"Bing":/(\b|\.)google\./.test(me)?"Google":me!=null&&me.includes(".")?me:nn(me.replace(/-/g," ")))}function Ki(me){return ii(me)?!0:["substack-app","substack-categories-discovery","substack-categories-discovery-search","substack-feed-item","substack-ios-in-app-purchase","substack-leaderboards","substack-notes","substack-onboarding-discovery","substack-presubscribe","substack-reader-discovery","substack-reader-profile-discovery","substack-twitter-link","substack-twitter-suggest","substack.com"].includes(me)}function ii(me){return["substack-feed-item","notes_inline_suggestions","notes_sidebar_suggestions","feed-nux","feed-twitter-suggestions","notes_all_suggestions","note_permalink_upsell","notes_likes","note_inline_upsell","notes_restacks","notes_quote_attachment","notes_context","substack-notes"].includes(me)}function Xs(me){return!Ki(me)&&/substack/i.test(me)}const Hi=me=>/^\S+@\S+\.\S+$/.test(me),Vi=me=>(me||"").replace(/\s+/g," "),$i={"-2":{short:"Deleted - Flagged as spam",long:"This publication is deleted and every page will show a flagged error"},"-1":{short:"Noindexed - In moderation queue",long:"This publication is temporarily not available to search engines because it is pending moderation, where it will be approved or deleted"},0:{short:"Noindexed - New Pub",long:'This publication is temporarily not available to search engines because the author needs to create a new post other than "coming-soon"'},1:{short:"Available",long:"This publication is available to search engines"},2:{short:"Available w/priority",long:"This publication is available to search engines and is given priority SEO treatment"}};function jr(me){return me?me<3456e3?"monthly":me<8121600?"quarterly":me<16070400?"semiannual":me<3456e4?"annual":me>3888e3?"lifetime":"other":"free"}function ic(me){return me&&(me.homepage_type==="newspaper"||me.homepage_type==="magaziney")}const si=35;function sc(me,{isStatic:Re}={}){let Ze,qe;return me.width>=me.height*1.7777777777777777?(Ze=Re?550:960,qe=Math.round(Ze*(me.height/me.width))):me.width>=me.height?(Ze=Re?550:728,qe=Math.round(Ze*(me.height/me.width))):Ze=qe=Re?550:728,{height:qe,width:Ze}}function lc(me){const Re=e(85928),Ze=Re(me);return Re.utc([Ze.year(),Ze.month(),Ze.date(),8,0,0]).toDate()}function Hf({now:me}={}){const Re=e(85928),Ze=me?Re(me):Re();let qe=Ze.utc().startOf("day").add(5,"hour");return qe.isBefore(Ze)&&(qe=qe.utc().add(1,"day")),qe}function Qs(me){const Re=Math.round(me/60),Ze=Math.floor(Re/60),qe=Re%60;return`${Ze?`${Ze}HR `:""}${qe}M`}function Nr(me){const Re=me.toLowerCase()[0];return["a","e","i","o","u"].includes(Re)}function uc(me){return me.toLowerCase().startsWith("uni watch")?"a":Nr(me)?"an":"a"}function na(me){return`${uc(me)} ${me}`}function cc(me){return me.split("").reduce((Re,Ze)=>(Re<<5)-Re+Ze.charCodeAt(0)|0,0)}function dc(me,Re="en"){const{iContext:Ze}=I18N.i(Re),qe=Ze("thousandsAbbreviation","K");return Math.abs(me)>9999?`${Math.sign(me)*(Math.abs(me)/1e3).toFixed(1)}${qe}`:(Math.sign(me)*Math.abs(me)).toString()}function fc({recommendedPubs:me}){let Re=null;for(const Ze of me){for(const qe of Ze.recommendations)if(qe.hasOwnProperty("blurb")&&qe.blurb){Re=`${qe.name} recommended ${Ze.name}`;break}if(Re)break}return Re!=null?Re:"Recommendations from your Substacks"}function li(me,Re="en"){var Ze,qe,gt,Wt,Vt;const{iString:Jt}=I18N.i(Re);return((Ze=me.metadata)==null?void 0:Ze.short_description_english)==="Stammleser"||((qe=me.metadata)==null?void 0:qe.short_description_english)==="Gr\xFCndungsmitglied"?Jt("Founding Member"):(gt=me.metadata)!=null&&gt.short_description_english?Jt((Wt=me.metadata)==null?void 0:Wt.short_description_english):(Vt=me.metadata)!=null&&Vt.short_description?Jt(me.metadata.short_description):me.interval==="year"?Jt("Annual"):me.interval==="forever"?Jt("Founding Membership"):me.interval==="month"&&me.interval_count===3?Jt("Quarterly"):me.interval==="month"&&me.interval_count===6?Jt("Semiannually"):me.interval==="day"?Jt("Daily"):me.interval==="week"?Jt("Weekly"):Jt("Monthly")}function qs(me){var Re;return((Re=me==null?void 0:me.metadata)==null?void 0:Re.founding)==="yes"}const el=({minLength:me,maxLength:Re,minAlphaNumeric:Ze}={})=>qe=>{if(!qe)return"Missing input";if(me&&qe.length<me)return`Must be at least ${me} characters long`;if(Re&&qe.length>Re)return`Must be at most ${Re} characters long`;const gt=new RegExp("\\P{P}|`","gu"),Wt=qe.match(gt);if(!Wt||(Wt==null?void 0:Wt.length)<(Ze!=null?Ze:me))return`Must contain at least ${Ze!=null?Ze:me} non-punctuation characters`;const Vt=["`"];let Jt=0;return Wt.forEach(tn=>{Vt.includes(tn)&&(Jt+=1)}),Wt.length-Jt<(Ze!=null?Ze:me)?`Must contain at least ${Ze!=null?Ze:me} non-punctuation characters`:null};function tl(me,Re){const Ze=process.env[me],qe=typeof Ze!="undefined",gt=typeof Re!="undefined";if(qe)return Ze;if(gt)return Re;throw new Error(`Missing required env var ${me}`)}function nl(me){return new Promise((Re,Ze)=>{const qe=[];me.on("data",gt=>qe.push(gt)),me.once("end",()=>Re(Buffer.concat(qe))),me.once("error",Ze)})}function pc(me,{maxWidth:Re=55,maxLines:Ze=2,charWidth:qe=1}={}){const gt=[];let Wt="",Vt=0;const Jt=me.split(" ");for(const tn of Jt){const rr=tn.length*qe;if(Vt+rr<=Re)Wt?(Wt+=` ${tn}`,Vt+=rr+qe):(Wt=tn,Vt=rr);else if(gt.push(Wt),Wt=tn,Vt=rr,gt.length===Ze)break}if(gt.length===Ze&&Wt){const tn=Re-Vt;tn>=3?Wt+="...":Wt=`${Wt.substring(0,Wt.length-(3-tn))}...`,gt[Ze-1]=Wt}else Wt&&gt.push(Wt);return gt}function hc(){return typeof window!="undefined"&&("ontouchstart"in window||navigator.maxTouchPoints>0)}function ui(me){return(me==null?void 0:me.id)&&me.id.toString(36)||null}function mc(me){if(!me)return null;try{const Re=parseInt(me,36);return isNaN(Re)||Re>we?null:Re}catch(Re){return null}}function _c(me,Re){return typeof me!="string"?Re[0]:Re.includes(me)?me:Re[0]}},17087:(j,l,e)=>{"use strict";e.d(l,{a:()=>n});const n=(c,u,v)=>{var O;return((O=v==null?void 0:v.preview_duration)!=null?O:0)>0||["everyone","only_free"].includes(u.audience)||["only_paid"].includes(u.audience)&&(c==null?void 0:c.is_subscribed)||["founding"].includes(u.audience)&&(c==null?void 0:c.is_founding)}},31163:(j,l,e)=>{"use strict";e.d(l,{DL:()=>u,Jk:()=>O,UB:()=>c,ZD:()=>y,fI:()=>v});function n(E){const d=e(85928);return d().diff(d(E),"hour")}const c=E=>{const d=Math.floor(E/60),g=Math.floor(E%60);return`${d}:${g.toString().padStart(2,"0")}`};function u(E,d=!1){if(E<0)return"0:00";const g=Math.floor(E),P=Math.floor(g/60),S=g%60;if(d){const T=Math.round((E-g)*10);return`${P}:${String(S).padStart(2,"0")}.${T}`}return`${P}:${String(S).padStart(2,"0")}`}const v=E=>/^[0-9.:]*$/.test(E),O=E=>/^(?:(?:[0-9]{1,3}):)?(?:[0-5][0-9]|[0-9]{1,2})(?:\.[0-9]{1,3})?$/.test(E),y=E=>{const[d="",g=""]=E.split("."),P=d.split(":").reverse().map(i=>parseInt(i)),S=P[0]||0,T=P[1]||0;return(P[2]||0)*3600+T*60+S+parseInt(g.padEnd(3,"0"))/1e3}},32542:j=>{"use strict";const l={is_www:!0,id:0,name:"Substack",subdomain:"www",copyright:"Substack Inc.",mailing_address:`548 Market Street PMB 72296
San Francisco, CA 94104`,email_from:"no-reply@substack.com",email_from_name:"Substack",logo_url:"/img/substack.png?v=3",language:"en"};j.exports=l},45895:(j,l,e)=>{"use strict";e.d(l,{forEachNode:()=>n});function n(u,v,{nodeTypes:O}={}){var y,E;if(!u||(O&&!Array.isArray(O)&&(O=[O]),u.type&&(!O||O.includes(u.type)||O.includes(u.type.name))&&v(u)===!1))return;const d=((y=u.content)==null?void 0:y.length)>0?u.content:((E=u.content)==null?void 0:E.childCount)>0?u.content.content:[];for(const g of d)n(g,v,{nodeTypes:O})}function c(u,v){var O,y;if(!u||v(u)===!1)return;const E=((O=u.content)==null?void 0:O.length)>0?u.content:((y=u.content)==null?void 0:y.childCount)>0?u.content.content:[];for(let d=E.length-1;d>=0;d--)c(E[d],v)}},25597:(j,l,e)=>{"use strict";e.d(l,{Z:()=>y});var n=e(6400),c=e(13639),u=e(36377),v=e(11851);const y=({audience:E,className:d,size:g=16,isStatic:P,thin:S})=>E==="only_paid"?S?(0,n.h)(v.Z,{className:d,height:g,isStatic:P}):(0,n.h)(c.Z,{className:d,size:g}):E==="founding"?(0,n.h)(u.Z,{className:d,height:g,isStatic:P,strokeWidth:1}):null},51576:(j,l,e)=>{"use strict";e.d(l,{O:()=>Pt,Z:()=>Je});var n=e(6400),c=e(30396),u=e(81108),v=e(922),O=e(40423),y=e(80569),E=e.n(y),d=e(15045),g=e(31163),P=e(91004),S=e(25346),T=e(3258),C=e(66141),p=e(66219),i=e(39419),s=e(29811),_=e(86791);const w={mainContainer:"frontend-components-ClipNux-module__mainContainer--BxA_d",speechBubble:"frontend-components-ClipNux-module__speechBubble--vHgss",childrenContainer:"frontend-components-ClipNux-module__childrenContainer--YhXer"},x="clip_web_nux_seen_at";function D({children:Ve,onClick:pt,isDisabled:$e,post:Ie}){const[ye]=useDismissed(x);return!ye&&!$e?h(N,{post:Ie,onClick:pt},Ve):Ve}function N({children:Ve,onClick:pt,post:$e}){const[Ie,ye]=useState(!0),[,Ce]=useDismissed(x);useEffect(()=>{track(EVENTS.VIDEO_CLIP_NUX_SEEN,{post_id:$e.id})},[]);const xe=()=>{ye(!1),track(EVENTS.VIDEO_CLIP_NUX_DISMISSED,{post_id:$e.id}),Ce()},je=Ge=>{track(EVENTS.VIDEO_CLIP_NUX_CLICKED,{post_id:$e.id}),pt(Ge),ye(!1),Ce()},He=createRef();return useDismiss(He,xe),h(I,{isOpen:Ie,containerRef:He,content:h(FlexColumn,{gap:16,padding:8},h(FlexColumn,{gap:8},h(Text.H3,{weight:"bold"},"Introducing clip sharing"),h(Text.B4,null,"Select your favorite moments from any video and instantly create a clip to share on your favorite social media platforms")),h(FlexColumn,{gap:8},h(Button,{fill:"filled",priority:"primary-theme",onClick:je},"Try it now"),h(Button,{fill:"empty",priority:"secondary",onClick:xe},"Maybe later")))},Ve)}function I({containerRef:Ve,content:pt,children:$e,isOpen:Ie}){return h("div",{ref:Ve,className:css.mainContainer},Ie&&h("div",{className:css.speechBubble},h(FlexColumn,null,h(FlexRow,null,pt))),h("div",{className:css.childrenContainer},$e))}var A=e(56838),M=e(94184),R=e.n(M),F=e(99869),Z=e(71212),V=e(20501),G=e(71765),$=e(64484),K=e(36543),H=e(66839),re=e(75425),ee=e(9e3),Y=e(62246),J=e(592);const te={step:"frontend-components-InstagramShareModals-module__step--Tmhvw"},ie=({isOpen:Ve,onClose:pt,pub:$e,post:Ie,mediaCarousel:ye})=>(useEffect(()=>{Ve&&track(EVENTS.INSTAGRAM_SHARE_MODAL_SEEN,{source:"post-share-selection"})},[Ve]),h(Modal,{isOpen:Ve,onClose:pt,fullscreenMobile:!0},h(FlexRow,{alignItems:"center",padding:16},h(IconButton,{size:40,fill:"filled",priority:"secondary",onClick:pt},h(ArrowLeft,{size:20})),h(Text.H2,{paddingLeft:12},"Share To Instagram")),h(InstagramShareModalBody,{pub:$e,post:Ie,hideEmail:!0,hideAssetTitle:!0,smallAssetPadding:!0,mediaCarousel:ye}))),se=({isOpen:Ve,onClose:pt,onCopyLinkClick:$e,mediaCarousel:Ie})=>((0,c.d4)(()=>{Ve&&(0,T.j)(T.FP.VIDEO_CLIP_INSTAGRAM_SHARE_MODAL_SEEN,{source:"clip-share-modal"})},[Ve]),(0,n.h)(Y.u_,{isOpen:Ve,onClose:pt,fullscreenMobile:!0},(0,n.h)(Y.xB,{includeClose:!0,onClose:pt,title:"Share to Instagram"}),(0,n.h)(Y.fe,null,(0,n.h)(s.tu,{gap:32},(0,n.h)(s.gq,null,(0,n.h)(s.gq,{justifyContent:"center",className:te.step},(0,n.h)(s.xv.H4,null,"1")),(0,n.h)(s.gq,null,(0,n.h)(s.tu,{gap:16},(0,n.h)(s.xv.H4,null,"Download clip"),(0,n.h)(s.tu,{bg:"secondary",radius:12,border:"detail"},Ie)))),(0,n.h)(s.gq,null,(0,n.h)(s.gq,{justifyContent:"center",className:te.step},(0,n.h)(s.xv.H4,null,"2")),(0,n.h)(s.gq,null,(0,n.h)(s.tu,{gap:16},(0,n.h)(s.tu,{gap:4},(0,n.h)(s.xv.H4,null,"Copy a link to the post"),(0,n.h)(s.xv.B4,null,"Add a link to your Instagram story or bio.")),(0,n.h)(s.gq,null,(0,n.h)(s.zx,{priority:"secondary",onClick:()=>$e("instagram","substack-clips","social"),leftIcon:(0,n.h)(F.Z,null)},"Copy Link"))))),(0,n.h)(s.gq,null,(0,n.h)(s.gq,{justifyContent:"center",className:te.step},(0,n.h)(s.xv.H4,null,"3")),(0,n.h)(s.gq,null,(0,n.h)(s.tu,{gap:16},(0,n.h)(s.tu,{gap:4},(0,n.h)(s.xv.H4,null,"Post from Instagram"),(0,n.h)(s.xv.B4,null,"Visit the Instagram app and share the image with a link to the post. Or share from Instagram on desktop"))))),(0,n.h)(s.gq,{justifyContent:"end",paddingTop:32,paddingX:16},(0,n.h)(s.zx,{priority:"primary-theme",onClick:pt},"Done")))))),W={download:"frontend-components-ShareCenter-module__download--ZlokN",disabledButton:"frontend-components-ShareCenter-module__disabledButton--mnMti"};var z=Object.defineProperty,Q=Object.defineProperties,oe=Object.getOwnPropertyDescriptors,ne=Object.getOwnPropertySymbols,ae=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable,ue=(Ve,pt,$e)=>pt in Ve?z(Ve,pt,{enumerable:!0,configurable:!0,writable:!0,value:$e}):Ve[pt]=$e,fe=(Ve,pt)=>{for(var $e in pt||(pt={}))ae.call(pt,$e)&&ue(Ve,$e,pt[$e]);if(ne)for(var $e of ne(pt))le.call(pt,$e)&&ue(Ve,$e,pt[$e]);return Ve},he=(Ve,pt)=>Q(Ve,oe(pt)),be=(Ve,pt,$e)=>new Promise((Ie,ye)=>{var Ce=He=>{try{je($e.next(He))}catch(Ge){ye(Ge)}},xe=He=>{try{je($e.throw(He))}catch(Ge){ye(Ge)}},je=He=>He.done?Ie(He.value):Promise.resolve(He.value).then(Ce,xe);je(($e=$e.apply(Ve,pt)).next())});function ve({shareUrl:Ve,pub:pt,post:$e,clip:Ie,selectionId:ye,disabled:Ce,disabledInstagram:xe,disabledDownload:je,onDownloadClick:He,isSharing:Ge}){const Qe=(0,re.pm)(),[ct,dt]=(0,c.eJ)(!1),it=(Ht="copy",rn="substack-clip",en="web")=>be(this,null,function*(){tt(Ht,rn,en,pn=>((0,i.copyToClipboard)(pn),Qe.popToast(_n=>(0,n.h)(re.FN,he(fe({},_n),{text:"Link copied to clipboard"}))),!1))}),tt=(Ht,rn,en,pn)=>{(0,P.I)(Ht,pn,{shareUrl:Ve(Ht,rn,en),post:$e,pub:pt,selectionId:ye,utm_campaign:rn,utm_medium:en,event:T.FP.VIDEO_CLIP_SHARE_BUTTON_CLICKED})},vt=()=>{(0,T.j)(T.FP.VIDEO_CLIP_SHARE_BUTTON_CLICKED,{name:"instagram",post_id:$e?$e.id:null,utm_campaign:"substack-clips",utm_medium:"social"}),dt(!0)},et=()=>{dt(!1)},Xe=()=>be(this,null,function*(){tt("facebook","substack-clips","social",Ht=>(0,V.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:Ht}))}),Ne=()=>be(this,null,function*(){$e&&tt("twitter","substack-clips","social",Ht=>(0,V.pathWithQuery)("https://twitter.com/share",{url:Ht,text:$e.title}))}),ft=()=>be(this,null,function*(){tt("linkedin","substack-clips","social",Ht=>(0,V.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:Ht}))}),At=()=>{(0,P.BZ)({shareUrl:Ve("notes","substack-clips","web"),pub:pt,post:$e,utm_campaign:"substack-clips"})};return(0,n.h)(s.gq,{justifyContent:"space-between",flex:"fill"},Ge?(0,n.h)(s.gq,null,(0,n.h)(s.zx,{fill:"filled",priority:"primary-theme",rounded:!1,onClick:()=>it(),leftIcon:(0,n.h)(F.Z,null)},"Copy link")):(0,n.h)("div",null),(0,n.h)(s.gq,{gap:8},(0,n.h)(s.u,{text:je?"Your clip will be ready to download shortly":"Download",hoverOptions:{delayEnter:0,delayLeave:0}},(0,n.h)(s.hU,{className:R()({[W.disabledButton]:je}),fill:"outline",rounded:!1,onClick:He,disabled:je},je?(0,n.h)(s.aN,null):(0,n.h)(Z.Z,{size:20}))),!Ge&&(0,n.h)(s.hU,{fill:"outline",rounded:!1,onClick:()=>it(),disabled:Ce},(0,n.h)(F.Z,{size:20})),(0,n.h)(s.hU,{fill:"outline",rounded:!1,onClick:At,disabled:Ce},(0,n.h)(ee.Z,{height:24})),(0,n.h)(s.hU,{fill:"outline",rounded:!1,onClick:vt,disabled:Ce||xe},(0,n.h)(K.Z,{height:20,width:20})),(0,n.h)(s.hU,{fill:"outline",rounded:!1,onClick:Ne,disabled:Ce},(0,n.h)(H.Z,{height:20,width:20})),(0,n.h)(s.hU,{fill:"outline",rounded:!1,onClick:Xe,disabled:Ce},(0,n.h)(G.Z,{height:20,width:20})),(0,n.h)(s.hU,{fill:"outline",rounded:!1,onClick:ft,disabled:Ce},(0,n.h)($.Z,{height:20,width:20})),(0,n.h)(se,{isOpen:ct,onClose:et,onCopyLinkClick:it,mediaCarousel:(0,n.h)(s.gq,{gap:16,alignItems:"center",justifyContent:"center",padding:16,position:"relative"},(0,n.h)("img",{src:(0,d.getMediaUploadThumbnailUrlForPlayer)(Ie),width:"300px"}),(0,n.h)("div",{className:W.download},(0,n.h)(s.gq,{padding:32},(0,n.h)(s.hU,{fill:"filled",priority:"media",rounded:!1,onClick:()=>He&&He()},(0,n.h)(Z.Z,{size:"16"})))))})))}const Te={placeholder:"frontend-components-ClipModal-module__placeholder--C0lO7",placeholderMessage:"frontend-components-ClipModal-module__placeholderMessage--IeArY"};var we=Object.defineProperty,Se=Object.defineProperties,We=Object.getOwnPropertyDescriptors,Ae=Object.getOwnPropertySymbols,Be=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,ce=(Ve,pt,$e)=>pt in Ve?we(Ve,pt,{enumerable:!0,configurable:!0,writable:!0,value:$e}):Ve[pt]=$e,_e=(Ve,pt)=>{for(var $e in pt||(pt={}))Be.call(pt,$e)&&ce(Ve,$e,pt[$e]);if(Ae)for(var $e of Ae(pt))de.call(pt,$e)&&ce(Ve,$e,pt[$e]);return Ve},Oe=(Ve,pt)=>Se(Ve,We(pt)),Le=(Ve,pt,$e)=>new Promise((Ie,ye)=>{var Ce=He=>{try{je($e.next(He))}catch(Ge){ye(Ge)}},xe=He=>{try{je($e.throw(He))}catch(Ge){ye(Ge)}},je=He=>He.done?Ie(He.value):Promise.resolve(He.value).then(Ce,xe);je(($e=$e.apply(Ve,pt)).next())});function ze({user:Ve,pub:pt,post:$e,mediaUploadId:Ie,isOpen:ye,onClose:Ce}){var xe;const je=(0,n.createRef)(),[He,Ge]=(0,c.eJ)(null);(0,c.d4)(()=>{Ie&&(0,T.j)(T.FP.VIDEO_CLIP_SEEN,{post_id:$e.id,clip_id:Ie})},[Ie]),(0,c.d4)(()=>{(()=>Le(this,null,function*(){const ft=yield E().get(`/api/v1/video/upload/${Ie}`);Ge(ft.body)}))()},[Ie]),(0,c.d4)(()=>{const Ne=setInterval(()=>{const ft=()=>Le(this,null,function*(){const At=yield E().get(`/api/v1/video/upload/${Ie}`),{mux_rendition_quality:Ht}=At.body;Ge(At.body),Ht&&clearInterval(Ne)});He!=null&&He.mux_rendition_quality?clearInterval(Ne):ft()},5e3);return()=>{clearInterval(Ne)}},[He]);const Qe=()=>Le(this,null,function*(){if(!He)return;const Ne=`/api/v1/video/upload/${He.id}/src.json?type=mp4`,{body:{src:ft}}=yield E().get(Ne),Ht=yield(yield fetch(ft)).blob(),rn=window.URL.createObjectURL(Ht),en=document.createElement("a");en.href=rn,en.download=`${He.name}`,en.target="_blank",en.rel="noopener noreferrer",en.style.display="none",document.body.appendChild(en),en.click(),document.body.removeChild(en),(0,T.j)(T.FP.VIDEO_CLIP_DOWNLOAD_BUTTON_CLICKED,{name:"download",post_id:$e?$e.id:null,utm_campaign:"substack-clips",utm_medium:"web"})}),ct=()=>{(0,T.j)(T.FP.VIDEO_CLIP_WATCH_FULL_EPISODE_BUTTON_CLICKED,{name:"watch full episosde",post_id:$e?$e.id:null,utm_campaign:"substack-clips",utm_medium:"web"}),window.history.pushState({},"",(0,d.updateQuery)(window.location.href,{clipId:void 0,share:void 0})),Ce()};if(!He)return null;const it=new URL(window.location.href).searchParams.get("share")!==null,tt=He.state==="error",vt=He.state==="transcoded",et=He.mux_rendition_quality!==null,Xe=(0,i.isMobileBrowser)();return(0,n.h)(s.u_,{opacity:"dark",width:640,fullscreenMobile:!0,isOpen:ye,onClose:Ce},(0,n.h)(s.xB,{includeClose:!0,title:it?"Share Clip":"Clip",onClose:Ce,description:(0,n.h)(s.gq,null,(0,n.h)("span",null,`\u2702\uFE0F ${(0,g.UB)((xe=He.duration)!=null?xe:0)} | ${$e.title}`))}),(0,n.h)(s.fe,null,vt?(0,n.h)(S.Z,{ref:je,mediaUpload:He,pub:pt,autoPlay:!1,isClip:!0}):tt?(0,n.h)(s.gq,null,(0,n.h)(s.tu,{className:Te.placeholder},(0,n.h)(u.Z,{color:"gray"}),(0,n.h)(s.xv.Button,{color:"secondary"},"Oops! There was an error creating the clip"))):(0,n.h)(s.gq,null,(0,n.h)(s.tu,{className:Te.placeholder,justifyContent:"center",alignItems:"center"},(0,n.h)(s.tu,{justifyContent:"center",alignItems:"center",className:Te.placeholderMessage,gap:8},(0,n.h)(s.aN,null),(0,n.h)(s.xv.B3,{weight:"bold"},"Your clip is being processed"),(0,n.h)(s.xv.Button,{color:"secondary",textAlign:"center"},"Clips may take up to a minute to process. Meanwhile, ",(0,n.h)("b",null,"share your clip link below"))))),!tt&&(0,n.h)(s.tu,{paddingTop:16},(0,n.h)(s.iz,null),(0,n.h)(s.xu,null,(0,n.h)(s.gq,{justifyContent:"space-between",flex:"grow",paddingTop:16},!it&&(0,n.h)(s.gq,null,Xe?(0,n.h)(s.hU,{fill:"filled",priority:"primary-theme",rounded:!1,onClick:ct},(0,n.h)(v.Z,null)):(0,n.h)(s.zx,{fill:"filled",priority:"primary-theme",rounded:!1,onClick:ct},"Watch full episode")),(0,n.h)(ve,{shareUrl:(Ne,ft,At)=>(0,P.O1)(Ne,{clip:He,post:$e,pub:pt,medium:At,utm_campaign:ft}),pub:pt,clip:He,post:$e,selectionId:void 0,disabled:!1,disabledInstagram:!et,disabledDownload:!et,onDownloadClick:Qe,isSharing:it}))))))}function Je(Ve){const{user:pt,pub:$e,post:Ie,mediaUploadId:ye}=Ve,[Ce,xe]=(0,c.eJ)(!0),[je,He]=(0,c.eJ)(ye);(0,c.d4)(()=>{const dt=()=>{const tt=new URLSearchParams(window.location.search).get("clipId");He(tt),xe(!0)};return window.addEventListener("urlchange",dt),window.addEventListener("popstate",dt),dt(),()=>{window.removeEventListener("urlchange",dt),window.removeEventListener("popstate",dt)}},[]);const{mediaUpload:Ge,loading:Qe}=(0,p.z)({mediaUploadId:je});if(Qe||!Ge)return null;const ct=()=>{xe(!1),(0,T.j)(T.FP.VIDEO_CLIP_MODAL_CLOSED,{post_id:Ie==null?void 0:Ie.id,clip_id:je})};return(0,n.h)(ze,Oe(_e({},Ve),{mediaUploadId:je,isOpen:Ce,onClose:ct}))}const Pt=({post:Ve,mediaUpload:pt,disabled:$e,onClipClick:Ie,style:ye})=>{var Ce;const[xe,je]=(0,C.Z)(x),He=((Ce=pt==null?void 0:pt.duration)!=null?Ce:0)>5,Ge=()=>{if(He){if($e)return"upgrade in order to watch this video and be able to clip it"}else return"can't clip videos shorter than 5 seconds";return""},Qe=!He||$e;(0,c.d4)(()=>{Qe||(0,T.j)(T.FP.VIDEO_CLIP_BUTTON_SEEN,{post_id:Ve.id})},[Qe]);const ct=dt=>{je(),He&&Ie&&Ie(dt)};return(0,n.h)(A.Ng,{title:Ge(),isDisabled:Qe,style:ye,onClick:ct,icon:(0,n.h)(O.Z,{className:"icon",height:(0,A.Su)(ye),strokeWidth:A.PA})})}},9738:(j,l,e)=>{"use strict";e.d(l,{C:()=>u});var n=e(6400),c=e(33291);function u({children:v}){return(0,n.h)("div",{className:c.Z.darkTheme},v)}},45809:(j,l,e)=>{"use strict";e.d(l,{M:()=>u});var n=e(6400),c=e(28488);function u({array:v,limit:O,formatter:y=E=>E}){const E=v.map(y).filter(Boolean).slice(0,O),{iString:d,iPlural:g}=(0,c.M1)(),P=d("and");if(E.length===0)return v.length?g("one person","%1 people",v.length):d("zero people");if(E.length===1)return E[0];if(E.length===2)return(0,n.h)(n.Fragment,null,E[0]," ",P," ",E[1]);const S=E.slice(0,-1).map(C=>(0,n.h)(n.Fragment,null,C,", ")),T=v.length-E.length;return T>0?(0,n.h)(n.Fragment,null,S,P," ",T+1," ",g("other","others",T+1)):(0,n.h)(n.Fragment,null,S,P," ",E[E.length-1])}},16495:(j,l,e)=>{"use strict";e.d(l,{q:()=>S});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(47467),y=e(51126),E=e(43887),d=e(11688),g=e(31471),P=e(45048);function S({className:C,assets:p,readOnly:i,isRestack:s,isPreview:_,onClick:w,aspect:x}){const D=p.map(R=>typeof R=="string"?{src:R,explicit:!1}:R);let N=D;D.length>6&&(N=N.slice(0,5));const[I,A]=(0,c.eJ)(null),M=(R,F)=>{R.preventDefault(),A({index:F})};return(0,n.h)(y.hs,{className:v()(P.Z.imageGroup,P.Z[`size-${Math.min(D.length,6)}`],s&&P.Z.restack,_&&P.Z.preview,C),alignSelf:"stretch",gap:4},N.map(({src:R,explicit:F},Z)=>(0,n.h)(T,{key:R,asset:R,explicit:F,index:Z,total:D.length,readOnly:i,aspect:x,onClick:i?void 0:V=>{V.defaultPrevented||(V.preventDefault(),w&&w(),M(V,Z))}})),D.length>6&&(0,n.h)(T,{asset:D[6].src,explicit:D[6].explicit,index:5,total:6,count:D.length-N.length,readOnly:i,onClick:i?void 0:w,aspect:x}),!i&&(0,n.h)(d.cr,{module:"./ImageViewerModal",resolve:R=>R.ImageViewerModal,onRequest:()=>e.e(5661).then(e.bind(e,55661)),showModal:!!I,modalContent:D.map(R=>({attrs:{src:R.src}})),onClose:()=>{A(null)},step:I?I.index:void 0,includeDownloadButton:!1}))}function T({asset:C,explicit:p,onClick:i,index:s,total:_,count:w,readOnly:x,aspect:D}){const{isHidden:N,onShow:I}=(0,O.Sl)(p);return(0,n.h)(y.hs,{position:"relative",className:v()(P.Z.image,!x&&P.Z.clickable,s===0&&P.Z.topLeft,(s===0&&_===1||s===1&&_===2||s===1&&_===4||s===2&&_!==4)&&P.Z.topRight,(s===0&&_<=3||s===2&&_===4||s===3&&_>4)&&P.Z.bottomLeft,(s+1===_||s==2&&_===5)&&P.Z.bottomRight),flex:"grow",radius:6,onClick:N?void 0:i},(0,n.h)(g.e,{src:C,maxWidth:1e3,imageProps:{aspect:D||"1:1",smartCrop:!0,portraitCrop:_===1}}),N?_===1?(0,n.h)(O.cD,{onShow:I,description:"This image was hidden by your settings."}):(0,n.h)(O.HU,{onShow:I}):w!=null&&(0,n.h)(y.hs,{className:P.Z.imageCount,justifyContent:"center",alignItems:"center"},(0,n.h)(E.xv.H2,{color:"bg-light"},"+",w)))}},55661:(j,l,e)=>{"use strict";e.r(l),e.d(l,{ImageViewerContents:()=>_,ImageViewerModal:()=>s});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(2564),y=e(56743),E=e(71375),d=e(71212),g=e(15045),P=e(39419),S=e(92271),T=e(51126),C=e(62246),p=e(15822);const i={chrome:"frontend-components-ImageViewerModal-module__chrome--gsoD8",inactive:"frontend-components-ImageViewerModal-module__inactive--Sgv0p",modalImageButtonContainer:"frontend-components-ImageViewerModal-module__modalImageButtonContainer--ln8Of",modalImageButton:"frontend-components-ImageViewerModal-module__modalImageButton--iFgnX",modalImageSidebar:"frontend-components-ImageViewerModal-module__modalImageSidebar--tfJya",modalBody:"frontend-components-ImageViewerModal-module__modalBody--gyZLM",imgContainer:"frontend-components-ImageViewerModal-module__imgContainer--WVmHg",img:"frontend-components-ImageViewerModal-module__img--gfPkO",isLoading:"frontend-components-ImageViewerModal-module__isLoading--bv0nq",moreOptionsMenu:"frontend-components-ImageViewerModal-module__moreOptionsMenu--lE2ip",moreOptionsMenuItem:"frontend-components-ImageViewerModal-module__moreOptionsMenuItem--T6aTx",zIndexStyling:"frontend-components-ImageViewerModal-module__zIndexStyling--CCZCY"};function s({showModal:D,modalContent:N,onClose:I,step:A,includeDownloadButton:M=!0}){const R=F=>{F.stopPropagation(),I()};return(0,n.h)(C.u_,{isOpen:D,onClose:I,position:"full",opacity:"dark",onEscape:R},(0,n.h)(_,{modalContent:N,onClose:I,stepDefault:A,includeDownloadButton:M}))}function _({modalContent:D=[],onClose:N,stepDefault:I,includeDownloadButton:A}){const[M,R]=(0,c.eJ)(I),[F,Z]=(0,c.eJ)(!0),V=(0,P.isMobileBrowser)(),G=W=>{W.currentTarget===W.target&&N()},[$,K]=(0,c.eJ)(!1);(0,c.d4)(()=>{if(!V){let W;const z=oe=>{const{key:ne}=oe;["ArrowRight","ArrowDown"].includes(ne)?(re(),oe.stopPropagation()):["ArrowLeft","ArrowUp"].includes(ne)&&(H(),oe.stopPropagation())},Q=oe=>{(oe==null?void 0:oe.type)==="keydown"&&z(oe),clearTimeout(W),K(!1),W=setTimeout(()=>{K(!0)},2e3)};return window.addEventListener("pointermove",Q,{capture:!0,passive:!0}),window.addEventListener("pointerdown",Q,{capture:!0,passive:!0}),window.addEventListener("keydown",Q,{capture:!0,passive:!0}),Q(),()=>{clearTimeout(W),window.removeEventListener("pointermove",Q,{capture:!0}),window.removeEventListener("pointerdown",Q,{capture:!0}),window.removeEventListener("keydown",Q,{capture:!0})}}},[V,M]);const H=()=>{M!==0&&(R(M-1),Z(!0))},re=()=>{M!==D.length-1&&(R(M+1),Z(!0))},ee=D[M],{attrs:{src:Y,alt:J,title:te}}=ee,ie=V?8:16,se="#FFFFFF";return(0,n.h)(n.Fragment,null,(0,n.h)("div",{className:v()(i.chrome,$&&i.inactive)},M<D.length-1&&(0,n.h)(w,{buttonFunction:re,style:{right:0,padding:ie},isSidebar:!0,icon:(0,n.h)(O.Z,{size:20,strokeWidth:2,stroke:se})}),M>0&&(0,n.h)(w,{buttonFunction:H,style:{left:0,padding:ie},isSidebar:!0,icon:(0,n.h)(y.Z,{size:20,strokeWidth:2,stroke:se})}),(0,n.h)(w,{buttonFunction:N,style:{position:"absolute",right:ie,top:ie},isSidebar:!1,icon:(0,n.h)(E.Z,{size:20,strokeWidth:2,stroke:se})}),A&&(0,n.h)(w,{buttonFunction:W=>{W.stopPropagation(),x(te,Y)},style:{position:"absolute",left:ie,top:ie},isSidebar:!1,icon:(0,n.h)(d.Z,{size:20,strokeWidth:2,stroke:se})})),(0,n.h)("div",{className:i.imgContainer,onClick:G},(0,n.h)("img",{className:v()(i.img,F&&i.isLoading),onLoad:()=>{Z(!1)},alt:J,title:te,src:(0,g.imginary)(Y,void 0,{quality:"auto:good"}),key:Y,onClick:G})),F&&(0,n.h)("div",{style:{position:"absolute",top:"50%",left:"50%"}},(0,n.h)(p.S,{className:i.imgDrunkSpin})))}function w({buttonFunction:D,style:N,isSidebar:I,icon:A,tetherRef:M}){return(0,n.h)(T.hs,{className:v()(i.modalImageButtonContainer,I?i.modalImageSidebar:null),style:N,alignItems:"center",justifyContent:"center",onClick:D,ref:M},(0,n.h)(S.z,{className:i.modalImageButton,look:"circle"},A))}function x(D,N){const I=document.createElement("a");return document.body.appendChild(I),I.href=N,I.target="_blank",I.click(),document.body.removeChild(I),null}},35442:(j,l,e)=>{"use strict";e.r(l),e.d(l,{Metadata:()=>T});var n=e(6400),c=e(53836),u=e.n(c),v=e(15045),O=e(63030),y=Object.defineProperty,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(p,i,s)=>i in p?y(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,S=(p,i)=>{for(var s in i||(i={}))d.call(i,s)&&P(p,s,i[s]);if(E)for(var s of E(i))g.call(i,s)&&P(p,s,i[s]);return p};function T({badge:p,title:i,socialTitle:s,searchDescription:_,description:w,themeColor:x,image:D,twitterImage:N,seoProps:I,isLargeImage:A=!1,imageWidth:M,imageHeight:R,isPodcast:F=!1,isVideo:Z=!1,slug:V,pub:G,post:$,siteName:K,publishedTime:H,meta:re=[],siteConfigs:ee={}}){const Y={meta:[...re,{property:"og:type",content:"article"}]};p&&(Y.titleTemplate=`(${p}) %s`),i&&(Y.title=i,Y.meta.push({property:"og:title",content:s||i},{name:"twitter:title",content:s||i})),(w||_)&&Y.meta.push({name:"description",content:_||w},{property:"og:description",content:w},{name:"twitter:description",content:w}),x&&Y.meta.push({name:"theme-color",content:x});const J=!!G&&G.invite_only,te=!!$&&$.audience==="everyone",ie=!J&&te,se=ie&&ee.twitter_player_card_enabled,W=(G==null?void 0:G.subdomain)&&C.includes(G.subdomain)&&ie;if(F&&G&&$){const z=(0,O.getPodcastEpisodeImageUrl)(G,$);z&&(D=(0,v.imginary)(z,1200,{height:600,smartCrop:!0,format:"jpg"}),A=!0)}if(D){let z="summary";A&&(z="summary_large_image"),(F&&se||Z&&W)&&(z="player"),Y.meta.push({property:"og:image",content:D},{name:"twitter:image",content:N||D},{name:"twitter:card",content:z}),M&&Y.meta.push({property:"og:image:width",content:M}),R&&Y.meta.push({property:"og:image:height",content:R})}if(I){const z=Object.entries(I).filter(([Q,oe])=>oe).map(([Q])=>Q).join(", ");z&&Y.meta.push({name:"robots",content:z})}return G!=null&&G.explicit&&Y.meta.push({name:"rating",content:"adult"}),F&&se&&Y.meta.push({name:"twitter:player",content:`${(0,v.getBaseUrl)(G)}/embed/podcast/${V}?autoplay=1`},{name:"twitter:player:width",content:"1"},{name:"twitter:player:height",content:"1"},{name:"twitter:text:player_width",content:"1"},{name:"twitter:text:player_height",content:"1"}),Z&&W&&Y.meta.push({name:"twitter:player",content:`${(0,v.getBaseUrl)(G)}/embed/video/${V}?autoplay=1`},{name:"twitter:player:width",content:"16"},{name:"twitter:player:height",content:"9"},{name:"twitter:text:player_width",content:"16"},{name:"twitter:text:player_height",content:"9"}),K&&Y.meta.push({property:"og:site_name",content:K}),H&&Y.meta.push({property:"og:published_time",content:H}),(0,n.h)(u(),S({},Y))}const C=["pinespodcast","test1"]},74285:(j,l,e)=>{"use strict";e.d(l,{X:()=>O,h:()=>y});var n=e(6400),c=e(98661),u=e(30396);const v=(0,n.createContext)(null);function O({root:E,children:d}){const g=(0,u.sO)(E);return(0,n.h)(v.Provider,{value:g},d,!E&&(0,n.h)("div",{ref:g}))}function y({children:E}){const d=(0,u.qp)(v).current;return d?(0,c.createPortal)(E,d):null}},55489:(j,l,e)=>{"use strict";e.d(l,{s:()=>F});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(31131),y=e(40423),E=e(28596),d=e(99869),g=e(82626),P=e(68227),S=e(36543),T=e(17835),C=e(9e3),p=e(66839),i=e(56838),s=e(91004),_=e(3258),w=e(90304),x=e(39419),D=e(29811),N=e(4190),I=e(28488),A=e(39776);const M={newMenuItemContainer:"frontend-components-PostShareDropdown-module__newMenuItemContainer--pi2D2",divider:"frontend-components-PostShareDropdown-module__divider--oId4n",offset:"frontend-components-PostShareDropdown-module__offset--ekxJ6",shareIconContainer:"frontend-components-PostShareDropdown-module__shareIconContainer--PlGwp",dropdownMenu:"frontend-components-PostShareDropdown-module__dropdownMenu--oPk6X"};var R=(G,$,K)=>new Promise((H,re)=>{var ee=te=>{try{J(K.next(te))}catch(ie){re(ie)}},Y=te=>{try{J(K.throw(te))}catch(ie){re(ie)}},J=te=>te.done?H(te.value):Promise.resolve(te.value).then(ee,Y);J((K=K.apply(G,$)).next())});function F({post:G,user:$,pub:K,trigger:H,instagramExperimentActive:re,onChange:ee,toggleInstagramModal:Y,position:J,showClipping:te,disableClipping:ie,onClipClick:se}){const{iString:W}=(0,I.M1)(),{exposeExperiment:z,getExperimentVariant:Q}=(0,N.jc)(),oe=(0,s.O1)(null,{post:G,pub:K,user:$,useCustomDomainOverOpen:!0}),ne=(0,s.B8)({post:G,pub:K}),ae={title:ne,url:oe},le=(0,x.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(ae),ue=(0,A.default)("enable_episode_clips"),[fe,he]=(0,c.eJ)(le),be=()=>R(this,null,function*(){var Le;if((0,_.j)(_.FP.POST_SHARE_BUTTON_CLICKED,{position:J}),re&&z("instagram_post_sharing"),le&&fe)try{yield navigator.share(ae),(0,_.j)(_.FP.NATIVE_SHARE_SUCCESS,{medium:"web",post_id:(Le=G.id)!=null?Le:null,utm_campaign:"default"}),(0,w.ex)(`${K.subdomain} shared`,!0);return}catch(ze){if(!(ze instanceof Error)||ze.name==="AbortError")return;he(!1),(0,_.j)(_.FP.NATIVE_SHARE_FAILED,{errorName:ze.name,errorMessage:ze.message})}}),ve=()=>{(0,s.Wn)({shareUrl:oe,shareName:ne,pub:K,post:G,utm_campaign:J}),ee==null||ee()},Te=()=>{(0,s.Po)({shareUrl:oe,pub:K,post:G,utm_campaign:J}),ee==null||ee()},we=()=>{(0,s.lc)({shareUrl:oe,pub:K,post:G,utm_campaign:J}),ee==null||ee()},Se=()=>{(0,s.BZ)({shareUrl:oe,pub:K,post:G,utm_campaign:J}),ee==null||ee()},We=()=>{(0,s.WZ)({shareUrl:oe,shareName:ne,pub:K,post:G,utm_campaign:J}),ee==null||ee()},Ae=()=>{(0,s.Ui)({shareUrl:oe,pub:K,post:G,utm_campaign:J}),ee==null||ee()},Be=()=>{Y==null||Y(),(0,_.j)(_.FP.SHARE_LINK_CLICKED,{name:"instagram",post_id:G.id,source:J}),ee==null||ee()},de=Le=>{(0,_.j)(_.FP.VIDEO_CLIP_BUTTON_CLICKED,{post_id:G.id,source:J,type:G.type}),se==null||se(Le),ee==null||ee()},ce=re&&Q("instagram_post_sharing"),_e=ce&&["treatment_new","treatment_default"].includes(ce);let Oe;if(Z(H))Oe=H;else if(V(H)){let Le;G.share_url_override?Le=G.share_url_override:H.isStatic?G?Le=g.Substitutions.SHARE_URL:Le=g.Substitutions.SHARE_PUB_URL:Le="javascript:void(0)";const ze=H.labelStyle==="none";Oe=(0,n.h)(i.Ng,{style:H.style,icon:ze?(0,n.h)(O.Z,{className:"icon",height:(0,i.Su)(H.style),strokeWidth:i.PA}):null,href:Le,noLabel:H.labelStyle==="none",className:v()(!ze&&"no-icon")},H.labelStyle==="cta"&&W("Share"))}return(0,n.h)(D.v2,{trigger:Oe,onOpen:be,useMobileBottomSheet:!0,disableMenu:fe,layerOptions:{placement:J==="pub-preview"?"bottom-start":"bottom-end",preferX:J==="pub-preview"?"right":"left"},className:M.dropdownMenu,maxHeight:"fit-content"},(0,n.h)(D.sN,{icon:(0,n.h)(C.Z,{height:24}),onClick:Se},(0,n.h)(D.gq,{justifyContent:"space-between",alignItems:"center"},W("Share as a note"),(!re||!_e)&&(0,n.h)(D.hs,{className:M.newMenuItemContainer,paddingX:6,height:20,alignItems:"center",justifyContent:"center"},(0,n.h)(D.xv.B4,{translated:!0,size:11,weight:"semibold",color:"bg-light"},"NEW")))),_e&&(0,n.h)(D.sN,{icon:(0,n.h)(S.Z,{height:24}),onClick:Be},(0,n.h)(D.gq,{justifyContent:"space-between",alignItems:"center"},W("Share to Instagram"),ce==="treatment_new"&&(0,n.h)(D.hs,{className:M.newMenuItemContainer,paddingX:6,height:20,alignItems:"center",justifyContent:"center"},(0,n.h)(D.xv.B4,{translated:!0,size:11,weight:"semibold",color:"bg-light"},"NEW")))),(0,n.h)(D.sN,{icon:(0,n.h)(p.Z,{height:24}),onClick:ve},W("Share to Twitter")),(0,n.h)(D.sN,{icon:(0,n.h)(P.Z,{height:24}),onClick:Te},W("Share to Facebook")),(0,n.h)(D.sN,{icon:(0,n.h)(T.Z,{height:24}),onClick:we},W("Share to Linkedin")),(0,n.h)("div",{className:M.divider}),ue&&te&&se&&(0,n.h)(D.sN,{disabled:ie,icon:(0,n.h)(D.hs,{className:M.shareIconContainer,justifyContent:"center",alignItems:"center",radius:12},(0,n.h)(y.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:de},(0,n.h)(D.gq,{justifyContent:"space-between",alignItems:"center"},W("Create a clip"),(0,n.h)(D.hs,{className:M.newMenuItemContainer,paddingX:6,height:20,alignItems:"center",justifyContent:"center"},(0,n.h)(D.xv.B4,{translated:!0,size:11,weight:"semibold",color:"bg-light"},"NEW")))),(0,n.h)(D.sN,{icon:(0,n.h)(D.hs,{className:M.shareIconContainer,alignItems:"center",justifyContent:"center",radius:12},(0,n.h)(E.Z,{className:M.offset,size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:We},W("Send as email")),(0,n.h)(D.sN,{icon:(0,n.h)(D.hs,{className:M.shareIconContainer,justifyContent:"center",alignItems:"center",radius:12},(0,n.h)(d.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:Ae},W("Copy link")))}function Z(G){return G.type!==void 0}function V(G){const $=G;return $.style!==void 0&&$.labelStyle!==void 0}},71278:(j,l,e)=>{"use strict";e.d(l,{ZP:()=>G});var n=e(6400),c=e(98661),u=e(30396),v=e(94184),O=e.n(v),y=e(29811),E=e(15045),d=e(76193),g=e(3258),P=e(28488),S=e(41487),T=e(39936),C=e(40946),p=e(96656),i=Object.defineProperty,s=Object.defineProperties,_=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,N=($,K,H)=>K in $?i($,K,{enumerable:!0,configurable:!0,writable:!0,value:H}):$[K]=H,I=($,K)=>{for(var H in K||(K={}))x.call(K,H)&&N($,H,K[H]);if(w)for(var H of w(K))D.call(K,H)&&N($,H,K[H]);return $},A=($,K)=>s($,_(K)),M=($,K,H)=>new Promise((re,ee)=>{var Y=ie=>{try{te(H.next(ie))}catch(se){ee(se)}},J=ie=>{try{te(H.throw(ie))}catch(se){ee(se)}},te=ie=>ie.done?re(ie.value):Promise.resolve(ie.value).then(Y,J);te((H=H.apply($,K)).next())});const R=({pub:$,post:K,style:H,text:re,translatedText:ee,inline:Y,sharePage:J,withButtons:te=!1,onShareFromApp:ie,source:se,fullHeight:W=!0})=>{const{img:z,imgDownload:Q,sendPushNotification:oe,shareData:ne,useNativeShare:ae}=(0,S.Q)({shareTitle:"Share this post",shareText:K.title,shareUrl:(0,E.getPostUrl)($,K),shareApp:te?H.aspectRatio==="stories"?"instagram-stories":"instagram":void 0,imageDownloadUrl:(0,E.getPressKitUrl)($,K,H,`${ee||re}${H.aspectRatio?` - ${H.aspectRatio}`:""}`),imageUrl:(0,E.getPressKitUrl)($,K,H),imageUrlSameOrigin:(0,E.getPressKitImageUrl)($,K,H)}),le=(0,u.sO)(null),ue=(0,u.sO)(null),[fe,he]=(0,u.eJ)(!1),[be,ve]=(0,u.eJ)({right:0,bottom:0});(0,u.d4)(()=>{var Se,We;const Ae=(Se=le.current)==null?void 0:Se.getBoundingClientRect(),Be=(We=ue.current)==null?void 0:We.getBoundingClientRect();Ae&&Be&&ve({right:Be.right-Ae.right,bottom:Be.bottom-Ae.bottom})},[H,le,ue,z]);const Te=(0,c.useCallback)(Se=>M(void 0,null,function*(){var We;if((0,g.j)(g.FP.WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED,{post_id:K.id,type:re,aspectRatio:H.aspectRatio,share_center:J,inline:!!Y,source:se}),ae&&ne)try{yield navigator.share(ne)}catch(Ae){}else{const Ae=(We=le.current)==null?void 0:We.getBoundingClientRect();if(Ae){const Be=Se.clientX,de=Se.clientY;(Be<Ae.left||Be>Ae.right||de<Ae.top||de>Ae.bottom)&&Se.preventDefault()}}}),[K,re,H,J,Y,ae,ne,se]),we=(0,c.useCallback)(()=>{(0,g.j)(g.FP.IMAGE_CONTEXT_MENU_CLICKED,{post_id:K.id,clicked_from:"writer_media_assets",type:re,aspectRatio:H.aspectRatio,share_center:J,inline:!!Y,source:se})},[K,re,H,J,Y,se]);return te&&!(0,d.isMobile)()?(0,n.h)(F,{inline:Y,sharePage:J,onShareFromApp:()=>{(0,g.j)(g.FP.WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED,{post_id:K.id,type:re,aspectRatio:H.aspectRatio,share_center:J,inline:!!Y,source:se,via_app:!0}),ie==null||ie()},handleClick:Te,img:z,imgDownload:Q,sendPushNotification:oe}):(0,n.h)("a",{onClick:Te,href:ae?void 0:Q,alt:"Download Image",download:!0,className:O()(p.Z.link,fe&&p.Z.linkHovered,{[p.Z.linkVariableHeight]:!W}),target:"_blank",rel:"noreferrer",onContextMenu:we},(0,n.h)("div",{ref:ue,className:O()(p.Z.root,{[p.Z.sharePage]:J})},!(0,d.isMobile)()&&(0,n.h)("div",{className:p.Z.download,style:be},(0,n.h)(C.Z,{stroke:"#404040",fill:"white"})),(0,n.h)(Z,{img:z,ref:le,inline:Y,sharePage:J,onMouseEnter:()=>{he(!0)},onMouseLeave:()=>{he(!1)}})))},F=({inline:$,sharePage:K,onShareFromApp:H,handleClick:re,img:ee,imgDownload:Y,sendPushNotification:J})=>{const[te,ie]=(0,u.eJ)(!1),{popToast:se}=(0,y.pm)(),W=(0,c.useCallback)(()=>M(void 0,null,function*(){(yield J())?H?H():se(Q=>(0,n.h)(y.FN,A(I({},Q),{text:"Notification sent!"}))):se(Q=>(0,n.h)(y.FN,A(I({},Q),{text:"Something went wrong. Please try again."})))}),[H,J,se]);return(0,n.h)("div",{className:O()(p.Z.root,p.Z.rootHover,{[p.Z.sharePage]:K}),onMouseEnter:()=>ie(!0),onMouseLeave:()=>ie(!1)},(0,n.h)(Z,{img:ee,inline:$,sharePage:K}),te&&ee&&(0,n.h)(y.tu,{className:p.Z.buttons,gap:8},(0,n.h)(y.u,{text:"Send a push notification of this image to the Substack iOS app, where you can share directly to Instagram. Only works on iOS."},(0,n.h)(y.zx,{className:p.Z.button,grow:!0,onClick:W},"Send to my phone")),(0,n.h)(y.o6,{className:p.Z.button,download:!0,grow:!0,href:Y,onClick:re,priority:"secondary"},"Download image")))},Z=(0,c.forwardRef)(({img:$,inline:K,sharePage:H,onMouseEnter:re,onMouseLeave:ee},Y)=>$?(0,n.h)("img",{src:$,className:O()(p.Z.image,{[p.Z.inline]:K,[p.Z.sharePage]:H&&!K,[p.Z.secondaryBorder]:H}),ref:Y,onMouseEnter:re,onMouseLeave:ee}):(0,n.h)("div",{className:O()(p.Z.image,p.Z.imageLoading,{[p.Z.secondaryBorder]:H}),alt:"Loading"},(0,n.h)(T.Sv,null))),V=({pub:$,post:K,style:H,downloadUrl:re})=>{const{iString:ee}=useI18N();return h("table",{className:PressKitCss.tableRoot},h("tr",null,h("td",null,h("a",{href:re||getPressKitUrl($,K,H,"image"),alt:ee("Download Image"),download:!0,target:"_blank",className:PressKitCss.link,rel:"noreferrer"},h("img",{src:getPressKitUrl($,K,H),className:PressKitCss.imageEmail})))))},G=R},80332:(j,l,e)=>{"use strict";e.d(l,{Ct:()=>ae,L0:()=>ne,PP:()=>Be});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(32224),y=e(77883),E=e(15045),d=e(20501),g=e(76193),P=e(83322),S=e(4190),T=e(48969),C=e(28488),p=e(92643),i=e(67963),s=e(69518),_=e(60779),w=e(59386),x=e(3258),D=e(69229),N=e(84040),I=e(80131),A=e(51126),M=e(26300),R=e(43887),F=e(34593),Z=e(55886),V=e(17040),G=e(44695),$=e(45809),K=e(27797),H=Object.defineProperty,re=Object.defineProperties,ee=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,ie=(_e,Oe,Le)=>Oe in _e?H(_e,Oe,{enumerable:!0,configurable:!0,writable:!0,value:Le}):_e[Oe]=Le,se=(_e,Oe)=>{for(var Le in Oe||(Oe={}))J.call(Oe,Le)&&ie(_e,Le,Oe[Le]);if(Y)for(var Le of Y(Oe))te.call(Oe,Le)&&ie(_e,Le,Oe[Le]);return _e},W=(_e,Oe)=>re(_e,ee(Oe)),z=(_e,Oe)=>{var Le={};for(var ze in _e)J.call(_e,ze)&&Oe.indexOf(ze)<0&&(Le[ze]=_e[ze]);if(_e!=null&&Y)for(var ze of Y(_e))Oe.indexOf(ze)<0&&te.call(_e,ze)&&(Le[ze]=_e[ze]);return Le};const Q=3,oe=1;function ne(_e){return!!_e.id&&!!_e.name}function ae(_e){var Oe=_e,{dontStopPropagation:Le,inline:ze,children:Je}=Oe,Pt=z(Oe,["dontStopPropagation","inline","children"]);const Ve=le(Pt);return(0,g.isMobile)()?(0,n.h)(n.Fragment,null,Je):(0,n.h)("div",W(se(se({className:v()("profile-hover-card-target",K.Z.profileHoverCardTarget,ze&&K.Z.inline,Pt.className&&Pt.className)},Ve.triggerProps),Ve.hoverProps),{onClick:pt=>{Le||pt.stopPropagation()}}),Je,Ve.layer)}function le(_e){var Oe=_e,{subject:Le,utmSource:ze,placement:Je}=Oe,Pt=z(Oe,["subject","utmSource","placement"]);const{loading:Ve,refetch:pt,viewerProfile:$e,subjectProfile:Ie}=(0,p.Un)({subjectId:(Le==null?void 0:Le.author_id)||(Le==null?void 0:Le.user_id)||(Le==null?void 0:Le.id),subjectName:(Le==null?void 0:Le.name)||"Substack user",delayLoading:!0}),ye=Le&&$e&&(Le==null?void 0:Le.id)===$e.id,Ce=Le==null?void 0:Le.id,xe=(0,c.I4)(()=>{var He;Ce&&!Ie&&pt(Ce);const Ge=(((He=Ie==null?void 0:Ie.publicationUsers)==null?void 0:He.length)||0)>0;Ie&&(0,x.j)(x.FP.ACCOUNT_CARD_SHOWN,{profile_user_id:Ie.id,is_self:!!ye,has_publication:!!Ge})},[pt,Ce,Ie,ye]),je=(0,M.o)(se({className:K.Z.profileHoverCard,onOpen:xe,loading:Ve&&!Ie,hideOnScroll:!0,layerOptions:{placement:Je!=null?Je:"right-center"},content:Ie?(0,n.h)(Be,{profile:Ie,subject:Le,utmSource:ze,forceRefresh:()=>pt(Ce)}):null},Pt));return(0,g.isMobile)()?{layer:null,hoverProps:null,triggerProps:null}:je}const ue="account-card";function fe(_e){let Oe=[];_e&&_e.subscriptions&&(Oe=(0,P.sortSubscriptions)(_e.subscriptions.filter(ze=>!!ze)));let Le=null;return Oe.length>Q&&(Le=`See all (${(0,P.numberToString)(Oe.length)})`),Oe=Oe.slice(0,Q),{subscriptions:Oe,moreSubsLabel:Le}}function he(_e){let Oe=[];_e&&_e.publicationUsers&&(Oe=_e.publicationUsers.filter(ze=>!!ze),Oe=Oe&&(0,D.b)(Oe));let Le=null;return Oe.length>oe&&(Le=`See all (${(0,P.numberToString)(Oe.length)})`),Oe=Oe.slice(0,oe),{publications:Oe,morePubsLabel:Le}}function be({pub:_e,isWrites:Oe,isFounding:Le,isPaid:ze,utmSource:Je}){const Pt=(0,E.getPubUrl)(_e,{params:{utm_source:Je||ue,utm_content:Oe?"writes":"reads"},signedIn:!!(0,i.aF)()});return _e?(0,n.h)("a",{href:Pt,target:"_blank",onClick:()=>{(0,x.j)(Oe?x.FP.ACCOUNT_CARD_WRITES_LINK_CLICKED:x.FP.ACCOUNT_CARD_READS_LINK_CLICKED),(0,x.x6)(_e,"hover_profile")},className:K.Z.hoverCardAvatar,rel:"noopener"},(0,n.h)(V.F,{pub:_e,size:32,badgeType:Le?"founder":ze?"subscribed":null}),(0,n.h)(R.xv.B4,{weight:"medium",title:_e.name},_e.name)):null}function ve({pub:_e,utmSource:Oe}){const Le=(0,E.getPubUrl)(_e,{params:{utm_source:Oe||ue,utm_content:"writes"},signedIn:!!(0,i.aF)()}),ze=(0,P.getByLine)(_e);return(0,n.h)(A.tu,{as:"a",href:Le,target:"_blank",onClick:()=>{(0,x.j)(x.FP.ACCOUNT_CARD_WRITES_LINK_CLICKED),(0,x.x6)(_e,"hover_profile")},rel:"noopener",padding:12,gap:12,className:K.Z.writesCard,radius:12},(0,n.h)(A.gq,{gap:12},(0,n.h)(V.F,{pub:_e,size:40}),(0,n.h)(A.tu,{flex:"grow",minWidth:0,justifyContent:"center"},(0,n.h)(R.xv.B4,{weight:"semibold"},_e.name),ze&&(0,n.h)(R.xv.B4,{translated:!0,color:"secondary"},"By ",I18N.p(ze)))),_e.hero_text&&(0,n.h)(R.xv.B4,{color:"secondary",clamp:3},_e.hero_text))}function Te({subject:_e,subscriptions:Oe,moreSubsLabel:Le,utmSource:ze}){const{iString:Je}=(0,C.M1)();return(0,n.h)(A.tu,null,(0,n.h)(G.GF,{sectionTitle:Je("Reads"),seeAllLabel:Le,link:de(_e,{utmSource:ze})}),(0,n.h)(A.tu,null,Oe.map(Pt=>(0,n.h)(be,{pub:Pt.publication,isPaid:Pt.membership_state==="subscribed",isFounding:Pt.is_founding,utmSource:ze}))))}function we({publication:_e,utmSource:Oe}){return _e?(0,n.h)(ve,{pub:_e,utmSource:Oe}):null}function Se({pub:_e,profileId:Oe,isSubscribed:Le,user:ze,utmSource:Je,forceRefreshCard:Pt}){const{iString:Ve}=(0,C.M1)(),{getExperimentVariant:pt,exposeExperiment:$e}=(0,S.jc)(),{isLoading:Ie,subscribe:ye}=(0,y.G)({publication:_e,profileId:Oe,source:Je!=null?Je:"profile-card",onSuccess:()=>{Pt()}}),Ce=_e?(0,d.getSubscribeUrl)(_e,{user:ze,addBase:!0,params:{utm_source:Je||ue,utm_content:"subscribes",next:document.location.href}}):"";return _e&&(Le?(0,n.h)(N.zx,{priority:"secondary",fill:"outline",href:Ce,rounded:!0,onClick:()=>{(0,x.j)(x.FP.ACCOUNT_CARD_SUBSCRIBE_CLICKED),(0,x.x6)(_e,"hover_profile")},title:_e.name},Ve("Subscribed")):Je==="feed"&&ze?(0,n.h)(N.zx,{priority:"primary",rounded:!0,onClick:xe=>{xe.preventDefault(),ye()},title:_e.name,disabled:Ie},(0,n.h)(A.gq,{alignItems:"center",gap:8},(0,n.h)(O.Z,{size:20}),Ve("Subscribe"))):(0,n.h)(N.zx,{priority:"primary",href:Ce,localNavigation:!1,rounded:!0,onClick:()=>{(0,x.j)(x.FP.ACCOUNT_CARD_SUBSCRIBE_CLICKED),(0,x.x6)(_e,"hover_profile")},title:_e.name},(0,n.h)(A.gq,{alignItems:"center",gap:8},(0,n.h)(O.Z,{size:20}),Ve("Subscribe"))))}function We({profile:_e}){const{isFollowing:Oe,buttonProps:Le,css:ze}=(0,T.yr)(_e,"hover-card");return(0,n.h)(N.hU,se({fill:"outline"},Le),Oe?(0,n.h)(n.Fragment,null,(0,n.h)(s.$,{className:ze.off}),(0,n.h)(w.m,{className:ze.on})):(0,n.h)(_.w,null))}function Ae({profile:_e}){const{isFollowing:Oe,buttonProps:Le}=(0,T.yr)(_e,"hover-card"),{iString:ze}=(0,C.M1)();return(0,n.h)(N.zx,se({fill:"outline",priority:"primary",rounded:!0},Le),Oe?(0,n.h)(n.Fragment,null,(0,n.h)(T.OK,null,ze("Following")),(0,n.h)(T.Rc,null,ze("Unfollow"))):ze("Follow"))}function Be({profile:_e,subject:Oe,themed:Le,className:ze,utmSource:Je,hideSubscribeButtons:Pt,forceRefresh:Ve}){var pt,$e;const Ie=(0,i.aF)(),{iString:ye}=(0,C.M1)();if(!_e)return null;const{subscriptions:Ce,moreSubsLabel:xe}=fe(_e),{publications:je}=he(_e),He=de(Oe,{utmSource:Je}),Ge=(Oe==null?void 0:Oe.name)||"",Qe=_e.primaryPublication&&((pt=_e.publicationUsers.find(et=>{var Xe;return et.publication_id===((Xe=_e==null?void 0:_e.primaryPublication)==null?void 0:Xe.id)}))==null?void 0:pt.publication),ct=Oe&&Oe.id===(Ie==null?void 0:Ie.id),dt=ct&&_e&&!_e.profile_set_up_at,it=je.length>0&&!dt,tt=Ce.length>0&&!dt&&!it,vt=($e=_e==null?void 0:_e.handle)!=null?$e:null;return(0,n.h)("div",{className:ze},(0,n.h)(A.tu,{gap:16,padding:8},(0,n.h)(A.gq,{justifyContent:"space-between"},(0,n.h)("a",{href:He},(0,n.h)(F.qE,{user:_e,size:64})),dt?(0,n.h)(N.zx,{priority:"secondary",fill:"outline",rounded:!0,href:(0,E.getProfileSetupUrl)({utm_source:Je||ue})},ye("Set up profile")):ct?(0,n.h)(N.zx,{priority:"secondary",fill:"outline",rounded:!0,href:(0,E.getEditProfileUrl)()},ye("Edit profile")):Pt?null:(0,n.h)(A.hs,{gap:4},Qe?(0,n.h)(n.Fragment,null,(0,n.h)(We,{profile:_e}),(0,n.h)(Se,{pub:Qe,isSubscribed:_e.isSubscribed,user:Ie,profileId:_e.id,utmSource:Je,forceRefreshCard:Ve})):(0,n.h)(Ae,{profile:_e}))),(0,n.h)(A.tu,{gap:6},(0,n.h)(G.Sz,{themed:Le,title:Ge,handle:vt,blurb:_e.bio,url:He,userId:Oe.id,bestsellerTier:_e.bestseller_tier})),it&&(0,n.h)(we,{publication:Qe,utmSource:Je}),tt&&(0,n.h)(n.Fragment,null,(0,n.h)(I.i,null),(0,n.h)(Te,{subject:Oe,subscriptions:Ce,moreSubsLabel:xe,utmSource:Je})),_e.mutuals&&(0,n.h)(ce,{mutuals:_e.mutuals,utmSource:Je})))}function de(_e,{utmSource:Oe}={}){const Le=typeof window!="undefined"&&window.location.href.startsWith((0,d.getSubstackUrl)());return(0,E.getReaderProfileUrl)(_e,{noBase:Le,utm_source:Oe||ue})}function ce({mutuals:_e,utmSource:Oe}){const{iString:Je,iPlural:Pt}=(0,C.M1)(),{paidSubscribers:Ve,freeSubscribers:pt,recommenders:$e}=_e;let Ie,ye;Ve.length>0?(Ie="paid",ye=Ve):$e.length>0?(Ie="recommended",ye=$e):(Ie="free",ye=pt);const Ce=ye.sort(xe=>xe.photo_url?1:-1);return Ce.length===0?null:(0,n.h)(A.hs,{paddingTop:16,alignItems:"center",gap:12,borderTop:"detail"},(0,n.h)(A.hs,{style:{paddingLeft:6}},Ce.slice(0,3).map(xe=>(0,n.h)(A.hs,{as:"a",key:xe.id,href:(0,E.getReaderProfileUrl)(xe,{utm_source:"profile-card"})},(0,n.h)(Z.t,{className:K.Z.facepileFace,src:xe.photo_url||(0,E.getDefaultUserPhotoById)(xe.id),size:24})))),(0,n.h)(R.xv,{font:"text",color:"secondary",size:12},Ie==="recommended"&&Je("Recommended by "),(0,n.h)($.M,{array:Ce,limit:3,formatter:xe=>(0,n.h)(R.hh,{href:de(xe,{utmSource:Oe})},xe.name)})," ",Ie==="paid"?Pt("is a paid subscriber","are paid subscribers",ye.length):Ie==="free"?Pt("subscribes","subscribe",ye.length):"","."))}},96098:(j,l,e)=>{"use strict";e.d(l,{h:()=>u});var n=e(6400),c=e(68262);function u({children:v}){return(0,n.h)("div",{className:c.Z.pubTheme},v)}},48042:(j,l,e)=>{"use strict";e.d(l,{$I:()=>i,ar:()=>p,fQ:()=>C,rn:()=>T,sl:()=>S});var n=e(6400),c=e(94184),u=e.n(c),v=e(25380),O=e(29811),y=e(76193),E=e(70073),d=e(27247),g=e(28488),P=e(78137);const S=["stories","square"],T=({isSelected:s,value:_,onClick:w,coverImageUrl:x,themeVariables:D})=>{let N=D.web_bg_color||D.cover_bg_color,I=D.print_on_web_bg_color||D.cover_print_primary||"#1a1a1a";return _==="accent"?(N=D.background_pop_color||D.background_pop,I=D.print_on_pop):_==="image"?(I="#ffffff",N="rgba(0,0,0,0.5)"):_==="black&white"&&(I="#404040",N="#ffffff"),(0,n.h)(O.kG,{className:u()(P.Z.customizeAssetButton,P.Z.themeButton,s&&P.Z.selected,_==="image"&&P.Z.image),onClick:A=>{A.preventDefault(),w()},style:{backgroundColor:N}},_==="image"&&(0,n.h)("div",{className:P.Z.imageBg,style:{backgroundImage:`url(${x})`}}),(0,n.h)("div",{className:u()(P.Z.inner,_==="image"&&P.Z.image)},s&&(0,n.h)(v.Z,{stroke:I,size:18})))};function C(s){const{iString:_}=(0,g.M1)(),w=(0,y.isMobile)({checkFirst4:!0}),x={square:_("Square"),stories:_("Vertical")};return(w?{square:"1:1",stories:"9:16"}:x)[s]}const p=({isSelected:s,value:_,onClick:w})=>{const x=C(_);return(0,n.h)(O.zx,{rounded:!0,priority:"secondary",className:u()(P.Z.customizeAssetButton,P.Z.aspectRatioButton,s&&P.Z.selected),onClick:D=>{D.preventDefault(),w()},leftIcon:_==="square"?(0,n.h)(d.Z,null):(0,n.h)(E.Z,null)},x)},i=({isSelected:s,value:_,label:w,onClick:x})=>(0,n.h)(O.zx,{rounded:!0,priority:"secondary",className:u()(P.Z.customizeAssetButton,P.Z.aspectTypeButton,s&&P.Z.selected),onClick:D=>{D.preventDefault(),x()}},w)},53919:(j,l,e)=>{"use strict";e.d(l,{i:()=>Q});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(71212),y=e(15045),E=e(28488),d=e(3258),g=e(39419),P=e(29811),S=e(57397),T=e(29910),C=e(41487),p=e(76193),i=e(15822),s=e(40946);const _={root:"frontend-components-AssetImage-module__root--AdF1k",fullSize:"frontend-components-AssetImage-module__fullSize--KURi3",tableRoot:"frontend-components-AssetImage-module__tableRoot--hy2UU",link:"frontend-components-AssetImage-module__link--KHWo2",linkHovered:"frontend-components-AssetImage-module__linkHovered--_nYpu",image:"frontend-components-AssetImage-module__image--kL8Z3",download:"frontend-components-AssetImage-module__download--c6WDg",imageLoading:"frontend-components-AssetImage-module__imageLoading--bVcGN"};var w=(oe,ne,ae)=>new Promise((le,ue)=>{var fe=ve=>{try{be(ae.next(ve))}catch(Te){ue(Te)}},he=ve=>{try{be(ae.throw(ve))}catch(Te){ue(Te)}},be=ve=>ve.done?le(ve.value):Promise.resolve(ve.value).then(fe,he);be((ae=ae.apply(oe,ne)).next())});const x=({img:oe,imgDownload:ne,shareData:ae,useNativeShare:le,onClick:ue})=>{const{iString:fe}=(0,E.M1)(),he=(0,c.sO)(null),be=(0,c.sO)(null),[ve,Te]=(0,c.eJ)(!1),[we,Se]=(0,c.eJ)({right:0,bottom:0});(0,c.d4)(()=>{var Ae,Be;const de=(Ae=he.current)==null?void 0:Ae.getBoundingClientRect(),ce=(Be=be.current)==null?void 0:Be.getBoundingClientRect();de&&ce&&Se({right:ce.right-de.right,bottom:ce.bottom-de.bottom})},[he,be,oe]);const We=(0,c.I4)(Ae=>w(void 0,null,function*(){var Be;if(ue==null||ue(),le&&ae)try{yield navigator.share(ae)}catch(de){}else{const de=(Be=he.current)==null?void 0:Be.getBoundingClientRect();if(de){const ce=Ae.clientX,_e=Ae.clientY;(ce<de.left||ce>de.right||_e<de.top||_e>de.bottom)&&Ae.preventDefault()}}}),[ue,le,ae]);return(0,n.h)("a",{onClick:We,href:le?void 0:ne,alt:fe("Download Image"),download:!0,className:v()(_.link,ve&&_.linkHovered,_.fullSize),target:"_blank"},(0,n.h)("div",{ref:be,className:v()(_.root,_.fullSize)},!(0,p.isMobile)()&&oe&&(0,n.h)("div",{className:_.download,style:we},(0,n.h)(s.Z,{stroke:"#404040",fill:"white"})),!oe&&(0,n.h)("div",{className:v()(_.image,_.imageLoading),alt:fe("Loading")},(0,n.h)(i.S,null)),oe&&(0,n.h)("img",{ref:he,src:oe,className:v()(_.fullSize,_.image),onMouseEnter:()=>{Te(!0)},onMouseLeave:()=>{Te(!1)}})))},D={tableRoot:"frontend-components-MilestoneAssetImage-module__tableRoot--NF3u_",link:"frontend-components-MilestoneAssetImage-module__link--EZ_6U",imageEmail:"frontend-components-MilestoneAssetImage-module__imageEmail--Q9MQ4"},N=({pub:oe,style:ne,milestone:ae})=>{const{iString:le,iTemplate:ue}=(0,E.M1)(),fe=(0,T.Cq)();let he;switch(ae){case S.ARRMilestones.ARR10K:he=ue`${oe.name} has reached $10,000 in annual revenue`;break;case S.ARRMilestones.ARR1K:he=ue`${oe.name} has reached $1,000 in annual revenue`;break;case S.SubscriberMilestones.List100:he=ue`${oe.name} has reached 100 subscribers`;break;case S.SubscriberMilestones.List1K:he=ue`${oe.name} has reached 1,000 subscribers`;break}const{img:be,imgDownload:ve,shareData:Te,useNativeShare:we}=(0,C.Q)({shareTitle:le("Share this milestone"),shareText:he,shareUrl:(0,y.getBaseUrl)(oe),imageDownloadUrl:(0,y.getMilestoneAssetUrl)(oe,ae,ne,`${ae}${ne.aspectRatio?` - ${ne.aspectRatio}`:""}`),imageUrl:(0,y.getMilestoneAssetUrl)(oe,ae,ne,void 0),imageUrlSameOrigin:(0,y.getMilestoneAssetImageUrl)(oe,ae,ne,{useRootDomain:fe==null?void 0:fe.isSubstack})});return(0,n.h)(x,{img:be,imgDownload:ve,shareData:Te,useNativeShare:we,onClick:()=>{(0,d.j)(d.FP.MILESTONE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{milestone:ae,aspectRatio:ne.aspectRatio,source:"image"})}})},I=({pub:oe,milestone:ne,style:ae,downloadUrl:le})=>{const{iString:ue}=useI18N();return h("table",{className:MilestoneCss.tableRoot},h("tr",null,h("td",null,h("a",{href:le||getMilestoneAssetUrl(oe,ne,ae,"image"),alt:ue("Download Image"),download:!0,target:"_blank",className:MilestoneCss.link},h("img",{src:getMilestoneAssetUrl(oe,ne,ae),className:MilestoneCss.imageEmail})))))};var A=e(71278);const M={tableRoot:"frontend-components-PublicationAssetImage-module__tableRoot--is5Cf",link:"frontend-components-PublicationAssetImage-module__link--aIAzf",imageEmail:"frontend-components-PublicationAssetImage-module__imageEmail--bECef"},R=({pub:oe,style:ne})=>{const{iString:ae}=(0,E.M1)(),le=(0,T.Cq)(),{img:ue,imgDownload:fe,shareData:he,useNativeShare:be}=(0,C.Q)({shareTitle:ae("Share this publication"),shareText:oe.hero_text,shareUrl:(0,y.getBaseUrl)(oe),imageDownloadUrl:(0,y.getPublicationAssetUrl)(oe,ne,{fileToDownload:`Message${ne.aspectRatio?` - ${ne.aspectRatio}`:""}`}),imageUrl:(0,y.getPublicationAssetUrl)(oe,ne),imageUrlSameOrigin:(0,y.getPublicationAssetImageUrl)(oe,ne,{useRootDomain:le==null?void 0:le.isSubstack})});return(0,n.h)(x,{img:ue,imgDownload:fe,shareData:he,useNativeShare:be,onClick:()=>{(0,d.j)(d.FP.PUBLICATION_MEDIA_ASSETS_IMAGE_DOWNLOADED,{aspectRatio:ne.aspectRatio,source:"image"})}})},F=({pub:oe,style:ne,downloadUrl:ae})=>{const{iString:le}=useI18N();return h("table",{className:PublicationCss.tableRoot},h("tr",null,h("td",null,h("a",{href:ae||getPublicationAssetUrl(oe,ne,{fileToDownload:"image"}),alt:le("Download Image"),download:!0,target:"_blank",className:PublicationCss.link},h("img",{src:getPublicationAssetUrl(oe,ne),className:PublicationCss.imageEmail})))))};var Z=e(48042);const V={tableRoot:"frontend-components-SubscriptionNoteAssetImage-module__tableRoot--oiNnq",link:"frontend-components-SubscriptionNoteAssetImage-module__link--NPZBJ",imageEmail:"frontend-components-SubscriptionNoteAssetImage-module__imageEmail--_tLWE"},G=({pub:oe,user:ne,note:ae,style:le})=>{const{iString:ue}=(0,E.M1)(),fe=(0,T.Cq)(),{img:he,imgDownload:be,shareData:ve,useNativeShare:Te}=(0,C.Q)({shareTitle:ue("Share this message"),shareText:(ae==null?void 0:ae.note)||"",shareUrl:(0,y.getBaseUrl)(oe),imageDownloadUrl:(0,y.getSubscriptionNoteAssetUrl)(oe,ne,le,{fileToDownload:`Message${le.aspectRatio?` - ${le.aspectRatio}`:""}`}),imageUrl:(0,y.getSubscriptionNoteAssetUrl)(oe,ne,le),imageUrlSameOrigin:(0,y.getSubscriptionNoteAssetImageUrl)(oe,ne,le,{useRootDomain:fe==null?void 0:fe.isSubstack})});return(0,n.h)(x,{img:he,imgDownload:be,shareData:ve,useNativeShare:Te,onClick:()=>{(0,d.j)(d.FP.SUBSCRIPTION_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{note_from_user_id:ne.id,aspectRatio:le.aspectRatio,source:"image"})}})},$=({pub:oe,user:ne,style:ae,downloadUrl:le})=>{const{iString:ue}=useI18N();return h("table",{className:SubscriptionNoteCss.tableRoot},h("tr",null,h("td",null,h("a",{href:le||getSubscriptionNoteAssetUrl(oe,ne,ae,{fileToDownload:"image"}),alt:ue("Download Image"),download:!0,target:"_blank",className:SubscriptionNoteCss.link},h("img",{src:getSubscriptionNoteAssetUrl(oe,ne,ae),className:SubscriptionNoteCss.imageEmail})))))},K=({pub:oe,user:ne,note:ae,style:le})=>{const{iString:ue}=(0,E.M1)(),fe=(0,T.Cq)(),{img:he,imgDownload:be,shareData:ve,useNativeShare:Te}=(0,C.Q)({shareTitle:ue("Share this message"),shareText:(ae==null?void 0:ae.note)||"",shareUrl:(0,y.getBaseUrl)(oe),imageDownloadUrl:(0,y.getPledgeNoteAssetUrl)(oe,ne,le,{fileToDownload:`Message${le.aspectRatio?` - ${le.aspectRatio}`:""}`}),imageUrl:(0,y.getPledgeNoteAssetUrl)(oe,ne,le),imageUrlSameOrigin:(0,y.getPledgeNoteAssetImageUrl)(oe,ne,le,{useRootDomain:fe==null?void 0:fe.isSubstack})});return(0,n.h)(x,{img:he,imgDownload:be,shareData:ve,useNativeShare:Te,onClick:()=>{(0,d.j)(d.FP.PLEDGE_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{note_from_user_id:ne.id,aspectRatio:le.aspectRatio,source:"image"})}})},H=({pub:oe,user:ne,style:ae,downloadUrl:le})=>{const{iString:ue}=useI18N();return h("table",{className:SubscriptionNoteCss.tableRoot},h("tr",null,h("td",null,h("a",{href:le||getPledgeNoteAssetUrl(oe,ne,ae,{fileToDownload:"image"}),alt:ue("Download Image"),download:!0,target:"_blank",className:SubscriptionNoteCss.link},h("img",{src:getPledgeNoteAssetUrl(oe,ne,ae),className:SubscriptionNoteCss.imageEmail})))))},re={mobileContainer:"frontend-components-ShareableImageModal-module__mobileContainer--gqpNj",imageContainer:"frontend-components-ShareableImageModal-module__imageContainer--UoD0D",hRule:"frontend-components-ShareableImageModal-module__hRule--dPrHE",assetButtons:"frontend-components-ShareableImageModal-module__assetButtons--fv0fB",aspectRatioButton:"frontend-components-ShareableImageModal-module__aspectRatioButton--G9DrP",aspectRatioSelected:"frontend-components-ShareableImageModal-module__aspectRatioSelected--gdicf",aspectRatioSelectedIcon:"frontend-components-ShareableImageModal-module__aspectRatioSelectedIcon--EgZNS"};var ee=Object.defineProperty,Y=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,ie=(oe,ne,ae)=>ne in oe?ee(oe,ne,{enumerable:!0,configurable:!0,writable:!0,value:ae}):oe[ne]=ae,se=(oe,ne)=>{for(var ae in ne||(ne={}))J.call(ne,ae)&&ie(oe,ae,ne[ae]);if(Y)for(var ae of Y(ne))te.call(ne,ae)&&ie(oe,ae,ne[ae]);return oe},W=(oe,ne,ae)=>new Promise((le,ue)=>{var fe=ve=>{try{be(ae.next(ve))}catch(Te){ue(Te)}},he=ve=>{try{be(ae.throw(ve))}catch(Te){ue(Te)}},be=ve=>ve.done?le(ve.value):Promise.resolve(ve.value).then(fe,he);be((ae=ae.apply(oe,ne)).next())});const z=(oe,{postCoverImageUrl:ne,pubCoverImageUrl:ae,pub:le,themeVariables:ue})=>{const fe=[],he=[];let be=!1;const ve=ue||le.theme,Te=(ve==null?void 0:ve.web_bg_color)||(ve==null?void 0:ve.cover_bg_color);switch(oe){case"post_asset":ne&&fe.push("image"),(ve!=null&&ve.background_pop_color||ve!=null&&ve.background_pop)&&fe.push("accent"),fe.push("primary"),Te.toLowerCase()!=="#ffffff"&&fe.push("black&white"),be=!0;break;case"pub_shareable_image":{ae&&fe.push("image"),fe.push("primary"),he.push({type:"logo",label:"Logo"}),le.has_posts&&he.push({type:"posts",label:"Top posts"}),le.hero_text&&he.push({type:"description",label:"Description"});break}case"paid_subscription":case"pledged_subscription":(ve!=null&&ve.background_pop_color||ve!=null&&ve.background_pop)&&fe.push("accent"),fe.push("primary")}return{assetThemes:fe,assetTypes:he,includePreviewTextToggle:be}};function Q({pub:oe,item:ne,isOpen:ae,setOpen:le,themeVariables:ue,width:fe}){var he;const{iString:be,iTemplate:ve}=(0,E.M1)(),{type:Te,target_user:we,target_user_id:Se,target_pledge_note:We,target_subscription_note:Ae,post:Be}=ne,de=oe.logo_url||oe.cover_photo_url||oe.author_photo_url||((he=oe.author)==null?void 0:he.photo_url),ce=Be==null?void 0:Be.cover_image,{assetThemes:_e,assetTypes:Oe,includePreviewTextToggle:Le}=z(Te,{postCoverImageUrl:ce,pubCoverImageUrl:de,pub:oe,themeVariables:ue}),ze=ue||oe.theme,[Je,Pt]=(0,c.eJ)("stories"),[Ve,pt]=(0,c.eJ)(_e.find(et=>et==="image")&&de?"image":_e.find(et=>et==="accent")&&(ze!=null&&ze.background_pop_color||ze!=null&&ze.background_pop)?"accent":"primary"),[$e,Ie]=(0,c.eJ)("logo"),[ye,Ce]=(0,c.eJ)(!1);let xe,je,He,Ge,Qe,ct;const dt=()=>{switch(Ve){case"image":return se(se({aspectRatio:Je,bgImage:!0},Oe.length&&{type:$e}),Le&&ye&&{hidePreviewText:!0});case"accent":return se(se({aspectRatio:Je,bgColor:(ze==null?void 0:ze.background_pop_color)||(ze==null?void 0:ze.background_pop),textColor:ze==null?void 0:ze.print_on_pop},Oe.length&&{type:$e}),Le&&ye&&{hidePreviewText:!0});case"primary":return se(se({aspectRatio:Je,bgColor:(ze==null?void 0:ze.web_bg_color)||(ze==null?void 0:ze.cover_bg_color),textColor:(ze==null?void 0:ze.print_on_web_bg_color)||(ze==null?void 0:ze.cover_print_primary)||"#1a1a1a"},Oe.length&&{type:$e}),Le&&ye&&{hidePreviewText:!0});case"black&white":default:return se(se({aspectRatio:Je,bgColor:"#ffffff",textColor:"#404040"},Oe.length&&{type:$e}),Le&&ye&&{hidePreviewText:!0})}},it=(0,g.isMobileBrowser)(),tt=()=>{le(!1)};switch(Te){case"arr_10k_milestone":He=S.ARRMilestones.ARR10K,je=(0,n.h)(N,{pub:oe,milestone:He,style:{aspectRatio:Je}}),Ge=(0,y.getMilestoneAssetUrl)(oe,He,{aspectRatio:Je},`${He} - ${Je==="stories"?"vertical":Je}`);break;case"arr_1k_milestone":He=S.ARRMilestones.ARR1K,je=(0,n.h)(N,{pub:oe,milestone:He,style:{aspectRatio:Je}}),Ge=(0,y.getMilestoneAssetUrl)(oe,He,{aspectRatio:Je},`${He} - ${Je==="stories"?"vertical":Je}`);break;case"list_100_milestone":He=S.SubscriberMilestones.List100,je=(0,n.h)(N,{pub:oe,milestone:He,style:{aspectRatio:Je}}),Ge=(0,y.getMilestoneAssetUrl)(oe,He,{aspectRatio:Je},`${He} - ${Je==="stories"?"vertical":Je}`);break;case"list_1k_milestone":He=S.SubscriberMilestones.List1K,je=(0,n.h)(N,{pub:oe,milestone:He,style:{aspectRatio:Je}}),Ge=(0,y.getMilestoneAssetUrl)(oe,He,{aspectRatio:Je},`${He} - ${Je==="stories"?"vertical":Je}`);break;case"paid_subscription":je=(0,n.h)(G,{pub:oe,note:Ae,user:we||{id:Se||0},style:dt()}),Ge=(0,y.getSubscriptionNoteAssetUrl)(oe,we||{id:Se||0},dt(),{fileToDownload:`Message - ${Je==="stories"?"vertical":Je}`}),ct=()=>{(0,d.j)(d.FP.SUBSCRIPTION_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{note_from_user_id:(we==null?void 0:we.id)||Se,aspectRatio:Je,source:"download-button"})};break;case"pledged_subscription":je=(0,n.h)(K,{pub:oe,note:We,user:we||{id:Se||0},style:dt()}),Ge=(0,y.getPledgeNoteAssetUrl)(oe,we||{id:Se||0},dt(),{fileToDownload:`Message - ${Je==="stories"?"vertical":Je}`}),ct=()=>{(0,d.j)(d.FP.PLEDGE_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{note_from_user_id:(we==null?void 0:we.id)||Se,aspectRatio:Je,source:"download-button"})};break;case"pub_shareable_image":xe=it?be("Shareable images"):ve`Shareable images for ${oe.name}`,je=(0,n.h)(R,{pub:oe,style:dt()}),Qe=`${oe.name} - ${Je==="stories"?"vertical":Je}`,Ge=(0,y.getPublicationAssetUrl)(oe,dt(),{fileToDownload:Qe}),ct=()=>{(0,d.j)(d.FP.PUBLICATION_MEDIA_ASSETS_IMAGE_DOWNLOADED,{aspectRatio:Je,source:"download-button"})};break;case"post_asset":{const et=dt(),{text:Xe,translatedText:Ne}=Ve==="image"?{text:`Image${ye?" - no preview":""}`,translatedText:be(ye?"Image - no preview":"Image")}:Ve==="accent"?{text:`Accent Color${ye?" - no preview":""}`,translatedText:be(ye?"Accent Color - no preview":"Accent Color")}:Ve==="primary"?{text:`Background Color${ye?" - no preview":""}`,translatedText:be(ye?"Background Color - no preview":"Background Color")}:{text:`Black and White${ye?" - no preview":""}`,translatedText:be(ye?"Black and White - no preview":"Black and White")};xe=it?be("Shareable images"):ve`Shareable images${Be!=null&&Be.title?` for ${Be.title}`:""}`,je=Be&&(0,n.h)(A.ZP,{pub:oe,post:Be,style:et,text:Xe,translatedText:Ne}),Qe=`${Ne} - ${Je==="stories"?"vertical":Je}`,Ge=Be&&(0,y.getPressKitUrl)(oe,Be,et,Qe),ct=()=>{(0,d.j)(d.FP.WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED,{post_id:Be==null?void 0:Be.id,type:Xe,aspectRatio:et.aspectRatio,share_center:!0,inline:!1,source:"download-button"})};break}}["arr_10k_milestone","arr_1k_milestone","list_100_milestone","list_1k_milestone"].includes(Te)?(xe=be("Share milestone"),Qe=`${He} - ${Je==="stories"?"vertical":Je}`,ct=()=>{(0,d.j)(d.FP.MILESTONE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{milestone:He,aspectRatio:Je,source:"download-button"})}):["paid_subscription","pledged_subscription"].includes(Te)&&(xe=be("Share message"),Qe=`Message - ${Je==="stories"?"vertical":Je}`);const vt=()=>W(this,null,function*(){ct==null||ct();const et=document.createElement("a");et.href=Ge,et.download=Qe,et.target="_blank",et.rel="noopener noreferrer",et.style.display="none",document.body.appendChild(et),et.click(),document.body.removeChild(et)});return(0,n.h)(P.u_,{isOpen:ae,onClose:tt,width:fe||630,overflow:"hidden",renderOverReactLaagPortal:!0,fullscreenMobile:!0},(0,n.h)(P.tu,{className:it?re.mobileContainer:"",gap:20},(0,n.h)(P.xB,{onClose:tt,title:xe,includeClose:!0}),(0,n.h)(P.tu,{className:it?re.mobileContainer:"",gap:{desktop:32,mobile:8}},(0,n.h)("hr",{className:re.hRule}),it?(0,n.h)(P.xv.B4,{align:"center",paddingTop:8,size:12,color:"secondary",translated:!0},"Long press to download image"):null,(0,n.h)(P.tu,{className:it?re.mobileContainer:"",gap:24,paddingX:{desktop:24,mobile:16},paddingBottom:{mobile:16},justifyContent:{mobile:"space-between"}},(0,n.h)(P.hs,{className:v()(it?re.mobileContainer:re.imageContainer),alignItems:"center",justifyContent:"center",paddingX:{desktop:64,mobile:0}},je),(0,n.h)(P.gq,{className:re.assetButtons,gap:32},_e.length?(0,n.h)(P.tu,{gap:8},(0,n.h)(P.xv.B4,{weight:"medium",translated:!0},"Background"),(0,n.h)(P.gq,{gap:8},_e.map(et=>(0,n.h)(Z.rn,{value:et,isSelected:et===Ve,onClick:()=>pt(et),themeVariables:ze,coverImageUrl:de})))):null,Oe.length>1?(0,n.h)(P.tu,{gap:8},(0,n.h)(P.xv.B4,{weight:"medium",translated:!0},"Type"),(0,n.h)(P.gq,{gap:8},Oe.map(({type:et,label:Xe})=>(0,n.h)(Z.$I,{value:et,label:Xe,isSelected:et===$e,onClick:()=>Ie(et)})))):null,(0,n.h)(P.tu,{gap:8},(0,n.h)(P.xv.B4,{weight:"medium",translated:!0},"Aspect Ratio"),(0,n.h)(P.gq,{gap:8},Z.sl.map(et=>(0,n.h)(Z.ar,{value:et,isSelected:et===Je,onClick:()=>Pt(et)})))),(0,n.h)(P.tu,{gap:8},(0,n.h)(P.xv.B4,{nowrap:!0,weight:"medium",translated:!0},"Preview Text"),(0,n.h)(P.hs,{flex:"grow",alignItems:"center"},(0,n.h)(P.rs,{color:"brand",checked:!ye,onChange:et=>Ce(!et)}))))),it?null:(0,n.h)(P.tu,{gap:16},(0,n.h)("hr",{className:re.hRule}),(0,n.h)(P.xu,{paddingX:24,paddingBottom:24},(0,n.h)(P.zx,{grow:!0,leftIcon:(0,n.h)(O.Z,null),priority:"primary",onClick:vt},be("Download image")))))))}},92379:(j,l,e)=>{"use strict";e.d(l,{ie:()=>Z});var n=e(6400),c=e(30396),u=e(80569),v=e.n(u),O=e(29811),y=e(15045),E=e(28488),d=e(3258),g=e(86791),P=e(65873),S=e(71054),T=Object.defineProperty,C=Object.defineProperties,p=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,w=(G,$,K)=>$ in G?T(G,$,{enumerable:!0,configurable:!0,writable:!0,value:K}):G[$]=K,x=(G,$)=>{for(var K in $||($={}))s.call($,K)&&w(G,K,$[K]);if(i)for(var K of i($))_.call($,K)&&w(G,K,$[K]);return G},D=(G,$)=>C(G,p($)),N=(G,$)=>{var K={};for(var H in G)s.call(G,H)&&$.indexOf(H)<0&&(K[H]=G[H]);if(G!=null&&i)for(var H of i(G))$.indexOf(H)<0&&_.call(G,H)&&(K[H]=G[H]);return K},I=(G,$,K)=>new Promise((H,re)=>{var ee=te=>{try{J(K.next(te))}catch(ie){re(ie)}},Y=te=>{try{J(K.throw(te))}catch(ie){re(ie)}},J=te=>te.done?H(te.value):Promise.resolve(te.value).then(ee,Y);J((K=K.apply(G,$)).next())});const A=5,M=60,R=600,F=5,Z=G=>{const $=G,{visible:K,onCancel:H}=$,re=N($,["visible","onCancel"]),ee=()=>{var Y;K&&(0,d.j)(d.FP.VIDEO_CLIP_CREATE_MODAL_CLOSED,{post_id:(Y=G.post)==null?void 0:Y.id}),H()};return(0,g.Z)(G.containerRef,ee),K?(0,n.h)(O.gq,{className:`${S.Z.videoTrimmerSlider} ${K?S.Z.videoTrimmerSliderVisible:""}`},(0,n.h)(V,D(x({},re),{onCancel:ee}))):null},V=({videoPlayerRef:G,videoUpload:$,post:K,onCancel:H})=>{const re=(0,O.pm)(),{iString:ee,iTemplate:Y}=(0,E.M1)();(0,c.d4)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const J=te=>I(void 0,null,function*(){var ie,se;(0,d.j)(d.FP.VIDEO_CLIP_CREATE_BUTTON_CLICKED,{post_id:K==null?void 0:K.id,media_upload_id:(ie=K==null?void 0:K.videoUpload)==null?void 0:ie.id,start_time:te.start,end_time:te.start+te.duration}),G&&setTimeout(()=>G.pause(),100);try{const W=yield v().post(`/api/v1/video/assets/${$==null?void 0:$.id}/clips`).send(te);window.history.pushState({},"",(0,y.updateQuery)(window.location.href,{clipId:(se=W.body.mediaUpload)==null?void 0:se.id,share:!0}));const z=new Event("urlchange");return setTimeout(()=>{window.dispatchEvent(z)},300),H(),te}catch(W){console.error(W),re.popToast(z=>(0,n.h)(O.FN,D(x({},z),{text:ee("Error creating clip")})))}});return(0,n.h)(P.ZP,{videoPlayerRef:G,videoUpload:$,post:K,onCancel:H,onSubmit:J,onSubmitLabel:ee("Create clip"),minClipDuration:A,maxClipDuration:M,minTimelineDuration:F,maxTimelineDuration:R,showCaptionsButton:!0,elevated:!0})}},65873:(j,l,e)=>{"use strict";e.d(l,{ZP:()=>le});var n=e(6400),c=e(30396),u=e(74691),v=e.n(u),O=e(53716),y=e(75500),E=e(40423),d=e(80569),g=e.n(d),P=e(94184),S=e.n(P),T=e(31163),C=e(29811),p=e(51126);const i={timeline:"frontend-components-VideoClipper-module__timeline--AqiJp",rail:"frontend-components-VideoClipper-module__rail--fLWPd",draggable:"frontend-components-VideoClipper-module__draggable--SB3t2",draggableLeft:"frontend-components-VideoClipper-module__draggableLeft--lqQGg",draggableRight:"frontend-components-VideoClipper-module__draggableRight--QER2V",tooltip:"frontend-components-VideoClipper-module__tooltip--gvLXG",visible:"frontend-components-VideoClipper-module__visible--ikqjx",hidden:"frontend-components-VideoClipper-module__hidden--fbYXn",playback:"frontend-components-VideoClipper-module__playback--QNFuH",nonSelectable:"frontend-components-VideoClipper-module__nonSelectable--Kte9r",tick:"frontend-components-VideoClipper-module__tick--mBMzi",lgTick:"frontend-components-VideoClipper-module__lgTick--IB6PM",smTick:"frontend-components-VideoClipper-module__smTick--Nd6cb",currentTick:"frontend-components-VideoClipper-module__currentTick--A9XKd",selection:"frontend-components-VideoClipper-module__selection--h10e9",handle:"frontend-components-VideoClipper-module__handle--DWOr3",storyboard:"frontend-components-VideoClipper-module__storyboard--jNZby",ticks:"frontend-components-VideoClipper-module__ticks--d18eQ",shadow:"frontend-components-VideoClipper-module__shadow--hwyIG",shadowContainer:"frontend-components-VideoClipper-module__shadowContainer--OtL7e"};var s=Object.defineProperty,_=Object.defineProperties,w=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,I=(ue,fe,he)=>fe in ue?s(ue,fe,{enumerable:!0,configurable:!0,writable:!0,value:he}):ue[fe]=he,A=(ue,fe)=>{for(var he in fe||(fe={}))D.call(fe,he)&&I(ue,he,fe[he]);if(x)for(var he of x(fe))N.call(fe,he)&&I(ue,he,fe[he]);return ue},M=(ue,fe)=>_(ue,w(fe));const R=120,F=({videoElement:ue,start:fe,setStart:he,end:be,setEnd:ve,onDurationChange:Te,storyboard:we,maxDuration:Se,minDuration:We,maxTimelineDuration:Ae,minTimelineDuration:Be,looping:de=!1})=>{const[ce,_e]=(0,c.eJ)(0),[Oe,Le]=(0,c.eJ)(0),[ze,Je]=(0,c.eJ)(0),[Pt,Ve]=(0,c.eJ)(0),pt=(0,c.sO)(0),[$e,Ie]=(0,c.eJ)(!1),ye=Ge=>{Ie(Ge)};(0,c.d4)(()=>{const Ge=()=>{if(ue){_e(ue.duration);const Qe=[R,ue.duration];Ae&&Qe.push(Ae),Je(Math.min(...Qe)),Te&&Te(ue.duration)}};return ue&&ue.addEventListener("loadedmetadata",Ge),ue!=null&&ue.duration&&Ge(),()=>{ue&&ue.removeEventListener("loadedmetadata",Ge)}},[ue]),(0,c.d4)(()=>{ue&&(ue.currentTime=fe)},[fe]),(0,c.d4)(()=>{const Ge=()=>{ue&&Ve(ue.currentTime)};if(ue)return ue.addEventListener("timeupdate",Ge),()=>{ue.removeEventListener("timeupdate",Ge)}},[ue]),(0,c.d4)(()=>{const Ge=Math.abs(Pt-pt.current);if(pt.current=Pt,Ge<1){de&&ue&&!$e&&(Pt>be||Pt<fe)&&(ue.currentTime=fe);return}if(!$e&&(Pt>ze||Pt<Oe)){const Qe=ze-Oe,ct=Math.min(Pt,ce-Qe);Le(ct),Je(ct+Qe)}},[Pt]);const Ce=Ge=>{Ge.preventDefault();const Qe=Ge.currentTarget.getBoundingClientRect(),ct=(Ge.clientX-Qe.left)/Qe.width,dt=ze-Oe,it=(Ge.deltaY>0?-1:1)*dt/4,tt=dt-it,vt=Oe+ct*dt,et=vt-ct*tt,Xe=vt+(1-ct)*tt;Ae&&Xe-et>Ae||Be&&Xe-et<Be||(Je(Math.min(ce,Xe)),Le(Math.max(0,et)))},xe=(Ge,Qe)=>{he(Ge),ve(Qe)},je=Ge=>{if(We&&Ge+We>=be){he(be-We);return}if(Se&&Ge+Se<=be){he(be-Se);return}he(Ge)},He=Ge=>{if(We&&Ge-We<=fe){ve(fe+We);return}if(Se&&Ge-Se>=fe){ve(fe+Se);return}ve(Ge)};return(0,n.h)("div",{className:i.timeline,onWheel:Ce},ce>0?(0,n.h)(G,{startTimeline:Oe,setStartTimeline:Le,endTimeline:ze,setEndTimeline:Je,startPosition:fe,setStartPosition:je,endPosition:be,setEndPosition:He,setPosition:xe,playerPosition:Pt,duration:ce,onDragging:ye,storyboard:we}):(0,n.h)(p.gq,{alignItems:"center",justifyContent:"center"},(0,n.h)(C.aN,null)))},Z=({videoElement:ue,start:fe,setStart:he,onDurationChange:be,storyboard:ve,maxTimelineDuration:Te,minTimelineDuration:we})=>{const[Se,We]=useState(0),[Ae,Be]=useState(0),[de,ce]=useState(0),[_e,Oe]=useState(0),Le=useRef(0),[ze,Je]=useState(!1),Pt=$e=>{Je($e)};useEffect(()=>{const $e=()=>{if(ue){We(ue.duration);const Ie=[R,ue.duration];Te&&Ie.push(Te),ce(Math.min(...Ie)),be&&be(ue.duration)}};return ue&&ue.addEventListener("loadedmetadata",$e),ue!=null&&ue.duration&&$e(),()=>{ue&&ue.removeEventListener("loadedmetadata",$e)}},[ue]),useEffect(()=>{ue&&(ue.currentTime=fe)},[fe]),useEffect(()=>{const $e=()=>{ue&&Oe(ue.currentTime)};if(ue)return ue.addEventListener("timeupdate",$e),()=>{ue.removeEventListener("timeupdate",$e)}},[ue]),useEffect(()=>{const $e=Math.abs(_e-Le.current);if(Le.current=_e,$e<1){ue&&!ze&&(ue.currentTime=fe);return}if(!ze&&(_e>de||_e<Ae)){const Ie=de-Ae,ye=Math.min(_e,Se-Ie);Be(ye),ce(ye+Ie)}},[_e]);const Ve=$e=>{$e.preventDefault();const Ie=$e.currentTarget.getBoundingClientRect(),ye=($e.clientX-Ie.left)/Ie.width,Ce=de-Ae,xe=($e.deltaY>0?-1:1)*Ce/4,je=Ce-xe,He=Ae+ye*Ce,Ge=He-ye*je,Qe=He+(1-ye)*je;Te&&Qe-Ge>Te||we&&Qe-Ge<we||(ce(Math.min(Se,Qe)),Be(Math.max(0,Ge)))},pt=$e=>{he($e)};return h("div",{className:css.timeline,onWheel:Ve},Se>0?h($,{startTimeline:Ae,setStartTimeline:Be,endTimeline:de,setEndTimeline:ce,startPosition:fe,setStartPosition:pt,playerPosition:_e,duration:Se,onDragging:Pt,storyboard:ve}):h(FlexRow,{alignItems:"center",justifyContent:"center"},h(Loader,null)))},V=({storyboard:ue,imageUrl:fe,x:he,y:be,width:ve,height:Te,displayWidth:we,displayHeight:Se})=>{const We=(he?he/ue.tile_width:0)*we,Ae=(be?be/ue.tile_height:0)*Se,Be={width:`${we}px`,height:`${Se}px`,backgroundImage:`url(${fe})`,backgroundPosition:`-${We}px -${Ae}px`,backgroundSize:"500%"};return(0,n.h)("div",{style:Be})},G=({startTimeline:ue,setStartTimeline:fe,endTimeline:he,setEndTimeline:be,startPosition:ve,setStartPosition:Te,endPosition:we,setEndPosition:Se,setPosition:We,playerPosition:Ae,duration:Be,storyboard:de,onDragging:ce})=>{const _e=(0,c.sO)(null),Oe=(0,c.sO)(null),Le=(0,c.sO)(we-ve),ze=(0,c.sO)(null),[Je,Pt]=(0,c.eJ)(!1),Ve=he-ue,pt=ve-ue,$e=we-ue,Ie=Ae-ue,ye=(0,c.Ye)(()=>pt/Ve*100,[Ve,pt]),Ce=(0,c.Ye)(()=>$e/Ve*100,[$e,Ve]),xe=(0,c.Ye)(()=>Ie/Ve*100,[Ie,Ve]),je=`linear-gradient(to right, 
    rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.5) calc(${ye}% + 6px), 
    rgba(0,0,0,0) calc(${ye}% + 6px), rgba(0,0,0,0) calc(${Ce}% - 6px), 
    rgba(0,0,0,0.5) calc(${Ce}% - 6px), rgba(0,0,0,0.5) 100%)`,He=(0,c.I4)(vt=>{const et=vt/100*Ve;Te(Math.max(0,et+ue))},[Ve,Te,ue]),Ge=(0,c.I4)(vt=>{const et=vt/100*Ve;Se(Math.min(Be,et+ue))},[Be,Ve,Se,ue]);(0,c.d4)(()=>{ce(Je)},[Je]);const Qe=vt=>{if(vt.stopPropagation(),vt.preventDefault(),Je||!_e.current)return;Oe.current=vt.clientX,Le.current=we-ve;const et=_e.current.getBoundingClientRect().left,Xe=vt.clientX-et,Ne=_e.current.getBoundingClientRect().width,ft=Xe/Ne*100;if(!(ft>=ye&&ft<=Ce)){const Ht=ue+ft/100*Ve,rn=v()(Ht,0,Be-Le.current),en=rn+Le.current;We(rn,en)}},ct=vt=>{if(!_e.current)return;Pt(!1),Oe.current=vt.clientX,Le.current=we-ve;const et=_e.current.getBoundingClientRect().left,Xe=vt.clientX-et,Ne=_e.current.getBoundingClientRect().width,ft=Xe/Ne*100,At=ft>=ye&&ft<=Ce;ze.current=At,document.addEventListener("mousemove",it),document.addEventListener("mouseup",dt)},dt=()=>{setTimeout(()=>{Pt(!1)},0),Oe.current=null,ze.current=null,document.removeEventListener("mousemove",it),document.removeEventListener("mouseup",dt)},it=vt=>{if(Oe.current===null)return;const et=vt.clientX-Oe.current;if(et>5&&Pt(!0),!_e.current)return;const Xe=_e.current.getBoundingClientRect().width,Ne=et/Xe*Ve,ft=ve+Ne,At=ft+Le.current;ze.current?ft<0?We(0,Le.current):At>Be?We(Be-Le.current,Be):We(ft,At):ue-Ne>0&&he-Ne<=Be&&(fe(Math.max(0,ue-Ne)),be(Math.min(Be,he-Ne)))},tt=()=>{var vt,et;if(!de)return null;const Xe=(et=(vt=_e==null?void 0:_e.current)==null?void 0:vt.getBoundingClientRect().width)!=null?et:0;if(Xe===0)return null;function Ne(pn,_n,Tn){const dn=[],fn=Math.floor(pn/Tn)*Tn,xn=Math.ceil(_n/Tn)*Tn;for(let Dn=fn;Dn<=xn;Dn+=Tn)dn.push(Dn);return dn}function ft(pn,_n){return pn.reduce((Tn,dn)=>{const fn=Math.abs(dn.start-_n),xn=Math.abs(Tn.start-_n);return fn<xn?dn:Tn})}const At=60*(de.tile_width/de.tile_height),Ht=Ve/Xe*At,en=Ne(ue,he,Ht).map(pn=>({time:pn,tile:ft(de.tiles,pn)}));return(0,n.h)(p.gq,{className:i.storyboard},en.map(({time:pn,tile:_n},Tn)=>{const dn=(pn-ue)/Ve*100;return(0,n.h)("div",{style:{position:"absolute",left:`calc(${dn}% + 6px)`}},(0,n.h)(V,{storyboard:de,key:`${_n.x}-${_n.y}-${Tn}`,imageUrl:de.url,width:de.tile_width,height:de.tile_height,displayHeight:60,displayWidth:de.tile_width/de.tile_height*60,x:_n.x,y:_n.y}))}))};return(0,n.h)("div",{className:i.rail,ref:_e,onMouseDown:ct,onClick:Qe},tt(),(0,n.h)("div",{className:i.nonSelectable,style:{background:je,position:"absolute",top:0,bottom:0,left:0,right:0}}),(0,n.h)("div",{className:i.ticks},(0,n.h)(ee,{railDuration:Ve,startTimeline:ue})),(0,n.h)("div",{className:S()(i.ticks,i.nonSelectable)},(0,n.h)("div",{className:i.selection,style:{left:`calc(${ye}% + 6px)`,width:`calc(${Ce-ye}% - 12px)`}})),(0,n.h)(J,{divRef:_e,startTimeline:ue,railDuration:he-ue,active:!Je}),(0,n.h)("div",{className:i.ticks},(0,n.h)(Y,{className:`${i.draggable} ${i.draggableLeft}`,railRef:_e,label:(0,T.DL)(ve,!0),position:ye,maxPosition:Ce,setPosition:He,isDragging:Je,setIsDragging:Pt}),(0,n.h)(Y,{className:`${i.draggable} ${i.draggableRight}`,railRef:_e,label:(0,T.DL)(we,!0),position:Ce,minPosition:ye,setPosition:Ge,isDragging:Je,setIsDragging:Pt}),(0,n.h)(Y,{className:i.playback,railRef:_e,label:(0,T.DL)(Ae,!0),position:xe,isDragging:Je,setIsDragging:Pt,disabled:!0})))},$=({startTimeline:ue,setStartTimeline:fe,endTimeline:he,setEndTimeline:be,startPosition:ve,setStartPosition:Te,playerPosition:we,duration:Se,storyboard:We,onDragging:Ae})=>{const Be=useRef(null),de=useRef(null),ce=useRef(null),[_e,Oe]=useState(!1),Le=he-ue,ze=ve-ue,Je=we-ue,Pt=useMemo(()=>ze/Le*100,[Le,ze]),Ve=useMemo(()=>Je/Le*100,[Je,Le]),pt=useCallback(je=>{const He=je/100*Le;Te(Math.max(0,He+ue))},[Le,Te,ue]);useEffect(()=>{Ae(_e)},[_e]);const $e=je=>{if(je.stopPropagation(),je.preventDefault(),_e||!Be.current)return;de.current=je.clientX;const He=Be.current.getBoundingClientRect().left,Ge=je.clientX-He,Qe=Be.current.getBoundingClientRect().width,ct=Ge/Qe*100,dt=ue+ct/100*Le;Te(dt)},Ie=je=>{Be.current&&(Oe(!1),de.current=je.clientX,document.addEventListener("mousemove",Ce),document.addEventListener("mouseup",ye))},ye=()=>{setTimeout(()=>{Oe(!1)},0),de.current=null,ce.current=null,document.removeEventListener("mousemove",Ce),document.removeEventListener("mouseup",ye)},Ce=je=>{if(de.current===null)return;const He=je.clientX-de.current;if(He>5&&Oe(!0),!Be.current)return;const Ge=Be.current.getBoundingClientRect().width,Qe=He/Ge*Le;ue-Qe>0&&he-Qe<=Se&&(fe(Math.max(0,ue-Qe)),be(Math.min(Se,he-Qe)))},xe=()=>{var je,He;if(!We)return null;const Ge=(He=(je=Be==null?void 0:Be.current)==null?void 0:je.getBoundingClientRect().width)!=null?He:0;if(Ge===0)return null;function Qe(et,Xe,Ne){const ft=[],At=Math.floor(et/Ne)*Ne,Ht=Math.ceil(Xe/Ne)*Ne;for(let rn=At;rn<=Ht;rn+=Ne)ft.push(rn);return ft}function ct(et,Xe){return et.reduce((Ne,ft)=>{const At=Math.abs(ft.start-Xe),Ht=Math.abs(Ne.start-Xe);return At<Ht?ft:Ne})}const dt=60*(We.tile_width/We.tile_height),it=Le/Ge*dt,vt=Qe(ue,he,it).map(et=>({time:et,tile:ct(We.tiles,et)}));return h(FlexRow,{className:css.storyboard},vt.map(({time:et,tile:Xe},Ne)=>{const ft=(et-ue)/Le*100;return h("div",{style:{position:"absolute",left:`calc(${ft}% + 6px)`}},h(V,{storyboard:We,key:`${Xe.x}-${Xe.y}-${Ne}`,imageUrl:We.url,width:We.tile_width,height:We.tile_height,displayHeight:60,displayWidth:We.tile_width/We.tile_height*60,x:Xe.x,y:Xe.y}))}))};return h("div",{className:css.rail,ref:Be,onMouseDown:Ie,onClick:$e},xe(),h("div",{className:css.ticks},h(ee,{railDuration:Le,startTimeline:ue})),h(J,{divRef:Be,startTimeline:ue,railDuration:Le,active:!_e}),h("div",{className:css.ticks},h(Y,{className:`${css.draggable} ${css.draggableLeft}`,railRef:Be,label:formatSecondsToMMSS(ve,!0),position:Pt,setPosition:pt,isDragging:_e,setIsDragging:Oe}),h(Y,{className:css.playback,railRef:Be,label:formatSecondsToMMSS(we,!0),position:Ve,isDragging:_e,setIsDragging:Oe,disabled:!0})))},K=[{id:"lg",interval:60,tickClassName:i.lgTick,displayOnZoomLevels:["lg","md"],displayLabelsOnZoomLevels:["lg"]},{id:"md",interval:30,tickClassName:i.lgTick,displayOnZoomLevels:["lg","md"],displayLabelsOnZoomLevels:["md"]},{id:"sm",interval:5,tickClassName:i.smTick,displayOnZoomLevels:["md","sm"],displayLabelsOnZoomLevels:["sm"]},{id:"xs",interval:1,tickClassName:i.smTick,displayOnZoomLevels:["sm","xs"],displayLabelsOnZoomLevels:["xs"]}],H=ue=>ue>120?"lg":ue>30?"md":ue>5?"sm":"xs",re=(ue,fe,he)=>{const be=Math.floor(ue/he)*he,ve=Math.ceil(fe/he)+1;return Array.from({length:ve}).map((Te,we)=>({label:(0,T.DL)(be+he*we),time:be+he*we-ue}))},ee=({railDuration:ue,startTimeline:fe})=>{const he=H(ue),be=K.map(ve=>M(A({},ve),{values:re(fe,ue,ve.interval)}));return(0,n.h)(n.Fragment,null,be.map(ve=>ve.displayOnZoomLevels.includes(he)&&ve.values.map((Te,we)=>(0,n.h)("div",{key:we,className:S()(i.tick,ve.tickClassName,i.nonSelectable),style:{left:`${Te.time/ue*100}%`}},ve.displayLabelsOnZoomLevels.includes(he)&&(0,n.h)("span",null,Te.label)))))},Y=({railRef:ue,position:fe,disabled:he,setPosition:be,label:ve,maxPosition:Te,minPosition:we,className:Se,onDragStart:We,onDragEnd:Ae,showIcon:Be=!0,isDragging:de,setIsDragging:ce})=>{const _e=(0,c.sO)(null),[Oe,Le]=(0,c.eJ)(!1),ze=Ve=>{he||(ce(!1),Ve.stopPropagation(),Le(!0),document.addEventListener("mousemove",Pt),document.addEventListener("mouseup",Je),We&&We())},Je=()=>{setTimeout(()=>{ce(!1)},0),Le(!1),document.removeEventListener("mousemove",Pt),document.removeEventListener("mouseup",Je),Ae&&Ae()},Pt=Ve=>{if(ce(!0),!ue.current||!_e.current)return;const pt=ue.current.getBoundingClientRect().left,$e=ue.current.getBoundingClientRect().width,Ie=(Ve.clientX-pt)/$e*100;be&&be(Te!==void 0&&we!==void 0?Math.min(Te,Math.max(we,Ie)):Te!==void 0?Math.min(Te,Ie):we!==void 0?Math.max(we,Ie):Ie)};return(0,n.h)("div",{className:Se,ref:_e,style:{left:`${fe}%`},onMouseDown:ze},Be&&(0,n.h)("div",{className:i.handle}),(0,n.h)("div",{className:`${i.tooltip} ${Oe?i.visible:i.hidden} ${i.nonSelectable}`},ve))},J=({divRef:ue,startTimeline:fe,railDuration:he,active:be})=>{const[ve,Te]=(0,c.eJ)(null),[we,Se]=(0,c.eJ)(!1),We=de=>{if(ue.current){const ce=ue.current.getBoundingClientRect(),{left:_e,width:Oe}=ce,ze=(de.clientX-_e)/Oe*100,Je=fe+ze/100*he;Te({x:de.clientX-ce.left,time:Je})}},Ae=()=>Se(!0),Be=()=>Se(!1);return(0,c.d4)(()=>(ue.current&&(ue.current.addEventListener("mousemove",We),ue.current.addEventListener("mouseenter",Ae),ue.current.addEventListener("mouseleave",Be)),()=>{ue.current&&(ue.current.removeEventListener("mousemove",We),ue.current.removeEventListener("mouseenter",Ae),ue.current.removeEventListener("mouseleave",Be))}),[fe,he]),be&&ve&&we?(0,n.h)("div",{className:S()(i.shadowContainer,i.nonSelectable),style:{left:ve.x}},(0,n.h)("div",{className:i.shadow}),(0,n.h)("div",{className:i.tooltip},(0,T.DL)(ve.time,!0))):null};var te=e(80131),ie=e(28488),se=e(3258),W=e(71054),z=(ue,fe,he)=>new Promise((be,ve)=>{var Te=We=>{try{Se(he.next(We))}catch(Ae){ve(Ae)}},we=We=>{try{Se(he.throw(We))}catch(Ae){ve(Ae)}},Se=We=>We.done?be(We.value):Promise.resolve(We.value).then(Te,we);Se((he=he.apply(ue,fe)).next())});const Q=5,oe=60,ne=600,ae=5;function le({videoPlayerRef:ue,videoUpload:fe,post:he,onCancel:be,onSubmit:ve,onSubmitLabel:Te,minClipDuration:we=1,maxClipDuration:Se=Number.MAX_VALUE,minTimelineDuration:We=0,maxTimelineDuration:Ae=Number.MAX_VALUE,initialStart:Be,initialEnd:de,showCaptionsButton:ce,elevated:_e}){var Oe,Le;const[ze,Je]=(0,c.eJ)(Be!=null?Be:0),[Pt,Ve]=(0,c.eJ)(de!=null?de:30),[pt,$e]=(0,c.eJ)((0,T.DL)(ze,!0)),[Ie,ye]=(0,c.eJ)((0,T.DL)(Pt,!0)),[Ce,xe]=(0,c.eJ)(!1),[je,He]=(0,c.eJ)(),[Ge,Qe]=(0,c.eJ)(),[ct,dt]=(0,c.eJ)(),[it,tt]=(0,c.eJ)(),[vt,et]=(0,c.eJ)(!1),[Xe,Ne]=(0,c.eJ)(!0),ft=!!((Le=(Oe=he==null?void 0:he.podcastUpload)==null?void 0:Oe.transcription)!=null&&Le.transcript_url),At=(0,T.Jk)(pt),Ht=(0,T.Jk)(Ie),{iString:rn,iTemplate:en}=(0,ie.M1)();(0,c.d4)(()=>{const Cn=bn=>z(this,null,function*(){const{body:{src:zn}}=yield g().get(`/api/v1/video/upload/${bn}/storyboard`),tr=yield g().get(zn);He(tr.body)});fe!=null&&fe.id&&Cn(fe.id)},[fe]),(0,c.d4)(()=>{(0,T.ZD)(pt)!==ze&&$e((0,T.DL)(ze,!0)),Qe(void 0)},[ze]),(0,c.d4)(()=>{(0,T.ZD)(Ie)!==Pt&&ye((0,T.DL)(Pt,!0)),dt(void 0)},[Pt]);const pn=Cn=>{let bn=!1;return Cn<0?(tt(rn("Start time must be prior to end time")),bn=!0):Cn>Se?(tt(rn("Clip can't be greater than 60 seconds")),bn=!0):Cn<we?(tt(rn("Clip must be at least 5 seconds")),bn=!0):tt(void 0),bn},_n=(Cn,bn="start",zn=!1)=>{const tr=(0,T.Jk)(Cn);if(zn||(bn==="start"?$e(Cn):ye(Cn)),!tr)return(bn==="start"?Qe:dt)(bn==="start"?en`Start time format must be 0:00.0`:en`End time format must be 0:00.01`),!1;const $n=(0,T.ZD)(Cn),lr=bn==="start"?(0,T.ZD)(Ie)-$n:$n-(0,T.ZD)(pt);let Kn=!1;return lr<=0?Kn=!0:(bn==="start"?Qe:dt)(void 0),Kn=pn(lr)||Kn,!Kn&&!zn&&(bn==="start"?(Je($n),Ve((0,T.ZD)(Ie))):(Je((0,T.ZD)(pt)),Ve($n))),!Kn},Tn=(Cn,bn=!1)=>_n(Cn,"start",bn),dn=(Cn,bn=!1)=>_n(Cn,"end",bn),fn=(0,c.I4)((Cn,bn)=>{(0,T.fI)(bn)&&(Cn==="start"?Tn(bn):dn(bn))},[pt,Ie]),xn=()=>z(this,null,function*(){var Cn;et(!0),yield ve({start:ze,duration:Pt-ze,render_transcript_as:Ce?"subtitles":void 0,podcast_id:(Cn=he==null?void 0:he.podcastUpload)==null?void 0:Cn.id}),et(!1)}),Dn=Cn=>{Be||de||Ve(v()(Cn/4,we,30))},Wn=()=>{var Cn;(0,se.j)(se.FP.VIDEO_CLIP_LOOP_BUTTON_CLICKED,{post_id:he==null?void 0:he.id,media_upload_id:(Cn=he==null?void 0:he.videoUpload)==null?void 0:Cn.id,looping:!Xe}),Ne(!Xe)};if(!ue)return null;const Fn=!!Ge||!!ct||!!it;return(0,n.h)("div",null,(0,n.h)(C.hs,{className:_e?W.Z.containerElevated:W.Z.containerInline},(0,n.h)(C.tu,{gap:16,paddingX:4,flex:"grow"},(0,n.h)(C.gq,{className:W.Z.videoTrimmerWrapper},(0,n.h)(F,{videoElement:ue,start:ze,setStart:Je,end:Pt,setEnd:Ve,minDuration:we,maxDuration:Se,maxTimelineDuration:Ae,minTimelineDuration:We,looping:Xe,onDurationChange:Dn,storyboard:je})),(0,n.h)(n.Fragment,null,(0,n.h)(C.gq,{justifyContent:"space-between",alignItems:"center",disabled:vt,style:{opacity:vt?.5:1}},(0,n.h)(C.gq,{gap:4,alignItems:"center",onClick:()=>ft&&xe(!Ce),disabled:!ft,className:`${ft?W.Z.captionsAvailable:W.Z.captionsNotAvailable}`},(0,n.h)(C.hU,{title:"loop video",priority:Xe?"primary-theme":"secondary",onClick:Wn},(0,n.h)(O.Z,null)),(0,n.h)(C.hU,{disabled:!ft||vt,priority:Ce?"primary-theme":"secondary"},(0,n.h)(y.Z,null)),ce&&(0,n.h)(C.xv.Button,{color:Ce?"primary":"secondary"},"Captions ",Ce?"on":"off")),(0,n.h)(C.gq,{gap:8,alignItems:"center",justifyContent:"space-between",className:W.Z.durationContainer},(0,n.h)(E.Z,{color:"gray"}),(0,n.h)(C.xv.Button,{size:16,color:"secondary"},(0,T.DL)(Pt-ze,!0)))),(0,n.h)(te.i,null),(0,n.h)(C.gq,{gap:8,justifyContent:"space-between"},vt?(0,n.h)(C.gq,{justifyContent:"center",alignItems:"center",marginHeight:8},(0,n.h)(C.gq,{justifyContent:"center",alignItems:"center",gap:8},(0,n.h)(C.aN,null),(0,n.h)(C.xv.Button,{translated:!0,color:"secondary"},"Saving..."))):(0,n.h)(C.gq,{gap:8},(0,n.h)(C.oi,{error:!At,value:pt,onChange:Cn=>fn("start",Cn.currentTarget.value)}),(0,n.h)(C.oi,{error:!Ht,value:Ie,onChange:Cn=>fn("end",Cn.currentTarget.value)})),(0,n.h)(C.gq,{gap:8},(0,n.h)(C.zx,{priority:"primary-theme",fill:"empty",onClick:be},rn("Cancel")),(0,n.h)(C.zx,{priority:"primary-theme",onClick:xn,disabled:Fn||vt},Te))),Fn&&(0,n.h)(C.tu,null,Ge&&(0,n.h)(C.gq,null,(0,n.h)(C.xv.Button,{color:"error"},Ge)),ct&&(0,n.h)(C.gq,null,(0,n.h)(C.xv.Button,{color:"error"},ct)),it&&(0,n.h)(C.gq,null,(0,n.h)(C.xv.Button,{color:"error"},it)))))))}},58592:(j,l,e)=>{"use strict";e.d(l,{AudioEmbedPlayer:()=>Y,AudioEmbedPlayerStatic:()=>J,PlaybackRateToggle:()=>H,PlayerControls:()=>ee,ProgressBar:()=>$,VoiceoverPlayer:()=>te});var n=e(6400),c=e(94184),u=e.n(c),v=e(1852),O=e(82626),y=e(92271),E=e(62246),d=e(83322),g=e(28488),P=e(3258),S=e(18165),T=e(97737),C=e(14846),p=e(82019),i=e(97864),s=e(17590);const _={themedSelectOption:"frontend-components-audio-module__themedSelectOption--z_3gS",noUnderline:"frontend-components-audio-module__noUnderline--mBrri",podcastPaywallMenuButton:"frontend-components-audio-module__podcastPaywallMenuButton--chnEy",paywallMenuDropdown:"frontend-components-audio-module__paywallMenuDropdown--GChUY",paywallMenuDropdownItem:"frontend-components-audio-module__paywallMenuDropdownItem--vuDTY",paywallMenuDropdownIcon:"frontend-components-audio-module__paywallMenuDropdownIcon--P1zWf",paywallMenuDropdownItemTop:"frontend-components-audio-module__paywallMenuDropdownItemTop--uMMr8",paywallMenuDropdownDeleteItem:"frontend-components-audio-module__paywallMenuDropdownDeleteItem--b8UQR"};var w=Object.defineProperty,x=Object.defineProperties,D=Object.getOwnPropertyDescriptors,N=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,M=(W,z,Q)=>z in W?w(W,z,{enumerable:!0,configurable:!0,writable:!0,value:Q}):W[z]=Q,R=(W,z)=>{for(var Q in z||(z={}))I.call(z,Q)&&M(W,Q,z[Q]);if(N)for(var Q of N(z))A.call(z,Q)&&M(W,Q,z[Q]);return W},F=(W,z)=>x(W,D(z)),Z=(W=>(W.Embed="Embed audio",W.Voiceover="Add voiceover",W.Podcast="Podcast",W.PodcastPreview="Podcast free version",W.VideoPodcast="Episode",W.ShareQuote="Share quote",W))(Z||{}),V=(W=>(W.Embed="Upload or record an audio file embedded into the text.",W.Voiceover="Upload or record a new voiceover: an audio version of your post.",W.Podcast="Create a new podcast episode by uploading or recording an audio file.",W.PodcastPreview="Upload a file that will appear to free users on the website and in their feeds.",W.VideoPodcast="Create a new podcast episode by uploading or recording a video file. The audio from your video will be delivered to podcast players.",W.ShareQuote="Upload or record an audio file that will be used as a share quote.",W))(V||{}),G=(W=>(W[W.PubAccent=0]="PubAccent",W[W.PubFull=1]="PubFull",W[W.Substack=2]="Substack",W))(G||{});const $=({containerRef:W,currentTime:z,remainingTime:Q,progress:oe,onMouseDown:ne,shouldCollapseOnMobile:ae=!1,theme:le=1})=>(0,n.h)("div",{className:"tw-flex tw-grow tw-items-center tw-gap-3 tw-font-meta tw-text-sm tw-text-pub-secondary-text sm:tw-gap-3"},(0,n.h)("div",{className:u()("tw-min-w-[40px] tw-text-right",{"tw-hidden sm:tw-block":ae})},z),(0,n.h)("div",{ref:W,className:u()("tw-relative tw-h-5 tw-grow ",{"tw-ml-2 sm:tw-ml-0":ae}),onMouseDown:ne},(0,n.h)("div",{className:u()("audio-progress-bar tw-absolute tw-top-2 tw-right-0 tw-left-0 tw-h-1 tw-rounded",{"tw-bg-pub-detail":le===1,"tw-bg-substack-detail":le!==1})}),(0,n.h)("div",{className:u()("tw-absolute tw-top-2 tw-left-0 tw-h-1 tw-rounded-l-full",{"tw-bg-pub-accent":le!==2,"tw-bg-substack-accent":le===2}),style:{width:`${oe*100}%`}}),(0,n.h)("div",{className:u()("audio-playhead tw-absolute tw-ml-[-10px] tw-h-4 tw-w-4 tw-rounded-full tw-border-2 tw-border-solid ",{"tw-border-pub-background":le===1,"tw-border-substack-bg":le!==1,"tw-bg-substack-accent":le===2,"tw-bg-pub-accent":le!==2}),style:{left:`${oe*100}%`}})),(0,n.h)("div",{className:"tw-min-w-[40px]"},Q)),K=[{value:1,display:"1"},{value:1.25,display:"1.25"},{value:1.5,display:"1.5"},{value:1.75,display:"1.75"},{value:2,display:"2"}],H=({onSetPlaybackRate:W,playbackRate:z,className:Q})=>{const oe=K.findIndex(({value:ne})=>ne===z);return(0,n.h)("div",{onClick:()=>{const ne=(oe+1)%K.length;W(K[ne].value)},className:Q},K[oe].display,"\xD7")},re=({togglePlayback:W,isPlaying:z,isDisabled:Q=!1})=>h("div",{onClick:()=>{track(EVENTS.AUDIO_MODAL_PLAYPAUSE_CLICKED,{is_disabled:Q}),Q||W()},className:"tw-flex tw-justify-center tw-pb-8"},z?h("div",{className:"tw-flex tw-h-7 tw-w-6 tw-justify-between"},h("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),h("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):h(PlayIconRounded,{className:cn("tw-relative tw-left-1",{"tw-cursor-pointer":!Q,"tw-fill-pub-accent":!Q,"tw-fill-substack-detail":Q}),stroke:"none",height:28})),ee=({isPlaying:W,onSkipBack:z,onSkipForward:Q,onTogglePlayback:oe})=>(0,n.h)("div",{className:"tw-flex tw-items-center tw-justify-center tw-gap-4"},z&&(0,n.h)("div",{onClick:z,role:"button",className:"tw-cursor-pointer"},(0,n.h)(T.Z,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"})),(0,n.h)("div",{className:u()("tw-relative tw-flex tw-h-16 tw-w-16 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-bg-pub-accent tw-transition-transform hover:tw-scale-105"),onClick:oe,role:"button"},W?(0,n.h)("div",{className:"tw-flex tw-h-6 tw-w-6 tw-justify-between"},(0,n.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"}),(0,n.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"})):(0,n.h)(i.Z,{className:"tw-relative tw-left-0.5 tw-fill-pub-accent-inverse",stroke:"none",height:24})),Q&&(0,n.h)("div",{onClick:Q,role:"button",className:"tw-cursor-pointer"},(0,n.h)(C.Z,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"}))),Y=W=>(0,n.h)(S.Z,F(R({},W),{metricsPost:W.post,feature:"Embed audio",render:({currentTime:z,isPlaying:Q,progress:oe,progressBarRef:ne,progressBarOnMouseDown:ae,remainingTime:le,playbackRate:ue,setPlaybackRate:fe,togglePlayback:he})=>(0,n.h)("div",{"data-component-name":"AudioEmbedPlayer","data-drag-handle":"",className:"audio-embed tw-my-4 tw-box-border tw-flex tw-w-full tw-select-none tw-items-center tw-gap-4 tw-space-y-0 tw-rounded-full tw-bg-pub-wash tw-p-4 tw-font-sans sm:tw-gap-5"},(0,n.h)(H,{onSetPlaybackRate:fe,playbackRate:ue,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),(0,n.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},W.label&&(0,n.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-text-pub-primary-text"},W.label),(0,n.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 sm:tw-gap-4"},(0,n.h)($,{currentTime:z,remainingTime:le,containerRef:ne,progress:oe,onMouseDown:ae}))),(0,n.h)("div",{className:"audio-embed-play-button tw-relative tw-flex tw-h-12 tw-w-12 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:he,role:"button"},Q?(0,n.h)("div",{className:"tw-flex tw-h-5 tw-w-4 tw-justify-between"},(0,n.h)("div",{className:"pause-icon tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,n.h)("div",{className:"pause-icon tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):(0,n.h)(i.Z,{className:"tw-relative tw-left-[.1rem] tw-fill-pub-accent",stroke:"none",height:18})))})),J=({pub:W,post:z,duration:Q,label:oe})=>{var ne;const{iString:ae}=(0,g.M1)();return(0,n.h)("table",{"data-component-name":"AudioEmbedPlayerStatic",className:"tw-w-full tw-rounded-full tw-bg-substack-wash"},(0,n.h)("tr",null,(0,n.h)("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},(0,n.h)("a",{href:z.canonical_url,className:u()("tw-block tw-w-full tw-p-4 tw-text-substack-primary",_.noUnderline)},(0,n.h)(p.Z,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-w-4 tw-align-middle",stroke:(ne=W.theme)==null?void 0:ne.background_pop_color,isStatic:!0}),(0,n.h)("span",{className:"tw-align-middle"},(0,d.truncateText)(oe,10)||ae("Listen now")," \xB7 ",(0,d.secondsToHHMMSS)(Q||0))))))},te=W=>{const z=(0,v.useMediaQuery)({maxWidth:631}),Q=`/api/v1/audio/upload/${W.mediaUploadId}/src`,{iString:oe,iTemplate:ne}=(0,g.M1)();return(0,n.h)(S.Z,F(R({},W),{src:Q,feature:"Add voiceover",metricsPost:W.post,render:({isPaywalled:ae,currentTime:le,isPlaying:ue,progress:fe,progressBarRef:he,progressBarOnMouseDown:be,remainingTime:ve,playbackRate:Te,setPlaybackRate:we,togglePlayback:Se})=>(0,n.h)("div",{className:"tw-mb-6 tw-flex sm:tw-gap-1"},(0,n.h)("div",{className:"tw-hidden tw-h-20 tw-shrink-0 tw-basis-20 tw-items-center tw-justify-center tw-rounded-md tw-bg-pub-wash tw-fill-pub-primary-text tw-text-pub-primary-text sm:tw-flex"},(0,n.h)(s.Z,{className:"tw-stroke-pub-secondary-text"})),(0,n.h)("div",{className:"tw-box-border tw-flex tw-h-20 tw-w-full tw-select-none tw-items-center tw-gap-3 tw-space-y-0 tw-rounded-l-md tw-rounded-r-[64px] tw-bg-pub-wash  tw-p-4 tw-font-sans"},ae?(0,n.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap tw-justify-center tw-text-ssm tw-text-pub-secondary-text sm:tw-text-sm"},oe("Upgrade to paid to play voiceover")):(0,n.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},(0,n.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},oe("Article voiceover")),(0,n.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 "},(0,n.h)(H,{onSetPlaybackRate:we,playbackRate:Te,className:"tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),(0,n.h)($,{currentTime:le,remainingTime:ve,containerRef:he,progress:fe,onMouseDown:be,shouldCollapseOnMobile:!0}))),ae?(0,n.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-not-allowed tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform"},(0,n.h)(i.Z,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-detail",stroke:"none",height:z?20:24})):(0,n.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid  tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:Se,role:"button"},ue?(0,n.h)("div",{className:"tw-flex tw-h-5 tw-w-5 tw-justify-between"},(0,n.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,n.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):(0,n.h)(i.Z,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-accent",stroke:"none",height:20}))))}))},ie=({pub:W,post:z,isPaywalled:Q})=>{var oe,ne,ae;const le=Q?"Upgrade to paid for post voiceover":`Listen to post ${((oe=z.voiceoverUpload)==null?void 0:oe.duration)&&`\xB7 ${secondsToHHMMSS(z.voiceoverUpload.duration)}`}`;return h("table",{className:"voiceover-player-static tw-w-full tw-rounded-full tw-bg-substack-wash"},h("tr",null,h("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},h("a",{href:`${Substitutions.PLAY_ON_SUBSTACK}&utm_source=substack&utm_medium=email#play`,className:cn("tw-block tw-w-full tw-p-4 tw-text-substack-primary",css.noUnderline)},h(PlayIconRound,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-h-auto tw-w-4 tw-align-middle",stroke:Q?(ne=W.theme)==null?void 0:ne.background_contrast_3:(ae=W.theme)==null?void 0:ae.background_pop_color,isStatic:!0}),h("span",{className:"voiceover-player-static-cta tw-align-middle"},le)))))},se=({isOpen:W,onDismiss:z,onDeleteAudio:Q})=>{const{iString:oe}=useI18N();return h(Modal,{isOpen:W,onClose:z},h(ModalHeader,{includeClose:!1,title:oe("Something went wrong...")}),h(ModalBody,null,oe("Unfortunately, there was a problem with your audio file upload. We'll investigate, but in the meantime, please try again, and we apologize for the inconvenience.")),h(ModalFooter,{includeDivider:!1,alignment:"default",primaryButton:h(DeprecatedButton,{onClick:Q,variant:"primary"},oe("Got it"))}))}},35291:(j,l,e)=>{"use strict";e.d(l,{p:()=>O});var n=e(6400),c=e(94184),u=e.n(c),v=e(1602);const O=({name:y,label:E,info:d,checked:g,disabled:P,onChange:S,isRow:T=!0,className:C})=>{const p=(0,n.h)(n.Fragment,null,(0,n.h)("span",{className:u()("big-checkbox",{checked:g,disabled:P}),onClick:()=>!P&&(S==null?void 0:S(!g)),onKeyDown:i=>{i.key===" "&&(S==null||S(!g))},role:"checkbox","aria-checked":g,"aria-label":E||y,tabIndex:0},(0,n.h)(v.Z,{fill:"#ffffff"})));return(0,n.h)("label",{className:u()("big-checkbox-input",C,{"big-checkbox-input-row":T})},!T&&p,(0,n.h)("div",{onClick:()=>{(E||d)&&!P&&(S==null||S(!g))}},E,d&&(0,n.h)("div",{className:"info"},d)),T&&p,(0,n.h)("input",{type:"hidden",name:y,"data-testid":y,value:String(g)}))}},7922:(j,l,e)=>{"use strict";e.d(l,{Z:()=>w,k:()=>x});var n=e(6400),c=e(98661),u=e(94184),v=e.n(u),O=e(39419),y=e.n(O),E=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,C=(D,N,I)=>N in D?E(D,N,{enumerable:!0,configurable:!0,writable:!0,value:I}):D[N]=I,p=(D,N)=>{for(var I in N||(N={}))S.call(N,I)&&C(D,I,N[I]);if(P)for(var I of P(N))T.call(N,I)&&C(D,I,N[I]);return D},i=(D,N)=>d(D,g(N)),s=(D,N)=>{var I={};for(var A in D)S.call(D,A)&&N.indexOf(A)<0&&(I[A]=D[A]);if(D!=null&&P)for(var A of P(D))N.indexOf(A)<0&&T.call(D,A)&&(I[A]=D[A]);return I};const w=D=>{var N=D,{children:I,className:A=void 0,disabled:M=void 0,loading:R=void 0,type:F="button",href:Z=void 0,localNavigation:V=!1,onClick:G=void 0,forwardedRef:$=void 0,newTab:K=void 0,style:H=void 0}=N,re=s(N,["children","className","disabled","loading","type","href","localNavigation","onClick","forwardedRef","newTab","style"]);const ee=Y=>{if(M||R){Y&&Y.preventDefault();return}G?G(Y):Z?(0,O.redirect)(Z,{event:Y,local_navigation:V,newTab:K}):F!=="submit"&&console.log("No onClick set!")};return(0,n.h)("button",i(p({tabIndex:0},re),{type:F,className:v()("button",A,{disabled:M}),disabled:M||R,onClick:ee,ref:$,style:H}),R?"Please wait...":I)},x=(0,c.forwardRef)((D,N)=>{var I=D,{onClick:A,href:M,localNavigation:R,newTab:F}=I,Z=s(I,["onClick","href","localNavigation","newTab"]);const V=M?G=>{A&&(A.call(G.target,G),G.defaultPrevented)||(0,O.redirect)(M,{event:G,local_navigation:R,newTab:F})}:A;return(0,n.h)("button",i(p({tabIndex:0},Z),{ref:N,onClick:V}))})},22939:(j,l,e)=>{"use strict";e.d(l,{E:()=>c});var n=e(30396);function c(){const u=(0,n.sO)(null);return[u,()=>{var O;return(O=u.current)==null?void 0:O.toggle()}]}},11429:(j,l,e)=>{"use strict";e.d(l,{FF:()=>z,Pn:()=>ie,ZP:()=>J});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(71375),y=e(49770),E=e(48969),d=e(15045),g=e(28488),P=e(67963),S=e(62017),T=e(39419),C=e.n(T),p=e(84040),i=e(51126),s=e(62246),_=e(43887),w=e(34593),x=e(39936),D=e(44695),N=e(48592),I=e(80332),A=e(31471),M=e(30105),R=e(63924),F=Object.defineProperty,Z=Object.defineProperties,V=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,H=(ne,ae,le)=>ae in ne?F(ne,ae,{enumerable:!0,configurable:!0,writable:!0,value:le}):ne[ae]=le,re=(ne,ae)=>{for(var le in ae||(ae={}))$.call(ae,le)&&H(ne,le,ae[le]);if(G)for(var le of G(ae))K.call(ae,le)&&H(ne,le,ae[le]);return ne},ee=(ne,ae)=>Z(ne,V(ae)),Y=(ne,ae)=>{var le={};for(var ue in ne)$.call(ne,ue)&&ae.indexOf(ue)<0&&(le[ue]=ne[ue]);if(ne!=null&&G)for(var ue of G(ne))ae.indexOf(ue)<0&&K.call(ne,ue)&&(le[ue]=ne[ue]);return le};function J(ne){var ae=ne,{faces:le,secondaryFaces:ue,maximum:fe=5,pileLabel:he,modalLabel:be,secondaryLabel:ve,secondaryHref:Te,enableModal:we,className:Se,totalCount:We,detailUtmSource:Ae,onDialogOpen:Be,showFaces:de=!0,showBlanks:ce=!1,relativeLinks:_e=!1}=ae,Oe=Y(ae,["faces","secondaryFaces","maximum","pileLabel","modalLabel","secondaryLabel","secondaryHref","enableModal","className","totalCount","detailUtmSource","onDialogOpen","showFaces","showBlanks","relativeLinks"]);const[Le,ze]=(0,c.eJ)(!1),[Je,Pt]=(0,c.eJ)(!1),pt=le.concat((ue==null?void 0:ue.filter($e=>!le.find(Ie=>Ie.id===$e.id)))||[]).filter(({photo_url:$e})=>ce?!0:!!$e).slice(0,fe);return(0,n.h)(i.hs,{alignItems:"center",gap:8,flex:"grow",className:v()("facepile",Se)},de&&(0,n.h)(te,ee(re({},Oe),{className:Se,faces:pt,maximum:fe,showBlanks:ce,relativeLinks:_e})),he&&(0,n.h)(W,{label:he,clickable:!!(we&&le.length),onClick:()=>{!we||!(le!=null&&le.length)||(ze(!0),Be&&Be())}}),ve&&(0,n.h)(_.xv.B4,{color:"pub-secondary-text",weight:"medium"},"\xB7"),ve&&(0,n.h)(W,{label:ve,clickable:!!(we&&(ue!=null&&ue.length)),href:Te,onClick:Te?void 0:()=>{!we||!(ue!=null&&ue.length)||(Pt(!0),Be&&Be())}}),Le&&(0,n.h)(z,{isOpen:Le,modalLabel:be,faces:le,totalCount:We,onClose:()=>ze(!1),utmSource:Ae}),Je&&ue&&(0,n.h)(z,{isOpen:Je,modalLabel:ve,faces:ue,totalCount:ue.length,onClose:()=>Pt(!1),utmSource:Ae}))}function te({faces:ne,loading:ae,className:le,clickable:ue=!0,hoverProfiles:fe,faceUtmSource:he,elevated:be,showBlanks:ve=!1,maximum:Te=5,size:we=40,relativeLinks:Se=!1}){const We=(0,T.isMobileBrowser)(),Ae=ne.filter(({photo_url:Be})=>ve?!0:!!Be).slice(0,Te);return(0,n.h)(i.hs,{alignItems:"center"},!ae&&Ae.length>0&&(0,n.h)(i.hs,{alignItems:"center",className:v()(R.Z.faces,R.Z[`size-${we}`],le)},Ae.map(({id:Be,name:de,photo_url:ce,className:_e,tooltipTitle:Oe,tooltipContent:Le,noLink:ze},Je)=>{const Pt=(0,d.getReaderProfileUrl)({id:Be,name:de},{utm_source:he,noBase:!!Se}),Ve=(0,n.h)(A.e,{className:v()("facepile-face",R.Z.face,R.Z[`size-${we}`],_e,Je===0&&R.Z.first,Je===Ae.length-1&&R.Z.last,be&&R.Z.elevated),style:{zIndex:Ae.length-Je},maxWidth:we*2,src:(0,d.imginary)(ce||(0,d.getDefaultUserPhotoById)(Be),64)});return ze||!ue?Ve:(0,n.h)(I.Ct,{disabled:!fe||We,key:Be,subject:{id:Be,name:de,photo_url:ce},utmSource:he},(0,n.h)(M.L,{disabled:!Oe&&!Le,title:Oe,content:Le,className:"inverse bottom"},(0,n.h)(i.hs,{as:"a",flex:"auto",href:Pt,target:"_blank",rel:"noopener"},Ve)))})),ae&&(0,n.h)(se,{maximum:Te,size:we}))}function ie({pub:ne,post:ae}){var le;const ue=(0,d.imginary)(`${(0,d.getBaseUrl)(ne)}/p/${ae.slug}/authors.svg`,800,{format:"png",crop:"scale"}),{height:fe,width:he}=(0,N.Z)((le=ae==null?void 0:ae.publishedBylines)==null?void 0:le.length);return(0,n.h)("img",{src:ue,width:he,height:fe})}function se({maximum:ne,size:ae}){return(0,n.h)(i.hs,{gap:12},new Array(ne).fill(null).map(()=>(0,n.h)(x.Vm,{type:"circle",height:ae,width:ae})))}function W({label:ne,clickable:ae,href:le,onClick:ue}){return(0,n.h)(_.xv.B4,null,(0,n.h)(S.hh,{className:ae?R.Z.pointer:"",weight:"medium",color:"pub-secondary-text",decoration:ae?"hover-underline":"none",onClick:ue,href:le},ne))}function z(ne){var ae=ne,{isOpen:le,onClose:ue}=ae,fe=Y(ae,["isOpen","onClose"]);return(0,n.h)(s.u_,{isOpen:!!le,onClose:ue,width:500},(0,n.h)(Q,re({onClose:ue},fe)))}function Q({faces:ne,modalLabel:ae,onClose:le,openLinksInNewTab:ue,totalCount:fe,utmSource:he}){const{iString:be,iTemplate:ve,iPlural:Te}=(0,g.M1)(),we=(fe||0)-ne.length;return(0,n.h)(n.Fragment,null,(0,n.h)(i.hs,{alignItems:"center",justifyContent:"space-between",paddingX:16,paddingY:12,borderBottom:"detail",flex:"grow"},(0,n.h)(_.xv.H2,null,ae),le&&(0,n.h)(p.hU,{onClick:le},(0,n.h)(O.Z,{height:20}))),(0,n.h)(i.tu,{overflowY:"auto",className:R.Z.column},(0,n.h)(i.tu,{gap:4,padding:8,flex:"grow"},ne.map(Se=>(0,n.h)(oe,{face:Se,openLinksInNewTab:ue,utmSource:he})),we>0&&(0,n.h)(i.hs,{gap:16,alignItems:"center",padding:8},(0,n.h)(i.hs,{className:R.Z.avatarOther,alignItems:"center",justifyContent:"center"},(0,n.h)(y.Z,{className:R.Z.avatarOtherIcon,size:20})),(0,n.h)(_.xv.B4,{color:"secondary"},"+",Te("%1 other reader","%1 other readers",we))))))}function oe({face:ne,openLinksInNewTab:ae,utmSource:le}){const{iString:ue,iTemplate:fe}=(0,g.M1)(),{id:he,name:be,photo_url:ve,primary_publication:Te,writes:we,className:Se,noLink:We}=ne,Ae=le||"facepile-modal",Be=(0,d.getReaderProfileUrl)({id:he,name:be},{utm_source:Ae}),de=(0,P.aF)(),ce=(0,E.Sv)(ne,Ae);return(0,n.h)(i.hs,{key:he,flex:"grow"},We?(0,n.h)(i.hs,{gap:16,padding:8,radius:12,className:R.Z.row,alignItems:"center",flex:"grow"},(0,n.h)(w.BG,{user:ne,pub:Te,size:40,className:Se}),(0,n.h)(i.tu,{minWidth:0,flex:"grow"},(0,n.h)(_.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(R.Z.link,v()({"no-name":!(be||"").trim().length}))},be))):(0,n.h)(i.hs,re({as:"a",flex:"grow",gap:16,padding:8,alignItems:"center",radius:12,className:R.Z.row,href:Be},ae?{target:"_blank"}:{}),(0,n.h)(w.BG,{user:ne,pub:Te,size:40,className:Se}),(0,n.h)(i.tu,{minWidth:0,flex:"grow"},(0,n.h)(I.Ct,{disabled:(0,T.isMobileBrowser)(),subject:{id:he,name:be,photo_url:ve},utmSource:Ae,className:R.Z.link},(0,n.h)(_.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(R.Z.link,v()({"no-name":!(be||"").trim().length}))},be)),we&&Te&&(0,n.h)(D.Sm,{disabled:(0,T.isMobileBrowser)(),publication_id:Te==null?void 0:Te.id,className:R.Z.link},(0,n.h)(_.xv.B4,{color:"secondary",decoration:"hover-underline",className:v()(R.Z.link,{"no-name":!(be||"").trim().length})},we))),de&&de.id!==he&&(0,n.h)(p.zx,{fill:"empty",priority:ce.isFollowing?"secondary":"primary",className:R.Z.button,onClick:_e=>{_e.preventDefault(),ce.toggle()}},ce.isFollowing?ue("Following"):ue("Follow"))))}},86791:(j,l,e)=>{"use strict";e.d(l,{Z:()=>u});var n=e(30396);function c(v,O){(0,n.d4)(()=>{function y(d){const g=d.target;v.current&&!v.current.contains(g)&&O()}function E(d){(d.key==="Escape"||d.keyCode===27)&&O()}return document.addEventListener("mousedown",y),document.addEventListener("keydown",E),()=>{document.removeEventListener("mousedown",y),document.removeEventListener("keydown",E)}},[v,O])}const u=c},45634:(j,l,e)=>{"use strict";e.d(l,{Z:()=>p});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(i,s,_)=>s in i?u(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,P=(i,s)=>{for(var _ in s||(s={}))E.call(s,_)&&g(i,_,s[_]);if(y)for(var _ of y(s))d.call(s,_)&&g(i,_,s[_]);return i},S=(i,s)=>v(i,O(s)),T=(i,s)=>{var _={};for(var w in i)E.call(i,w)&&s.indexOf(w)<0&&(_[w]=i[w]);if(i!=null&&y)for(var w of y(i))s.indexOf(w)<0&&d.call(i,w)&&(_[w]=i[w]);return _};const p=i=>{var s=i,{name:_,children:w}=s,x=T(s,["name","children"]);return(0,n.h)(c.l,S(P({},x),{name:_,svgParams:{viewBox:"0 0 24 24",height:24,width:24,stroke:"#1C110B"}}),w)}},47819:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(45634),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.Z,S(P({},p),{name:"ActivationUsersIcon"}),(0,n.h)("path",{d:"M17 21V19C17 16.7909 15.2091 15 13 15H5C2.79086 15 1 16.7909 1 19V21","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,n.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 11C11.2091 11 13 9.20917 13 7.00003C13 4.79089 11.2091 3.00003 9 3.00003C6.79086 3.00003 5 4.79089 5 7.00003C5 9.20917 6.79086 11 9 11Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,n.h)("path",{d:"M23 21V19C22.9986 17.1772 21.765 15.5858 20 15.13","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,n.h)("path",{d:"M16 3.13004C17.7699 3.58321 19.0078 5.17803 19.0078 7.00504C19.0078 8.83204 17.7699 10.4269 16 10.88","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}))},32127:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"AuthorBadgeIcon",svgParams:{height:15,width:12,viewBox:"0 0 12 15"}}),(0,n.h)("path",{d:"M3.50002 2.58453C3.33335 3.58454 2.50001 5.58455 1 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,n.h)("circle",{cx:"6.00019",cy:"8.58503",r:"1.00001","stroke-width":"1"}),(0,n.h)("path",{d:"M3 0.5V2.58469H9.00004V0.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,n.h)("path",{d:"M8.49998 2.58453C8.66665 3.58454 9.49999 5.58455 11 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,n.h)("path",{d:"M6.00012 9.58484L6.00012 14.5849","stroke-width":"1"}))},97737:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"Back15Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),(0,n.h)("path",{d:"M0 11.8557C0 13.2164 0.260417 14.4989 0.78125 15.7034C1.30208 16.9078 2.02148 17.969 2.93945 18.887C3.85742 19.7984 4.91536 20.5146 6.11328 21.0354C7.31771 21.5562 8.60026 21.8166 9.96094 21.8166C11.3216 21.8166 12.6009 21.5562 13.7988 21.0354C15.0033 20.5146 16.0645 19.7984 16.9824 18.887C17.9004 17.969 18.6198 16.9078 19.1406 15.7034C19.6615 14.4989 19.9219 13.2164 19.9219 11.8557C19.9219 10.6578 19.7168 9.51846 19.3066 8.43773C18.8965 7.357 18.3236 6.38044 17.5879 5.50805C16.8587 4.62914 16.0026 3.89672 15.0195 3.31078C14.043 2.71833 12.985 2.30818 11.8457 2.08031V0.693592C11.8457 0.342029 11.7448 0.12393 11.543 0.039295C11.3411 -0.0453404 11.1068 0.00674294 10.8398 0.195545L7.72461 2.37328C7.49674 2.52953 7.38281 2.71182 7.38281 2.92015C7.38281 3.12849 7.49674 3.31403 7.72461 3.47679L10.8301 5.6643C11.097 5.85961 11.3314 5.91495 11.5332 5.83031C11.7415 5.73916 11.8457 5.51781 11.8457 5.16625V3.77953C12.7702 3.98786 13.6198 4.33943 14.3945 4.83422C15.1758 5.32901 15.8529 5.93448 16.4258 6.65062C17.0052 7.36677 17.4544 8.16755 17.7734 9.05297C18.0924 9.93187 18.252 10.8661 18.252 11.8557C18.252 13.008 18.0371 14.0888 17.6074 15.0979C17.1842 16.1005 16.5918 16.9827 15.8301 17.7444C15.0749 18.4996 14.196 19.0888 13.1934 19.512C12.1908 19.9416 11.1133 20.1565 9.96094 20.1565C8.80859 20.1565 7.72786 19.9416 6.71875 19.512C5.71615 19.0888 4.83398 18.4996 4.07227 17.7444C3.31706 16.9827 2.72461 16.1005 2.29492 15.0979C1.87174 14.0888 1.66016 13.008 1.66016 11.8557C1.66016 10.9312 1.80339 10.0523 2.08984 9.21898C2.3763 8.37914 2.77669 7.61416 3.29102 6.92406C3.80534 6.23396 4.40755 5.64151 5.09766 5.14672C5.29948 4.99698 5.42643 4.81469 5.47852 4.59984C5.53711 4.385 5.50456 4.17666 5.38086 3.97484C5.25716 3.77953 5.07812 3.66234 4.84375 3.62328C4.60938 3.57771 4.38477 3.6363 4.16992 3.79906C3.33008 4.40453 2.59766 5.12719 1.97266 5.96703C1.34766 6.80036 0.86263 7.71833 0.517578 8.72094C0.172526 9.71703 0 10.762 0 11.8557ZM7.10938 15.8596C7.29818 15.8596 7.44792 15.801 7.55859 15.6838C7.66927 15.5601 7.72461 15.3941 7.72461 15.1858V9.02367C7.72461 8.76976 7.66602 8.58096 7.54883 8.45726C7.43164 8.32706 7.26237 8.26195 7.04102 8.26195C6.9043 8.26195 6.77734 8.28799 6.66016 8.34008C6.54297 8.38565 6.39648 8.46703 6.2207 8.58422L4.88281 9.49242C4.77214 9.57055 4.6875 9.65844 4.62891 9.75609C4.57682 9.84724 4.55078 9.94815 4.55078 10.0588C4.55078 10.2216 4.60612 10.3616 4.7168 10.4787C4.82747 10.5959 4.96094 10.6545 5.11719 10.6545C5.21484 10.6545 5.29622 10.6415 5.36133 10.6155C5.42643 10.5894 5.5013 10.5406 5.58594 10.469L6.52344 9.78539H6.50391V15.1858C6.50391 15.3876 6.55924 15.5504 6.66992 15.6741C6.7806 15.7978 6.92708 15.8596 7.10938 15.8596ZM12.0703 15.9768C12.8776 15.9768 13.5254 15.7392 14.0137 15.2639C14.5085 14.7821 14.7559 14.1474 14.7559 13.3596C14.7559 12.6435 14.5378 12.0543 14.1016 11.592C13.6654 11.1298 13.099 10.8987 12.4023 10.8987C12.0898 10.8987 11.7839 10.9703 11.4844 11.1135C11.1914 11.2567 10.9798 11.4521 10.8496 11.6995H10.8984L11.0742 9.49242H13.9941C14.1374 9.49242 14.2611 9.44034 14.3652 9.33617C14.4759 9.232 14.5312 9.09528 14.5312 8.92601C14.5312 8.76325 14.4759 8.63305 14.3652 8.53539C14.2611 8.43122 14.1374 8.37914 13.9941 8.37914H10.8789C10.3646 8.37914 10.0846 8.64932 10.0391 9.18969L9.82422 12.0022C9.80469 12.2431 9.85352 12.4254 9.9707 12.5491C10.0879 12.6662 10.2539 12.7248 10.4688 12.7248C10.625 12.7248 10.752 12.7053 10.8496 12.6662C10.9473 12.6272 11.0645 12.5556 11.2012 12.4514C11.39 12.2821 11.5658 12.1617 11.7285 12.0901C11.8913 12.012 12.0703 11.9729 12.2656 11.9729C12.6432 11.9729 12.9492 12.1031 13.1836 12.3635C13.418 12.6174 13.5352 12.956 13.5352 13.3791C13.5352 13.8088 13.4017 14.1636 13.1348 14.4436C12.8678 14.7235 12.5326 14.8635 12.1289 14.8635C11.8359 14.8635 11.5723 14.7886 11.3379 14.6389C11.1035 14.4827 10.9245 14.2776 10.8008 14.0237C10.7292 13.9 10.6478 13.8056 10.5566 13.7405C10.4655 13.6689 10.3581 13.633 10.2344 13.633C10.0716 13.633 9.93815 13.6851 9.83398 13.7893C9.73633 13.8935 9.6875 14.0302 9.6875 14.1995C9.6875 14.2646 9.69401 14.3297 9.70703 14.3948C9.72005 14.4599 9.73958 14.525 9.76562 14.5901C9.89583 14.9416 10.1628 15.2606 10.5664 15.5471C10.9766 15.8336 11.4779 15.9768 12.0703 15.9768Z"}))},1782:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"BannedIcon",svgParams:{height:100,width:100},additionalStaticParams:{preserveAspectRatio:"none"}}),(0,n.h)("circle",{cx:"50",cy:"50",stroke:"#000000",r:100/2-4,strokeWidth:"8"}),(0,n.h)("line",{x1:"20",y1:"20",x2:"80",y2:"80",stroke:"#000000",strokeWidth:"8"}))},99758:(j,l,e)=>{"use strict";e.d(l,{Z:()=>p});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(i,s,_)=>s in i?u(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,P=(i,s)=>{for(var _ in s||(s={}))E.call(s,_)&&g(i,_,s[_]);if(y)for(var _ of y(s))d.call(s,_)&&g(i,_,s[_]);return i},S=(i,s)=>v(i,O(s)),T=(i,s)=>{var _={};for(var w in i)E.call(i,w)&&s.indexOf(w)<0&&(_[w]=i[w]);if(i!=null&&y)for(var w of y(i))s.indexOf(w)<0&&d.call(i,w)&&(_[w]=i[w]);return _};const p=i=>{var s=i,{fill:_="#1C110B"}=s,w=T(s,["fill"]);return(0,n.h)(c.l,S(P({},w),{name:"CaretDownIcon",svgParams:{height:6,width:10,fill:_}}),(0,n.h)("path",{d:"M4.61589 5.53907L0.68341 0.820092C0.412024 0.494429 0.643602 0 1.06752 0H8.93248C9.3564 0 9.58798 0.494428 9.31659 0.820091L5.38411 5.53907C5.18421 5.77894 4.81579 5.77894 4.61589 5.53907Z"}),");")}},1602:(j,l,e)=>{"use strict";e.d(l,{Z:()=>p});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(i,s,_)=>s in i?u(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,P=(i,s)=>{for(var _ in s||(s={}))E.call(s,_)&&g(i,_,s[_]);if(y)for(var _ of y(s))d.call(s,_)&&g(i,_,s[_]);return i},S=(i,s)=>v(i,O(s)),T=(i,s)=>{var _={};for(var w in i)E.call(i,w)&&s.indexOf(w)<0&&(_[w]=i[w]);if(i!=null&&y)for(var w of y(i))s.indexOf(w)<0&&d.call(i,w)&&(_[w]=i[w]);return _};const p=i=>{var s=i,{fill:_}=s,w=T(s,["fill"]);return(0,n.h)(c.l,S(P({},w),{name:"CheckboxCheckmarkIcon",svgParams:{viewBox:"0 0 16 13",height:16,width:13,fill:_||"white"}}),(0,n.h)("path",{d:"M5.71444 12.6276L0 6.9132L1.61147 5.30173L5.71444 9.39327L14.389 0.71875L16.0004 2.34165L5.71444 12.6276Z",stroke:_||"white"}))}},26059:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"CloseIcon",svgParams:{height:20,width:20,stroke:"#666666"}}),(0,n.h)("path",{d:"M15 5L5 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,n.h)("path",{d:"M5 5L15 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))},46595:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"DotDotDotIcon",svgParams:{height:100,width:100}}),(0,n.h)("circle",{cx:"23",cy:"50",r:"9"}),(0,n.h)("circle",{cx:"50",cy:"50",r:"9"}),(0,n.h)("circle",{cx:"77",cy:"50",r:"9"}))},22702:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"DotDotDotThinIcon",svgParams:{height:18,width:18}}),(0,n.h)("path",{d:"M1.12554 8.52747C1.41102 7.46201 2.48571 6.83933 3.51336 7.11468C4.541 7.39004 5.16037 8.46664 4.87488 9.5321C4.58939 10.5976 3.5147 11.2202 2.48706 10.9449C1.45941 10.6695 0.840049 9.59292 1.12554 8.52747Z"}),(0,n.h)("path",{d:"M7.12803 8.52747C7.41352 7.46201 8.48821 6.83933 9.51585 7.11468C10.5435 7.39004 11.1629 8.46664 10.8774 9.5321C10.5919 10.5976 9.51719 11.2202 8.48955 10.9449C7.46191 10.6695 6.84254 9.59292 7.12803 8.52747Z"}),(0,n.h)("path",{d:"M13.1266 8.52747C13.4121 7.46201 14.4867 6.83933 15.5144 7.11468C16.542 7.39004 17.1614 8.46664 16.8759 9.5321C16.5904 10.5976 15.5157 11.2202 14.4881 10.9449C13.4604 10.6695 12.8411 9.59292 13.1266 8.52747Z"}))},40946:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"DownloadIconNoBorder",svgParams:{height:32,width:32}}),(0,n.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:p.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,n.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:p.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,n.h)("path",{d:"M16 18.5V8.5",stroke:p.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}))},71765:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"FacebookIconCircle",svgParams:{height:24,width:24}}),(0,n.h)("circle",{cx:"12",cy:"12",r:"11.75",fill:"white",stroke:"none"}),(0,n.h)("path",{d:"M12 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1877f2",stroke:"none"}))},14846:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"Forward30Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),(0,n.h)("path",{d:"M13.1738 15.9615C13.7142 15.9615 14.1829 15.802 14.5801 15.483C14.9837 15.1574 15.2962 14.705 15.5176 14.1255C15.7454 13.5461 15.8594 12.8658 15.8594 12.0845C15.8594 11.2968 15.7454 10.6099 15.5176 10.024C15.2962 9.43803 14.9837 8.9823 14.5801 8.65678C14.1829 8.33126 13.7142 8.1685 13.1738 8.1685C12.6335 8.1685 12.1615 8.33126 11.7578 8.65678C11.3542 8.97579 11.0417 9.42827 10.8203 10.0142C10.599 10.6001 10.4883 11.2902 10.4883 12.0845C10.4883 12.8658 10.599 13.5461 10.8203 14.1255C11.0417 14.705 11.3542 15.1574 11.7578 15.483C12.1615 15.802 12.6335 15.9615 13.1738 15.9615ZM6.875 15.9615C7.64323 15.9615 8.27148 15.7531 8.75977 15.3365C9.25456 14.9133 9.50195 14.3729 9.50195 13.7154C9.50195 13.2401 9.35221 12.83 9.05273 12.4849C8.75326 12.1333 8.3724 11.9315 7.91016 11.8794V11.9283C8.28125 11.8632 8.59701 11.6613 8.85742 11.3228C9.12435 10.9843 9.25781 10.5969 9.25781 10.1607C9.25781 9.57475 9.03971 9.09624 8.60352 8.72514C8.17383 8.35405 7.61719 8.1685 6.93359 8.1685C6.34115 8.1685 5.82357 8.3215 5.38086 8.62749C4.93815 8.92697 4.66471 9.31108 4.56055 9.77983C4.54753 9.83842 4.53776 9.89376 4.53125 9.94585C4.52474 9.99793 4.52148 10.05 4.52148 10.1021C4.52148 10.2779 4.57031 10.4211 4.66797 10.5318C4.77214 10.6425 4.90885 10.6978 5.07812 10.6978C5.35156 10.6978 5.54036 10.5448 5.64453 10.2388C5.74219 9.93282 5.89518 9.7017 6.10352 9.54545C6.31185 9.38269 6.57878 9.30131 6.9043 9.30131C7.24935 9.30131 7.52604 9.39572 7.73438 9.58452C7.94922 9.76681 8.05664 10.0077 8.05664 10.3072C8.05664 10.6197 7.94922 10.8801 7.73438 11.0884C7.51953 11.2902 7.23958 11.3912 6.89453 11.3912H6.47461C6.31185 11.3912 6.18164 11.4432 6.08398 11.5474C5.98633 11.6451 5.9375 11.7818 5.9375 11.9576C5.9375 12.1203 5.98633 12.257 6.08398 12.3677C6.18815 12.4719 6.31836 12.524 6.47461 12.524H6.93359C7.35026 12.524 7.67904 12.6281 7.91992 12.8365C8.16081 13.0448 8.28125 13.3215 8.28125 13.6665C8.28125 13.9986 8.14779 14.2785 7.88086 14.5064C7.62044 14.7277 7.28841 14.8384 6.88477 14.8384C6.53971 14.8384 6.25 14.757 6.01562 14.5943C5.78125 14.4315 5.60872 14.1971 5.49805 13.8912C5.43945 13.7284 5.36458 13.6112 5.27344 13.5396C5.18229 13.468 5.07161 13.4322 4.94141 13.4322C4.77865 13.4322 4.64193 13.4875 4.53125 13.5982C4.42708 13.7089 4.375 13.8521 4.375 14.0279C4.375 14.08 4.37826 14.1353 4.38477 14.1939C4.39128 14.246 4.40104 14.2981 4.41406 14.3501C4.51823 14.8059 4.80469 15.19 5.27344 15.5025C5.74219 15.8085 6.27604 15.9615 6.875 15.9615ZM13.1738 14.7798C12.7441 14.7798 12.3991 14.5389 12.1387 14.0572C11.8848 13.5754 11.7578 12.9179 11.7578 12.0845C11.7578 11.2317 11.8848 10.5643 12.1387 10.0826C12.3926 9.59428 12.7376 9.35014 13.1738 9.35014C13.61 9.35014 13.9518 9.59103 14.1992 10.0728C14.4531 10.5546 14.5801 11.2251 14.5801 12.0845C14.5801 12.9179 14.4531 13.5754 14.1992 14.0572C13.9453 14.5389 13.6035 14.7798 13.1738 14.7798ZM9.96094 21.8111C11.3216 21.8111 12.6009 21.5507 13.7988 21.0298C15.0033 20.509 16.0645 19.7928 16.9824 18.8814C17.9004 17.9634 18.6198 16.9022 19.1406 15.6978C19.6615 14.4934 19.9219 13.2108 19.9219 11.8501C19.9219 10.7564 19.7493 9.71147 19.4043 8.71538C19.0592 7.71277 18.5742 6.7948 17.9492 5.96147C17.3242 5.12163 16.5918 4.39897 15.752 3.7935C15.5371 3.63074 15.3125 3.57215 15.0781 3.61772C14.8438 3.65678 14.6647 3.77397 14.541 3.96928C14.4173 4.17111 14.3815 4.37944 14.4336 4.59428C14.4922 4.80913 14.6224 4.99142 14.8242 5.14116C15.5143 5.63595 16.1165 6.2284 16.6309 6.9185C17.1452 7.60861 17.5456 8.37358 17.832 9.21342C18.1185 10.0468 18.2617 10.9257 18.2617 11.8501C18.2617 13.0025 18.0469 14.0832 17.6172 15.0923C17.194 16.0949 16.6016 16.9771 15.8398 17.7388C15.0846 18.494 14.2025 19.0832 13.1934 19.5064C12.1908 19.9361 11.1133 20.1509 9.96094 20.1509C8.80859 20.1509 7.73112 19.9361 6.72852 19.5064C5.72591 19.0832 4.84375 18.494 4.08203 17.7388C3.32682 16.9771 2.73438 16.0949 2.30469 15.0923C1.88151 14.0832 1.66992 13.0025 1.66992 11.8501C1.66992 10.7043 1.88151 9.63009 2.30469 8.62749C2.73438 7.61837 3.32682 6.73621 4.08203 5.981C4.83724 5.21928 5.71615 4.62358 6.71875 4.19389C7.72135 3.7642 8.79883 3.54936 9.95117 3.54936V1.8892C8.59049 1.8892 7.30794 2.14962 6.10352 2.67045C4.9056 3.19129 3.84766 3.91069 2.92969 4.82866C2.01823 5.74663 1.30208 6.80782 0.78125 8.01225C0.260417 9.21017 0 10.4895 0 11.8501C0 13.2108 0.260417 14.4934 0.78125 15.6978C1.30208 16.9022 2.02148 17.9634 2.93945 18.8814C3.85742 19.7928 4.91536 20.509 6.11328 21.0298C7.31771 21.5507 8.60026 21.8111 9.96094 21.8111ZM8.07617 0.697798V5.17045C8.07617 5.51551 8.17708 5.73361 8.37891 5.82475C8.58724 5.90939 8.82487 5.8573 9.0918 5.6685L12.207 3.481C12.4284 3.33126 12.5391 3.15223 12.5391 2.94389C12.5456 2.72905 12.4349 2.5435 12.207 2.38725L9.10156 0.199751C8.82812 0.00443892 8.58724 -0.0476444 8.37891 0.0435014C8.17708 0.128137 8.07617 0.346236 8.07617 0.697798Z"}))},36377:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"FoundingBadgeIcon",svgParams:{height:14,width:14,viewBox:"0 0 14 14"}}),(0,n.h)("circle",{cx:"3.93749",cy:"5.97916",r:"3.4375"}),(0,n.h)("path",{d:"M8.39583 9.49273C8.39583 11.3912 6.85681 12.9302 4.95833 12.9302C3.05985 12.9302 1.52083 11.3912 1.52083 9.49273C1.52083 7.59425 3.05985 6.05523 4.95833 6.05523C6.85681 6.05523 8.39583 7.59425 8.39583 9.49273Z"}),(0,n.h)("path",{d:"M12.4792 9.49273C12.4792 11.3912 10.9402 12.9302 9.04172 12.9302C7.14324 12.9302 5.60422 11.3912 5.60422 9.49273C5.60422 7.59425 7.14324 6.05523 9.04172 6.05523C10.9402 6.05523 12.4792 7.59425 12.4792 9.49273Z"}),(0,n.h)("circle",{cx:"6.99999",cy:"3.9375",r:"3.4375"}),(0,n.h)("circle",{cx:"10.0625",cy:"5.97916",r:"3.4375"}))},51889:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"HackerNewsIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,n.h)("rect",{width:"512",height:"512",fill:"#f60"}),(0,n.h)("path",{fill:"#fff",d:"M124 91h51l81 162 81-164h51L276 293v136h-40V293z"}))},54813:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"ImageIcon",svgParams:{height:52.13,width:63.67}}),(0,n.h)("path",{d:"M58.55,52.13H5.13A5.13,5.13,0,0,1,0,47V5.13A5.13,5.13,0,0,1,5.13,0H58.55a5.13,5.13,0,0,1,5.13,5.13V47A5.13,5.13,0,0,1,58.55,52.13ZM5.13,4A1.13,1.13,0,0,0,4,5.13V47a1.13,1.13,0,0,0,1.13,1.13H58.55A1.13,1.13,0,0,0,59.67,47V5.13A1.13,1.13,0,0,0,58.55,4Z"}),(0,n.h)("path",{d:"M12.08,43.46H51.59A1.69,1.69,0,0,0,53,40.77l-5.45-7.4A1.69,1.69,0,0,0,45,33.15l-5.6,5.33-13-17.65a1.69,1.69,0,0,0-2.78.08l-13,19.94A1.69,1.69,0,0,0,12.08,43.46Z"}),(0,n.h)("circle",{cx:"44.13",cy:"15.12",r:"5.93"}))},64484:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"LinkedInShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 72 72"}}),(0,n.h)("g",{fill:"none","fill-rule":"evenodd",stroke:"none"},(0,n.h)("path",{d:"M36,72 L36,72 C55.882251,72 72,55.882251 72,36 L72,36 C72,16.117749 55.882251,-3.65231026e-15 36,0 L36,0 C16.117749,3.65231026e-15 -2.4348735e-15,16.117749 0,36 L0,36 C2.4348735e-15,55.882251 16.117749,72 36,72 Z",fill:"#007EBB"}),(0,n.h)("path",{d:"M59,57 L49.959375,57 L49.959375,41.6017895 C49.959375,37.3800228 48.3552083,35.0207581 45.0136719,35.0207581 C41.3785156,35.0207581 39.4792969,37.4759395 39.4792969,41.6017895 L39.4792969,57 L30.7666667,57 L30.7666667,27.6666667 L39.4792969,27.6666667 L39.4792969,31.6178624 C39.4792969,31.6178624 42.0989583,26.7704897 48.3236979,26.7704897 C54.5455729,26.7704897 59,30.5699366 59,38.4279486 L59,57 Z M20.372526,23.8257036 C17.4048177,23.8257036 15,21.4020172 15,18.4128518 C15,15.4236864 17.4048177,13 20.372526,13 C23.3402344,13 25.7436198,15.4236864 25.7436198,18.4128518 C25.7436198,21.4020172 23.3402344,23.8257036 20.372526,23.8257036 Z M15.8736979,57 L24.958724,57 L24.958724,27.6666667 L15.8736979,27.6666667 L15.8736979,57 Z",fill:"#FFF",stroke:"none"})))},11851:(j,l,e)=>{"use strict";e.d(l,{Z:()=>p});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(i,s,_)=>s in i?u(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,P=(i,s)=>{for(var _ in s||(s={}))E.call(s,_)&&g(i,_,s[_]);if(y)for(var _ of y(s))d.call(s,_)&&g(i,_,s[_]);return i},S=(i,s)=>v(i,O(s)),T=(i,s)=>{var _={};for(var w in i)E.call(i,w)&&s.indexOf(w)<0&&(_[w]=i[w]);if(i!=null&&y)for(var w of y(i))s.indexOf(w)<0&&d.call(i,w)&&(_[w]=i[w]);return _};const p=i=>{var s=i,{color:_="#262626"}=s,w=T(s,["color"]);return(0,n.h)(c.l,S(P({},w),{name:"LockThinIcon",svgParams:{height:16,width:16}}),(0,n.h)("path",{className:"lock-shackle",d:"M5 6L5 3.9C5 2.57452 6.11929 1.5 7.5 1.5C8.88071 1.5 10 2.57452 10 3.9V6",stroke:_}),(0,n.h)("path",{className:"lock-body",d:"M2 7.5C2 6.94772 2.44772 6.5 3 6.5H12C12.5523 6.5 13 6.94772 13 7.5V12.5C13 13.0523 12.5523 13.5 12 13.5H3C2.44771 13.5 2 13.0523 2 12.5V7.5Z",fill:_,stroke:_}))}},965:(j,l,e)=>{"use strict";e.d(l,{Z:()=>p});var n=e(6400),c=e(66298),u=e(34755),v=Object.defineProperty,O=Object.defineProperties,y=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(i,s,_)=>s in i?v(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,S=(i,s)=>{for(var _ in s||(s={}))d.call(s,_)&&P(i,_,s[_]);if(E)for(var _ of E(s))g.call(s,_)&&P(i,_,s[_]);return i},T=(i,s)=>O(i,y(s));const p=i=>(0,n.h)(u.l,T(S({},i),{name:"LucideArrowUpRight",svgParams:{height:24,width:24}}),(0,n.h)(c.Z,{height:24,stroke:i.stroke,fill:i.fill,strokeWidth:i.strokeWidth}))},15440:(j,l,e)=>{"use strict";e.d(l,{Z:()=>p});var n=e(6400),c=e(13808),u=e(34755),v=Object.defineProperty,O=Object.defineProperties,y=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(i,s,_)=>s in i?v(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,S=(i,s)=>{for(var _ in s||(s={}))d.call(s,_)&&P(i,_,s[_]);if(E)for(var _ of E(s))g.call(s,_)&&P(i,_,s[_]);return i},T=(i,s)=>O(i,y(s));function C(i){return(0,n.h)(u.l,T(S({},i),{name:"LucideBookmark",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,n.h)(c.Z,{height:24,stroke:i.stroke,fill:i.fill,strokeWidth:i.strokeWidth}))}const p=C},63295:(j,l,e)=>{"use strict";e.d(l,{Z:()=>p});var n=e(6400),c=e(7617),u=e(34755),v=Object.defineProperty,O=Object.defineProperties,y=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(i,s,_)=>s in i?v(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,S=(i,s)=>{for(var _ in s||(s={}))d.call(s,_)&&P(i,_,s[_]);if(E)for(var _ of E(s))g.call(s,_)&&P(i,_,s[_]);return i},T=(i,s)=>O(i,y(s));const p=i=>(0,n.h)(u.l,T(S({},i),{name:"LucideComments",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,n.h)(c.Z,{height:24,stroke:i.stroke,fill:i.fill,strokeWidth:i.strokeWidth}))},12650:(j,l,e)=>{"use strict";e.d(l,{Z:()=>p});var n=e(6400),c=e(8618),u=e(34755),v=Object.defineProperty,O=Object.defineProperties,y=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(i,s,_)=>s in i?v(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,S=(i,s)=>{for(var _ in s||(s={}))d.call(s,_)&&P(i,_,s[_]);if(E)for(var _ of E(s))g.call(s,_)&&P(i,_,s[_]);return i},T=(i,s)=>O(i,y(s));const p=i=>(0,n.h)(u.l,T(S({},i),{name:"LucideHeart",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,n.h)(c.Z,{height:24,stroke:i.stroke,fill:i.fill,strokeWidth:i.strokeWidth}))},19698:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"LucideMute",svgParams:{height:24,width:24,stroke:p.stroke,strokeWidth:p.strokeWidth}}),(0,n.h)("path",{d:"M9.71429 7.71429H6C5.44772 7.71429 5 8.162 5 8.71429V15.2857C5 15.838 5.44772 16.2857 6 16.2857H10.43C10.6552 16.2857 10.8739 16.3617 11.0505 16.5015L16.3795 20.7179C17.0351 21.2366 18 20.7696 18 19.9336V16M18 10V4.06636C18 3.23036 17.0351 2.76341 16.3795 3.28214L14.03 5.14107L13.4427 5.6058M3 1L23 21","stroke-linecap":"round","stroke-linejoin":"round"}))},43498:(j,l,e)=>{"use strict";e.d(l,{Z:()=>p});var n=e(6400),c=e(4675),u=e(34755),v=Object.defineProperty,O=Object.defineProperties,y=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(i,s,_)=>s in i?v(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,S=(i,s)=>{for(var _ in s||(s={}))d.call(s,_)&&P(i,_,s[_]);if(E)for(var _ of E(s))g.call(s,_)&&P(i,_,s[_]);return i},T=(i,s)=>O(i,y(s));const p=i=>(0,n.h)(u.l,T(S({},i),{name:"LucideArrowLeftRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,n.h)(c.Z,{height:24,stroke:i.stroke,fill:i.fill,strokeWidth:i.strokeWidth}))},11628:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"LucideShare",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,n.h)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{d:"M12.4376 15.6C4.77778 15.6 2 20.3999 2 20.3999C2 12.5999 5.88889 8.4 12.4376 8.4V3L22 11.9812L12.4376 21V15.6Z","stroke-width":p.strokeWidth,fill:p.fill,className:"lucide","stroke-linecap":"round","stroke-linejoin":"round"})))},49542:(j,l,e)=>{"use strict";e.d(l,{Z:()=>p});var n=e(6400),c=e(31131),u=e(34755),v=Object.defineProperty,O=Object.defineProperties,y=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(i,s,_)=>s in i?v(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,S=(i,s)=>{for(var _ in s||(s={}))d.call(s,_)&&P(i,_,s[_]);if(E)for(var _ of E(s))g.call(s,_)&&P(i,_,s[_]);return i},T=(i,s)=>O(i,y(s));const p=i=>(0,n.h)(u.l,T(S({},i),{name:"LucideShare2",svgParams:{height:24,width:24}}),(0,n.h)(c.Z,{height:24,stroke:i.stroke,fill:i.fill,strokeWidth:i.strokeWidth}))},73416:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"LucideTabNotesFilled",svgParams:{height:24,width:24}}),(0,n.h)("path",{d:"M6.785 1.92766C5.45134 1.57031 4.08049 2.36176 3.72314 3.69543L0.444815 15.9303C0.0874636 17.264 0.878901 18.6348 2.21255 18.9922L5.37495 19.8396V7.66664C5.37495 6.40099 6.40096 5.37498 7.66661 5.37498H19.4723C19.3299 5.30548 19.1788 5.24858 19.0201 5.20604L6.785 1.92766Z",fill:p.fill,stroke:"none"}),(0,n.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.44161 7.4C7.86632 7.4 7.39995 7.86637 7.39995 8.44167V22.1081C7.39995 22.6834 7.86631 23.1498 8.4416 23.1498L22.1083 23.15C22.6836 23.15 23.1499 22.6836 23.1499 22.1083V8.44167C23.1499 7.86637 22.6836 7.4 22.1083 7.4H8.44161ZM10.3999 9.65C9.84766 9.65 9.39995 10.0977 9.39995 10.65C9.39995 11.2023 9.84766 11.65 10.3999 11.65H18.3999C18.9522 11.65 19.3999 11.2023 19.3999 10.65C19.3999 10.0977 18.9522 9.65 18.3999 9.65H10.3999ZM10.3999 14.15C9.84766 14.15 9.39995 14.5977 9.39995 15.15C9.39995 15.7023 9.84766 16.15 10.3999 16.15H15.3999C15.9522 16.15 16.3999 15.7023 16.3999 15.15C16.3999 14.5977 15.9522 14.15 15.3999 14.15H10.3999Z",fill:p.fill,stroke:"none"}))},31517:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"NoteForwardIcon",svgParams:{height:24,width:24,stroke:p.stroke,strokeWidth:p.strokeWidth}}),(0,n.h)("path",{d:"M21 3V8M21 8H16M21 8L18 5.29962C16.7056 4.14183 15.1038 3.38328 13.3879 3.11547C11.6719 2.84766 9.9152 3.08203 8.32951 3.79031C6.74382 4.49858 5.39691 5.65051 4.45125 7.10715C3.5056 8.5638 3.00158 10.2629 3 11.9996M3 21V16M3 16H8M3 16L6 18.7C7.29445 19.8578 8.89623 20.6163 10.6121 20.8841C12.3281 21.152 14.0848 20.9176 15.6705 20.2093C17.2562 19.501 18.6031 18.3491 19.5487 16.8925C20.4944 15.4358 20.9984 13.7367 21 12","stroke-linecap":"round","stroke-linejoin":"round"}))},1706:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"NoteForwardQuoteIcon",svgParams:{height:24,width:24,stroke:p.stroke,strokeWidth:p.strokeWidth}}),(0,n.h)("path",{d:"M13.4147 2.09993C10.4072 1.67249 7.2423 2.61548 4.92891 4.92887C1.02366 8.83411 1.02366 15.1658 4.92891 19.071C8.83415 22.9762 15.1658 22.9762 19.071 19.071C21.3844 16.7576 22.3274 13.5927 21.9 10.5852M18.5 2.62126C18.8978 2.22343 19.4374 1.99994 20 1.99994C20.5626 1.99994 21.1021 2.22343 21.5 2.62126C21.8978 3.01908 22.1213 3.55865 22.1213 4.12126C22.1213 4.68387 21.8978 5.22343 21.5 5.62126L13 14.1213L8.99998 15.1213L9.99998 11.1213L18.5 2.62126Z","stroke-linecap":"round","stroke-linejoin":"round"}))},26240:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"NoteReplyIcon",svgParams:{height:24,width:24,stroke:p.stroke,strokeWidth:p.strokeWidth}}),(0,n.h)("path",{d:"M22 11.4445C22.0038 12.911 21.6612 14.3577 21 15.6667C20.216 17.2353 19.0108 18.5546 17.5194 19.477C16.0279 20.3993 14.3091 20.8882 12.5555 20.8889C11.089 20.8927 9.64234 20.5501 8.33332 19.8889L2 22L4.11111 15.6667C3.44992 14.3577 3.10729 12.911 3.11111 11.4445C3.11179 9.69086 3.60068 7.97208 4.52302 6.48064C5.44536 4.98919 6.76472 3.78399 8.33332 3.00003C9.64234 2.33884 11.089 1.99621 12.5555 2.00003H13.1111C15.427 2.1278 17.6145 3.10532 19.2546 4.74543C20.8947 6.38553 21.8722 8.57297 22 10.8889V11.4445Z","stroke-linecap":"round","stroke-linejoin":"round"}))},29820:(j,l,e)=>{"use strict";e.d(l,{Z:()=>d});var n=e(6400),c=Object.defineProperty,u=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,y=(g,P,S)=>P in g?c(g,P,{enumerable:!0,configurable:!0,writable:!0,value:S}):g[P]=S,E=(g,P)=>{for(var S in P||(P={}))v.call(P,S)&&y(g,S,P[S]);if(u)for(var S of u(P))O.call(P,S)&&y(g,S,P[S]);return g};function d(g){return(0,n.h)("svg",E({width:"22",height:"24",viewBox:"0 0 20 20",overflow:"visible",fill:"none",stroke:"var(--color-secondary)"},g),(0,n.h)("g",{transform:"translate(0, -2)"},(0,n.h)("path",{d:"M16.6667 16.0265C16.0821 17.2172 15.1835 18.2187 14.0715 18.9188C12.9594 19.6189 11.6779 19.9901 10.3704 19.9906C9.27691 19.9935 8.19824 19.7334 7.22222 19.2315L2.5 20.834L4.07407 16.0265C3.58108 15.0329 3.32561 13.9347 3.32846 12.8215C3.32897 11.4904 3.69349 10.1857 4.3812 9.05361C5.06891 7.92149 6.05265 7.00665 7.22222 6.41156C7.72153 6.15481 8.2477 5.96134 8.78897 5.83398","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,n.h)("path",{d:"M19.4444 6.11133H13.8893C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133Z"}),(0,n.h)("path",{d:"M13.8893 6.11133H19.4444M13.8893 6.11133C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133M13.8893 6.11133L13.8889 3.88911C13.8889 3.15239 14.1815 2.44586 14.7025 1.92492C15.2234 1.40399 15.9299 1.11133 16.6667 1.11133C17.4034 1.11133 18.1099 1.40399 18.6308 1.92492C19.1518 2.44586 19.4444 3.15239 19.4444 3.88911V6.11133","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})))}},70073:(j,l,e)=>{"use strict";e.d(l,{Z:()=>p});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(i,s,_)=>s in i?u(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,P=(i,s)=>{for(var _ in s||(s={}))E.call(s,_)&&g(i,_,s[_]);if(y)for(var _ of y(s))d.call(s,_)&&g(i,_,s[_]);return i},S=(i,s)=>v(i,O(s)),T=(i,s)=>{var _={};for(var w in i)E.call(i,w)&&s.indexOf(w)<0&&(_[w]=i[w]);if(i!=null&&y)for(var w of y(i))s.indexOf(w)<0&&d.call(i,w)&&(_[w]=i[w]);return _};const p=i=>{var s=i,{color:_="white"}=s,w=T(s,["color"]);return(0,n.h)(c.l,S(P({},w),{name:"PhoneOutline",svgParams:{height:24,width:24,stroke:_,fill:"none"}}),(0,n.h)("path",{d:"M16.7778 2.3877H8.22222C7.54721 2.3877 7 3.28313 7 4.3877V18.3877C7 19.4923 7.54721 20.3877 8.22222 20.3877H16.7778C17.4528 20.3877 18 19.4923 18 18.3877V4.3877C18 3.28313 17.4528 2.3877 16.7778 2.3877Z"}))}},11762:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"PinIconSmall",svgParams:{height:16,width:14}}),(0,n.h)("path",{d:"M7 1.00006L10 1.00006C10.5523 1.00006 11.0846 1.47946 10.8452 1.97714C10.6681 2.3451 10.2927 2.75194 9.5 3.17301L10 7.51891C10.7819 7.7681 11.949 8.31222 12.9204 9.21856C13.4827 9.74324 13.0402 10.561 12.2711 10.561H7"}),(0,n.h)("path",{d:"M7 1.00006L4 1.00006C3.44772 1.00006 2.91538 1.47946 3.15482 1.97714C3.33185 2.3451 3.70727 2.75194 4.5 3.17301L4 7.51891C3.2181 7.7681 2.05103 8.31222 1.07961 9.21856C0.517263 9.74324 0.959808 10.561 1.72891 10.561H7"}),(0,n.h)("path",{d:"M7 10.561L7 15","stroke-linecap":"round","stroke-linejoin":"round"}))},21302:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"PinterestIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 144 144"}}),(0,n.h)("g",null,(0,n.h)("g",null,(0,n.h)("path",{"shape-rendering":"geometricPrecision",fill:"#BD081C",style:{stroke:"none"},d:`M71.9,5.4C35.1,5.4,5.3,35.2,5.3,72c0,28.2,17.5,52.3,42.3,62c-0.6-5.3-1.1-13.3,0.2-19.1
			c1.2-5.2,7.8-33.1,7.8-33.1s-2-4-2-9.9c0-9.3,5.4-16.2,12-16.2c5.7,0,8.4,4.3,8.4,9.4c0,5.7-3.6,14.3-5.5,22.2
			c-1.6,6.6,3.3,12,9.9,12c11.8,0,20.9-12.5,20.9-30.5c0-15.9-11.5-27.1-27.8-27.1c-18.9,0-30.1,14.2-30.1,28.9
			c0,5.7,2.2,11.9,5,15.2c0.5,0.7,0.6,1.2,0.5,1.9c-0.5,2.1-1.6,6.6-1.8,7.5c-0.3,1.2-1,1.5-2.2,0.9c-8.3-3.9-13.5-16-13.5-25.8
			c0-21,15.3-40.3,44-40.3c23.1,0,41,16.5,41,38.4c0,22.9-14.5,41.4-34.5,41.4c-6.7,0-13.1-3.5-15.3-7.6c0,0-3.3,12.7-4.1,15.8
			c-1.5,5.8-5.6,13-8.3,17.5c6.2,1.9,12.8,3,19.7,3c36.8,0,66.6-29.8,66.6-66.6C138.5,35.2,108.7,5.4,71.9,5.4z`}))))},93830:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"PlayIcon",svgParams:{height:43,width:35}}),(0,n.h)("path",{d:"M34.428 20.819C34.8483 21.0821 34.8483 21.7121 34.428 21.9752L1.74924 42.4349C1.3132 42.7079 0.755859 42.3835 0.755859 41.8568V0.937387C0.755859 0.410635 1.3132 0.0862969 1.74925 0.359298L34.428 20.819Z"}))},82019:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"PlayIconRound",svgParams:{height:24,width:24}}),(0,n.h)("path",{className:"outer-circle",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,n.h)("path",{className:"inner-triangle",d:"M10 8L16 12L10 16V8Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))},97864:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"PlayIconRounded",svgParams:{height:16,width:15}}),(0,n.h)("path",{d:"M14 7.13397C14.6667 7.51887 14.6667 8.48112 14 8.86602L2 15.7942C1.33333 16.1791 0.499999 15.698 0.499999 14.9282L0.5 1.0718C0.5 0.301996 1.33333 -0.17913 2 0.20577L14 7.13397Z"}))},48093:(j,l,e)=>{"use strict";e.d(l,{Z:()=>p});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(i,s,_)=>s in i?u(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,P=(i,s)=>{for(var _ in s||(s={}))E.call(s,_)&&g(i,_,s[_]);if(y)for(var _ of y(s))d.call(s,_)&&g(i,_,s[_]);return i},S=(i,s)=>v(i,O(s)),T=(i,s)=>{var _={};for(var w in i)E.call(i,w)&&s.indexOf(w)<0&&(_[w]=i[w]);if(i!=null&&y)for(var w of y(i))s.indexOf(w)<0&&d.call(i,w)&&(_[w]=i[w]);return _};const p=i=>{var s=i,{fill:_="white"}=s,w=T(s,["fill"]);return(0,n.h)(c.l,S(P({},w),{name:"PodcastEmbedPauseIcon",svgParams:{width:13,height:16,viewBox:"0 0 13 16",stroke:"none",fill:_}}),(0,n.h)("path",{d:"M4 0H1C0.447715 0 0 0.447715 0 1V15C0 15.5523 0.447715 16 1 16H4C4.55228 16 5 15.5523 5 15V1C5 0.447715 4.55228 0 4 0Z"}),(0,n.h)("path",{d:"M11.9998 0H8.99976C8.44747 0 7.99976 0.447715 7.99976 1V15C7.99976 15.5523 8.44747 16 8.99976 16H11.9998C12.552 16 12.9998 15.5523 12.9998 15V1C12.9998 0.447715 12.552 0 11.9998 0Z"}))}},18133:(j,l,e)=>{"use strict";e.d(l,{Z:()=>p});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(i,s,_)=>s in i?u(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,P=(i,s)=>{for(var _ in s||(s={}))E.call(s,_)&&g(i,_,s[_]);if(y)for(var _ of y(s))d.call(s,_)&&g(i,_,s[_]);return i},S=(i,s)=>v(i,O(s)),T=(i,s)=>{var _={};for(var w in i)E.call(i,w)&&s.indexOf(w)<0&&(_[w]=i[w]);if(i!=null&&y)for(var w of y(i))s.indexOf(w)<0&&d.call(i,w)&&(_[w]=i[w]);return _};const p=i=>{var s=i,{fill:_="white"}=s,w=T(s,["fill"]);return(0,n.h)(c.l,S(P({},w),{name:"PodcastEmbedPlayIcon",svgParams:{width:14,height:16,viewBox:"0 0 14 16",stroke:"none",fill:_}}),(0,n.h)("path",{d:"M12.8563 6.71384C13.8273 7.29645 13.8273 8.70372 12.8563 9.28632L2.27174 15.637C1.27196 16.2369 1.11076e-07 15.5167 1.62041e-07 14.3508L7.17238e-07 1.64937C7.68203e-07 0.483426 1.27196 -0.236744 2.27174 0.363129L12.8563 6.71384Z"}))}},40353:(j,l,e)=>{"use strict";e.d(l,{Z:()=>i});var n=e(6400),c=e(83322),u=e(34755),v=Object.defineProperty,O=Object.defineProperties,y=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(s,_,w)=>_ in s?v(s,_,{enumerable:!0,configurable:!0,writable:!0,value:w}):s[_]=w,S=(s,_)=>{for(var w in _||(_={}))d.call(_,w)&&P(s,w,_[w]);if(E)for(var w of E(_))g.call(_,w)&&P(s,w,_[w]);return s},T=(s,_)=>O(s,y(_)),C=(s,_)=>{var w={};for(var x in s)d.call(s,x)&&_.indexOf(x)<0&&(w[x]=s[x]);if(s!=null&&E)for(var x of E(s))_.indexOf(x)<0&&g.call(s,x)&&(w[x]=s[x]);return w};function p(s){var _=s,{fill:w="#FF6719"}=_,x=C(_,["fill"]);const D=(0,c.colorLuma)(w)>.6?"black":"white";return(0,n.h)(u.l,T(S({},x),{name:"ChatAuthorBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"}),(0,n.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:w,stroke:"none"}),(0,n.h)("path",{d:"M9.84352 8.31607L9.64777 7.35366C9.59747 7.10633 9.78649 6.875 10.0389 6.875H15.8759C16.1745 6.875 16.3982 7.14873 16.3387 7.44138L16.1727 8.2575C16.1279 8.47753 15.9344 8.63563 15.7099 8.63563H10.2346C10.0449 8.63563 9.88134 8.50202 9.84352 8.31607Z",fill:D,stroke:"none"}),(0,n.h)("path",{d:"M8.72625 13.1254C9.81068 11.9596 10.4671 10.5266 10.6954 9.63411C10.7386 9.46553 10.8862 9.33993 11.0602 9.33993H14.9445C15.1185 9.33993 15.2661 9.46553 15.3092 9.63411C15.5376 10.5266 16.194 11.9596 17.2784 13.1254C17.3975 13.2535 17.4147 13.4481 17.3129 13.5903L13.3526 19.1241V14.2238C13.9461 14.0661 14.3842 13.5156 14.3842 12.8607C14.3842 12.0828 13.7661 11.4522 13.0035 11.4522C12.241 11.4522 11.6228 12.0828 11.6228 12.8607C11.6228 13.5149 12.06 14.0649 12.6526 14.2233L12.6526 19.125L8.6917 13.5903C8.58991 13.4481 8.60713 13.2535 8.72625 13.1254Z",fill:D,stroke:"none"}),(0,n.h)("path",{d:"M12.4845 12.8611C12.4845 12.5694 12.7163 12.3329 13.0022 12.3329C13.2882 12.3329 13.52 12.5694 13.52 12.8611C13.52 13.1528 13.2882 13.3893 13.0022 13.3893C12.7163 13.3893 12.4845 13.1528 12.4845 12.8611Z",fill:D,stroke:"none"}))}const i=p},57173:(j,l,e)=>{"use strict";e.d(l,{A:()=>v});var n=e(6400),c=e(5707),u=e(34755);function v({className:y,type:E,accentColor:d}){return(0,n.h)(u.l,{name:"ReaderBadgeIcon",className:y,svgParams:{width:22,height:22,viewBox:"0 0 22 22"},fill:"none",stroke:"none",strokeWidth:1},(0,n.h)("circle",{cx:"11",cy:"11",r:"11",fill:"var(--color-bg-primary)"}),(0,n.h)("circle",{cx:"11",cy:"11",r:"9",fill:d||c.H}),E==="subscribed"?(0,n.h)(n.Fragment,null,(0,n.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 12.926 12.9255)",stroke:"white"}),(0,n.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 9.07543 9.07503)",stroke:"white"}),(0,n.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 9.05152 12.9494)",stroke:"white"}),(0,n.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 12.95 9.05009)",stroke:"white"})):(0,n.h)(n.Fragment,null,(0,n.h)("path",{d:"M11.9018 10.3229C11.9018 12.2029 10.3777 13.7269 8.49775 13.7269C6.61777 13.7269 5.09375 12.2029 5.09375 10.3229C5.09375 8.44296 6.61777 6.91894 8.49775 6.91894C10.3777 6.91894 11.9018 8.44296 11.9018 10.3229Z",stroke:"white"}),(0,n.h)("path",{d:"M12.8178 13.4959C12.8178 15.3759 11.2938 16.8999 9.41377 16.8999C7.5338 16.8999 6.00977 15.3759 6.00977 13.4959C6.00977 11.6159 7.5338 10.0919 9.41377 10.0919C11.2938 10.0919 12.8178 11.6159 12.8178 13.4959Z",stroke:"white"}),(0,n.h)("path",{d:"M15.9564 13.503C15.9564 15.383 14.4324 16.907 12.5524 16.907C10.6725 16.907 9.14844 15.383 9.14844 13.503C9.14844 11.623 10.6725 10.099 12.5524 10.099C14.4324 10.099 15.9564 11.623 15.9564 13.503Z",stroke:"white"}),(0,n.h)("path",{d:"M14.4047 8.49824C14.4047 10.3782 12.8807 11.9022 11.0007 11.9022C9.1207 11.9022 7.59668 10.3782 7.59668 8.49824C7.59668 6.61826 9.1207 5.09424 11.0007 5.09424C12.8807 5.09424 14.4047 6.61826 14.4047 8.49824Z",stroke:"white"}),(0,n.h)("path",{d:"M16.9066 10.3229C16.9066 12.2029 15.3826 13.7269 13.5026 13.7269C11.6227 13.7269 10.0986 12.2029 10.0986 10.3229C10.0986 8.44296 11.6227 6.91894 13.5026 6.91894C15.3826 6.91894 16.9066 8.44296 16.9066 10.3229Z",stroke:"white"})))}var O=null},7370:(j,l,e)=>{"use strict";e.d(l,{Z:()=>S});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,E=(T,C,p)=>C in T?u(T,C,{enumerable:!0,configurable:!0,writable:!0,value:p}):T[C]=p,d=(T,C)=>{for(var p in C||(C={}))O.call(C,p)&&E(T,p,C[p]);if(v)for(var p of v(C))y.call(C,p)&&E(T,p,C[p]);return T},g=(T,C)=>{var p={};for(var i in T)O.call(T,i)&&C.indexOf(i)<0&&(p[i]=T[i]);if(T!=null&&v)for(var i of v(T))C.indexOf(i)<0&&y.call(T,i)&&(p[i]=T[i]);return p};function P(T){var C=g(T,[]);return(0,n.h)(c.l,d({name:"ReaderFoundingSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},C),(0,n.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,n.h)("path",{d:"M14.0019 12.2471C14.0019 14.3359 12.3086 16.0293 10.2197 16.0293C8.13086 16.0293 6.4375 14.3359 6.4375 12.2471C6.4375 10.1582 8.13086 8.46484 10.2197 8.46484C12.3086 8.46484 14.0019 10.1582 14.0019 12.2471Z",stroke:"#333333","stroke-width":"1.25"}),(0,n.h)("path",{d:"M15.0215 15.7744C15.0215 17.8633 13.3281 19.5566 11.2393 19.5566C9.1504 19.5566 7.45704 17.8633 7.45704 15.7744C7.45704 13.6855 9.1504 11.9922 11.2393 11.9922C13.3281 11.9922 15.0215 13.6855 15.0215 15.7744Z",stroke:"#333333","stroke-width":"1.25"}),(0,n.h)("path",{d:"M18.5059 15.7822C18.5059 17.8711 16.8125 19.5644 14.7236 19.5644C12.6348 19.5644 10.9414 17.8711 10.9414 15.7822C10.9414 13.6934 12.6348 12 14.7236 12C16.8125 12 18.5059 13.6934 18.5059 15.7822Z",stroke:"#333333","stroke-width":"1.25"}),(0,n.h)("path",{d:"M16.7832 10.2197C16.7832 12.3086 15.0898 14.0019 13.001 14.0019C10.9121 14.0019 9.21875 12.3086 9.21875 10.2197C9.21875 8.13086 10.9121 6.4375 13.001 6.4375C15.0898 6.4375 16.7832 8.13086 16.7832 10.2197Z",stroke:"#333333","stroke-width":"1.25"}),(0,n.h)("path",{d:"M19.5645 12.2471C19.5645 14.3359 17.8711 16.0293 15.7822 16.0293C13.6934 16.0293 12 14.3359 12 12.2471C12 10.1582 13.6934 8.46484 15.7822 8.46484C17.8711 8.46484 19.5645 10.1582 19.5645 12.2471Z",stroke:"#333333","stroke-width":"1.25"}))}const S=P},85362:(j,l,e)=>{"use strict";e.d(l,{Z:()=>S});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,E=(T,C,p)=>C in T?u(T,C,{enumerable:!0,configurable:!0,writable:!0,value:p}):T[C]=p,d=(T,C)=>{for(var p in C||(C={}))O.call(C,p)&&E(T,p,C[p]);if(v)for(var p of v(C))y.call(C,p)&&E(T,p,C[p]);return T},g=(T,C)=>{var p={};for(var i in T)O.call(T,i)&&C.indexOf(i)<0&&(p[i]=T[i]);if(T!=null&&v)for(var i of v(T))C.indexOf(i)<0&&y.call(T,i)&&(p[i]=T[i]);return p};function P(T){var C=g(T,[]);return(0,n.h)(c.l,d({name:"ReaderPaidSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},C),(0,n.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,n.h)("g",{"clip-path":"url(#clip0_24306_47333)"},(0,n.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 10.8867 15.1641)",stroke:"#333333","stroke-width":"1.25"}),(0,n.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 6.60938 10.8867)",stroke:"#333333","stroke-width":"1.25"}),(0,n.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 15.082 15.1367)",stroke:"#333333","stroke-width":"1.25"}),(0,n.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 19.4141 10.8047)",stroke:"#333333","stroke-width":"1.25"})),(0,n.h)("defs",null,(0,n.h)("clipPath",{id:"clip0_24306_47333"},(0,n.h)("rect",{width:"14",height:"14",fill:"white",transform:"translate(6 6)",stroke:"none"}))))}const S=P},65665:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"RedditIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 256 256"}}),(0,n.h)("g",{style:"stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;",transform:"translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"},(0,n.h)("circle",{cx:"45",cy:"45",r:"45",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,69,0); fill-rule: nonzero; opacity: 1;",transform:"  matrix(1 0 0 1 0 0) "}),(0,n.h)("path",{d:"M 75.011 45 c -0.134 -3.624 -3.177 -6.454 -6.812 -6.331 c -1.611 0.056 -3.143 0.716 -4.306 1.823 c -5.123 -3.49 -11.141 -5.403 -17.327 -5.537 l 2.919 -14.038 l 9.631 2.025 c 0.268 2.472 2.483 4.262 4.955 3.993 c 2.472 -0.268 4.262 -2.483 3.993 -4.955 s -2.483 -4.262 -4.955 -3.993 c -1.421 0.145 -2.696 0.973 -3.4 2.204 L 48.68 17.987 c -0.749 -0.168 -1.499 0.302 -1.667 1.063 c 0 0.011 0 0.011 0 0.022 l -3.322 15.615 c -6.264 0.101 -12.36 2.025 -17.55 5.537 c -2.64 -2.483 -6.801 -2.36 -9.284 0.291 c -2.483 2.64 -2.36 6.801 0.291 9.284 c 0.515 0.481 1.107 0.895 1.767 1.186 c -0.045 0.66 -0.045 1.32 0 1.98 c 0 10.078 11.745 18.277 26.23 18.277 c 14.485 0 26.23 -8.188 26.23 -18.277 c 0.045 -0.66 0.045 -1.32 0 -1.98 C 73.635 49.855 75.056 47.528 75.011 45 z M 30.011 49.508 c 0 -2.483 2.025 -4.508 4.508 -4.508 c 2.483 0 4.508 2.025 4.508 4.508 s -2.025 4.508 -4.508 4.508 C 32.025 53.993 30.011 51.991 30.011 49.508 z M 56.152 62.058 v -0.179 c -3.199 2.405 -7.114 3.635 -11.119 3.468 c -4.005 0.168 -7.919 -1.063 -11.119 -3.468 c -0.425 -0.515 -0.347 -1.286 0.168 -1.711 c 0.447 -0.369 1.085 -0.369 1.544 0 c 2.707 1.98 6.007 2.987 9.362 2.83 c 3.356 0.179 6.667 -0.783 9.407 -2.74 c 0.492 -0.481 1.297 -0.47 1.779 0.022 C 56.655 60.772 56.644 61.577 56.152 62.058 z M 55.537 54.34 c -0.078 0 -0.145 0 -0.224 0 l 0.034 -0.168 c -2.483 0 -4.508 -2.025 -4.508 -4.508 s 2.025 -4.508 4.508 -4.508 s 4.508 2.025 4.508 4.508 C 59.955 52.148 58.02 54.239 55.537 54.34 z",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;",transform:" matrix(1 0 0 1 0 0) ","stroke-linecap":"round"})))},27247:(j,l,e)=>{"use strict";e.d(l,{Z:()=>p});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(i,s,_)=>s in i?u(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,P=(i,s)=>{for(var _ in s||(s={}))E.call(s,_)&&g(i,_,s[_]);if(y)for(var _ of y(s))d.call(s,_)&&g(i,_,s[_]);return i},S=(i,s)=>v(i,O(s)),T=(i,s)=>{var _={};for(var w in i)E.call(i,w)&&s.indexOf(w)<0&&(_[w]=i[w]);if(i!=null&&y)for(var w of y(i))s.indexOf(w)<0&&d.call(i,w)&&(_[w]=i[w]);return _};const p=i=>{var s=i,{color:_="white"}=s,w=T(s,["color"]);return(0,n.h)(c.l,S(P({},w),{name:"RoundedSquareOutline",svgParams:{height:24,width:24,stroke:_,fill:"none"}}),(0,n.h)("path",{d:"M19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3Z"}))}},7775:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"ShareCopyLinkIcon",svgParams:{height:16,width:20}}),(0,n.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.1303 0.000379039C10.9833 -0.00959082 9.87819 0.431464 9.05309 1.22855L9.04556 1.23593L7.79145 2.48303C7.50587 2.767 7.50453 3.22877 7.78844 3.51441C8.07235 3.80004 8.53401 3.80139 8.81959 3.51741L10.0698 2.27423C10.6194 1.74503 11.3546 1.45229 12.1177 1.45892C12.8824 1.46556 13.6139 1.77236 14.1546 2.31323C14.6954 2.8541 15.0021 3.58577 15.0087 4.35065C15.0154 5.11353 14.7229 5.84857 14.1943 6.39829L12.0116 8.58145L12.0115 8.58155C11.7159 8.87739 11.36 9.10617 10.9682 9.25237C10.5764 9.39857 10.1577 9.45878 9.74051 9.42889C9.32337 9.39901 8.91752 9.27975 8.55051 9.07918C8.1835 8.87862 7.8639 8.60146 7.6134 8.26649C7.3722 7.94396 6.91526 7.87807 6.5928 8.11933C6.27034 8.36059 6.20447 8.81763 6.44567 9.14016C6.82142 9.64261 7.30082 10.0584 7.85134 10.3592C8.40186 10.66 9.01062 10.8389 9.63634 10.8838C10.2621 10.9286 10.8901 10.8383 11.4779 10.619C12.0656 10.3997 12.5994 10.0565 13.0429 9.61274L15.2302 7.42494L15.2391 7.4159C16.036 6.59062 16.4769 5.48529 16.467 4.33797C16.457 3.19066 15.9969 2.09316 15.1858 1.28185C14.3746 0.470545 13.2774 0.0103489 12.1303 0.000379039ZM7.29806 5.11625C6.67234 5.07142 6.0443 5.16173 5.45654 5.38103C4.86882 5.60031 4.33502 5.94355 3.89153 6.38727L1.70423 8.57506L1.69534 8.5841C0.898438 9.40939 0.457483 10.5147 0.467451 11.662C0.477418 12.8094 0.937512 13.9069 1.74864 14.7182C2.55976 15.5295 3.65701 15.9897 4.80407 15.9996C5.95113 16.0096 7.05622 15.5685 7.88132 14.7715L7.89035 14.7626L9.13717 13.5155C9.42192 13.2307 9.42192 12.7689 9.13717 12.4841C8.85243 12.1993 8.39077 12.1993 8.10602 12.4841L6.86392 13.7265C6.31432 14.2552 5.57945 14.5477 4.81675 14.5411C4.05204 14.5344 3.32054 14.2276 2.77979 13.6868C2.23904 13.1459 1.93231 12.4142 1.92566 11.6494C1.91904 10.8865 2.21146 10.1514 2.74011 9.60172L4.92287 7.41846C5.21854 7.12262 5.57437 6.89384 5.96621 6.74763C6.35805 6.60143 6.77674 6.54123 7.19389 6.57111C7.61104 6.601 8.01688 6.72026 8.38389 6.92082C8.75091 7.12138 9.0705 7.39855 9.32101 7.73352C9.56221 8.05605 10.0191 8.12194 10.3416 7.88068C10.6641 7.63942 10.7299 7.18238 10.4887 6.85985C10.113 6.3574 9.63359 5.94165 9.08307 5.64081C8.53255 5.33997 7.92378 5.16107 7.29806 5.11625Z"}))},74957:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"ShareEmailIcon",svgParams:{height:16,width:21}}),(0,n.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.22192 2.20503C2.36754 1.77115 2.78269 1.45455 3.26639 1.45455H17.9332C18.4169 1.45455 18.8321 1.77118 18.9777 2.2051L10.5999 8.02107L2.22192 2.20503ZM2.16639 3.94198V13.4545C2.16639 14.0529 2.66307 14.5455 3.26639 14.5455H17.9332C18.5365 14.5455 19.0332 14.0529 19.0332 13.4545V3.94206L11.0204 9.50462C10.7679 9.67991 10.4318 9.67991 10.1793 9.50462L2.16639 3.94198ZM20.4999 2.55809V13.4545C20.4999 14.8562 19.3465 16 17.9332 16H3.26639C1.85304 16 0.699707 14.8562 0.699707 13.4545V2.54545C0.699707 1.14379 1.85304 0 3.26639 0H17.9332C19.3407 0 20.4904 1.13441 20.4998 2.52818C20.5 2.53816 20.5001 2.54813 20.4999 2.55809Z"}))},41874:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"ShareFacebookIcon",svgParams:{height:17,width:16}}),(0,n.h)("path",{d:"M10.6543 1.38723C10.3533 0.960814 9.95383 0.61341 9.48976 0.374567C9.02902 0.137956 8.51908 0.0130716 8.00115 0.0100098C7.86087 0.0101844 7.72354 0.0502687 7.60519 0.125581C7.48684 0.200893 7.39237 0.308324 7.3328 0.435326L5.00368 5.67077H3.029C2.72335 5.66964 2.42059 5.73003 2.13876 5.84833C1.85692 5.96663 1.60177 6.14043 1.38849 6.35938C1.16707 6.57502 0.991841 6.83346 0.873459 7.11897C0.755078 7.40447 0.696022 7.71108 0.699885 8.02014V13.691C0.699885 14.3087 0.945273 14.9012 1.38207 15.338C1.81886 15.7747 2.41128 16.0201 3.029 16.0201H13.348C13.8951 16.021 14.425 15.8283 14.8438 15.4762C15.2626 15.1241 15.5434 14.6352 15.6366 14.0961L16.6493 8.4252C16.7252 8.09192 16.7252 7.74582 16.6493 7.41254C16.566 7.08205 16.4104 6.7742 16.1936 6.51128C15.9746 6.25 15.7017 6.03926 15.3936 5.89355C15.0762 5.7467 14.7306 5.67068 14.3809 5.67077H10.5328L11.0391 4.37457C11.2397 3.88784 11.3162 3.35894 11.2619 2.83533C11.1853 2.30894 10.9763 1.81065 10.6543 1.38723ZM4.75052 14.5518H3.029C2.91049 14.5525 2.79303 14.5296 2.68349 14.4844C2.57394 14.4392 2.47452 14.3726 2.39102 14.2885C2.23609 14.1199 2.14945 13.8997 2.14799 13.6708V8.02014C2.14913 7.901 2.17389 7.78328 2.22082 7.67377C2.26775 7.56427 2.33592 7.46515 2.4214 7.38216C2.50369 7.29576 2.60267 7.22698 2.71233 7.17998C2.822 7.13298 2.94007 7.10874 3.05938 7.10874H4.7809L4.75052 14.5518ZM10.6746 7.05811H14.3809C14.5145 7.05821 14.6462 7.08942 14.7657 7.14925C14.8875 7.20532 14.9948 7.28845 15.0796 7.39229C15.1675 7.49052 15.2301 7.60871 15.2619 7.73659C15.2922 7.8665 15.2922 8.00162 15.2619 8.13153L14.2493 13.8024C14.2087 14.017 14.094 14.2106 13.9252 14.3492C13.7619 14.4812 13.558 14.5528 13.348 14.5518H6.19862V6.45052L8.43659 1.38723H8.52773C8.9042 1.50037 9.23304 1.73413 9.4636 2.05252C9.69416 2.37092 9.81365 2.75627 9.80368 3.14925C9.8181 3.39741 9.78015 3.64583 9.69229 3.87836L9.23659 5.04292C9.15397 5.273 9.12623 5.51921 9.15558 5.76191C9.1877 6.00427 9.27425 6.23623 9.40875 6.44039C9.5535 6.6376 9.74028 6.80017 9.95558 6.91634C10.1774 7.03206 10.4244 7.0912 10.6746 7.08849V7.05811Z"}))},68227:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"ShareFbIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,n.h)("g",{"clip-path":"url(#clip0_14802_325807)"},(0,n.h)("path",{d:"M11.9993 23.9949C12.6415 23.9949 13.272 23.9444 13.8869 23.8473L19 15L19.5 5L12.5 2L4.5 12.5L10.1117 23.8473C10.7266 23.9444 11.357 23.9949 11.9993 23.9949Z",fill:"white",stroke:"none"}),(0,n.h)("path",{d:"M11.9977 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1778F2",stroke:"none"})),(0,n.h)("defs",null,(0,n.h)("clipPath",{id:"clip0_14802_325807"},(0,n.h)("rect",{width:"24",height:"24",fill:"white"}))))},36543:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"ShareInstagramIcon",svgParams:{height:1e3,width:1e3}}),(0,n.h)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape",width:"1000",height:"1000",viewBox:"0 0 264.5833 264.5833","inkscape:version":"1.0.1 (3bc2e813f5, 2020-09-07)","sodipodi:docname":"Instagram_(2022).svg"},(0,n.h)("defs",null,(0,n.h)("radialGradient",{id:"f",cx:"158.429",cy:"578.088",r:"52.3515","xlink:href":"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -4.03418 4.28018 0 -2332.2273 942.2356)",fx:"158.429",fy:"578.088"}),(0,n.h)("radialGradient",{"inkscape:collect":"always","xlink:href":"#b",id:"g",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.67441 -1.16203 1.51283 .87801 -814.3657 -47.8354)",cx:"172.6149",cy:"600.6924",fx:"172.6149",fy:"600.6924",r:"65"}),(0,n.h)("radialGradient",{"inkscape:collect":"always","xlink:href":"#c",id:"h",cx:"144.012",cy:"51.3367",fx:"144.012",fy:"51.3367",r:"67.081",gradientTransform:"matrix(-2.3989 .67549 -.23008 -.81732 464.9957 -26.4035)",gradientUnits:"userSpaceOnUse"}),(0,n.h)("radialGradient",{"inkscape:collect":"always","xlink:href":"#d",id:"e",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(-3.10797 .87652 -.6315 -2.23914 1345.6503 1374.1983)",cx:"199.7884",cy:"628.4379",fx:"199.7884",fy:"628.4379",r:"52.3515"}),(0,n.h)("linearGradient",{"inkscape:collect":"always",id:"d"},(0,n.h)("stop",{offset:"0","stop-color":"#ff005f"}),(0,n.h)("stop",{offset:"1","stop-color":"#fc01d8"})),(0,n.h)("linearGradient",{id:"c"},(0,n.h)("stop",{offset:"0","stop-color":"#780cff"}),(0,n.h)("stop",{"stop-color":"#820bff",offset:"1","stop-opacity":"0"})),(0,n.h)("linearGradient",{"inkscape:collect":"always",id:"b"},(0,n.h)("stop",{offset:"0","stop-color":"#fc0"}),(0,n.h)("stop",{offset:"1","stop-color":"#fc0","stop-opacity":"0"})),(0,n.h)("linearGradient",{id:"a"},(0,n.h)("stop",{offset:"0","stop-color":"#fc0"}),(0,n.h)("stop",{offset:".1242","stop-color":"#fc0"}),(0,n.h)("stop",{offset:".5672","stop-color":"#fe4a05"}),(0,n.h)("stop",{offset:".6942","stop-color":"#ff0f3f"}),(0,n.h)("stop",{offset:"1","stop-color":"#fe0657","stop-opacity":"0"})),(0,n.h)("clipPath",{id:"clipCircle"},(0,n.h)("circle",{cx:"132",cy:"132",r:"132",fill:"#FFFFFF",stroke:"#000000"}))),(0,n.h)("g",null),(0,n.h)("g",{"inkscape:groupmode":"layer","clip-path":"url(#clipCircle)"},(0,n.h)("path",{d:"     M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#e)",transform:" translate(-71.8155 -18.1429)"}),(0,n.h)("path",{d:" M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#f)",transform:" translate(-71.8155 -18.1429)"}),(0,n.h)("path",{d:" M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#g)",transform:" translate(-71.8155 -18.1429)"}),(0,n.h)("path",{d:" M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#h)",transform:" translate(-71.8155 -18.1429)"}),(0,n.h)("path",{d:" M132.3452 33.973c-26.7167 0-30.0696.1167-40.5629.5939-10.4727.4792-17.6212 2.136-23.8762 4.567-6.4701 2.5107-11.9586 5.8693-17.4265 11.3352-5.472 5.464-8.8332 10.9483-11.354 17.4116-2.4389 6.2524-4.099 13.3976-4.5703 23.8585-.4693 10.4854-.5923 13.8379-.5923 40.5348 0 26.697.1189 30.0371.5943 40.5225.4817 10.465 2.1397 17.6082 4.5703 23.8585 2.5147 6.4654 5.8758 11.9497 11.3458 17.4136 5.466 5.468 10.9544 8.8349 17.4204 11.3456 6.259 2.4309 13.4097 4.0877 23.8803 4.567 10.4933.477 13.8441.5938 40.5588.5938 26.7188 0 30.0615-.1167 40.5547-.5939 10.4728-.4792 17.6295-2.136 23.8885-4.567 6.4681-2.5106 11.9484-5.8775 17.4143-11.3455 5.472-5.4639 8.8332-10.9482 11.354-17.4115 2.4183-6.2524 4.0784-13.3976 4.5703-23.8585.4713-10.4854.5943-13.8277.5943-40.5246 0-26.697-.123-30.0473-.5943-40.5328-.4919-10.465-2.152-17.6081-4.5703-23.8584-2.5208-6.4654-5.882-11.9498-11.354-17.4137-5.4721-5.468-10.9442-8.8266-17.4204-11.3353-6.2714-2.4309-13.424-4.0877-23.8967-4.5669-10.4933-.4772-13.8339-.5939-40.5588-.5939zm-8.825 17.7147c2.6193-.0041 5.5418 0 8.825 0 26.2659 0 29.379.0942 39.7513.5652 9.5915.4383 14.7971 2.0397 18.2648 3.3852 4.5908 1.7817 7.8638 3.9116 11.3048 7.3521 3.4431 3.4406 5.5745 6.7173 7.3617 11.3046 1.3465 3.461 2.9512 8.6628 3.3877 18.2472.4714 10.3625.5739 13.4754.5739 39.7095 0 26.234-.1025 29.347-.5739 39.7095-.4386 9.5843-2.0412 14.7861-3.3877 18.2471-1.783 4.5874-3.9186 7.8539-7.3617 11.2923-3.443 3.4406-6.712 5.5704-11.3048 7.3521-3.4636 1.3517-8.6733 2.949-18.2648 3.3873-10.3702.471-13.4854.5734-39.7513.5734-26.2679 0-29.381-.1024-39.7513-.5734-9.5914-.4423-14.797-2.0438-18.2668-3.3893-4.5908-1.7817-7.87-3.9116-11.313-7.3521-3.4431-3.4405-5.5745-6.709-7.3617-11.2985-1.3465-3.461-2.9512-8.6628-3.3877-18.2471-.4714-10.3626-.5657-13.4754-.5657-39.7259 0-26.2504.0943-29.347.5657-39.7095.4386-9.5844 2.0412-14.7861 3.3877-18.2512 1.783-4.5874 3.9186-7.8641 7.3617-11.3046 3.443-3.4406 6.7222-5.5704 11.313-7.3562 3.4677-1.3517 8.6754-2.949 18.2668-3.3894 9.075-.4096 12.5919-.5324 30.9264-.553zm61.3363 16.322c-6.5173 0-11.805 5.2776-11.805 11.792 0 6.5125 5.2877 11.7962 11.805 11.7962 6.5172 0 11.8049-5.2837 11.8049-11.7962 0-6.5124-5.2877-11.796-11.805-11.796zm-52.5113 13.7826c-27.8993 0-50.5191 22.6031-50.5191 50.4817 0 27.8786 22.6198 50.4714 50.5191 50.4714s50.511-22.5928 50.511-50.4714c0-27.8786-22.6137-50.4817-50.513-50.4817zm0 17.7147c18.109 0 32.7914 14.6694 32.7914 32.767 0 18.0956-14.6824 32.767-32.7914 32.767-18.111 0-32.7913-14.6714-32.7913-32.767 0-18.0976 14.6803-32.767 32.7913-32.767z","inkscape:connector-curvature":" 0",fill:" #fff"}))))},17835:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"ShareLinkedinIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,n.h)("rect",{width:"24",height:"24",rx:"12",fill:"#2867B2",stroke:"none"}),(0,n.h)("path",{d:"M8.68323 17H6.07143V9.79229H8.68323V17ZM7.33126 8.47122C6.53313 8.47122 6 7.94196 6 7.23561C6 6.52925 6.53209 6 7.41925 6C8.21739 6 8.75052 6.52925 8.75052 7.23561C8.75052 7.94196 8.21843 8.47122 7.33126 8.47122ZM18 17H15.472V13.0605C15.472 11.9711 14.7981 11.7198 14.5455 11.7198C14.293 11.7198 13.4503 11.8877 13.4503 13.0605C13.4503 13.2283 13.4503 17 13.4503 17H10.8385V9.79229H13.4503V10.7983C13.7867 10.2114 14.4607 9.79229 15.7246 9.79229C16.9886 9.79229 18 10.7983 18 13.0605V17Z",fill:"white",stroke:"none"}))},9e3:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"ShareSubstackIconCircle",svgParams:{height:24,width:24,viewBox:"0 0 24 24",fill:"none",stroke:"none"}}),(0,n.h)("g",{"clip-path":"url(#clip0_23936_14598)"},(0,n.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"url(#paint0_linear_23936_14598)",stroke:"none"}),(0,n.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.90625 6.35134C6.90625 6.1573 7.06355 6 7.25759 6H16.7438C16.9379 6 17.0952 6.1573 17.0952 6.35134V7.39628H6.90625V6.35134ZM6.90625 8.79273H17.0952V10.1897H6.90625V8.79273ZM6.90625 11.5861V18.3238C6.90625 18.6083 7.22661 18.7748 7.45943 18.6114L11.7989 15.5657C11.92 15.4807 12.0814 15.4807 12.2026 15.5657L16.542 18.6114C16.7748 18.7748 17.0952 18.6083 17.0952 18.3238V11.5861H6.90625Z",fill:"white",stroke:"none"})),(0,n.h)("defs",null,(0,n.h)("linearGradient",{id:"paint0_linear_23936_14598",x1:"12",y1:"0",x2:"12",y2:"24",gradientUnits:"userSpaceOnUse"},(0,n.h)("stop",{"stop-color":"#FF6719"}),(0,n.h)("stop",{offset:"0.0001","stop-color":"#FF742D"}),(0,n.h)("stop",{offset:"0.197917","stop-color":"#FF6719"}),(0,n.h)("stop",{offset:"1","stop-color":"#FF5E19"})),(0,n.h)("clipPath",{id:"clip0_23936_14598"},(0,n.h)("rect",{width:"24",height:"24",fill:"white"}))))},66839:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"ShareTwitterIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,n.h)("g",{"clip-path":"url(#clip0_14802_325810)"},(0,n.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"#1DA1F2",stroke:"none"}),(0,n.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.573 6.28855C19.1372 6.5863 18.1365 7.01904 17.643 7.01904V7.0199C17.0795 6.392 16.2862 6 15.4064 6C13.6975 6 12.3119 7.47805 12.3119 9.3001C12.3119 9.55323 12.3393 9.80017 12.3902 10.037C10.0722 9.9721 7.5365 8.73282 6.01036 6.61176C5.072 8.34417 5.88398 10.2709 6.94882 10.973C6.58432 11.0023 5.91334 10.9282 5.59748 10.5995C5.57632 11.7494 6.09468 13.2729 7.98468 13.8256C7.62066 14.0345 6.97636 13.9746 6.69618 13.9301C6.79448 14.9008 8.06884 16.1698 9.46234 16.1698C8.96568 16.7826 7.097 17.894 5 17.5404C6.42414 18.4647 8.084 19 9.84082 19C14.8334 19 18.7105 14.6841 18.5018 9.3598C18.501 9.35395 18.501 9.3481 18.5005 9.3417C18.501 9.328 18.5018 9.3143 18.5018 9.3001C18.5018 9.28353 18.5005 9.26793 18.5 9.2519C18.9545 8.92034 19.5644 8.33388 20 7.56195C19.7474 7.71042 18.9893 8.00763 18.284 8.08141C18.7367 7.82081 19.4073 6.96731 19.573 6.28855Z",fill:"white",stroke:"none"})),(0,n.h)("defs",null,(0,n.h)("clipPath",{id:"clip0_14802_325810"},(0,n.h)("rect",{width:"24",height:"24",fill:"white"}))))},15516:(j,l,e)=>{"use strict";e.d(l,{Z:()=>s});var n=e(6400),c=e(89018),u=e.n(c),v=e(34755),O=Object.defineProperty,y=Object.defineProperties,E=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,S=(_,w,x)=>w in _?O(_,w,{enumerable:!0,configurable:!0,writable:!0,value:x}):_[w]=x,T=(_,w)=>{for(var x in w||(w={}))g.call(w,x)&&S(_,x,w[x]);if(d)for(var x of d(w))P.call(w,x)&&S(_,x,w[x]);return _},C=(_,w)=>y(_,E(w)),p=(_,w)=>{var x={};for(var D in _)g.call(_,D)&&w.indexOf(D)<0&&(x[D]=_[D]);if(_!=null&&d)for(var D of d(_))w.indexOf(D)<0&&P.call(_,D)&&(x[D]=_[D]);return x};const s=_=>{var w=_,{svgParams:x}=w,D=p(w,["svgParams"]);return(0,n.h)(v.l,C(T({},D),{name:"SubstackIcon",svgParams:T({height:1e3,width:1e3,fill:c.substack_color,stroke:"none"},x)}),(0,n.h)("path",{d:"M764.166 348.371H236.319V419.402H764.166V348.371Z"}),(0,n.h)("path",{d:"M236.319 483.752V813.999L500.231 666.512L764.19 813.999V483.752H236.319Z"}),(0,n.h)("path",{d:"M764.166 213H236.319V284.019H764.166V213Z"}))}},33705:(j,l,e)=>{"use strict";e.d(l,{Z:()=>s});var n=e(6400),c=e(89018),u=e.n(c),v=e(34755),O=Object.defineProperty,y=Object.defineProperties,E=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,S=(_,w,x)=>w in _?O(_,w,{enumerable:!0,configurable:!0,writable:!0,value:x}):_[w]=x,T=(_,w)=>{for(var x in w||(w={}))g.call(w,x)&&S(_,x,w[x]);if(d)for(var x of d(w))P.call(w,x)&&S(_,x,w[x]);return _},C=(_,w)=>y(_,E(w)),p=(_,w)=>{var x={};for(var D in _)g.call(_,D)&&w.indexOf(D)<0&&(x[D]=_[D]);if(_!=null&&d)for(var D of d(_))w.indexOf(D)<0&&P.call(_,D)&&(x[D]=_[D]);return x};const s=_=>{var w=_,{color:x=c.substack_color}=w,D=p(w,["color"]);return(0,n.h)(v.l,C(T({},D),{name:"SubstackIconNoPadding",svgParams:{height:24,width:21,fill:x,stroke:"none"}}),(0,n.h)("path",{d:"M20.9991 5.40625H0V8.24275H20.9991V5.40625Z"}),(0,n.h)("path",{d:"M0 10.8125V24.0004L10.4991 18.1107L21 24.0004V10.8125H0Z"}),(0,n.h)("path",{d:"M20.9991 0H0V2.83603H20.9991V0Z"}))}},46209:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"SubstackLogoIcon",svgParams:{height:18,width:16,fill:"#ff6719",stroke:"none"}}),(0,n.h)("path",{d:"M16 4H0V6H16V4Z"}),(0,n.h)("path",{d:"M0 8V18L7.9993 13.534L16 18V8H0Z"}),(0,n.h)("path",{d:"M16 0H0V2H16V0Z"}))},1138:(j,l,e)=>{"use strict";e.d(l,{Z:()=>p});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(i,s,_)=>s in i?u(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,P=(i,s)=>{for(var _ in s||(s={}))E.call(s,_)&&g(i,_,s[_]);if(y)for(var _ of y(s))d.call(s,_)&&g(i,_,s[_]);return i},S=(i,s)=>v(i,O(s)),T=(i,s)=>{var _={};for(var w in i)E.call(i,w)&&s.indexOf(w)<0&&(_[w]=i[w]);if(i!=null&&y)for(var w of y(i))s.indexOf(w)<0&&d.call(i,w)&&(_[w]=i[w]);return _};const p=i=>{var s=i,{stroke:_,size:w=36}=s,x=T(s,["stroke","size"]);return(0,n.h)(c.l,S(P({},x),{name:"ThinCircleCheckmarkIcon2",svgParams:{viewBox:"0 0 36 36",height:w,width:w,fill:"none"}}),(0,n.h)("path",{d:"M34.6667 16.4666V17.9999C34.6646 21.594 33.5008 25.0911 31.3489 27.9696C29.1969 30.8482 26.1721 32.9541 22.7256 33.9731C19.279 34.9921 15.5954 34.8698 12.2241 33.6242C8.85279 32.3787 5.97441 30.0768 4.01825 27.0617C2.0621 24.0467 1.13297 20.48 1.36945 16.8938C1.60592 13.3075 2.99533 9.89381 5.33045 7.16173C7.66558 4.42964 10.8213 2.52557 14.327 1.73351C17.8326 0.941453 21.5004 1.30383 24.7833 2.7666",stroke:_||"#FB6542","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,n.h)("path",{transform:"translate(11.67, 3.34)",d:"M22.6667 1.66663L6 18.35L1 13.35",stroke:_||"#FB6542","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},95950:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"TwitterShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,n.h)("rect",{width:"512",height:"512",fill:"#1da1f2"}),(0,n.h)("path",{fill:"#fff",d:"M437 152a72 72 0 01-40 12a72 72 0 0032-40a72 72 0 01-45 17a72 72 0 00-122 65a200 200 0 01-145-74a72 72 0 0022 94a72 72 0 01-32-7a72 72 0 0056 69a72 72 0 01-32 1a72 72 0 0067 50a200 200 0 01-105 29a200 200 0 00309-179a200 200 0 0035-37"}))},51736:(j,l,e)=>{"use strict";e.d(l,{Z:()=>p});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(i,s,_)=>s in i?u(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,P=(i,s)=>{for(var _ in s||(s={}))E.call(s,_)&&g(i,_,s[_]);if(y)for(var _ of y(s))d.call(s,_)&&g(i,_,s[_]);return i},S=(i,s)=>v(i,O(s)),T=(i,s)=>{var _={};for(var w in i)E.call(i,w)&&s.indexOf(w)<0&&(_[w]=i[w]);if(i!=null&&y)for(var w of y(i))s.indexOf(w)<0&&d.call(i,w)&&(_[w]=i[w]);return _};const p=i=>{var s=i,{fill:_="#FF6719"}=s,w=T(s,["fill"]);return(0,n.h)(c.l,S(P({},w),{fill:_,name:"UserBadgeIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),(0,n.h)("path",{d:"M17.4385 1.2681C19.3988 0.456149 21.6012 0.45615 23.5615 1.2681L31.5807 4.58976C33.5409 5.40172 35.0983 6.95911 35.9102 8.91933L39.2319 16.9385C40.0439 18.8988 40.0439 21.1012 39.2319 23.0615L35.9102 31.0807C35.0983 33.0409 33.5409 34.5983 31.5807 35.4102L23.5615 38.7319C21.6012 39.5439 19.3988 39.5439 17.4385 38.7319L9.41933 35.4102C7.45911 34.5983 5.90171 33.0409 5.08976 31.0807L1.7681 23.0615C0.956149 21.1012 0.95615 18.8988 1.7681 16.9385L5.08976 8.91933C5.90172 6.95911 7.45911 5.40171 9.41933 4.58976L17.4385 1.2681Z",fill:_,stroke:"transparent"}),(0,n.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"white",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}))}},47052:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"UserBadgeOutlineIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),(0,n.h)("path",{d:"M17.8212 2.19198C19.5364 1.48152 21.4636 1.48152 23.1788 2.19198L31.198 5.51364C32.9132 6.2241 34.2759 7.58682 34.9864 9.30201L38.308 17.3212C39.0185 19.0364 39.0185 20.9636 38.308 22.6788L34.9864 30.698C34.2759 32.4132 32.9132 33.7759 31.198 34.4864L23.1788 37.808C21.4636 38.5185 19.5364 38.5185 17.8212 37.808L9.80201 34.4864C8.08682 33.7759 6.7241 32.4132 6.01364 30.698L2.69198 22.6788C1.98152 20.9636 1.98152 19.0364 2.69198 17.3212L6.01364 9.30201C6.7241 7.58682 8.08682 6.2241 9.80202 5.51364L17.8212 2.19198Z",stroke:"#FF6719",strokeWidth:"4",fill:"transparent"}),(0,n.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"#FF6719",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}))},81243:(j,l,e)=>{"use strict";e.d(l,{Z:()=>p});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(i,s,_)=>s in i?u(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,P=(i,s)=>{for(var _ in s||(s={}))E.call(s,_)&&g(i,_,s[_]);if(y)for(var _ of y(s))d.call(s,_)&&g(i,_,s[_]);return i},S=(i,s)=>v(i,O(s)),T=(i,s)=>{var _={};for(var w in i)E.call(i,w)&&s.indexOf(w)<0&&(_[w]=i[w]);if(i!=null&&y)for(var w of y(i))s.indexOf(w)<0&&d.call(i,w)&&(_[w]=i[w]);return _};const p=i=>{var s=i,{strokeWidth:_=1.5}=s,w=T(s,["strokeWidth"]);return(0,n.h)(c.l,S(P({},w),{name:"UserIcon",svgParams:{width:24,height:24,viewBox:"0 0 24 24",fill:"none"}}),(0,n.h)("path",{d:"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21","stroke-width":_,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,n.h)("path",{d:"M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z","stroke-width":_,"stroke-linecap":"round","stroke-linejoin":"round"}))}},17590:(j,l,e)=>{"use strict";e.d(l,{Z:()=>C});var n=e(6400),c=e(34755),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?u(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>v(p,O(i));const C=p=>(0,n.h)(c.l,S(P({},p),{name:"VoiceoverIcon",svgParams:{height:24,width:24,viewBox:"0 0 24 24"},fill:"none"}),(0,n.h)("path",{d:"M11.8518 3.31518C12.2459 4.26329 13.551 7.10985 14.4542 8.3467C15.3764 9.60967 12.8285 9.95184 12 10.5","stroke-width":"1.5","stroke-linecap":"round"}),(0,n.h)("path",{d:"M12 10.5C12 10.5 12.4662 11.2332 12.7627 11.7326C13.0592 12.232 13 12.5 11.5 13C10.7772 13.2409 9.5 13.5 9.5 13.5C10.3447 13.9272 12.2664 14.1393 12.4041 14.3167C12.763 14.779 12.3241 15.4618 11.8617 15.8208C11.3994 16.1797 12.0724 18.7353 10.5 19.5C8.9276 20.2647 5.70772 19.432 3 18","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,n.h)("path",{d:"M18.5 6.5L20.3544 4.8526","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,n.h)("path",{d:"M18.5 15.5L20.3544 17.2545","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,n.h)("path",{d:"M19.5 11.0326L22 11.0326","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))},34755:(j,l,e)=>{"use strict";e.d(l,{l:()=>S});var n=e(6400),c=e(15045),u=e(89867),v=Object.defineProperty,O=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,d=(T,C,p)=>C in T?v(T,C,{enumerable:!0,configurable:!0,writable:!0,value:p}):T[C]=p,g=(T,C)=>{for(var p in C||(C={}))y.call(C,p)&&d(T,p,C[p]);if(O)for(var p of O(C))E.call(C,p)&&d(T,p,C[p]);return T},P=(T,C)=>{var p={};for(var i in T)y.call(T,i)&&C.indexOf(i)<0&&(p[i]=T[i]);if(T!=null&&O)for(var i of O(T))C.indexOf(i)<0&&E.call(T,i)&&(p[i]=T[i]);return p};const S=T=>{var C=T,{name:p,svgParams:i,isStatic:s,height:_,fill:w,stroke:x,version:D=4,strokeWidth:N=1.8,strokeLinecap:I,strokeLinejoin:A,alt:M,additionalStaticParams:R={},children:F}=C,Z=P(C,["name","svgParams","isStatic","height","fill","stroke","version","strokeWidth","strokeLinecap","strokeLinejoin","alt","additionalStaticParams","children"]);const V=_?(i.width||1)*_/(i.height||1):i.width||1,G=_||i.height||1;return s?(0,n.h)(u.Z,g(g({src:(0,c.imginary)((0,c.pathWithQuery)(`/icon/${p}`,{v:D||4,height:G*2,fill:w,stroke:x,strokeWidth:N*2,strokeLinecap:I,strokeLinejoin:A}),V*2,{format:"png",crop:"scale"}),width:V,height:G,style:{maxWidth:`${V}px`},alt:M||""},R),Z)):(0,n.h)("svg",g({role:"img",style:_?{height:`${G}px`,width:`${V}px`}:void 0,width:V,height:G,viewBox:i.viewBox||`0 0 ${i.width} ${i.height}`,fill:w||i.fill||"none",strokeWidth:N||typeof N=="number"?Number(N):typeof i.strokeWidth=="number"?i.strokeWidth:1,stroke:x||i.stroke||"#000",strokeLinecap:I,strokeLinejoin:A,xmlns:"http://www.w3.org/2000/svg"},Z),(0,n.h)("g",null,(0,n.h)("title",null,M||""),F))}},49786:(j,l,e)=>{"use strict";e.d(l,{hF:()=>K,_q:()=>G,xt:()=>$,G0:()=>Z,RH:()=>V});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(36808),y=e(69427),E=e(85928),d=e.n(E),g=e(20501),P=e(83322),S=e(63270),T=e(3258),C=e(36868),p=e(39419),i=e(84040),s=e(51126),_=e(62246),w=e(43887);const x={container:"frontend-components-like_post_upsell_modal-module__container--nx2aQ",label:"frontend-components-like_post_upsell_modal-module__label--l1Xwk",input:"frontend-components-like_post_upsell_modal-module__input--QqUnn",selectedInput:"frontend-components-like_post_upsell_modal-module__selectedInput--FPxHZ"};var D=Object.defineProperty,N=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,M=(H,re,ee)=>re in H?D(H,re,{enumerable:!0,configurable:!0,writable:!0,value:ee}):H[re]=ee,R=(H,re)=>{for(var ee in re||(re={}))I.call(re,ee)&&M(H,ee,re[ee]);if(N)for(var ee of N(re))A.call(re,ee)&&M(H,ee,re[ee]);return H};const F="like_upsell_last_shown_at",Z=()=>{const H=O.get(F);if(H){const re=d()(H),ee=d()().subtract(30,"days");if(re.isAfter(ee))return!1}return!0},V=H=>{O.set(F,d()().format(),R({expires:365*10},!H.custom_domain&&{domain:`.${new URL((0,g.getBaseUrl)()).hostname}`}))},G=({pub:H})=>{var re,ee;const Y=(0,S.xR)(),[J,te]=(0,c.eJ)((re=H==null?void 0:H.plans)==null?void 0:re[0]),ie=Y.getConfigFor("disable_monthly_subscriptions"),se=Y.getConfigFor("disable_annual_subscriptions");return(0,n.h)(s.tu,{gap:20},(0,n.h)(s.tu,{gap:4},(0,n.h)(w.xv.H4,{weight:"semibold"},"Support ",H.name),(0,n.h)(w.xv.B4,{color:"secondary"},"Since you liked this post, why not support ",H.name," with a subscription?")),(0,n.h)("form",{className:x.form},(0,n.h)(s.tu,{gap:12},(ee=H==null?void 0:H.plans)==null?void 0:ee.map(W=>{if(!(W.interval==="month"&&ie)&&!(W.interval==="year"&&se))return(0,n.h)("label",{className:x.label,key:W.id},(0,n.h)(s.gq,{gap:12,alignItems:"center"},(0,n.h)("input",{name:"plan",type:"radio",value:W.id,onInput:()=>te(W),checked:J&&J.id===W.id,className:v()({[x.selectedInput]:J&&J.id===W.id},x.input)}),(0,n.h)(s.gq,{gap:8},(0,n.h)(w.xv.B4,{as:"span",weight:"semibold",color:J&&J.id===W.id?"primary":"secondary"},(0,P.getPlanTitle)(W,H.language)),(0,n.h)(w.xv.B4,{as:"span",color:"secondary"},(0,P.planBasePricing)(W)))))}))),(0,n.h)(i.zx,{onClick:()=>{(0,T.j)(T.FP.LIKE_UPSELL_PLAN_SELECTED),(0,p.redirect)((0,g.getSubscribeUrl)(H,{params:R({utm_source:"like-button-upsell"},J&&{selectedPlanId:J.id})}),{local_navigation:!1})},grow:!0,priority:"primary-theme"},"Select"))},$=({pub:H,onClose:re,shareDialogRef:ee})=>(0,n.h)(s.tu,{gap:20},(0,n.h)(s.tu,{gap:4},(0,n.h)(w.xv.H4,{weight:"semibold"},"Share this post with a friend"),(0,n.h)(w.xv.B4,{color:"secondary"},"Since you liked this post, why not share it to help spread the word?")),(0,n.h)(i.zx,{onClick:()=>{var Y;(0,T.j)(T.FP.LIKE_UPSELL_SHARE_CLICKED),(Y=ee.current)==null||Y.open(),re==null||re()},grow:!0,priority:"primary-theme"},"Share")),K=({user:H,pub:re,post:ee})=>{const Y=(0,c.sO)(),J=Z(),[te,ie]=(0,c.eJ)(J),[se,W]=(0,c.eJ)(J);(0,c.d4)(()=>{(!J||H!=null&&H.is_contributor||H!=null&&H.is_admin)&&(0,p.removeQueryParam)("show_reaction_upsell")},[J,H]),(0,c.d4)(()=>{se&&te&&((0,T.j)(T.FP.LIKE_UPSELL_MODAL_SEEN,{source:"email",type:(0,C.P)(H,re)?"share":"paid"}),V(re))},[se,te,re,H]);const z=()=>{ie(!te),W(!1),(0,p.removeQueryParam)("show_reaction_upsell")};return H&&!H.is_contributor&&!H.is_admin&&se?(0,n.h)(n.Fragment,null,(0,n.h)(_.u_,{isOpen:te,onClose:z},(0,n.h)(_.fe,null,(0,C.P)(H,re)?(0,n.h)($,{pub:re,onClose:z,shareDialogRef:Y}):(0,n.h)(G,{pub:re}))),(0,n.h)(y.ZP,{ref:Y,user:H,pub:re,post:ee})):null}},65726:(j,l,e)=>{"use strict";e.d(l,{Z:()=>P});var n=e(6400),c=Object.defineProperty,u=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,y=(S,T,C)=>T in S?c(S,T,{enumerable:!0,configurable:!0,writable:!0,value:C}):S[T]=C,E=(S,T)=>{for(var C in T||(T={}))v.call(T,C)&&y(S,C,T[C]);if(u)for(var C of u(T))O.call(T,C)&&y(S,C,T[C]);return S},d=(S,T)=>{var C={};for(var p in S)v.call(S,p)&&T.indexOf(p)<0&&(C[p]=S[p]);if(S!=null&&u)for(var p of u(S))T.indexOf(p)<0&&O.call(S,p)&&(C[p]=S[p]);return C};const P=S=>{var T=S,{children:C,href:p,onClick:i}=T,s=d(T,["children","href","onClick"]);return(0,n.h)("a",E(E({role:"button",tabIndex:0,href:p!=null?p:"javascript:void(0)"},i&&{onClick:_=>{_.stopPropagation(),i(_)}}),s),C)}},86602:(j,l,e)=>{"use strict";e.r(l),e.d(l,{chatMentionsSearch:()=>M,default:()=>D,mentionsSearch:()=>I});var n=e(6400),c=e(80569),u=e.n(c),v=e(20501),O=e(92643),y=e(44695),E=e(80332);const d={mention:"frontend-components-mention-module__mention--UisMf"};var g=Object.defineProperty,P=Object.defineProperties,S=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,i=(R,F,Z)=>F in R?g(R,F,{enumerable:!0,configurable:!0,writable:!0,value:Z}):R[F]=Z,s=(R,F)=>{for(var Z in F||(F={}))C.call(F,Z)&&i(R,Z,F[Z]);if(T)for(var Z of T(F))p.call(F,Z)&&i(R,Z,F[Z]);return R},_=(R,F)=>P(R,S(F)),w=(R,F,Z)=>new Promise((V,G)=>{var $=re=>{try{H(Z.next(re))}catch(ee){G(ee)}},K=re=>{try{H(Z.throw(re))}catch(ee){G(ee)}},H=re=>re.done?V(re.value):Promise.resolve(re.value).then($,K);H((Z=Z.apply(R,F)).next())});const D=({id:R,type:F,name:Z,url:V,photo_url:G,uuid:$,mentionText:K,isStatic:H=!1,isEditorContext:re=!1})=>{if(H)return(0,n.h)("span",{className:d.mention,"data-component-name":"MentionStatic"},(0,n.h)("a",{href:(0,v.getMentionsUrl)(F,R,Z,V)},Z||"Substack user"));if(F==="user"){const ee={id:R,name:Z||"Substack user",photo_url:G};return(0,n.h)(O.am,null,(0,n.h)(E.Ct,{subject:ee,utmSource:"mention"},(0,n.h)("a",{className:d.mention,href:re?void 0:(0,v.getMentionsUrl)(F,R,Z,V),target:"_blank",rel:"noopener","data-attrs":JSON.stringify({name:Z,id:R,type:F,url:V,photo_url:G,uuid:$}),onClick:Y=>Y.stopPropagation(),"data-component-name":"MentionUser"},K!=null?K:Z)))}return F==="pub"?(0,n.h)(y.Sm,{publication_id:R,utmSource:"mention"},(0,n.h)("a",{className:d.mention,href:V,target:"_blank",rel:"noopener","data-attrs":JSON.stringify({name:Z,id:R,type:F,url:re?void 0:(0,v.getMentionsUrl)(F,R,Z,V),uuid:$}),onClick:ee=>ee.stopPropagation(),"data-component-name":"MentionPub"},K!=null?K:Z)):(0,n.h)("a",{className:d.mention,target:"_blank",rel:"noopener",href:(0,v.getMentionsUrl)(F,R,Z,V),"data-attrs":JSON.stringify({name:Z,id:R,type:F,url:V,photo_url:G,uuid:$}),"data-component-name":"Mention"},K!=null?K:Z)},N={},I=(R,...F)=>w(void 0,[R,...F],function*(Z,{pathname:V="/api/v1/posts/mention"}={}){if(N[Z])return N[Z];const G=yield u().get(V).query({query:Z}),{profiles:$,publications:K}=G.body,H=new Map;return $&&$.length&&H.set("Writers",$.map(re=>_(s({},re),{type:"user"}))),K&&K.length&&H.set("Publications",K==null?void 0:K.map(re=>_(s({},re),{type:"pub",url:(0,v.getPublicationAppLinkUrl)({subdomain:re.subdomain}),photo_url:re.logo_url}))),N[Z]=H,H}),A={},M=(R,...F)=>w(void 0,[R,...F],function*(Z,{pathname:V="/api/v1/community/mention"}={}){const G=`${V}-${Z}`;if(A[G])return A[G];const $=yield u().get(V).query({query:Z}),{results:K}=$.body,H=new Map;return K&&H.set("Writers",K.map(re=>_(s({},re),{type:"user",id:re.user_id}))),A[G]=H,H})},56838:(j,l,e)=>{"use strict";e.d(l,{Cz:()=>Er,Er:()=>ar,F6:()=>Ur,L9:()=>fo,Mp:()=>Fr,Ng:()=>Hn,PA:()=>Ne,RY:()=>ro,Su:()=>Xe,TJ:()=>tr,_2:()=>At,c1:()=>$n,fh:()=>kr,mt:()=>en,pD:()=>bt,sV:()=>_n,vk:()=>bn,yT:()=>$t,z5:()=>Xn});var n=e(6400),c=e(98661),u=e(30396),v=e(94184),O=e.n(v),y=e(12297),E=e.n(y),d=e(23493),g=e.n(d),P=e(80587),S=e(77951),T=e(95951),C=e(65207),p=e(13808),i=e(18794),s=e(8618),_=e(31131),w=e(67358),x=e(80569),D=e.n(x),N=e(965),I=e(55489),A=e(69427),M=e(17087),R=e(82626),F=e(85928),Z=e.n(F),V=e(6385),G=e(91613),$=e(15045),K=e(20501),H=e(83322),re=e(2405),ee=e(4190),Y=e(28488),J=e(85065),te=e(32076),ie=e(63270),se=e(18597),W=e(18492),z=e(3258),Q=e(39776),oe=e(8479),ne=e(35225),ae=e(36868),le=e(39419),ue=e.n(le),fe=e(84040),he=e(51126),be=e(25752),ve=e(62246),Te=e(43887),we=e(75425),Se=e(592),We=e(16742),Ae=e(25597),Be=e(51576),de=e(19826),ce=e(47819),_e=e(15440),Oe=e(63295),Le=e(12650),ze=e(43498),Je=e(11628),Pt=e(49542),Ve=e(31517),pt=e(11762),$e=e(49786),Ie=e(50615),ye=e(80332),Ce=e(31533),xe=e(49715),je=Object.defineProperty,He=Object.defineProperties,Ge=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertySymbols,ct=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable,it=(_t,Ot,Mt)=>Ot in _t?je(_t,Ot,{enumerable:!0,configurable:!0,writable:!0,value:Mt}):_t[Ot]=Mt,tt=(_t,Ot)=>{for(var Mt in Ot||(Ot={}))ct.call(Ot,Mt)&&it(_t,Mt,Ot[Mt]);if(Qe)for(var Mt of Qe(Ot))dt.call(Ot,Mt)&&it(_t,Mt,Ot[Mt]);return _t},vt=(_t,Ot)=>He(_t,Ge(Ot)),et=(_t,Ot,Mt)=>new Promise((Kt,ke)=>{var ot=Nt=>{try{ht(Mt.next(Nt))}catch(Lt){ke(Lt)}},ut=Nt=>{try{ht(Mt.throw(Nt))}catch(Lt){ke(Lt)}},ht=Nt=>Nt.done?Kt(Nt.value):Promise.resolve(Nt.value).then(ot,ut);ht((Mt=Mt.apply(_t,Ot)).next())});function Xe(_t,Ot){return _t==="button"&&Ot==="verbose"?16:_t==="button"?20:_t==="tabs"?24:_t==="compressed"?16:_t==="large-on-dark"?20:0}const Ne=2,ft=({isFullWidth:_t,children:Ot})=>_t?(0,n.h)(he.gq,{className:"post-ufi-button-wrapper",gap:8},Ot):Ot;function At({post:_t,pub:Ot,user:Mt,style:Kt,justified:ke,isStatic:ot,hideReactions:ut,hideComments:ht,hideShare:Nt,hideSavePost:Lt,useShareLabel:St,allowEdit:Ft,editButtonIsLast:nn,onChange:yn,addedPodcastComments:gn,hidePinning:Sn,showEmailSent:sn,allowSendEmail:mn,footerHidden:Pr,onCommentsClick:fr,onClipClick:vr,labelStyle:ir,showPreamble:Qn,preambleConfig:zr={},position:Ar,hideByDisabling:Cr,showRestackButton:oo,showRestackModal:Oo,showClipping:po,hideFeedRestackButton:Yo,onToggleMenu:Jo,postReactionToken:ti}){const Co=(0,se.Tf)(),{showPins:wo,showAudience:Ea,showDate:Oa,showDatetime:ko,showAuthor:Xo,showPublicationName:Ca,showCrossPostedPublicationName:Qo}=zr;ut=ut||!Ot.community_enabled||!_t.slug||_t.is_draft;const wa=E()(Object.values((_t==null?void 0:_t.reactions)||{})),qo=sn?!!_t.email_sent_at:null,ni=(0,re.LC)(),Po=Ft&&(Mt==null?void 0:Mt.is_contributor)&&!ni,So=Ht({post:_t,pub:Ot,user:Mt,defaultOpen:oo&&Oo&&Ar!=="post-footer"&&Ar!=="post-footer-full-width"}),ea=Mt&&(0,n.h)(wn,{style:Kt,pub:Ot,post:_t,user:Mt,hidePinning:Sn,emailSent:qo!=null?qo:void 0,allowSendEmail:mn,footerHidden:Pr,canBeCrossPosted:oo,onToggleMenu:Jo}),Sa=!Yo&&Ot.community_enabled&&_t.slug&&!_t.is_draft,Fo=oo&&!Qn&&(Cr||ut&&ht&&Nt&&!Po),ta=ir==="counts-or-none"&&wa?"count":ir==="labels"?"cta":"none",Io=ir==="counts-or-none"&&_t.comment_count?"count":ir==="labels"?"cta":"none",pr=Mt&&_t.videoUpload&&(0,M.a)(Mt,_t,_t.videoUpload),Lr=Ar==="post-footer-full-width";return(0,n.h)("div",{className:O()("post-ufi",`style-${Kt}`,{justified:ke,themed:Co,"single-full-width-button":Fo,"vertically-stacked":Ar==="shows-episode-player"})},(0,n.h)(ft,{isFullWidth:Lr},Qn&&zr&&(0,n.h)(yo,{pub:Ot,post:_t,showPins:wo,showAudience:Ea,showDate:Oa,showDatetime:ko,showEmailSent:sn,showAuthor:Xo,showPublicationName:Ca,showCrossPostedPublicationName:Qo}),Po&&!nn&&ea,(0,n.h)(Q.SiteConfigGate,{configKey:"enable_episode_clips"},po&&_t.videoUpload&&(0,n.h)(Be.O,{post:_t,mediaUpload:_t.videoUpload,disabled:!pr,onClipClick:vr,style:Kt})),(Cr||!ut)&&(0,n.h)(Tn,{post:_t,pub:Ot,user:Mt,labelStyle:Cr&&ut?"none":ta,style:Kt,onChange:yn,isStatic:ot,isDisabled:Cr&&ut,postReactionToken:ti}),(Cr||!ht)&&(0,n.h)(lt,{post:_t,pub:Ot,isStatic:ot,labelStyle:Cr&&ht?"none":Io,style:Kt,count:_t.comment_count+(gn||0),onClick:fr,isDisabled:Cr&&ht}),Sa&&Mt&&(0,n.h)(fn,{pub:Ot,post:_t,onChange:yn,style:Kt,onToggleMenu:Jo}),!Nt&&(0,n.h)(I.s,{post:_t,pub:Ot,user:Mt,trigger:{style:Kt,labelStyle:St?"cta":"none",isStatic:ot},position:Ar})),(0,n.h)(ft,{isFullWidth:Lr},!Lt&&!oo&&Mt&&(0,n.h)(Kn,{post:_t,labelStyle:Io,position:Ar,style:Kt,onChange:yn}),Po&&nn&&ea,oo&&!Po&&Ar==="post-header"&&(0,n.h)(n.Fragment,null,(0,n.h)(be.v2,{trigger:(0,n.h)(fe.hU,{"aria-label":"View more",size:40,fill:"outline"},(0,n.h)(P.Z,{size:20}))},Mt&&(0,n.h)(an,{onClick:So.open,post:_t,pub:Ot,user:Mt}),(0,n.h)(rt,{post:_t,onChange:yn}))),oo&&!Po&&Lr&&(0,n.h)(n.Fragment,null,!Lt&&(0,n.h)(Kn,{post:_t,labelStyle:"verbose",position:Ar,style:"button",onChange:yn}),Mt&&(0,n.h)(Ut,{onClick:So.open,post:_t,pub:Ot,user:Mt,style:"button"}))),So.modal)}function Ht({pub:_t,user:Ot,post:Mt,defaultOpen:Kt=!1}){const[ke,ot]=(0,u.eJ)(Kt);return(0,u.d4)(()=>{Kt&&Ot&&(0,z.j)(z.FP.RESTACK_POST_CLICKED,{restacked_publication_id:_t.id,restacked_post_id:Mt.id,restacking_user_id:Ot.id,is_from_email:!0})},[Kt,_t,Mt,Ot]),{open:()=>ot(!0),modal:(0,n.h)(xe.J,{pub:_t,user:Ot,post:Mt,open:ke,setOpen:ot})}}function rn(){const Ot=typeof window=="undefined",Mt=250,[Kt,ke]=(0,u.eJ)(Ot?0:window.pageYOffset),[ot,ut]=(0,u.eJ)(!1),ht=100,Nt=(0,u.Ye)(()=>Date.now()+1e3,[]),Lt=(0,u.sO)(0);return(0,u.d4)(()=>{if(Ot)return;const St=g()(()=>{const Ft=Date.now(),nn=(Ft-Lt.current)/1e3,gn=(Kt-window.pageYOffset)/nn;Lt.current=Ft,!(window.pageYOffset<0)&&(Ft<Nt?ut(!1):-gn>ht?ut(!0):gn>ht&&ut(!1),ke(window.pageYOffset))},Mt);return window.addEventListener("scroll",St),()=>window.removeEventListener("scroll",St)},[Ot,Kt,ke,ut,Nt,Lt,!1]),ot}function en({post:_t,pub:Ot,user:Mt,isStatic:Kt,onChange:ke,allowEdit:ot,hidePinning:ut,showEmailSent:ht,allowSendEmail:Nt,hideComments:Lt,onCommentsClick:St,showRestackButton:Ft,showRestackModal:nn,setFooterShown:yn,postReactionToken:gn}){const Sn=rn(),sn=(0,we.pm)();return(0,u.d4)(()=>{sn.addOffset(64*(Sn?1:-1)),yn&&yn(!Sn)},[Sn,yn]),(0,n.h)(he.hs,{alignItems:"center",padding:8,className:O()("mobile-footer-ufi",{hidden:Sn})},(0,n.h)(At,{post:_t,pub:Ot,user:Mt,isStatic:Kt,justified:!0,style:"tabs",onChange:ke,allowEdit:ot,editButtonIsLast:!0,hidePinning:ut,showEmailSent:ht,allowSendEmail:Nt,footerHidden:Sn,labelStyle:"counts-or-none",hideComments:Lt,onCommentsClick:St,position:"mobile-toolbar",hideByDisabling:!0,showRestackModal:nn,showRestackButton:Ft,postReactionToken:gn}))}function pn({post:_t,pub:Ot,user:Mt,surface:Kt,onChange:ke,subscribePromptRef:ot,postReactionToken:ut}){const ht=!!(_t!=null&&_t.reaction),Nt=(0,re.LC)(),Lt=(0,oe.ib)({pathname:(0,K.pathWithQuery)(Nt?`/api/v1/cross-post/${_t==null?void 0:_t.id}/reaction`:`/api/v1/post/${_t==null?void 0:_t.id}/reaction`,{token:ut}),method:"POST",deps:[_t==null?void 0:_t.id]}),St=(0,ne.S)({user:Mt,noBase:!1});return{isLiked:ht,toggle:()=>et(this,null,function*(){var Ft;if(Lt.isLoading)return"error";ht||!St()&&Mt&&!Mt.is_admin&&!Mt.is_contributor&&(ot!=null&&ot.current)&&(0,$e.G0)()&&((0,z.j)(z.FP.LIKE_UPSELL_MODAL_SEEN,{source:"web",type:Mt!=null&&Mt.is_free_subscribed?(0,ae.P)(Mt,Ot)?"share":"paid":"free"}),ot.current.open(),(0,$e.RH)(Ot));const{reaction:nn,reactions:yn,reactor_names:gn}=(0,Ce.fS)(Mt,_t);_t.reaction=nn,_t.reactions=yn,_t.reactor_names=gn,ke==null||ke({post:_t});const Sn=yield Lt.refetch(nn?{method:"POST",json:{reaction:"\u2764",surface:Kt}}:{method:"DELETE"}),sn=(Ft=Sn==null?void 0:Sn.response)==null?void 0:Ft.status;if(sn){const{reaction:mn,reactions:Pr,reactor_names:fr}=(0,Ce.fS)(Mt,_t);_t.reaction=mn,_t.reactions=Pr,_t.reactor_names=fr,ke==null||ke({post:_t})}return sn===401?"unauthorized":sn?"error":nn?"liked":"unliked"})}}function _n(){const _t=lr();return(Mt,Kt,...ke)=>et(this,[Mt,Kt,...ke],function*(ot,ut,{tabId:ht}={}){yield(0,oe.rd)(`/api/v1/post/${ot}/reaction`,ut?{method:"POST",json:{reaction:"\u2764",surface:"reader",tabId:ht}}:{method:"DELETE",json:{tabId:ht}}),_t(ut)})}function Tn({post:_t,pub:Ot,user:Mt,style:Kt,labelStyle:ke,onChange:ot,isStatic:ut,isDisabled:ht,postReactionToken:Nt}){const Lt=E()(Object.values((_t==null?void 0:_t.reactions)||{})),St=ke==="count"?(0,H.numberToString)(Lt||0):ke==="cta"?"Like":null;return(0,n.h)(Cn,{post:_t,pub:Ot,user:Mt,onChange:ot,isStatic:ut,style:Kt,postReactionToken:Nt},({isLiked:Ft,handleLike:nn})=>(0,n.h)(Hn,{style:Kt,state:Ft?"liked":void 0,icon:(0,n.h)(Le.Z,{className:"icon",height:Xe(Kt),strokeWidth:Ne}),onClick:ht?()=>{}:nn,noLabel:ke==="none",isDisabled:ht},St))}function dn({style:_t,onClick:Ot}){return(0,n.h)(Hn,{style:_t,state:void 0,icon:(0,n.h)(S.Z,{className:"icon",height:Xe(_t),strokeWidth:Ne}),"aria-label":"menu",onClick:Ot})}function fn({pub:_t,post:Ot,style:Mt,onChange:Kt,onToggleMenu:ke}){const{canRestack:ot,isRestacked:ut,restacks:ht,menuItems:Nt,nuxModal:Lt}=(0,We.K)({pub:_t,post:Ot,onRestack:nn=>{Kt==null||Kt({post:vt(tt({},Ot),{restacked:nn,restacks:ht+(nn?1:-1)})})}});if(!ot)return null;const St=!_t.community_enabled,Ft=(0,n.h)(Hn,{style:Mt,state:ut?"restacked":void 0,icon:(0,n.h)(Ve.Z,{className:"icon",height:Xe(Mt),strokeWidth:Ne}),noLabel:ht===0,"aria-label":"menu",isDisabled:St},ht.toLocaleString(void 0,{maximumSignificantDigits:4}));return(0,n.h)(n.Fragment,null,Lt,St?Ft:(0,n.h)(be.v2,tt({trigger:Ft},ke&&{onOpen:()=>{ke({active:!0})},onClose:()=>{ke({active:!1})}}),Nt))}function xn({postId:_t,isOpen:Ot,onClose:Mt}){const Kt=(0,ie.xR)(),{iString:ke}=(0,Y.M1)(),[ot,ut]=(0,u.eJ)(),ht=Kt.getConfigFor("enable_post_summarization")==!0,Nt=(0,u.sO)(!1),Lt=(0,u.I4)(()=>{Nt.current=!0,D().post(`/api/v1/posts/${_t}/summary`).then(St=>{var Ft;(Ft=St.body)!=null&&Ft.summary&&ut(St.body.summary)}).finally(()=>{Nt.current=!1})},[_t]);return(0,u.d4)(()=>{Ot&&ht&&!ot&&!Nt.current&&Lt()},[Ot,Lt,ht,ot]),ht?(0,n.h)(ve.u_,{isOpen:Ot,onClose:Mt,width:750},(0,n.h)(ve.xB,{includeClose:!0,title:ke("Reader guide"),onClose:Mt}),(0,n.h)(he.tu,{padding:16,paddingBottom:32},ot?(0,n.h)("div",{dangerouslySetInnerHTML:{__html:ot}}):(0,n.h)(he.tu,{alignItems:"center",justifyContent:"center",style:{flex:1,minHeight:300}},(0,n.h)("div",{className:"embed-loader"})))):null}function Dn({post:_t,pub:Ot,user:Mt,onChange:Kt,showRestackModal:ke,canBeCrossPosted:ot,onSummaryOpen:ut}){const ht="button",Lt=(0,ie.xR)().getConfigFor("enable_post_summarization")==!0,St=Ht({pub:Ot,user:Mt,post:_t,defaultOpen:ke&&ot}),Ft=()=>{St.open(),(0,z.j)(z.FP.RESTACK_POST_CLICKED,{restacked_publication_id:Ot.id,restacked_post_id:_t.id,restacking_user_id:Mt.id,is_from_email:!1})};return(0,n.h)(n.Fragment,null,(0,n.h)(be.v2,{trigger:(0,n.h)(Hn,{style:ht,icon:(0,n.h)(P.Z,{className:"icon edit-icon",size:Xe(ht),strokeWidth:2}),noLabel:!0,"aria-label":"More"})},Mt&&(0,n.h)(rt,{post:_t,onChange:Kt,showIcon:!0}),Lt&&(0,n.h)(be.sN,{icon:(0,n.h)(T.Z,{height:24,strokeWidth:2}),onClick:ut},"Reader guide"),ot&&(0,n.h)(be.sN,{icon:(0,n.h)(ze.Z,null),onClick:Ft},"Cross post"),Mt&&(0,n.h)(be.sN,{icon:(0,n.h)(C.Z,null),href:(0,K.getReaderPostUrl)(_t.id)},"Substack Reader")),St.modal)}function Wn(_t){var Ot;const Mt=E()(Object.values(((Ot=_t.post)==null?void 0:Ot.reactions)||{}));return(0,n.h)(Tn,vt(tt({},_t),{labelStyle:Mt>0?"count":"none"}))}const Fn=({pub:_t,user:Ot})=>{const[Mt,Kt]=(0,u.eJ)(Ot==null?void 0:Ot.email),[ke,ot]=(0,u.eJ)(!1),{iString:ut}=(0,Y.M1)();return(0,n.h)(he.tu,{gap:20},(0,n.h)(he.tu,{gap:4},(0,n.h)(Te.xv.H4,{translated:!0,weight:"semibold"},"Support ",I18N.p(_t.name)),(0,n.h)(Te.xv.B4,{translated:!0,color:"secondary"},"Since you liked this post, why not subscribe?")),(0,n.h)(he.tu,{gap:12},(0,n.h)("input",{disabled:!!(Ot!=null&&Ot.email),value:Mt,onChange:ht=>Kt(ht.currentTarget.value)}),(0,n.h)(fe.zx,{onClick:()=>et(void 0,null,function*(){(0,z.j)(z.FP.LIKE_UPSELL_FREE_SUBSCRIBED,{email:Mt}),ot(!0);try{const ht=yield D().post("/api/v1/free").send({email:Mt,source:"like-button-upsell"}),{referral_token:Nt}=ht.body;(0,z.IU)(),(0,le.redirect)((0,K.getSubscribeUrl)(_t,{params:{utm_source:"like-button-upsell",just_signed_up:!0,referral_token:Nt}}),{local_navigation:!1})}catch(ht){alert((0,le.getNetworkErrorMessage)(ht))}}),grow:!0,disabled:ke,priority:"primary-theme"},ut(ke?"Please wait...":"Subscribe"))))};function Cn({post:_t,pub:Ot,user:Mt,onChange:Kt,isStatic:ke,children:ot,style:ut,postReactionToken:ht}){const Nt=(0,u.sO)(),Lt=(0,u.sO)(),{isLiked:St,toggle:Ft}=pn({post:_t,pub:Ot,user:Mt,subscribePromptRef:Nt,onChange:Kt,postReactionToken:ht}),nn=(0,u.sO)(),[yn,gn]=(0,u.eJ)(!1),Sn=(0,u.I4)(sn=>et(this,null,function*(){var mn;(mn=sn==null?void 0:sn.stopPropagation)==null||mn.call(sn),(yield Ft())==="unauthorized"&&gn(!0)}),[Ft]);return(0,u.d4)(()=>{!(nn!=null&&nn.current)||!yn||nn.current.open()},[yn]),(0,n.h)("div",{className:O()("like-button-container","post-ufi-button",`style-${ut}`,St&&"state-liked")},ot({isLiked:St,handleLike:Sn}),!ke&&yn&&(0,n.h)(Ce.oq,{modalRef:nn,user:Mt,pub:Ot,onClose:()=>gn(!1),react:Ft}),Mt&&!Mt.is_admin&&!Mt.is_contributor&&(ut==="button"||ut==="tabs")&&(0,n.h)(de.Fx,{ref:Nt,className:O()("subscribe-prompt-dropdown",!(Mt!=null&&Mt.is_free_subscribed)&&"free"),hideMenuTail:!0},Mt!=null&&Mt.is_free_subscribed?(0,ae.P)(Mt,Ot)?(0,n.h)($e.xt,{pub:Ot,onClose:()=>{var sn;return(sn=Nt.current)==null?void 0:sn.close()},shareDialogRef:Lt}):(0,n.h)($e._q,{pub:Ot}):(0,n.h)(Fn,{pub:Ot,user:Mt})),!ke&&(0,n.h)(A.ZP,{ref:Lt,user:Mt,pub:Ot,post:_t}))}function bn({post:_t,defaultSaved:Ot,isSaved:Mt,trackSurface:Kt}){var ke;return zn({postId:_t.id,defaultSaved:(ke=Ot!=null?Ot:_t.is_saved)!=null?ke:!1,isSaved:Mt,trackSurface:Kt})}function zn({postId:_t,defaultSaved:Ot,isSaved:Mt,trackSurface:Kt}){const[ke,ot]=(0,u.eJ)(Ot),ut=Mt!=null?Mt:ke,{refetch:ht,isLoading:Nt,error:Lt}=(0,oe.ib)({pathname:"/api/v1/posts/saved",method:"POST",json:{post_id:_t},deps:[_t]}),St=(0,J.yH)(),Ft=$n();return{isSaved:ut,onSave:()=>(Nt||(ht({method:ut?"DELETE":"POST"}).then(()=>{St.refetch()}),ot(!ut),Ft(!ut),(0,z.j)(z.FP.POST_SAVED,{post_id:_t,surface:Kt})),!ut)}}function tr(_t,Ot,Mt){return et(this,arguments,function*(Kt,ke,{surface:ot}){yield(0,oe.rd)("/api/v1/posts/saved",{method:ke?"POST":"DELETE",json:{post_id:Kt}}),(0,z.j)(z.FP.POST_SAVED,{post_id:Kt,surface:ot,is_saved:ke})})}function $n(){const _t=(0,we.pm)(),{iString:Ot}=(0,Y.M1)();return Mt=>{Mt?_t.popToast(Kt=>(0,n.h)(we.FN,vt(tt({},Kt),{text:Ot("Post saved"),Icon:p.Z,cta:Ot("View"),href:(0,$.getSavedPostsUrl)()}))):_t.popToast(Kt=>(0,n.h)(we.FN,vt(tt({},Kt),{text:Ot("Post unsaved"),Icon:i.Z})))}}function lr(){const _t=(0,we.pm)(),{iString:Ot}=(0,Y.M1)();return Mt=>{Mt?_t.popToast(Kt=>(0,n.h)(we.FN,vt(tt({},Kt),{text:Ot("Post liked"),Icon:s.Z}))):_t.popToast(Kt=>(0,n.h)(we.FN,vt(tt({},Kt),{text:Ot("Post unliked"),Icon:s.Z})))}}function Kn({style:_t,post:Ot,isSaved:Mt,labelStyle:Kt,position:ke,onChange:ot}){const{isSaved:ut,onSave:ht}=bn({defaultSaved:Mt,post:Ot,isSaved:Ot.is_saved,trackSurface:ke}),{iString:Nt}=(0,Y.M1)(),Lt=()=>{const St=ht();ot({post:vt(tt({},Ot),{is_saved:St})})};return(0,n.h)(Hn,{state:ut?"saved":void 0,style:_t,icon:(0,n.h)(_e.Z,{className:"icon",height:Xe(_t,Kt==="verbose"?"verbose":null),strokeWidth:Ne}),noLabel:Kt==="none",verboseLabel:Kt==="verbose",onClick:Lt},Kt==="cta"||Kt==="verbose"?Nt("Save"):null)}function rt({post:_t,isSaved:Ot,onChange:Mt,showIcon:Kt}){const{onSave:ke}=bn({defaultSaved:Ot,post:_t,isSaved:_t.is_saved}),{iString:ot}=(0,Y.M1)(),ut=()=>{const Nt=ke();Mt({post:vt(tt({},_t),{is_saved:Nt})})},ht=_t.is_saved?"var(--color-accent-substack)":void 0;return(0,n.h)(be.sN,{icon:Kt?(0,n.h)(p.Z,{style:{stroke:ht,fill:ht}}):void 0,onClick:ut},_t.is_saved?ot("Unsave"):ot("Save"))}function lt({style:_t,count:Ot,labelStyle:Mt,post:Kt,pub:ke,isStatic:ot,onClick:ut,isDisabled:ht}){const{iString:Nt}=(0,Y.M1)();let Lt;return Kt!=null&&Kt.comment_url_override?Lt=Kt.comment_url_override:ot?Lt=`${R.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`:ke&&(Lt=(0,$.getPostUrl)(ke,Kt,{comments:!0})),(0,n.h)(Hn,{style:_t,icon:(0,n.h)(Oe.Z,{className:"icon",height:Xe(_t),strokeWidth:Ne}),href:ht?null:Lt,onClick:ht?()=>{}:St=>{ut?ut(St):(St==null||St.preventDefault(),window.location.href=Lt)},noLabel:Mt==="none",className:"post-ufi-comment-button",isDisabled:ht},Mt==="cta"&&Nt("Comment"),Mt==="count"&&(0,H.numberToString)(Ot||0))}function bt({post:_t,user:Ot,pub:Mt,style:Kt,labelStyle:ke,isStatic:ot,onChange:ut,position:ht}){const Nt=(0,u.sO)(),Lt=(0,u.I4)(()=>{(0,z.j)(z.FP.POST_SHARE_BUTTON_CLICKED,{position:ht}),Nt.current.open()},[]),{iString:St}=(0,Y.M1)();let Ft;_t.share_url_override?Ft=_t.share_url_override:ot?_t?Ft=R.Substitutions.SHARE_URL:Ft=R.Substitutions.SHARE_PUB_URL:Ft="javascript:void(0)";const nn=ke==="none";return(0,n.h)(n.Fragment,null,(0,n.h)(Hn,{style:Kt,icon:nn?(0,n.h)(_.Z,{className:"icon",height:Xe(Kt),strokeWidth:Ne}):null,onClick:Lt,href:Ft,noLabel:ke==="none",className:O()(!nn&&"no-icon")},ke==="cta"&&St("Share")),!ot&&(0,n.h)(A.ZP,{ref:Nt,user:Ot,pub:Mt,post:_t,onChange:ut}))}function Ut({post:_t,user:Ot,pub:Mt,onClick:Kt,style:ke}){const{iString:ot}=(0,Y.M1)();return(0,n.h)(n.Fragment,null,(0,n.h)(Hn,{style:ke,icon:(0,n.h)(ze.Z,{className:"icon",height:Xe(ke,"verbose"),strokeWidth:Ne}),onClick:()=>{(0,z.j)(z.FP.RESTACK_POST_CLICKED,{restacked_publication_id:Mt.id,restacked_post_id:_t.id,restacking_user_id:Ot.id,is_from_email:!1}),Kt()},noLabel:!1,verboseLabel:!0,title:ot("Cross-Post")},ot("Cross-post")))}function an({post:_t,user:Ot,pub:Mt,onClick:Kt}){const ke=()=>{(0,z.j)(z.FP.RESTACK_POST_CLICKED,{restacked_publication_id:Mt.id,restacked_post_id:_t.id,restacking_user_id:Ot.id,is_from_email:!1}),Kt()},{iString:ot}=(0,Y.M1)();return(0,n.h)(n.Fragment,null,(0,n.h)(be.sN,{onClick:ke},ot("Cross-post")))}function wn({style:_t,pub:Ot,post:Mt,user:Kt,hidePinning:ke,emailSent:ot,allowSendEmail:ut,footerHidden:ht,showRestackModal:Nt,canBeCrossPosted:Lt,onSummaryOpen:St,onToggleMenu:Ft}){const nn=(0,u.sO)();ht&&nn.current&&nn.current.close();const yn=Ht({post:Mt,pub:Ot,user:Kt,defaultOpen:Nt&&Lt}),gn=()=>{yn.open(),(0,z.j)(z.FP.RESTACK_POST_CLICKED,{restacked_publication_id:Ot.id,restacked_post_id:Mt.id,restacking_user_id:Kt.id,is_from_email:!1})};return(0,n.h)("div",{className:O()("edit-button-container","post-ufi-button",`style-${_t}`)},(0,n.h)(Hn,{onClick:()=>nn.current.open(),style:_t,icon:(0,n.h)(P.Z,{className:"icon edit-icon",size:Xe(_t),strokeWidth:2}),noLabel:!0}),(0,n.h)(Ie.y,{ref:nn,pub:Ot,post:Mt,user:Kt,className:"post-ufi-edit-menu",useDrawerOnMobile:!0,hidePinning:ke,emailSent:ot,allowSendEmail:ut,handleCrossPost:Lt&&gn,onSummaryOpen:St,onToggleMenu:Ft}),yn.modal)}const Hn=(0,c.forwardRef)(({icon:_t,children:Ot,state:Mt,style:Kt,onClick:ke,href:ot,noLabel:ut,verboseLabel:ht,noBorder:Nt,className:Lt,isDisabled:St,iconPosition:Ft="left",title:nn},yn)=>(0,n.h)("a",{role:"button",className:O()("post-ufi-button",`style-${Kt}`,Lt,Mt?`state-${Mt}`:void 0,St?"state-disabled":void 0,Ot&&!ut?"has-label":"no-label",Nt?"no-border":"with-border",ht?"verbose-label":""),title:nn,href:ot,onClick:gn=>{ke&&(gn.stopPropagation(),ke(gn))},ref:yn},Ft==="left"&&_t,!ut&&Ot&&(0,n.h)("div",{className:"label"},Ot),Ft==="right"&&_t)),Xn=({pub:_t,post:Ot,showAuthor:Mt})=>!!(Mt&&_t.bylines_enabled&&(0,H.getPrintedByline)(_t,Ot)),ar=({pub:_t,post:Ot,showAuthor:Mt,showPhoto:Kt,isMobileWidth:ke})=>Xn({pub:_t,post:Ot,showAuthor:Mt})&&!Er({pub:_t,post:Ot,showAuthor:Mt})&&!Ur({pub:_t,post:Ot,showAuthor:Mt,showPhoto:Kt})&&!ke,Er=({pub:_t,post:Ot,showAuthor:Mt})=>Xn({pub:_t,post:Ot,showAuthor:Mt})&&(0,H.getBylineUsers)(Ot).length>1,Ur=({pub:_t,post:Ot,showAuthor:Mt,showPhoto:Kt})=>{var ke;return Xn({pub:_t,post:Ot,showAuthor:Mt})&&Kt&&((ke=(0,H.getBylineUsers)(Ot)[0])==null?void 0:ke.photo_url)&&_t.byline_images_enabled};function kr({post:_t,showDatetime:Ot,isStatic:Mt,fromPostPage:Kt,showReactions:ke,language:ot="en"}){const ut=_t.reactions?Object.values(_t.reactions).reduce((Nt,Lt)=>Nt+Lt,0):0,ht=Kt&&!Mt&&ke&&ut>=70&&ut<100;return Ot&&ht?Z()(_t.post_date).locale(ot).standardDatetimeWithYear():Ot&&!ht?Z()(_t.post_date).locale(ot).standardDatetime():Mt?Z()(_t.post_date).locale(ot).standardDate():ht?Z()(_t.post_date).locale(ot).standardDate({full:ht}):Z()(_t.post_date).locale(ot).standardDateOrTime()}function yo({pub:_t,post:Ot,showPins:Mt,showAudience:Kt,showDate:ke,showDatetime:ot,showEmailSent:ut,showAuthor:ht,showPublicationName:Nt,showCrossPostedPublicationName:Lt}){const St=(0,se.Tf)(),Ft=!!(ht&&_t.bylines_enabled&&(0,H.getPrintedByline)(_t,Ot)),nn=!1,yn=ke&&Ot.post_date&&!Ot.is_draft,gn=ut?!!Ot.email_sent_at:null,{iString:Sn,iTemplate:sn,language:mn}=(0,Y.M1)();return(0,n.h)("div",{className:O()("ufi-preamble",{themed:St})},Lt&&Ot.restacked_pub_name?(0,n.h)("div",{className:"ufi-preamble-label cross-posted-pub-name"},sn`Published on ${Ot.restacked_pub_name}`):null,ut&&gn&&(0,n.h)("div",{className:"email-sent",title:Sn("This post was sent as an email")},(0,n.h)(w.Z,{className:"post-ufi-preamble-icon",size:16})),Mt&&Ot.is_section_pinned&&(0,n.h)("div",{className:"pinned"},(0,n.h)(pt.Z,{className:"post-ufi-preamble-icon"})),Ot.type==="adhoc_email"?(0,n.h)("div",{className:"audience-adhoc"},(0,n.h)(ce.Z,{className:"post-ufi-preamble-icon"})):Kt&&(0,V.isPaidAudience)(Ot.audience)&&(0,n.h)("div",{className:"audience-lock"},(0,n.h)(Ae.Z,{audience:Ot.audience,className:"lock-icon post-ufi-preamble-icon",size:16})),ar({pub:_t,post:Ot,showAuthor:Ft,isMobileWidth:nn})&&(0,n.h)("div",{className:"ufi-preamble-label author"},(0,H.getBylineUsers)(Ot).length>0?(0,H.oxfordComma)((0,H.getBylineUsers)(Ot).map(Pr=>(0,n.h)(n.Fragment,null,(0,n.h)(ye.Ct,{subject:Pr,utmSource:"byline"},(0,n.h)("a",{href:(0,$.getProfileUrl)(Pr,_t,{base:!0}),onClick:fr=>fr.stopPropagation()},Pr.name))))):(0,H.getPrintedByline)(_t,Ot)),Nt&&(0,n.h)("div",{className:"post-publication-name"},_t.name),yn&&(0,n.h)("div",{className:"ufi-preamble-label post-date",title:Z()(Ot.post_date).toISOString()},(0,n.h)("time",{dateTime:Z()(Ot.post_date).toISOString()},kr({post:Ot,showDatetime:ot,language:mn}))))}const ro=({pub:_t,post:Ot,user:Mt,onChange:Kt,postReactionToken:ke})=>(0,ie.xR)().getConfigFor("like_posts_enabled")&&_t.community_enabled?(0,n.h)(Wn,{style:"button",post:Ot,pub:_t,user:Mt,onChange:Kt,postReactionToken:ke}):null,fo=({pub:_t,post:Ot,onClick:Mt})=>{const Kt=(0,H.showCommentsOnPost)({publication:_t,post:Ot}),{comment_count:ke}=Ot;return Kt?(0,n.h)(lt,{post:Ot,pub:_t,labelStyle:ke>0?"count":"none",style:"button",count:ke,onClick:Mt}):null};function Fr({hideBottomBorder:_t,post:Ot,pub:Mt,user:Kt,onChange:ke,onCommentsClick:ot,onClipClick:ut,showRestackModal:ht=!1,showTranscriptionButton:Nt,showClipping:Lt,onTranscriptionClick:St,themeVariables:Ft,postReactionToken:nn}){const yn=(0,re.LC)(),gn=(Kt==null?void 0:Kt.is_contributor)&&!yn,{getExperimentVariant:Sn}=(0,ee.jc)(),{getSettingFor:sn}=(0,te.So)(),mn=!Ot.is_draft&&(0,G.x)(Kt,{enable_restacking:!!sn("enable_restacking")},Ot,Mt,!1),[Pr,fr]=(0,u.eJ)(!1),[vr,ir]=(0,u.eJ)(!1),Qn=Sn("instagram_post_sharing"),zr=Qn&&["treatment_new","treatment_default"].includes(Qn),Ar=Kt&&Ot.videoUpload&&(0,M.a)(Kt,Ot,Ot.videoUpload);return(0,n.h)(he.hs,{className:"post-ufi",alignItems:"center",borderTop:"detail-themed",borderBottom:_t?void 0:"detail-themed",justifyContent:"space-between",gap:16,flex:"grow",paddingY:16},(0,n.h)(he.hs,{gap:8},(0,n.h)(ro,{post:Ot,pub:Mt,user:Kt,onChange:ke,postReactionToken:nn}),(0,n.h)(fo,{pub:Mt,post:Ot,onClick:ot}),(0,n.h)(fn,{pub:Mt,post:Ot,onChange:ke,style:"button"}),Nt&&(0,n.h)(dn,{style:"button",onClick:St})),(0,n.h)(he.hs,{gap:8},(0,n.h)(I.s,{post:Ot,pub:Mt,user:Kt,trigger:{style:"button",labelStyle:"cta"},toggleInstagramModal:zr?()=>ir(!vr):void 0,instagramExperimentActive:!!Ft,showClipping:Ot.type==="video",disableClipping:!Ar,onClipClick:ut}),gn?(0,n.h)(wn,{style:"button",pub:Mt,post:Ot,user:Kt,showRestackModal:ht,canBeCrossPosted:mn,onSummaryOpen:()=>fr(!0)}):(Kt||mn)&&(0,n.h)(Dn,{post:Ot,pub:Mt,user:Kt,onChange:ke,showRestackModal:ht,canBeCrossPosted:mn,onSummaryOpen:()=>fr(!0)})),(0,n.h)(xn,{postId:Ot.id,isOpen:Pr,onClose:()=>fr(!1)}),zr&&(0,n.h)(Se.mH,{isOpen:vr,pub:Mt,post:Ot,themeVariables:Ft,onClose:()=>ir(!1),hideEmail:!0}))}function $t({isFooter:_t,customization:{showAppUpsell:Ot,showShare:Mt,showComments:Kt,showReactions:ke,showListen:ot,showSave:ut,showRestack:ht,showCommentRestack:Nt}}){const Lt=_t?"email-ufi-2-bottom":"email-ufi-2-top",St=!_t&&(ht||ot||ut),Ft=_t,{iString:nn}=(0,Y.M1)();return!_t&&!Mt&&!Kt&&!ke&&!ot&&!ut&&ht?(0,n.h)(W.YF,{className:"email-ufi-2-empty",width:"100%"},(0,n.h)("tr",{height:1},(0,n.h)("td",{height:1,style:{fontSize:0,lineHeight:0}},"\xA0"))):(0,n.h)(W.YF,{className:Lt,width:"100%"},ht&&_t&&(0,n.h)(n.Fragment,null,(0,n.h)(Gr,null),(0,n.h)("tr",null,(0,n.h)("td",null,(0,n.h)(W.YF,{width:"100%",className:"email-ufi-2-row"},(0,n.h)("tr",null,(0,n.h)("td",{width:"95%"},Mt&&(0,n.h)(W._i,{tableClassName:"email-button-outline-wrapper-full-width",aClassName:"email-button-outline full-width",href:R.Substitutions.SHARE_URL},(0,n.h)(Je.Z,tt({},gr)),(0,n.h)("span",{className:"email-button-text"},nn("Share"))))),(0,n.h)(Gr,null))))),(0,n.h)(Gr,null),(0,n.h)("tr",null,(0,n.h)("td",null,(0,n.h)(W.YF,{width:"100%"},(0,n.h)("tr",null,(0,n.h)("td",null,(0,n.h)(W.zK,{gap:8,style:St?void 0:{margin:"0 auto"}},ke?Ft?(0,n.h)(W._i,{aClassName:"email-button-outline",href:R.Substitutions.REACTION_URL},(0,n.h)(Le.Z,tt({},gr)),(0,n.h)("span",{className:"email-button-text"},nn("Like"))):(0,n.h)(Vr,{href:R.Substitutions.REACTION_URL},(0,n.h)(Le.Z,tt({},gr))):null,Kt?Ft?(0,n.h)(W._i,{aClassName:"email-button-outline",href:`${R.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`},(0,n.h)(Oe.Z,tt({},gr)),(0,n.h)("span",{className:"email-button-text"},nn("Comment"))):(0,n.h)(Vr,{href:`${R.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`},(0,n.h)(Oe.Z,tt({},gr))):null,Mt&&Ot&&(Ft?(0,n.h)(W._i,{aClassName:"email-button-outline",href:R.Substitutions.SHARE_URL},(0,n.h)(Pt.Z,tt({},gr)),(0,n.h)("span",{className:"email-button-text"},nn("Share"))):(0,n.h)(Vr,{href:R.Substitutions.SHARE_URL},(0,n.h)(Pt.Z,tt({},gr)))),Nt&&(Ft?(0,n.h)(W._i,{aClassName:"email-button-outline",href:`${R.Substitutions.RESTACK_COMMENT_URL}&utm_source=substack&utm_medium=email`},(0,n.h)(Ve.Z,tt({},gr)),(0,n.h)("span",{className:"email-button-text"},nn("Restack"))):(0,n.h)(Vr,{href:`${R.Substitutions.RESTACK_COMMENT_URL}&utm_source=substack&utm_medium=email`},(0,n.h)(Ve.Z,tt({},gr)))))),(0,n.h)("td",{align:"right"},(0,n.h)(W.zK,{gap:8},Mt&&!Ot&&!_t&&(0,n.h)(W._i,{aClassName:"email-button-outline",href:R.Substitutions.SHARE_URL},(0,n.h)("div",{className:"email-button-spacer"}),(0,n.h)("span",{className:"email-button-text"},nn("Share"))),Ot&&!_t&&(0,n.h)(W._i,{aClassName:"email-button-outline",href:R.Substitutions.POST_APP_LINK_URL},(0,n.h)("div",{className:"email-button-spacer"}),(0,n.h)("span",{className:"email-button-text",style:{marginRight:4}},nn("READ IN APP")),(0,n.h)(N.Z,vt(tt({},gr),{className:O()("icon","text-icon")}))))))))),(0,n.h)(Gr,null))}function Gr(){return(0,n.h)("tr",{height:16},(0,n.h)("td",{height:16,style:{fontSize:0,lineHeight:0}},"\xA0"))}const gr={className:"icon",height:18,strokeWidth:1,isStatic:!0,stroke:"#808080",fill:"none"};function Vr({size:_t=38,href:Ot,children:Mt}){return(0,n.h)(W.YF,{width:_t},(0,n.h)("tr",null,(0,n.h)("td",{align:"center"},(0,n.h)("a",{className:"email-icon-button",href:Ot,style:{width:_t}},Mt))))}},31471:(j,l,e)=>{"use strict";e.d(l,{e:()=>w});var n=e(6400),c=e(94184),u=e.n(c),v=e(84606),O=e(15045),y=e(20501),E=e(61247),d=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,p=(x,D,N)=>D in x?d(x,D,{enumerable:!0,configurable:!0,writable:!0,value:N}):x[D]=N,i=(x,D)=>{for(var N in D||(D={}))T.call(D,N)&&p(x,N,D[N]);if(S)for(var N of S(D))C.call(D,N)&&p(x,N,D[N]);return x},s=(x,D)=>g(x,P(D)),_=(x,D)=>{var N={};for(var I in x)T.call(x,I)&&D.indexOf(I)<0&&(N[I]=x[I]);if(x!=null&&S)for(var I of S(x))D.indexOf(I)<0&&C.call(x,I)&&(N[I]=x[I]);return N};function w(x){var D=x,{src:N,maxWidth:I,imageSizingCss:A,imageProps:M={},alt:R="",className:F,imageRef:Z,ignorePicture:V,objectFit:G,radius:$,useRetinaSizing:K,imageIsFixedWidth:H}=D,re=_(D,["src","maxWidth","imageSizingCss","imageProps","alt","className","imageRef","ignorePicture","objectFit","radius","useRetinaSizing","imageIsFixedWidth"]);const ee=K?[I*2,I*3]:[],Y=Math.max(...ee,I);let J=null;A?J=A:H?J=`${I}px`:J="100vw";const te=z=>{if(M!=null&&M.height){const Q=I/M.height;return{height:Math.floor(z/Q),aspect:null}}return{}},ie=Array.from(new Set([...O.WEB_RESPONSIVE_IMAGE_WIDTHS,I,...ee]));ie.sort((z,Q)=>z-Q);const se=ie.map(z=>({width:z,src:(0,y.imginary)(N,z,i(i({},M),te(z)))})).filter(z=>z.width<=Y),W=ie.map(z=>({width:z,src:(0,y.imginary)(N,z,s(i(i({},M),te(z)),{format:"webp"}))})).filter(z=>z.width<=Y);return(0,n.h)("picture",{style:V?{display:"contents"}:void 0},W.length>1?(0,n.h)("source",{type:"image/webp",srcset:W.map(z=>`${z.src} ${z.width}w`).join(", "),sizes:J}):(0,n.h)("source",{type:"image/webp",srcset:(0,y.imginary)(N,I,s(i({},M),{format:"webp"}))}),(0,n.h)("img",s(i({className:u()(E.Z.img,F,G&&E.Z[`object-fit-${G}`],(0,v.yK)({radius:$})),src:(0,y.imginary)(N,I,M),sizes:J,alt:R,srcset:se.length>1?se.map(z=>`${z.src} ${z.width}w`).join(", "):void 0},re),{width:I,height:M==null?void 0:M.height,ref:Z})))}},30105:(j,l,e)=>{"use strict";e.d(l,{L:()=>v});var n=e(6400),c=e(94184),u=e.n(c);const v=({children:O,title:y="",content:E="",className:d="",showFirst:g=!1,disabled:P=!1})=>P?(0,n.h)(n.Fragment,null,O):(0,n.h)("div",{className:`popover-container ${d}`},(0,n.h)("div",{className:u()("popover typography",{showfirst:g})},(0,n.h)("div",{className:"content"},y&&(0,n.h)("strong",null,y),E&&(0,n.h)("section",null,E)),(0,n.h)("div",{className:"popover-tail"})),O)},25346:(j,l,e)=>{"use strict";e.d(l,{Z:()=>Z});var n=e(6400),c=e(94184),u=e.n(c),v=e(15045),O=e(83322),y=e(3258),E=e(90304),d=e(39419),g=e.n(d),P=e(7922),S=e(93830),T=e(92379),C=Object.defineProperty,p=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,_=(V,G,$)=>G in V?C(V,G,{enumerable:!0,configurable:!0,writable:!0,value:$}):V[G]=$,w=(V,G)=>{for(var $ in G||(G={}))i.call(G,$)&&_(V,$,G[$]);if(p)for(var $ of p(G))s.call(G,$)&&_(V,$,G[$]);return V};const x=5,D="video:playback_location:",N=4*60,I=60,A=60,M=3,R=60,F={hls:"application/x-mpegURL",mp4:"video/mp4"};class Z extends n.Component{constructor(G,$){var K;super(G,$),this.player=null,this.previewHiddingTimeout=null,this.containerRef=(0,n.createRef)(),this.onLoadedMetadata=()=>{this.state.playbackRestoreLocation&&(this.player&&(this.player.currentTime=this.state.playbackRestoreLocation),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({playbackRestoreLocation:null,previewHidden:!0}),3e3))},this.onLoadedData=()=>{this.state.playbackRestoreLocation&&(this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playbackRestoreLocation:null,previewHidden:!0}))},this.onCanPlay=()=>{this.onTimeUpdate()},this.onPlay=()=>{var re;(re=d.globalPlaybackNotifier)==null||re.emit("play",this),this.setState({playing:!0}),this.track(y.FP.VIDEO_PLAY_BUTTON_CLICKED)},this.onPause=()=>{this.setPlaybackRestoreLocation(),this.setState({playing:!1,waiting:!1}),this.track(y.FP.VIDEO_PAUSE_BUTTON_CLICKED),this.player&&this.player.currentTime>this.player.duration-.1&&this.onVideoReachEnd()},this.onTimeUpdate=()=>{!this.player||!isFinite(this.player.duration)||(!this.props.duration&&this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?this.setState({duration:this.props.duration||this.player.duration,currentTime:this.player.currentTime,waiting:!1}):this.setState({waiting:!1}))},this.onWaiting=()=>{this.setState({waiting:Date.now()})},this.onPlaying=()=>{this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playing:!0,waiting:!1,previewHidden:!0,attemptingToPlay:!1,autoPlay:!1,hasPlayed:!0})},this.onVideoReachEnd=({resetTime:re=!0}={})=>{this.player&&!this.player.paused&&this.player.pause(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1,hasReachedEnd:!0}),re&&this.player&&!(0,d.isIOs)()&&!this.props.doNotResetOnEnd&&(this.player.currentTime=0),(0,d.exitFullscreen)(),(0,d.exitPictureInPicture)(),this.props.onFinishVideo&&this.props.onFinishVideo()},this.onPreviewClick=()=>{var re,ee;this.state.previewHidden||this.href()||this.playbackEnabled()&&(this.state.attemptingToPlay?(this.setState({attemptingToPlay:!1,autoPlay:!1}),(re=this.player)==null||re.pause(),this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout)):(this.setState({attemptingToPlay:!0}),(ee=this.player)==null||ee.play(),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({previewHidden:!0}),3e3)))},this.onContextMenu=re=>{re.preventDefault()},this.onAllSourcesFailed=()=>{var re,ee;console.error("Failed to load all video sources, falling back to preview image"),this.setState({previewHidden:!1,attemptingToPlay:!1,autoPlay:!1,allSourcesFailed:!0}),(ee=(re=this.props).onPlaybackFailed)==null||ee.call(re)},this.onBeforeUnload=()=>{this.setPlaybackRestoreLocation(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1}),this.player&&!this.player.paused&&this.player.pause()},this.onGlobalPlay=re=>{this!==re&&this.player&&(this.track(y.FP.VIDEO_PAUSE_BUTTON_CLICKED,{implicit:!0}),this.player.pause())},this.onGlobalKeyDown=re=>{var ee;this.props.noKeyboardShortcuts||re.metaKey||re.altKey||re.ctrlKey||document.activeElement!==document.body||!this.player||((ee=d.globalPlaybackNotifier)==null?void 0:ee.listenerCount("play"))>1&&this.player.paused||(re.key==="f"?(0,d.isFullscreen)()?(0,d.exitFullscreen)()&&re.preventDefault():((0,d.goFullscreen)(this.player)&&re.preventDefault(),this.player.paused&&this.player.play()):re.key===" "&&!(0,d.isFullscreen)()?(re.preventDefault(),this.player.paused?this.player.play():this.player.pause()):re.key==="ArrowRight"?this.player.currentTime+5>this.player.duration?this.onVideoReachEnd():(this.player.currentTime+=5,this.state.previewHidden||this.setState({previewHidden:!0,attemptingToPlay:!1})):re.key==="ArrowLeft"&&(this.player.currentTime-=5))},this.cta=()=>"",this.href=()=>this.props.href,this.playbackEnabled=()=>!0;const H=this.getPlaybackRestoreLocation();this.state={playbackRestoreLocation:H,currentTime:0,waiting:!0,duration:(K=G.mediaUpload.duration)!=null?K:null,autoPlay:G.autoPlay,playing:!1,attemptingToPlay:G.autoPlay,previewHidden:H!==null&&H>0,hasPlayed:!1,hasReachedEnd:!1,browserCanPlayHLS:!1,useHLSJS:!0,HLSerrored:!1,allSourcesFailed:!1}}componentDidMount(){var G;this._initHlsjs(),(G=d.globalPlaybackNotifier)==null||G.on("play",this.onGlobalPlay),typeof window!="undefined"&&(document.addEventListener("keydown",this.onGlobalKeyDown,!1),window.addEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.volume=1,this.player.addEventListener("loadedmetadata",this.onLoadedMetadata),this.player.addEventListener("loadeddata",this.onLoadedData),this.player.addEventListener("canplay",this.onCanPlay),this.player.addEventListener("play",this.onPlay),this.player.addEventListener("pause",this.onPause),this.player.addEventListener("timeupdate",this.onTimeUpdate),this.player.addEventListener("waiting",this.onWaiting),this.player.addEventListener("playing",this.onPlaying),this.player.addEventListener("contextmenu",this.onContextMenu)),this.onTimeUpdate(),!this.props.isStatic&&window&&window._preloads.mux_env_key&&e.e(4125).then(e.t.bind(e,54125,23)).then($=>{const K=$.default||$;K.monitor(this.player,{Hls:this.hlsModule,hlsjs:this.hls,debug:!1,data:{env_key:window._preloads.mux_env_key,player_name:"substack",player_init_time:K.utils.now()}})})}componentWillUnmount(){var G;this.setPlaybackRestoreLocation(),(G=d.globalPlaybackNotifier)==null||G.off("play",this.onGlobalPlay),typeof window!="undefined"&&(document.removeEventListener("keydown",this.onGlobalKeyDown,!1),window.removeEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.removeEventListener("loadedmetadata",this.onLoadedMetadata),this.player.removeEventListener("loadeddata",this.onLoadedData),this.player.removeEventListener("canplay",this.onCanPlay),this.player.removeEventListener("play",this.onPlay),this.player.removeEventListener("pause",this.onPause),this.player.removeEventListener("timeupdate",this.onTimeUpdate),this.player.removeEventListener("waiting",this.onWaiting),this.player.removeEventListener("playing",this.onPlaying),this.player.removeEventListener("contextmenu",this.onContextMenu)),this.onVideoReachEnd({resetTime:!1}),this.hls!=null&&this.hls.destroy()}componentDidUpdate(G,$){var K,H,re;if((this.props.noPreview!==G.noPreview||this.props.noControls!==G.noControls||this.props.noKeyboardShortcuts!==G.noKeyboardShortcuts)&&this._initHlsjs(),!this.state.playing&&typeof this.state.waiting=="number"&&typeof $.waiting!="number"){const{useHLSJS:ee,browserCanPlayHLS:Y,HLSerrored:J}=this.state;this.track(y.FP.VIDEO_BUFFERING_STARTED,{use_hlsjs:ee,browser_can_play_hls:Y,hls_errored:J})}this.state.playing&&!$.playing&&!this.state.waiting&&typeof $.waiting=="number"&&this.track(y.FP.VIDEO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-$.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor($.currentTime)&&Math.floor(this.state.currentTime)%x===0&&this.track(y.FP.VIDEO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime),is_clip:(K=this.props.isClip)!=null?K:!1}),!this.state.playing&&$.playing&&((H=this.player)!=null&&H.ended)&&this.track(y.FP.VIDEO_PLAYBACK_COMPLETED,{is_clip:(re=this.props.isClip)!=null?re:!1})}getPlaybackLocationKey(){return`${D}${this.props.mediaUpload.id}`}getPlaybackRestoreLocation(){if(this.playbackEnabled()&&this.props.restorePlaybackLocation&&this.props.mediaUpload.duration&&this.props.mediaUpload.duration>N){const G=(0,E.mM)(this.getPlaybackLocationKey());if((G==null?void 0:G.currentTime)>I&&this.props.duration!==null&&this.props.duration!==void 0&&this.props.duration-G.currentTime>A){const $=Date.now()-G.watchedAt>R?M:0,K=Math.max(0,G.currentTime-$);if(K)return K}}return null}setPlaybackRestoreLocation(){var G;this.playbackEnabled()&&((G=this.player)!=null&&G.currentTime)&&(0,E.ex)(this.getPlaybackLocationKey(),{currentTime:this.player.currentTime,watchedAt:Date.now()})}track(G,$={}){const K=this.props.mediaUpload.post_id;K&&(0,y.j)(G,Object.assign({post_id:K,current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0},$))}render(G,$){const{height:K,width:H}=(0,O.videoPlayerDimensions)(G.mediaUpload,{isStatic:G.isStatic}),re={paddingBottom:`${Math.min(100,100*K/H).toFixed(4)}%`},ee=u()("video-player",{"video-player-clip":G.clippingMode});return(0,n.h)("div",{ref:this.containerRef,className:u()("video-player-wrapper",G.className,{"with-preview":!$.previewHidden,"is-static":G.isStatic,"full-width":H>=960,"video-player-wrapper-clip":G.clippingMode}),onClick:this.onPreviewClick},this.href()?(0,n.h)("a",{className:ee,href:this.href(),style:re},this.renderPlayer(this.props,this.state)):(0,n.h)("div",{className:ee,style:re},this.renderPlayer(this.props,this.state)),(0,n.h)(T.ie,{visible:this.props.clippingMode,videoPlayerRef:this.player,containerRef:this.containerRef,videoUpload:this.props.mediaUpload,post:this.props.post,onCancel:()=>{var Y,J;return(J=(Y=this.props).onClippingModeCancel)==null?void 0:J.call(Y)}}))}renderPlayer({hidePlayButton:G,mediaUpload:$,pub:K,reaction_token:H=null,isStatic:re,noControls:ee,noPreview:Y,startMuted:J,usePreview:te},{autoPlay:ie,attemptingToPlay:se,previewHidden:W,useHLSJS:z,browserCanPlayHLS:Q,HLSerrored:oe}){const ne=!Y&&!W,ae=re||!this.playbackEnabled(),le=(0,v.updateQuery)(`/api/v1/video/upload/${$.id}/src`,{token:H,override_publication_id:K==null?void 0:K.id,preview:te});let ue=[];return Q?ue=["hls","mp4"]:z?ue=[]:(0,d.isAndroid)()?ue=["hls","mp4"]:oe?ue=["mp4"]:ue=["hls","mp4"],[this.playbackEnabled()&&!re&&typeof window!="undefined"&&(0,n.h)("video",{ref:fe=>this.player=fe,controls:!ee&&!ne,controlsList:"nodownload",autoPlay:ie&&this.playbackEnabled(),poster:`${(0,v.getMediaUploadThumbnailUrl)($)}?refresh=${$.updated_at}`,muted:J},ue.map((fe,he)=>(0,n.h)("source",{src:(0,v.updateQuery)(le,{type:fe}),type:F[fe],onError:he===ue.length-1?this.onAllSourcesFailed:void 0}))),ne&&!G&&(0,n.h)(n.Fragment,null,ae&&(0,n.h)("img",{className:"video-player-preview","data-testid":re?"video-player-static-preview-image":"",width:550,src:(0,v.getMediaUploadThumbnailUrlForPlayer)($,{pub:K,isStatic:re}),"data-component-name":"VideoPlayer-PreviewImg"}),!re&&(0,n.h)("div",{className:u()("video-player-button",{"no-text":!this.cta(),"video-player-button-small":te})},(0,n.h)("a",{className:"primary",href:this.href(),native:!0},(0,n.h)(P.Z,{className:u()({loading:se&&this.playbackEnabled()})},(0,n.h)(S.Z,{alt:"play",stroke:"#FFFFFF",fill:"#FFFFFF"}),(0,n.h)("span",null,this.cta())))))]}_initHlsjs(){const G=!!(this.player&&this.player.canPlayType("application/vnd.apple.mpegurl"));if(G){this.setState({browserCanPlayHLS:G});return}e.e(7631).then(e.t.bind(e,67631,23)).then($=>{this._initHlsjsWrapped($.default)})}_initHlsjsWrapped(G){const $=this,K=G.isSupported();if(!G.isSupported()){this.setState({useHLSJS:K});return}this.hls!=null&&this.hls.destroy();const H={},re=new G(w({enableWorker:!1},H));this.player!=null&&re.attachMedia(this.player);const{mediaUpload:ee,pub:Y,reaction_token:J=null}=this.props,te=(0,v.updateQuery)(`/api/v1/video/upload/${ee.id}/src`,{token:J,override_publication_id:Y==null?void 0:Y.id,type:"hls",preview:this.props.usePreview});re.on(G.Events.MEDIA_ATTACHED,()=>{re.loadSource(te),re.on(G.Events.MANIFEST_PARSED,()=>{var ie;this.state.autoPlay&&((ie=this.player)==null||ie.play().catch(()=>console.log("Unable to autoplay prior to user interaction with the dom.")))})}),re.on(G.Events.ERROR,function(ie,se){if(se.fatal)switch(se.type){case G.ErrorTypes.NETWORK_ERROR:$.setState({useHLSJS:!1}),$.hls.destroy(),re.startLoad();break;case G.ErrorTypes.MEDIA_ERROR:re.recoverMediaError();break;default:this._initHlsjs();break}}),this.hls=re,this.hlsModule=G}}},25877:(j,l,e)=>{"use strict";e.d(l,{CH:()=>Z,KG:()=>F,Yq:()=>$});var n=e(6400),c=e(30396),u=e(88812),v=e(83322),O=e(19698),y=e(8479),E=e(39419),d=e.n(E),g=e(29811),P=e(25752),S=e(67963),T=Object.defineProperty,C=Object.defineProperties,p=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,w=(K,H,re)=>H in K?T(K,H,{enumerable:!0,configurable:!0,writable:!0,value:re}):K[H]=re,x=(K,H)=>{for(var re in H||(H={}))s.call(H,re)&&w(K,re,H[re]);if(i)for(var re of i(H))_.call(H,re)&&w(K,re,H[re]);return K},D=(K,H)=>C(K,p(H)),N=(K,H,re)=>new Promise((ee,Y)=>{var J=se=>{try{ie(re.next(se))}catch(W){Y(W)}},te=se=>{try{ie(re.throw(se))}catch(W){Y(W)}},ie=se=>se.done?ee(se.value):Promise.resolve(se.value).then(J,te);ie((re=re.apply(K,H)).next())});const I={mutes:[],blocks:[],blocked:[]},A=(0,n.createContext)({result:I,refetch:()=>null});A.displayName="UserBlockContext";function M({user:K,children:H}){var re;const ee=useFetch({pathname:"/api/v1/blocks/ids",deps:[K],auto:!!K});return h(A.Provider,{value:{result:(re=ee.result)!=null?re:I,refetch:ee.refetch}},H)}function R(){return(0,c.qp)(A)}function F(K){const{result:{mutes:H,blocks:re,blocked:ee}}=(0,c.qp)(A);return K?H.includes(K)?"muting":re.includes(K)?"blocking":ee.includes(K)?"blocked":null:null}function Z(K,H){const re=(0,S.aF)(),ee=!!(re&&K&&re.id!==K.id),Y=R(),J=F(K==null?void 0:K.id),te=(0,g.pm)(),ie=(0,v.guessFirstName)((K==null?void 0:K.name)||""),se=()=>N(this,null,function*(){if(K){try{yield(0,y.rd)(`/api/v1/blocks/${K.id}`,{method:"POST",json:{type:"mute",surface:H}})}catch(ne){te.popToast(ae=>(0,n.h)(g.FN,D(x({},ae),{text:(0,E.getNetworkErrorMessage)(ne)})));return}Y.refetch(),te.popToast(ne=>(0,n.h)(g.FN,D(x({},ne),{text:`${K.name||"User"} muted`,Icon:O.Z})))}}),W=()=>N(this,null,function*(){if(K){try{yield(0,y.rd)(`/api/v1/blocks/${K.id}`,{method:"DELETE",query:{surface:H}})}catch(ne){te.popToast(ae=>(0,n.h)(g.FN,D(x({},ae),{text:(0,E.getNetworkErrorMessage)(ne)})));return}Y.refetch(),te.popToast(ne=>(0,n.h)(g.FN,D(x({},ne),{text:`${K.name||"User"} unmuted`,Icon:O.Z})))}}),z=()=>N(this,null,function*(){if(K){try{yield(0,y.rd)(`/api/v1/blocks/${K.id}`,{method:"POST",json:{type:"block",surface:H}})}catch(ne){te.popToast(ae=>(0,n.h)(g.FN,D(x({},ae),{text:(0,E.getNetworkErrorMessage)(ne)})));return}Y.refetch(),te.popToast(ne=>(0,n.h)(g.FN,D(x({},ne),{text:`${K.name||"User"} blocked`,Icon:u.Z})))}}),Q=()=>N(this,null,function*(){if(K){try{yield(0,y.rd)(`/api/v1/blocks/${K.id}`,{method:"DELETE",query:{surface:H}})}catch(ne){te.popToast(ae=>(0,n.h)(g.FN,D(x({},ae),{text:(0,E.getNetworkErrorMessage)(ne)})));return}Y.refetch(),te.popToast(ne=>(0,n.h)(g.FN,D(x({},ne),{text:`${K.name||"User"} unblocked`,Icon:u.Z})))}}),oe=[];return ee&&(J!=="blocking"&&oe.push((0,n.h)(P.sN,{icon:(0,n.h)(O.Z,null),onClick:J==="muting"?W:se},J==="muting"?"Unmute":"Mute")),oe.push((0,n.h)(P.sN,{icon:(0,n.h)(u.Z,null),onClick:J==="blocking"?Q:z},J==="blocking"?"Unblock":"Block"))),oe}const V=(0,n.createContext)(!1);V.displayName="MuteFreeZone";function G({muteFree:K=!0,children:H}){return h(V.Provider,{value:K},H)}function $(){return(0,c.qp)(V)}},2405:(j,l,e)=>{"use strict";e.d(l,{LC:()=>O,uL:()=>v});var n=e(6400),c=e(30396);const u=(0,n.createContext)(null);u.displayName="CrossPostContext";function v({crossPost:y=null,children:E}){return(0,n.h)(u.Provider,{value:y},E)}function O(){return(0,c.qp)(u)}},29910:(j,l,e)=>{"use strict";e.d(l,{Cq:()=>v,UN:()=>O,_j:()=>u});var n=e(6400),c=e(30396);const u=(0,n.createContext)({isSubstack:!1,customDomain:null});u.displayName="DomainInfoContext";function v(){return(0,c.qp)(u)}function O({value:y,children:E}){const d=(0,c.Ye)(()=>y,Object.values(y));return(0,n.h)(u.Provider,{value:d},E)}},4190:(j,l,e)=>{"use strict";e.d(l,{Vt:()=>I,f9:()=>M,jc:()=>A,kx:()=>N,ng:()=>D,xu:()=>_});var n=e(6400),c=e(98661),u=e(30396),v=e(80569),O=e.n(v),y=Object.defineProperty,E=Object.defineProperties,d=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,T=(R,F,Z)=>F in R?y(R,F,{enumerable:!0,configurable:!0,writable:!0,value:Z}):R[F]=Z,C=(R,F)=>{for(var Z in F||(F={}))P.call(F,Z)&&T(R,Z,F[Z]);if(g)for(var Z of g(F))S.call(F,Z)&&T(R,Z,F[Z]);return R},p=(R,F)=>E(R,d(F)),i=(R,F,Z)=>new Promise((V,G)=>{var $=re=>{try{H(Z.next(re))}catch(ee){G(ee)}},K=re=>{try{H(Z.throw(re))}catch(ee){G(ee)}},H=re=>re.done?V(re.value):Promise.resolve(re.value).then($,K);H((Z=Z.apply(R,F)).next())}),s;const _={variantOverrides:{},experimentFeatures:{},experimentExposures:{}},w=typeof window!="undefined"&&window._preloads||_,x=typeof window!="undefined"?(s=window._preloads)==null?void 0:s.siteConfigs:{},D=(R,F)=>{const Z=H=>{if(!H||!R)return null;const re=R[H];return re===void 0?null:re},V=H=>{if(!H)return null;const re=Z(H);if(re&&typeof re=="string"&&re!=="experiment")return{intendedVariant:re,shouldLog:!1};if(F.variantOverrides&&H in F.variantOverrides)return{intendedVariant:F.variantOverrides[H],shouldLog:!1};const ee=F.experimentExposures||{};if(ee[H])return{intendedVariant:ee[H],shouldLog:!1};const Y=F.experimentFeatures||{};return Y[H]?{intendedVariant:Y[H],shouldLog:!0}:null};return{getExperimentVariant:H=>{const re=V(H);return re?re.intendedVariant:null},exposeExperiment:H=>i(void 0,null,function*(){const{intendedVariant:re,shouldLog:ee}=V(H)||{};if(!ee)return!1;if(typeof window!="undefined"){window._preloads.experimentExposures=window._preloads.experimentExposures||{};const Y=window._preloads.experimentExposures;Y[H]=re;try{yield O().post("/api/v1/experiment_exposure").send({experiment_name:H,variant_name:re})}catch(J){delete Y[H]}}return!0}),getExposedVariant:H=>{if(!H)return null;const re=Z(H);if(re&&typeof re=="string"&&re!=="experiment")return re;if(F.variantOverrides&&H in F.variantOverrides)return F.variantOverrides[H];const ee=F.experimentExposures||{};return ee[H]?ee[H]:null}}},N=(0,n.createContext)(D(x,w));N.displayName="ExperimentsContext";function I({siteConfigs:R={},experimentInfo:F,children:Z}){const V=F||w,G=(0,u.Ye)(()=>D(R,V),[R,...Object.values(V)]);return(0,n.h)(N.Provider,{value:G},Z)}function A(){return(0,u.qp)(N)}const M=R=>{const F=(0,c.forwardRef)((Z,V)=>{const G=A();return(0,n.h)(R,p(C(C({},G),Z),{ref:V}))});return F.displayName=`withExperimentsContext(${R.displayName||R.name||"Anonymous"})`,F}},48969:(j,l,e)=>{"use strict";e.d(l,{OK:()=>W,Rc:()=>se,Sv:()=>te,Xe:()=>re,oJ:()=>ee,oh:()=>J,yr:()=>ie});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(82569),y=e.n(O),E=e(95591),d=e(69518),g=e(60779),P=e(59386),S=e(26686),T=e(84606),C=e(50292),p=e(83322),i=e(8479),s=e(39419),_=e.n(s),w=e(29811),x=e(25752),D=e(25877),N=e(67963),I=e(11321),A=Object.defineProperty,M=Object.defineProperties,R=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,G=(z,Q,oe)=>Q in z?A(z,Q,{enumerable:!0,configurable:!0,writable:!0,value:oe}):z[Q]=oe,$=(z,Q)=>{for(var oe in Q||(Q={}))Z.call(Q,oe)&&G(z,oe,Q[oe]);if(F)for(var oe of F(Q))V.call(Q,oe)&&G(z,oe,Q[oe]);return z},K=(z,Q)=>M(z,R(Q)),H=(z,Q,oe)=>new Promise((ne,ae)=>{var le=he=>{try{fe(oe.next(he))}catch(be){ae(be)}},ue=he=>{try{fe(oe.throw(he))}catch(be){ae(be)}},fe=he=>he.done?ne(he.value):Promise.resolve(he.value).then(le,ue);fe((oe=oe.apply(z,Q)).next())});function re(){return(0,S._)("/api/v1/feed/following")}function ee(){const{mutate:z}=(0,E.kY)();return(...Q)=>z("/api/v1/feed/following",...Q)}function Y(z){const{data:Q}=re();return(Q!=null?Q:[]).includes(z!=null?z:0)}function J(z,Q){const{isFollowing:oe,toggle:ne}=te(z,Q),ae=(0,N.aF)(),le=(0,D.KG)(z==null?void 0:z.id),ue=!!(ae&&z&&ae.id!==z.id)&&!le,fe=(0,p.guessFirstName)((z==null?void 0:z.name)||""),he=[];return ue&&he.push((0,n.h)(x.sN,{icon:oe?(0,n.h)(P.m,{stroke:"var(--color-primary)"}):(0,n.h)(g.w,{stroke:"var(--color-primary)"}),onClick:ne},oe?`Unfollow ${fe}`:`Follow ${fe}`)),he}function te(z,Q){const oe=(0,N.aF)(),{onboardingModalRef:ne}=(0,C.SJ)(),ae=Y(z==null?void 0:z.id),{mutate:le,data:ue}=re(),fe=(0,w.pm)(),he=(0,p.guessFirstName)((z==null?void 0:z.name)||""),be=Te=>H(this,null,function*(){if(z){if(!oe&&ne.current){ne.current.open();return}le((we=[])=>Te?[...we,z.id]:y()(we,z.id),{revalidate:!1});try{yield(0,i.rd)(`/api/v1/feed/${z.id}/follow`,{method:Te?"POST":"DELETE",json:{surface:Q}}),fe.popToast(we=>(0,n.h)(w.FN,K($({},we),{Icon:Te?d.$:P.m,text:Te?`Followed ${he}`:`Unfollowed ${he}`})))}catch(we){fe.popToast(Se=>(0,n.h)(w.FN,K($({},Se),{text:(0,s.getNetworkErrorMessage)(we)})));return}}});return{isFollowing:ae,toggle:()=>be(!ae),isLoaded:!!ue}}function ie(z,Q){const{isFollowing:oe,toggle:ne}=te(z,Q),[ae,le]=(0,c.eJ)(!1);return{isFollowing:oe,buttonProps:{onClick:()=>{ne(),oe||le(!0)},onMouseLeave:()=>le(!1),className:v()(I.Z.followButton,ae&&I.Z.justFollowed)},css:I.Z}}const se=(0,T.E7)({className:I.Z.on,as:"span"}),W=(0,T.E7)({className:I.Z.off,as:"span"})},28488:(j,l,e)=>{"use strict";e.d(l,{M1:()=>x,_7:()=>D,fz:()=>N,wj:()=>w});var n=e(6400),c=e(98661),u=e(30396),v=e(36808),O=e.n(v),y=e(3258),E=e(18349),d=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,p=(I,A,M)=>A in I?d(I,A,{enumerable:!0,configurable:!0,writable:!0,value:M}):I[A]=M,i=(I,A)=>{for(var M in A||(A={}))T.call(A,M)&&p(I,M,A[M]);if(S)for(var M of S(A))C.call(A,M)&&p(I,M,A[M]);return I},s=(I,A)=>g(I,P(A));const _="preferred_language",w=(0,n.createContext)({language:"en",baseLanguage:"en",preferredLanguage:O().get(_),iString:(I,...A)=>I,iContext:(I,A)=>A,iPlural:(I,A,M)=>M>1?A:I,iTemplate:(I,...A)=>(0,E.defaultTemplateTranslate)(I,...A),iCombo:(I,A,M,R,...F)=>A,setPreferredLanguage:I=>{}});w.displayName="I18NContext";function x(){return(0,u.qp)(w)}function D({children:I,language:A="en",preferredLanguage:M}){const[R,F]=(0,u.eJ)(()=>O().get(_)||M);(0,u.d4)(()=>{R?O().set(_,R):O().remove(_)},[R]);const Z=(0,u.Ye)(()=>{const V=R||A;return i({language:V,baseLanguage:A,preferredLanguage:R,setPreferredLanguage:$=>{(0,y.j)(y.FP.PREFERRED_LANGUAGE_SET,{from:V,to:$,surface:"writer-signup"}),F($)}},E.I18N.i(V))},[A,R]);return(0,n.h)(w.Provider,{value:Z},I)}function N(I){const A=(0,c.forwardRef)((M,R)=>{const F=x();return(0,n.h)(I,s(i(i({},F),M),{ref:R}))});return A.displayName=`withI18NContext(${I.displayName||I.name||"Anonymous"})`,A}},85065:(j,l,e)=>{"use strict";e.d(l,{N$:()=>N,lR:()=>A,yH:()=>Z});var n=e(6400),c=e(30396),u=e(80569),v=e.n(u),O=e(6742),y=e(35442),E=e(63503),d=e(8479),g=e(39419),P=e.n(g),S=Object.defineProperty,T=Object.defineProperties,C=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,_=(G,$,K)=>$ in G?S(G,$,{enumerable:!0,configurable:!0,writable:!0,value:K}):G[$]=K,w=(G,$)=>{for(var K in $||($={}))i.call($,K)&&_(G,K,$[K]);if(p)for(var K of p($))s.call($,K)&&_(G,K,$[K]);return G},x=(G,$)=>T(G,C($)),D=(G,$,K)=>new Promise((H,re)=>{var ee=te=>{try{J(K.next(te))}catch(ie){re(ie)}},Y=te=>{try{J(K.throw(te))}catch(ie){re(ie)}},J=te=>te.done?H(te.value):Promise.resolve(te.value).then(ee,Y);J((K=K.apply(G,$)).next())});function N({defaultState:G,shouldLoad:$=!0,shouldPoll:K=!1,activityToken:H,children:re}){return(0,n.h)(M,{defaultState:G==null?void 0:G.activity,shouldLoad:$,shouldPoll:K,activityToken:H},(0,n.h)(V,{shouldLoad:$},re))}const I=(0,n.createContext)({lastViewedAt:null,activityUnreadCount:0,activityUnreadAtMax:!1,refetch:()=>D(void 0,null,function*(){return!0}),markAllAsRead:()=>D(void 0,null,function*(){}),hasLoadedOnce:!1});I.displayName="NotificationsContext";function A(){return(0,c.qp)(I)}function M({defaultState:G,shouldLoad:$=!0,shouldPoll:K=!1,activityToken:H,children:re}){const ee=(0,d.ib)({pathname:"/api/v1/activity/unread",deps:[],auto:$,initialResult:G,query:{token:H}}),Y=!(0,O.th)(),J=()=>D(this,null,function*(){const ie=yield v().post("/api/v1/activity/unread").send({after:new Date().toISOString(),token:H});ee.setResult(ie.body)});(0,E.Z)(()=>D(this,null,function*(){var ie;if(K&&$&&(0,g.isWindowVisible)()){const se=((ie=ee.result)==null?void 0:ie.count)||0,W=yield ee.refetch(),z=!(W instanceof Error)&&W.count||0;if(se!==z)return!0}}),6e4);const te=ee.result!=null?ee.result.count:0;return(0,c.d4)(()=>{var ie;try{(ie=navigator.setAppBadge)==null||ie.call(navigator,te)}catch(se){console.warn(se)}},[te]),(0,n.h)(I.Provider,{value:{lastViewedAt:ee.result!=null?ee.result.lastViewedAt:null,activityUnreadCount:te,activityUnreadAtMax:ee.result!=null?ee.result.max:!1,refetch:ee.refetch,markAllAsRead:J,hasLoadedOnce:ee.hasLoadedOnce}},(0,n.h)(y.Metadata,{badge:Y?te:void 0}),re)}const R={count:0,max:!1,refetch:()=>D(void 0,null,function*(){return!0}),markAllAsRead:()=>D(void 0,null,function*(){}),hasLoadedOnce:!1},F=(0,n.createContext)(R);F.displayName="SavedPostsContext";function Z(){return(0,c.qp)(F)}function V({shouldLoad:G=!0,children:$}){const K=(0,d.ib)({pathname:"/api/v1/posts/saved/unread-count",deps:[],auto:G,initialResult:R}),H=()=>K.refetch({method:"PUT"});return(0,n.h)(F.Provider,{value:x(w({},K.result),{refetch:K.refetch,markAllAsRead:H,hasLoadedOnce:K.hasLoadedOnce})},$)}},92643:(j,l,e)=>{"use strict";e.d(l,{Un:()=>P,am:()=>g});var n=e(6400),c=e(30396),u=e(80569),v=e.n(u),O=e(72985),y=e(67963),E=(S,T,C)=>new Promise((p,i)=>{var s=x=>{try{w(C.next(x))}catch(D){i(D)}},_=x=>{try{w(C.throw(x))}catch(D){i(D)}},w=x=>x.done?p(x.value):Promise.resolve(x.value).then(s,_);w((C=C.apply(S,T)).next())});const d=(0,n.createContext)({viewerProfile:{profile:null,loading:!1},setViewerProfile:()=>{},profiles:new Map,setProfile:()=>{}});d.displayName="ProfileContext";function g({value:S,handle:T,children:C}){const[p,i]=(0,c.eJ)({profile:null,loading:!1}),[s,_]=(0,c.eJ)(new Map(S?[[T||S.id,{profile:S,loading:!1}]]:[])),w={viewerProfile:p,setViewerProfile:(0,c.I4)((x,D)=>{i(N=>N.profile===x&&N.loading===D?N:{profile:x,loading:D})},[]),profiles:s,setProfile:(0,c.I4)((x,D,N)=>{_(I=>{var A,M;if(((A=I.get(x))==null?void 0:A.profile)===D&&((M=I.get(x))==null?void 0:M.loading)===N)return I;const R=new Map(I);return R.set(x,{profile:D,loading:N}),R})},[])};return(0,n.h)(d.Provider,{value:w},C)}function P({subjectId:S,subjectName:T,delayLoading:C}){const p=(0,y.aF)(),{viewerProfile:i,setViewerProfile:s,profiles:_,setProfile:w}=(0,c.qp)(d),[x,D]=(0,c.eJ)(null);if(typeof S=="string")if(S.includes("-")){const F=S.split("-");S=F[0],T=F.slice(1).join("-")}else S.startsWith("@")&&(S=S.slice(1));const N=_.get(S),I=(0,c.I4)(F=>E(this,null,function*(){s(i.profile,!0);const Z=(0,O.cleanSlug)(F.name,{hashIfEmpty:!0});try{const V=yield v().get(`/api/v1/user/${F.id}-${Z}/public_profile/self`).then(G=>G.body);s(V,!1)}catch(V){V instanceof Error&&D(V),s(null,!1)}}),[i,s,D]),A=N==null?void 0:N.profile,M=i.profile,R=(0,c.I4)(F=>E(this,null,function*(){!M&&p&&I(p),w(F,A,!0);try{const Z=T&&(0,O.cleanSlug)(T,{hashIfEmpty:!0}),V=yield Z?v().get(`/api/v1/user/${F}-${Z}/public_profile`).then(G=>G.body):v().get(`/api/v1/user/${F}/public_profile`).then(G=>G.body);w(F,V,!1)}catch(Z){Z instanceof Error&&D(Z),w(F,A,!1)}}),[A,w,T,M,I,p]);return(0,c.d4)(()=>{!C&&!(N!=null&&N.profile)&&!(N!=null&&N.loading)&&!x&&R(S),!C&&!i.loading&&!i.profile&&!x&&p&&I(p)},[C,S,R,N,x,i,I,p]),{loading:!!(N!=null&&N.loading),viewerProfile:i.profile,subjectProfile:N==null?void 0:N.profile,refetch:R,error:x}}},71720:(j,l,e)=>{"use strict";e.d(l,{G:()=>O,I:()=>y});var n=e(6400),c=e(30396),u;const v=typeof window!="undefined"?(u=window._preloads)==null?void 0:u.pub:null,O=(0,n.createContext)(v);O.displayName="PubContext";function y(){return(0,c.qp)(O)}},32076:(j,l,e)=>{"use strict";e.d(l,{Iz:()=>D,So:()=>N,us:()=>x,vz:()=>w});var n=e(6400),c=e(98661),u=e(30396),v=e(8479),O=Object.defineProperty,y=Object.defineProperties,E=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,S=(I,A,M)=>A in I?O(I,A,{enumerable:!0,configurable:!0,writable:!0,value:M}):I[A]=M,T=(I,A)=>{for(var M in A||(A={}))g.call(A,M)&&S(I,M,A[M]);if(d)for(var M of d(A))P.call(A,M)&&S(I,M,A[M]);return I},C=(I,A)=>y(I,E(A)),p=(I,A,M)=>new Promise((R,F)=>{var Z=$=>{try{G(M.next($))}catch(K){F(K)}},V=$=>{try{G(M.throw($))}catch(K){F(K)}},G=$=>$.done?R($.value):Promise.resolve($.value).then(Z,V);G((M=M.apply(I,A)).next())}),i;const s=typeof window!="undefined"?(i=window._preloads)==null?void 0:i.publicationSettings:{},_=I=>({getSettingFor:M=>{if(!M||!I)return null;const R=I[M];return R===void 0?null:R}}),w=(0,n.createContext)(C(T({},_(s)),{changeSetting:()=>Promise.resolve(void 0)}));w.displayName="PublicationSettingsContext";const x=I=>{const A=(0,c.forwardRef)((M,R)=>{const F=N();return(0,n.h)(I,C(T(T({},F),M),{ref:R}))});return A.displayName=`withPubSettingsContext(${I.displayName||I.name||"Anonymous"})`,A};function D({settings:I={},children:A}){const[M,R]=(0,u.eJ)(I),F=V=>p(this,null,function*(){R(T(T({},M),V));try{yield(0,v.rd)("/api/v1/publication_settings",{method:"PUT",json:V})}catch(G){console.error(G)}}),Z=(0,u.Ye)(()=>C(T({},_(M)),{changeSetting:F}),[M]);return(0,n.h)(w.Provider,{value:Z},A)}function N(){return(0,u.qp)(w)}},63270:(j,l,e)=>{"use strict";e.d(l,{QA:()=>s,Xz:()=>i,vC:()=>_,xR:()=>x,xY:()=>w});var n=e(6400),c=e(98661),u=e(30396),v=Object.defineProperty,O=Object.defineProperties,y=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(D,N,I)=>N in D?v(D,N,{enumerable:!0,configurable:!0,writable:!0,value:I}):D[N]=I,S=(D,N)=>{for(var I in N||(N={}))d.call(N,I)&&P(D,I,N[I]);if(E)for(var I of E(N))g.call(N,I)&&P(D,I,N[I]);return D},T=(D,N)=>O(D,y(N)),C;const p=typeof window!="undefined"?(C=window._preloads)==null?void 0:C.siteConfigs:{},i=D=>({allConfigs:D,getConfigFor:I=>{if(!I||!D)return null;const A=D[I];return A===void 0?null:A}}),s=(0,n.createContext)(i(p));s.displayName="SiteConfigsContext";function _({siteConfigs:D={},children:N}){const I=(0,u.Ye)(()=>i(D),[D]);return(0,n.h)(s.Provider,{value:I},N)}const w=D=>{const N=(0,c.forwardRef)((I,A)=>{const M=x();return(0,n.h)(D,T(S(S({},M),I),{ref:A}))});return N.displayName=`withSiteConfigContext(${D.displayName||D.name||"Anonymous"})`,N};function x(){return(0,u.qp)(s)}},18597:(j,l,e)=>{"use strict";e.d(l,{Tf:()=>v,ze:()=>O});var n=e(6400),c=e(30396);const u=(0,n.createContext)({hasThemedBackground:!1});u.displayName="ThemeContext";function v(){var y;return!!((y=(0,c.qp)(u))!=null&&y.hasThemedBackground)}function O({value:y,children:E}){const d=(0,c.Ye)(()=>y,Object.values(y));return(0,n.h)(u.Provider,{value:d},E)}},67963:(j,l,e)=>{"use strict";e.d(l,{SE:()=>A,St:()=>x,aF:()=>N,dr:()=>D});var n=e(6400),c=e(30396),u=e(8479),v=Object.defineProperty,O=Object.defineProperties,y=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(R,F,Z)=>F in R?v(R,F,{enumerable:!0,configurable:!0,writable:!0,value:Z}):R[F]=Z,S=(R,F)=>{for(var Z in F||(F={}))d.call(F,Z)&&P(R,Z,F[Z]);if(E)for(var Z of E(F))g.call(F,Z)&&P(R,Z,F[Z]);return R},T=(R,F)=>O(R,y(F)),C=(R,F,Z)=>new Promise((V,G)=>{var $=re=>{try{H(Z.next(re))}catch(ee){G(ee)}},K=re=>{try{H(Z.throw(re))}catch(ee){G(ee)}},H=re=>re.done?V(re.value):Promise.resolve(re.value).then($,K);H((Z=Z.apply(R,F)).next())}),p,i,s;const _=typeof window!="undefined"?(p=window._preloads)==null?void 0:p.user:null,w=(s=typeof window!="undefined"&&((i=window._preloads)==null?void 0:i.userSettings))!=null?s:{},x=(0,n.createContext)({user:_,setUser:()=>{},userSettings:w,changeSetting:()=>{}});x.displayName="UserContext";function D({defaultValue:R,userSettings:F,children:Z}){const[V,G]=(0,c.eJ)(R||_),[$,K]=(0,c.eJ)(F!=null?F:w),H=(ee,Y)=>C(this,null,function*(){if(!V)return;const J=$[ee];K(T(S({},$),{[ee]:Y}));const te=typeof Y=="boolean"?Y:void 0,ie=typeof Y=="string"?Y:void 0;try{yield(0,u.rd)("/api/v1/user-setting",{method:"PUT",json:{type:ee,value_bool:te,value_datetime:ie}})}catch(se){if(se instanceof u.kp)alert(se.getMessage()),K(W=>T(S({},W),{[ee]:J}));else throw se}}),re=(0,c.Ye)(()=>({user:V,setUser:G,userSettings:$,changeSetting:H}),[V,$]);return(0,n.h)(x.Provider,{value:re},Z)}function N(){return(0,c.qp)(x).user}function I(){return useContext(x).userSettings}function A(){return(0,c.qp)(x)}const M=R=>{const F=Z=>{const V=useContext(x);return h(R,S({user:V},Z))};return F.displayName=`withUserContext(${R.name||R.displayName||"Anonymous"})`,F}},96797:(j,l,e)=>{"use strict";e.d(l,{k:()=>v});var n=e(6400),c=e(43134),u=e(18932);const v=({content:O})=>(0,n.h)(c.Z,{content:O},(0,n.h)("div",{className:u.Z.learnMoreChip},"?"))},46505:(j,l,e)=>{"use strict";e.d(l,{E:()=>v});var n=e(6400),c=e(32076),u=e(63270);const v=(0,n.createContext)({isStatic:!1,isAmp:!1,isFreeSubscribed:!0,isFreemail:!0,siteConfigValues:{},isPledged:!1});function O({isAmp:y,isFreeSubscribed:E,isFreemail:d,siteConfigValues:g,children:P,isPledged:S,publicationSettings:T}){return h(v.Provider,{value:{isStatic:!0,isAmp:y,isFreeSubscribed:E!==!1,isFreemail:d,siteConfigValues:g,isPledged:S}},h(SiteConfigsProvider,{siteConfigs:g},h(PublicationSettingsProvider,{settings:T},P)))}},18492:(j,l,e)=>{"use strict";e.d(l,{NS:()=>xe,_i:()=>Ie,zK:()=>ct,i$:()=>Qe,YF:()=>tt,Bj:()=>ye,b9:()=>Ce});var n=e(6400),c=e(94184),u=e.n(c),v=e(39693),O=e(32542),y=e(14531),E=e(6378),d=e(15045),g=e(83322),P=e(45809),S=e(89867),T=e(19696),C=e(17040),p=e(30396),i=e(46505),s=e(82626),_=e(28488),w=e(43887);const x={footer:"frontend-email-shared-typed-module__footer--B5jqg",footerSection:"frontend-email-shared-typed-module__footerSection--dumyu",divider:"frontend-email-shared-typed-module__divider--rj1aO",meta:"frontend-email-shared-typed-module__meta--vRZSC",twitter:"frontend-email-shared-typed-module__twitter--AYwKk",twitterText:"frontend-email-shared-typed-module__twitterText--GvJZv",twitterImage:"frontend-email-shared-typed-module__twitterImage--f7Oq9"};var D=Object.defineProperty,N=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,M=(Xe,Ne,ft)=>Ne in Xe?D(Xe,Ne,{enumerable:!0,configurable:!0,writable:!0,value:ft}):Xe[Ne]=ft,R=(Xe,Ne)=>{for(var ft in Ne||(Ne={}))I.call(Ne,ft)&&M(Xe,ft,Ne[ft]);if(N)for(var ft of N(Ne))A.call(Ne,ft)&&M(Xe,ft,Ne[ft]);return Xe},F=(Xe,Ne)=>{var ft={};for(var At in Xe)I.call(Xe,At)&&Ne.indexOf(At)<0&&(ft[At]=Xe[At]);if(Xe!=null&&N)for(var At of N(Xe))Ne.indexOf(At)<0&&A.call(Xe,At)&&(ft[At]=Xe[At]);return ft};function Z({pub:Xe,upsell:Ne,unsubscribe_url:ft,unsubscribeOverrideText:At,hasApp:Ht,hideStartWriting:rn}){return h(V,{upsell:Ne,hasApp:Ht,hideStartWriting:rn},h(K,{pub:Xe,unsubscribe_url:ft,unsubscribeOverrideText:At}))}function V({upsell:Xe,children:Ne,hasApp:ft,hideStartWriting:At}){const Ht=`${getSubstackUrl()}/img/email/publish-button.png`;return h("div",{className:classnames("footer",css.footer)},!ft&&Xe&&h(Fragment,null,h("div",{className:css.footerSection},Xe),h("div",{className:css.divider})),Ne&&h("div",{style:{paddingBottom:24}},Ne),h("p",{className:classnames(css.footerSection,"small powered-by-substack")},!Xe&&!ft&&h(H,null),!At&&h("a",{href:Substitutions.START_WRITING_URL},h(re,{alt:"Start writing",src:Ht,pixelRatio:3,width:135,height:40}))))}function G({primary:Xe,secondary:Ne,replaceAppButtonsWithCTA:ft}){return h(Fragment,null,h(Text.H4,{as:"div",weight:"bold",style:{marginBottom:4}},Xe),h(Text.B4,{color:"secondary",style:{marginBottom:16}},Ne),!ft&&h("div",null,h(ee,{utm_source:"substack",utm_campaign:"app-marketing"}),h(Y,{utm_source:"substack",utm_campaign:"app-marketing"})),ft&&h("div",null,h(ThemedEmailButtonMod,{href:ft.url,style:{textDecoration:"none",textAlign:"center",margin:"0 auto",height:40,paddingTop:9,paddingBottom:9}},ft.text)))}function $({children:Xe}){return h("div",{className:classnames("footer")},Xe)}function K({pub:Xe,unsubscribe_url:Ne,unsubscribeOverrideText:ft}){const{iString:At}=useI18N(),Ht=joinLines(Xe.mailing_address,", ",36);return h(Text,{as:"p",size:12,color:"secondary",className:classnames("small",css.meta)},"\xA9 ",new Date().getFullYear()," ",h("span",null,Xe.copyright),Ht&&Ht.split(`
`).reduce((rn,en)=>(rn.push(h("br",null),en),rn),[]),Ne!==!1&&[" ",h(Fragment,null,h("br",null),h("a",{href:Ne||Substitutions.UNSUBSCRIBE_URL},h("span",null,ft||At("Unsubscribe"))))])}function H(){return h("a",{href:getAppStoreRedirectUrl({utm_campaign:"app-marketing",utm_content:"email-footer-button"})},h(re,{alt:"Get the app",src:`${getSubstackUrl()}/img/email/generic-app-button.png`,pixelRatio:3,width:130,height:40}))}function re(Xe){var Ne=Xe,{src:ft,pixelRatio:At,width:Ht}=Ne,rn=F(Ne,["src","pixelRatio","width"]);let en;const{isAmp:pn}=useContext(EmailRenderingContext);if(typeof URL=="undefined")en=null;else{let _n;try{_n=new URL(ft)}catch(dn){_n=new URL(getSubstackUrl()+ft)}const Tn=Array(At).fill(0).map((dn,fn)=>{if(fn===0)return imginary(ft,Ht);const xn=new URL(_n),[Dn,Wn]=xn.pathname.split("."),Fn=fn+1;return xn.pathname=`${Dn}@${Fn}x.${Wn}`,imginary(xn.toString(),Ht*Fn)});pn?ft=Tn[Tn.length-1]:(ft=Tn[1]||Tn[0],en=Tn.map((dn,fn)=>fn===0?dn:`${dn} ${fn+1}x`).join(", "))}return h(Img,R({src:ft,srcset:en,width:Ht},rn))}function ee({utm_campaign:Xe,utm_source:Ne}){return h("a",{className:"email-footer-button",href:getAppStoreUrl({utm_campaign:Xe,utm_source:Ne})},h(Img,{alt:"Get the iOS app",src:imginary("/img/app_page/app-store.png",246),width:123,height:40}))}function Y({utm_campaign:Xe,utm_source:Ne}){return h("a",{className:"email-footer-button",href:getPlayStoreUrl({utm_campaign:Xe,utm_source:Ne})},h(Img,{alt:"Get the Android app",src:imginary("/img/app_page/google-play.png?v=1",270),width:135,height:40}))}const J=({text:Xe="Tweet",href:Ne})=>h("a",{className:css.twitter,href:Ne},h("img",{className:css.twitterImage,src:imginary("/img/share_twitter.white.png",20),alt:""}),h("span",{className:css.twitterText},Xe));var te=Object.defineProperty,ie=Object.getOwnPropertySymbols,se=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,z=(Xe,Ne,ft)=>Ne in Xe?te(Xe,Ne,{enumerable:!0,configurable:!0,writable:!0,value:ft}):Xe[Ne]=ft,Q=(Xe,Ne)=>{for(var ft in Ne||(Ne={}))se.call(Ne,ft)&&z(Xe,ft,Ne[ft]);if(ie)for(var ft of ie(Ne))W.call(Ne,ft)&&z(Xe,ft,Ne[ft]);return Xe},oe=(Xe,Ne)=>{var ft={};for(var At in Xe)se.call(Xe,At)&&Ne.indexOf(At)<0&&(ft[At]=Xe[At]);if(Xe!=null&&ie)for(var At of ie(Xe))Ne.indexOf(At)<0&&W.call(Xe,At)&&(ft[At]=Xe[At]);return ft};const ne="550",ae=Xe=>{var Ne=Xe,{children:ft,className:At}=Ne,Ht=oe(Ne,["children","className"]);return h("table",Q({role:"presentation",className:At,width:"auto"},Ht),ft)},le=({children:Xe,className:Ne,width:ft=ne})=>(0,n.h)("table",{role:"presentation",className:"email-body-container",width:"100%",border:"0",cellspacing:"0",cellpadding:"0"},(0,n.h)("tr",null,(0,n.h)("td",null),(0,n.h)("td",{className:"content",width:ft}),(0,n.h)("td",null)),(0,n.h)("tr",null,(0,n.h)("td",null),(0,n.h)("td",{align:"left",className:Ne?`content ${Ne}`:"content",width:ft},(0,n.h)("div",null,Xe)),(0,n.h)("td",null))),ue=({text:Xe})=>(0,n.h)("div",{className:"preview",style:"display:none;font-size:1px;color:#333333;line-height:1px;max-height:0px;max-width:0px;opacity:0;overflow:hidden;"},Xe," ","\xA0\u200C".repeat(200)),fe=({children:Xe,className:Ne,description:ft,title:At="Email from Substack"})=>h("html",null,h("head",null,h("title",null,At),h("meta",{charset:"utf-8"})),h("body",{className:Ne},ft&&h(ue,{text:ft}),Xe)),he=({title:Xe,description:Ne,children:ft,bodyClassName:At="email-body",className:Ht="",emailWidth:rn=""})=>{const{isAmp:en}=(0,p.qp)(i.E);return(0,n.h)("html",Q({},{amp4email:en?!0:void 0,"data-css-strict":en?!0:void 0}),(0,n.h)("head",null,(0,n.h)("meta",{charset:"utf-8"}),!en&&(0,n.h)("title",null,Xe),en&&(0,n.h)(n.Fragment,null,(0,n.h)("script",{async:!0,src:"https://cdn.ampproject.org/v0.js"}),(0,n.h)("script",{async:!0,"custom-element":"amp-list",src:"https://cdn.ampproject.org/v0/amp-list-0.1.js"}),(0,n.h)("script",{async:!0,"custom-template":"amp-mustache",src:"https://cdn.ampproject.org/v0/amp-mustache-0.2.js"}),(0,n.h)("script",{async:!0,"custom-element":"amp-timeago",src:"https://cdn.ampproject.org/v0/amp-timeago-0.1.js"}))),(0,n.h)("body",{className:At},Ne&&(0,n.h)(ue,{text:Ne}),(0,n.h)(le,Q({className:Ht},rn&&{width:rn}),ft)))},be=({title:Xe,description:Ne,children:ft,className:At,width:Ht})=>h("html",null,h("head",null,h("title",null,Xe),h("meta",{charset:"utf-8"})),h("body",{className:"email-body"},Ne&&h(ue,{text:Ne}),h(le,{className:At,width:Ht},ft))),ve=()=>{const Xe=Math.random().toString().split(".")[1].substr(0,3);return h("div",{className:"signature-fold-breaker"},Xe)},Te=({delta:Xe,className:Ne,withPercent:ft})=>{const At=Xe<0?"negative":Xe>0?"positive":"neutral";return At==="neutral"?h("span",{className:`${Ne} neutral`},"\u2013"):h("span",{className:`${Ne} ${At}`},At==="positive"?`+${numberToString(Xe)}${ft?"%":""}`:`${numberToString(Xe)}${ft?"%":""}`)},we={EmailDocument:he},Se={fullWidth:"frontend-email-system-basics-module__fullWidth--SbS_a",emailButtonTd:"frontend-email-system-basics-module__emailButtonTd--j57hX",priority_primary:"frontend-email-system-basics-module__priority_primary--Oo4PA",emailButtonA:"frontend-email-system-basics-module__emailButtonA--ZlAPM",priority_secondary:"frontend-email-system-basics-module__priority_secondary--dWyFt",priority_outline:"frontend-email-system-basics-module__priority_outline--SeyPx",avatar:"frontend-email-system-basics-module__avatar--eNC1i",framed:"frontend-email-system-basics-module__framed--Br_VZ",icon:"frontend-email-system-basics-module__icon--G_0WQ",emailSeparator:"frontend-email-system-basics-module__emailSeparator--iRI9Q"};var We=Object.defineProperty,Ae=Object.defineProperties,Be=Object.getOwnPropertyDescriptors,de=Object.getOwnPropertySymbols,ce=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,Oe=(Xe,Ne,ft)=>Ne in Xe?We(Xe,Ne,{enumerable:!0,configurable:!0,writable:!0,value:ft}):Xe[Ne]=ft,Le=(Xe,Ne)=>{for(var ft in Ne||(Ne={}))ce.call(Ne,ft)&&Oe(Xe,ft,Ne[ft]);if(de)for(var ft of de(Ne))_e.call(Ne,ft)&&Oe(Xe,ft,Ne[ft]);return Xe},ze=(Xe,Ne)=>Ae(Xe,Be(Ne)),Je=(Xe,Ne)=>{var ft={};for(var At in Xe)ce.call(Xe,At)&&Ne.indexOf(At)<0&&(ft[At]=Xe[At]);if(Xe!=null&&de)for(var At of de(Xe))Ne.indexOf(At)<0&&_e.call(Xe,At)&&(ft[At]=Xe[At]);return ft};function Pt(Xe){return h(Ve,ze(Le({},Xe),{unsubscribe_url:"%%unsubscribe_url%%"}))}function Ve({pub:Xe=wwwPub,description:Ne,noPromo:ft,children:At,noLogo:Ht,noFooter:rn,unsubscribe_url:en,hasApp:pn}){const _n=(Xe.id===0||!!getLogo(Xe))&&!Ht;return h(it,{description:Ne},h(Qe,{gap:16},compact([_n&&h(PubIcon,{pub:Xe.is_www?ze(Le({},Xe),{logo_url:`${getSubstackUrl()}/img/substack-system-email-align-left.png?v=2`}):Xe,size:40}),At,rn?null:ft?h($e,{pub:Xe,unsubscribe_url:en}):h(pt,{pub:Xe,unsubscribe_url:en,hasApp:pn}),h(SignatureFoldBreaker,null)])))}function pt(Xe){var Ne=Xe,{pub:ft,unsubscribe_url:At}=Ne,Ht=Je(Ne,["pub","unsubscribe_url"]);return ft?h(EmailFooter,Le({pub:ft,unsubscribe_url:At==null?!1:At},Ht)):null}function $e({pub:Xe,unsubscribe_url:Ne}){return h(EmailFooterContainer,null,h(EmailFooterMeta,{pub:Xe,unsubscribe_url:Ne==null?!1:Ne}))}function Ie({children:Xe,href:Ne,testId:ft,tableClassName:At,tdClassName:Ht,aClassName:rn,alt:en,download:pn,target:_n,style:Tn}){return(0,n.h)(tt,{className:At,style:Tn},(0,n.h)("tr",null,(0,n.h)("td",{className:Ht,align:"center"},Ne?(0,n.h)("a",{href:Ne,className:u()(rn),"data-test-id":ft,alt:en,download:pn,target:_n},Xe):(0,n.h)("span",{className:rn,"data-test-id":ft},Xe))))}function ye(Xe={children:"",noUnderline:!1}){return(0,n.h)(Ie,ze(Le({},Xe),{aClassName:"email-button-a",tdClassName:"email-button-td"}))}function Ce(Xe){var Ne=Xe,{fullWidth:ft,priority:At="primary",aClassName:Ht}=Ne,rn=Je(Ne,["fullWidth","priority","aClassName"]);return(0,n.h)(Ie,ze(Le({},rn),{tableClassName:ft?Se.fullWidth:void 0,aClassName:u()(ft&&Se.fullWidth,Se.emailButtonA,Ht),tdClassName:u()(ft&&Se.fullWidth,Se.emailButtonTd,Se[`priority_${At}`])}))}function xe({src:Xe,size:Ne,framed:ft}){return(0,n.h)(S.Z,{className:u()(y.A.avatar,Se.avatar,ft&&Se.framed),src:(0,d.imginary)(Xe),style:{width:Ne,height:Ne,minWidth:Ne,minHeight:Ne,objectFit:"cover",margin:0,display:"inline"},width:Ne,height:Ne})}function je({src:Xe,size:Ne}){return h(Img,{className:css.icon,src:imginary(Xe),style:{width:Ne,height:Ne,minWidth:Ne,minHeight:Ne,objectFit:"cover",margin:0},width:Ne,height:Ne})}const He=(0,T.L)("email-text-button","a"),Ge=(0,T.L)("email-text-b4 email-text-secondary","div");function Qe({children:Xe,gap:Ne=0,style:ft}){const At=(0,n.toChildArray)(Xe),Ht=[];for(const en of At.slice(0,-1))Ht.push((0,n.h)("tr",null,(0,n.h)("td",null,en))),Ne>0&&Ht.push((0,n.h)("tr",{height:Ne},(0,n.h)("td",null)));const rn=At[At.length-1];return rn&&Ht.push((0,n.h)("tr",null,(0,n.h)("td",null,rn))),(0,n.h)(tt,{style:ft},Ht)}function ct({children:Xe,gap:Ne=0,style:ft,verticalAlign:At="middle",growLastChild:Ht}){const rn=(0,n.toChildArray)(Xe),en=[];for(const _n of rn.slice(0,-1))en.push((0,n.h)("td",{style:{verticalAlign:At}},_n)),Ne>0&&en.push((0,n.h)("td",{width:Ne,style:`min-width: ${Ne}px`}));const pn=rn[rn.length-1];if(pn){const _n={verticalAlign:At};Ht&&(_n.width="100%"),en.push((0,n.h)("td",{style:_n},pn))}return(0,n.h)(tt,{style:ft},(0,n.h)("tr",null,en))}function dt({users:Xe,post:Ne,pub:ft,user:At}){return h(FormattedArray,{array:Xe,limit:3,formatter:Ht=>h("a",{href:getReaderProfileUrl(Ht)},anonymousName(Ht,Ne,ft,At))})}function it({children:Xe,description:Ne}){return h(MinimalEmailDocument,{className:"email-text-base email-text-b3",description:Ne},h(tt,{width:"100%"},h("tr",null,h("td",{style:{color:"transparent"}},"\xA0"),h("td",{align:"center",width:468},Xe),h("td",{style:{color:"transparent"}},"\xA0"))))}function tt(Xe){var Ne=Xe,{children:ft}=Ne,At=Je(Ne,["children"]);return(0,n.h)("table",Le({role:"presentation",width:"auto",border:"0",cellspacing:"0",cellpadding:"0"},At),ft)}function vt(Xe){var Ne=Xe,{src:ft}=Ne,At=Je(Ne,["src"]);return h(Img,Le({src:getSubstackUrl()+ft},At))}function et(){return h("div",{className:css.emailSeparator})}},9869:(j,l,e)=>{"use strict";e.d(l,{K:()=>x});var n=e(6400),c=e(98661),u=e(94184),v=e.n(u),O=e(84040),y=e(51126),E=e(44396),d=e(61274),g=e(25666);function P({text:D,icon:N,hotkeys:I}){const A=(0,E.XA)(),{layerProps:M,triggerProps:R,transitionProps:F,renderLayer:Z,shouldShow:V}=(0,g.l)();return{triggerProps:A||!D?null:R,layer:V&&Z((0,n.h)(d._,{transitionProps:F,tooltipProps:M,text:D,icon:N,hotkeys:I}))}}var S=e(28967),T=Object.defineProperty,C=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(D,N,I)=>N in D?T(D,N,{enumerable:!0,configurable:!0,writable:!0,value:I}):D[N]=I,_=(D,N)=>{for(var I in N||(N={}))p.call(N,I)&&s(D,I,N[I]);if(C)for(var I of C(N))i.call(N,I)&&s(D,I,N[I]);return D},w=(D,N)=>{var I={};for(var A in D)p.call(D,A)&&N.indexOf(A)<0&&(I[A]=D[A]);if(D!=null&&C)for(var A of C(D))N.indexOf(A)<0&&i.call(D,A)&&(I[A]=D[A]);return I};const x=(0,c.forwardRef)((D,N)=>{var I=D,{className:A,active:M,disabled:R,permalink:F,tooltip:Z}=I,V=w(I,["className","active","disabled","permalink","tooltip"]);const G=P({text:Z});return(0,n.h)(y.hs,_({flex:"grow",justifyContent:F?"center":"start",alignItems:"center"},G.triggerProps),G.layer,(0,n.h)(O.kG,_({className:v()(S.Z.actionButton,A,M&&S.Z.active,R&&S.Z.disabled,F&&S.Z.permalink),resetCss:!0,ref:N,disabled:R},V)))})},36089:(j,l,e)=>{"use strict";e.d(l,{Bq:()=>ce,s9:()=>Be,uD:()=>Oe,_x:()=>_e,g4:()=>de,ij:()=>ze,A4:()=>Le,ve:()=>Je});var n=e(6400),c=e(98661),u=e(30396),v=e(94184),O=e.n(v),y=e(31131),E=e(20501),d=e(83322),g=e(31517),P=e(26240),S=e(29820),T=e(56838),C=e(67963),p=e(69371),i=e(55687),s=e(3258),_=e(39419),w=e(51126),x=e(25752),D=e(43887),N=e(41474),I=e(91870),A=e(50292),M=e(10174),R=e(99869),F=e(71212),Z=e(68227),V=e(66839),G=e(75425),$=e(70444),K=Object.defineProperty,H=Object.defineProperties,re=Object.getOwnPropertyDescriptors,ee=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,te=($e,Ie,ye)=>Ie in $e?K($e,Ie,{enumerable:!0,configurable:!0,writable:!0,value:ye}):$e[Ie]=ye,ie=($e,Ie)=>{for(var ye in Ie||(Ie={}))Y.call(Ie,ye)&&te($e,ye,Ie[ye]);if(ee)for(var ye of ee(Ie))J.call(Ie,ye)&&te($e,ye,Ie[ye]);return $e},se=($e,Ie)=>H($e,re(Ie));const W=({url:$e,twitterText:Ie,onLinkClicked:ye,comment:Ce})=>{const xe=(0,G.pm)(),je=()=>{(0,_.copyToClipboard)($e),xe.popToast(ct=>(0,n.h)(G.FN,se(ie({},ct),{text:"Link copied",Icon:R.Z}))),ye==null||ye("copy")},He=()=>{window.open((0,E.pathWithQuery)("https://twitter.com/share",{url:$e,text:Ie||""}),"_blank"),ye==null||ye("twitter")},Ge=()=>{window.open((0,E.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:$e}),"_blank"),ye==null||ye("facebook")},Qe=()=>{xe.popToast(ct=>(0,n.h)(G.FN,se(ie({},ct),{text:"Downloading image...",Icon:F.Z}))),ye==null||ye("download")};return[(0,n.h)(x.sN,{icon:(0,n.h)(R.Z,null),onClick:je},"Copy link"),Ce?(0,n.h)(x.sN,{icon:(0,n.h)(F.Z,null),onClick:Qe,href:(0,$.getNoteCommentPreviewUrl)(Ce.id),target:"_blank",download:!0},"Save as image"):(0,n.h)(n.Fragment,null),(0,n.h)(x.sN,{icon:(0,n.h)(V.Z,null),onClick:He},"Share to Twitter"),(0,n.h)(x.sN,{icon:(0,n.h)(Z.Z,null),onClick:Ge},"Share to Facebook")]};var z=e(16742),Q=e(44396),oe=e(9869),ne=e(11132),ae=e(28967),le=Object.defineProperty,ue=Object.defineProperties,fe=Object.getOwnPropertyDescriptors,he=Object.getOwnPropertySymbols,be=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable,Te=($e,Ie,ye)=>Ie in $e?le($e,Ie,{enumerable:!0,configurable:!0,writable:!0,value:ye}):$e[Ie]=ye,we=($e,Ie)=>{for(var ye in Ie||(Ie={}))be.call(Ie,ye)&&Te($e,ye,Ie[ye]);if(he)for(var ye of he(Ie))ve.call(Ie,ye)&&Te($e,ye,Ie[ye]);return $e},Se=($e,Ie)=>ue($e,fe(Ie)),We=($e,Ie)=>{var ye={};for(var Ce in $e)be.call($e,Ce)&&Ie.indexOf(Ce)<0&&(ye[Ce]=$e[Ce]);if($e!=null&&he)for(var Ce of he($e))Ie.indexOf(Ce)<0&&ve.call($e,Ce)&&(ye[Ce]=$e[Ce]);return ye},Ae=($e,Ie,ye)=>new Promise((Ce,xe)=>{var je=Qe=>{try{Ge(ye.next(Qe))}catch(ct){xe(ct)}},He=Qe=>{try{Ge(ye.throw(Qe))}catch(ct){xe(ct)}},Ge=Qe=>Qe.done?Ce(Qe.value):Promise.resolve(Qe.value).then(je,He);Ge((ye=ye.apply($e,Ie)).next())});function Be({item:$e,pub:Ie,post:ye,onLike:Ce,permalink:xe}){var je;const He=(0,p.rI)(),Ge=(0,ne.F)(),Qe=(0,M.i3)(),ct=(0,C.aF)(),{requireLogin:dt}=(0,A.SJ)(),it=Ve(ye.id,{tabId:Ge}),tt=pt(ye),vt=!!ye.reaction,et=!Ie.community_enabled,Xe=!(0,d.commentsEnabledForPost)({publication:Ie,post:ye}),Ne=(je=ye.child_comment_count)!=null?je:0,ft=(0,M.oC)($e),At=rn=>Ae(this,null,function*(){if(rn.preventDefault(),!ct){dt==null||dt();return}const en=!ye.reaction;(yield it(ye.id,en))&&(Ce==null||Ce(en),$e&&(0,N.rw)($e,He,"like",{tabId:Ge}))}),Ht=rn=>{if(rn.preventDefault(),!ct){dt==null||dt();return}Qe.open({feedItem:$e,parentPubId:ye.publication_id,parentPostId:ye.id,tabId:Ge}),$e&&(0,N.rw)($e,He,"comment",{tabId:Ge})};return(0,n.h)(ce,null,(0,n.h)(_e,{className:O()(ae.Z.like,ae.Z.likeButton,tt===0&&ae.Z.shrink),active:vt,disabled:et,onClick:At,permalink:xe},(0,n.h)(Oe,{isLiked:vt}),!xe&&(0,n.h)(D.xv.Digit,{className:O()(ae.Z.digit,tt===0&&ae.Z.hidden)},(0,i.u)(Math.max(tt,1)))),(0,n.h)(de,{count:Ne,permalink:xe,replyRequirement:ft,onClick:Ht,disabled:Xe}),(0,n.h)(Le,{disabled:et,pub:Ie,post:ye,permalink:xe}),(0,n.h)(Je,{publication:Ie,post:ye,item:$e,twitterText:(0,d.resolveTwitterShareText)({pub:Ie,post:ye}),permalink:xe}))}function de({count:$e,permalink:Ie,replyRequirement:ye,onClick:Ce,disabled:xe}){return(0,n.h)(oe.K,{className:O()(ae.Z.reply,$e===0&&ae.Z.shrink),disabled:xe,onClick:Ce,permalink:Ie,tooltip:ye==="paid_subscriber"?"Only paid subscribers can reply.":ye==="free_subscriber"?"Only subscribers can reply.":void 0},ye?(0,n.h)(S.Z,{strokeWidth:Ie?2:2.5}):(0,n.h)(P.Z,{strokeWidth:Ie?2:2.5}),!Ie&&(0,n.h)(D.xv.Digit,{className:O()(ae.Z.digit,$e===0&&ae.Z.hidden)},(0,i.u)(Math.max($e,1))))}function ce($e){const Ie=(0,Q.XA)();return(0,n.h)(w.hs,we({flex:"grow",justifyContent:Ie?"space-between":"start",className:ae.Z.actionRow},$e))}function _e($e){var Ie=$e,{className:ye,onClick:Ce}=Ie,xe=We(Ie,["className","onClick"]);const[je,He]=(0,u.eJ)(!1),Ge=Qe=>{He(!0),Ce==null||Ce(Qe)};return(0,n.h)(oe.K,Se(we({},xe),{onClick:Ge,className:O()(ye,xe.permalink&&ae.Z.permalink,je&&ae.Z.clickedOnce)}))}function Oe({isLiked:$e}){return(0,n.h)("div",{className:O()(ae.Z.heartWrapper,$e&&ae.Z.isLiked)},(0,n.h)("svg",{className:ae.Z.heart,width:"24",height:"24",viewBox:"0 0 24 24"},(0,n.h)("path",{d:"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"})),(0,n.h)("div",{className:ae.Z.sparks,style:"--total-sparks: 8"},Array(8).fill(0).map((ye,Ce)=>(0,n.h)("div",{className:ae.Z.spark,style:`--i: ${Ce+1};`}))))}function Le({pub:$e,post:Ie,comment:ye,rootComment:Ce,onOpen:xe,permalink:je,disabled:He}){const Ge=(0,ne.F)(),{canRestack:Qe,isRestacked:ct,restacks:dt,menuItems:it,nuxModal:tt}=(0,z.K)({pub:$e,post:Ie,comment:ye,tabId:Ge});return Qe?(0,n.h)(n.Fragment,null,tt,(0,n.h)(x.v2,{trigger:(0,n.h)(ze,{restacks:dt,"aria-label":"menu",active:ct,disabled:He,permalink:je}),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Restack",onOpen:()=>xe==null?void 0:xe(ct)},it)):null}const ze=(0,c.forwardRef)(($e,Ie)=>{var ye=$e,{permalink:Ce,restacks:xe}=ye,je=We(ye,["permalink","restacks"]);return(0,n.h)(oe.K,we({className:O()(ae.Z.restack,xe===0&&ae.Z.shrink),"aria-label":"restack-menu",permalink:Ce,ref:Ie},je),(0,n.h)(g.Z,{strokeWidth:Ce?2:2.5}),!Ce&&(0,n.h)(D.xv.Digit,{className:O()(ae.Z.digit,xe===0&&ae.Z.hidden)},(0,i.u)(Math.max(xe,1))))});function Je({publication:$e,post:Ie,comment:ye,item:Ce,twitterText:xe,permalink:je}){const He=(0,p.rI)(),Ge=(0,ne.F)(),Qe=(0,C.aF)(),ct=Qe?Qe.id.toString(36):void 0,dt=ye?(0,E.getFeedCommentUrl)(ye,{urlParams:{utm_source:"notes-share-action",r:ct}}):Ie?(0,E.getFeedShortPostUrl)($e,Ie,{urlParams:{utm_source:"notes-share-action",r:ct}}):null,it=W({url:dt,twitterText:xe,onLinkClicked:vt=>{(0,s.j)(s.FP.FEED_ITEM_SHARE_LINK_CLICKED,{type:vt,shared_post_id:Ie==null?void 0:Ie.id,shared_comment_id:ye==null?void 0:ye.id})},comment:ye}),tt=()=>{Ce&&(0,N.rw)(Ce,He,"share",{tabId:Ge})};return(0,n.h)(x.v2,{trigger:(0,n.h)(Pt,{permalink:je}),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Share",maxHeight:350,onOpen:tt},it)}const Pt=(0,c.forwardRef)(({onClick:$e,permalink:Ie},ye)=>(0,n.h)(oe.K,{"aria-label":"share",onClick:$e,permalink:Ie,className:ae.Z.share,ref:ye},(0,n.h)(y.Z,{strokeWidth:Ie?2:2.5})));function Ve($e,{tabId:Ie}={}){const ye=(0,I.I0)(),Ce=(0,T.sV)();return(xe,je)=>Ae(this,null,function*(){ye({type:"post_like",payload:{postId:xe,isLiked:je}});try{return yield Ce(xe,je,{tabId:Ie}),!0}catch(He){return ye({type:"post_like",payload:{postId:xe,isLiked:!je}}),alert((0,_.getNetworkErrorMessage)(He)),!1}})}function pt($e){var Ie;return(Ie=$e.reactions["\u2764"])!=null?Ie:0}},65024:(j,l,e)=>{"use strict";e.d(l,{y:()=>z,k:()=>he});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(27484),y=e.n(O),E=e(65445),d=e(47467),g=e(18130),P=(be=>(be.Removed="removed",be.Unavailable="unavailable",be.BlockedYou="blocked-you",be.YouBlocked="you-blocked",be.YouMuted="you-muted",be))(P||{});function S(be){return be.type==="missing"}var T=e(20501),C=e(16495),p=e(31471),i=e(84040),s=e(51126),_=e(43887),w=e(34593),x=e(41474),D=e(73413),N=e(44396),I=e(52543),A=e(66337),M=e(2564),R=e(6385),F=e(80332),Z=e(16527),V=e(70762),G=e(62017),$=e(28967);const K="notes_quote_attachment";function H({attachment:be,readOnly:ve,onClick:Te}){const we=(0,N.XA)(),{postSelection:Se,post:We,publication:Ae,author:Be}=be,de=Be!=null?Be:(0,R.getPostAuthor)(Ae,We),ce=(0,V._)({publication:Ae,subscriptionSource:K,publicationName:Ae.name}),_e=(0,n.h)(w.qE,{size:36,user:de});return(0,n.h)(s.tu,{className:$.Z.quote,as:ve?"div":"a",border:"detail",radius:12,onClick:Oe=>{Te&&Te(),!we&&D.L&&!ve&&(0,Z.Q)(Oe,(0,T.getPostUrl)(Ae,We,{noBase:!we,feedViewer:!we,urlParams:{selection:Se.id}}))},href:ve?void 0:(0,T.getPostUrl)(Ae,We,{feedViewer:!1,urlParams:{selection:Se.id}})},(0,n.h)(s.tu,{padding:{mobile:12,desktop:16},borderBottom:"detail"},(0,n.h)(_.xv,{font:"serif",className:v()($.Z.quoteText,we&&$.Z.mobile)},"\u201C",re(Se.text),"\u201D")),(0,n.h)(s.hs,{className:$.Z.quoteBottom,alignItems:"center",paddingX:we?12:16,paddingY:we?8:12,gap:12},(0,n.h)(s.hs,{gap:12,flex:"grow",alignItems:"center",minWidth:0},ve?_e:(0,n.h)(F.Ct,{subject:de,dontStopPropagation:!0,utmSource:"feed"},_e),(0,n.h)(s.tu,{minWidth:0,flex:"grow"},(0,n.h)(_.xv.B4,{weight:"medium",ellipsis:!0},ve?de.name:(0,n.h)(G.Zg,{user:de,ellipsis:!0,utm_source:K})),(0,n.h)(s.hs,{gap:6,minWidth:0},(0,n.h)(_.xv.B4,{color:"secondary",ellipsis:!0},We.title),ce.showCta&&(0,n.h)(n.Fragment,null,(0,n.h)(_.xv.B4,{color:"secondary",ellipsis:!0},"\u2219"),(0,n.h)(_.xv.B4,{color:ce.isSubscribed?"secondary":"substack"},(0,n.h)(G.hh,{href:"javascript:void",onClick:ve?void 0:ce.isSubscribed?ce.unsubscribe:ce.subscribe},ce.isSubscribed?"Subscribed":"Subscribe")))))),(0,n.h)(M.Z,{size:24,color:"var(--color-secondary)"})))}function re(be){return be.replace(/[]/g,"\u2018").replace(/[]/g,"\u2019").replace(/["]/g,"'")}var ee=e(95406),Y=Object.defineProperty,J=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,se=(be,ve,Te)=>ve in be?Y(be,ve,{enumerable:!0,configurable:!0,writable:!0,value:Te}):be[ve]=Te,W=(be,ve)=>{for(var Te in ve||(ve={}))te.call(ve,Te)&&se(be,Te,ve[Te]);if(J)for(var Te of J(ve))ie.call(ve,Te)&&se(be,Te,ve[Te]);return be};function z({attachments:be,readOnly:ve,isRestack:Te,onAttachmentClick:we,utm_content:Se}){if(be.length===0)return null;const We=be.filter(Be=>Be.type==="image"),Ae=be.filter(Be=>Be.type!=="image");return(0,n.h)(n.Fragment,null,We.length>0&&(0,n.h)(C.q,{readOnly:ve,isRestack:Te,assets:We.map(Be=>({src:Be.imageUrl,explicit:Be.explicit}))}),Ae.map(Be=>(0,n.h)(Q,{attachment:Be,readOnly:ve,isRestack:Te,onAttachmentClick:we,utm_content:Se})))}function Q({attachment:be,readOnly:ve,isRestack:Te,onAttachmentClick:we,utm_content:Se}){var We;return S(be)?(0,n.h)(ne,{attachment:be,readOnly:ve,isRestack:Te,onAttachmentClick:we,utm_content:Se}):be.type==="image"?(0,n.h)(C.q,{readOnly:ve,isRestack:Te,assets:[be.imageUrl],onClick:we}):be.type==="link"?(0,n.h)(ue,W({readOnly:ve,onClick:we,isExplicit:be.explicit},be.linkMetadata)):be.type==="comment"?(0,n.h)(ae,{readOnly:ve,publication:(We=be.publication)!=null?We:void 0,post:be.post,comment:be.comment,onAttachmentClick:we,utm_content:Se}):be.type==="post"?be.postSelection?(0,n.h)(H,{readOnly:ve,attachment:be,onClick:we}):(0,n.h)(A.I,{readOnly:ve,publication:be.publication,post:be.post,onClick:we}):be.type==="publication"?(0,n.h)(le,{readOnly:ve,publication:be.publication,onClick:we}):(0,n.h)(oe,{attachment:be})}function oe({}){return(0,n.h)(s.hs,null)}function ne({attachment:be,readOnly:ve,isRestack:Te,onAttachmentClick:we,utm_content:Se}){const We=[P.YouBlocked,P.YouMuted].includes(be.reason)&&!!be.hidden_attachment,[Ae,Be]=(0,c.eJ)(!1);return Ae&&be.hidden_attachment?(0,n.h)(Q,{attachment:be.hidden_attachment,readOnly:ve,isRestack:Te,onAttachmentClick:we,utm_content:Se}):(0,n.h)(s.hs,{bg:"elevated",border:"detail",justifyContent:We?"space-between":"center",alignItems:"center",radius:12,padding:16},(0,n.h)(_.xv.B4,{color:"secondary",align:"center"},be.reason===P.YouBlocked?"This note is from someone you blocked.":be.reason===P.YouMuted?"This note is from someone you've hidden.":"This attachment is not available."),We&&(0,n.h)(i.kG,{resetCss:!0,onClick:()=>{var de;(0,x.Kr)(be.id,be.reason,{noteId:(de=be.hidden_attachment)==null?void 0:de.id}),Be(!0)}},(0,n.h)(_.xv,{fontWeight:"bold",fontSize:14,color:"secondary"},"Show")))}function ae({comment:be,publication:ve,readOnly:Te,onAttachmentClick:we,utm_content:Se}){var We,Ae,Be;const{truncatedBodyJson:de}=(0,ee.Z)(be,{characterTruncationLimit:280,characterTruncationThreshold:280});return(0,n.h)(s.tu,{className:$.Z.post,as:Te?"div":"a",bg:"elevated",border:"detail",radius:12,href:Te?void 0:(0,T.getFeedCommentUrl)(be),onClick:()=>we==null?void 0:we({commentId:be.id}),padding:12,gap:8},(0,n.h)(s.hs,{gap:8,alignItems:"center"},(0,n.h)(g.r,{href:(0,T.getReaderProfileUrl)(be.user,{noBase:D.L,utm_content:"substack-feed-item",utm_source:Se!=null?Se:void 0}),showBack:!0},(0,n.h)(w.qE,{size:20,user:be.user})),(0,n.h)(s.hs,{alignItems:"center",gap:8},(0,n.h)(_.xv.B4,{weight:"medium"},Te?be.user.name:(0,n.h)(G.xG,{user:be.user,utm_source:"substack-feed-item",utm_content:Se},be.user.name)),(0,n.h)(fe,{comment:be}))),be.body&&(0,n.h)(_.xv.B4,{className:$.Z.feedCommentBodyInner},be.hidden?ve&&(0,n.h)("i",null,"This comment is only visible to paid subscribers of"," ",ve.name):de&&(0,n.h)(I.x,{content:de})),((Ae=(We=be.attachments)==null?void 0:We.length)!=null?Ae:0)>0&&(0,n.h)(z,{isRestack:!0,attachments:(Be=be.attachments)!=null?Be:[],onAttachmentClick:we,utm_content:Se}))}function le({publication:be,readOnly:ve,onClick:Te}){var we;return(0,n.h)(ue,{image:(we=be.logo_url)!=null?we:void 0,title:be.name,description:be.hero_text,url:be.base_url,onClick:Te,host:be.base_url.replace(/^https?:\/\//,""),readOnly:ve,isExplicit:be.explicit})}function ue({image:be,title:ve,description:Te,url:we,host:Se,readOnly:We,isExplicit:Ae,onClick:Be}){const de=(0,N.XA)(),{isHidden:ce,onShow:_e}=(0,d.Sl)(!!Ae);return(0,n.h)(s.hs,{className:$.Z.post,position:"relative",padding:12,gap:12,as:We?"div":"a",bg:"elevated",border:"detail",radius:12,href:We?void 0:we,onClick:Be,rel:"nofollow noopener ugc",target:"_blank"},(0,n.h)(s.tu,{gap:2,flex:"grow",minWidth:0},(0,n.h)(_.xv.Meta,{color:"secondary",ellipsis:!0},Se),de?(0,n.h)(_.xv.B4,{clamp:1},ve):(0,n.h)(_.xv.B3,{clamp:2,weight:"medium"},ve),Te&&(0,n.h)(_.xv.B4,{as:"p",color:"secondary",clamp:de?1:2},Te)),be?(0,n.h)(p.e,{className:v()($.Z.linkImage,de&&$.Z.mobile),src:be,maxWidth:192,imageProps:{smartCrop:!0,aspect:"1:1"}}):(0,n.h)(s.hs,{alignItems:"center",justifyContent:"center",radius:12,className:v()($.Z.linkImage,$.Z.linkImagePlaceholder,de&&$.Z.mobile)},(0,n.h)(E.Z,null)),ce&&(0,n.h)(d.HU,{onShow:_e}))}function fe({post:be,comment:ve}){return(0,n.h)(_.xv.B4,{color:"secondary"},y()((ve==null?void 0:ve.date)||(be==null?void 0:be.post_date)).fromNowShort())}function he(be){var ve;switch(be.type){case"post":return be.postSelection?(0,T.getPostUrl)(be.publication,be.post,{urlParams:{selection:be.postSelection.id}}):be.post.canonical_url;case"comment":return(0,T.getFeedCommentUrl)(be.comment);case"publication":return be.publication.base_url;case"link":return(ve=be.linkMetadata.url)!=null?ve:null;default:return null}}},52543:(j,l,e)=>{"use strict";e.d(l,{x:()=>T});var n=e(6400),c=e(74691),u=e.n(c),v=e(36487),O=e(51041),y=Object.defineProperty,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(p,i,s)=>i in p?y(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,S=(p,i)=>{for(var s in i||(i={}))d.call(i,s)&&P(p,s,i[s]);if(E)for(var s of E(i))g.call(i,s)&&P(p,s,i[s]);return p};function T({content:p}){return(0,n.h)(C,{content:p})}function C({content:p}){var i,s,_,w,x,D,N;if(p.type==="text"){const A=(_=(s=(i=p.marks)==null?void 0:i.find(F=>F.type==="link"))==null?void 0:s.attrs)==null?void 0:_.href,M=A?(0,v.u)(A):p.text;let R=(0,n.h)(n.Fragment,null,M);if(p.marks)for(const F of p.marks)F.type==="link"?R=(0,n.h)("a",S({className:"note-link"},F.attrs),R):F.type==="bold"?R=(0,n.h)("strong",null,R):F.type==="italic"?R=(0,n.h)("em",null,R):F.type==="strike"?R=(0,n.h)("s",null,R):F.type==="code"&&(R=(0,n.h)("code",null,R));return R}const I=(w=p.content)==null?void 0:w.filter(A=>!!A).map(A=>(0,n.h)(C,{content:A}));if(p.type==="substack_mention"){const{id:A,label:M,mentionType:R,url:F}=(x=p.attrs)!=null?x:{};return A&&M?(0,n.h)(O.p,{id:A,label:M,type:R,url:F}):null}if(p.type==="doc")return(0,n.h)("div",{className:"ProseMirror FeedProseMirror"},I);if(p.type==="paragraph")return(0,n.h)("p",null,I);if(p.type==="heading"){const A=`h${u()(((N=(D=p.attrs)==null?void 0:D.level)!=null?N:1)+1,2,6)}`;return(0,n.h)(A,null,I)}return p.type==="blockquote"?(0,n.h)("blockquote",null,I):p.type==="codeBlock"?(0,n.h)("pre",null,(0,n.h)("code",null,I)):p.type==="orderedList"?(0,n.h)("ol",null,I):p.type==="bulletList"?(0,n.h)("ul",null,I):p.type==="listItem"?(0,n.h)("li",null,I):null}},51731:(j,l,e)=>{"use strict";e.d(l,{WS:()=>ae,bN:()=>he});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(6385),y=e(70444),E=e(20501),d=e(83322),g=e(80332),P=e(48969),S=e(63270),T=e(67963),C=e(65024),p=e(69371),i=e(55687),s=e(62017),_=e(50670),w=e(95406),x=e(8479),D=e(39419),N=e.n(D),I=e(51126),A=e(43887),M=e(41474),R=e(91870),F=e(73413),Z=e(50292),V=e(10174),G=e(44695),$=e(70762),K=e(36089),H=e(52543),re=e(29800),ee=e(75309),Y=e(8796),J=e(11132),te=e(28967),ie=Object.defineProperty,se=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,Q=(we,Se,We)=>Se in we?ie(we,Se,{enumerable:!0,configurable:!0,writable:!0,value:We}):we[Se]=We,oe=(we,Se)=>{for(var We in Se||(Se={}))W.call(Se,We)&&Q(we,We,Se[We]);if(se)for(var We of se(Se))z.call(Se,We)&&Q(we,We,Se[We]);return we},ne=(we,Se,We)=>new Promise((Ae,Be)=>{var de=Oe=>{try{_e(We.next(Oe))}catch(Le){Be(Le)}},ce=Oe=>{try{_e(We.throw(Oe))}catch(Le){Be(Le)}},_e=Oe=>Oe.done?Ae(Oe.value):Promise.resolve(Oe.value).then(de,ce);_e((We=We.apply(we,Se)).next())});function ae({comment:we,item:Se,isParent:We,showReplyingTo:Ae,showContext:Be,utm_content:de,parentCommentUserId:ce}){var _e,Oe,Le,ze,Je,Pt;const Ve=(0,T.aF)(),{getConfigFor:pt}=(0,S.xR)(),$e=(0,p.rI)(),Ie=(0,J.F)(),ye=()=>(0,M.rw)(Se,$e,"profile",{tabId:Ie}),Ce=!we.ancestor_path,xe=Se.publication&&Se.post&&(0,O.getPostAuthor)(Se.publication,Se.post);let je=null;if(!Ce){const Qe=(_e=we.ancestor_path)==null?void 0:_e.split(".").pop(),ct=Qe&&Number(Qe);je=(Le=(Oe=Se.parentComments)==null?void 0:Oe.find(dt=>(dt==null?void 0:dt.id)===ct))!=null?Le:null}const He=Qe=>{if(!Qe.defaultPrevented){(0,M.rw)(Se,$e,"item",{tabId:Ie});const ct=(0,E.getFeedCommentUrl)(we,{noBase:!we.hidden&&F.L});(0,D.redirect)(we.hidden&&Se.publication?(0,E.getSubscribeUrl)(Se.publication,{addBase:!0,params:{next:ct}}):ct,{event:Qe,newTab:!!we.hidden,local_navigation:!we.hidden,state:{showBack:!0}})}},Ge=(0,O.getCommentAuthor)(we);return(0,n.h)(_.oM,{showGutter:We,hasContext:Be,onClick:He},(0,n.h)(Y.n,{userId:Ge==null?void 0:Ge.id,comment:we},(Be||!We&&["comment_top","comment_restack"].includes(Se.context.type))&&(0,n.h)(re.L,{context:Se.context,onClick:()=>(0,M.rw)(Se,$e,"context",{tabId:Ie}),utm_content:de}),(0,n.h)(I.hs,{gap:12},(0,n.h)(_.Fb,{user:Ge,onClick:ye,utm_content:de}),(0,n.h)(I.tu,{gap:8,flex:"grow",minWidth:0},(0,n.h)(I.tu,{gap:12},(0,n.h)(I.tu,null,(0,n.h)(I.tu,null,(0,n.h)(ee.Ev,{user:Ge,post:(ze=Se.post)!=null?ze:void 0,comment:we,onClick:ye,utm_content:de,publication:(Je=Se.publication)!=null?Je:void 0,item:Se,parentCommentUserId:ce}),Ae&&(Ce&&xe||!Ce&&je)?(0,n.h)(A.xv.Detail,null,"Replying to"," ",(0,n.h)(g.Ct,{subject:Ce?xe:je?{id:je.user_id,user_id:je.user_id,name:je.name,photo_url:je.photo_url}:xe,dontStopPropagation:!0,utmSource:"feed"},(0,n.h)(s.hh,{href:Ce?(0,E.getFeedShortPostUrl)(Se.publication,Se.post,{noBase:F.L}):(0,E.getFeedCommentUrl)(je,{noBase:F.L})},(Pt=Ce?xe:je)==null?void 0:Pt.name))):Ve&&Ve.id!==we.user_id&&(0,n.h)(le,{comment:we})),we.body&&(0,n.h)(he,{comment:we,publication:Se.publication})),we.attachments&&(0,n.h)(C.y,{attachments:we.attachments,onAttachmentClick:({commentId:Qe}={})=>{(0,M.rw)(Se,"post-embed","attachment",{extraEventProps:{tabId:Ie,commentId:Qe}})},utm_content:de})),!we.hidden&&(0,n.h)(Te,{item:Se,comment:we})))))}function le({comment:we}){var Se;const We=(0,O.getCommentAuthor)(we),Ae=(0,$._)({user:We,publicationName:(Se=We.primary_publication)==null?void 0:Se.name,subscriptionSource:"substack-feed-item",sourceNoteId:(0,y.getCommentEntityKey)(we.id)});return!We.primary_publication||!Ae.showCta?null:(0,n.h)(I.hs,{gap:4},(0,n.h)(n.Fragment,null,(0,n.h)(A.xv.Detail,{ellipsis:!0},(0,n.h)(fe,{publication:We.primary_publication})),(0,n.h)(A.xv.Detail,{color:"secondary"},"\u2219")),(0,n.h)(A.xv.Detail,{color:Ae.isSubscribed?"secondary":"substack"},(0,n.h)(s.hh,{onClick:Ae.isSubscribed?Ae.unsubscribe:Ae.subscribe},Ae.isSubscribed?"Subscribed":"Subscribe")))}function ue({comment:we}){const{isFollowing:Se,toggle:We}=useFeedFollowState(getCommentAuthor(we));return h(Text.Detail,{color:Se?"secondary":"substack"},h(TextLink,{onClick:We},Se?"Following":"Follow"))}function fe({publication:we}){return(0,n.h)(n.Fragment,null,(0,n.h)(G.Sm,{publication_id:we.id,utmSource:"feed",inline:!0},(0,n.h)(s.hh,{href:(0,E.getBaseUrl)(we),target:"_blank"},we.name)))}function he({comment:we,publication:Se,large:We}){const{bodyJson:Ae,truncatedBodyJson:Be,isTruncated:de}=(0,w.Z)(we),[ce,_e]=(0,c.eJ)(We||!de),Oe=ze=>{ze.preventDefault(),_e(!0)},Le=ce?Ae:Be;return(0,n.h)(I.tu,{className:te.Z.feedCommentBody},(0,n.h)(_.sP,{large:We},we.hidden?(0,n.h)(be,{pub:Se}):Le&&(0,n.h)(H.x,{key:ce,content:Le})),!ce&&(0,n.h)(ve,{onClick:Oe,large:We}))}function be({pub:we}){return(0,n.h)(n.Fragment,null,(0,n.h)("i",null,"This comment is only visible to paid subscribers of ",we==null?void 0:we.name),(0,n.h)("br",null),(0,n.h)("b",null,"Subscribe to view \u2192"))}function ve(we){return(0,n.h)(I.hs,{className:te.Z.seeMore},(0,n.h)(I.hs,{className:te.Z.seeMoreFade}),we.large?(0,n.h)(A.xv.B2,{color:"accent-blue",className:te.Z.seeMoreText},(0,n.h)(s.hh,oe({},we),"See more...")):(0,n.h)(A.xv.B3,{color:"accent-blue",className:te.Z.seeMoreText},(0,n.h)(s.hh,oe({},we),"See more...")))}function Te({item:we,comment:Se,permalink:We}){var Ae,Be,de;const ce=(0,p.rI)(),_e=(0,J.F)(),Oe=(0,R.I0)(),Le=(0,V.i3)(),ze=(0,T.aF)(),{requireLogin:Je}=(0,Z.SJ)(),{publication:Pt,post:Ve}=we,pt=!!(Ve&&Pt&&!(0,d.commentsEnabledForPost)({publication:Pt,post:Ve})),$e=!!(Ve&&Pt&&!(0,d.restacksEnabledForPost)({publication:Pt,post:Ve})),Ie=Se.reaction_count||0,ye=(0,x.ib)({pathname:`/api/v1/comment/${Se.id}/reaction`,method:"POST"}),Ce=!!Se.reaction,xe=()=>{Je==null||Je()},je=(Ae=we.parentComments[0])!=null?Ae:Se,He=(0,V.oC)(we),Ge=ct=>{var dt,it;if(ct.preventDefault(),!ze){xe();return}Le.open({feedItem:we,parentPubId:(dt=Se.publication_id)!=null?dt:void 0,parentPostId:(it=Se.post_id)!=null?it:void 0,parentCommentId:Se.id,tabId:_e}),(0,M.rw)(we,ce,"comment",{tabId:_e,extraEventProps:{reply_requirement:He,reply_locked:!!He}})},Qe=ct=>ne(this,null,function*(){if(ct.preventDefault(),!ze){xe();return}const dt=!Ce;Oe({type:"comment_like",payload:{commentId:Se.id,isLiked:dt}});try{yield ye.refetch({method:dt?"POST":"DELETE",json:{publication_id:(Pt==null?void 0:Pt.id)||null,reaction:"\u2764",tabId:_e}})}catch(it){Oe({type:"comment_like",payload:{commentId:Se.id,isLiked:!dt}}),alert((0,D.getNetworkErrorMessage)(it));return}(0,M.rw)(we,ce,"like",{tabId:_e})});return(0,n.h)(K.Bq,null,(0,n.h)(K._x,{className:v()(te.Z.like,te.Z.likeButton,Ie===0&&te.Z.shrink),active:Ce,disabled:!1,onClick:Qe,permalink:We},(0,n.h)(K.uD,{isLiked:Ce}),!We&&(0,n.h)(A.xv.Digit,{className:v()(te.Z.digit,Ie===0&&te.Z.hidden)},(0,i.u)(Math.max(Ie,1)))),(0,n.h)(K.g4,{count:(Be=Se.children_count)!=null?Be:0,disabled:pt,onClick:Ge,permalink:We,replyRequirement:He}),ze?(0,n.h)(K.A4,{pub:Pt!=null?Pt:void 0,post:Ve!=null?Ve:void 0,comment:Se,rootComment:je,disabled:$e,permalink:We,onOpen:ct=>(0,M.rw)(we,ce,"restack",{tabId:_e,extraEventProps:{isRestacked:ct}})}):(0,n.h)(K.ij,{permalink:We,restacks:(de=Se.restacks)!=null?de:0,disabled:$e,onClick:xe}),(0,n.h)(K.ve,{publication:Pt!=null?Pt:void 0,post:Ve!=null?Ve:void 0,comment:Se,item:we,permalink:We}))}},47467:(j,l,e)=>{"use strict";e.d(l,{HU:()=>T,Sl:()=>P,cD:()=>S});var n=e(6400),c=e(30396),u=e(23260),v=e(20964),O=e(84040),y=e(9738),E=e(51126),d=e(43887),g=e(33970);function P(C){const p=(0,v.M)(),[i,s]=(0,c.eJ)(C&&!p);return{isHidden:i,onShow:()=>s(!1)}}function S({onShow:C,description:p}){return(0,n.h)(T,{onShow:C},(0,n.h)(y.C,null,(0,n.h)(E.tu,{gap:4,textAlign:"center"},(0,n.h)(d.xv.B4,{weight:"bold"},"Explicit content"),(0,n.h)(d.xv.B4,{color:"secondary"},p)),(0,n.h)(O.zx,{className:g.Z.showAnyway,priority:"secondary",outline:"none"},"Show anyway")))}function T({onShow:C,children:p}){return(0,n.h)(E.tu,{justifyContent:"center",alignItems:"center",position:"absolute",inset:0,bg:"glass-inverted-thick",gap:16,cursor:"pointer",onClick:i=>{i.preventDefault(),C()}},(0,n.h)(u.Z,{size:24,stroke:"var(--color-white)"}),p)}},60779:(j,l,e)=>{"use strict";e.d(l,{w:()=>c});var n=e(6400);function c({size:u=20,stroke:v="var(--color-light-secondary)"}){return(0,n.h)("svg",{width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:v,xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{id:"Vector",d:"M18.6471 15.3333V18.6667M18.6471 18.6667L18.6471 22M18.6471 18.6667H22M18.6471 18.6667H15.2941M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},69518:(j,l,e)=>{"use strict";e.d(l,{$:()=>T});var n=e(6400),c=Object.defineProperty,u=Object.defineProperties,v=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,d=(C,p,i)=>p in C?c(C,p,{enumerable:!0,configurable:!0,writable:!0,value:i}):C[p]=i,g=(C,p)=>{for(var i in p||(p={}))y.call(p,i)&&d(C,i,p[i]);if(O)for(var i of O(p))E.call(p,i)&&d(C,i,p[i]);return C},P=(C,p)=>u(C,v(p)),S=(C,p)=>{var i={};for(var s in C)y.call(C,s)&&p.indexOf(s)<0&&(i[s]=C[s]);if(C!=null&&O)for(var s of O(C))p.indexOf(s)<0&&E.call(C,s)&&(i[s]=C[s]);return i};function T(C){var p=C,{size:i=20,stroke:s="var(--color-light-secondary)"}=p,_=S(p,["size","stroke"]);return(0,n.h)("svg",P(g({},_),{width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:s,xmlns:"http://www.w3.org/2000/svg"}),(0,n.h)("path",{id:"Vector",d:"M15.2941 18.6667L17.5294 20.8889L22 16.4444M3 21.9999C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},29800:(j,l,e)=>{"use strict";e.d(l,{L:()=>_});var n=e(6400),c=e(30396),u=e(83322),v=e(11429),O=e(62017),y=e(51126),E=e(43887);function d({size:V,className:G}){return(0,n.h)("svg",{className:G,width:V,height:V,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{d:"M5.57617 11.7466C5.80176 11.7466 5.98975 11.6714 6.14014 11.521C6.29053 11.3742 6.36572 11.188 6.36572 10.9624V9.11475H6.48389C7.1141 9.11475 7.66553 9.18636 8.13818 9.32959C8.61084 9.46924 9.02262 9.69124 9.37354 9.99561C9.72445 10.2964 10.0306 10.6903 10.292 11.1772C10.4066 11.3885 10.5319 11.5299 10.668 11.6016C10.804 11.6732 10.9508 11.709 11.1084 11.709C11.3232 11.709 11.4987 11.6069 11.6348 11.4028C11.7708 11.1987 11.8389 10.8944 11.8389 10.4897C11.8389 9.52653 11.7297 8.66357 11.5112 7.90088C11.2928 7.13818 10.9616 6.49007 10.5176 5.95654C10.0771 5.41943 9.52035 5.01123 8.84717 4.73193C8.17757 4.44906 7.38981 4.30762 6.48389 4.30762H6.36572V2.45459C6.36572 2.23258 6.29053 2.0446 6.14014 1.89062C5.98975 1.73307 5.79997 1.6543 5.5708 1.6543C5.42041 1.6543 5.28255 1.68652 5.15723 1.75098C5.03548 1.81543 4.89225 1.92285 4.72754 2.07324L0.462891 6.03711C0.355469 6.13737 0.278483 6.24658 0.231934 6.36475C0.185384 6.47933 0.162109 6.59033 0.162109 6.69775C0.162109 6.8016 0.185384 6.9126 0.231934 7.03076C0.282064 7.14893 0.359049 7.25814 0.462891 7.3584L4.72754 11.3491C4.87435 11.4888 5.014 11.589 5.14648 11.6499C5.27897 11.7144 5.4222 11.7466 5.57617 11.7466Z"}))}function g({size:V,className:G}){return(0,n.h)("svg",{className:G,width:V,height:V,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{d:"M6 12C6.14187 12 6.26404 11.9527 6.3665 11.8581C6.47291 11.7635 6.53793 11.6394 6.56158 11.4857C6.66798 10.6975 6.78424 10.0355 6.91034 9.49951C7.04039 8.95961 7.20985 8.51823 7.41872 8.17537C7.62759 7.82857 7.90148 7.55271 8.24039 7.34778C8.57931 7.14286 9.01084 6.98325 9.53497 6.86897C10.0631 6.75074 10.7094 6.64828 11.4739 6.56158C11.6236 6.54581 11.7478 6.48473 11.8463 6.37832C11.9488 6.27192 12 6.14581 12 6C12 5.85419 11.9488 5.72808 11.8463 5.62167C11.7478 5.51527 11.6236 5.45222 11.4739 5.43251C10.7133 5.34187 10.0709 5.23744 9.5468 5.11921C9.02266 5.00098 8.59113 4.84138 8.25222 4.64039C7.9133 4.43547 7.63941 4.16158 7.43054 3.81872C7.22562 3.47192 7.05813 3.03054 6.92808 2.49458C6.79803 1.95862 6.67586 1.29655 6.56158 0.508374C6.53399 0.35468 6.46897 0.232512 6.3665 0.141872C6.26404 0.0472906 6.14187 0 6 0C5.85813 0 5.73399 0.0472906 5.62759 0.141872C5.52512 0.236453 5.46207 0.358621 5.43842 0.508374C5.33202 1.29655 5.21379 1.96059 5.08374 2.50049C4.95764 3.04039 4.79015 3.48374 4.58128 3.83054C4.37241 4.1734 4.09655 4.44729 3.75369 4.65222C3.41478 4.85714 2.98325 5.01872 2.45911 5.13695C1.93892 5.25123 1.29655 5.34975 0.53202 5.43251C0.374384 5.45222 0.246305 5.51527 0.147783 5.62167C0.0492611 5.72808 0 5.85419 0 6C0 6.14581 0.0492611 6.27192 0.147783 6.37832C0.246305 6.48473 0.372414 6.54581 0.526108 6.56158C1.16453 6.64828 1.71626 6.74089 2.18128 6.83941C2.64631 6.93793 3.04236 7.05813 3.36946 7.2C3.70049 7.34187 3.97635 7.52512 4.19704 7.74975C4.42167 7.97044 4.6069 8.24631 4.75271 8.57734C4.90246 8.90837 5.02857 9.31231 5.13103 9.78916C5.23744 10.266 5.3399 10.8335 5.43842 11.4916C5.46601 11.6414 5.53103 11.7635 5.6335 11.8581C5.73596 11.9527 5.85813 12 6 12Z"}))}function P({size:V,className:G}){return(0,n.h)("svg",{className:G,width:V,height:V,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{d:"M6.00293 12.2002C6.08891 12.2002 6.18857 12.1712 6.30191 12.1132C6.41915 12.059 6.53053 11.9971 6.63605 11.9275C7.72252 11.2313 8.66634 10.5003 9.46751 9.73448C10.2726 8.96479 10.8959 8.17382 11.3376 7.36159C11.7792 6.54548 12 5.72358 12 4.89587C12 4.34664 11.9101 3.84576 11.7303 3.39323C11.5506 2.9407 11.3043 2.55005 10.9917 2.22129C10.679 1.89253 10.3156 1.64112 9.90132 1.46707C9.48705 1.28915 9.04348 1.2002 8.57059 1.2002C7.98437 1.2002 7.47435 1.34717 7.04055 1.64112C6.60674 1.93121 6.26087 2.31412 6.00293 2.78986C5.74108 2.31799 5.39326 1.93508 4.95945 1.64112C4.52956 1.34717 4.01954 1.2002 3.42941 1.2002C2.95652 1.2002 2.51295 1.28915 2.09868 1.46707C1.68832 1.64112 1.32487 1.89253 1.0083 2.22129C0.691744 2.55005 0.443576 2.9407 0.263801 3.39323C0.0879336 3.84576 0 4.34664 0 4.89587C0 5.72358 0.220811 6.54548 0.662433 7.36159C1.10405 8.17382 1.72741 8.96479 2.53249 9.73448C3.33757 10.5003 4.28139 11.2313 5.36395 11.9275C5.47338 11.9971 5.58476 12.059 5.69809 12.1132C5.81534 12.1712 5.91695 12.2002 6.00293 12.2002Z"}))}function S({size:V,className:G}){return(0,n.h)("svg",{className:G,width:V,height:V,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{d:"M5.73259 12C6.48612 12 7.16981 11.8807 7.78366 11.6421C8.39751 11.4035 8.92682 11.0637 9.37159 10.6227C9.81636 10.1853 10.1564 9.66109 10.3916 9.05016C10.6305 8.43561 10.75 7.75599 10.75 7.0113C10.75 6.18708 10.6397 5.44239 10.4192 4.77723C10.2023 4.10845 9.90458 3.51559 9.52597 2.99864C9.14737 2.4817 8.71363 2.03344 8.22475 1.65386C7.73955 1.27429 7.22495 0.963398 6.68093 0.721193C6.13692 0.475373 5.59107 0.294623 5.04338 0.178943C4.4957 0.0596475 3.97741 0 3.48854 0C3.18713 0 2.94453 0.05784 2.76074 0.17352C2.58062 0.285585 2.49057 0.44826 2.49057 0.661545C2.49057 0.74469 2.50711 0.829643 2.54019 0.916403C2.57695 0.999548 2.62841 1.07908 2.69457 1.15499C2.92615 1.42973 3.14118 1.7099 3.33967 1.99548C3.53816 2.28107 3.69806 2.5775 3.81936 2.88477C3.94433 3.18843 4.00866 3.51197 4.01233 3.8554C4.01233 3.94578 4.00314 4.03434 3.98476 4.1211C3.97006 4.20786 3.93147 4.30728 3.86898 4.41934L4.10607 4.35969C3.99579 4.06688 3.86163 3.82287 3.70357 3.62765C3.54919 3.43244 3.3801 3.28604 3.19631 3.18843C3.01253 3.08721 2.83241 3.0366 2.65598 3.0366C2.51262 3.0366 2.39684 3.08179 2.30862 3.17216C2.2204 3.26254 2.17629 3.38545 2.17629 3.54089C2.17629 3.63127 2.18364 3.74333 2.19835 3.87709C2.21305 4.00723 2.2204 4.1446 2.2204 4.2892C2.2204 4.54225 2.18732 4.77542 2.12115 4.9887C2.05867 5.19837 1.9778 5.40804 1.87855 5.61771C1.78299 5.82738 1.68742 6.05151 1.59185 6.2901C1.49628 6.52869 1.41541 6.80163 1.34925 7.1089C1.28308 7.41256 1.25 7.76683 1.25 8.17171C1.25 8.93809 1.43563 9.60868 1.80688 10.1835C2.1818 10.7546 2.7056 11.1993 3.37826 11.5174C4.05093 11.8391 4.8357 12 5.73259 12ZM5.87043 10.2214C5.3595 10.2214 4.94781 10.084 4.63537 9.80931C4.32293 9.53095 4.16671 9.16765 4.16671 8.71939C4.16671 8.48803 4.20163 8.2892 4.27147 8.12291C4.34131 7.95662 4.42218 7.8066 4.51407 7.67284C4.60597 7.53547 4.69051 7.39991 4.7677 7.26615C4.84857 7.1324 4.89819 6.98057 4.91657 6.81066C4.92025 6.7709 4.93679 6.74559 4.96619 6.73475C4.99927 6.72029 5.03419 6.72752 5.07095 6.75644C5.18858 6.8685 5.28782 6.99322 5.36869 7.13059C5.45323 7.26435 5.52675 7.41256 5.58923 7.57524C5.72891 7.35472 5.81897 7.06733 5.8594 6.71306C5.90351 6.35879 5.89984 5.97921 5.84837 5.57433C5.83735 5.52734 5.84654 5.4948 5.87594 5.47673C5.90535 5.45504 5.94027 5.45323 5.9807 5.47131C6.37768 5.64483 6.71034 5.8798 6.97867 6.17623C7.25068 6.46905 7.45652 6.7944 7.5962 7.15228C7.73588 7.51017 7.80572 7.87167 7.80572 8.23678C7.80572 8.6019 7.7322 8.93448 7.58517 9.23452C7.43814 9.53457 7.22127 9.77497 6.93456 9.95572C6.64785 10.1329 6.29314 10.2214 5.87043 10.2214Z"}))}function T({size:V,className:G}){return(0,n.h)("svg",{className:G,width:V,height:V,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{d:"M1.60574 12.7001H2.38973C2.74924 12.7001 3.02417 12.58 3.2145 12.3397C3.40483 12.1032 3.5 11.766 3.5 11.328V8.07221C3.5 7.6381 3.40483 7.30089 3.2145 7.06058C3.02417 6.82027 2.74924 6.70012 2.38973 6.70012H1.60574C1.24924 6.70012 0.975831 6.82027 0.785498 7.06058C0.595166 7.30089 0.5 7.64004 0.5 8.07802V11.328C0.5 11.766 0.595166 12.1032 0.785498 12.3397C0.975831 12.58 1.24924 12.7001 1.60574 12.7001ZM5.64804 12.7001H6.39426C6.75076 12.7001 7.02417 12.58 7.2145 12.3397C7.40483 12.1032 7.5 11.766 7.5 11.328V5.07221C7.5 4.6381 7.40483 4.30089 7.2145 4.06058C7.02417 3.82027 6.75076 3.70012 6.39426 3.70012H5.64804C5.29154 3.70012 5.01813 3.82027 4.8278 4.06058C4.63746 4.30089 4.5423 4.64004 4.5423 5.07802V11.328C4.5423 11.766 4.63746 12.1032 4.8278 12.3397C5.01813 12.58 5.29154 12.7001 5.64804 12.7001ZM9.60121 12.7001H10.3897C10.7462 12.7001 11.0196 12.58 11.21 12.3397C11.4033 12.1032 11.5 11.766 11.5 11.328V2.07229C11.5 1.6343 11.4033 1.29709 11.21 1.06066C11.0196 0.82035 10.7462 0.700195 10.3897 0.700195H9.60121C9.24773 0.700195 8.97583 0.82035 8.7855 1.06066C8.59517 1.29709 8.5 1.6343 8.5 2.07229V11.328C8.5 11.766 8.59517 12.1032 8.7855 12.3397C8.97583 12.58 9.24773 12.7001 9.60121 12.7001Z"}))}function C({size:V,className:G}){return(0,n.h)("svg",{className:G,width:V,height:V,fill:"none",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.0002 0.200195C10.442 0.200195 10.8002 0.558368 10.8002 1.0002V4.0002C10.8002 4.44202 10.442 4.8002 10.0002 4.8002H7.00019C6.55837 4.8002 6.20019 4.44202 6.20019 4.0002C6.20019 3.55837 6.55837 3.2002 7.00019 3.2002H7.91434C7.39165 2.75016 6.75316 2.45487 6.07076 2.34836C5.36533 2.23826 4.64311 2.33461 3.99121 2.62579C3.33932 2.91697 2.78559 3.39054 2.39682 3.98939C2.15624 4.35997 1.66079 4.46536 1.29021 4.22477C0.919626 3.98419 0.81424 3.48874 1.05482 3.11816C1.61171 2.26036 2.40489 1.582 3.33868 1.1649C4.27248 0.747807 5.30701 0.60979 6.31749 0.7675C7.32797 0.92521 8.27124 1.37191 9.03353 2.05372L9.03541 2.0554L9.20019 2.20374V1.0002C9.20019 0.558368 9.55837 0.200195 10.0002 0.200195ZM0.200195 8.0002C0.200195 7.55837 0.558368 7.2002 1.0002 7.2002H4.00019C4.44202 7.2002 4.80019 7.55837 4.80019 8.0002C4.80019 8.44202 4.44202 8.8002 4.00019 8.8002H3.08627C3.60892 9.25012 4.24733 9.54535 4.92963 9.65184C5.63506 9.76194 6.35728 9.66559 7.00917 9.37441C7.66107 9.08323 8.2148 8.60965 8.60357 8.01081C8.84415 7.64023 9.3396 7.53484 9.71018 7.77543C10.0808 8.01601 10.1862 8.51146 9.94557 8.88204C9.38868 9.73984 8.5955 10.4182 7.66171 10.8353C6.72791 11.2524 5.69338 11.3904 4.6829 11.2327C3.67242 11.075 2.72915 10.6283 1.96686 9.94648L1.96502 9.94483L1.8002 9.79649V11.0002C1.8002 11.442 1.44202 11.8002 1.0002 11.8002C0.558368 11.8002 0.200195 11.442 0.200195 11.0002V8.0002Z"}))}function p({size:V,className:G}){return(0,n.h)("svg",{className:G,width:V,height:V,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{d:"M2.30172 11.423C2.43901 11.5215 2.59037 11.5572 2.75582 11.53C2.92478 11.5028 3.10255 11.423 3.28912 11.2905L5.99784 9.3694L8.71185 11.2905C8.89841 11.423 9.07442 11.5028 9.23986 11.53C9.40883 11.5572 9.56195 11.5215 9.69924 11.423C9.833 11.3245 9.91396 11.1937 9.94212 11.0306C9.97029 10.871 9.9474 10.6858 9.87348 10.4752L8.80161 7.40241L11.5367 5.51187C11.7268 5.37937 11.8588 5.24179 11.9327 5.09911C12.0102 4.95303 12.0208 4.80185 11.9644 4.64558C11.9116 4.4927 11.8113 4.3789 11.6635 4.30416C11.5156 4.22942 11.3238 4.19375 11.0879 4.19715L7.73502 4.21753L6.71594 1.12437C6.64554 0.910346 6.5505 0.74728 6.43081 0.635172C6.31113 0.519667 6.16681 0.461914 5.99784 0.461914C5.8324 0.461914 5.68983 0.519667 5.57015 0.635172C5.45046 0.74728 5.35542 0.910346 5.28502 1.12437L4.26595 4.21753L0.907761 4.19715C0.675433 4.19375 0.485347 4.22942 0.337503 4.30416C0.189658 4.3789 0.0893347 4.4927 0.036533 4.64558C-0.0197887 4.80185 -0.0109885 4.95303 0.0629339 5.09911C0.140376 5.24179 0.274141 5.37937 0.464227 5.51187L3.19935 7.40241L2.12748 10.4752C2.05356 10.6858 2.03068 10.871 2.05884 11.0306C2.087 11.1937 2.16796 11.3245 2.30172 11.423Z"}))}var i=e(44396),s=e(28967);function _({context:V,onClick:G,utm_content:$}){const K=w[V.type];return K?(0,n.h)(y.hs,{className:s.Z.contextRow},(0,n.h)(E.xv.Meta,{className:s.Z.contextText},(0,n.h)(K,{context:V,onClick:G,utm_content:$}))):null}const w={post_like:x,post_comment:N,post_restack:D,comment:N,note_reply:N,note_recommend:M,comment_restack:I,comment_top:A};function x({context:V,onClick:G,utm_content:$}){return(0,n.h)(Z,{context:V,type:"like",label:"Likes",verb:"liked",onClick:G,utm_content:$})}function D({context:V,onClick:G,utm_content:$}){return(0,n.h)(Z,{context:V,type:"restack",label:"Restacks",verb:"restacked",onClick:G,utm_content:$})}function N({context:V,onClick:G,utm_content:$}){return(0,n.h)(Z,{context:V,type:"comment",label:"Replies",verb:"replied",onClick:G,utm_content:$})}function I({context:V,onClick:G,utm_content:$}){return(0,n.h)(Z,{context:V,type:"restack",label:"Restacks",verb:"restacked",onClick:G,utm_content:$})}function A({}){return(0,n.h)(F,{type:"trending"},"Top comment")}function M({context:V,onClick:G,utm_content:$}){return(0,n.h)(Z,{context:V,type:"recommend",label:"Recommendations",verb:"recommends",onClick:G,utm_content:$})}const R={like:P,comment:d,recommend:p,featured:g,trending:S,leaderboard:T,restack:C};function F({type:V,children:G}){const $=R[V];return(0,n.h)(y.gq,{alignItems:"center",gap:8},(0,n.h)($,{className:s.Z.contextIcon,size:14}),(0,n.h)("div",null,G))}function Z({context:V,type:G,label:$,verb:K,fallbackUser:H,utm_content:re,onClick:ee}){var Y;const J="notes_context",te=(0,i.XA)(),[ie,se]=(0,c.eJ)(!1),W=(Y=V.users[0])!=null?Y:H;if(!W)return null;let z,Q=V.users.length-1;return V.users.length===2?(z=V.users[1],Q=0):!te&&V.users.length>2&&(z=V.users[1],Q=V.users.length-2),(0,n.h)(F,{type:G},(0,n.h)(O.Zg,{user:W,onClick:ee,utm_source:J,utm_content:re,color:"secondary",useYou:!0}),z&&(0,n.h)(n.Fragment,null,Q>0?", ":" and ",(0,n.h)(O.Zg,{user:V.users[1],onClick:ee,utm_source:J,utm_content:re,color:"secondary",useYou:!0})),Q>0&&(0,n.h)(n.Fragment,null," and ",(0,n.h)(O.hh,{onClick:()=>{ee(),se(!0)}},(0,u.pluralize)(Q,"other"))),` ${K}`,(0,n.h)(v.FF,{isOpen:ie,modalLabel:$,faces:V.users,totalCount:V.users.length,onClose:()=>se(!1),utmSource:null}))}},75309:(j,l,e)=>{"use strict";e.d(l,{Ev:()=>be,vk:()=>We});var n=e(6400),c=e(30396),u=e(27484),v=e.n(u),O=e(66440),y=e(23237),E=e(5149),d=e(80587),g=e(18794),P=e(13808),S=e(6385),T=e(20501),C=e(83322),p=e(56838),i=e(25877),s=e(48969),_=e(67963),w=e(69371),x=e(62017),D=e(50670),N=e(8479),I=e(39419),A=e.n(I),M=e(702),R=e(11059),F=e(84040),Z=e(51126),V=e(25752),G=e(43887),$=e(75425),K=e(33324),H=e(41474),re=e(91870),ee=e(73413),Y=e(10174),J=e(9869),te=e(11132),ie=e(28967),se=Object.defineProperty,W=Object.defineProperties,z=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,oe=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,ae=(Ae,Be,de)=>Be in Ae?se(Ae,Be,{enumerable:!0,configurable:!0,writable:!0,value:de}):Ae[Be]=de,le=(Ae,Be)=>{for(var de in Be||(Be={}))oe.call(Be,de)&&ae(Ae,de,Be[de]);if(Q)for(var de of Q(Be))ne.call(Be,de)&&ae(Ae,de,Be[de]);return Ae},ue=(Ae,Be)=>W(Ae,z(Be)),fe=(Ae,Be)=>{var de={};for(var ce in Ae)oe.call(Ae,ce)&&Be.indexOf(ce)<0&&(de[ce]=Ae[ce]);if(Ae!=null&&Q)for(var ce of Q(Ae))Be.indexOf(ce)<0&&ne.call(Ae,ce)&&(de[ce]=Ae[ce]);return de},he=(Ae,Be,de)=>new Promise((ce,_e)=>{var Oe=Je=>{try{ze(de.next(Je))}catch(Pt){_e(Pt)}},Le=Je=>{try{ze(de.throw(Je))}catch(Pt){_e(Pt)}},ze=Je=>Je.done?ce(Je.value):Promise.resolve(Je.value).then(Oe,Le);ze((de=de.apply(Ae,Be)).next())});function be({user:Ae,post:Be,comment:de,onClick:ce,utm_content:_e,publication:Oe,item:Le,parentCommentUserId:ze}){const Je=(de==null?void 0:de.date)||(Be==null?void 0:Be.post_date);return(0,n.h)(D.KF,null,(0,n.h)(Z.hs,{gap:8,alignItems:"center",flex:"grow"},(0,n.h)(G.Zx,{weight:"medium"},(0,n.h)(x.xG,{user:Ae,onClick:ce,utm_source:"substack-feed-item",utm_content:_e},Ae.name)),(0,n.h)(K.UserBadge,{className:ie.Z.userBadge,tier:Ae.bestseller_tier,userId:Ae.id,tooltipOnHover:!0,size:"sm"}),Je&&(0,n.h)(Te,{timestamp:Je,comment:de})),(0,n.h)(Z.hs,{style:{maxHeight:20},gap:12,alignItems:"center"},(0,n.h)(we,{publication:Oe!=null?Oe:void 0,post:Be!=null?Be:void 0,comment:de,item:Le})))}const ve=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"});function Te({timestamp:Ae,comment:Be,post:de,publication:ce}){return(0,n.h)(x.hh,{href:Be?(0,T.getFeedCommentUrl)(Be,{noBase:ee.L}):de?(0,T.getFeedShortPostUrl)(ce,de):void 0,title:ve.format(v()(Ae).toDate()),ellipsis:!1,color:"secondary"},(0,n.h)(D.Ku,{timestamp:Ae}))}function we({publication:Ae,post:Be,comment:de,item:ce,permalink:_e}){var Oe,Le,ze;const Je=(0,$.pm)(),Pt=(0,w.rI)(),Ve=(0,te.F)(),pt=(0,re.I0)(),$e=(0,re.kc)(),[Ie,ye]=(0,c.eJ)(!1),[Ce,xe]=(0,c.eJ)(!1),je=(0,_.aF)(),He=(Le=(Oe=de==null?void 0:de.ancestor_path)==null?void 0:Oe.split(".").filter(Boolean).map(Number).map(Ne=>$e.comments.get(Ne)))!=null?Le:[],Ge=de?(0,S.getCommentAuthor)(de):Ae&&Be?(0,S.getPostAuthor)(Ae,Be):{id:0,name:"void"},Qe=(0,i.CH)(Ge,Pt),ct=(0,s.oh)(Ge,Pt),dt=(0,N.ib)({pathname:`/api/v1/comment/${(ze=de==null?void 0:de.id)!=null?ze:0}`,method:"DELETE",json:{publication_id:Ae==null?void 0:Ae.id}}),it=()=>he(this,null,function*(){if(!de||(xe(!1),dt.isLoading))return;const Ne=yield dt.refetch();if(Ne instanceof Error){alert((0,I.getNetworkErrorMessage)(Ne));return}Je.popToast(ft=>(0,n.h)($.FN,ue(le({},ft),{text:"Note deleted",Icon:O.Z}))),pt({type:"comment_delete",payload:{publication:Ae,post:Be,comment:de}})}),tt=(0,Y.i3)(),vt=()=>he(this,null,function*(){de&&tt.open({editComment:de,tabId:Ve})}),et=()=>{ce&&(0,H.rw)(ce,Pt,"menu",{tabId:Ve})},Xe=[!de&&Be&&(0,n.h)(Se,{post:Be}),...ct,(0,C.canEditComment)(je,de)&&(0,n.h)(V.sN,{icon:(0,n.h)(y.Z,null),onClick:vt},"Edit"),...Qe,(0,C.canReportComment)(je,de)&&(0,n.h)(V.sN,{icon:(0,n.h)(E.Z,null),priority:"destructive",onClick:()=>ye(!0)},"Report"),(0,C.canDeleteComment)(je,de,{pub:Ae,post:Be,parentComments:He})&&(0,n.h)(V.sN,{icon:(0,n.h)(O.Z,null),priority:"destructive",onClick:()=>xe(!0)},"Delete")].filter(Boolean);return Xe.length===0?null:(0,n.h)(n.Fragment,null,(0,n.h)(V.v2,{trigger:(0,n.h)(J.K,{"aria-label":"share",permalink:_e,className:ie.Z.more},(0,n.h)(d.Z,{strokeWidth:2.5})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"More",maxHeight:350,onOpen:et},Xe),Ie&&(0,n.h)(M.Z,{className:ie.Z.reportModal,pub:Ae,comment:de,onClose:()=>ye(!1),onReportSuccess:()=>{}}),(0,n.h)(R.a,{isOpen:Ce,title:"Delete note?",body:"This will permanently remove this note from Substack. It cannot be undone.",customPrimaryButton:(0,n.h)(F.zx,{priority:"destructive",onClick:it},"Delete"),secondaryButton:(0,n.h)(F.zx,{priority:"secondary",onClick:()=>xe(!1)},"Cancel"),onClose:()=>xe(!1)}))}function Se(Ae){var Be=Ae,{post:de}=Be,ce=fe(Be,["post"]);const _e=We(de);return(0,n.h)(V.sN,le({icon:de.is_saved?(0,n.h)(g.Z,null):(0,n.h)(P.Z,null),onClick:_e},ce),de.is_saved?"Unsave":"Save")}function We(Ae){const Be=(0,re.I0)(),de=(0,p.c1)();return()=>{const _e=Ae.id,Oe=!Ae.is_saved;(0,p.TJ)(_e,Oe,{surface:"reader"}),de(Oe),Be({type:"post_save",payload:{postId:_e,isSaved:Oe}})}}},51041:(j,l,e)=>{"use strict";e.d(l,{p:()=>O});var n=e(6400),c=e(80332),u=e(44695),v=e(2731);function O({id:d,label:g,type:P,url:S}){return(0,n.h)("span",{className:"node-substack_mention"},P==="pub"?(0,n.h)(E,{id:d,url:S,label:g}):(0,n.h)(y,{id:d,label:g}))}function y({id:d,label:g}){return(0,n.h)(c.Ct,{inline:!0,subject:{id:d,name:g}},(0,n.h)("a",{className:"substack-mention",href:(0,v.getProfileUrlById)(d,g)},"@",g))}function E({id:d,url:g,label:P}){return(0,n.h)(u.Sm,{publication_id:d,inline:!0},(0,n.h)("a",{className:"substack-mention",href:g},"@",P))}},8796:(j,l,e)=>{"use strict";e.d(l,{n:()=>d});var n=e(6400),c=e(30396),u=e(25877),v=e(62017),O=e(51126),y=e(43887),E=e(28967);function d({userId:g,comment:P,children:S}){const T=(0,u.KG)(g),C=(0,u.Yq)(),[p,i]=(0,c.eJ)(C);(0,c.d4)(()=>{T&&!C&&i(!1)},[T]);const s=P?P.type==="feed"&&!P.ancestor_path?"note":"reply":"post";return T&&!p?(0,n.h)(O.gq,{radius:12,border:"detail",bg:"secondary",justifyContent:"space-between",alignItems:"center",paddingX:16,paddingY:20,onClick:()=>i(!0),gap:12,className:E.Z.mutedItem},(0,n.h)(O.hs,{flex:"grow",minWidth:0},(0,n.h)(y.xv.B4,{color:"secondary"},"This ",s," is from someone",T==="muting"?" you hid":T==="blocking"?" you blocked":" who has you blocked",".")),T!=="blocked"&&(0,n.h)(y.xv.B4,{color:"secondary",weight:"semibold"},(0,n.h)(v.hh,{onClick:()=>i(!0)},"Show ",s))):(0,n.h)(n.Fragment,null,S)}},73115:(j,l,e)=>{"use strict";e.d(l,{sZ:()=>H});var n=e(6400),c=e(99869),u=e(71212),v=e(67358),O=e(84040),y=e(51126),E=e(62246),d=e(43887),g=e(20501),P=e(15045),S=e(70444),T=e(68227),C=e(17835),p=e(66839),i=e(3258),s=e(39419),_=e.n(s),w=e(29811),x=e(55886),D=e(7980),N=Object.defineProperty,I=Object.defineProperties,A=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,Z=(te,ie,se)=>ie in te?N(te,ie,{enumerable:!0,configurable:!0,writable:!0,value:se}):te[ie]=se,V=(te,ie)=>{for(var se in ie||(ie={}))R.call(ie,se)&&Z(te,se,ie[se]);if(M)for(var se of M(ie))F.call(ie,se)&&Z(te,se,ie[se]);return te},G=(te,ie)=>I(te,A(ie));function $({comment:te,isOpen:ie,onClose:se}){return h(Modal,{isOpen:ie,onClose:se},h(K,{comment:te,onClose:se}))}function K({comment:te,onClose:ie}){const se=getFeedCommentUrl(te,{urlParams:{utm_source:"substack",utm_content:"note-share-modal"}});return h(FlexColumn,{gap:20,paddingBottom:16},h(ModalHeader,{includeClose:!0,onClose:ie}),h(FlexBox,{justifyContent:"center"},h(CloudImage,{src:getNoteCommentPreviewUrl(te.id),size:340})),h(Text.Meta,{align:"center"},"Share via"),h(H,{shareSource:"note-share-modal",shareUrl:se,shareText:"",shareEventType:"note",comment:te,itemKey:te.item_entity_key}))}function H({shareUrl:te,shareText:ie,shareEventType:se,itemKey:W,shareSource:z,comment:Q,onShare:oe}){const ne=(0,w.pm)(),ae=(Te,we)=>{(0,i.j)(i.FP.SHARE_LINK_CLICKED,{name:Te,type:se,item_entity_key:W,source:z});const Se=we();Se&&(Se.startsWith("http")?window.open(Se,"_blank"):document.location.href=Se),oe==null||oe()},le=()=>{ae("copy",()=>{(0,s.copyToClipboard)(te)}),ne.popToast(Te=>(0,n.h)(w.FN,G(V({},Te),{text:"Link copied",Icon:c.Z})))},ue=()=>{ae("twitter",()=>(0,P.pathWithQuery)("https://twitter.com/share",{url:te,text:ie}))},fe=()=>{ae("facebook",()=>(0,P.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:te}))},he=()=>{ae("linkedin",()=>(0,P.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:te}))},be=()=>{ae("email",()=>(0,P.pathWithQuery)("mailto:",{subject:ie,body:te}))},ve=()=>{ne.popToast(Te=>(0,n.h)(w.FN,G(V({},Te),{text:"Downloading image...",Icon:u.Z})))};return(0,n.h)(y.tu,{flex:"grow",justifyContent:"center"},(0,n.h)(y.hs,{gap:8},(0,n.h)(re,null,(0,n.h)(Y,{onClick:ue},(0,n.h)(p.Z,{height:48})),(0,n.h)(ee,null,"Twitter")),(0,n.h)(re,null,(0,n.h)(Y,{onClick:fe},(0,n.h)(T.Z,{height:48})),(0,n.h)(ee,null,"Facebook")),(0,n.h)(re,null,(0,n.h)(Y,{onClick:he},(0,n.h)(C.Z,{height:48})),(0,n.h)(ee,null,"LinkedIn")),(0,n.h)(re,null,(0,n.h)(J,{onClick:le},(0,n.h)(c.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,n.h)(ee,null,"Copy Link")),Q?(0,n.h)(re,null,(0,n.h)(J,{onClick:ve,href:(0,g.getNoteCommentPreviewUrl)(Q.id),target:"_blank",download:!0},(0,n.h)(u.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,n.h)(ee,null,"Save image")):(0,n.h)(re,null,(0,n.h)(J,{onClick:be},(0,n.h)(v.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,n.h)(ee,null,"Email"))))}function re(te){return(0,n.h)(y.tu,V({gap:8,alignItems:"center",flex:"grow"},te))}function ee(te){return(0,n.h)(d.xv.Detail,V({align:"center",color:"primary"},te))}function Y(te){return(0,n.h)(O.kG,V({resetCss:!0,className:D.Z.shareImageButton},te))}function J(te){return(0,n.h)(O.hU,V({size:48,rounded:!0,fill:"borderless"},te))}},83097:(j,l,e)=>{"use strict";e.d(l,{q:()=>te});var n=e(6400),c=e(30396),u=e(8618),v=e(8479),O=e(85928),y=e.n(O),E=e(15045),d=e(70444),g=e(31517),P=e(26240),S=e(95847),T=e(4190),C=e(63270),p=e(67963);function i(){return h("svg",{width:"160",height:"160",viewBox:"0 0 160 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("circle",{cx:"80",cy:"80",r:"79.5",stroke:"var(--color-detail)"}),h("circle",{cx:"132",cy:"132",r:"27.5",fill:"var(--color-bg-primary)",stroke:"var(--color-detail)"}),h("circle",{cx:"132",cy:"132",r:"13",fill:"var(--color-accent-twitter)"}),h("line",{x1:"132",y1:"126.5",x2:"132",y2:"137.5",stroke:"var(--color-bg-primary)","stroke-width":"2","stroke-linecap":"round"}),h("line",{x1:"126.5",y1:"132",x2:"137.5",y2:"132",stroke:"var(--color-bg-primary)","stroke-width":"2","stroke-linecap":"round"}),h("path",{d:"M118.647 60.5265C118.706 61.3775 118.706 62.2285 118.706 63.0873C118.706 89.2559 98.7843 119.436 62.3569 119.436V119.421C51.5961 119.436 41.0588 116.354 32 110.542C33.5647 110.73 35.1373 110.825 36.7137 110.828C45.6314 110.836 54.2941 107.844 61.3098 102.334C52.8353 102.174 45.4039 96.6481 42.8078 88.5814C45.7765 89.154 48.8353 89.0363 51.749 88.2402C42.5098 86.3736 35.8627 78.2559 35.8627 68.8285C35.8627 68.7422 35.8627 68.6599 35.8627 68.5775C38.6157 70.1108 41.698 70.9618 44.851 71.0559C36.149 65.2402 33.4667 53.6638 38.7216 44.6128C48.7765 56.9853 63.6118 64.5069 79.5373 65.303C77.9412 58.4246 80.1216 51.2167 85.2667 46.3814C93.2431 38.8834 105.788 39.2677 113.286 47.2402C117.722 46.3657 121.973 44.7383 125.863 42.4324C124.384 47.0167 121.29 50.9108 117.157 53.3853C121.082 52.9226 124.918 51.8716 128.529 50.2677C125.871 54.252 122.522 57.7226 118.647 60.5265Z",fill:"var(--color-accent-twitter)"}))}var s=e(55463),_=e(11533),w=e(84040),x=e(86605),D=e(51126),N=e(62246),I=e(43887),A=e(55886),M=e(91870),R=e(10174),F=e(51731),Z=e(73115),V=e(50670),G=e(7980),$=(W,z,Q)=>new Promise((oe,ne)=>{var ae=fe=>{try{ue(Q.next(fe))}catch(he){ne(he)}},le=fe=>{try{ue(Q.throw(fe))}catch(he){ne(he)}},ue=fe=>fe.done?oe(fe.value):Promise.resolve(fe.value).then(ae,le);ue((Q=Q.apply(W,z)).next())});function K(){const W=useUserContext(),z=new URL(document.location.toString());return useMemo(()=>W.user&&!W.userSettings.feed_web_nux_seen_at||z.searchParams.get("action")==="nux",[])?h(H,null):null}function H(){const W=useUserContext(),z=useSiteConfigs(),[Q,oe]=useState(!0),[ne,ae]=useState(1),[le,ue]=useState(null);useEffect(()=>{W.changeSetting("feed_web_nux_seen_at",new Date().toISOString())},[]);const fe=()=>{oe(!1)},he=()=>{var be,ve;let Te=ne+1;Te===2&&(be=W.user)!=null&&be.name&&(Te+=1),Te===3&&(!z.getConfigFor("twitter_connect_flows_enabled")||(ve=W.user)!=null&&ve.has_linked_twitter)&&(Te+=1),ae(Te)};return h(Modal,{isOpen:Q,onClose:fe,width:440,overflow:"hidden"},ne===1?h(re,{onClose:fe,onNext:he}):ne===2?h(ee,{onClose:fe,onNext:he}):ne===3?h(Y,{onClose:fe,onNext:he,onSkip:()=>ae(ne+2)}):ne===4?h(J,{onPublish:be=>{ue(be),he()},onClose:fe}):ne===5&&le?h(te,{onClose:fe,comment:le}):null)}function re({onClose:W,onNext:z}){return h(Fragment,null,h(FlexColumn,null,h(CloseButton,{onClick:W,priority:"media",fill:"borderless",style:{position:"absolute",top:8,right:8}}),h(CloudImage,{src:"/img/reader/nux-home.png",width:440,height:220})),h(FlexColumn,{gap:8,padding:16},h(Text.H2,{weight:"semibold",align:"center"},"Welcome to the new Home tab"),h(Text.B3,{align:"center",color:"secondary"},"Jump into your favorite reads, or scroll to explore. Access your full Inbox from the left sidebar.",h("a",{href:"https://on.substack.com/p/new-front-page",target:"_blank",rel:"noopener"},h(Text.B3,{color:"accent-blue",decoration:"underline"},"Learn more")))),h(se,null,h(Button,{priority:"primary",onClick:z},"Get started")))}function ee({onClose:W,onNext:z}){const Q=useUserContext();return h(Fragment,null,h(ModalHeader,{title:"First, set up your profile",description:"Introduce yourself by adding a name, bio, and photo to your profile.",includeClose:!0,onClose:W}),h(ProfileUpdater,{className:css.setupProfileModalContent,pageTitle:"",user:Q.user,optionalPhoto:!0,noSubscribeCta:!0,complete:!0,onSuccess:oe=>{Q.setUser(oe.body),z()}}))}function Y({onClose:W,onNext:z,onSkip:Q}){return useEffect(()=>{const oe=ne=>{var ae;ne.origin===document.location.origin&&((ae=ne.data)==null?void 0:ae.type)==="twitter-success"&&z()};return window.addEventListener("message",oe),()=>{window.removeEventListener("message",oe)}},[]),h(Fragment,null,h(ModalHeader,{includeClose:!0,onClose:W}),h(FlexColumn,{padding:16},h(FlexColumn,{alignItems:"center",gap:8},h(Text.H2,{weight:"semibold"},"Connect Twitter"),h(Text.B3,{align:"center",color:"secondary"},"Instantly find people you know on Substack.")),h(FlexColumn,{alignItems:"center",paddingY:32},h(TwitterConnectIcon,null))),h(se,null,h(Button,{priority:"twitter",href:getConnectTwitterUrl({type:"reader2",redirect:pathWithQuery(FEED_PATH,{action:"notify-opener"})}),newTab:!0},"Connect Twitter"),h(Button,{onClick:Q,priority:"secondary",fill:"empty"},"Skip")))}function J({onClose:W,onPublish:z}){const Q=useUser(),oe=useComposerModal(),{create:ne,isLoading:ae}=useCreateShortPost(),le=useDispatch(),[ue,fe]=useRouter(),{exposeExperiment:he,getExperimentVariant:be}=useExperiments();if(useResource(()=>Promise.all([e.e(6311),e.e(4321),e.e(4563),e.e(411)]).then(e.bind(e,84563)),[]),!Q)return null;he("feed_nux_empty_message");const ve=be("feed_nux_empty_message")==="treatment",Te="Hello, Substack! What\u2019s going on?",we=()=>$(this,null,function*(){if(!ae){if(ve)W(),oe.open({initialText:""});else{const{textToJsonCore:We}=yield Promise.all([e.e(6311),e.e(4321),e.e(4563),e.e(411)]).then(e.bind(e,84563)),Ae=yield ne({bodyJson:We(Te)});if(Ae instanceof Error)return;z(Ae),le({type:"new_comment",payload:{comment:Ae}})}document.location.pathname!==FEED_PATH&&fe(FEED_PATH)}}),Se=()=>{W(),oe.open({initialText:Te})};return h(Fragment,null,h(ModalHeader,{includeClose:!0,onClose:W}),h(FlexColumn,{alignItems:"center",gap:8,padding:16},h(Text.H2,{weight:"semibold"},"Time to say hello!"),h(Text.B3,{align:"center",color:"secondary"},"Send your first note to tell others you've arrived.")),h(FlexColumn,{paddingX:16,paddingTop:8,paddingBottom:16},h(FlexColumn,{border:"detail",shadow:"lg",padding:16,radius:12},h(FlexBox,{gap:12},h(FeedAvatarImage,{user:Q}),h(FlexColumn,{flex:"grow",minWidth:0},h(Text.B3,{weight:"semibold",ellipsis:!0},Q.name),h(Text.B4,{color:"secondary"},dayjs().fromNowShort()))),h(FlexColumn,{paddingY:16,borderBottom:"detail"},h(Text,{font:"text",size:18},Te)),h(FlexBox,{style:{gap:34}},h(ie,null,h(Heart,{stroke:"var(--color-secondary)",size:20}),h(Text.Button,{color:"secondary"},"Like")),h(ie,null,h(NoteReplyIcon,{stroke:"var(--color-secondary)",width:20}),h(Text.Button,{color:"secondary"},"Reply")),h(ie,null,h(NoteForwardIcon,{stroke:"var(--color-secondary)",width:20}),h(Text.Button,{color:"secondary"},"Restack"))))),h(FlexColumn,{padding:16,gap:8},h(Button,{priority:"primary",onClick:we,disabled:ae},ve?"Say hello":"Send now"),!ve&&h(Button,{onClick:Se,priority:"secondary",fill:"empty",disabled:ae},"Edit note")))}function te({onClose:W,comment:z}){const Q=(0,p.aF)();if(!Q)return null;const oe=(0,d.getFeedCommentUrl)(z,{urlParams:{utm_source:"substack",utm_content:"first-note-modal"}}),ne=`I just wrote my first note on Substack
`;return(0,n.h)(n.Fragment,null,(0,n.h)(N.xB,{includeClose:!0,onClose:W}),(0,n.h)(D.tu,{padding:16},(0,n.h)(D.tu,{alignItems:"center",gap:4,padding:16},(0,n.h)(I.xv.H2,{weight:"semibold"},"Share your first note"),(0,n.h)(I.xv.B3,{align:"center",color:"secondary"},"Invite your friends and followers to check out your notes on Substack")),(0,n.h)(D.tu,{gap:24,paddingTop:8,paddingBottom:32,paddingX:16},(0,n.h)(D.tu,{paddingTop:8,paddingBottom:16},(0,n.h)(D.tu,{border:"detail",shadow:"lg",padding:16,radius:12},(0,n.h)(D.hs,{gap:12},(0,n.h)(V.Zb,{user:Q}),(0,n.h)(D.tu,{flex:"grow",minWidth:0},Q&&(0,n.h)(I.xv.B3,{weight:"semibold",ellipsis:!0},Q.name),(0,n.h)(I.xv.B4,{color:"secondary"},y()().fromNowShort()))),(0,n.h)(D.tu,{paddingY:16,borderBottom:"detail"},(0,n.h)(I.xv,{font:"text",size:18},(0,n.h)(F.bN,{comment:z,publication:null}))),(0,n.h)(D.hs,{style:{gap:34}},(0,n.h)(ie,null,(0,n.h)(u.Z,{stroke:"var(--color-secondary)",size:20}),(0,n.h)(I.xv.Button,{color:"secondary"},"Like")),(0,n.h)(ie,null,(0,n.h)(P.Z,{stroke:"var(--color-secondary)",width:20}),(0,n.h)(I.xv.Button,{color:"secondary"},"Reply")),(0,n.h)(ie,null,(0,n.h)(g.Z,{stroke:"var(--color-secondary)",width:20}),(0,n.h)(I.xv.Button,{color:"secondary"},"Restack"))))),(0,n.h)(I.xv.Meta,{align:"center"},"Share via"),(0,n.h)(Z.sZ,{shareSource:"first-note-modal",shareUrl:oe,shareText:ne,shareEventType:"note",itemKey:z.item_entity_key}))))}function ie({children:W}){return(0,n.h)(D.hs,{alignItems:"center",gap:8,paddingTop:16},W)}function se({children:W}){return h(FlexColumn,{padding:16,borderTop:"detail",gap:8},W)}},66337:(j,l,e)=>{"use strict";e.d(l,{I:()=>x});var n=e(6400),c=e(94184),u=e.n(c),v=e(47467),O=e(72307),y=e(79675),E=e(55727),d=e(15045),g=e(20501),P=e(31471),S=e(16527),T=e(51126),C=e(43887),p=e(73413),i=e(39936),s=e(17040),_=e(44396),w=e(28967);function x({post:D,publication:N,readOnly:I,onClick:A}){var M,R;const F=(0,_.XA)(),{isHidden:Z,onShow:V}=(0,v.Sl)(!!(N.explicit||D.explicit||D.cover_image_is_explicit||(M=D.videoUpload)!=null&&M.explicit)),{isPaid:G,isFreeSubscribed:$}=(0,O.Y0)(N.id),K=D.cover_image,H=N.shows_enabled&&D.videoUpload,re=N.shows_enabled&&D.podcastUpload&&!D.videoUpload;let ee;if(H&&D.videoUpload)ee=(0,n.h)(y.L,{disableAutoPlay:Z,isFreeSubscribed:$,isSubscribed:G,mediaUpload:D.videoUpload,post:D,pub:N,startMuted:!0});else if(re){const Y=D.section_id&&N.sections&&(R=N.sections.find(J=>J.id===D.section_id))!=null?R:null;ee=(0,n.h)(E.lU,{isFreeSubscribed:$,isSubscribed:G,post:D,pub:N,section:Y,variant:"notes-embed"})}else D.cover_image&&(ee=(0,n.h)(P.e,{className:u()(w.Z.postImage,F&&w.Z.mobile),imageProps:{smartCrop:!0,aspect:F?"3:2":"2:1"},src:D.cover_image,maxWidth:1e3}));return(0,n.h)(T.tu,{as:I?"div":"a",className:w.Z.post,position:"relative",bg:"elevated",border:"detail",radius:12,onClick:Y=>{A&&A(),!I&&p.L&&(0,S.Q)(Y,(0,g.getPostUrl)(N,D,{noBase:!0,feedViewer:!0}))},href:I?void 0:(0,g.getPostUrl)(N,D,{feedViewer:!1}),minWidth:0},ee,!re&&(0,n.h)(T.tu,{gap:4,padding:12,borderTop:K?"detail":"transparent"},(0,n.h)(T.hs,{gap:8,paddingBottom:4,alignItems:"center",minWidth:0},(0,n.h)(s.F,{pub:N,size:20}),(0,n.h)(C.xv.Meta,{ellipsis:!0},I?N.name:(0,n.h)(i.zr,{href:(0,d.getPubUrl)(N)},N.name))),(0,n.h)(C.xv.B3,{clamp:F?1:2,color:"primary",weight:"medium"},D.title),(0,n.h)(C.xv.B4,{clamp:2,color:"secondary"},D.description)),Z&&(0,n.h)(v.cD,{onShow:V,description:"This post was hidden by your settings."}))}},11132:(j,l,e)=>{"use strict";e.d(l,{F:()=>v,q:()=>u});var n=e(98661),c=e(30396);const u=(0,n.createContext)(void 0);function v(){return(0,c.qp)(u)}},62017:(j,l,e)=>{"use strict";e.d(l,{xG:()=>I,Zg:()=>N,hh:()=>A});var n=e(6400),c=e(94184),u=e.n(c),v=e(2731),O=e(80332),y=e(67963),E=e(43887),d=e(73413),g=e(18130);const P={link:"frontend-feed-TextLink-module__link--VuuIc"};var S=Object.defineProperty,T=Object.defineProperties,C=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,_=(M,R,F)=>R in M?S(M,R,{enumerable:!0,configurable:!0,writable:!0,value:F}):M[R]=F,w=(M,R)=>{for(var F in R||(R={}))i.call(R,F)&&_(M,F,R[F]);if(p)for(var F of p(R))s.call(R,F)&&_(M,F,R[F]);return M},x=(M,R)=>T(M,C(R)),D=(M,R)=>{var F={};for(var Z in M)i.call(M,Z)&&R.indexOf(Z)<0&&(F[Z]=M[Z]);if(M!=null&&p)for(var Z of p(M))R.indexOf(Z)<0&&s.call(M,Z)&&(F[Z]=M[Z]);return F};function N(M){var R=M,{user:F,utm_source:Z,utm_content:V,ellipsis:G,useYou:$,onClick:K}=R,H=D(R,["user","utm_source","utm_content","ellipsis","useYou","onClick"]);const re=(0,y.aF)(),ee=(F==null?void 0:F.id)||(F==null?void 0:F.user_id)||0,Y=$&&(re==null?void 0:re.id)===ee?"You":F.name;return(0,n.h)(I,w({user:F,utm_source:Z,utm_content:V,ellipsis:G,onClick:K},H),Y)}function I(M){var R=M,{user:F,utm_source:Z,utm_content:V,children:G,onClick:$}=R,K=D(R,["user","utm_source","utm_content","children","onClick"]);const H=x(w({},F),{id:F.author_id||F.user_id||F.id,name:F.user_profile_name||F.author_name||F.name,handle:(F==null?void 0:F.handle)||(F==null?void 0:F.author_handle)});return(0,n.h)(O.Ct,{subject:H,dontStopPropagation:!0,utmSource:"feed",inline:!0},(0,n.h)(A,w({href:(0,v.getReaderProfileUrl)(F,{noBase:d.L,utm_content:V,utm_source:Z}),onClick:$,showBack:!0},K),G))}function A(M){var R=M,{weight:F,color:Z,decoration:V="hover-underline",ellipsis:G,native:$,className:K}=R,H=D(R,["weight","color","decoration","ellipsis","native","className"]);const re=H.href,ee=re==null?void 0:re.match(/^([a-z]+:)?\/\//),Y=$!=null?$:ee&&!(re!=null&&re.startsWith(document.location.origin));return(0,n.h)(E.Zx,{ellipsis:G,weight:F,color:Z,decoration:V},Y?(0,n.h)("a",x(w({},H),{className:u()(K,P.link)})):(0,n.h)(g.r,x(w({},H),{className:u()(K,P.link)})))}},59386:(j,l,e)=>{"use strict";e.d(l,{m:()=>T});var n=e(6400),c=Object.defineProperty,u=Object.defineProperties,v=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,d=(C,p,i)=>p in C?c(C,p,{enumerable:!0,configurable:!0,writable:!0,value:i}):C[p]=i,g=(C,p)=>{for(var i in p||(p={}))y.call(p,i)&&d(C,i,p[i]);if(O)for(var i of O(p))E.call(p,i)&&d(C,i,p[i]);return C},P=(C,p)=>u(C,v(p)),S=(C,p)=>{var i={};for(var s in C)y.call(C,s)&&p.indexOf(s)<0&&(i[s]=C[s]);if(C!=null&&O)for(var s of O(C))p.indexOf(s)<0&&E.call(C,s)&&(i[s]=C[s]);return i};function T(C){var p=C,{size:i=20,stroke:s="var(--color-light-secondary)"}=p,_=S(p,["size","stroke"]);return(0,n.h)("svg",P(g({},_),{width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:s,xmlns:"http://www.w3.org/2000/svg"}),(0,n.h)("path",{id:"Vector",d:"M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C11.5081 14.2222 11.7556 14.2326 12 14.2531M21.0039 16.3098L18.6469 18.6668M18.6469 18.6668L16.2899 21.0239M18.6469 18.6668L21.0178 21.0377M18.6469 18.6668L16.276 16.2959M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},50670:(j,l,e)=>{"use strict";e.d(l,{Fb:()=>G,KF:()=>F,Ku:()=>R,Zb:()=>Z,oM:()=>I,sP:()=>V});var n=e(6400),c=e(94184),u=e.n(c),v=e(85928),O=e.n(v),y=e(20501),E=e(80332),d=e(51126),g=e(43887),P=e(34593),S=e(73413),T=e(18130),C=e(44396),p=e(28967),i=Object.defineProperty,s=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,x=($,K,H)=>K in $?i($,K,{enumerable:!0,configurable:!0,writable:!0,value:H}):$[K]=H,D=($,K)=>{for(var H in K||(K={}))_.call(K,H)&&x($,H,K[H]);if(s)for(var H of s(K))w.call(K,H)&&x($,H,K[H]);return $},N=($,K)=>{var H={};for(var re in $)_.call($,re)&&K.indexOf(re)<0&&(H[re]=$[re]);if($!=null&&s)for(var re of s($))K.indexOf(re)<0&&w.call($,re)&&(H[re]=$[re]);return H};function I($){var K=$,{showGutter:H=!1,hasAvatar:re=!0,hasContext:ee=!1,onClick:Y}=K,J=N(K,["showGutter","hasAvatar","hasContext","onClick"]);const te=Y?ie=>{const{target:se}=ie;se instanceof Element&&se.closest("button, a")||ie.defaultPrevented||Y(ie)}:void 0;return(0,n.h)(d.tu,D({className:u()(p.Z.feedUnit,H?p.Z.showThreadGutter:void 0,ee?p.Z.hasContext:void 0,Y&&p.Z.hasAction,re?p.Z.hasAvatar:void 0),gap:4,onClick:te},J))}const A=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),M=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});function R({timestamp:$}){const K=O()(),H=O()($),re=K.diff(H,"day"),ee=K.diff(H,"year");let Y;return ee>=1?Y=M.format(H.toDate()):re>7?Y=A.format(H.toDate()):Y=H.fromNowShort(),(0,n.h)(g.Zx,{color:"secondary"},$&&Y)}function F({children:$}){return(0,n.h)(g.xv.B3,null,(0,n.h)(d.hs,{flex:"grow",minWidth:0},(0,n.h)(d.hs,{gap:8,alignItems:"center",flex:"grow"},$)))}function Z({user:$,className:K}){const H=(0,C.XA)();return(0,n.h)(P.qE,{size:H?36:40,user:$,className:K})}function V({large:$,children:K}){return $?(0,n.h)(g.xv.B2,{className:p.Z.feedCommentBodyInner,color:"primary"},K):(0,n.h)(g.xv.B3,{className:p.Z.feedCommentBodyInner,color:"primary"},K)}function G({user:$,onClick:K,utm_content:H}){const re=(0,T.c)({href:(0,y.getReaderProfileUrl)($,{noBase:S.L}),state:{showBack:!0},onClick:K,campaign:{content:H}});return(0,n.h)(d.hs,D({as:"a",flex:"auto",alignSelf:"start"},re),(0,n.h)(E.Ct,{subject:$,dontStopPropagation:!0,utmSource:"feed"},(0,n.h)(Z,{user:$})))}},69371:(j,l,e)=>{"use strict";e.d(l,{$U:()=>g,rI:()=>T});var n=e(6400),c=e(98661),u=e(30396),v=e(21288),O=e(9686),y=e(91870),E=e(50292),d=e(10174);function g({state:C,dispatch:p,surface:i,children:s}){const{onboardingModalRef:_}=(0,E.SJ)(),w=(0,u.Ye)(()=>({dispatch:p}),[]);return(0,n.h)(P.Provider,{value:i},(0,n.h)(y.RR.Provider,{value:w},(0,n.h)(y.ev.Provider,{value:C},(0,n.h)(d.Au,null,(0,n.h)(v.qS,null,s,C.isSigningIn&&(0,n.h)(O.I,{onCancel:()=>p({type:"sign_in",payload:{isSigningIn:!1}}),onSuccess:()=>{p({type:"sign_in",payload:{isSigningIn:!1}}),document.location.reload()},onSignup:()=>{var x;p({type:"sign_in",payload:{isSigningIn:!1}}),(x=_.current)==null||x.open()},noExit:C.signInNoExit}))))))}const P=(0,c.createContext)("feed");function S({surface:C,children:p}){return h(P.Provider,{value:C},p)}function T(){return(0,u.qp)(P)}},55463:(j,l,e)=>{"use strict";e.d(l,{a:()=>u});var n=e(8479),c=(v,O,y)=>new Promise((E,d)=>{var g=T=>{try{S(y.next(T))}catch(C){d(C)}},P=T=>{try{S(y.throw(T))}catch(C){d(C)}},S=T=>T.done?E(T.value):Promise.resolve(T.value).then(g,P);S((y=y.apply(v,O)).next())});function u({editComment:v}={}){const O=(0,n.ib)({pathname:v?`/api/v1/feed/comment/${v.id}`:"/api/v1/comment/feed"});return{create:y=>c(this,[y],function*({bodyJson:E,parentPostId:d,parentPubId:g,parent_id:P,attachmentIds:S,tabId:T,replyMinimumRole:C,notifySubscribersPubId:p}){return yield O.refetch({pathname:v?`/api/v1/feed/comment/${v.id}`:d?`/api/v1/post/${d}/comment`:"/api/v1/comment/feed",method:v?"PATCH":"POST",json:{bodyJson:E,parent_id:P,publication_id:g,attachmentIds:S,tabId:T,replyMinimumRole:C,notifySubscribersPubId:p}})}),error:O.error,isLoading:O.isLoading}}},77883:(j,l,e)=>{"use strict";e.d(l,{G:()=>N});var n=e(6400),c=e(71375),u=e(25380),v=e(48969),O=e(67963),y=e(72496),E=e(8479),d=e(75425),g=e(72307),P=e(3258),S=Object.defineProperty,T=Object.defineProperties,C=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,_=(I,A,M)=>A in I?S(I,A,{enumerable:!0,configurable:!0,writable:!0,value:M}):I[A]=M,w=(I,A)=>{for(var M in A||(A={}))i.call(A,M)&&_(I,M,A[M]);if(p)for(var M of p(A))s.call(A,M)&&_(I,M,A[M]);return I},x=(I,A)=>T(I,C(A)),D=(I,A,M)=>new Promise((R,F)=>{var Z=$=>{try{G(M.next($))}catch(K){F(K)}},V=$=>{try{G(M.throw($))}catch(K){F(K)}},G=$=>$.done?R($.value):Promise.resolve($.value).then(Z,V);G((M=M.apply(I,A)).next())});function N({publication:I,profileId:A,onSuccess:M=()=>{},source:R}){const F=(0,O.aF)(),Z=(0,g.Th)(),V=(0,v.oJ)(),{popToast:G}=(0,d.pm)(),{isLoading:$,refetch:K}=(0,E.ib)({pathname:"/api/v1/reader/signup/pub",method:"POST",json:{publication_id:I.id,email:F==null?void 0:F.email,visibility:"public",source:R,first_url:y.xY,first_referrer:y.ip,current_url:y.UE,current_referrer:y.xU}});return{isLoading:$,subscribe:()=>D(this,null,function*(){F||G(H=>(0,n.h)(d.FN,x(w({},H),{text:"Something went wrong. Please try again.",Icon:c.Z})));try{yield K(),G(H=>(0,n.h)(d.FN,x(w({},H),{text:`Subscribed to ${I.name}`,Icon:u.Z}))),M(),Z.refetch(),A&&V((H=[])=>H.includes(A)?H:[A,...H],{revalidate:!1}),(0,P.j)(P.FP.FEED_ONE_CLICK_SUBSCRIBE,{source:R,publication_id:I.id})}catch(H){console.error(H),G(re=>(0,n.h)(d.FN,x(w({},re),{text:"There was an issue subscribing to this profile.",Icon:c.Z})))}})}}},15748:(j,l,e)=>{"use strict";e.d(l,{g:()=>i});var n=e(6400),c=e(99869),u=e(75425),v=e(39419),O=e.n(v),y=Object.defineProperty,E=Object.defineProperties,d=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,T=(s,_,w)=>_ in s?y(s,_,{enumerable:!0,configurable:!0,writable:!0,value:w}):s[_]=w,C=(s,_)=>{for(var w in _||(_={}))P.call(_,w)&&T(s,w,_[w]);if(g)for(var w of g(_))S.call(_,w)&&T(s,w,_[w]);return s},p=(s,_)=>E(s,d(_));function i(){const s=(0,u.pm)();return _=>{(0,v.copyToClipboard)(_),s.popToast(w=>(0,n.h)(u.FN,p(C({},w),{text:"Link copied",Icon:c.Z})))}}},39776:(j,l,e)=>{"use strict";e.r(l),e.d(l,{SiteConfigGate:()=>O,default:()=>v,getConfigFor:()=>u});var n=e(6400),c=e(63270);function u(y){var E;if(!y||typeof window=="undefined"||!((E=window._preloads)!=null&&E.siteConfigs))return null;const d=window._preloads.siteConfigs[y];return d===void 0?null:d}const v=u;function O({configKey:y,children:E,value:d=!0}){return(0,c.xR)().getConfigFor(y)==d?(0,n.h)(n.Fragment,null,E):null}},35225:(j,l,e)=>{"use strict";e.d(l,{S:()=>D});var n=e(6400),c=e(8618),u=e(85928),v=e.n(u),O=e(61782),y=e(15045),E=e(13833),d=e(75425),g=e(3258),P=e(90304),S=Object.defineProperty,T=Object.defineProperties,C=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,_=(N,I,A)=>I in N?S(N,I,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[I]=A,w=(N,I)=>{for(var A in I||(I={}))i.call(I,A)&&_(N,A,I[A]);if(p)for(var A of p(I))s.call(I,A)&&_(N,A,I[A]);return N},x=(N,I)=>T(N,C(I));function D({user:N,noBase:I}){const A=(0,d.pm)(),M=()=>fetch("/api/v1/user/like_nux/seen",{method:"POST"});return()=>{const R="has_seen_like_nux",F=(0,P.mM)(R),Z=O.L;return F&&N&&!N.has_seen_like_nux?(M(),!1):!N||!N.profile_set_up_at||N.subscription_visibility==="private"||!N.activity_likes_enabled||F||N.has_seen_like_nux||v()((N==null?void 0:N.profile_set_up_at)||0).unix()>Z?!1:((0,g.j)(g.FP.LIKE_NUX_SHOWN),(0,P.ex)(R,!0),M(),A.popToast(V=>(0,n.h)(d.Us,x(w({},V),{title:"New: see who's liked a post",body:"Now you can see who's liked a post and visit their profiles. Your own profile won't show up on posts you liked before this change.",buttons:(0,n.h)(n.Fragment,null,(0,n.h)(d.lL,{href:(0,y.getReaderProfileUrl)(N,{utm_source:"like_toast",noBase:I})},(0,n.h)(E.Av,null,"OK")),(0,n.h)(d.lL,{href:(0,y.getEditProfileUrl)({params:{utm_source:"like_toast"}})},(0,n.h)(E.Av,{color:"secondary"},"Settings"))),Icon:c.Z}))),!0)}}},99040:(j,l,e)=>{"use strict";e.d(l,{Q:()=>D,V:()=>x});var n=e(6400),c=e(98661),u=e(5285),v=e(94184),O=e.n(v),y=e(71375),E=e(84040),d=e(51126),g=e(5668),P=e(43887),S=e(17163),T=Object.defineProperty,C=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(N,I,A)=>I in N?T(N,I,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[I]=A,_=(N,I)=>{for(var A in I||(I={}))p.call(I,A)&&s(N,A,I[A]);if(C)for(var A of C(I))i.call(I,A)&&s(N,A,I[A]);return N},w=(N,I)=>{var A={};for(var M in N)p.call(N,M)&&I.indexOf(M)<0&&(A[M]=N[M]);if(N!=null&&C)for(var M of C(N))I.indexOf(M)<0&&i.call(N,M)&&(A[M]=N[M]);return A};const x=(0,c.forwardRef)(({title:N,subtitle:I,onClose:A,children:M,className:R},F)=>(0,n.h)(d.tu,{className:S.Z.root,onClick:A},(0,n.h)(u.u.Child,{appear:!0,enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-translate-y-full tw-opacity-0",enterTo:"tw-translate-y-0 tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-translate-y-0 tw-opacity-100",leaveTo:"tw-translate-y-full tw-opacity-0"},(0,n.h)(d.tu,{className:O()(S.Z.sheet,R),ref:F,onClick:Z=>{Z.stopPropagation()}},(0,n.h)(d.hs,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",paddingBottom:8},(0,n.h)(d.tu,null,(0,n.h)(P.xv.B3,{weight:"semibold"},N),(0,n.h)(P.xv.B4,{color:"secondary"},I)),(0,n.h)(E.hU,{fill:"empty",onClick:()=>{A()},priority:"secondary"},(0,n.h)(y.Z,null))),(0,n.h)(d.tu,{paddingTop:8,overflowY:"auto",className:S.Z.items},M))))),D=(0,c.forwardRef)((N,I)=>{var A=N,{children:M,onClick:R,closeMenu:F,icon:Z,rightIcon:V,className:G,priority:$="primary",disabled:K,hiddenInput:H}=A,re=w(A,["children","onClick","closeMenu","icon","rightIcon","className","priority","disabled","hiddenInput"]);const ee=re.href?"a":E.kG;return(0,n.h)(ee,_({className:O()(S.Z.item,S.Z[$],G,{[S.Z.disabled]:!!K,[S.Z.relative]:!!H}),resetCss:!0,onClick:Y=>{R==null||R(Y),F==null||F()},ref:I},re),Z&&(0,n.cloneElement)(Z,{size:20,stroke:"var(--color-primary)"}),Z&&" ",(0,n.h)(P.xv.B4,{color:$==="destructive"?"accent-red":"primary",weight:"medium",align:"left",flex:"fill"},M),V&&(0,n.h)(n.Fragment,null,(0,n.h)(d.hs,{flex:"grow"}),V&&(0,n.cloneElement)(V,{size:20,stroke:"var(--color-primary)"})),H&&(0,n.h)(g.U,null,H))})},11059:(j,l,e)=>{"use strict";e.d(l,{a:()=>d});var n=e(6400),c=e(30396),u=e(84606),v=e(84040),O=e(34394),y=e(62246),E=e(43887);const d=({isOpen:g=!1,title:P,body:S,onClose:T,customPrimaryButton:C,secondaryButton:p,confirmationString:i})=>{const s=(0,c.sO)(null),[_,w]=(0,c.eJ)(!!i);return(0,c.d4)(()=>{g&&i&&w(!0)},[g,i]),(0,n.h)(y.u_,{isOpen:g,onClose:T,initialFocus:s},P&&(0,n.h)(y.xB,{title:P,includeClose:!1}),(0,n.h)(y.fe,null,(0,n.h)(E.xv.B3,null,S),i&&(0,n.h)(u.xu,{paddingTop:16},(0,n.h)(O.o,{onChange:x=>{w(!0),i.toLowerCase()===x.target.value.toLowerCase()&&w(!1)}}))),(0,n.h)(y.mz,{primaryButton:C?(0,n.cloneElement)(C,{ref:s,disabled:_}):(0,n.h)(v.zx,{ref:s,onClick:T,priority:"primary",disabled:_},"OK"),secondaryButton:p}))}},83787:(j,l,e)=>{"use strict";e.d(l,{H:()=>v});var n=e(6400),c=e(30396);const u=150,v=({children:O,expanded:y,renderWhenCollapsed:E,onEnter:d,flex:g})=>{const P=(0,c.sO)(null),[S,T]=(0,c.eJ)(y?"expanded":"collapsed"),[C,p]=(0,c.eJ)(null);return(0,c.d4)(()=>{y&&S==="collapsed"&&T("startExpanding"),S==="startExpanding"&&P.current&&(p(P.current.offsetHeight),T("expanding"),setTimeout(()=>{T("expanded"),d&&d()},u)),!y&&S==="expanded"&&P.current&&(p(P.current.offsetHeight),T("startCollapsing")),S==="startCollapsing"&&(T("collapsing"),setTimeout(()=>{T("collapsed")},u))},[y,S]),(0,n.h)("div",{style:{height:S==="collapsed"||S==="startExpanding"||S==="collapsing"?0:S==="expanding"||S==="startCollapsing"?C:null,transition:`height ${u}ms ease-in-out`,overflow:S==="expanded"?"visible":"hidden",display:g?"flex":"block",flexDirection:"column"}},(0,n.h)("div",{ref:P,style:{paddingTop:.05,paddingBottom:.05,display:g?"flex":"block",flex:"0 0 auto",flexDirection:"column"}},(S!=="collapsed"||E)&&O))}},84606:(j,l,e)=>{"use strict";e.d(l,{E7:()=>A,oB:()=>I,xu:()=>D,yK:()=>N});var n=e(6400),c=e(98661),u=e(94184),v=e.n(u),O=e(14293),y=e.n(O),E=e(19206),d=e(28614),g=Object.defineProperty,P=Object.defineProperties,S=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,i=(R,F,Z)=>F in R?g(R,F,{enumerable:!0,configurable:!0,writable:!0,value:Z}):R[F]=Z,s=(R,F)=>{for(var Z in F||(F={}))C.call(F,Z)&&i(R,Z,F[Z]);if(T)for(var Z of T(F))p.call(F,Z)&&i(R,Z,F[Z]);return R},_=(R,F)=>P(R,S(F)),w=(R,F)=>{var Z={};for(var V in R)C.call(R,V)&&F.indexOf(V)<0&&(Z[V]=R[V]);if(R!=null&&T)for(var V of T(R))F.indexOf(V)<0&&p.call(R,V)&&(Z[V]=R[V]);return Z};function x(R){var F,Z;return y()(R)?[null,null]:typeof R=="object"?[(F=R.desktop)!=null?F:null,(Z=R.mobile)!=null?Z:null]:[R,null]}const D=(0,c.forwardRef)(function(F,Z){var V=F,{display:G,as:$,className:K,direction:H,flex:re,inline:ee,wrap:Y,gap:J,opacity:te,padding:ie,paddingX:se,paddingY:W,paddingTop:z,paddingBottom:Q,paddingLeft:oe,paddingRight:ne,pointerEvents:ae,justifyContent:le,alignItems:ue,alignSelf:fe,minWidth:he,minHeight:be,style:ve,border:Te,borderTop:we,borderBottom:Se,borderLeft:We,borderRight:Ae,borderY:Be,radius:de,divider:ce,shadow:_e,bg:Oe,overflow:Le,overflowY:ze,overflowX:Je,scrollBar:Pt,sizing:Ve,ellipsis:pt,pullX:$e,textAlign:Ie,fontSize:ye,fontWeight:Ce,color:xe,decoration:je,font:He,fontStyle:Ge,isParagraph:Qe,lineHeight:ct,textTransform:dt,nowrap:it,clamp:tt,position:vt,inset:et,cursor:Xe}=V,Ne=w(V,["display","as","className","direction","flex","inline","wrap","gap","opacity","padding","paddingX","paddingY","paddingTop","paddingBottom","paddingLeft","paddingRight","pointerEvents","justifyContent","alignItems","alignSelf","minWidth","minHeight","style","border","borderTop","borderBottom","borderLeft","borderRight","borderY","radius","divider","shadow","bg","overflow","overflowY","overflowX","scrollBar","sizing","ellipsis","pullX","textAlign","fontSize","fontWeight","color","decoration","font","fontStyle","isParagraph","lineHeight","textTransform","nowrap","clamp","position","inset","cursor"]);const ft=$!=null?$:"div";return(0,n.h)(ft,s({ref:Z,className:v()(N({display:G,direction:H,flex:re,inline:ee,wrap:Y,gap:J,opacity:te,padding:ie,paddingX:se,paddingY:W,paddingTop:z,paddingBottom:Q,paddingLeft:oe,paddingRight:ne,pointerEvents:ae,justifyContent:le,alignItems:ue,alignSelf:fe,minWidth:he,minHeight:be,border:Te,borderTop:we,borderBottom:Se,borderLeft:We,borderRight:Ae,borderY:Be,radius:de,divider:ce,shadow:_e,bg:Oe,overflow:Le,overflowY:ze,overflowX:Je,scrollBar:Pt,sizing:Ve,ellipsis:pt,pullX:$e,textAlign:Ie,fontSize:ye,fontWeight:Ce,color:xe,decoration:je,font:He,fontStyle:Ge,isParagraph:Qe,lineHeight:ct,textTransform:dt,nowrap:it,clamp:tt,position:vt,inset:et,cursor:Xe}),K),style:ve},Ne))});function N({display:R,direction:F,flex:Z,inline:V,wrap:G,gap:$,opacity:K,padding:H,paddingX:re,paddingY:ee,paddingTop:Y,paddingBottom:J,paddingLeft:te,paddingRight:ie,pointerEvents:se,justifyContent:W,alignItems:z,alignSelf:Q,minWidth:oe,minHeight:ne,border:ae,borderTop:le,borderBottom:ue,borderLeft:fe,borderRight:he,borderY:be,radius:ve,divider:Te,shadow:we,bg:Se,overflow:We,overflowY:Ae,overflowX:Be,scrollBar:de,sizing:ce,ellipsis:_e,pullX:Oe,textAlign:Le,fontSize:ze,fontWeight:Je,color:Pt,decoration:Ve,font:pt,fontStyle:$e,isParagraph:Ie,lineHeight:ye,textTransform:Ce,nowrap:xe,clamp:je,position:He,inset:Ge,cursor:Qe}){const[ct,dt]=x($),[it,tt]=x(K),[vt,et]=x(H),[Xe,Ne]=x(re),[ft,At]=x(ee),[Ht,rn]=x(Y),[en,pn]=x(J),[_n,Tn]=x(te),[dn,fn]=x(ie),[xn,Dn]=x(F),[Wn,Fn]=x(G),[Cn,bn]=x(W),[zn,tr]=x(z),[$n,lr]=x(R),[Kn,rt]=x(se);return v()("pencraft",{[E.Z.flexGrow]:Z==="grow",[E.Z.flexFill]:Z==="fill",[E.Z.flexAuto]:Z==="auto"},E.Z.reset,R!=null&&E.Z[`display-${$n}`],V&&E.Z["display-inline-flex"],xn!=null&&E.Z[`flex-direction-${xn}`],Wn!=null&&E.Z[`flex-wrap-${Wn}`],Cn!=null&&E.Z[`flex-justify-${Cn}`],zn!=null&&E.Z[`flex-align-${zn}`],Q!=null&&E.Z[`flex-align-self-${Q}`],ct!=null&&E.Z[`flex-gap-${ct}`],it!=null&&E.Z[`opacity-${Number(it)*100}`],vt!=null&&E.Z[`padding-${vt}`],Xe!=null&&E.Z[`padding-x-${Xe}`],ft!=null&&E.Z[`padding-y-${ft}`],Ht!=null&&E.Z[`padding-top-${Ht}`],en!=null&&E.Z[`padding-bottom-${en}`],_n!=null&&E.Z[`padding-left-${_n}`],dn!=null&&E.Z[`padding-right-${dn}`],Kn&&E.Z[`pointer-events-${Kn}`],Dn!=null&&E.Z[`flex-direction-mobile-${Dn}`],Fn!=null&&E.Z[`flex-wrap-mobile-${Fn}`],bn!=null&&E.Z[`flex-justify-mobile-${bn}`],dt!=null&&E.Z[`flex-gap-mobile-${dt}`],tr!=null&&E.Z[`flex-align-mobile-${tr}`],tt!=null&&E.Z[`opacity-mobile-${Number(tt)*100}`],et!=null&&E.Z[`padding-mobile-${et}`],Ne!=null&&E.Z[`padding-x-mobile-${Ne}`],At!=null&&E.Z[`padding-y-mobile-${At}`],rn!=null&&E.Z[`padding-top-mobile-${rn}`],pn!=null&&E.Z[`padding-bottom-mobile-${pn}`],Tn!=null&&E.Z[`padding-left-mobile-${Tn}`],fn!=null&&E.Z[`padding-right-mobile-${fn}`],rt&&E.Z[`pointer-events-mobile-${rt}`],lr!=null&&E.Z[`display-mobile-${lr}`],oe!=null&&E.Z[`min-width-${oe}`],ne!=null&&E.Z[`min-height-${ne}`],ae&&E.Z[`border-${ae}`],le&&E.Z[`border-top-${le}`],ue&&E.Z[`border-bottom-${ue}`],fe&&E.Z[`border-left-${fe}`],he&&E.Z[`border-right-${he}`],be&&E.Z[`border-y-${be}`],ve!=null&&E.Z[`border-radius-${M(ve)}`],Te!=null&&E.Z[`divider-${Te}`],we&&E.Z[`shadow-${we}`],Se!=null&&E.Z[`bg-${Se}`],We&&E.Z[`overflow-${We}`],Ae&&E.Z[`overflowY-${Ae}`],Be&&E.Z[`overflowX-${Be}`],de&&E.Z[`scrollBar-${de}`],ce&&E.Z[`sizing-${ce}`],_e&&E.Z.ellipsis,Oe&&E.Z[`pullX-${Oe}`],He&&E.Z[`position-${He}`],Ge!=null&&E.Z[`inset-${Ge}`],Qe&&E.Z[`cursor-${Qe}`],Le&&d.Z[`align-${Le}`],ze&&d.Z[`size-${ze}`],ye&&d.Z[`line-height-${ye}`],Je&&d.Z[`weight-${Je}`],pt&&d.Z[`font-${pt}`],$e&&d.Z[`font-style-${$e}`],Pt&&d.Z[`color-${Pt}`],Ce&&d.Z[`transform-${Ce}`],xe&&d.Z.nowrap,je&&`${d.Z.clamp} ${d.Z[`clamp-${je}`]}`,Ve&&d.Z[`decoration-${Ve}`],Ie&&d.Z.paragraph)}const I=N;function A(R){var F=R,{className:Z,displayName:V}=F,G=w(F,["className","displayName"]);const $=(0,c.forwardRef)((K,H)=>{var re=K,{className:ee}=re,Y=w(re,["className"]);return(0,n.h)(D,_(s(s({},G),Y),{ref:H,className:v()(Z,ee)}))});return $.displayName=V,$}function M(R){return R===6?"small":R===12?"medium":R===24?"large":R}},84040:(j,l,e)=>{"use strict";e.d(l,{hU:()=>A,kG:()=>N,o6:()=>M,zx:()=>I});var n=e(6400),c=e(98661),u=e(94184),v=e.n(u),O=e(39419),y=e.n(O),E=e(5668),d=e(43887),g=e(19206),P=e(4924),S=Object.defineProperty,T=Object.defineProperties,C=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,_=(R,F,Z)=>F in R?S(R,F,{enumerable:!0,configurable:!0,writable:!0,value:Z}):R[F]=Z,w=(R,F)=>{for(var Z in F||(F={}))i.call(F,Z)&&_(R,Z,F[Z]);if(p)for(var Z of p(F))s.call(F,Z)&&_(R,Z,F[Z]);return R},x=(R,F)=>T(R,C(F)),D=(R,F)=>{var Z={};for(var V in R)i.call(R,V)&&F.indexOf(V)<0&&(Z[V]=R[V]);if(R!=null&&p)for(var V of p(R))F.indexOf(V)<0&&s.call(R,V)&&(Z[V]=R[V]);return Z};const N=(0,c.forwardRef)((R,F)=>{var Z=R,{onClick:V,href:G,localNavigation:$,newTab:K,className:H,resetCss:re,state:ee,replace:Y}=Z,J=D(Z,["onClick","href","localNavigation","newTab","className","resetCss","state","replace"]);const te=G?ie=>{V&&(V.call(ie.target,ie),ie.defaultPrevented)||(0,O.redirect)(G,{event:ie,local_navigation:$,newTab:K,replace:Y,state:ee})}:V;return(0,n.h)("button",x(w({tabIndex:0,type:"button"},J),{className:v()("pencraft",H,re&&P.Z.buttonBase),ref:F,onClick:te,"data-href":G}))});N.displayName="UnstyledButton";const I=(0,c.forwardRef)(function(F,Z){var V=F,{className:G,priority:$="primary",size:K="medium",fill:H="filled",outline:re,rounded:ee,disabled:Y,grow:J,leftIcon:te,rightIcon:ie,allCaps:se,children:W,hiddenInput:z,justifyContent:Q="center"}=V,oe=D(V,["className","priority","size","fill","outline","rounded","disabled","grow","leftIcon","rightIcon","allCaps","children","hiddenInput","justifyContent"]);return(0,n.h)(N,w({className:v()(G,P.Z.buttonBase,P.Z.button,P.Z[`priority_${$}`],P.Z[`size_${K}`],P.Z[`fill_${H}`],re&&P.Z.outline_none,ee&&P.Z.rounded,J&&P.Z.grow,te!=null&&P.Z.hasLeftIcon,ie!=null&&P.Z.hasRightIcon,Q&&g.Z[`flex-justify-${Q}`]),disabled:Y,ref:Z},oe),te,se?(0,n.h)(d.xv.Meta,null,W):W,ie,z&&(0,n.h)(E.U,null,z))}),A=(0,c.forwardRef)((R,F)=>{var Z=R,{className:V,size:G=40,priority:$="secondary",color:K,fill:H="empty",rounded:re=!0,inverted:ee,grow:Y,shadow:J}=Z,te=D(Z,["className","size","priority","color","fill","rounded","inverted","grow","shadow"]);return(0,n.h)(N,w({ref:F,className:v()(V,P.Z.iconButton,G!=null&&P.Z[`size_${G}`],$&&P.Z[`priority_${$}`],K&&P.Z[`color_${K}`],H&&P.Z[`fill_${H}`],ee&&P.Z.inverted,Y&&P.Z.grow,re&&P.Z.rounded,J&&P.Z[`shadow_${J}`])},te))}),M=R=>{var F=R,{href:Z,download:V,className:G,priority:$="primary",size:K="medium",fill:H="filled",outline:re,rounded:ee,grow:Y}=F,J=D(F,["href","download","className","priority","size","fill","outline","rounded","grow"]);return(0,n.h)("a",w({href:Z,download:V,className:v()(G,P.Z.buttonBase,P.Z.button,P.Z[`priority_${$}`],P.Z[`size_${K}`],P.Z[`fill_${H}`],re&&P.Z.outline_none,ee&&P.Z.rounded,Y&&P.Z.grow)},J))}},80825:(j,l,e)=>{"use strict";e.d(l,{a:()=>D,h:()=>x});var n=e(6400),c=e(94184),u=e.n(c),v=e(49336),O=e(84040),y=e(51126),E=e(25752),d=e(44238),g=Object.defineProperty,P=Object.defineProperties,S=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,i=(N,I,A)=>I in N?g(N,I,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[I]=A,s=(N,I)=>{for(var A in I||(I={}))C.call(I,A)&&i(N,A,I[A]);if(T)for(var A of T(I))p.call(I,A)&&i(N,A,I[A]);return N},_=(N,I)=>P(N,S(I)),w=(N,I)=>{var A={};for(var M in N)C.call(N,M)&&I.indexOf(M)<0&&(A[M]=N[M]);if(N!=null&&T)for(var M of T(N))I.indexOf(M)<0&&p.call(N,M)&&(A[M]=N[M]);return A};const x=N=>{var I=N,{attached:A,gap:M=8}=I,R=w(I,["attached","gap"]);return(0,n.h)(y.gq,s({gap:A?0:M,className:u()({[d.Z.attached]:A})},R))},D=N=>{var I=N,{children:A,menuItems:M,fill:R="filled",priority:F="primary",size:Z="medium",rounded:V=!1,additionalMenuProps:G={}}=I,$=w(I,["children","menuItems","fill","priority","size","rounded","additionalMenuProps"]);return(0,n.h)(x,{attached:!0},(0,n.h)(O.zx,_(s({},$),{priority:F,size:Z,rounded:V,fill:R==="borderless"?"filled":R,outline:R==="borderless"?"none":void 0}),A),(0,n.h)(E.v2,_(s({},G),{trigger:(0,n.h)(O.hU,_(s({className:u()({[d.Z.borderless]:R==="borderless"})},$),{priority:F,fill:R,rounded:V,size:Z==="small"?32:40}),(0,n.h)(v.Z,{size:Z==="small"?12:20}))}),M))}},25277:(j,l,e)=>{"use strict";e.d(l,{Tz:()=>N});var n=e(6400),c=e(94184),u=e.n(c),v=e(85928),O=e.n(v),y=e(45081),E=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,C=(R,F,Z)=>F in R?E(R,F,{enumerable:!0,configurable:!0,writable:!0,value:Z}):R[F]=Z,p=(R,F)=>{for(var Z in F||(F={}))S.call(F,Z)&&C(R,Z,F[Z]);if(P)for(var Z of P(F))T.call(F,Z)&&C(R,Z,F[Z]);return R},i=(R,F)=>d(R,g(F)),s=(R,F)=>{var Z={};for(var V in R)S.call(R,V)&&F.indexOf(V)<0&&(Z[V]=R[V]);if(R!=null&&P)for(var V of P(R))F.indexOf(V)<0&&T.call(R,V)&&(Z[V]=R[V]);return Z};const _="YYYY-MM-DD",w="YYYY-MM-DDThh:mm";function x(R){var F=R,{className:Z,min:V,max:G,value:$,onChange:K,disabled:H}=F,re=s(F,["className","min","max","value","onChange","disabled"]);return h("input",i(p({},re),{type:"date",className:cn(css.datePicker,Z),value:$?dayjs($).format(_):"",min:V?dayjs(V).format(_):"",max:G?dayjs(G).format(_):"",onChange:K,disabled:H}))}function D(R){var F=R,{className:Z,min:V,max:G,value:$,onChange:K,disabled:H}=F,re=s(F,["className","min","max","value","onChange","disabled"]);return h("input",i(p({},re),{type:"datetime-local",className:cn(css.datePicker,Z),value:$?dayjs($).format(w):void 0,min:V?dayjs(V).format(w):void 0,max:G?dayjs(G).format(w):void 0,onChange:K,disabled:H}))}function N(R){var F=R,{className:Z,min:V,max:G,value:$,onChange:K,disabled:H}=F,re=s(F,["className","min","max","value","onChange","disabled"]);return(0,n.h)("input",i(p({},re),{type:"datetime-local",className:u()(y.Z.datePicker,Z),value:A($),min:A(V),max:A(G),onChange:K,disabled:H}))}function I(R){var F=R,{className:Z,min:V,max:G,value:$,onChange:K,disabled:H}=F,re=s(F,["className","min","max","value","onChange","disabled"]);return h("input",i(p({},re),{type:"month",className:cn(css.datePicker,Z),value:A($),min:A(V),max:A(G),onChange:K,disabled:H}))}function A(R){return R instanceof Date?`${R.getFullYear()}-${M(R.getMonth()+1)}-${M(R.getDate())}T${M(R.getHours())}:${M(R.getMinutes())}`:R}function M(R){const F=String(R);return F.length<2?`0${F}`:F}},80131:(j,l,e)=>{"use strict";e.d(l,{i:()=>C});var n=e(6400),c=e(94184),u=e.n(c),v=e(51126),O=e(34115),y=Object.defineProperty,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(p,i,s)=>i in p?y(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,S=(p,i)=>{for(var s in i||(i={}))d.call(i,s)&&P(p,s,i[s]);if(E)for(var s of E(i))g.call(i,s)&&P(p,s,i[s]);return p},T=(p,i)=>{var s={};for(var _ in p)d.call(p,_)&&i.indexOf(_)<0&&(s[_]=p[_]);if(p!=null&&E)for(var _ of E(p))i.indexOf(_)<0&&g.call(p,_)&&(s[_]=p[_]);return s};const C=p=>{var i=p,{className:s,weight:_=1,priority:w="detail"}=i,x=T(i,["className","weight","priority"]);return(0,n.h)(v.hs,S({className:u()(O.Z.divider,s,O.Z[`priority_${w}`],_&&O.Z[`weight-${_}`]),flex:"grow"},x),(0,n.h)("hr",null))}},51126:(j,l,e)=>{"use strict";e.d(l,{gq:()=>p,hs:()=>C,tu:()=>i});var n=e(6400),c=e(98661),u=e(84606),v=Object.defineProperty,O=Object.defineProperties,y=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(s,_,w)=>_ in s?v(s,_,{enumerable:!0,configurable:!0,writable:!0,value:w}):s[_]=w,S=(s,_)=>{for(var w in _||(_={}))d.call(_,w)&&P(s,w,_[w]);if(E)for(var w of E(_))g.call(_,w)&&P(s,w,_[w]);return s},T=(s,_)=>O(s,y(_));const C=(0,c.forwardRef)(function(_,w){return(0,n.h)(u.xu,T(S({},_),{display:_.display||"flex",ref:w}))}),p=C,i=(0,c.forwardRef)(function(_,w){return(0,n.h)(u.xu,T(S({},_),{display:_.display||"flex",direction:"column",ref:w}))})},26300:(j,l,e)=>{"use strict";e.d(l,{o:()=>N,z:()=>D});var n=e(6400),c=e(30396),u=e(5285),v=e(94184),O=e.n(v),y=e(62372),E=e(47222),d=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,p=(I,A,M)=>A in I?d(I,A,{enumerable:!0,configurable:!0,writable:!0,value:M}):I[A]=M,i=(I,A)=>{for(var M in A||(A={}))T.call(A,M)&&p(I,M,A[M]);if(S)for(var M of S(A))C.call(A,M)&&p(I,M,A[M]);return I},s=(I,A)=>g(I,P(A)),_=(I,A)=>{var M={};for(var R in I)T.call(I,R)&&A.indexOf(R)<0&&(M[R]=I[R]);if(I!=null&&S)for(var R of S(I))A.indexOf(R)<0&&C.call(I,R)&&(M[R]=I[R]);return M};const w=500,x=250,D=I=>{var A=I,{className:M="",children:R,layerClassName:F,dontStopPropagation:Z,as:V}=A,G=_(A,["className","children","layerClassName","dontStopPropagation","as"]);const $=N(i({className:F},G)),K=V!=null?V:"div";return(0,n.h)(K,s(i(i({className:M},$.triggerProps),$.hoverProps),{onClick:H=>{Z||H.stopPropagation()}}),R,$.layer)};function N(I){var A=I,{disabled:M,onFetch:R,onOpen:F,content:Z,className:V,layerOptions:G,hideOnScroll:$=!1}=A,K=_(A,["disabled","onFetch","onOpen","content","className","layerOptions","hideOnScroll"]);const[H,re,ee]=(0,y.XI)({delayEnter:w,delayLeave:x,hideOnScroll:$}),Y=(0,c.sO)(!1);(0,c.d4)(()=>{H&&(!Y.current&&R&&(Y.current=!0,R()),F&&F())},[H,R,F]);const[J,te]=(0,c.eJ)(!1),{triggerProps:ie,layerProps:se,renderLayer:W,layerSide:z}=(0,y.sJ)(i({isOpen:M?!1:H,auto:!0,containerOffset:10,triggerOffset:8,snap:!1,possiblePlacements:["bottom-center","top-center","left-center","right-center"],preferX:"left",preferY:"bottom"},G));return{triggerProps:ie,hoverProps:re,layer:(H||J)&&!M&&W((0,n.h)(u.u,{appear:!0,show:H&&!K.loading,beforeEnter:()=>te(!0),afterLeave:()=>te(!1),enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,n.h)("div",i(i({onClick:()=>{ee()},className:O()(V,E.Z.hoverCardBase)},se),re),Z)))}}},9849:(j,l,e)=>{"use strict";e.d(l,{a:()=>T});var n=e(6400),c=e(94184),u=e.n(c),v=e(2066),O=Object.defineProperty,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?O(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>{var s={};for(var _ in p)E.call(p,_)&&i.indexOf(_)<0&&(s[_]=p[_]);if(p!=null&&y)for(var _ of y(p))i.indexOf(_)<0&&d.call(p,_)&&(s[_]=p[_]);return s};const T=p=>{var i=p,{type:s="circular"}=i,_=S(i,["type"]);if(s==="circular")return(0,n.h)(C,P({},_));throw new Error("not implemented")},C=({className:p,size:i="md",dataTestId:s})=>(0,n.h)("div",{"data-testid":s,className:u()(v.Z.circularLoader,v.Z[`size_${i}`],p)})},25752:(j,l,e)=>{"use strict";e.d(l,{sN:()=>Z,v2:()=>F});var n=e(6400),c=e(98661),u=e(30396),v=e(5285),O=e(94184),y=e.n(O),E=e(44396),d=e(99040),g=e(84040),P=e(51126),S=e(94581),T=e(5668),C=e(43887),p=e(66206),i=Object.defineProperty,s=Object.defineProperties,_=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,N=($,K,H)=>K in $?i($,K,{enumerable:!0,configurable:!0,writable:!0,value:H}):$[K]=H,I=($,K)=>{for(var H in K||(K={}))x.call(K,H)&&N($,H,K[H]);if(w)for(var H of w(K))D.call(K,H)&&N($,H,K[H]);return $},A=($,K)=>s($,_(K)),M=($,K)=>{var H={};for(var re in $)x.call($,re)&&K.indexOf(re)<0&&(H[re]=$[re]);if($!=null&&w)for(var re of w($))K.indexOf(re)<0&&D.call($,re)&&(H[re]=$[re]);return H};function R($){return typeof $.type=="string"||$.type.$$typeof===Symbol.for("react.forward_ref")}const F=(0,c.forwardRef)(($,K)=>{var H=$,{trigger:re,children:ee,ariaLabel:Y="View more",hideOnScroll:J,layerOptions:te,layerClassName:ie,onOpen:se,onClose:W,useMobileBottomSheet:z=!1,mobileBottomSheetTitle:Q,mobileBottomSheetSubtitle:oe,stopPropagation:ne=!1,maxHeight:ae=295,padding:le=8,disableMenu:ue=!1}=H,fe=M(H,["trigger","children","ariaLabel","hideOnScroll","layerOptions","layerClassName","onOpen","onClose","useMobileBottomSheet","mobileBottomSheetTitle","mobileBottomSheetSubtitle","stopPropagation","maxHeight","padding","disableMenu"]);R(re)||console.error("Menu trigger must be a valid component that forwards a ref that react-laag uses, or a native dom element. See Button/IconButton for example, and preferably use those.");const he=(0,E.XA)(),{triggerProps:be,layerProps:ve,renderLayer:Te,isOpen:we,setOpen:Se}=(0,S.x)({layerOptions:I({auto:!0,possiblePlacements:["bottom-start","bottom-center","bottom-end","top-start","top-center","top-end"],preferY:"bottom"},te),hideOnScroll:J&&!(z&&he),onClose:W}),[We,Ae]=(0,u.eJ)(!1),Be=()=>{Se(!1),W&&W()},de=(0,n.toChildArray)(ee).map(ce=>(0,n.cloneElement)(ce,{useMobileBottomSheet:z,closeMenu:Be}));return(0,n.h)(n.Fragment,null,(0,n.cloneElement)(re,A(I({},be),{ariaLabel:Y,onClick:ce=>{ce.preventDefault(),ne&&ce.stopPropagation(),ue||Se(!we),!we&&se&&se(),we&&W&&W()}})),(we||We)&&Te(z&&he?(0,n.h)(v.u,{appear:!0,show:we,beforeEnter:()=>Ae(!0),afterLeave:()=>Ae(!1),enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,n.h)("div",I(I({},ve),fe),(0,n.h)(d.V,{title:Q,subtitle:oe,onClose:Be,ref:K,className:ie},de))):(0,n.h)(v.u,{appear:!0,unmount:!1,show:we,beforeEnter:()=>Ae(!0),afterLeave:()=>Ae(!1),className:"tw-duration-fast"},(0,n.h)("div",I(I({},ve),fe),(0,n.h)(v.u,{appear:!0,unmount:!1,show:we,className:"transform-gpu tw-transition-all tw-duration-fast tw-ease-smooth",enterFrom:"tw-opacity-0 tw--translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leaveFrom:"tw-opacity-100 tw--translate-y-0",leaveTo:"tw-opacity-0 tw--translate-y-2"},(0,n.h)(V,I({className:ie,ref:K,padding:le},!J&&{style:{maxHeight:ae,overflowY:"auto"}}),de))))))}),Z=(0,c.forwardRef)(($,K)=>{var H=$,{useMobileBottomSheet:re}=H,ee=M(H,["useMobileBottomSheet"]);const Y=(0,E.XA)();return re&&Y?(0,n.h)(d.Q,A(I({},ee),{ref:K})):(0,n.h)(G,A(I({},ee),{ref:K}))}),V=(0,c.forwardRef)(($,K)=>{var H=$,{className:re}=H,ee=M(H,["className"]);return(0,n.h)(P.tu,I({className:y()(p.Z.menu,"elevated",re),gap:8,bg:"elevated",shadow:"md",border:"detail",radius:12,ref:K},ee))}),G=(0,c.forwardRef)(($,K)=>{var H=$,{children:re,onClick:ee,closeMenu:Y,icon:J,rightIcon:te,suffix:ie,priority:se="primary",className:W,disabled:z,href:Q,download:oe,hiddenInput:ne}=H,ae=M(H,["children","onClick","closeMenu","icon","rightIcon","suffix","priority","className","disabled","href","download","hiddenInput"]);const le=Q?"a":g.kG;return(0,n.h)(le,I({className:y()(p.Z.menuItem,p.Z[se],W,{[p.Z.disabled]:!!z,[p.Z.relative]:!!ne}),resetCss:!0,onClick:ue=>{z||(ee&&ee(ue),Y&&Y())},href:z?"javascript:void(0)":Q,download:oe,ref:K},ae),J&&(0,n.cloneElement)(J,{size:24,className:y()(p.Z.icon,J.props.className)}),(0,n.h)(C.xv.B4,{color:se==="destructive"?"accent-red":"primary",className:p.Z.text,weight:"semibold",align:"left"},re),ie,te&&(0,n.h)(n.Fragment,null,(0,n.h)(P.hs,{flex:"grow"}),te&&(0,n.cloneElement)(te,{size:24,className:y()(p.Z.icon,te.props.className)})),ne&&(0,n.h)(T.U,null,ne))})},53940:(j,l,e)=>{"use strict";e.d(l,{u:()=>N,f:()=>x});var n=e(6400),c=e(98661),u=e(5285),v=e(13599),O=e(94184),y=e.n(O),E=e(50308),d=e.n(E),g=e(44396),P=e(84606),S=e(21958);const T={renderOverReactLaagPortal:"frontend-pencraft-Modal-Modal-module__renderOverReactLaagPortal--TqD1u",container:"frontend-pencraft-Modal-Modal-module__container--I_osU",full:"frontend-pencraft-Modal-Modal-module__full--zg0Lb",bottom:"frontend-pencraft-Modal-Modal-module__bottom--YPMpX",hide:"frontend-pencraft-Modal-Modal-module__hide--a29WN",default:"frontend-pencraft-Modal-Modal-module__default--wGTXu",fullscreenMobile:"frontend-pencraft-Modal-Modal-module__fullscreenMobile--VL76f",dynamicMobile:"frontend-pencraft-Modal-Modal-module__dynamicMobile--ujclO"};var C=Object.defineProperty,p=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,_=(I,A,M)=>A in I?C(I,A,{enumerable:!0,configurable:!0,writable:!0,value:M}):I[A]=M,w=(I,A)=>{for(var M in A||(A={}))i.call(A,M)&&_(I,M,A[M]);if(p)for(var M of p(A))s.call(A,M)&&_(I,M,A[M]);return I};const x=(0,S.L)("sm:tw-max-h-[60vh] tw-overflow-auto tw-px-4 tw-py-5 tw-font-body"),D=({children:I})=>(0,n.h)("div",{className:"tw-max-h-5/6 tw-flex tw-min-h-full tw-items-center tw-justify-center"},I),N=({isOpen:I,onClose:A=()=>{},children:M,includeBackdrop:R=!0,position:F="default",opacity:Z="medium",testId:V="modal",className:G,onEscape:$,fullscreenMobile:K,overflow:H,width:re=440,disableCloseOnBackdropClick:ee=!1,initialFocus:Y,renderOverReactLaagPortal:J=!1})=>{const te=(0,g.XA)(),ie=se=>{const{code:W}=se;$&&W==="Escape"&&$(se)};return(0,n.h)(u.u,{show:I,as:c.Fragment},(0,n.h)(v.V,{onMouseDown:se=>se.stopPropagation(),onMouseUp:se=>se.stopPropagation(),onClick:se=>se.stopPropagation(),"data-testid":V,as:"div",className:y()(J&&T.renderOverReactLaagPortal,"tw-fixed tw-inset-0 tw-z-30 tw-overflow-y-auto"),onClose:ee?d():A,onKeyDown:$?ie:void 0,initialFocus:Y},(0,n.h)(D,null,R&&(0,n.h)(u.u.Child,{enter:"tw-transition tw-ease-smooth tw-duration-fast",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition tw-ease-smooth tw-duration-fast",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,n.h)("div",{className:Z==="dark"?"tw-fixed tw-inset-0 tw-bg-black tw-opacity-80":"tw-fixed tw-inset-0 tw-bg-black tw-opacity-50","aria-hidden":!0})),(0,n.h)(u.u.Child,{as:c.Fragment,enter:"tw-transition tw-ease-smooth tw-duration-fast",enterFrom:"tw-opacity-0 tw-translate-y-3",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition tw-ease-smooth tw-duration-fast",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-3"},(0,n.h)(v.V.Panel,{className:y()(G,(0,P.yK)({display:"flex"}),T.container,T[F],K?T.fullscreenMobile:T.dynamicMobile),style:w({width:te||F==="full"?void 0:re,overflow:H},te&&K&&typeof window!="undefined"&&window.innerHeight&&{height:`${window.innerHeight}px`})},M)))))}},29354:(j,l,e)=>{"use strict";e.d(l,{m:()=>P});var n=e(6400),c=e(94184),u=e.n(c),v=Object.defineProperty,O=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,d=(C,p,i)=>p in C?v(C,p,{enumerable:!0,configurable:!0,writable:!0,value:i}):C[p]=i,g=(C,p)=>{for(var i in p||(p={}))y.call(p,i)&&d(C,i,p[i]);if(O)for(var i of O(p))E.call(p,i)&&d(C,i,p[i]);return C};const P=C=>C.alignment==="center"?(0,n.h)(T,g({},C)):(0,n.h)(S,g({},C)),S=({primaryButton:C,secondaryButton:p,destructiveButton:i,includeDivider:s,className:_})=>(0,n.h)("div",{className:u()("tw-flex tw-justify-end tw-gap-2 tw-p-4",{"tw-shadow-detail-inset":s},_)},i&&(0,n.cloneElement)(i,{className:u()("tw-mr-auto",i.props.className)}),p,C),T=({includeDivider:C,primaryButton:p,secondaryButton:i,className:s})=>(0,n.h)("div",{className:u()("tw-flex tw-flex-col tw-gap-2 tw-py-4 tw-px-4",{"tw-shadow-detail-inset":C},s)},p,i)},28079:(j,l,e)=>{"use strict";e.d(l,{r:()=>g,x:()=>d});var n=e(6400),c=e(13599),u=e(94184),v=e.n(u),O=e(26059),y=e(33705),E=e(21958);const d=({isModal:P=!0,onClose:S,includeClose:T=!1,bottomBorder:C,title:p,description:i,as:s="h2",usePubThemeForTitle:_=!1,className:w,pagination:x})=>(0,n.h)("div",{className:v()("tw-grid tw-grid-cols-[auto_auto] tw-items-center tw-justify-between tw-pt-6",w,{"tw-px-4":!x,"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail tw-pb-6":C})},!p&&!x&&(0,n.h)(y.Z,{alt:"Substack icon",height:24}),x&&(0,n.h)("label",{className:"tw-text-[12px] tw-font-medium tw-leading-5",role:"label",title:"pagination"},x[0]," OF ",x[1]),T&&(0,n.h)("button",{className:"tw-col-start-2 tw-flex tw-cursor-pointer tw-border-none tw-bg-transparent",role:"button",title:"Close",onClick:S,"aria-label":"close"},(0,n.h)(O.Z,null)),p&&P&&(0,n.h)(c.V.Title,{as:s,className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title tw-text-h2 ${_?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},p),i&&P&&(0,n.h)(c.V.Description,{as:"span",className:"tw-col-start-1 tw-mt-2 tw-font-body tw-text-sm tw-text-substack-secondary"},i),p&&!P&&(0,n.h)(g,{className:"tw-col-start-1 tw-row-start-1"},p)&&(0,n.createElement)(s,{className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title ${_?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},p),i&&!P&&(0,n.h)("span",{className:"tw-col-start-1 tw-mt-1 tw-font-body tw-text-sm tw-text-substack-secondary"},i)&&(0,n.createElement)("span",{className:"tw-mt-1 tw-col-start-1 tw-font-body tw-text-sm tw-text-substack-secondary"},i)),g=(0,E.L)("tw-my-0 tw-font-title","h2")},4502:(j,l,e)=>{"use strict";var n=e(6400),c=e(94184),u=e.n(c),v=e(51126),O=e(43887),y=e(31780),E=Object.defineProperty,d=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,S=(i,s,_)=>s in i?E(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,T=(i,s)=>{for(var _ in s||(s={}))g.call(s,_)&&S(i,_,s[_]);if(d)for(var _ of d(s))P.call(s,_)&&S(i,_,s[_]);return i},C=(i,s)=>{var _={};for(var w in i)g.call(i,w)&&s.indexOf(w)<0&&(_[w]=i[w]);if(i!=null&&d)for(var w of d(i))s.indexOf(w)<0&&P.call(i,w)&&(_[w]=i[w]);return _};const p=i=>{var s=i,{icon:_,text:w,textColor:x="secondary",bgColor:D="secondary",paddingX:N=24,paddingY:I=24,border:A,className:M,onClick:R}=s,F=C(s,["icon","text","textColor","bgColor","paddingX","paddingY","border","className","onClick"]);return h(FlexBox,T({sizing:"border-box",alignItems:"center",justifyContent:"center",paddingX:N,paddingY:I,radius:12,border:A,className:cn(M,css.placeholder,css[`bg_${D}`],css[`text_${x}`],{[css.clickable]:!!R}),onClick:R},F),h(FlexColumn,{gap:8,alignItems:"center"},_,h(Text.B4,{color:x,className:css.text,weight:"bold"},w)))}},65414:(j,l,e)=>{"use strict";e.d(l,{r:()=>C});var n=e(6400),c=e(51831),u=e(94184),v=e.n(u),O=e(30058),y=Object.defineProperty,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(i,s,_)=>s in i?y(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,S=(i,s)=>{for(var _ in s||(s={}))d.call(s,_)&&P(i,_,s[_]);if(E)for(var _ of E(s))g.call(s,_)&&P(i,_,s[_]);return i},T=(i,s)=>{var _={};for(var w in i)d.call(i,w)&&s.indexOf(w)<0&&(_[w]=i[w]);if(i!=null&&E)for(var w of E(i))s.indexOf(w)<0&&g.call(i,w)&&(_[w]=i[w]);return _};const C=i=>{var s=i,{color:_="default",accessibilityLabel:w="Toggle setting",classNames:x,checked:D,small:N=!1,preflightClassName:I}=s,A=T(s,["color","accessibilityLabel","classNames","checked","small","preflightClassName"]);const M=_==="default"?"tw-bg-accent-green":"tw-bg-pub-accent";return(0,n.h)(O.e,{className:I},(0,n.h)(c.r,S({className:v()(D?M:"tw-bg-neutral-400",N?"tw-h4 tw-w-7":"tw-h-6 tw-w-11","tw-relative tw-inline-flex tw-flex-shrink-0 tw-cursor-pointer tw-rounded-full tw-border-2 tw-border-transparent tw-transition-colors tw-duration-200 tw-ease-smooth disabled:tw-bg-neutral-200",x),checked:D},A),(0,n.h)("span",{className:"tw-sr-only"},w),(0,n.h)("span",{"aria-hidden":"true",className:v()(D?`${N?"tw-translate-x-3":"tw-translate-x-5"}`:"tw-translate-x-0",N?"tw-h-3 tw-w-3":"tw-h-5 tw-w-5","tw-pointer-events-none tw-inline-block tw-transform tw-rounded-full tw-bg-white tw-shadow tw-ring-0 tw-transition tw-duration-200 tw-ease-smooth")})))};var p=null},43887:(j,l,e)=>{"use strict";e.d(l,{Zx:()=>N,xv:()=>D,hh:()=>ne});var n=e(6400),c=e(94184),u=e.n(c),v=e(28488);const O=ae=>{const le=document.createElement("ROOT");return le.innerHTML=ae,le},y=(ae,le,ue)=>{let fe="";const he=ve=>Array.isArray(ve)&&ve.length===2&&ve[1]===null;return(Array.isArray(ae)&&!he(ae)?ae:[ae]).forEach(ve=>{if(!ve)fe+="";else if(ve.type){const Te=le.length+1;le.push(ve),fe+=`<C${Te}>${y(ve.props.children||[],le,ue)}</C${Te}>`}else if(he(ve)){const Te=ve[0];fe+=`%${ue.length+1}`,ue.push(Te)}else fe+=ve}),fe},E=(ae,le)=>{const ue=O(ae),fe=he=>{const be=[];return he.forEach(ve=>{var Te,we;if((Te=ve.nodeName)!=null&&Te.startsWith("C")){const Se=Number(ve.nodeName.replace("C",""))-1,We=le[Se];if(!We)return;const Ae=(we=ve.childNodes)!=null&&we.length?fe(ve.childNodes):[],Be=(0,n.cloneElement)(We,We.props,Ae);be.push(Be)}else{const Se=ve.data||"";be.push(Se)}}),be};return fe(ue.childNodes||[])};var d=e(84606),g=e(28614),P=Object.defineProperty,S=Object.defineProperties,T=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(ae,le,ue)=>le in ae?P(ae,le,{enumerable:!0,configurable:!0,writable:!0,value:ue}):ae[le]=ue,_=(ae,le)=>{for(var ue in le||(le={}))p.call(le,ue)&&s(ae,ue,le[ue]);if(C)for(var ue of C(le))i.call(le,ue)&&s(ae,ue,le[ue]);return ae},w=(ae,le)=>S(ae,T(le)),x=(ae,le)=>{var ue={};for(var fe in ae)p.call(ae,fe)&&le.indexOf(fe)<0&&(ue[fe]=ae[fe]);if(ae!=null&&C)for(var fe of C(ae))le.indexOf(fe)<0&&i.call(ae,fe)&&(ue[fe]=ae[fe]);return ue};const D=ae=>{var le=ae,{className:ue,align:fe,size:he,weight:be,transform:ve}=le,Te=x(le,["className","align","size","weight","transform"]);Te=w(_({},Te),{textAlign:fe!=null?fe:Te.textAlign,textTransform:ve!=null?ve:Te.textTransform,fontSize:he!=null?he:Te.fontSize,fontWeight:be!=null?be:Te.fontWeight});const{iString:we,language:Se}=(0,v.M1)();let We=Te.children;if(Te.translated&&Se!=="en"){const Ae=[],Be=[],de=y(Te.children,Ae,Be),ce=we(de,...Be);if(ce&&ce!==de)try{We=E(ce,Ae)}catch(_e){console.log(`Could not translate ${de}`,_e)}}return(0,n.h)(d.xu,w(_({className:u()(g.Z.reset,ue)},Te),{children:We}))},N=ae=>(0,n.h)(D,_({as:"span"},ae)),I=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({as:"h1",font:"display",size:32,weight:"bold",color:"primary",className:u()(g.Z.header1,fe)},he),ue)},A=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({as:"h2",font:"display",size:24,weight:"bold",color:"primary",className:u()(g.Z.header2,fe)},he),ue)},M=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({as:"h3",font:"display",size:20,lineHeight:24,weight:"bold",color:"primary",className:u()(g.Z.header3,fe)},he),ue)},R=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({as:"h4",font:"text",size:16,lineHeight:20,weight:"bold",color:"primary",className:u()(g.Z.header4,fe)},he),ue)},F=(0,d.E7)({font:"display",fontSize:20,lineHeight:30,fontWeight:"normal",color:"primary",className:g.Z.body1}),Z=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({font:"text",size:18,lineHeight:30,weight:"normal",color:"primary",className:u()(g.Z.body2,fe)},he),ue)},V=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({font:"text",size:16,lineHeight:24,weight:"normal",color:"primary",className:u()(g.Z.body3,fe)},he),ue)},G=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({font:"text",size:14,lineHeight:20,weight:"normal",color:"primary",className:u()(g.Z.body4,fe)},he),ue)},$=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({color:"secondary",font:"meta",size:11,lineHeight:20,weight:"medium",transform:"uppercase",className:u()(g.Z.meta,fe)},he),ue)},K=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({font:"digit",size:12,lineHeight:20,weight:"bold",transform:"uppercase",className:u()(g.Z.digit,fe)},he),ue)},H=ae=>(0,n.h)(D,_({font:"text",lineHeight:20,size:14,weight:"medium",color:"substack"},ae)),re=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({font:"text",size:12,lineHeight:20,weight:"normal",color:"secondary",className:u()(fe)},he),ue)},ee=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({font:"text",color:"primary",className:u()(g.Z.marketingBody,fe)},he),ue)},Y=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({as:"h1",color:"primary",weight:"normal",className:u()(g.Z.marketingHeading1xl,fe)},he),ue)},J=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({as:"h1",color:"primary",weight:"normal",className:u()(g.Z.marketingHeading1,fe)},he),ue)},te=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({as:"h3",color:"primary",weight:"medium",className:u()(g.Z.marketingHeading2,fe)},he),ue)},ie=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({as:"h3",color:"primary",weight:"medium",className:u()(g.Z.marketingHeading3,fe)},he),ue)},se=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({as:"h4",color:"primary",weight:"medium",className:u()(g.Z.marketingHeading4,fe)},he),ue)},W=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({as:"h5",color:"primary",weight:"normal",className:u()(g.Z.marketingHeading5,fe)},he),ue)},z=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({as:"h4",color:"primary",weight:"normal",align:"center",className:u()(g.Z.marketingQuote,fe)},he),ue)},Q=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({as:"h4",color:"primary",weight:"normal",size:28,className:u()(g.Z.marketingSubtitle,fe)},he),ue)},oe=ae=>{var le=ae,{children:ue,className:fe}=le,he=x(le,["children","className"]);return(0,n.h)(D,_({as:"h1",color:"primary",weight:"normal",className:u()(g.Z.stat,fe)},he),ue)},ne=(0,d.E7)({as:"a",decoration:"hover-underline"});D.H1=I,D.H2=A,D.H3=M,D.H4=R,D.B1=F,D.B2=Z,D.B3=V,D.B4=G,D.Detail=re,D.MarketingBody=ee,D.MarketingHeading1xl=Y,D.MarketingHeading1=J,D.MarketingHeading2=te,D.MarketingHeading3=ie,D.MarketingHeading4=se,D.MarketingHeading5=W,D.MarketingQuote=z,D.MarketingSubtitle=Q,D.Meta=$,D.Stat=oe,D.Digit=K,D.Button=H},75425:(j,l,e)=>{"use strict";e.d(l,{FN:()=>N,Us:()=>I,VW:()=>H,dd:()=>re,lL:()=>A,pm:()=>ee});var n=e(6400),c=e(98661),u=e(30396),v=e(5285),O=e(94184),y=e.n(O),E=e(71375),d=e(13833),g=e(21958),P=e(92271),S=e(51126),T=Object.defineProperty,C=Object.defineProperties,p=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,w=(Y,J,te)=>J in Y?T(Y,J,{enumerable:!0,configurable:!0,writable:!0,value:te}):Y[J]=te,x=(Y,J)=>{for(var te in J||(J={}))s.call(J,te)&&w(Y,te,J[te]);if(i)for(var te of i(J))_.call(J,te)&&w(Y,te,J[te]);return Y},D=(Y,J)=>C(Y,p(J));function N({text:Y,cta:J,onAccept:te,href:ie,onClose:se,Icon:W,className:z}){return(0,n.h)(R,{className:y()("tw-items-center",z)},(0,n.h)(S.gq,{className:"tw-flex-1",gap:12},W&&(0,n.h)(G,{Icon:W}),(0,n.h)(F,null,Y)),(0,n.h)(S.gq,{className:"tw-flex-none",gap:12},J&&(typeof J=="string"?(ie||te)&&(0,n.h)(P.z,{look:"flex",onClick:Q=>{se==null||se(),te==null||te(Q)},href:ie},(0,n.h)(d.Av,{className:"tw-text-dark-secondary"},J)):J),(0,n.h)("div",{className:"tw-w-px tw-self-stretch tw-bg-dark-detail"}),(0,n.h)(V,{onClick:se})))}function I({title:Y,body:J,buttons:te,onClose:ie,Icon:se}){return(0,n.h)(R,{className:"tw-max-w-md"},se&&(0,n.h)(G,{Icon:se}),(0,n.h)(S.tu,{className:"tw-flex-0-5",gap:8},(0,n.h)(S.tu,{className:"tw-flex-0-5",gap:4},(0,n.h)(F,null,Y),(0,n.h)(Z,null,J)),te&&(0,n.h)(S.gq,{gap:24},te)),(0,n.h)(V,{onClick:ie}))}function A(Y){return(0,n.h)(P.z,x({look:"flex",className:"tw-h-9 tw-items-center"},Y))}function M(Y){return h("div",{className:$},h(N,x({},Y)))}const R=(0,g.L)("tw-flex tw-gap-8 tw-rounded-lg tw-px-4 tw-py-4 tw-border tw-border-solid tw-border-tooltip-detail tw-bg-tooltip-bg tw-drop-shadow-md"),F=(0,g.L)("min-h-5 tw-flex-1-1 tw-font-medium tw-text-dark-primary tw-items-center",d.Hj),Z=(0,g.L)("min-h-5 tw-flex-1 0 tw-text-dark-secondary tw-items-center",d.Hj);function V({onClick:Y}){return(0,n.h)(P.z,{look:"flex",onClick:Y},(0,n.h)(E.Z,{className:"tw-stroke-dark-secondary",strokeWidth:1.5,size:20}))}function G({Icon:Y}){return(0,n.h)(Y,{className:"tw-shrink-0 tw-basis-5 tw-stroke-dark-primary",strokeWidth:1.5,size:20})}const $="tw-fixed tw-bottom-2.5 tw-right-2.5 tw-left-2.5 md:tw-left-auto md:tw-bottom-5 md:tw-right-5 md:tw-pl-4 tw-z-40",K=(0,n.createContext)({popToast:()=>{throw new Error("Popping toast requires a ToastProvider.")},addOffset:()=>{}});function H({children:Y}){const[J,te]=(0,u.eJ)(null),[ie,se]=(0,u.eJ)("hidden"),[W,z]=(0,u.eJ)(0),Q=(0,u.sO)(null),oe=()=>{se("hidden")},ne=(le,{ttl:ue=5e3}={})=>{te({element:le({onClose:oe}),ttl:ue}),se("visible"),Q.current!=null&&clearTimeout(Q.current),Q.current=ue===null?null:setTimeout(oe,ue)},ae=le=>{z(Math.min(W+le,0))};return(0,n.h)(K.Provider,{value:{popToast:ne,addOffset:ae}},Y,(0,n.h)("div",{className:$,style:{transform:`translateY(${W}px)`}},(0,n.h)(v.u,{appear:!0,show:!!J&&ie==="visible",enter:"tw-transition-all tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-4",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-4",onMouseEnter:()=>Q.current!=null&&clearTimeout(Q.current),onMouseLeave:()=>{Q.current!=null&&clearTimeout(Q.current),J&&(Q.current=J.ttl===null?null:setTimeout(oe,J.ttl))}},J==null?void 0:J.element)))}const re=Y=>{const J=(0,c.forwardRef)((te,ie)=>{const se=ee();return(0,n.h)(Y,D(x(x({},se),te),{ref:ie}))});return J.displayName=`withToastContext(${Y.name||Y.displayName||"Anonymous"})`,J};function ee(){return(0,u.qp)(K)}},61274:(j,l,e)=>{"use strict";e.d(l,{_:()=>x,u:()=>w});var n=e(6400),c=e(51126),u=e(25666),v=e(43887),O=e(11564),y=Object.defineProperty,E=Object.defineProperties,d=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,T=(I,A,M)=>A in I?y(I,A,{enumerable:!0,configurable:!0,writable:!0,value:M}):I[A]=M,C=(I,A)=>{for(var M in A||(A={}))P.call(A,M)&&T(I,M,A[M]);if(g)for(var M of g(A))S.call(A,M)&&T(I,M,A[M]);return I},p=(I,A)=>E(I,d(A)),i=(I,A)=>{var M={};for(var R in I)P.call(I,R)&&A.indexOf(R)<0&&(M[R]=I[R]);if(I!=null&&g)for(var R of g(I))A.indexOf(R)<0&&S.call(I,R)&&(M[R]=I[R]);return M};const s=["top-start","top-center","top-end","bottom-start","bottom-center","bottom-end"],_=["left-start","left-center","left-end","right-start","right-center","right-end"],w=I=>{var A=I,{children:M,text:R,as:F="span",icon:Z,hotkeys:V,preferPlacement:G="top-center",disabled:$,dangerouslySetTooltipZIndex:K,hoverOptions:H={}}=A,re=i(A,["children","text","as","icon","hotkeys","preferPlacement","disabled","dangerouslySetTooltipZIndex","hoverOptions"]);const{layerProps:ee,triggerProps:Y,transitionProps:J,renderLayer:te,shouldShow:ie}=(0,u.l)({layerOptions:{placement:G,possiblePlacements:_.includes(G)?_:s},hoverOptions:H}),se=ee,{style:W}=se,z=i(se,["style"]);return $?(0,n.h)(n.Fragment,null,M):(0,n.h)(n.Fragment,null,(0,n.h)(F,C(C({},Y),re),M),ie&&te((0,n.h)(x,{transitionProps:J,tooltipProps:p(C({},z),{style:p(C({},W),{maxWidth:350,zIndex:K||Number.MAX_SAFE_INTEGER})}),icon:Z,text:R,hotkeys:V})))};function x({transitionProps:I,tooltipProps:A,icon:M,text:R,hotkeys:F}){const Z=!!(F!=null&&F.length)&&(0,n.h)(D,null,F.map((V,G)=>(0,n.h)(N,{key:G},V)));return(0,n.h)("div",C({},A),(0,n.h)(u.x,C({},I),(0,n.h)("div",{className:O.Z.tooltip},(0,n.h)(c.gq,{alignItems:"center",gap:8,className:O.Z.tooltipContent},M&&(0,n.h)(n.Fragment,null,(0,n.cloneElement)(M,{size:20})," "),R,Z))))}function D({children:I}){return(0,n.h)(v.xv,{as:"div",className:O.Z.shortcutKeys,size:12,font:"text",weight:"medium",transform:"uppercase"},I)}function N({children:I}){return(0,n.h)(c.hs,{className:O.Z.shortcutKey,alignItems:"center",justifyContent:"center"},(0,n.h)(v.xv.Meta,null,I))}},86605:(j,l,e)=>{"use strict";e.d(l,{P:()=>P});var n=e(6400),c=e(71375),u=e(84040),v=Object.defineProperty,O=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,d=(S,T,C)=>T in S?v(S,T,{enumerable:!0,configurable:!0,writable:!0,value:C}):S[T]=C,g=(S,T)=>{for(var C in T||(T={}))y.call(T,C)&&d(S,C,T[C]);if(O)for(var C of O(T))E.call(T,C)&&d(S,C,T[C]);return S};function P(S){return(0,n.h)(u.hU,g({rounded:!0},S),(0,n.h)(c.Z,null))}},13833:(j,l,e)=>{"use strict";e.d(l,{xv:()=>w,Hj:()=>_,Av:()=>D,gx:()=>x});var n=e(6400),c=e(94184),u=e.n(c),v=e(19696);const O={reset:"frontend-pencraft-common-module__reset--IftZ_","color-primary":"frontend-pencraft-common-module__color-primary--YyVsd","color-secondary":"frontend-pencraft-common-module__color-secondary--XzfEj"};var y=Object.defineProperty,E=Object.defineProperties,d=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,T=(N,I,A)=>I in N?y(N,I,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[I]=A,C=(N,I)=>{for(var A in I||(I={}))P.call(I,A)&&T(N,A,I[A]);if(g)for(var A of g(I))S.call(I,A)&&T(N,A,I[A]);return N},p=(N,I)=>E(N,d(I)),i=(N,I)=>{var A={};for(var M in N)P.call(N,M)&&I.indexOf(M)<0&&(A[M]=N[M]);if(N!=null&&g)for(var M of g(N))I.indexOf(M)<0&&S.call(N,M)&&(A[M]=N[M]);return A};const s=(0,v.L)("tw-font-title tw-text-h2 tw-leading-h2 tw-tracking-h2 tw-font-bold"),_=(0,v.L)("tw-text-sm tw-leading-sm tw-tracking-sm tw-font-body");function w(N){var I=N,{className:A,color:M,as:R="span"}=I,F=i(I,["className","color","as"]);return(0,n.h)(R,p(C({},F),{className:u()(A,M&&O[`color-${M}`])}))}const x="tw-font-body tw-text-sm tw-leading-sm tw-tracking-sm tw-font-semibold",D=(0,v.L)(x,w)},92271:(j,l,e)=>{"use strict";e.d(l,{z:()=>C});var n=e(6400),c=e(94184),u=e.n(c),v=e(84040),O=e(13833),y=Object.defineProperty,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(w,x,D)=>x in w?y(w,x,{enumerable:!0,configurable:!0,writable:!0,value:D}):w[x]=D,S=(w,x)=>{for(var D in x||(x={}))d.call(x,D)&&P(w,D,x[D]);if(E)for(var D of E(x))g.call(x,D)&&P(w,D,x[D]);return w},T=(w,x)=>{var D={};for(var N in w)d.call(w,N)&&x.indexOf(N)<0&&(D[N]=w[N]);if(w!=null&&E)for(var N of E(w))x.indexOf(N)<0&&g.call(w,N)&&(D[N]=w[N]);return D};function C(w){var x=w,{className:D,variant:N,look:I="button",fill:A="outline",fixedHeight:M=!0,size:R="medium",leftIcon:F,rightIcon:Z,noPadding:V=!1,forwardedRef:G,children:$}=x,K=T(x,["className","variant","look","fill","fixedHeight","size","leftIcon","rightIcon","noPadding","forwardedRef","children"]);return(0,n.h)(v.kG,S({className:u()(D,"tw-cursor-pointer tw-appearance-none tw-whitespace-nowrap tw-border-0 tw-border-solid disabled:tw-cursor-not-allowed",!_.includes(I)&&"tw-bg-transparent",i.includes(I)?[`tw-relative tw-flex tw-items-center tw-justify-center tw-gap-3 ${O.gx}`,s.includes(I)&&!V&&"tw-px-5",M||I=="round"?R==="small"?"tw-h-8":"tw-h-button":"tw-py-[10px]"]:"tw-p-0",I==="button"&&"tw-rounded",I==="round"&&["tw-rounded-full tw-px-4",F&&"tw-pl-[10px]",Z&&"tw-pr-[10px]"],I==="circle"&&["tw-justify-center tw-rounded-full",R==="small"?"tw-h-8 tw-w-8":"tw-h-button tw-w-button"],I==="text"&&`tw-inline ${p}`,I==="reset"&&`tw-inline-block ${p}`,I==="flex"&&`tw-flex ${p}`,N==="primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",_.includes(I)?" tw-bg-substack-accent tw-text-substack-bg":"tw-bg-transparent tw-text-substack-accent"]:N==="themed-primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",_.includes(I)?" tw-bg-pub-accent tw-text-pub-accent-inverse":"tw-bg-transparent tw-text-pub-accent"]:N==="secondary"?["tw-text-substack-secondary disabled:tw-opacity-70",_.includes(I)?A==="filled"?"tw-border tw-border-substack-detail tw-bg-substack-wash hover:tw-border-substack-tertiary hover:tw-bg-dark-primary hover:tw-text-substack-secondary":"tw-border tw-border-substack-detail tw-bg-substack-bg hover:tw-bg-substack-wash":"tw-bg-transparent"]:N==="themed-secondary"?["tw-border tw-border-pub-accent tw-bg-transparent tw-text-pub-accent hover:tw-bg-pub-detail-light disabled:tw-opacity-70"]:N==="tertiary"?["tw-text-substack-secondary disabled:tw-opacity-70",_.includes(I)&&"tw-border tw-border-substack-detail tw-bg-transparent hover:tw-bg-substack-wash"]:N==="destructive"?["hover:tw-opacity-80 disabled:tw-opacity-70",_.includes(I)?" tw-bg-error tw-text-substack-bg":" tw-bg-transparent tw-text-error"]:N==="twitter"&&["hover:tw-opacity-80 disabled:tw-opacity-70",_.includes(I)?"tw-bg-twitter tw-text-substack-bg":"tw-bg-transparent tw-text-twitter"]),ref:G},K),F,$,Z)}const p="tw-text-[length:inherit] tw-text-[color:inherit] tw-font-[weight:inherit]",i=["button","borderless","circle","round"],s=["button","borderless"],_=["button","circle","round"]},93414:(j,l,e)=>{"use strict";e.d(l,{X:()=>s});var n=e(6400),c=e(94184),u=e.n(c),v=e(25380),O=e(2975),y=Object.defineProperty,E=Object.defineProperties,d=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,T=(_,w,x)=>w in _?y(_,w,{enumerable:!0,configurable:!0,writable:!0,value:x}):_[w]=x,C=(_,w)=>{for(var x in w||(w={}))P.call(w,x)&&T(_,x,w[x]);if(g)for(var x of g(w))S.call(w,x)&&T(_,x,w[x]);return _},p=(_,w)=>E(_,d(w)),i=(_,w)=>{var x={};for(var D in _)P.call(_,D)&&w.indexOf(D)<0&&(x[D]=_[D]);if(_!=null&&g)for(var D of g(_))w.indexOf(D)<0&&S.call(_,D)&&(x[D]=_[D]);return x};const s=_=>{var w=_,{name:x,size:D="medium",checked:N,disabled:I=!1,error:A=!1,onChange:M,as:R="label",withTheme:F=!1}=w,Z=i(w,["name","size","checked","disabled","error","onChange","as","withTheme"]);const V=R;return(0,n.h)(V,{className:u()("pencraft",O.Z.container,O.Z[D],I?O.Z.disabled:O.Z.enabled,N?F?O.Z.checkedWithTheme:O.Z.checked:O.Z.unchecked,A?O.Z.error:"")},N&&(0,n.h)(v.Z,{size:D==="small"?16:24}),(0,n.h)("input",p(C({},Z),{className:"pencraft",type:"checkbox",name:x,"data-testid":x,checked:N,disabled:I,onChange:G=>{var $,K;!I&&M(!N,p(C({},G.target),{name:(K=($=G.target)==null?void 0:$.name)!=null?K:""}))}})))}},71346:(j,l,e)=>{"use strict";e.d(l,{j:()=>O});var n=e(6400),c=e(51126),u=e(43887),v=e(93414);const O=({contentBelow:y,details:E,disabled:d,label:g,name:P,paddingBottom:S,paddingTop:T,testid:C,track:p,value:i,onChange:s,usePublicationTheme:_})=>(0,n.h)(c.gq,{as:"label",gap:8,paddingBottom:S,paddingTop:T},(0,n.h)(v.X,{as:"div",checked:i,name:P!=null?P:C,"data-track-input":p,disabled:d,size:"small",onChange:s}),(0,n.h)(c.tu,{flex:"grow"},(0,n.h)(u.xv.B4,{as:"span",color:d?_?"secondary-theme":"secondary":_?"primary-theme":"primary"},g),E&&(0,n.h)(u.xv.Detail,{color:_?"secondary-theme":"secondary"},E),y))},72657:(j,l,e)=>{"use strict";e.d(l,{D:()=>u});var n=e(6400),c=e(29811);const u=({errors:v})=>v?(0,n.h)(n.Fragment,null,v.map(O=>(0,n.h)(c.xv.B4,{color:"error",key:O},O))):null},13847:(j,l,e)=>{"use strict";e.d(l,{g:()=>d});var n=e(6400),c=e(98661),u=e(94184),v=e.n(u),O=e(96797),y=e(29811),E=e(72657);const d=(0,c.forwardRef)(({action:g,children:P,className:S,errors:T,helpText:C,details:p,label:i,paddingBottom:s,paddingTop:_,wrapWithLabel:w,disabled:x,compact:D},N)=>{const I=D?2:8;return(0,n.h)(y.tu,{ref:N,alignItems:"stretch",className:S,gap:I,paddingBottom:s,paddingTop:_,disabled:x},(0,n.h)(y.tu,{alignItems:"stretch",gap:I,as:w?"label":"div"},i&&(0,n.h)(y.gq,{gap:I,alignItems:"center"},(0,n.h)(y.xv.B4,{weight:"semibold",as:w?"div":"label",color:"primary"},i),C&&(0,n.h)(O.k,{content:C}),g&&(0,n.h)(y.gq,{flex:"grow",justifyContent:"end"},g)),P&&(0,n.h)("div",{className:v()({"has-error":T})},P)),p&&!Array.isArray(p)&&(0,n.h)(y.xv.Detail,null,p),p&&Array.isArray(p)&&p.length>0&&(0,n.h)(y.tu,{gap:4},p.map(A=>(0,n.h)(y.xv.Detail,null,A))),(0,n.h)(E.D,{errors:T}))})},2099:(j,l,e)=>{"use strict";var n=e(6400),c=e(51126),u=e(43887),v=e(10389);const O=({children:y,label:E})=>h(FlexColumn,null,E&&h(Text.Meta,{color:"primary",paddingBottom:4,paddingLeft:4},E),h(FlexColumn,{className:css.container,padding:16,radius:12,gap:16},y))},68625:(j,l,e)=>{"use strict";e.d(l,{Y:()=>i});var n=e(6400),c=e(94184),u=e.n(c),v=e(63438),O=Object.defineProperty,y=Object.defineProperties,E=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,S=(s,_,w)=>_ in s?O(s,_,{enumerable:!0,configurable:!0,writable:!0,value:w}):s[_]=w,T=(s,_)=>{for(var w in _||(_={}))g.call(_,w)&&S(s,w,_[w]);if(d)for(var w of d(_))P.call(_,w)&&S(s,w,_[w]);return s},C=(s,_)=>y(s,E(_)),p=(s,_)=>{var w={};for(var x in s)g.call(s,x)&&_.indexOf(x)<0&&(w[x]=s[x]);if(s!=null&&d)for(var x of d(s))_.indexOf(x)<0&&P.call(s,x)&&(w[x]=s[x]);return w};const i=s=>{var _=s,{color:w}=_,x=p(_,["color"]);return(0,n.h)("div",{className:u()(v.Z.container)},(0,n.h)("input",C(T({},x),{type:"radio"})),(0,n.h)("span",{className:u()(v.Z.radio,{[v.Z["radio--accent"]]:w==="accent"})}))}},2019:(j,l,e)=>{"use strict";e.d(l,{g:()=>C});var n=e(6400),c=e(30396),u=e(51126),v=e(43887),O=e(13847),y=e(68625),E=Object.defineProperty,d=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,S=(p,i,s)=>i in p?E(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,T=(p,i)=>{for(var s in i||(i={}))g.call(i,s)&&S(p,s,i[s]);if(d)for(var s of d(i))P.call(i,s)&&S(p,s,i[s]);return p};const C=({horizontal:p,label:i,labelProps:s,name:_,options:w,paddingBottom:x,paddingTop:D,size:N="medium",value:I,variant:A,onChange:M,color:R})=>{const F=(0,c.I4)(V=>{M(V.target.value)},[M]);let Z;return A==="boxed"?Z=(0,n.h)(u.tu,{gap:8},w.map(({value:V,label:G,disabled:$,track:K,testid:H})=>{const re=V===I;return(0,n.h)(u.gq,{alignItems:"center",as:"label",border:re?"accent-themed":"detail-themed",gap:8,padding:16,radius:6},(0,n.h)(y.Y,{checked:re,color:"accent","data-testid":H,"data-track-input":K,disabled:$,name:_,value:V,onClick:F}),(0,n.h)(v.xv.B4,{as:"span",weight:re?"semibold":"normal"},G))})):Z=(0,n.h)(u.gq,{gap:N==="medium"?8:16,direction:p?"row":"column"},w.map(({value:V,label:G,disabled:$,track:K,testid:H})=>(0,n.h)(u.gq,{as:"label",gap:8,alignItems:"center",paddingLeft:4},(0,n.h)(y.Y,{color:R,checked:V===I,"data-testid":H,"data-track-input":K,disabled:$,name:_,value:V,onClick:F}),N==="medium"?(0,n.h)(v.xv.B4,T({as:"span"},s),G):(0,n.h)(v.xv.B3,T({},s),G)))),(0,n.h)(O.g,{label:i,paddingBottom:x,paddingTop:D},Z)}},35634:(j,l,e)=>{"use strict";var n=e(6400),c=e(11558),u=e(13847);const v=({details:O,helpText:y,label:E,name:d,options:g,paddingBottom:P,paddingTop:S,value:T,onChange:C})=>h(Field,{label:E,details:O,helpText:y,paddingTop:S,paddingBottom:P,wrapWithLabel:!0},h(Select,{name:d,value:T,onChange:C},g.map(p=>h("option",{value:p.value},p.label))))},30858:(j,l,e)=>{"use strict";var n=e(6400),c=e(30396),u=e(13847),v=e(34394);const O=({details:y,disabled:E,errors:d,helpText:g,inputRef:P,label:S,name:T,paddingBottom:C,paddingTop:p,value:i,onChange:s})=>{const _=useCallback(w=>{s(w.target.value)},[s]);return h(Field,{label:S,details:y,errors:d,helpText:g,paddingTop:p,paddingBottom:C,wrapWithLabel:!0},h(TextInput,{ref:P,error:!!(d!=null&&d.length),disabled:E,name:T,value:i,onChange:_}))}},34394:(j,l,e)=>{"use strict";e.d(l,{o:()=>s});var n=e(6400),c=e(98661),u=e(94184),v=e.n(u),O=e(51220),y=Object.defineProperty,E=Object.defineProperties,d=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,T=(_,w,x)=>w in _?y(_,w,{enumerable:!0,configurable:!0,writable:!0,value:x}):_[w]=x,C=(_,w)=>{for(var x in w||(w={}))P.call(w,x)&&T(_,x,w[x]);if(g)for(var x of g(w))S.call(w,x)&&T(_,x,w[x]);return _},p=(_,w)=>E(_,d(w)),i=(_,w)=>{var x={};for(var D in _)P.call(_,D)&&w.indexOf(D)<0&&(x[D]=_[D]);if(_!=null&&g)for(var D of g(_))w.indexOf(D)<0&&S.call(_,D)&&(x[D]=_[D]);return x};const s=(0,c.forwardRef)((_,w)=>{var x=_,{className:D,error:N=!1,type:I="text",width:A,background:M,font:R}=x,F=i(x,["className","error","type","width","background","font"]);return(0,n.h)("input",p(C({},F),{className:v()(D,O.Z.input,{[O.Z.error]:N},R&&O.Z[`font-${R}`]),style:{width:A,background:M},type:I,ref:w}))})},27885:(j,l,e)=>{"use strict";e.d(l,{g:()=>s});var n=e(6400),c=e(98661),u=e(94184),v=e.n(u),O=e(51220),y=Object.defineProperty,E=Object.defineProperties,d=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,T=(_,w,x)=>w in _?y(_,w,{enumerable:!0,configurable:!0,writable:!0,value:x}):_[w]=x,C=(_,w)=>{for(var x in w||(w={}))P.call(w,x)&&T(_,x,w[x]);if(g)for(var x of g(w))S.call(w,x)&&T(_,x,w[x]);return _},p=(_,w)=>E(_,d(w)),i=(_,w)=>{var x={};for(var D in _)P.call(_,D)&&w.indexOf(D)<0&&(x[D]=_[D]);if(_!=null&&g)for(var D of g(_))w.indexOf(D)<0&&S.call(_,D)&&(x[D]=_[D]);return x};const s=(0,c.forwardRef)((_,w)=>{var x=_,{className:D,error:N=!1,font:I}=x,A=i(x,["className","error","font"]);return(0,n.h)("textarea",p(C({ref:w,className:v()(D,O.Z.input,O.Z.textarea,{[O.Z.error]:N},I&&O.Z[`font-${I}`])},A),{type:"text"}))})},50477:(j,l,e)=>{"use strict";var n=e(6400),c=e(30396),u=e(13847),v=e(27885);const O=({details:y,disabled:E,helpText:d,label:g,paddingBottom:P,paddingTop:S,value:T,onChange:C})=>{const p=useCallback(i=>{C(i.target.value)},[C]);return h(Field,{details:y,helpText:d,label:g,paddingBottom:P,paddingTop:S,wrapWithLabel:!0},h(Textarea,{disabled:E,value:T,onChange:p}))}},5668:(j,l,e)=>{"use strict";e.d(l,{U:()=>u});var n=e(6400);const c={hiddenInput:"frontend-pencraft-internal-HiddenInputWrapper-module__hiddenInput--wQ_AN"},u=({children:v})=>(0,n.h)("div",{className:c.hiddenInput},v)},94581:(j,l,e)=>{"use strict";e.d(l,{x:()=>C});var n=e(30396),c=e(62372),u=e(81176),v=Object.defineProperty,O=Object.defineProperties,y=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(p,i,s)=>i in p?v(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,S=(p,i)=>{for(var s in i||(i={}))d.call(i,s)&&P(p,s,i[s]);if(E)for(var s of E(i))g.call(i,s)&&P(p,s,i[s]);return p},T=(p,i)=>O(p,y(i));const C=({layerOptions:p,hideOnScroll:i,onClose:s}={})=>{const[_,w]=(0,n.eJ)(!1),{triggerProps:x,layerProps:D,renderLayer:N}=(0,c.sJ)(S({isOpen:_,placement:"bottom-center",preferY:"bottom",triggerOffset:10,onOutsideClick:()=>{s&&s(),w(!1)}},p)),I=(0,u.M)("trigger"),A=(0,u.M)("dialog");return(0,n.d4)(()=>{if(i){const M=()=>{requestAnimationFrame(()=>{open&&i&&w(!1)})};return window.addEventListener("scroll",M,!0),()=>{window.removeEventListener("scroll",M,!0)}}},[i]),{triggerProps:T(S({},x),{id:I,"aria-expanded":_,"aria-haspopup":"dialog","aria-controls":A}),layerProps:T(S({},D),{id:A,role:"dialog",tabIndex:0,"aria-labeledby":I}),renderLayer:N,isOpen:_,setOpen:w}}},25666:(j,l,e)=>{"use strict";e.d(l,{l:()=>S,x:()=>T});var n=e(6400),c=e(30396),u=e(5285),v=e(62372),O=Object.defineProperty,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(C,p,i)=>p in C?O(C,p,{enumerable:!0,configurable:!0,writable:!0,value:i}):C[p]=i,P=(C,p)=>{for(var i in p||(p={}))E.call(p,i)&&g(C,i,p[i]);if(y)for(var i of y(p))d.call(p,i)&&g(C,i,p[i]);return C};function S({hoverOptions:C,layerOptions:p}={}){const[i,s]=(0,c.eJ)(!1),[_,w]=(0,v.XI)(P({delayEnter:1e3,delayLeave:500},C)),{triggerProps:x,layerProps:D,renderLayer:N}=(0,v.sJ)(P({isOpen:_,auto:!0,triggerOffset:8},p));return{layerProps:D,triggerProps:P(P({},x),w),transitionProps:{show:_,beforeEnter:()=>s(!0),afterLeave:()=>s(!1)},renderLayer:N,shouldShow:_||i}}function T(C){return(0,n.h)(u.u,P({appear:!0,enter:"tw-transition-all tw-ease-smooth tw-duration-fast tw-transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-ease-smooth tw-duration-fast tw-transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-2"},C))}},30058:(j,l,e)=>{"use strict";e.d(l,{e:()=>v});var n=e(6400),c=e(94184),u=e.n(c);const v=({className:O,children:y,displayContents:E})=>(0,n.h)("div",{className:u()("tailwind-preflight",O),style:E?{display:"contents"}:{}},y)},11558:(j,l,e)=>{"use strict";e.d(l,{P:()=>x});var n=e(6400),c=e(94184),u=e.n(c),v=e(99758),O=e(84040),y=e(51126),E=e(25752),d=e(43887),g=e(27113),P=Object.defineProperty,S=Object.defineProperties,T=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(N,I,A)=>I in N?P(N,I,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[I]=A,_=(N,I)=>{for(var A in I||(I={}))p.call(I,A)&&s(N,A,I[A]);if(C)for(var A of C(I))i.call(I,A)&&s(N,A,I[A]);return N},w=(N,I)=>S(N,T(I));const x=({children:N,className:I,name:A,value:M,onChange:R,disabled:F=!1})=>{var Z;const V=N.find(G=>G.props.value===M);return V||console.error("Select: value not found in children. value:",M,"options:",N.map(G=>G.props.value)),(0,n.h)(y.gq,{className:u()(g.Z.select,I),alignItems:"center",justifyContent:"space-between",paddingX:16,paddingBottom:8,paddingTop:8,gap:8},(0,n.h)(d.xv,{className:u()(g.Z.selectedOption,{[g.Z.disabled]:F}),font:"text",size:14,color:F?"secondary":"primary"},(Z=V==null?void 0:V.props.children)!=null?Z:""),(0,n.h)(v.Z,null),(0,n.h)("select",{name:A,value:M,onChange:G=>{var $;R(G.target.value,w(_({},G.target),{name:($=G.target.name)!=null?$:""}))},disabled:F},N))};function D({value:N,options:I,onChange:A,fill:M,disabled:R,className:F,priority:Z}){var V,G;return h(Menu,{className:F,trigger:h(Button,{priority:Z!=null?Z:"secondary",fill:M,disabled:R,rightIcon:h(ChevronDown,{size:20}),"data-testid":"stock-select"},(G=(V=I.find($=>$.value===N))==null?void 0:V.label)!=null?G:"Select")},I.map($=>h(MenuItem,{onClick:()=>A($.value)},$.label)))}},33324:(j,l,e)=>{"use strict";e.r(l),e.d(l,{UserBadge:()=>Z});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(62372),y=e(51736),E=e(47052),d=e(3258),g=e(51126),P=e(43887),S=e(61274),T=e(97660),C=Object.defineProperty,p=Object.defineProperties,i=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,x=(V,G,$)=>G in V?C(V,G,{enumerable:!0,configurable:!0,writable:!0,value:$}):V[G]=$,D=(V,G)=>{for(var $ in G||(G={}))_.call(G,$)&&x(V,$,G[$]);if(s)for(var $ of s(G))w.call(G,$)&&x(V,$,G[$]);return V},N=(V,G)=>p(V,i(G));const I=100,A={sm:16,md:20,lg:24},M={100:E.Z,1e3:y.Z,1e4:y.Z},R={1e4:{fill:"var(--color-accent-purple)"}},F={100:"Hundreds",1e3:"Thousands",1e4:"Tens of thousands"},Z=({className:V,isStatic:G=!1,inline:$=!1,size:K="lg",tier:H,tooltipOnHover:re=!1,userId:ee})=>{const[Y,J]=(0,O.XI)({delayEnter:I,delayLeave:I,hideOnScroll:!0}),te=Y&&!re,{triggerProps:ie,layerProps:se,renderLayer:W}=(0,O.sJ)({isOpen:te,overflowContainer:!1,auto:!0,snap:!0,possiblePlacements:["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],placement:"top-center",containerOffset:10,triggerOffset:8}),z=se.style;(0,c.d4)(()=>{Y&&(0,d.j)(d.FP.BESTSELLER_INFO_SHOWN,{tier:H,form:re?"tooltip":"popover",hovered_user_id:ee})},[Y,H,re,ee]);const Q=A[K];if(!H)return null;const oe=M[H.toString()],ne=R[H.toString()],ae=v()(V,$?T.Z.inlineContainer:T.Z.container);return G&&H?(0,n.h)("div",{className:ae},(0,n.h)(oe,N(D({},ne),{height:Q}))):(0,n.h)("div",N(D(D({},J),ie),{className:ae}),(0,n.h)(S.u,{text:`${F[H.toString()]} of paid subscribers`,dangerouslySetTooltipZIndex:103,disabled:!re},(0,n.h)(oe,N(D({},ne),{height:Q}))),te&&W((0,n.h)("div",N(D(D({},se),J),{style:z,className:T.Z.popover}),(0,n.h)(g.tu,{alignItems:"center",gap:16,padding:16,paddingBottom:32},(0,n.h)(oe,N(D({},ne),{height:40})),(0,n.h)(g.tu,{alignItems:"center",gap:4},(0,n.h)(P.xv.H3,null,"Bestseller"),(0,n.h)(P.xv.B4,{align:"center"},F[H.toString()]," of paid subscribers"))))))}},31845:(j,l,e)=>{"use strict";e.d(l,{o:()=>s});var n=e(6400),c=e(51736),u=e(47052),v=Object.defineProperty,O=Object.defineProperties,y=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(_,w,x)=>w in _?v(_,w,{enumerable:!0,configurable:!0,writable:!0,value:x}):_[w]=x,S=(_,w)=>{for(var x in w||(w={}))d.call(w,x)&&P(_,x,w[x]);if(E)for(var x of E(w))g.call(w,x)&&P(_,x,w[x]);return _},T=(_,w)=>O(_,y(w));const C={sm:16,md:20,lg:24},p={100:u.Z,1e3:c.Z,1e4:c.Z},i={1e4:{fill:"var(--color-accent-purple)"}},s=({tier:_,size:w="sm"})=>{if(!_)return null;const x=p[_.toString()],D=i[_.toString()],N=C[w];return(0,n.h)(x,T(S({},D),{height:N}))}},592:(j,l,e)=>{"use strict";e.d(l,{mH:()=>_});var n=e(6400),c=e(98661),u=e(30396),v=e(67963),O=e(3258),y=e(91004),E=e(4605),d=e(8479),g=e(29811),P=e(62246),S=e(99574),T=(w,x,D)=>new Promise((N,I)=>{var A=F=>{try{R(D.next(F))}catch(Z){I(Z)}},M=F=>{try{R(D.throw(F))}catch(Z){I(Z)}},R=F=>F.done?N(F.value):Promise.resolve(F.value).then(A,M);R((D=D.apply(w,x)).next())});const C=({isOpen:w,onClose:x,pub:D,post:N,hideEmail:I,hideAssetTitle:A,smallAssetPadding:M,mediaCarousel:R,source:F})=>((0,u.d4)(()=>{w&&(0,O.j)(O.FP.INSTAGRAM_SHARE_MODAL_SEEN,{source:F||(I?"post":"share center")})},[w,I,F]),(0,n.h)(P.u_,{isOpen:w,onClose:x,fullscreenMobile:!0},(0,n.h)(P.xB,{title:"Share to Instagram",onClose:x,includeClose:!0}),(0,n.h)(p,{pub:D,post:N,hideEmail:I,hideAssetTitle:A,smallAssetPadding:M,mediaCarousel:R,source:F}))),p=({pub:w,post:x,hideEmail:D,hideAssetTitle:N,smallAssetPadding:I,mediaCarousel:A,source:M})=>{const R=(0,v.aF)(),F=({step:V,title:G,subtitle:$,children:K})=>(0,n.h)(g.gq,{gap:16},(0,n.h)(g.xv.H4,null,V),(0,n.h)(g.tu,{style:{width:"90%"},gap:12},(0,n.h)(g.tu,{gap:4},(0,n.h)(g.xv.H4,null,G),(0,n.h)(g.xv.B4,{color:"secondary"},$)),K)),Z=()=>{const[V,G]=(0,u.eJ)(!1);return(0,n.h)(g.tu,{bg:"secondary",radius:12,border:"detail"},(0,n.h)(g.tu,{gap:24,padding:I?8:20},(0,n.h)(g.gq,{gap:12,alignItems:"center"},!N&&(0,n.h)(g.xv.B4,{weight:"bold"},"Shareable images"),!D&&(0,n.h)(g.zx,{size:"small",disabled:V,priority:"secondary",style:{marginLeft:"auto",marginRight:0},onClick:()=>T(void 0,null,function*(){(0,O.j)(O.FP.SHARE_CENTER_MEDIA_ASSETS_EMAILED,{post_id:x.id}),G(!0);try{(yield(0,d.rd)(`/api/v1/press_kit/${x.id}/email`)).success&&(0,E.ZP)("Emails sent successfully.")}catch($){(0,O.j)(O.FP.SHARE_CENTER_MEDIA_ASSETS_EMAILED_FAILED,{post_id:x.id}),(0,E.ZP)("Error sending emails. Please try again.")}finally{G(!1)}})},"Email me assets")),A))};return(0,n.h)(P.fe,null,(0,n.h)(g.tu,{gap:24},(0,n.h)(F,{step:1,title:"Download an image",subtitle:"Substack automatically creates assets from any post to share on Instagram."},(0,n.h)(Z,null)),(0,n.h)(F,{step:2,title:"Copy a link to the post",subtitle:"Add a link to your Instagram story or bio."},(0,n.h)(g.zx,{priority:"secondary",onClick:()=>{(0,y.Ui)({shareUrl:(0,y.O1)(null,{pub:w,post:x,user:R}),pub:w,post:x,utm_campaign:M||(D?"post-instagram-share-modal":"post-share-center")})}},"Copy Link")),(0,n.h)(F,{step:3,title:"Share on Instagram",subtitle:"Visit the Instagram app and share the image with a link to the post. Or share from Instagram on desktop"})))},i=(0,c.memo)(C,(w,x)=>w.post.id===x.post.id&&w.isOpen===x.isOpen),s=({isOpen:w,onClose:x,pub:D,post:N,themeVariables:I,hideEmail:A})=>{const M=(0,S.E)(D,N,I,!0,{source:A?"instagram-modal-reader-share":"instagram-modal-share-center"});return(0,n.h)(i,{isOpen:w,pub:D,post:N,onClose:x,mediaCarousel:(0,n.h)(S.H,{inline:!0},M),hideEmail:A})},_=(0,c.memo)(s,(w,x)=>w.post.id===x.post.id&&w.isOpen===x.isOpen)},99574:(j,l,e)=>{"use strict";e.d(l,{H:()=>I,E:()=>M});var n=e(6400),c=e(98661),u=e(30396),v=e(94184),O=e.n(v),y=e(56743),E=e(2564),d=e(71278),g=e(29811),P=e(83322),S=e(76193);const T={mediaCarousel:"frontend-publish-share_center-MediaAssetCarousel-module__mediaCarousel--yatYn",pressKitImageContainer:"frontend-publish-share_center-MediaAssetCarousel-module__pressKitImageContainer--qcOIf",scrollContainer:"frontend-publish-share_center-MediaAssetCarousel-module__scrollContainer--YjAQV",carouselParent:"frontend-publish-share_center-MediaAssetCarousel-module__carouselParent--mJlqW",carouselArrow:"frontend-publish-share_center-MediaAssetCarousel-module__carouselArrow--NOyGP",bg:"frontend-publish-share_center-MediaAssetCarousel-module__bg--lN6p2",fade:"frontend-publish-share_center-MediaAssetCarousel-module__fade--LwBBa",visible:"frontend-publish-share_center-MediaAssetCarousel-module__visible--nkiL7",left:"frontend-publish-share_center-MediaAssetCarousel-module__left--Gpyzo",bgSecondary:"frontend-publish-share_center-MediaAssetCarousel-module__bgSecondary--YZnYt",right:"frontend-publish-share_center-MediaAssetCarousel-module__right--VIM7J",containerArrows:"frontend-publish-share_center-MediaAssetCarousel-module__containerArrows--fQe5X"};var C=Object.defineProperty,p=Object.defineProperties,i=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,x=(Z,V,G)=>V in Z?C(Z,V,{enumerable:!0,configurable:!0,writable:!0,value:G}):Z[V]=G,D=(Z,V)=>{for(var G in V||(V={}))_.call(V,G)&&x(Z,G,V[G]);if(s)for(var G of s(V))w.call(V,G)&&x(Z,G,V[G]);return Z},N=(Z,V)=>p(Z,i(V));const I=({inline:Z,children:V})=>{const G=(0,P.isTouchDevice)(),$=(0,u.sO)(null),{state:K,handleArrowClick:H}=F($),re=Z?"secondary":void 0;return(0,n.h)(g.hs,{className:T.scrollContainer,bg:re,alignItems:"center",flex:"grow",paddingX:{desktop:32,mobile:0}},(0,n.h)(g.gq,{className:T.carouselParent,bg:re},!G&&K.showLeft&&(0,n.h)(g.hs,{bg:Z?void 0:"secondary",className:O()(T.fade,T.visible,T.left,T.containerArrows)},(0,n.h)("div",{className:re==="secondary"?T.bgSecondary:T.bg}),(0,n.h)(g.hU,{className:T.carouselArrow,rounded:!0,size:36,onClick:H(-1),fill:Z?"filled":"empty"},(0,n.h)(y.Z,null))),(0,n.h)(g.hs,{ref:$,bg:re,gap:Z?8:16,justifyContent:"space-between",className:T.mediaCarousel,paddingY:4,paddingX:{mobile:32,desktop:4}},V),!G&&K.showRight&&(0,n.h)(g.hs,{bg:Z?void 0:"secondary",className:O()(T.fade,T.visible,T.right,T.containerArrows)},(0,n.h)("div",{className:re==="secondary"?T.bgSecondary:T.bg}),(0,n.h)(g.hU,{className:T.carouselArrow,rounded:!0,size:36,onClick:H(1),fill:Z?"filled":"empty"},(0,n.h)(E.Z,null)))))},A=(0,c.memo)(({pub:Z,post:V,bgColor:G,textColor:$,bgImage:K,aspectRatio:H,text:re,inline:ee,withButtons:Y,onShareFromApp:J,source:te})=>{const ie={square:"1:1",stories:"9:16",instagram:"4:5"};return(0,n.h)(g.tu,{gap:ee?4:0,className:T.pressKitImageContainer},(0,n.h)(d.ZP,{pub:Z,post:V,style:{bgColor:G,textColor:$,aspectRatio:H,bgImage:K},text:re,inline:ee,sharePage:!0,withButtons:Y,onShareFromApp:J,source:te,fullHeight:!1}),(0,n.h)(g.xv.Meta,null,H.toUpperCase()," ",ie[H]))}),M=(Z,V,G,$=!1,{withButtons:K,onShareFromApp:H,source:re,instagramFirst:ee=!1}={})=>(0,u.Ye)(()=>G?R(Z,V,G,ee).map((J,te)=>(0,n.h)(A,{key:te,pub:Z,post:V,bgColor:J.bgColor,textColor:J.textColor,aspectRatio:J.aspectRatio,bgImage:J.bgImage,text:J.text,inline:$,withButtons:K,onShareFromApp:H,source:re})):[],[Z,V,G,$,re]),R=(Z,V,G,$)=>{const K=G.web_bg_color||G.cover_bg_color,H=[],re=[];(V.cover_image||Z.cover_photo_url)&&re.push({bgImage:!0,textColor:"#ffffff",text:"Image"}),K.toLowerCase()!=="#ffffff"&&re.push({bgColor:"#ffffff",textColor:"#404040",text:"Black and White"}),re.push({bgColor:K,textColor:G.print_on_web_bg_color||G.cover_print_primary||"#1a1a1a",bgImage:!1,text:"Background Color"}),G.background_pop&&re.push({bgColor:G.background_pop,textColor:G.print_on_pop,text:"Accent Color"});const ee=["square","stories"];if($&&ee.reverse(),re.length===1)for(const Y of ee)H.push(N(D({},re[0]),{aspectRatio:Y}));else{const Y=re.length;for(let J=0;J<Y;J++)H.push(N(D({},re[J]),{aspectRatio:ee[J%2]}));for(let J=0;J<Y;J++)H.push(N(D({},re[J]),{aspectRatio:ee[(J+1)%2]}))}return H},F=(Z,{initialState:V}={})=>{const[G,$]=(0,u.eJ)(V||{showLeft:!1,showRight:!0});return(0,u.d4)(()=>{const{current:H}=Z;if(H){const re=()=>{$(ee=>{let Y=ee;!Y.showLeft&&H.scrollLeft>0?Y=N(D({},ee),{showLeft:!0}):Y.showLeft&&H.scrollLeft<=0&&(Y=N(D({},ee),{showLeft:!1}));const J=H.scrollWidth-H.offsetWidth-4;return!Y.showRight&&H.scrollLeft<J?Y=N(D({},ee),{showRight:!0}):Y.showRight&&H.scrollLeft>=J&&(Y=N(D({},ee),{showRight:!1})),Y})};return H.addEventListener("scroll",re),setTimeout(()=>{re()},1e3),()=>{H.removeEventListener("scroll",re)}}},[Z]),{state:G,handleArrowClick:H=>()=>{const{current:re}=Z;re&&re.scrollBy({left:H*Math.min((0,S.isMobile)()?re.offsetWidth-70:re.offsetWidth-150,re.scrollWidth-re.offsetWidth),behavior:"smooth"})}}}},9686:(j,l,e)=>{"use strict";e.d(l,{I:()=>p});var n=e(6400),c=e(30396),u=e(86804),v=e(46209);function O(){const N=(0,c.sO)();return(0,c.d4)(()=>{var I;(I=N.current)==null||I.focus()},[]),N}var y=e(63503),E=e(8479),d=e(39419),g=e(5131),P=e(19696),S=e(34518),T=e(39936),C=(N,I,A)=>new Promise((M,R)=>{var F=G=>{try{V(A.next(G))}catch($){R($)}},Z=G=>{try{V(A.throw(G))}catch($){R($)}},V=G=>G.done?M(G.value):Promise.resolve(G.value).then(F,Z);V((A=A.apply(N,I)).next())});function p({onCancel:N,onSuccess:I,onSignup:A,noCloseButton:M,noExit:R}){const[F,Z]=(0,c.eJ)("email"),[V,G]=(0,c.eJ)(""),$=()=>{Z("mfa")};return(0,n.h)(S.Yy,{className:"",isPopup:!0,onClose:N,noCloseButton:M,noExit:R},(0,n.h)("div",{className:"simple-modal-pad tw-flex tw-flex-col tw-gap-4"},(0,n.h)(v.Z,{className:"reader-nav-logo modal-header-icon"}),(0,n.h)(T.y,null,"Sign in to Substack"),F==="email"?(0,n.h)(s,{onUsePassword:K=>{G(K),Z("password")},onSuccess:K=>{G(K),Z("poll")}}):F==="poll"?(0,n.h)(_,{email:V,onSuccess:I,onChangeMode:Z}):F==="mfa"?(0,n.h)(w,{onSuccess:I}):(0,n.h)(i,{email:V,onMfa:$,onSuccess:I})),A&&(0,n.h)(T.Hj,{className:"simple-modal-footer tw-flex tw-h-14 tw-items-center tw-justify-center"},(0,n.h)("span",null,"First time here?"," ",(0,n.h)(g.zx,{variant:"primary",look:"text",onClick:A},"Create an account"))))}function i({email:N,onSuccess:I,onMfa:A}){const M=(0,E.ib)({pathname:"/api/v1/login",method:"post"}),R=(0,c.sO)(),F=V=>C(this,null,function*(){if(V.preventDefault(),M.isLoading)return;const G=D(V.currentTarget);R.current&&(G.captcha_response=R.current.getResponse());const $=yield M.refetch({json:G});$ instanceof Error||($.mfa_required?A():I())}),Z=O();return(0,n.h)(n.Fragment,null,M.error instanceof E.kp&&M.error.response.status===401&&(0,n.h)(u.Z,{ref:R}),(0,n.h)(x,{onSubmit:F,disabled:M.isLoading},(0,n.h)(T.II,{type:"email",name:"email",placeholder:"Your email",defaultValue:N}),(0,n.h)(T.II,{type:"password",name:"password",placeholder:"Your password",ref:Z}),M.error&&(0,n.h)(T.Xq,null,(0,d.getNetworkErrorMessage)(M.error)),(0,n.h)(g.zx,{type:"submit",variant:"primary"},M.isLoading?"Signing in...":"Sign in")))}function s({onUsePassword:N,onSuccess:I}){const A=(0,E.ib)({pathname:"/api/v1/email-login",method:"POST"}),M=F=>{if(F.preventDefault(),A.isLoading)return;const Z=F.currentTarget.email.value;A.refetch({json:{email:Z,redirect:location.pathname}}).then(V=>{V instanceof E.kp||I(Z)})},R=O();return(0,n.h)(x,{onSubmit:M,disabled:A.isLoading},(0,n.h)(T.II,{type:"email",name:"email",placeholder:"Your email",ref:R}),(0,n.h)("div",{className:"tw-flex tw-flex-col tw-gap-2"},(0,n.h)(g.zx,{type:"submit",variant:"primary"},A.isLoading?"Signing in...":"Sign in with email"),(0,n.h)(g.zx,{variant:"secondary",look:"borderless",onClick:()=>{var F;return N((F=R.current)==null?void 0:F.value)}},"or sign in with password")))}function _({email:N,onSuccess:I,onChangeMode:A}){return(0,y.Z)(()=>{fetch("/api/v1/am_i_logged_in").then(M=>C(this,null,function*(){(yield M.json()).loggedIn&&I()}))},5e3),(0,n.h)("div",{className:"tw-flex tw-flex-col tw-gap-8"},(0,n.h)("b",null,"Check your email"),(0,n.h)("div",null,"If you have an account with us, we\u2019ve sent an email to ",(0,n.h)("b",null,N)," ","with a link that you can use to sign in."),(0,n.h)("div",null,"You can also"," ",(0,n.h)(g.zx,{look:"text",onClick:()=>A("email")},(0,n.h)("b",null,"try again"))," ","or"," ",(0,n.h)(g.zx,{look:"text",onClick:()=>A("password")},(0,n.h)("b",null,"sign in using your password")),"."))}function w({onSuccess:N}){const I=(0,E.ib)({pathname:"/api/v1/mfa-login",method:"Post"}),A=M=>{M.preventDefault(),!I.isLoading&&I.refetch({json:D(M.currentTarget)}).then(R=>{R instanceof E.kp||N()})};return(0,n.h)(x,{onSubmit:A,disabled:I.isLoading},(0,n.h)(T.II,{type:"password",name:"code",placeholder:"Your MFA code"}),I.error&&(0,n.h)(T.Xq,null,(0,d.getNetworkErrorMessage)(I.error)),(0,n.h)(g.zx,{type:"submit",variant:"primary"},I.isLoading?"Signing in...":"Sign in"))}const x=(0,P.L)("tw-flex tw-flex-col tw-gap-3","form");function D(N){return Object.fromEntries(Array.from(N.elements).filter(I=>I instanceof HTMLInputElement||I instanceof HTMLTextAreaElement).map(I=>[I.name,I.value]))}},34593:(j,l,e)=>{"use strict";e.d(l,{BG:()=>F,YY:()=>Z,qE:()=>M});var n=e(6400),c=e(94184),u=e.n(c),v=e(40353),O=e(7370),y=e(85362),E=e(80332),d=e(29811),g=e(15045),P=e(51126),S=e(39936),T=e(17040),C=e(24253),p=Object.defineProperty,i=Object.defineProperties,s=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,D=(V,G,$)=>G in V?p(V,G,{enumerable:!0,configurable:!0,writable:!0,value:$}):V[G]=$,N=(V,G)=>{for(var $ in G||(G={}))w.call(G,$)&&D(V,$,G[$]);if(_)for(var $ of _(G))x.call(G,$)&&D(V,$,G[$]);return V},I=(V,G)=>i(V,s(G)),A=(V,G)=>{var $={};for(var K in V)w.call(V,K)&&G.indexOf(K)<0&&($[K]=V[K]);if(V!=null&&_)for(var K of _(V))G.indexOf(K)<0&&x.call(V,K)&&($[K]=V[K]);return $};function M({user:V,size:G,className:$}){const K=(0,g.getUserPhotoUrl)(V);return(0,n.h)(S.t5,{className:u()(C.Z.avatar,$),src:K,size:G})}function R({user:V,size:G,className:$,badge:K,badgeShape:H="square",showProfileHovercard:re}){return(0,g.getUserPhotoUrl)(V)?(0,n.h)(P.gq,{className:C.Z.avatarContainer},(0,n.h)(E.Ct,{subject:N({id:0,name:""},V),dontStopPropagation:!1,disabled:!re},(0,n.h)(M,{user:V,size:G,className:$})),K&&(0,n.h)("div",{className:u()(C.Z.badge,H&&C.Z[H])},K)):null}function F(V){var G=V,{pub:$}=G,K=A(G,["pub"]);return(0,n.h)(R,I(N({},K),{badge:$&&(0,n.h)(T.F,{pub:$,size:16})}))}function Z(V){var G=V,{subscriptionType:$}=G,K=A(G,["subscriptionType"]);let H=null,re;return $==="author"?(H=(0,n.h)(v.Z,{height:16,className:C.Z.subscriptionBadge}),re="Author"):$==="founding"?(H=(0,n.h)(O.Z,{height:16,className:C.Z.subscriptionBadge}),re="Founding member"):$==="paid"&&(H=(0,n.h)(y.Z,{height:16,className:C.Z.subscriptionBadge}),re="Paid subscriber"),H=H&&re?(0,n.h)(d.u,{text:re},H):null,(0,n.h)(R,I(N({},K),{badge:H,badgeShape:"circle"}))}},5131:(j,l,e)=>{"use strict";e.d(l,{zx:()=>C});var n=e(6400),c=e(94184),u=e.n(c),v=e(7922),O=e(19696),y=Object.defineProperty,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(s,_,w)=>_ in s?y(s,_,{enumerable:!0,configurable:!0,writable:!0,value:w}):s[_]=w,S=(s,_)=>{for(var w in _||(_={}))d.call(_,w)&&P(s,w,_[w]);if(E)for(var w of E(_))g.call(_,w)&&P(s,w,_[w]);return s},T=(s,_)=>{var w={};for(var x in s)d.call(s,x)&&_.indexOf(x)<0&&(w[x]=s[x]);if(s!=null&&E)for(var x of E(s))_.indexOf(x)<0&&g.call(s,x)&&(w[x]=s[x]);return w};function C(s){var _=s,{className:w,variant:x,rounded:D,look:N="button",fixedHeight:I=!0,size:A="medium",hasLeftIcon:M,hasRightIcon:R,forwardedRef:F}=_,Z=T(_,["className","variant","rounded","look","fixedHeight","size","hasLeftIcon","hasRightIcon","forwardedRef"]);return(0,n.h)(v.k,S({className:u()("reader2-button",w,`reader2-button-${N}`,I&&"fixedHeight",x&&(["text","borderless"].includes(N)?`reader2-button-text-${x}`:`reader2-button-${x}`),(D||N==="circle")&&"reader2-button-rounded",`reader2-button-${A}`,M&&"hasLeftIcon",R&&"hasRightIcon"),ref:F},Z))}function p(s){var _=s,{isActive:w=!1,isSmall:x=!1,icon:D,children:N}=_,I=T(_,["isActive","isSmall","icon","children"]);return h("button",S({className:classnames("reader2-button-reset reader2-tab",w&&"active",x&&"small",D?"hasIcon":null)},I),D,N)}const i=(0,O.L)("reader2-button-row")},85584:(j,l,e)=>{"use strict";e.d(l,{De:()=>A,b4:()=>I,eK:()=>N});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(2564),y=e(56743),E=e(51126),d=e(5131),g=e(32289),P=e(28967),S=Object.defineProperty,T=Object.defineProperties,C=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,_=(M,R,F)=>R in M?S(M,R,{enumerable:!0,configurable:!0,writable:!0,value:F}):M[R]=F,w=(M,R)=>{for(var F in R||(R={}))i.call(R,F)&&_(M,F,R[F]);if(p)for(var F of p(R))s.call(R,F)&&_(M,F,R[F]);return M},x=(M,R)=>T(M,C(R)),D=(M,R)=>{var F={};for(var Z in M)i.call(M,Z)&&R.indexOf(Z)<0&&(F[Z]=M[Z]);if(M!=null&&p)for(var Z of p(M))R.indexOf(Z)<0&&s.call(M,Z)&&(F[Z]=M[Z]);return F};const N=(M,{inset:R=0,pageSizeAdjust:F=0,initialState:Z}={})=>{const[V,G]=(0,c.eJ)(Z||{showLeft:!1,showRight:!1});return(0,c.d4)(()=>{const{current:K}=M;if(K){const H=()=>{G(re=>{let ee=re;!ee.showLeft&&K.scrollLeft>R?ee=x(w({},re),{showLeft:!0}):ee.showLeft&&K.scrollLeft<=R&&(ee=x(w({},re),{showLeft:!1}));const Y=K.scrollWidth-K.offsetWidth-4-R;return!ee.showRight&&K.scrollLeft<Y?ee=x(w({},re),{showRight:!0}):ee.showRight&&K.scrollLeft>=Y&&(ee=x(w({},re),{showRight:!1})),ee})};return K.addEventListener("scroll",H),setTimeout(()=>{H()},1e3),()=>{K.removeEventListener("scroll",H)}}},[]),{state:V,handleArrowClick:K=>()=>{const{current:H}=M;H&&H.scrollBy({left:K*(H.offsetWidth-F),behavior:"smooth"})}}};function I({direction:M,isVisible:R=!0,onClick:F}){return(0,n.h)("div",{className:v()(g.Z.fade,R&&g.Z.visible,g.Z[M],P.Z.peopleYouMayKnowArrows)},(0,n.h)("div",{className:g.Z.bg}),(0,n.h)(d.zx,{look:"reset",className:g.Z.arrow,onClick:F},M==="right"?(0,n.h)(O.Z,null):(0,n.h)(y.Z,null)))}function A(M){var R=M,{className:F,scrollRef:Z}=R,V=D(R,["className","scrollRef"]);return(0,n.h)(E.hs,x(w({},V),{className:v()(g.Z.scrollBox,F),ref:Z,overflowX:"auto",scrollBar:"hidden",minWidth:0,onTouchStart:G=>{const{pageX:$}=G;$!==void 0&&($>10&&$<window.innerWidth-10||G.preventDefault())}}))}},55886:(j,l,e)=>{"use strict";e.d(l,{t:()=>T});var n=e(6400),c=e(84606),u=e(20501),v=e(31471),O=Object.defineProperty,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(p,i,s)=>i in p?O(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,P=(p,i)=>{for(var s in i||(i={}))E.call(i,s)&&g(p,s,i[s]);if(y)for(var s of y(i))d.call(i,s)&&g(p,s,i[s]);return p},S=(p,i)=>{var s={};for(var _ in p)E.call(p,_)&&i.indexOf(_)<0&&(s[_]=p[_]);if(p!=null&&y)for(var _ of y(p))i.indexOf(_)<0&&d.call(p,_)&&(s[_]=p[_]);return s};function T(p){var i=p,{className:s,src:_,noStyle:w=!1,loading:x,onError:D}=i,N=S(i,["className","src","noStyle","loading","onError"]);let I,A;return"size"in N?(I=N.size,A=N.size):(I=N.width,A=N.height),(0,n.h)(v.e,{src:_,maxWidth:I*2,className:s,imageProps:{height:A*2,crop:"fill",gravity:"auto"},style:w?void 0:{width:I,height:A},loading:x,onError:D})}function C(p){var i=p,{className:s,src:_,noStyle:w=!1,loading:x,onError:D}=i,N=S(i,["className","src","noStyle","loading","onError"]);let I,A;return"size"in N?(I=N.size,A=N.size):(I=N.width,A=N.height),h(Box,P({as:"img",src:imginary(_)},N))}},15822:(j,l,e)=>{"use strict";e.d(l,{S:()=>C});var n=e(6400),c=e(94184),u=e.n(c),v=e(51126);const O={container:"frontend-reader2-DrunkSpinner-module__container--w5XSA",drunkSpinner:"frontend-reader2-DrunkSpinner-module__drunkSpinner--vYrDM",drunkSpin:"frontend-reader2-DrunkSpinner-module__drunkSpin--Kspcg"};var y=Object.defineProperty,E=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(p,i,s)=>i in p?y(p,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[i]=s,S=(p,i)=>{for(var s in i||(i={}))d.call(i,s)&&P(p,s,i[s]);if(E)for(var s of E(i))g.call(i,s)&&P(p,s,i[s]);return p},T=(p,i)=>{var s={};for(var _ in p)d.call(p,_)&&i.indexOf(_)<0&&(s[_]=p[_]);if(p!=null&&E)for(var _ of E(p))i.indexOf(_)<0&&g.call(p,_)&&(s[_]=p[_]);return s};function C(p){var i=p,{className:s}=i,_=T(i,["className"]);return(0,n.h)(v.hs,S({justifyContent:"center",alignItems:"center",className:u()(O.container,s)},_),(0,n.h)("div",{className:O.drunkSpinner}))}},54520:(j,l,e)=>{"use strict";e.d(l,{SV:()=>P});var n=e(6400),c=e(30396),u=e(20042),v=e(31471),O=e(8479),y=e(11533),E=e(51126),d=e(43887);function g(){const{result:T}=(0,O.Wf)(()=>Promise.all([e.e(2301),e.e(1486)]).then(e.bind(e,71486)).then(C=>C.Sentry),[],{auto:!0});return(0,c.cO)(C=>{console.error(C),T&&T.captureException(C)})}function P({children:T}){const[C,p]=g(),i=(0,c.sO)((0,u.getCurrentUrl)());return(0,y.js)(s=>{C&&i.current!==s&&p(),i.current=s},[]),C?(0,n.h)(S,null):T}function S(){return(0,n.h)(E.tu,{flex:"grow",justifyContent:"center",alignItems:"center",gap:32,padding:20},(0,n.h)(v.e,{src:"/img/reader/toad.png",maxWidth:200}),(0,n.h)(E.tu,{gap:8},(0,n.h)(d.xv.H3,{weight:"semibold",align:"center"},"Oh no\u2014this page croaked."),(0,n.h)(d.xv.B3,{color:"secondary",align:"center"},"Try again, or hop to another page.")))}},11688:(j,l,e)=>{"use strict";e.d(l,{Oe:()=>i,cr:()=>p});var n=e(6400),c=e(8479),u=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(D,N,I)=>N in D?u(D,N,{enumerable:!0,configurable:!0,writable:!0,value:I}):D[N]=I,P=(D,N)=>{for(var I in N||(N={}))E.call(N,I)&&g(D,I,N[I]);if(y)for(var I of y(N))d.call(N,I)&&g(D,I,N[I]);return D},S=(D,N)=>v(D,O(N)),T=(D,N)=>{var I={};for(var A in D)E.call(D,A)&&N.indexOf(A)<0&&(I[A]=D[A]);if(D!=null&&y)for(var A of y(D))N.indexOf(A)<0&&d.call(D,A)&&(I[A]=D[A]);return I},C=(D,N,I)=>new Promise((A,M)=>{var R=V=>{try{Z(I.next(V))}catch(G){M(G)}},F=V=>{try{Z(I.throw(V))}catch(G){M(G)}},Z=V=>V.done?A(V.value):Promise.resolve(V.value).then(R,F);Z((I=I.apply(D,N)).next())});function p(D){return(0,n.h)(s,S(P({},D),{key:D.module}))}function i({module:D,onRequest:N,fetchImmediately:I=!0}){const A=w.has(D),M=(0,c.Wf)(()=>x(D,N),[],{auto:I&&!A,initialResult:A?w.get(D):null});return M.error&&console.error(M.error),{error:M.error,isLoading:M.isLoading,result:M.result,fetch:M.refetch}}function s(D){var N=D,{onRequest:I,resolve:A,module:M,whileLoading:R}=N,F=T(N,["onRequest","resolve","module","whileLoading"]);const{error:Z,isLoading:V,result:G}=i({module:M,onRequest:I});return(0,n.h)(n.Fragment,null,Z?"Error":V||!G?R!=null?R:null:(0,n.h)(A(G),F))}function _(D){return h(p,S(P({},D),{resolve:N=>N.default}))}const w=new Map;function x(D,N){return C(this,null,function*(){let I=w.get(D);return I||(I=yield N(),w.set(D,I)),I})}},18130:(j,l,e)=>{"use strict";e.d(l,{c:()=>_,r:()=>s});var n=e(6400),c=e(98661),u=e(20042),v=e(92298),O=e(29811),y=Object.defineProperty,E=Object.defineProperties,d=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,T=(w,x,D)=>x in w?y(w,x,{enumerable:!0,configurable:!0,writable:!0,value:D}):w[x]=D,C=(w,x)=>{for(var D in x||(x={}))P.call(x,D)&&T(w,D,x[D]);if(g)for(var D of g(x))S.call(x,D)&&T(w,D,x[D]);return w},p=(w,x)=>E(w,d(x)),i=(w,x)=>{var D={};for(var N in w)P.call(w,N)&&x.indexOf(N)<0&&(D[N]=w[N]);if(w!=null&&g)for(var N of g(w))x.indexOf(N)<0&&S.call(w,N)&&(D[N]=w[N]);return D};const s=(0,c.forwardRef)((w,x)=>{var D=w,{href:N,onClick:I,campaign:A,replace:M,state:R,showBack:F}=D,Z=i(D,["href","onClick","campaign","replace","state","showBack"]);R=F?p(C({},R),{showBack:!0}):R;const V=_({href:N,onClick:I,campaign:A,replace:M,state:R});return(0,n.h)(O.xu,C(p(C({as:"a"},Z),{ref:x}),V))});function _({onClick:w,href:x,campaign:D,replace:N,state:I}){if(x){let M;try{M=new URL(x)}catch(R){try{M=new URL(`${document.location.origin}${x}`)}catch(F){}}if(M){if(M.origin===document.location.origin&&!D){const R=new URLSearchParams,F={};for(const[Z,V]of M.searchParams)Z.startsWith("utm_")?Z==="utm_campaign"?F.name=V:F[Z.replace(/^utm_/,"")]=V:R.append(Z,V);D=F,x=`${M.pathname}${R}`}else if(M.origin!==document.location.origin&&D){for(const[R,F]of Object.entries(D)){const Z=R==="name"?"campaign":R;M.searchParams.set(`utm_${Z}`,F)}x=M.toString()}}}return{href:x,onClick:M=>{w==null||w(M),!M.defaultPrevented&&!M.ctrlKey&&!M.shiftKey&&!M.metaKey&&x&&((0,v.j)(C({},D)),M.preventDefault(),M.stopPropagation(),(0,u.route)(x,N),I&&history.replaceState(I,""))}}}},42332:(j,l,e)=>{"use strict";e.d(l,{aw:()=>R,u:()=>F});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(74285),y=e(21958),E=e(5131),d=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,p=(Z,V,G)=>V in Z?d(Z,V,{enumerable:!0,configurable:!0,writable:!0,value:G}):Z[V]=G,i=(Z,V)=>{for(var G in V||(V={}))T.call(V,G)&&p(Z,G,V[G]);if(S)for(var G of S(V))C.call(V,G)&&p(Z,G,V[G]);return Z},s=(Z,V)=>g(Z,P(V)),_=(Z,V)=>{var G={};for(var $ in Z)T.call(Z,$)&&V.indexOf($)<0&&(G[$]=Z[$]);if(Z!=null&&S)for(var $ of S(Z))V.indexOf($)<0&&C.call(Z,$)&&(G[$]=Z[$]);return G};function w({hideOnScroll:Z}={}){const[V,G]=useState(!1),$=useRef();return useEffect(()=>{if(V){const K=()=>{G(!1)},H=re=>{re.key==="Escape"&&G(!1)};return window.addEventListener("click",K),window.addEventListener("keydown",H),Z&&window.addEventListener("scroll",K,{capture:!0,passive:!0}),()=>{window.removeEventListener("click",K),window.removeEventListener("keydown",H),window.removeEventListener("scroll",K,{capture:!0})}}},[V]),{ref:$,isOn:V,setIsOn:G,toggle:()=>{G(!V)}}}const x={anchorY:"bottom",anchorX:"left",tetherY:"top",tetherX:"left"};function D({tetherRef:Z,fixTo:V=x,isFixed:G,offset:$={x:0,y:0},children:K,className:H}){const re=(0,c.sO)();return(0,c.bt)(()=>{const ee=Z.current,Y=re.current;if(!ee||!Y)return;const J=ee.getBoundingClientRect(),te=Y.getBoundingClientRect(),ie=i(i({},x),V);let se=ie.anchorY==="center"?J.top+J.height/2:J[ie.anchorY];ie.tetherY==="bottom"&&(se=window.innerHeight-se),ie.tetherY==="center"&&(se-=te.height/2);const W=ie.tetherY==="bottom"?"bottom":"top";let z=ie.anchorX==="center"?J.left+J.width/2:J[ie.anchorX];ie.tetherX==="right"&&(z=window.innerWidth-z),ie.tetherX==="center"&&(z-=te.width/2);const Q=ie.tetherX==="right"?"right":"left";W==="top"&&se+te.height>window.innerHeight?(se=J.top-te.height,$.y&&(se-=$.y)):$.y&&(se+=$.y),$.x&&(z+=$.x),G||(se+=window.scrollY,z+=window.scrollX),Object.assign(Y.style,{minWidth:`${J.width}px`,[W]:`${se}px`,[Q]:`${z}px`})},[]),(0,n.h)(O.h,null,(0,n.h)("div",{className:v()("dropdown3",H),ref:re,style:{position:G?"fixed":"absolute"}},K))}const N=(0,y.L)("reader2-menu reader2-font-base");function I(Z){var V=Z,{priority:G}=V,$=_(V,["priority"]);const K=classnames("reader2-menu-item","reader2-text-button",G,$.className);return $.href?h("a",s(i({},$),{className:K})):h("div",s(i({},$),{className:K}))}function A({options:Z,value:V,onChange:G,fixedHeight:$=!1}){var K;const H=w({hideOnScroll:!0});return h(Button,{variant:"tertiary",onClick:H.toggle,forwardedRef:H.ref,fixedHeight:$},(K=Z.find(re=>re.value===V))==null?void 0:K.label,h(ChevronDown,{size:16}),H.isOn&&h(D,{tetherRef:H.ref,fixTo:{anchorX:"right",tetherX:"right"}},h(N,null,Z.map(re=>h(I,{key:re.value,onClick:()=>G(re.value),className:classnames("reader2-split-menu-item selectable",V===re.value&&"isSelected")},re.label,V===re.value&&h(Check,{className:"feather-icon"}))))))}function M(Z){var V=Z,{defaultValue:G,onChange:$}=V,K=_(V,["defaultValue","onChange"]);const[H,re]=useState(G);return h(A,s(i({},K),{value:H,onChange:ee=>{re(ee),$(ee)}}))}function R({onHover:Z}={}){const[V,G]=(0,c.eJ)(!1),$=(0,c.sO)(),K=(0,c.sO)(),H=(0,c.sO)(),re=Y=>{Y.pointerType==="mouse"&&(clearTimeout(H.current),G(!0),Z&&Z())},ee=Y=>{Y.pointerType==="mouse"&&(H.current=setTimeout(()=>{G(!1)},200))};return(0,c.d4)(()=>{const Y=$.current;if(Y)return Y.addEventListener("pointerenter",re),Y.addEventListener("pointerleave",ee),()=>{Y.removeEventListener("pointerenter",re),Y.removeEventListener("pointerleave",ee)}},[]),(0,c.d4)(()=>{const Y=K.current,J=$.current;if(V&&J){const te=()=>{G(!1)};return window.addEventListener("scroll",te,{capture:!0,passive:!0}),Y&&(Y.addEventListener("pointerenter",re),Y.addEventListener("pointerleave",ee)),()=>{window.removeEventListener("scroll",te,{capture:!0}),Y&&(Y.removeEventListener("pointerenter",re),Y.removeEventListener("pointerleave",ee))}}},[V]),{ref:$,tooltipRef:K,isHovering:V}}function F({tetherRef:Z,children:V}){return(0,n.h)(D,{tetherRef:Z,fixTo:{anchorX:"center",tetherX:"center",anchorY:"top",tetherY:"bottom"},offset:{y:12}},(0,n.h)("div",{className:"reader2-tooltip reader2-font-base reader2-text-button"},V,(0,n.h)("div",{className:"reader2-tooltip-arrow"},(0,n.h)("svg",{viewBox:"0 0 10 10",preserveAspectRatio:"none"},(0,n.h)("path",{d:"M 0,0 L 10,0 L 6,9 Q 5,11 4,9 Z"})))))}},34518:(j,l,e)=>{"use strict";e.d(l,{Yy:()=>S});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(26059),y=e(74285),E=e(39419),d=e.n(E),g=e(5131),P=e(19696);function S({children:i,className:s,onClose:_,hasClosePill:w,isPopup:x,noExit:D,noExitOnClick:N,noFullscreen:I,noCloseButton:A,testID:M}){const R=(0,c.sO)(),F=Z=>{!D&&!N&&x&&(I||window.innerWidth>540)&&(Z.stopPropagation(),Z.preventDefault(),_())};return(0,n.h)(y.h,null,(0,n.h)("div",{className:v()("modal simple-modal wide typography","in",s,{"has-close-pill":w,popup:x}),"data-testid":M,role:"dialog"},(0,n.h)("div",{className:"modal-table"},(0,n.h)("div",{className:"modal-row"},(0,n.h)("div",{className:v()("modal-cell modal-content reader2-modal",{"no-fullscreen":I})},(0,n.h)("div",{className:"modal-clickspace",onClick:F}),(0,n.h)("div",{className:"container",ref:R},!D&&(!A||(0,E.isMobileBrowser)())&&(0,n.h)(g.zx,{className:v()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":w}),onClick:()=>_()},(0,n.h)(O.Z,null)),i))))))}function T({children:i,onCancel:s}){return h(S,{className:"rss-feed-modal remove-rss-feed",isPopup:!0,onClose:s},h(C,null,i))}const C=(0,P.L)("simple-modal-pad reader2-confirm-modal"),p=(0,P.L)("buttons")},10174:(j,l,e)=>{"use strict";e.d(l,{Au:()=>W,i3:()=>z,oC:()=>oe,sA:()=>J});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(13639),y=e(82622),E=e(20501),d=e(95847),g=e(67963),P=e(83097),S=e(62952),T=e(8479),C=e(84040),p=e(51126),i=e(62246),s=e(43887),_=e(34593),w=e(91870),x=e(11688),D=e(50292),N=e(44396),I=e(70762),A=e(7980),M=Object.defineProperty,R=Object.defineProperties,F=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,$=(le,ue,fe)=>ue in le?M(le,ue,{enumerable:!0,configurable:!0,writable:!0,value:fe}):le[ue]=fe,K=(le,ue)=>{for(var fe in ue||(ue={}))V.call(ue,fe)&&$(le,fe,ue[fe]);if(Z)for(var fe of Z(ue))G.call(ue,fe)&&$(le,fe,ue[fe]);return le},H=(le,ue)=>R(le,F(ue)),re=(le,ue)=>{var fe={};for(var he in le)V.call(le,he)&&ue.indexOf(he)<0&&(fe[he]=le[he]);if(le!=null&&Z)for(var he of Z(le))ue.indexOf(he)<0&&G.call(le,he)&&(fe[he]=le[he]);return fe},ee=(le,ue,fe)=>new Promise((he,be)=>{var ve=Se=>{try{we(fe.next(Se))}catch(We){be(We)}},Te=Se=>{try{we(fe.throw(Se))}catch(We){be(We)}},we=Se=>Se.done?he(Se.value):Promise.resolve(Se.value).then(ve,Te);we((fe=fe.apply(le,ue)).next())});function Y(le){var ue=le,{isOpen:fe}=ue,he=re(ue,["isOpen"]);return(0,n.h)(i.u_,{className:A.Z.composerModal,isOpen:fe,onClose:he.onClose,fullscreenMobile:!0},(0,n.h)(x.cr,H(K({},he),{module:"../feed/NoteComposer",resolve:be=>be.NoteComposer,onRequest:()=>Promise.all([e.e(6311),e.e(4321),e.e(8600),e.e(982),e.e(4563),e.e(2298)]).then(e.bind(e,95994)),whileLoading:(0,n.h)("div",{style:{height:410}})})))}function J({disabled:le,parentPubId:ue,parentPostId:fe,parentCommentId:he,placeholder:be,tabId:ve}){const Te=z(),we=(0,g.aF)(),Se=(0,N.XA)(),{requireLogin:We}=(0,D.SJ)(),Ae=()=>{le||(we?Te.open({parentPubId:ue,parentPostId:fe,parentCommentId:he,tabId:ve}):We==null||We())},Be=(0,S.h)({onAddFiles:de=>{Te.open({parentPubId:ue,parentPostId:fe,parentCommentId:he,initialFiles:de,tabId:ve})}});return(0,n.h)(p.tu,K({},Be.props),(0,n.h)(p.gq,{gap:12,alignItems:"center",className:v()(A.Z.inlineComposer,{[A.Z.disabled]:le})},we?(0,n.h)(p.hs,{as:"a",flex:"auto",href:(0,E.getReaderProfileUrl)(we,{noBase:!0})},(0,n.h)(_.qE,{size:Se?36:40,user:we})):(0,n.h)(p.hs,{flex:"auto"},(0,n.h)(_.qE,{size:Se?36:40})),(0,n.h)(C.kG,{className:v()(A.Z.inlineComposerButton,{[A.Z.mobile]:Se,[A.Z.disabled]:le,[A.Z.isDropping]:Be.isDragging}),onClick:Ae,disabled:le,resetCss:!0},(0,n.h)(s.xv.B3,{size:Se?14:16,align:"left",color:"secondary"},be||"What's on your mind?")),!Se&&(0,n.h)(C.zx,{disabled:!0,rounded:!0},"Post")))}function te(){const le=z(),ue=useUser(),fe=()=>{le.open({})};return ue?h(IconButton,{className:css.floatingComposer,priority:"primary",fill:"filled",size:56,onClick:fe,shadow:"medium"},h(Plus,{size:24})):null}const ie={isOpen:!1,firstComment:void 0},se=(0,n.createContext)({state:ie,open:()=>ee(void 0,null,function*(){throw new Error("Not implemented")})});function W({children:le}){var ue,fe,he;const be=(0,g.aF)(),ve=!(be!=null&&be.name),Te=(0,w.I0)(),[we,Se]=(0,c.eJ)(ie),{feedItem:We}=we,Ae=oe(We),Be=(We==null?void 0:We.type)==="comment"?(fe=(ue=We.parentComments)==null?void 0:ue[0])!=null?fe:We.comment:null;(0,c.d4)(()=>{be&&Promise.all([e.e(6311),e.e(4321),e.e(8600),e.e(982),e.e(4563),e.e(2298)]).then(e.bind(e,95994))},[be]);const de=(0,c.Ye)(()=>({state:we,open:Oe=>new Promise((Le,ze)=>{Se(H(K(K({},ie),Oe),{isOpen:!0,resolve:Le,reject:ze}))})}),[we]),ce=()=>{var Oe,Le;(Le=(Oe=document.activeElement)==null?void 0:Oe.blur)==null||Le.call(Oe),Se(H(K({},we),{isOpen:!1}))},_e=!1;return(0,n.h)(se.Provider,{value:de},le,ve?(0,n.h)(Q,{isOpen:we.isOpen,onClose:ce,onSuccess:()=>Se(H(K({},we),{isOpen:!0}))}):_e?(0,n.h)(i.u_,{isOpen:we.isOpen,onClose:ce,width:316},(0,n.h)(ae,{onClose:ce})):Ae?(0,n.h)(i.u_,{isOpen:we.isOpen,onClose:ce,width:316},(0,n.h)(ne,{onClose:ce,requirement:Ae,writerId:(he=Be==null?void 0:Be.user_id)!=null?he:0})):(0,n.h)(Y,H(K({},we),{isOpen:we.isOpen,onClose:ce,onSuccess:Oe=>{var Le,ze;Oe.isFirstFeedCommentByUser?Se(H(K({},we),{firstComment:Oe})):ce(),Te({type:we.editComment?"edit_comment":"new_comment",payload:{comment:Oe}}),(Le=we.onCompose)==null||Le.call(we,Oe),(ze=we.resolve)==null||ze.call(we,Oe)},onError:we.reject})),(0,n.h)(i.u_,{isOpen:we.isOpen&&!!we.firstComment},we.firstComment&&(0,n.h)(P.q,{onClose:ce,comment:we.firstComment})))}function z(){return(0,c.qp)(se)}function Q({isOpen:le,onClose:ue,onSuccess:fe}){const he=(0,g.SE)();return(0,n.h)(i.u_,{isOpen:le,onClose:ue,fullscreenMobile:!0},(0,n.h)(i.xB,{title:"First, set up your profile",description:"Introduce yourself by adding a name, bio, and photo to your profile.",includeClose:!0,onClose:ue}),(0,n.h)(d._0,{className:A.Z.setupProfileModalContent,pageTitle:"",user:he.user,optionalPhoto:!0,noSubscribeCta:!0,complete:!0,onSuccess:be=>{he.setUser(be.body),fe()}}))}function oe(le){var ue,fe;const he=(0,g.aF)(),be=le==null?void 0:le.post,ve=(le==null?void 0:le.type)=="comment"?(fe=(ue=le.parentComments)==null?void 0:ue[0])!=null?fe:le.comment:null,{user_id:Te}=ve!=null?ve:{};let{reply_minimum_role:we}=ve!=null?ve:{};const Se=(0,I.K)(Te!=null?Te:0);if(we==null&&(be==null?void 0:be.write_comment_permissions)==="only_paid"&&(we="paid_subscriber"),!Te||!we||le!=null&&le.canReply||ve&&he&&(0,y._N)(ve,he.id))return null;if(we){if(we==="free_subscriber"&&(!Se||!["free_subscription","subscribed"].includes(Se)))return"free_subscriber";if(we==="paid_subscriber"&&Se!=="subscribed")return"paid_subscriber"}return null}function ne({requirement:le,writerId:ue,onClose:fe}){var he;const be=(0,g.aF)(),{error:ve,result:Te}=(0,T.ib)({pathname:`/api/v1/user/${ue}/primary-publication`,deps:[ue],auto:!0});return(0,n.h)(p.tu,{padding:16},(0,n.h)(p.hs,{justifyContent:"center",paddingTop:16,paddingBottom:20},(0,n.h)(O.Z,{size:32,color:"var(--color-primary)"})),(0,n.h)(p.tu,{gap:20},(0,n.h)(p.tu,{gap:8,alignItems:"center"},(0,n.h)(s.xv.H3,{align:"center"},le==="free_subscriber"?"Subscribers only":"Paid subscribers only"),Te&&(0,n.h)(s.xv.B3,{color:"secondary",align:"center"},"To join the conversation,"," ",le==="free_subscriber"?"subscribe":"become a paying subscriber"," ","to ",(he=Te.name)!=null?he:"this publication",".")),(0,n.h)(p.tu,{gap:8},Te&&(0,n.h)(C.zx,{priority:"primary",rounded:!0,href:(0,E.getSubscribeUrl)(Te,{user:be,addBase:!0,params:{utm_source:"feed-comment-reply-restriction"}})},"Subscribe"),(0,n.h)(C.zx,{priority:"secondary",rounded:!0,onClick:fe},"Cancel"))))}function ae({onClose:le}){return(0,n.h)(p.tu,{padding:16},(0,n.h)(p.tu,{gap:20},(0,n.h)(p.tu,{gap:8,alignItems:"center"},(0,n.h)(s.xv.H3,{align:"center"},"Confirm your email address"),(0,n.h)(s.xv.B3,{color:"secondary",align:"center"},"Please confirm your email address before posting a note.")),(0,n.h)(p.tu,{gap:8},(0,n.h)(C.zx,{priority:"primary",rounded:!0,onClick:le},"Ok"),(0,n.h)(C.zx,{priority:"secondary",rounded:!0,href:"/settings"},"Resend confirmation email"))))}},39936:(j,l,e)=>{"use strict";e.d(l,{EU:()=>ct,Hj:()=>ye,II:()=>he,Sv:()=>I.S,Uj:()=>te,Vm:()=>W,Xq:()=>Ce,_Y:()=>se,eK:()=>w.eK,mE:()=>Oe,mb:()=>we,pe:()=>Be,t5:()=>A.t,y:()=>ze,zr:()=>dt});var n=e(6400),c=e(98661),u=e(30396),v=e(94184),O=e.n(v),y=e(1852),E=e.n(y),d=e(84606),g=e(20501),P=e(16527),S=e(39419),T=e.n(S),C=e(84040),p=e(51126),i=e(43887),s=e(44396),_=e(5131),w=e(85584),x=e(19696),D=e(54520),N=e(59020),I=e(15822),A=e(55886),M=Object.defineProperty,R=Object.defineProperties,F=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,$=(it,tt,vt)=>tt in it?M(it,tt,{enumerable:!0,configurable:!0,writable:!0,value:vt}):it[tt]=vt,K=(it,tt)=>{for(var vt in tt||(tt={}))V.call(tt,vt)&&$(it,vt,tt[vt]);if(Z)for(var vt of Z(tt))G.call(tt,vt)&&$(it,vt,tt[vt]);return it},H=(it,tt)=>R(it,F(tt)),re=(it,tt)=>{var vt={};for(var et in it)V.call(it,et)&&tt.indexOf(et)<0&&(vt[et]=it[et]);if(it!=null&&Z)for(var et of Z(it))tt.indexOf(et)<0&&G.call(it,et)&&(vt[et]=it[et]);return vt};function ee({children:it}){const tt=useMobile();return h(de,null,tt?h(Text.H2,null,it):h(Text.H1,null,it))}function Y({className:it,children:tt,title:vt,hasTitle:et}){return h("div",{className:classnames("reader2-page-section",(vt||et)&&"withTitle",it)},vt&&h(J,null,vt),tt)}function J({children:it,className:tt,actions:vt}){return h("div",{className:classnames("reader2-section-title",tt)},h("span",{className:"reader2-text-h3 reader2-section-title"},it),vt&&h("div",{className:"reader2-header-actions"},vt))}const te=(0,c.forwardRef)((it,tt)=>{var vt=it,{isPadded:et=!0,className:Xe,linkClassName:Ne}=vt,ft=re(vt,["isPadded","className","linkClassName"]);return(0,n.h)("div",{ref:tt,className:O()(N.Z.linkRow,et&&N.Z.isPadded,Xe)},(0,n.h)(ie,H(K({},ft),{className:Ne})))});function ie(it){var tt=it,{children:vt,className:et,href:Xe,newTab:Ne,onClick:ft,noAnchor:At,native:Ht,utmCampaign:rn,utmSource:en,isSelected:pn}=tt,_n=re(tt,["children","className","href","newTab","onClick","noAnchor","native","utmCampaign","utmSource","isSelected"]);const Tn=typeof location!="undefined"?location.pathname:"",dn=!At&&Xe!=null?"a":"div",fn=Xe&&(0,g.pathWithQuery)(Xe,{utm_source:en||Tn,utm_medium:"reader2",utm_campaign:rn}),xn=Dn=>{ft&&ft(Dn),!Dn.defaultPrevented&&At&&fn&&(0,P.Q)(Dn,fn,{native:Ht,newTab:Ne})};return(0,n.h)(p.hs,K({as:dn,className:O()(N.Z.linkRowA,et,(fn||ft)&&pn==null&&N.Z.isClickable,pn&&N.Z.isSelected,pn!=null&&N.Z.isSelectable),"data-selected":pn,href:fn,target:Ne?"_blank":void 0,onClick:xn},_n),vt)}function se({icon:it,title:tt,text:vt,action:et,className:Xe}){return(0,n.h)(p.tu,{gap:16,alignItems:"center",justifyContent:"center",flex:"grow",className:O()(N.Z.zero,Xe)},it,(0,n.h)(p.tu,{gap:4},(0,n.h)(i.xv.B4,{weight:"medium",color:"secondary"},tt),(0,n.h)(i.xv.B4,{color:"secondary"},vt)),et)}function W(it){var tt=it,{className:vt,style:et,type:Xe,width:Ne,height:ft,size:At,maxWidth:Ht,elevated:rn,radius:en=6}=tt,pn=re(tt,["className","style","type","width","height","size","maxWidth","elevated","radius"]);At!=null&&(Ne=At,ft=At);const _n=Xe==="bar";return(0,n.h)(d.xu,H(K({},pn),{className:O()(N.Z.placeholder,vt,rn&&N.Z.elevated,_n&&N.Z.bar,Xe==="circle"&&N.Z.circle),radius:en,style:H(K({},et),{width:Ne,height:ft,maxWidth:Ht})}))}function z(it){var tt=it,{className:vt,variant:et,size:Xe,serif:Ne,isConstrained:ft,maxLines:At=3}=tt,Ht=re(tt,["className","variant","size","serif","isConstrained","maxLines"]);return h("div",K({className:classnames("reader2-paragraph",et&&`reader2-${et}`,Xe&&`reader2-font-${Xe}`,Ne&&"reader2-font-serif",ft&&`reader2-clamp-lines reader2-${At}-lines`,vt)},Ht))}function Q({className:it,children:tt}){return h("div",{className:classnames("reader-nav-center",it)},h("div",{className:"reader2-page reader2-font-base"},tt))}function oe({className:it,scrollRef:tt,children:vt}){return h(fe,{ref:tt},h(Q,{className:it},vt))}function ne(it){var tt=it,{scrollRef:vt}=tt,et=re(tt,["scrollRef"]);return h(fe,{ref:vt},h(FlexBox,H(K({},et),{flex:"grow",paddingX:{mobile:0,desktop:20},minWidth:0})))}function ae(it){return useMediaQuery({minWidth:1100})?h(FlexColumn,K({className:"reader2-inbox-sidebar",paddingTop:20},it)):null}function le(it){return h(FlexBox,K({alignItems:"center",justifyContent:"space-between",paddingX:8},it))}function ue(it){return h(FlexColumn,K({gap:8},it))}const fe=(0,c.forwardRef)((it,tt)=>(0,n.h)(D.SV,null,(0,n.h)("div",K({id:"reader-nav-page-scroll",className:"reader-nav-page-scroll",ref:tt},it)))),he=(0,c.forwardRef)((it,tt)=>{var vt=it,{className:et,hasError:Xe}=vt,Ne=re(vt,["className","hasError"]);return(0,n.h)("input",H(K({className:O()(N.Z.input,Xe&&N.Z.error,et)},Ne),{ref:tt}))});function be(it){var tt=it,{className:vt,hasError:et,textareaRef:Xe}=tt,Ne=re(tt,["className","hasError","textareaRef"]);return h("textarea",K({ref:Xe,className:classnames(css.input,css.textarea,et&&css.error,vt)},Ne))}function ve({error:it}){return h(Ce,null,getNetworkErrorMessage(it))}const Te=({header:it,icon:tt,title:vt,text:et,action:Xe})=>h(Y,{title:it},h(we,{icon:tt,title:vt,text:et,action:Xe}));function we(it){return(0,n.h)(p.tu,{bg:"secondary",border:"detail",radius:12,paddingX:20,paddingY:64,justifyContent:"center",alignItems:"center",flex:"grow"},(0,n.h)(se,K({},it)))}function Se({tabs:it,value:tt,onChange:vt,noBorder:et=!1}){const Xe=useRef(),Ne=useMobile(),{state:ft,handleArrowClick:At}=useScrollArrows(Xe);return h(FlexColumn,{gap:6,paddingBottom:{mobile:16,desktop:20},paddingTop:{mobile:16,desktop:20},paddingRight:0,className:classnames(css.tabContainer,!et&&css.tabContainerBorder)},h(FlexRow,{className:"reader2-tab-bar-parent"},!Ne&&h("div",{className:classnames("reader2-carousel-fade left",ft.showLeft&&"visible")},h("div",{className:"bg"}),h(IconButton,{size:36,fill:"empty",className:"reader2-carousel-arrow left",onClick:At(-1)},h(ChevronLeft,{size:20}))),h(FlexRow,{paddingLeft:{mobile:16,desktop:20},className:"reader2-tab-bar",ref:Xe},h(We,{tabs:it,value:tt,onChange:vt})),!Ne&&h("div",{className:classnames("reader2-carousel-fade right",ft.showRight&&"visible")},h("div",{className:"bg"}),h(IconButton,{size:36,fill:"empty",className:"reader2-carousel-arrow right",onClick:At(1)},h(ChevronRight,{size:20})))))}function We({tabs:it,value:tt,onChange:vt}){return h(FlexRow,{gap:8},it.map(et=>h(PillButton,{key:et.value,isActive:tt===et.value,onClick:()=>vt(et.value),icon:et.icon},et.label)))}function Ae({children:it}){const tt=useRef();return h(FlexColumn,{className:"reader2-inbox-sidebar-fixed",ref:tt},it)}function Be(it){var tt=it,{gap:vt=16}=tt,et=re(tt,["gap"]);return(0,n.h)(p.tu,H(K({},et),{className:O()(N.Z.pageStack,N.Z[`gap_${vt}`])}))}const de=(0,x.L)("reader2-page-top"),ce=(0,x.L)(N.Z.pageTopFixed),_e=(0,x.L)("reader2-page-body"),Oe=(0,x.L)(N.Z.pageStack),Le=(0,x.L)("reader2-page-center"),ze=(0,x.L)("reader2-modal-title-text"),Je=(0,x.L)("reader2-column"),Pt=(0,x.L)("reader2-text-h3"),Ve=(0,x.L)("reader2-text-h3 reader2-section-title"),pt=(0,x.L)("reader2-text-h4"),$e=(0,x.L)("reader2-item-title"),Ie=(0,x.L)("reader2-item-meta"),ye=(0,x.L)("reader2-text-b4"),Ce=(0,x.L)("reader2-form-error"),xe=(0,x.L)("reader2-subtitle"),je=(0,x.L)("reader2-separator","hr"),He=(0,x.L)("reader2-page-section withTitle"),Ge=(0,x.L)("reader2-row reader2-split-row"),Qe=(0,x.L)("reader2-emphasis-box"),ct=(0,x.L)(O()(N.Z.hoverLink,"pencraft"),"a");function dt(it){return(0,n.h)(ct,K({target:"_blank"},it))}},17040:(j,l,e)=>{"use strict";e.d(l,{F:()=>g});var n=e(6400),c=e(94184),u=e.n(c),v=e(51126),O=e(6378),y=e(57173),E=e(55886),d=e(45390);function g({pub:P,logoUrl:S,publicationName:T,size:C=196,title:p,className:i,imgClassName:s,badgeType:_,belowTheFold:w}){var x;return P&&!S&&(S=(0,O.getLogo)(P)),P&&!T&&(T=P.name||P.subdomain),(0,n.h)(v.hs,{className:i,position:"relative",title:p,style:{width:C,height:C}},S?(0,n.h)(E.t,{className:u()(d.Z.custom,s),src:S,size:C,alt:T,loading:w?"lazy":void 0}):(0,n.h)("span",{className:u()(d.Z.placeholder,s),style:{width:C,height:C,backgroundColor:P&&(((x=P==null?void 0:P.theme)==null?void 0:x.background_pop_color)||(P==null?void 0:P.theme_var_background_pop)||null),color:null}},T==null?void 0:T[0]),_&&(0,n.h)(y.A,{className:"reader2-pub-badge",type:_,accentColor:P&&P.theme_var_background_pop}))}},44695:(j,l,e)=>{"use strict";e.d(l,{GF:()=>Y,Sm:()=>V,Sz:()=>ee});var n=e(6400),c=e(94184),u=e.n(c),v=e(25380),O=e(15045),y=e(83322),E=e(67963),d=e(3258),g=e(8479),P=e(84040),S=e(80131),T=e(51126),C=e(26300),p=e(43887),i=e(33324),s=e(34593),_=e(39936),w=e(17040),x=e(15337),D=e(27797),N=Object.defineProperty,I=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,R=(J,te,ie)=>te in J?N(J,te,{enumerable:!0,configurable:!0,writable:!0,value:ie}):J[te]=ie,F=(J,te)=>{for(var ie in te||(te={}))A.call(te,ie)&&R(J,ie,te[ie]);if(I)for(var ie of I(te))M.call(te,ie)&&R(J,ie,te[ie]);return J},Z=(J,te)=>{var ie={};for(var se in J)A.call(J,se)&&te.indexOf(se)<0&&(ie[se]=J[se]);if(J!=null&&I)for(var se of I(J))te.indexOf(se)<0&&M.call(J,se)&&(ie[se]=J[se]);return ie};const V=J=>{var te=J,{publication_id:ie,inline:se,utmSource:W}=te,z=Z(te,["publication_id","inline","utmSource"]);const{result:Q,refetch:oe}=(0,g.ib)({pathname:`/api/v1/publication/public/${ie}`,auto:!1,deps:[ie]}),ne=(0,E.aF)();return(0,n.h)(C.z,F({className:u()(D.Z.publicationHoverCardTarget,se&&D.Z.inline),content:Q?(0,n.h)(G,{result:Q,utmSource:W}):(0,n.h)(re,null),onFetch:oe,layerClassName:D.Z.publicationHoverCard},z))};function G({result:J,utmSource:te}){const{pub:ie}=J,se=(0,E.aF)();(0,d.j)(d.FP.PUBLICATION_HOVER_CARD_SHOWN,{publication_id:ie.id});let W=ie.contributors,z=null;W&&W.length>3&&(z=`See all (${(0,y.numberToString)(W.length)})`,W=W.slice(0,3));const Q=`${ie.base_url}?utm_source=${te}`;return(0,n.h)(T.tu,{gap:16,padding:8},(0,n.h)(T.gq,null,(0,n.h)("a",{href:Q},(0,n.h)(w.F,{pub:J.pub,size:56}))),(0,n.h)(T.tu,{gap:6},(0,n.h)(ee,{title:J.pub.name,handle:void 0,blurb:J.pub.hero_text,url:J.pub.base_url}),ie.rankingDetail&&ie.rankingDetailFreeSubscriberCount&&(0,n.h)(p.xv,{font:"meta",color:"secondary",size:12,weight:"medium",lineHeight:20},ie.rankingDetailFreeSubscriberCount.toUpperCase())),(0,n.h)(T.tu,null,(0,n.h)($,{isContr:J.isContributor,isSubs:J.isSubscribed,pub:J.pub,user:se,dashboardUrl:J.pub.base_url,utmSource:te})),(0,n.h)(S.i,null),(0,n.h)(T.tu,null,(0,n.h)(K,{contributors:W,seeAllLabel:z,redirLink:J.pub.base_url,utmSource:te})))}function $({isContr:J,isSubs:te,pub:ie,user:se,dashboardUrl:W,utmSource:z}){const Q=(0,x.i)("profile");return(0,n.h)(T.tu,null,J?(0,n.h)(n.Fragment,null,(0,n.h)(P.zx,{priority:"secondary",fill:"outline",href:`${W}/publish`},"Dashboard")):te?(0,n.h)(P.zx,{priority:"secondary",fill:"outline",href:(0,O.getSubscribeUrl)(ie,{user:se,addBase:!0,utm_source:z||"pub_hover_card",utm_medium:"web",utm_campaign:"profile_page"}),leftIcon:(0,n.h)(v.Z,null)},"Subscribed"):(0,n.h)(P.zx,{priority:"primary",href:(0,O.getSubscribeUrl)(ie,{user:se,addBase:!0,utm_source:z|"pub_hover_card",utm_medium:"web",utm_campaign:"profile_page"}),onClick:Q(ie)},"Subscribe"))}function K({contributors:J,seeAllLabel:te,redirLink:ie,utmSource:se}){return(0,n.h)(T.tu,null,(0,n.h)(Y,{sectionTitle:"Written by",seeAllLabel:te,link:`${ie}/about?sort=people`}),(0,n.h)(T.tu,null,J.map(W=>(0,n.h)(H,{profile:W,utmSource:se}))))}function H({profile:J,utmSource:te}){return(0,n.h)("a",{href:(0,O.getProfileUrlById)(J.user_id,J.name,{searchParams:{utm_source:te}}),className:D.Z.hoverCardAvatar},(0,n.h)(s.qE,{user:J,size:32}),(0,n.h)(p.xv,{font:"text",weight:"semibold",size:14,lineHeight:20},J.name))}function re(){return(0,n.h)(T.tu,{padding:8,gap:8},(0,n.h)(_.Vm,{size:56,style:{borderRadius:4}}),(0,n.h)(_.Vm,{type:"bar",width:"100%",height:20}),(0,n.h)(_.Vm,{type:"bar",width:"20%",height:20}),(0,n.h)(_.Vm,{type:"bar",width:"60%",height:20}))}function ee({title:J,handle:te,blurb:ie,url:se,themed:W,bestsellerTier:z,userId:Q}){return(0,n.h)(n.Fragment,null,(0,n.h)("a",{style:{textDecoration:"none"},href:se},(0,n.h)(p.xv.H3,{color:W?"pub-primary-text":"primary",className:D.Z.hoverCardTitle},J,!!z&&!!Q&&(0,n.h)("span",{style:{whiteSpace:"nowrap",position:"relative",top:2,left:2}},"\xA0",(0,n.h)(i.UserBadge,{inline:!0,tier:z,userId:Q,tooltipOnHover:!0,size:"md"})))),te&&(0,n.h)(p.xv.Meta,null,`@${te}`),ie&&(0,n.h)(p.xv.B3,{color:W?"pub-secondary-text":"secondary",clamp:4},ie))}function Y({sectionTitle:J,seeAllLabel:te,link:ie}){return(0,n.h)(T.gq,{justifyContent:"space-between"},(0,n.h)(p.xv.Meta,{color:"secondary"},J),te&&(0,n.h)("a",{className:D.Z.hoverCardSeeAll,href:ie},(0,n.h)(p.xv.B4,{color:"accent-blue"},te)))}},47585:(j,l,e)=>{"use strict";e.d(l,{Eb:()=>P,in:()=>S,r8:()=>d});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(21958),y=e(42332);const E={unreadDot:"frontend-reader2-UnreadBadge-module__unreadDot--GSn8Q"};function d(T,C=(0,n.h)(g,null)){const[p,i]=(0,c.eJ)(T);return[p&&C,()=>{i(!1)}]}function g(){return(0,n.h)(P,null)}function P({className:T}){const{isHovering:C,ref:p}=(0,y.aw)();return(0,n.h)(n.Fragment,null,(0,n.h)(S,{className:v()(T,"reader2-unread-dot"),ref:p}),C&&(0,n.h)(y.u,{tetherRef:p},"New since your last visit"))}const S=(0,O.L)(E.unreadDot)},21288:(j,l,e)=>{"use strict";e.d(l,{KS:()=>y,qS:()=>O});var n=e(6400),c=e(30396);const u=(0,n.createContext)({registerVideo:()=>{},unregisterVideo:()=>{},updatePaywallState:()=>{}}),v=()=>(0,c.qp)(u),O=({children:E})=>{const[d,g]=(0,c.eJ)(0),P=(0,c.sO)([]),S=(0,c.sO)(new Map);(0,c.d4)(()=>{const i=new IntersectionObserver(s=>{s.forEach(_=>{const w=_.target;if(!_.isIntersecting){w.pause();return}S.current.get(w)||w.play()})},{threshold:1});return P.current.forEach(s=>{var _;(_=s.current)!=null&&_.player&&i.observe(s.current.player)}),()=>{P.current.forEach(s=>{var _;(_=s.current)!=null&&_.player&&i.unobserve(s.current.player)})}},[d]);const T=(0,c.I4)(i=>{i&&!P.current.includes(i)&&(P.current.push(i),g(s=>s+1))},[]),C=(0,c.I4)(i=>{P.current=P.current.filter(s=>s!==i),g(s=>s+1)},[]),p=(0,c.I4)(({videoPlayerRef:i,showPaywall:s})=>{var _;(_=i.current)!=null&&_.player&&S.current.set(i.current.player,s)},[]);return(0,n.h)(u.Provider,{value:{registerVideo:T,unregisterVideo:C,updatePaywallState:p}},E)},y=({disable:E,showPaywall:d,videoPlayerRef:g})=>{const{registerVideo:P,unregisterVideo:S,updatePaywallState:T}=v();(0,c.d4)(()=>{if(g.current&&!E)return P(g),()=>{S(g)}},[E,P,S,g]),(0,c.d4)(()=>{T({showPaywall:d,videoPlayerRef:g})},[d,T,g])}},16742:(j,l,e)=>{"use strict";e.d(l,{K:()=>re,y:()=>ee});var n=e(6400),c=e(30396),u=e(81108),v=e(74655),O=e(36250),y=e(70444),E=e(20501),d=e(31517),g=e(1706),P=e(28488),S=e(67963),T=e(8479),C=e(39419),p=e.n(C),i=e(84040),s=e(51126),_=e(25752),w=e(62246),x=e(43887),D=e(75425),N=e(91870),I=e(10174),A=Object.defineProperty,M=Object.defineProperties,R=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,G=(te,ie,se)=>ie in te?A(te,ie,{enumerable:!0,configurable:!0,writable:!0,value:se}):te[ie]=se,$=(te,ie)=>{for(var se in ie||(ie={}))Z.call(ie,se)&&G(te,se,ie[se]);if(F)for(var se of F(ie))V.call(ie,se)&&G(te,se,ie[se]);return te},K=(te,ie)=>M(te,R(ie)),H=(te,ie,se)=>new Promise((W,z)=>{var Q=ae=>{try{ne(se.next(ae))}catch(le){z(le)}},oe=ae=>{try{ne(se.throw(ae))}catch(le){z(le)}},ne=ae=>ae.done?W(ae.value):Promise.resolve(ae.value).then(Q,oe);ne((se=se.apply(te,ie)).next())});function re({pub:te,post:ie,comment:se,feedItem:W,onRestack:z,tabId:Q}){var oe,ne;const ae=(0,S.aF)(),le=(0,D.pm)(),ue=!!ae,fe=!!((oe=se||ie)!=null&&oe.restacked),he=((ne=se||ie)==null?void 0:ne.restacks)||0,be=(0,N.I0)(),ve=(0,I.i3)(),Te=(0,T.ib)({pathname:"/api/v1/restack/feed"}),{iString:we}=(0,P.M1)(),{nuxModal:Se,showRestackNux:We}=ee(se&&!se.post_id?"note":se?"comment":"post"),Ae=()=>H(this,null,function*(){const ce=yield Te.refetch({method:"POST",json:{postId:se?null:ie==null?void 0:ie.id,commentId:(se==null?void 0:se.id)||null,tabId:Q}});if(ce instanceof Error){alert((0,C.getNetworkErrorMessage)(ce));return}le.popToast(_e=>(0,n.h)(D.FN,K($({},_e),{text:ce.comment?we("Note restacked"):we("Post restacked"),Icon:d.Z,cta:we("View"),href:(0,y.getFeedUrl)()}))),ce.comment?be({type:"comment_restack",payload:{commentId:ce.comment.id,isRestacked:!0}}):be({type:"post_restack",payload:{postId:ce.post.id,isRestacked:!0}}),We(),z==null||z(!0)}),Be=()=>H(this,null,function*(){const ce=yield Te.refetch({method:"DELETE",json:{postId:se?null:ie==null?void 0:ie.id,commentId:(se==null?void 0:se.id)||null,tabId:Q}});if(ce instanceof Error){alert((0,C.getNetworkErrorMessage)(ce));return}le.popToast(_e=>(0,n.h)(D.FN,K($({},_e),{text:we("Restack undone"),Icon:u.Z}))),se?be({type:"comment_restack",payload:{commentId:se.id,isRestacked:!1}}):ie&&be({type:"post_restack",payload:{postId:ie.id,isRestacked:!1}}),z==null||z(!1)}),de=ce=>H(this,null,function*(){ce.preventDefault();try{yield ve.open({feedItem:W,restackUrl:se?(0,O.getCommentUrl)(ie,se,te):(0,E.getPostUrl)(te,ie),tabId:Q}),We()}catch(_e){}});return{canRestack:ue,isRestacked:fe,restacks:he,nuxModal:Se,menuItems:[fe?(0,n.h)(_.sN,{icon:(0,n.h)(u.Z,null),onClick:Be},we("Undo restack")):(0,n.h)(_.sN,{icon:(0,n.h)(d.Z,null),onClick:Ae},we("Restack")),(0,n.h)(_.sN,{icon:(0,n.h)(g.Z,null),onClick:de},we("Restack with a note"))]}}function ee(te){const ie=Y({entityType:te}),se=(0,T.ib)({pathname:"/api/v1/feed/has-restacked",auto:!1,cacheTtl:1/0}),W=()=>H(this,null,function*(){var z;const Q=(z=se.result)!=null?z:yield se.refetch();!(Q instanceof Error)&&(Q==null?void 0:Q.hasRestacked)===!1&&(ie.open(),se.setResult({hasRestacked:!0}))});return{nuxModal:ie.element,showRestackNux:W}}function Y({entityType:te}){const[ie,se]=(0,c.eJ)(!1),W=()=>{se(!1)};return{open:()=>{se(!0)},element:(0,n.h)(w.u_,{isOpen:ie,onClose:W},(0,n.h)(J,{onClose:W,entityType:te}))}}function J({onClose:te,entityType:ie}){const{iString:se}=(0,P.M1)();return(0,n.h)(s.tu,{paddingX:16},(0,n.h)(s.hs,{justifyContent:"center",paddingTop:32,paddingBottom:24},(0,n.h)(v.Z,{size:40,stroke:"var(--color-primary)"})),(0,n.h)(s.tu,{gap:12},(0,n.h)(x.xv.H3,{align:"center"},ie==="comment"&&se("You restacked a comment"),ie==="note"&&se("You restacked a note"),ie==="post"&&se("You restacked a post")),(0,n.h)(x.xv.B3,{color:"secondary",align:"center"},ie==="comment"&&se("Restack comments that inspire you to share them with more people."),ie==="note"&&se("Restack notes that inspire you to share them with more people."),ie==="post"&&se("Restack posts that inspire you to share them with more people.")," ",se("Subscribers can see your restacks in the Notes tab and on your profile."))),(0,n.h)(s.tu,{paddingBottom:16,paddingTop:20,gap:8},(0,n.h)(i.zx,{rounded:!0,href:(0,y.getFeedUrl)()},se("View now")),(0,n.h)(i.zx,{priority:"secondary",fill:"outline",rounded:!0,onClick:te},se("OK"))))}},70762:(j,l,e)=>{"use strict";e.d(l,{K:()=>I,_:()=>N});var n=e(6400),c=e(30396),u=e(48969),v=e(72496),O=e(86418),y=e(20501),E=e(67963),d=e(8479),g=e(75425),P=e(72307),S=Object.defineProperty,T=Object.defineProperties,C=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,_=($,K,H)=>K in $?S($,K,{enumerable:!0,configurable:!0,writable:!0,value:H}):$[K]=H,w=($,K)=>{for(var H in K||(K={}))i.call(K,H)&&_($,H,K[H]);if(p)for(var H of p(K))s.call(K,H)&&_($,H,K[H]);return $},x=($,K)=>T($,C(K)),D=($,K,H)=>new Promise((re,ee)=>{var Y=ie=>{try{te(H.next(ie))}catch(se){ee(se)}},J=ie=>{try{te(H.throw(ie))}catch(se){ee(se)}},te=ie=>ie.done?re(ie.value):Promise.resolve(ie.value).then(Y,J);te((H=H.apply($,K)).next())});function N({publicationId:$,publication:K,publicationName:H,user:re,allowSecondaryPublications:ee=!0,subscriptionSource:Y,sourceNoteId:J}){var te,ie,se;$=(se=(te=K==null?void 0:K.id)!=null?te:$)!=null?se:(ie=re==null?void 0:re.primary_publication)==null?void 0:ie.id;const W=(0,E.aF)(),z=(0,g.pm)(),Q=(0,u.oJ)(),oe=(0,P.Th)(),[ne,ae]=(0,c.eJ)(!1),le=M(W,$,oe)||A(W,re,oe,{allowSecondaryPublications:ee}),[ue,fe]=(0,c.eJ)(null),he=!!$,be=oe.isLoading||!!ue||!he,ve=Se=>D(this,null,function*(){var We;if(Se&&(Se.preventDefault(),Se.stopPropagation()),be||le||!he)return;fe("subscribing");const Ae=$?yield F($,Y,{publication:K,user:W,sourceNoteId:J}):re?yield V(W,re,Y):{didAction:!1,errorMessage:"No subscription target"},Be=`Subscribed to ${$?(We=H!=null?H:K==null?void 0:K.name)!=null?We:"publication":re?re.name:"profile"}`;if(Ae.didAction){if(ae(!0),z.popToast(de=>(0,n.h)(g.FN,x(w({},de),{text:Be}))),W)try{yield oe.refetch()}catch(de){console.error("Failed to reload subscriptions:",de)}re&&Q((de=[])=>de.includes(re.id)?de:[re.id,...de],{revalidate:!1})}else Ae.errorMessage&&z.popToast(de=>{var ce;return(0,n.h)(g.FN,x(w({},de),{text:(ce=Ae.errorMessage)!=null?ce:""}))});fe(null)}),Te=Se=>D(this,null,function*(){var We;if(Se&&(Se.preventDefault(),Se.stopPropagation()),be||!le||!he)return;fe("unsubscribing");const Ae=$?yield Z($,Y):re?yield G(W,re,Y):{didAction:!1,errorMessage:"No subscription target"},Be=`Unsubscribed from ${$?(We=H!=null?H:K==null?void 0:K.name)!=null?We:"publication":re?re.name:"profile"}`;if(Ae.didAction){if(ae(!1),z.popToast(de=>(0,n.h)(g.FN,x(w({},de),{text:Be}))),W)try{yield oe.refetch()}catch(de){console.error("Failed to reload subscriptions:",de)}}else Ae.errorMessage&&z.popToast(de=>{var ce;return(0,n.h)(g.FN,x(w({},de),{text:(ce=Ae.errorMessage)!=null?ce:""}))});fe(null)}),we=le&&!ue||ue==="subscribing";return{showCta:he&&(!W||oe.hasLoadedOnce)&&!(W&&W.id===(re==null?void 0:re.id))&&(!le||ne||ue==="unsubscribing"),isSubscribed:we,hasPublication:!!$,subscribe:ve,unsubscribe:Te,toggle:we?Te:ve}}function I($){var K;const H=(0,P.Th)(),re=(0,E.aF)();if((re==null?void 0:re.id)===$)return"subscribed";const{result:ee}=H;if(!ee)return null;const{subscriptions:Y,publicationUsers:J}=ee;for(const ie of J)if(["admin","contributor"].includes(ie.role)&&R($,ie.publication_id,H))return"subscribed";let te=null;for(const ie of Y)R($,ie.publication_id,H)&&(te=(K=(0,O.P)(ie.membership_state,te)?ie.membership_state:te)!=null?K:null);return te}function A($,K,H,{allowSecondaryPublications:re}={}){if(!$||!K||!H.hasLoadedOnce||!H.result)return!1;const{presubscriptions:ee,subscriptions:Y,publicationUsers:J}=H.result;if(ee.includes(K.id))return!0;if(re){for(const te of Y)if(te.membership_state!=="unsubscribed"&&R(K.id,te.publication_id,H))return!0;for(const te of J)if(["admin","contributor"].includes(te.role)&&R(K.id,te.publication_id,H))return!0}return!1}function M($,K,H){if(!$||!K||!H.hasLoadedOnce||!H.result)return!1;const re=H.result.subscriptionMap.get(K);if(re&&re.membership_state!=="unsubscribed")return!0;const ee=H.result.publicationUserMap.get(K);return!!(ee&&["admin","contributor"].includes(ee.role))}function R($,K,H){if(H.isLoading||!H.result)return!1;const re=H.result.publicationMap.get(K);if(re){if(re.author_id===$)return!0;for(const ee of re.contributors)if(ee.user_id===$)return!0}return!1}function F($,K){return D(this,arguments,function*(H,re,{publication:ee,user:Y,sourceNoteId:J}={}){let te=!1,ie;if(Y)try{(yield(0,d.rd)("/api/v1/reader/signup/pub",{method:"POST",json:{publication_id:H,email:Y.email,source:re,noWelcomeEmail:!0,sourceNoteId:J,first_url:v.xY,first_referrer:v.ip,current_url:v.UE,current_referrer:v.xU}})).requires_confirmation?ie="Check your email to confirm subscription":te=!0}catch(se){console.error(se),ie="Failed to subscribe"}else if(!Y){if(!ee)try{ee=yield(0,d.rd)(`/api/v1/reader/publication/${H}`)}catch(se){console.error(se)}if(ee){const se=(0,y.getSubscribeUrl)(ee,{addBase:!0,user:Y!=null?Y:void 0});window.open(se,"_blank")}}return{didAction:te,errorMessage:ie}})}function Z($,K){return D(this,null,function*(){let H=!1,re;try{yield(0,d.rd)("/api/v1/subscription/email",{method:"POST",json:{publication_id:$,email_disabled:!0,digest_enabled:!1,receive_podcast_emails:!1,source:K}}),H=!0}catch(ee){console.error(ee),re="Failed to unsubscribe"}return{didAction:H,errorMessage:re}})}function V($,K,H){return D(this,null,function*(){let re=!1,ee;try{yield(0,d.rd)((0,y.getPresubscribeUrl)(K),{method:"POST",json:{source:H}}),re=!0}catch(Y){console.error(Y),ee="Failed to subscribe"}return{didAction:re,errorMessage:ee}})}function G($,K,H){return D(this,null,function*(){let re=!1,ee;try{yield(0,d.rd)((0,y.getPresubscribeUrl)(K),{method:"DELETE",json:{source:H}}),re=!0}catch(Y){console.error(Y),ee="Failed to unsubscribe"}return{didAction:re,errorMessage:ee}})}},57397:(j,l,e)=>{"use strict";e.r(l),e.d(l,{ARRMilestoneMediaAsset:()=>p,ARRMilestones:()=>E,SubscriberMilestones:()=>d,SubscribersMilestoneMediaAsset:()=>i});var n=e(6400),c=e(20501),u=e(83322);const v=({x:s,y:_,fill:w="#000"})=>h("g",{xmlns:"http://www.w3.org/2000/svg",transform:`translate(${s},${_})`,width:"16",height:"20",fill:"none"},h("path",{fill:w,"fill-opacity":".2","fill-rule":"evenodd",d:"M0 .552C0 .247.247 0 .552 0h14.896c.305 0 .552.247.552.552v1.596H0V.552Zm0 3.745h16v2.148H0V4.297Zm0 4.297V18.95c0 .444.498.706.864.455l6.823-4.692a.552.552 0 0 1 .626 0l6.823 4.692A.552.552 0 0 0 16 18.95V8.594H0Z","clip-rule":"evenodd"})),O=({color:s,width:_,height:w})=>(0,n.h)("svg",{version:"1.1",width:_,height:w,viewBox:"0 0 21 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},(0,n.h)("g",{xmlns:"http://www.w3.org/2000/svg",opacity:"0.5"},(0,n.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m 0 0 h 21 v 2.5781 h -21 v -2.5781 z m 0 5.1562 h 21 v 2.5782 h -21 v -2.5782 z m 0 5.1563 v 13.6875 l 10.5 -7.25 l 10.5 7.25 v -13.6875 h -21 z",fill:s}))),y=null;var E=(s=>(s.ARR10K="arr10k",s.ARR1K="arr1k",s))(E||{}),d=(s=>(s.List1K="list1k",s.List100="list100",s))(d||{});const g="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap",P="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap",S=24,T=({width:s,height:_,otherCss:w})=>`
  @import url('${g}');
  @import url('${P}');
  body { 
    font-family: 'Inter', 'Noto Color Emoji', sans-serif; 
    font-size: 14px;
    line-height: 20px;
    font-weight: 700;
    color: rgba(51, 51, 51, 1);
    margin: 0;
  }
  .container {
    width: ${s-S*2}px;
    height: ${_-S*2}px;
    padding: ${S}px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    position: absolute;
    top: 0;
    overflow: hidden;
  }
  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .copy {
    width: 300px;
  }
  h1 {
    font-weight: 800; 
    font-size: 30px;
    line-height: 36px;
    font-family: 'Inter', 'Noto Color Emoji', sans-serif; 
    color: rgba(51, 51, 51, 1);
  }
  p {
    font-family: 'Inter', 'Noto Color Emoji', sans-serif; 
    font-weight: 400;
  }
  .content {
    width: ${s-S*2};
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .footer {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
  }
  .pub-url {
    font-family: 'Inter', 'Noto Color Emoji', sans-serif; 
    font-size: 9px;
    font-weight: 590;
    line-height: 11px;
    letter-spacing: 0.2px;
    text-align: left;
    opacity: 0.5;
    text-transform: uppercase;
  }
  ${w}
    `,C=({css:s})=>(0,n.h)("head",null,(0,n.h)("style",null,s.replace(/\n|\r/g,""))),p=({milestone:s,height:_,width:w,pub:x})=>{const D=(0,u.getByLine)(x);let N,I,A;switch(s){case"arr1k":N="1,000",I=`${(0,c.getBaseUrl)()}/img/milestone_assets/pencil-uprising.png`,A=`
  .content {
    margin-top: ${_===w?"6px":"126px"};
  }
  .container {
    background-image: url(${(0,c.getBaseUrl)()}/img/milestone_assets/arr-1k-${_===w?"square":"stories"}-bg.png);
  }
  h1 {
    width: 278px;
  }
  p {
    width: 278px;
  }
  img {
    width: 149px;
  }
`;break;case"arr10k":N="10,000",I=_===w&&`${(0,c.getBaseUrl)()}/img/milestone_assets/friends.png`,A=`
  .content {
    margin-top: ${_===w?"-6px":"301px"};
  }
  .container {
    background-image: url(${(0,c.getBaseUrl)()}/img/milestone_assets/arr-10k-${_===w?"square":"stories"}-bg.png);
  }
  h1 {
    width: 297px;
  }
  ${_===w?`p {
    width: 278px;
  }`:""}
  img {
    width: 180px;
  }
`;break}const M=`
  .container {
    background-size: cover;
  }
  h1 {
    margin-top: ${_===w?"16px":"0"};
    margin-bottom: 0;
  }
  p {
    ${_===w?`font-size: 18px;
    line-height: 24px;
    letter-spacing: -0.45px;`:`font-size: 20px;
    line-height: 30px;
    letter-spacing: 0.38px;`}
    margin-top: ${_===w?"16px":"24px"};
    margin-bottom: 0;
  }
  ${_===w?"":`.footer {
        margin-bottom: 75px;
    }`}
  ${A}
  `,R=T({width:w,height:_,otherCss:M}),F=(0,c.getBaseUrl)(x).split("/").slice(-1)[0];return(0,n.h)("html",null,(0,n.h)(C,{css:R}),(0,n.h)("body",null,(0,n.h)("div",{className:"container"},(0,n.h)("div",{className:"content"},I?(0,n.h)("img",{src:I}):null,(0,n.h)("div",{className:"copy"},(0,n.h)("h1",null,"You made your first $",N),(0,n.h)("p",null,w===_?"":"Thanks to direct support from readers, ",x.name,D?` by ${D}`:""," has made its first $",N," in annual subscription revenue."))),(0,n.h)("div",{className:"footer"},(0,n.h)("span",{className:"pub-url"},F),(0,n.h)(O,{color:"rgba(51, 51, 51, 1)",width:12.8,height:16})))))},i=({milestone:s,height:_,width:w,pub:x})=>{const D=(0,u.getByLine)(x);let N,I,A,M;switch(s){case"list100":N="100",I="hundred",M=`
  .copy {
    margin-top: ${_===w?"151px":"298px"};
  }
  h1 {
    margin-top: 0;
  }
  .container {
    background-image: url(${(0,c.getBaseUrl)()}/img/milestone_assets/subs-100-${_===w?"square":"stories"}-bg.png);
  }
`;break;case"list1k":N="1,000",I="thousand",A=`${(0,c.getBaseUrl)()}/img/milestone_assets/chairs.png`,M=`
  .content {
    margin-top: ${_===w?"38px":"151px"};
  }
  .container {
    background-image: url(${(0,c.getBaseUrl)()}/img/milestone_assets/subs-1k-${_===w?"square":"stories"}-bg.png);
  }
  h1 {
    margin-top: ${_===w?"16px":"24px"};
  }
  img {
    width: ${_===w?"128px":"165px"};
  }
`;break}const R=`
  .container {
    background-size: cover;
  }
  h1 {
    margin-bottom: 0;
  }
  p {
    margin-top: ${_===w?"16px":"24px"};
    margin-bottom: 0;
    font-size: 20px;
    line-height: 30px;
    letter-spacing: 0.38px;
  }
  ${_===w?"":`.footer {
        margin-bottom: 75px;
    }`}
  ${M}
  `,F=T({width:w,height:_,otherCss:R}),Z=(0,c.getBaseUrl)(x).split("/").slice(-1)[0];return(0,n.h)("html",null,(0,n.h)(C,{css:F}),(0,n.h)("body",null,(0,n.h)("div",{className:"container"},(0,n.h)("div",{className:"content"},A?(0,n.h)("img",{className:"chairs",src:A}):null,(0,n.h)("div",{className:"copy"},(0,n.h)("h1",null,N," subscribers"),(0,n.h)("p",null,"You did it. ",x.name,D?` by ${D}`:""," has reached its first ",I," subscribers."))),(0,n.h)("div",{className:"footer"},(0,n.h)("span",{className:"pub-url"},Z),(0,n.h)(O,{color:"rgba(51, 51, 51, 1)",width:12.8,height:16})))))}},48592:(j,l,e)=>{"use strict";e.d(l,{Z:()=>E});var n=e(6400),c=e(15045);const u=40,v=.5*u,O=.2,y=2;function E(g){return{width:(g-1)*u*(1-O)+u+2*y,height:u+2*y}}function d({faces:g}){const S=g.slice(0).reverse().map(({id:p,photo_url:i},s)=>({id:p,photo_url:i||getDefaultUserPhotoById(p),x:(g.length-s-1)*(1-O)*u+y})),{width:T,height:C}=E(g.length);return h("svg",{version:"1.1",width:T,height:C,viewBox:`0 0 ${T} ${C}`,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},h("defs",null,S.map(({id:p,photo_url:i,x:s})=>h("pattern",{id:`image-${p}`,x:s,y,patternUnits:"userSpaceOnUse",height:u,width:u},h("image",{height:u,width:u,preserveAspectRatio:"xMidYMid slice","data-clip-path":"url(#circularPhoto)",href:i})))),S.map(({id:p,x:i})=>h("circle",{cx:i+v,cy:v+y,r:v,fill:`url(#image-${p})`,stroke:"#fff","stroke-width":y})))}},79675:(j,l,e)=>{"use strict";e.d(l,{L:()=>T});var n=e(6400),c=e(30396),u=e(25346),v=e(28488),O=e(29811),y=e(21288),E=e(26494),d=e(70428),g=e(6385),P=e(83322);const S={"preview-label-container":"frontend-shows-NotesVideoPlayer-module__preview-label-container--QHrI8"},T=({disableAutoPlay:C=!1,isFreeSubscribed:p,isSubscribed:i,mediaUpload:s,post:_,pub:w,rounded:x,startMuted:D})=>{var N,I;const{iString:A}=(0,v.M1)(),[M,R]=(0,c.eJ)(!1),F=(0,c.sO)(null),Z=(0,g.isPaidAudience)(_.audience)&&!i,V=((N=s.preview_duration)!=null?N:0)>0,G=Z&&(!V||M);(0,y.KS)({videoPlayerRef:F,showPaywall:G,disable:C});const $=()=>{var K;(K=F.current)!=null&&K.player&&(R(!1),F.current.player.currentTime=0,F.current.player.play())};return(0,n.h)(O.xu,{overflow:"hidden",position:"relative",radius:x?6:void 0,onClick:K=>{K.stopPropagation(),K.preventDefault()}},(0,n.h)(u.Z,{ref:F,doNotResetOnEnd:!0,hidePlayButton:G,mediaUpload:s,noControls:G&&!Z,post:_,pub:w,startMuted:D,onFinishVideo:()=>{R(!0)}}),V&&!G&&!i&&(0,n.h)("div",{className:S["preview-label-container"]},(0,n.h)(d.l,null,A("Preview")," \u2022 ",(0,P.secondsToHHMMSS)((I=s.preview_duration)!=null?I:0))),G&&(0,n.h)(E.Y,{post:_,pub:w,isFreeSubscribed:p,variant:"video",onRestart:V?$:void 0}))}},55727:(j,l,e)=>{"use strict";e.d(l,{Fb:()=>ae,lU:()=>ne});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(18165),y=e(28488),E=e(25018),d=e(29811),g=e(2564),P=e(19541);const S={header:"frontend-shows-audio_player-AudioPlayerHeader-module__header--GSsGB"};var T=Object.defineProperty,C=Object.defineProperties,p=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,w=(he,be,ve)=>be in he?T(he,be,{enumerable:!0,configurable:!0,writable:!0,value:ve}):he[be]=ve,x=(he,be)=>{for(var ve in be||(be={}))s.call(be,ve)&&w(he,ve,be[ve]);if(i)for(var ve of i(be))_.call(be,ve)&&w(he,ve,be[ve]);return he},D=(he,be)=>C(he,p(be));const N=({isDisabled:he,postTitle:be,pub:ve,section:Te,showTitle:we,variant:Se})=>(0,n.h)(d.gq,{className:S.header,alignItems:"center",alignSelf:"start",gap:Se==="mini"?12:16,opacity:he?.2:void 0,overflow:"hidden",pointerEvents:he?"none":void 0},(0,n.h)(P.p,{border:Se==="mini"||Se==="notes-embed"?void 0:"white",pub:ve,section:Te,size:Se==="notes-embed"?72:Se==="mini"?32:56}),(0,n.h)(d.tu,{minWidth:0},Se!=="mini"&&(0,n.h)(d.xv.Meta,{color:"always-white",ellipsis:!0,overflow:"hidden",opacity:Se==="notes-embed"?.5:.8},we),(0,n.h)(d.xv.B3,D(x({color:"always-white",ellipsis:!0,overflow:"hidden",weight:"semibold"},Se==="mini"?{size:14,lineHeight:20}:null),{style:{maxWidth:460}}),be),Se==="notes-embed"&&(0,n.h)(d.gq,{alignItems:"center",gap:4},(0,n.h)(d.xv.B4,{opacity:.5,color:"always-white",translated:!0},"View post"),(0,n.h)(g.Z,{style:{opacity:.5,color:"#fff"},size:16}))));var I=e(97864);const A={playButton:"frontend-shows-audio_player-AudioPlayerPlayPauseButton-module__playButton--iBWFV",playButtonIcon:"frontend-shows-audio_player-AudioPlayerPlayPauseButton-module__playButtonIcon--QwItT",pauseIcon:"frontend-shows-audio_player-AudioPlayerPlayPauseButton-module__pauseIcon--Sw4O_",pauseIcon42:"frontend-shows-audio_player-AudioPlayerPlayPauseButton-module__pauseIcon42--nbFNu",pauseIconBar:"frontend-shows-audio_player-AudioPlayerPlayPauseButton-module__pauseIconBar--iUfyi"},M=({isPlaying:he,isStatic:be,size:ve,onTogglePlayback:Te})=>{const{isMobile:we}=(0,E.v9)(),Se=ve===42?16:we?20:24;return(0,n.h)(d.hs,{bg:"glass-thick",className:A.playButton,alignItems:"center",justifyContent:"center",onClick:Te,style:{width:ve!=null?ve:80,height:ve!=null?ve:80},role:"button"},he?(0,n.h)("div",{className:v()(A.pauseIcon,{[A.pauseIcon42]:ve===42})},(0,n.h)("div",{className:A.pauseIconBar}),(0,n.h)("div",{className:A.pauseIconBar})):(0,n.h)(I.Z,{className:A.playButtonIcon,height:Se,isStatic:be,fill:be?"#000":void 0,stroke:"none"}))};var R=e(97737),F=e(14846);const Z={"skip-button":"frontend-shows-ShowsAudioPlayerControls-module__skip-button--r2btg","skip-icon":"frontend-shows-ShowsAudioPlayerControls-module__skip-icon--dNKKv"},V=({isPlaying:he,onSkipBack:be,onSkipForward:ve,onTogglePlayback:Te})=>{const{isMobile:we}=(0,E.v9)(),Se=we?28:32;return(0,n.h)(d.gq,{gap:we?20:32,alignItems:"center"},be&&(0,n.h)("div",{onClick:be,role:"button",className:Z["skip-button"]},(0,n.h)(R.Z,{className:Z["skip-icon"],height:Se})),(0,n.h)(M,{isPlaying:he,onTogglePlayback:Te}),ve&&(0,n.h)("div",{onClick:ve,role:"button",className:Z["skip-button"]},(0,n.h)(F.Z,{className:Z["skip-icon"],height:Se})))};var G=e(26494),$=e(58592);const K={container:"frontend-shows-ShowsPlaybackRate-module__container--wEWu5"},H=({playbackRate:he,onChangePlaybackRate:be})=>(0,n.h)($.PlaybackRateToggle,{className:K.container,playbackRate:he,onSetPlaybackRate:be});var re=e(70428);const ee={timestamp:"frontend-shows-ShowsProgressBar-module__timestamp--zfIYN","track-container":"frontend-shows-ShowsProgressBar-module__track-container--VvwNH",track:"frontend-shows-ShowsProgressBar-module__track--xj70O","track-played":"frontend-shows-ShowsProgressBar-module__track-played--y34h2","track-drag-time":"frontend-shows-ShowsProgressBar-module__track-drag-time--JHDBk","track-handle":"frontend-shows-ShowsProgressBar-module__track-handle--fK9DR"},Y=({containerRef:he,currentTime:be,dragTime:ve,remainingTime:Te,progress:we,onMouseDown:Se})=>(0,n.h)(d.gq,{alignItems:"center",flex:"grow",gap:12},(0,n.h)(d.xv.Meta,{className:ee.timestamp,textAlign:"right"},be),(0,n.h)("div",{ref:he,className:ee["track-container"],onMouseDown:Se},(0,n.h)("div",{className:ee.track}),(0,n.h)("div",{className:ee["track-played"],style:{width:`${we*100}%`}}),ve&&(0,n.h)(d.xv.Meta,{className:ee["track-drag-time"],style:{left:`${we*100}%`}},ve),(0,n.h)("div",{className:ee["track-handle"],style:{left:`${we*100}%`}})),(0,n.h)(d.xv.Meta,{className:ee.timestamp,textAlign:"left"},Te));var J=e(42208),te=e(6385),ie=e(31163),se=e(15045);const W={backgroundSolidColor:"frontend-shows-audio_player-AudioPlayerBackground-module__backgroundSolidColor--mnJom",backgroundImage:"frontend-shows-audio_player-AudioPlayerBackground-module__backgroundImage--vzN4e",backgroundBlur:"frontend-shows-audio_player-AudioPlayerBackground-module__backgroundBlur--D2m4F",backgroundDarkenRight:"frontend-shows-audio_player-AudioPlayerBackground-module__backgroundDarkenRight--kd2vp"},z=({backgroundUrl:he,isBlurred:be})=>(0,n.h)(n.Fragment,null,(0,n.h)(Q,{className:W.backgroundSolidColor}),he&&(0,n.h)(Q,{className:W.backgroundImage,style:he?{backgroundImage:`url(${(0,se.imginary)(he)})`}:void 0}),be&&(0,n.h)(Q,{className:W.backgroundBlur}),(0,n.h)(Q,{className:W.backgroundDarkenRight})),Q=(0,d.E7)({position:"absolute",inset:0,radius:12}),oe={controlsCentered:"frontend-shows-ShowsAudioPlayer-module__controlsCentered--ytrUa",track:"frontend-shows-ShowsAudioPlayer-module__track--bMq51"},ne=({isFreeSubscribed:he,isSubscribed:be,post:ve,pub:Te,section:we,variant:Se})=>{const[We,Ae]=(0,c.eJ)(!1),Be=(0,c.sO)(null),de=!be&&(0,te.isPaidAudience)(ve.audience);if(!ve.podcastUpload)return null;const ce=ve.podcastUpload.is_free_preview,_e=de&&(!ce||We),Oe=()=>{var Le;(Le=Be.current)!=null&&Le.player&&(Ae(!1),Be.current.player.currentTime=0,Be.current.player.play())};return(0,n.h)(fe,{audioPlayerRef:Be,metricsPost:ve,paywallComponent:_e?(0,n.h)(G.Y,{inlineIcon:Se==="notes-embed",isFreeSubscribed:he,post:ve,pub:Te,variant:"audio",onRestart:ce?Oe:void 0}):void 0,podcastDuration:ve.podcast_duration,podcastUpload:ve.podcastUpload,podcastUrl:ve.podcast_url,postId:ve.id,postTitle:ve.title,pub:Te,section:we,variant:Se,onFinishAudio:()=>{Ae(!0)}})},ae=({audioPlayerRef:he,hasPaywall:be,post:ve,pub:Te,section:we,ufiComponent:Se,user:We})=>{const[Ae,Be]=(0,c.eJ)(!1);if(!ve.podcastUpload)return null;const de=ve.podcastUpload.is_free_preview,ce=be&&(!de||Ae),_e=()=>{var Oe;(Oe=he.current)!=null&&Oe.player&&(Be(!1),he.current.player.currentTime=0,he.current.player.play())};return(0,n.h)(fe,{audioPlayerRef:he,metricsPost:ve,paywallComponent:ce?(0,n.h)(G.Y,{isFreeSubscribed:!!(We!=null&&We.is_free_subscribed),post:ve,pub:Te,variant:"audio",onRestart:de?_e:void 0}):void 0,podcastDuration:ve.podcast_duration,podcastUpload:ve.podcastUpload,podcastUrl:ve.podcast_url,postId:ve.id,postTitle:ve.title,pub:Te,section:we,ufiComponent:Se,variant:"episode-page",onFinishAudio:()=>{Be(!0)}})},le=({postTitle:he,podcastDuration:be,podcastPreviewUpload:ve,podcastUpload:Te,podcastUrl:we,pub:Se,section:We,editComponent:Ae})=>h(fe,{metricsPost:null,postId:null,postTitle:he,podcastDuration:be,podcastPreviewUpload:ve,podcastUpload:Te,podcastUrl:we,pub:Se,section:We,variant:"editor",editComponent:Ae}),ue={"episode-page":400,editor:320,"notes-embed":160,"notes-full":250},fe=({audioPlayerRef:he,hideUfi:be,metricsPost:ve,postId:Te,postTitle:we,podcastDuration:Se,podcastUrl:We,pub:Ae,section:Be,podcastUpload:de,podcastPreviewUpload:ce,ufiComponent:_e,editComponent:Oe,paywallComponent:Le,variant:ze,onFinishAudio:Je})=>{const{title:Pt,backgroundUrl:Ve,artUrl:pt}=(0,J.Mv)({pub:Ae,podcastUpload:de,section:Be,thumbnailInfo:de!=null&&de.full_podcast_info&&Te?{post_id:Te,media_upload_id:de.full_podcast_info.media_upload_id,thumbnail_id:de.full_podcast_info.thumbnail_id}:null}),{isMobile:$e}=(0,E.v9)(),{iString:Ie}=(0,y.M1)(),ye=ue[ze],Ce=$e||ze==="notes-embed",xe=!!Le,je=pt===Ve,He=!!Oe,Ge=(de==null?void 0:de.is_free_preview)||ce;return(0,n.h)(O.Z,{ref:he,duration:Se,metricsPost:ve,src:We,preventSnappingToCurrentTime:!0,pub:Ae,updateOnEveryFrame:Se<5*60,onFinishAudio:Je,render:({currentTime:Qe,dragTime:ct,isPlaying:dt,playbackRate:it,progress:tt,progressBarRef:vt,progressBarOnMouseDown:et,remainingTime:Xe,setPlaybackRate:Ne,skipBack:ft,skipForward:At,togglePlayback:Ht})=>{var rn;return(0,n.h)(d.xu,{position:"relative",style:{minHeight:$e?Math.min(200,ye):ye}},(0,n.h)(z,{backgroundUrl:Ve,isBlurred:je}),(0,n.h)(d.tu,{position:"absolute",inset:0,justifyContent:Ce?"space-between":void 0},(0,n.h)(d.gq,{alignItems:"stretch",flex:Ce?void 0:"grow",justifyContent:"space-between"},(!Ce||!xe)&&(0,n.h)(d.xu,{padding:Ce||ze==="notes-full"?16:24,paddingBottom:ze==="notes-embed"?0:void 0,overflow:"hidden"},(0,n.h)(N,{isDisabled:xe,pub:Ae,section:Be,postTitle:we,showTitle:Pt,variant:ze==="notes-embed"?"notes-embed":$e||ze==="notes-full"?"mini":"regular"})),!Ce&&!xe&&!be&&_e&&(0,n.h)(d.gq,{alignItems:"center",paddingX:24},_e),Oe!=null?Oe:null),!xe&&ze!=="notes-embed"&&(0,n.h)(d.xu,{position:"absolute",className:v()({[oe.controlsCentered]:!Ce})},(0,n.h)(d.gq,{justifyContent:"center"},(0,n.h)(V,{isPlaying:dt,onSkipBack:ft,onSkipForward:At,onTogglePlayback:Ht}))),(!Ce||!xe)&&(0,n.h)(d.gq,{className:v()(oe.track),alignItems:"center",gap:16,opacity:xe?.2:void 0,padding:Ce||ze==="notes-full"?16:24,paddingTop:ze==="notes-embed"?8:void 0,pointerEvents:xe?"none":void 0,onClick:en=>{en.stopPropagation(),en.preventDefault()}},Ge&&!He&&(0,n.h)(re.l,null,Ie("Preview")),Ge&&He&&ce&&(0,n.h)(re.l,null,(0,n.h)(d.gq,{justifyContent:"center",alignItems:"center",gap:8},(0,ie.DL)((rn=ce.duration)!=null?rn:0))),(0,n.h)(Y,{containerRef:vt,currentTime:Qe,dragTime:ct,progress:tt,remainingTime:Xe,onMouseDown:et}),!Ce&&(0,n.h)(H,{playbackRate:it,onChangePlaybackRate:Ne}),ze==="notes-embed"&&(0,n.h)(M,{isPlaying:dt,size:42,onTogglePlayback:Ht}))),Le)}})}},19541:(j,l,e)=>{"use strict";e.d(l,{p:()=>E});var n=e(6400),c=e(94184),u=e.n(c),v=e(81671),O=e(42208);const y={"pub-logo":"frontend-shows-ShowsLogo-module__pub-logo--zPfoI","pub-logo--32":"frontend-shows-ShowsLogo-module__pub-logo--32--IDGlz","pub-logo--48":"frontend-shows-ShowsLogo-module__pub-logo--48--pzn1F","pub-logo--56":"frontend-shows-ShowsLogo-module__pub-logo--56--eB4_7","pub-logo--72":"frontend-shows-ShowsLogo-module__pub-logo--72--uIFbk","pub-logo--border-white":"frontend-shows-ShowsLogo-module__pub-logo--border-white--M6zQh"},E=({border:d,isStatic:g,pub:P,section:S,size:T=48,url:C})=>{const{artUrl:p,url:i}=(0,O.Mv)({pub:P,section:S});return(0,n.h)(v.Z,{className:u()(y["pub-logo"],{[y["pub-logo--32"]]:T===32,[y["pub-logo--48"]]:T===48,[y["pub-logo--56"]]:T===56,[y["pub-logo--72"]]:T===72,[y["pub-logo--border-white"]]:d==="white"}),href:C!=null?C:i,isStatic:g,pub:P,logo_url:p,noMargin:!0,size:T})}},26494:(j,l,e)=>{"use strict";e.d(l,{Y:()=>p});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(13639),y=e(25425),E=e(28488),d=e(3258),g=e(25018),P=e(29811),S=e(6378),T=e(15045);const C={"container--audio":"frontend-shows-ShowsMediaPaywall-module__container--audio--C5WH2","container--video":"frontend-shows-ShowsMediaPaywall-module__container--video--DMiCz","container--animated":"frontend-shows-ShowsMediaPaywall-module__container--animated--KSvbo","container--animated-in":"frontend-shows-ShowsMediaPaywall-module__container--animated-in--bizfq","icon-container":"frontend-shows-ShowsMediaPaywall-module__icon-container--FO2D_","content-top":"frontend-shows-ShowsMediaPaywall-module__content-top--XWrzK","content-bottom":"frontend-shows-ShowsMediaPaywall-module__content-bottom--CjD4d",inlineIconContainer:"frontend-shows-ShowsMediaPaywall-module__inlineIconContainer--FfHru","restart-button":"frontend-shows-ShowsMediaPaywall-module__restart-button--m9bIg"},p=({inlineIcon:i,isFreeSubscribed:s,post:_,pub:w,variant:x,onRestart:D})=>{var N;const{iString:I,iTemplate:A}=(0,E.M1)(),{isMobile:M}=(0,g.v9)(),[R,F]=(0,c.eJ)(!1),Z=!!D,V=(N=(0,S.getFoundingTierName)(w))!=null?N:"Founding Member",G=_.audience==="founding"?A`${V} episode`:I("Paid episode"),$=_.audience==="founding"?A`The full episode is only available to ${V} subscribers`:A`The full episode is only available to paid subscribers of ${w.name}`,K=I(x==="video"?"Subscribe to watch":"Subscribe to listen"),H=I(x==="video"?"Upgrade to watch":"Upgrade to listen");return(0,c.d4)(()=>{(0,d.j)(d.FP.FREE_PREVIEW_PAYWALL_SHOWN,{post_id:_.id})},[_.id]),(0,c.d4)(()=>{Z&&setTimeout(()=>{F(!0)},10)},[Z]),(0,n.h)(P.gq,{className:v()(C.container,{[C["container--video"]]:x==="video",[C["container--audio"]]:x==="audio",[C["container--animated"]]:Z,[C["container--animated-in"]]:R}),inset:0,justifyContent:"center",alignItems:"center",position:"absolute",onClick:re=>{re.stopPropagation(),re.preventDefault()},"data-testid":"paywall"},(0,n.h)(P.tu,{alignItems:"center",gap:M?12:16,paddingX:24},(0,n.h)(P.tu,{alignItems:"center",className:C["content-top"],gap:M?12:16},!i&&(0,n.h)(P.gq,{className:C["icon-container"],alignItems:"center",color:"always-white",justifyContent:"center",radius:6},(0,n.h)(O.Z,{size:M?16:24})),(0,n.h)(P.tu,{alignItems:"center",gap:M?0:4},(0,n.h)(P.gq,{alignItems:"center",gap:8},i&&(0,n.h)(P.gq,{className:C.inlineIconContainer,alignItems:"center",justifyContent:"center",radius:6},(0,n.h)(O.Z,{size:16})),(0,n.h)(P.xv.B3,{as:"h3",color:"always-white",weight:"semibold"},G)),(0,n.h)(P.xv.B4,{color:"always-white",opacity:.8,textAlign:"center"},$))),(0,n.h)(P.gq,{className:C["content-bottom"],gap:16},D&&(0,n.h)(P.zx,{className:C["restart-button"],fill:"outline",onClick:()=>{(0,d.j)(d.FP.FREE_PREVIEW_PAYWALL_RESTART_BUTTON_CLICKED,{post_id:_.id}),D()}},(0,n.h)(P.gq,{alignItems:"center",gap:12},(0,n.h)(y.Z,{size:16}),I("Restart"))),(0,n.h)(P.zx,{priority:"primary-theme",localNavigation:!1,href:(0,T.getCheckoutUrl)(w,{simple:!0,next:document.location.href,utm_source:"shows-paywall",utm_medium:"web",utm_content:_.id})},s?H:K))))}},70428:(j,l,e)=>{"use strict";e.d(l,{l:()=>O});var n=e(6400),c=e(13639),u=e(29811);const v={"preview-label":"frontend-shows-ShowsPreviewLabel-module__preview-label--QrCz9","preview-label-text":"frontend-shows-ShowsPreviewLabel-module__preview-label-text--UuXs7"},O=({children:y})=>(0,n.h)(u.gq,{className:v["preview-label"],alignItems:"center",bg:"glass-inverted-thick",gap:8,paddingY:4,paddingX:8,radius:6},(0,n.h)(c.Z,{size:16}),(0,n.h)(u.xv.Meta,{className:v["preview-label-text"]},y))},18165:(j,l,e)=>{"use strict";e.d(l,{Z:()=>re});var n=e(6400),c=e(94184),u=e.n(c),v=e(6378),O=e(15045),y=e(83322),E=e(28488),d=e(3258),g=e(90304),P=e(39419),S=e.n(P),T=e(7922),C=e(97737),p=e(14846),i=e(48093),s=e(18133),_=e(33705),w=Object.defineProperty,x=Object.defineProperties,D=Object.getOwnPropertyDescriptors,N=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,M=(ee,Y,J)=>Y in ee?w(ee,Y,{enumerable:!0,configurable:!0,writable:!0,value:J}):ee[Y]=J,R=(ee,Y)=>{for(var J in Y||(Y={}))I.call(Y,J)&&M(ee,J,Y[J]);if(N)for(var J of N(Y))A.call(Y,J)&&M(ee,J,Y[J]);return ee},F=(ee,Y)=>x(ee,D(Y)),Z=(ee,Y,J)=>(M(ee,typeof Y!="symbol"?Y+"":Y,J),J),V=(ee,Y,J)=>new Promise((te,ie)=>{var se=Q=>{try{z(J.next(Q))}catch(oe){ie(oe)}},W=Q=>{try{z(J.throw(Q))}catch(oe){ie(oe)}},z=Q=>Q.done?te(Q.value):Promise.resolve(Q.value).then(se,W);z((J=J.apply(ee,Y)).next())});const G="AudioPlayer.playbackRate",$=5,K={utm_source:"twitter",utm_medium:"social",utm_campaign:"twitter-embed"};class H extends n.Component{constructor(Y){super(Y)}shouldComponentUpdate(Y){return this.props.currentPlaybackRate!==Y.currentPlaybackRate||this.props.setPlaybackRate!==Y.setPlaybackRate}render(){const{currentPlaybackRate:Y,setPlaybackRate:J}=this.props;return(0,n.h)("select",{className:"audio-player-playback-rate",dir:"rtl",onInput:te=>J(Number(te.target.value))},(0,n.h)("option",{value:"1",selected:Y===1},"1x"),(0,n.h)("option",{value:"1.25",selected:Y===1.25},"1.25x"),(0,n.h)("option",{value:"1.5",selected:Y===1.5},"1.5x"),(0,n.h)("option",{value:"1.75",selected:Y===1.75},"1.75x"),(0,n.h)("option",{value:"2",selected:Y===2},"2x"))}}class re extends n.Component{constructor(Y,J){super(Y,J),Z(this,"setPlaybackRate",te=>{this.state.playbackRate!==te&&(this.player&&(this.player.playbackRate=te),this.setState({playbackRate:te}),(0,g.ex)(G,te))}),Z(this,"maybeAppendIframeVisitId",te=>{var ie;const se=(ie=(0,d.A)())==null?void 0:ie.id;return se&&(te=(0,O.updateQuery)(te,{src_iid:se})),te}),Z(this,"openEpisodePage",()=>{let te=this.props.post.canonical_url;te=this.maybeAppendIframeVisitId(te),te=(0,O.updateQuery)(te,K),window.open(te,"_blank")}),this._onGlobalPlay=this.onGlobalPlay.bind(this),this._onUnload=this.onUnload.bind(this),this._onMouseMove=this.onMouseMove.bind(this),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onDragEnd=this.onDragEnd.bind(this),this._onCanPlay=this.onCanPlay.bind(this),this._onPlay=this.onPlay.bind(this),this._onPause=this.onPause.bind(this),this._onTimeUpdate=this.onTimeUpdate.bind(this),this._onRateChange=this.onRateChange.bind(this),this._onWaiting=this.onWaiting.bind(this),this._onPlaying=this.onPlaying.bind(this),this.state={playbackRate:Y.playbackRate||(0,g.mM)(G,1),currentTime:0,waiting:!0,duration:Y.duration||void 0,lastDragClearedAt:null}}componentDidMount(){var Y,J;(Y=P.globalPlaybackNotifier)==null||Y.on("play",this._onGlobalPlay),typeof window!="undefined"&&window.addEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.addEventListener("mousemove",this._onMouseMove,!1),document.body.addEventListener("mouseup",this._onDragEnd,!1),document.body.addEventListener("touchmove",this._onTouchMove,{passive:!1}),document.body.addEventListener("touchend",this._onDragEnd,!1),document.body.addEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.volume=1,this.player.playbackRate=this.state.playbackRate,this.player.addEventListener("canplay",this._onCanPlay),this.player.addEventListener("play",this._onPlay),this.player.addEventListener("pause",this._onPause),this.player.addEventListener("timeupdate",this._onTimeUpdate),this.player.addEventListener("ratechange",this._onRateChange),this.player.addEventListener("waiting",this._onWaiting),this.player.addEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.onTimeUpdate(),this.props.onGetDuration&&!isNaN((J=this.player)==null?void 0:J.duration)&&this.props.onGetDuration(this.player.duration),(0,P.preloadImage)((0,O.imginary)("/img/audio-player-pause.png",96))}componentWillUnmount(){var Y;(Y=P.globalPlaybackNotifier)==null||Y.off("play",this._onGlobalPlay),typeof window!="undefined"&&window.removeEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.removeEventListener("mousemove",this._onMouseMove,!1),document.body.removeEventListener("mouseup",this._onDragEnd,!1),document.body.removeEventListener("touchmove",this._onTouchMove,!1),document.body.removeEventListener("touchend",this._onDragEnd,!1),document.body.removeEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.removeEventListener("canplay",this._onCanPlay),this.player.removeEventListener("play",this._onPlay),this.player.removeEventListener("pause",this._onPause),this.player.removeEventListener("timeupdate",this._onTimeUpdate),this.player.removeEventListener("ratechange",this._onRateChange),this.player.removeEventListener("waiting",this._onWaiting),this.player.removeEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.removeEventListener("touchstart",this._onTouchStart)}componentDidUpdate(Y,J){if(!this.state.playing&&typeof this.state.waiting=="number"&&typeof J.waiting!="number"&&this.track(d.FP.AUDIO_BUFFERING_STARTED),this.state.playing&&!J.playing&&!this.state.waiting&&typeof J.waiting=="number"&&this.track(d.FP.AUDIO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-J.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(J.currentTime)&&Math.floor(this.state.currentTime)%$===0&&this.track(d.FP.AUDIO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime),feature:this.props.feature}),!this.state.playing&&J.playing&&this.player&&this.player.ended&&(this.props.onFinishAudio&&this.props.onFinishAudio(),this.track(d.FP.AUDIO_PLAYBACK_COMPLETE)),this.props.updateOnEveryFrame&&this.state.playing&&!J.playing){const te=()=>{this.onTimeUpdate(),this.loopId=requestAnimationFrame(te)};this.loopId=requestAnimationFrame(te)}this.props.updateOnEveryFrame&&!this.state.playing&&J.playing&&cancelAnimationFrame(this.loopId)}onCanPlay(){this.props.onGetDuration&&this.props.onGetDuration(this.player.duration),this.onTimeUpdate()}onPlay(){var Y;(Y=P.globalPlaybackNotifier)==null||Y.emit("play",this),this.setState({playing:!0})}onPause(){this.setState({playing:!1,waiting:!1})}onTimeUpdate(){if(!(!this.player||!isFinite(this.player.duration))){if(this.player.currentTime>this.player.duration){this.player.currentTime=this.player.duration;return}this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?(this.setState({duration:this.player.duration||this.props.duration,currentTime:this.player.currentTime,waiting:!1}),this.props.onTimeUpdate&&this.props.onTimeUpdate({duration:Math.max(this.state.duration||0,this.player.duration||this.props.duration||0),currentTime:this.player.currentTime})):this.setState({waiting:!1})}}onRateChange(){this.player&&this.state.playbackRate!==this.player.playbackRate&&this.setState({playbackRate:this.player.playbackRate})}onWaiting(){this.setState({waiting:Date.now()})}onPlaying(){this.setState({playing:!0,waiting:!1})}onMouseDown(Y){this.onDragStart(Y.clientX)}onMouseMove(Y){this.onDragMove(Y.clientX)}onTouchStart(Y){Y.touches&&Y.touches.length>0&&this.onDragStart(Y.touches[0].pageX)}onTouchMove(Y){typeof this.state.dragTime=="number"&&Y.preventDefault(),Y.touches&&Y.touches.length>0&&this.onDragMove(Y.touches[0].pageX)}onDragStart(Y){typeof this.state.dragTime!="number"&&this.setDragTime(Y)}onDragMove(Y){typeof this.state.dragTime=="number"&&this.setDragTime(Y)}onDragEnd(){this.clearDragTime()}onUnload(Y){const{iString:J}=this.context;this.state.playing&&(Y.returnValue=J("If you close this the audio will stop. Are you sure you want to navigate away from this page?"))}onGlobalPlay(Y){this!==Y&&this.player&&(this.track(d.FP.CLICKED_PAUSE_BUTTON,{implicit:!0,feature:this.props.feature}),this.player.pause())}togglePlayback(){return V(this,null,function*(){const{iString:Y}=this.context;if(this.player)if(this.player.paused){this.track(d.FP.CLICKED_PLAY_BUTTON,{feature:this.props.feature});try{yield this.player.play()}catch(J){if(J.name==="NotSupportedError")alert(Y("Failed to play this media: it may not be supported by this browser."));else throw J}}else this.track(d.FP.CLICKED_PAUSE_BUTTON,{feature:this.props.feature}),yield this.player.pause()})}skipBack(){if(this.player){const Y=Math.max(0,this.state.currentTime-15);this.track(d.FP.SEEKED_AUDIO,{new_time:Y,source:"skip"}),this.player.currentTime=Y}}skipForward(){if(this.player){const Y=Math.min(this.state.duration,this.state.currentTime+30);this.track(d.FP.SEEKED_AUDIO,{new_time:Y,source:"skip"}),this.player.currentTime=Y}}setDragTime(Y){if(!this.props.src||!this.state.duration||!this.player||!document.body||!document.body.getBoundingClientRect)return;const J=document.body.getBoundingClientRect(),te=this.progressBar.getBoundingClientRect(),ie=te.left-J.left,se=te.right;let z=(Math.max(ie,Math.min(se,Y))-ie)/(se-ie)*this.state.duration;this.isDragTimeCloseToCurrentTime(z)&&(z=this.state.currentTime),this.setState({dragTime:z})}clearDragTime(){if(typeof this.state.dragTime!="number")return;const Y=this.state.dragTime;this.track(d.FP.SEEKED_AUDIO,{new_time:Y,source:"slider"}),this.isDragTimeCloseToCurrentTime(Y)?this.setState({dragTime:null}):(this.setState({currentTime:Y,dragTime:null,lastDragClearedAt:performance.now()}),this.player&&(this.player.currentTime=Y))}isDragTimeCloseToCurrentTime(Y){if(this.props.preventSnappingToCurrentTime||typeof this.state.currentTime!="number")return!1;let J;return this.state.duration<10?J=0:this.state.duration<30?J=3:J=5,Math.abs(this.state.currentTime-Y)<J}track(Y,J={}){const te=this.props.metricsPost;te&&(0,d.j)(Y,Object.assign({post_id:te.id,publication_id:te.publication_id,is_podcast_free_preview:(0,v.podcastPostIsFreePreview)(te),current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0,playback_rate:this.state.playbackRate},J))}render({src:Y,autoPlay:J,pub:te,post:ie,isFancy:se,showCTAs:W,metricsPost:z,addToPodcastLink:Q,isPaywalled:oe,render:ne}){const{iString:ae}=this.context;if(ne){const{dragTime:le,duration:ue,currentTime:fe,playbackRate:he}=this.state,be=typeof le=="number"?le:fe;return(0,n.h)(n.Fragment,null,ne({isPaywalled:oe,progress:ue?(typeof le=="number"?le:fe)/ue:0,currentTime:ue?(0,y.secondsToHHMMSS)(be):"--:--",dragTime:typeof le=="number"?(0,y.secondsToHHMMSS)(le):null,remainingTime:ue?`-${(0,y.secondsToHHMMSS)(ue-Math.min(be,ue))}`:"--:--",isPlaying:this.state.playing,playbackRate:he,progressBarOnMouseDown:ve=>{this.onMouseDown(ve)},progressBarRef:ve=>{this.progressBar=ve},setPlaybackRate:ve=>{this.setPlaybackRate(ve)},skipBack:()=>{this.skipBack()},skipForward:()=>{this.skipForward()},togglePlayback:()=>{this.togglePlayback()}}),Y&&!oe&&(0,n.h)("audio",{ref:ve=>{this.player=ve},src:Y,autoPlay:J},ae("Audio playback is not supported on your browser. Please upgrade.")))}return se?this.renderFancy({src:Y,autoPlay:J,pub:te,post:ie,metricsPost:z,showCTAs:W}):this.renderOriginal({src:Y,autoPlay:J,pub:te,metricsPost:z,addToPodcastLink:Q})}renderFancy({src:Y,autoPlay:J,pub:te,post:ie,showCTAs:se}){const{iString:W}=this.context,z=(0,P.getPodcastEpisodeImageUrl)(te,ie);return(0,n.h)(n.Fragment,null,(0,n.h)("div",{className:"audio-player-wrapper-fancy"},(0,n.h)("div",{className:"audio-player"},(0,n.h)("div",{className:"audio-player-substack-logo audio-player-clickable",onClick:this.openEpisodePage},(0,n.h)(_.Z,{color:"#F8F8F8"})),(0,n.h)("div",{className:"audio-player-hero-image-container audio-player-clickable",onClick:this.openEpisodePage},z&&(0,n.h)("img",{className:"audio-player-hero-image audio-player-clickable",src:(0,O.imginary)(z,500,{height:500,crop:"fill"}),onClick:this.openEpisodePage})),(0,n.h)("div",{className:"audio-player-title audio-player-clickable",onClick:this.openEpisodePage},ie.title),(0,n.h)("div",{className:"audio-player-subtitle audio-player-clickable",onClick:this.openEpisodePage},ie.subtitle),Y&&(0,n.h)("audio",{"data-testid":"audio-element",ref:Q=>this.player=Q,src:Y,autoPlay:J},W("Audio playback is not supported on your browser. Please upgrade.")),this.renderProgressFancy(this.props,this.state),this.renderButtonsFancy(this.props,this.state),se&&(0,n.h)("div",{className:"btn-group"},(0,n.h)(T.Z,{className:"bold text-gray-foreground",newTab:!0,onClick:this.openEpisodePage},W("View post")),(0,n.h)(T.Z,{className:"primary bold subscribe-btn",href:this.maybeAppendIframeVisitId((0,O.getSubscribeUrl)(te,F(R({},K),{simple:!0,next:(0,O.getPostUrl)(te,ie)}))),newTab:!0},(0,y.getSubscribeText)(te))))))}renderOriginal({src:Y,autoPlay:J,pub:te,addToPodcastLink:ie}){const{iString:se}=this.context;return(0,n.h)("div",{className:"audio-player-wrapper"},(0,n.h)("div",{className:"audio-player"},Y&&(0,n.h)("audio",{ref:W=>this.player=W,src:Y,autoPlay:J},se("Audio playback is not supported on your browser. Please upgrade.")),this.renderButtons(this.props,this.state),this.renderProgress(this.props,this.state)),ie&&!te.hide_podcast_feed_link&&(0,n.h)("div",{className:"audio-player-add-to-podcast-link",href:ie},(0,n.h)("a",{href:ie,target:"_blank",rel:"noopener"},se("Listen in podcast app"))))}renderButtonsFancy({src:Y,href:J},{playing:te,waiting:ie,playbackRate:se}){return(0,n.h)("div",{className:"audio-player-buttons"},(0,n.h)("button",{className:"audio-player-backward","aria-pressed":"false",onClick:()=>this.skipBack()},(0,n.h)(C.Z,{className:"skip-icon"})),(0,n.h)("button",{className:u()("audio-player-play",{pause:"playing",waiting:ie}),"aria-pressed":"false",onClick:()=>this.togglePlayback()},te?(0,n.h)(i.Z,{className:"playback-icon pause",fill:"#1C110B"}):(0,n.h)(s.Z,{className:"playback-icon play",fill:"#1C110B"})),(0,n.h)("button",{className:"audio-player-forward","aria-pressed":"false",onClick:()=>this.skipForward()},(0,n.h)(p.Z,{className:"skip-icon"})))}renderButtons({src:Y,href:J,isStatic:te},{playing:ie,waiting:se,playbackRate:W}){return(0,n.h)("div",{className:"audio-player-buttons"},(0,n.h)("table",{className:"custom"},(0,n.h)("tr",null,(0,n.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"),(0,n.h)("td",{className:"audio-player-backward"},(0,n.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:J||"javascript:void(0)",onClick:()=>this.skipBack()},(0,n.h)(C.Z,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:te}))),(0,n.h)("td",{className:`audio-player-play ${ie?"pause":""} ${se?"waiting":""}`},(0,n.h)("a",{className:"button",role:"button",tabIndex:"0","aria-pressed":"false",href:J||"javascript:void(0)",onClick:()=>this.togglePlayback()},(0,n.h)("img",{src:(0,O.imginary)(ie?"/img/audio-player-pause.png":"/img/audio-player-play.png",96)}))),(0,n.h)("td",{className:"audio-player-forward"},(0,n.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:J||"javascript:void(0)",onClick:()=>this.skipForward()},(0,n.h)(p.Z,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:te}))),(0,n.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"))),Y&&(0,n.h)(H,{currentPlaybackRate:W,setPlaybackRate:this.setPlaybackRate}))}renderProgress({},{duration:Y,currentTime:J,dragTime:te}){return(0,n.h)("div",{className:"audio-player-progress"},(0,n.h)("table",{className:"custom"},(0,n.h)("tr",null,(0,n.h)("td",{className:"audio-player-progress-past"},Y?(0,y.secondsToHHMMSS)(J):"--:--"),(0,n.h)("td",{ref:ie=>this.progressBar=ie,className:"audio-player-progress-bar",onMouseDown:ie=>this.onMouseDown(ie)},(0,n.h)("div",{className:"audio-player-progress-bar-track"}),(0,n.h)("div",{className:"audio-player-progress-bar-filled",style:`width:${Y?100*(typeof te=="number"?te:J)/Y:0}%`}),(0,n.h)("div",{className:"audio-player-progress-bar-current",style:`left:${Y?100*J/Y:0}%`}),(0,n.h)("div",{className:"audio-player-progress-bar-button",style:`left:${Y?100*(typeof te=="number"?te:J)/Y:0}%`}),typeof te=="number"&&(0,n.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${Y?100*te/Y:0}%`},(0,y.secondsToHHMMSS)(te))),(0,n.h)("td",{className:"audio-player-progress-left"},Y?`-${(0,y.secondsToHHMMSS)(Y-Math.min(J,Y))}`:"--:--"))))}renderProgressFancy({},{duration:Y,currentTime:J,dragTime:te,lastDragClearedAt:ie}){const se=typeof te=="number",W=ie?performance.now()-ie<50:!1;return(0,n.h)(n.Fragment,null,(0,n.h)("div",{className:"audio-player-progress"},(0,n.h)("div",{ref:z=>this.progressBar=z,className:"audio-player-progress-bar",onMouseDown:z=>this.onMouseDown(z)},(0,n.h)("div",{className:"audio-player-progress-bar-track"}),(0,n.h)("div",{className:"audio-player-progress-bar-filled",style:{width:`${Y?100*(se?te:J)/Y:0}%`}}),(0,n.h)("div",{className:u()("audio-player-progress-bar-current",{"audio-player-progress-bar-current-placeholder":se,"audio-player-progress-bar-current-disable-animations":W}),style:`left:${Y?100*J/Y:0}%`}),se&&(0,n.h)("div",{className:"audio-player-progress-bar-current audio-player-progress-bar-current-dragging",style:`left:${Y?100*te/Y:0}%`}),se&&(0,n.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${Y?100*te/Y:0}%`},(0,y.secondsToHHMMSS)(te)))),(0,n.h)("div",{className:"audio-player-time-wrapper"},(0,n.h)("div",{className:"audio-player-progress-past"},Y?(0,y.secondsToHHMMSS)(J):"--:--"),(0,n.h)("div",{className:"audio-player-progress-left"},Y?`-${(0,y.secondsToHHMMSS)(Y-Math.min(J,Y))}`:"--:--")))}}Z(re,"contextType",E.wj)},81671:(j,l,e)=>{"use strict";e.d(l,{Z:()=>g});var n=e(6400),c=e(94184),u=e.n(c),v=e(15045),O=e(83322),y=e(31471);function E({href:P,linkify:S,children:T,openInNewTab:C}){return S?C?(0,n.h)("a",{href:P,target:"_blank"},T):(0,n.h)("a",{href:P,native:!0},T):T}const g=({pub:P,href:S="",logo_url:T,showHover:C=!1,byline:p=null,proof:i=null,size:s=196,linkify:_=!0,title:w=null,className:x="",noMargin:D=!1,openInNewTab:N=!1,isStatic:I=!1,belowTheFold:A=!1})=>{var M;return(0,n.h)("div",{className:u()("pub-icon",!D&&"pub-icon-margin",x),title:w},C&&(0,n.h)("div",{className:"logo-hover"},(0,n.h)("div",{className:"logo-hover-title"},(0,n.h)("a",{href:S||P.base_url,native:!0},(P.name||P.subdomain)+(p?` by ${p}`:""))),(0,n.h)("div",{className:"logo-hover-proof"},i),(0,n.h)("div",{className:"logo-hover-description"},P.hero_text)),(0,n.h)(E,{href:S||P.base_url,linkify:_,openInNewTab:N},T?I?(0,n.h)("img",{src:(0,v.imginary)(T,s*2,{height:s*2,crop:"fill"}),width:s,height:s,className:"custom",alt:P.name}):(0,n.h)(y.e,{className:"custom",alt:P.name,imageProps:{height:s,crop:"fill"},maxWidth:s,src:T,width:s,height:s,loading:A?"lazy":null,useRetinaSizing:!0,imageIsFixedWidth:!0}):(0,n.h)("span",{className:"placeholder",style:P.theme_var_background_pop?`border-color:${(0,O.colorLightness)(P.theme_var_background_pop,.7)} ${P.theme_var_background_pop} ${P.theme_var_background_pop} ${(0,O.colorLightness)(P.theme_var_background_pop,.7)}`:""},(M=P.name||P.subdomain)==null?void 0:M[0])))}},86804:(j,l,e)=>{"use strict";e.d(l,{Z:()=>O});var n=e(6400),c=(g,P,S)=>new Promise((T,C)=>{var p=_=>{try{s(S.next(_))}catch(w){C(w)}},i=_=>{try{s(S.throw(_))}catch(w){C(w)}},s=_=>_.done?T(_.value):Promise.resolve(_.value).then(p,i);s((S=S.apply(g,P)).next())});const u="https://www.google.com/recaptcha/api.js?render=explicit&onload=__captchaOnloadCallback";let v=!1;typeof window!="undefined"&&(window.__captchaOnloadCallback=E);class O extends n.Component{componentDidMount(){return c(this,null,function*(){yield d(),this.captchaId=window.grecaptcha.render(this.base,{sitekey:window._preloads.captcha_site_key,size:"compact"})})}getResponse(){return window.grecaptcha.getResponse(this.captchaId)}render({className:P}){return(0,n.h)("div",{className:P})}}function y(){const g=document.getElementsByTagName("script")[0],P=document.createElement("script");P.type="text/javascript",P.async=!0,P.defer=!0,P.src=u,g.parentNode.insertBefore(P,g)}function E(){if(v){const g=v;v=!0;for(const P of g)P()}}function d(){return new Promise(g=>{v===!0?g():v===!1?(v=[g],y()):v.push(g)})}},19826:(j,l,e)=>{"use strict";e.d(l,{EJ:()=>d.E,Fx:()=>i,ZP:()=>p});var n=e(6400),c=e(94184),u=e.n(c),v=e(39419),O=e.n(v),y=e(7922),E=e(26059),d=e(22939),g=Object.defineProperty,P=(s,_,w)=>_ in s?g(s,_,{enumerable:!0,configurable:!0,writable:!0,value:w}):s[_]=w,S=(s,_,w)=>(P(s,typeof _!="symbol"?_+"":_,w),w);const T="active",C=.7;class p extends n.Component{constructor(_,w){if(super(_,w),S(this,"onDocumentMouseUp",x=>{!(0,v.isRootOrChild)(x.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}),S(this,"onDocumentKeyDown",x=>{x.key==="Escape"&&this.state.active&&this.close()}),S(this,"onWindowResize",()=>{this.placeDropdown()}),S(this,"placeDropdown",()=>{var x,D;if(!this.base||this.useDrawerStyle()||this.props.noPlace){this.setState({left:null,right:null});return}const N=this.base.getBoundingClientRect(),I=N.width/(this.state.active?1:C),A=N.right+(I-N.width)/2,M=N.left-(I-N.width)/2,R=typeof window!="undefined"&&window.innerWidth;if(I>=R)return;const F=typeof window!="undefined"&&window.getComputedStyle(this.base),Z=!isNaN(parseFloat(F.left))&&parseFloat(F.left),V=!isNaN(parseFloat(F.right))&&parseFloat(F.right),G=(x=this.state.originalLeft)!=null?x:F.left,$=(D=this.state.originalRight)!=null?D:F.right;typeof this.state.originalLeft=="undefined"&&this.setState({originalLeft:G}),typeof this.state.originalRight=="undefined"&&this.setState({originalRight:$}),M<0?typeof this.state.left=="number"?this.setState({left:this.state.left-M,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+M}):typeof V=="number"?this.setState({left:null,right:V+M}):this.setState({left:(Z||0)-M,right:null}):A>=R&&(typeof this.state.left=="number"?this.setState({left:this.state.left-A+R,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+A-R}):typeof Z=="number"?this.setState({left:Z-A+R,right:null}):this.setState({left:null,right:(V||0)+A-R}))}),typeof window!="undefined"&&(window!=null&&window.matchMedia)){const x=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:x.matches};const D=N=>{this.setState({isMobileWidth:N.matches})};x.addEventListener?x.addEventListener("change",D):x.addListener&&x.addListener(D)}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.addEventListener("resize",this.onWindowResize),this.placeDropdown()}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.removeEventListener("resize",this.onWindowResize)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:_=null}={}){this.blockToggle||(0,v.stateTransaction)(this,w=>{_===null&&(_=!w.active),this.props.preventScrollBehindDrawer&&this.useDrawerStyle()&&document.documentElement.classList[_?"add":"remove"]("modal-in"),this.setState({active:_},()=>{this.props.onToggle&&this.props.onToggle({active:_})})})}isOpen(){return!!this.state.active}useDrawerStyle(){return this.props.useDrawerOnMobile&&this.state.isMobileWidth}drawerBackdropClicked(){this.props.backdropDismiss&&this.close()}render({noTail:_,attachOnActive:w,noDrawerCloseButton:x},{active:D}){const N=(0,n.toChildArray)(this.props.children),I={},A={};typeof this.state.left=="number"?(I.left=`${this.state.left}px`,I.right="unset",A.right=`calc(50% + ${this.state.left-parseFloat(this.state.originalLeft)||0}px)`):typeof this.state.right=="number"&&(I.left="unset",I.right=`${this.state.right}px`,A.right=`calc(50% - ${this.state.right-parseFloat(this.state.originalRight)||0}px)`);const M=this.useDrawerStyle();return(0,n.h)(n.Fragment,null,M&&(0,n.h)("div",{className:u()("dropdown-drawer-backdrop",{[T]:D}),onclick:R=>{R.stopPropagation(),this.drawerBackdropClicked()}}),(!w||D||M)&&(0,n.h)("ul",{className:u()("dropdown-menu",this.props.className,{[T]:D,"no-rect":this.props.noRectWhenClosed,drawer:M,tooltip:!M,"no-place":!!this.props.noPlace}),style:I},!_&&!this.useDrawerStyle()&&(0,n.h)(n.Fragment,null,(0,n.h)("div",{className:"dropdown-menu-tail",style:A}),(0,n.h)("div",{className:"dropdown-menu-tail-shadow",style:A})),(0,n.h)("div",{className:u()("dropdown-menu-wrapper",this.props.wrapperClassName)},M&&!x&&(0,n.h)(y.k,{className:"drawer-close-button",onClick:R=>{R.stopPropagation(),this.close()}},(0,n.h)(E.Z,{height:24,className:"drawer-close-icon"})),this.props.noList?N:N.map(R=>(0,n.h)("li",null,R)))))}}class i extends n.Component{constructor(_){super(_),S(this,"onDocumentMouseUp",w=>{!(0,v.isRootOrChild)(w.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}),S(this,"onDocumentKeyDown",w=>{w.key==="Escape"&&this.close()}),S(this,"onWindowResize",()=>{this.placeDropdown()})}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:_=null}={}){this.blockToggle||(0,v.stateTransaction)(this,w=>{_===null&&(_=!w.active),this.setState({active:_},()=>{this.props.onToggle&&this.props.onToggle()})})}isOpen(){return!!this.state.active}render(){const _=(0,n.toChildArray)(this.props.children);return this.props.noList?(0,n.h)("div",{className:u()("dropdown-menu tooltip",this.props.className,{[T]:this.state.active}),ref:this.props.forwardedRef},(0,n.h)("div",{className:"dropdown-menu-wrapper"},_)):(0,n.h)("ul",{className:u()("dropdown-menu tooltip",this.props.className,{[T]:this.state.active}),ref:this.props.forwardedRef},!this.props.hideMenuTail&&(0,n.h)("div",{className:"dropdown-menu-tail"}),!this.props.hideMenuTail&&(0,n.h)("div",{className:"dropdown-menu-tail-shadow"}),(0,n.h)("div",{className:"dropdown-menu-wrapper"},_.map(w=>(0,n.h)("li",null,w))))}}},23890:(j,l,e)=>{"use strict";e.d(l,{GP:()=>D,UD:()=>w,ZP:()=>M,ew:()=>A,lQ:()=>s});var n=e(6400),c=e(94184),u=e.n(c),v=e(80569),O=e.n(v),y=e(83322),E=e(3258),d=Object.defineProperty,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,T=(R,F,Z)=>F in R?d(R,F,{enumerable:!0,configurable:!0,writable:!0,value:Z}):R[F]=Z,C=(R,F)=>{for(var Z in F||(F={}))P.call(F,Z)&&T(R,Z,F[Z]);if(g)for(var Z of g(F))S.call(F,Z)&&T(R,Z,F[Z]);return R},p=(R,F)=>{var Z={};for(var V in R)P.call(R,V)&&F.indexOf(V)<0&&(Z[V]=R[V]);if(R!=null&&g)for(var V of g(R))F.indexOf(V)<0&&S.call(R,V)&&(Z[V]=R[V]);return Z},i=(R,F,Z)=>new Promise((V,G)=>{var $=re=>{try{H(Z.next(re))}catch(ee){G(ee)}},K=re=>{try{H(Z.throw(re))}catch(ee){G(ee)}},H=re=>re.done?V(re.value):Promise.resolve(re.value).then($,K);H((Z=Z.apply(R,F)).next())});function s(R,F){if(typeof window=="undefined"||typeof window.Stripe=="undefined")return null;const Z={};return F&&F.stripe_user_id?y.NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES.includes(F.stripe_country)&&(Z.stripeAccount=F.stripe_user_id):console.warn("No publication passed for Stripe connection"),window.Stripe(R,Z)}function _(R,F){if(typeof window=="undefined"||typeof window.Stripe=="undefined"||!(F!=null&&F.stripe_user_id))return null;const Z={stripeAccount:F.stripe_user_id};return window.Stripe(R,Z)}function w(R){return R.elements({locale:window._preloads&&window._preloads.language||"auto"}).create("card",{style:{base:{fontSize:"14px",lineHeight:"40px",fontFamily:'-apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'}}})}function x(R,F,{email:Z,name:V,country:G,themeVariables:{color_theme_accent:$,color_theme_bg_contrast_2:K,print_on_pop:H,print_on_web_bg_color:re,print_secondary_on_web_bg_color:ee}={}}={}){const Y={theme:"flat",variables:{colorBackground:K||void 0,colorPrimary:$||void 0,colorPrimaryText:H||void 0,colorText:re||void 0,colorTextPlaceholder:ee||void 0,colorTextSecondary:ee||void 0}},J=R.elements({clientSecret:F,appearance:Y,locale:window._preloads&&window._preloads.language||"auto"});return{elements:J,paymentElement:J.create("payment",{layout:{type:"tabs",defaultCollapsed:!1},defaultValues:{billingDetails:{email:Z,name:V,address:{country:G}}},terms:{card:"never"}})}}class D extends n.Component{componentDidMount(){this.props.element&&this.props.element.mount(this.elementContainer)}componentDidUpdate(F){this.props.element&&!F.element&&this.props.element.mount(this.elementContainer)}componentWillUnmount(){if(this.props.element)try{this.props.element.unmount(this.elementContainer)}catch(F){}}render({className:F,element:Z,isPaymentElement:V}){if(!(!Z&&!V))return(0,n.h)("div",{className:u()("fancy-stripe",F,{"payment-element":V})},(0,n.h)("div",{ref:G=>this.elementContainer=G}))}}class N extends n.Component{constructor(F,Z){if(super(F,Z),F.stripe&&F.pub.stripe_country){(0,E.j)(E.FP.APPLE_PAY_SETUP_STARTED);try{const V=this.props.stripe.paymentRequest({country:this.props.pub.stripe_country,currency:this.props.plan.currency,total:this.getPaymentTotal(),requestPayerName:!0,requestPayerEmail:!0}),G=this.props.stripe.elements().create("paymentRequestButton",{paymentRequest:V});this.state={paymentRequest:V,stripeButton:G}}catch(V){console.error(V),(0,E.j)(E.FP.APPLE_PAY_SETUP_FINISHED,{success:!1})}}}componentDidMount(){return i(this,null,function*(){let F=!1;if(this.state.paymentRequest){try{const Z=yield this.state.paymentRequest.canMakePayment();Z&&Z.applePay&&(F=!0)}catch(Z){console.error(Z)}(0,E.j)(E.FP.APPLE_PAY_SETUP_FINISHED,{success:F})}yield this.setState({canMount:F}),F?(this.button||(yield new Promise(Z=>setTimeout(Z,0))),this.state.stripeButton.mount(this.button),this.state.paymentRequest.on("token",Z=>this.onTokenReceived(Z)),this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})):this.props.onVisibilityChanged&&this.props.onVisibilityChanged(!1)})}componentDidUpdate(F){let Z=!1;for(const V of["pub","plan","quantity","coupon","notRecurring","variableAmount"])if(F[V]!==this.props[V]||V==="coupon"&&F[V]&&F[V].loading&&(!this.props[V]||!this.props[V].loading)){Z=!0;break}Z&&this.state.paymentRequest&&this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})}componentWillUnmount(){if(this.state.paymentRequest&&this.state.paymentRequest.off("token"),this.state.stripeButton)try{this.state.stripeButton.unmount(this.button)}catch(F){}}onTokenReceived(F){return i(this,null,function*(){(0,E.j)(E.FP.APPLE_PAY_ATTEMPED);try{yield this.props.onSuccess({email:F.payerEmail,name:F.payerName,stripe_token:F.token}),F.complete("success"),(0,E.j)(E.FP.APPLE_PAY_SUCCEEDED)}catch(Z){console.error("Apple Pay submission failed:",F,Z),F.complete("fail"),(0,E.j)(E.FP.APPLE_PAY_FAILED,{reason:Z.message})}})}getPaymentTotal(){var F;const{pub:Z,plan:V,quantity:G,coupon:$,notRecurring:K,variableAmount:H}=this.props;let re=0,ee=Math.max(0,V.trial_period_days||0,$&&!$.error&&!$.loading&&$.trial_period_days||0,Z.trial_end_override&&Math.ceil((Z.trial_end_override-Date.now()/1e3)/60/60/24));K&&(ee=0);const J=(((F=V.metadata)==null?void 0:F.founding)&&H||V.amount)*(G||1);let te=J;$&&!$.error&&!$.loading&&($.percent_off?te=Math.round(te*(1-($.percent_off_precise||$.percent_off)/100)):$.amount_off&&(te=Math.max(0,te-$.amount_off)),te<=0&&(te=J,$.duration==="once"?V.interval==="year"?re+=12*V.interval_count:re+=V.interval_count:$.duration==="repeating"&&(re+=$.duration_in_months)));let ie;return K?ie="one-time":(ie=`${this.props.plan.interval}ly`,this.props.quantity>1&&(ie+=" per person"),re?(ee>15&&(re+=parseInt(ee/30)),ie+=` with ${re}-month trial`):ee&&(ie+=` with ${ee}-day trial`)),{label:ie,amount:te}}render({children:F,className:Z,error:V},{canMount:G}){if(!(typeof G!="undefined"&&!G&&typeof window!="undefined"))return(0,n.h)("div",{className:"apple-pay-parent-container"},G?(0,n.h)("div",{className:`apple-pay-element ${Z||""}`,ref:$=>this.button=$}):(0,n.h)("p",{className:`apple-pay-loader ${Z||""}`},"Loading\u2026"),V&&(0,n.h)("div",{className:"error"},V),F)}}class I extends n.Component{render(F,Z){var V=F,{children:G,ref:$}=V,K=p(V,["children","ref"]);return(0,n.h)("div",{className:"fancy-input"},(0,n.h)("input",C({ref:H=>this._input=H},K)),G)}blur(){this._input&&this._input.blur()}}class A extends Error{constructor(F){super(F),this.response={body:{error:this.message}}}}class M extends n.Component{constructor(F,Z){super(F,Z),this.state={_paramErrors:{},_otherErrors:[],_stripeError:null,loading:!1},this.props.stripe_publishable_key&&(this._stripe=s(this.props.stripe_publishable_key,this.props.pub),this._stripe&&(this.props.useStripePaymentElement||(this._stripeCardOrPaymentElement=w(this._stripe)),this._connectedStripe=_(this.props.stripe_publishable_key,this.props.pub)))}getInputs(){const F=[];if(this.base){const Z=Array.from(this.base.getElementsByTagName("*"));for(const V of Z)["INPUT","TEXTAREA","SELECT"].includes(V.nodeName)&&V.getAttribute("name")&&V.id!=="g-recaptcha-response"&&F.push(V)}return F}resetErrors(){this.setState({_paramErrors:{},_otherErrors:[]})}clear(){this.resetErrors();for(const F of this.getInputs())F.blur&&F.blur(),F.type==="checkbox"?F.checked=!1:F.type==="select"?F.selectedIndex=-1:F.type==="radio"?F.checked=!1:F.target?F.target.value="":F.value=""}handleStripeChange({error:F}){F?this.setState({_stripeError:F.message}):this.setState({_stripeError:null})}componentDidMount(){this._mountTime=new Date,this._stripeCardOrPaymentElement&&this._stripeCardOrPaymentElement.addEventListener("change",F=>this.handleStripeChange(F))}componentDidUpdate(F){const{country:Z,email:V,name:G,stripeClientSecret:$,themeVariables:K,useStripePaymentElement:H,isPlatformCustomer:re}=this.props;H&&$!==F.stripeClientSecret&&($?(this.setState({loading:!0}),{elements:this._stripeElements,paymentElement:this._stripeCardOrPaymentElement}=x(re?this._stripe:this._connectedStripe,$,{email:V,name:G,country:Z,themeVariables:K}),this.setState({loading:!1})):F.stripeClientSecret&&(this._stripeCardOrPaymentElement.destroy(),this._stripeCardOrPaymentElement=null))}componentWillUnmount(){this._stripeCardOrPaymentElement&&this._stripeCardOrPaymentElement.destroy()}onInputBlur(F){this.props.analyticsName&&new Date().getTime()-this._mountTime>1e3&&F.target&&F.target.value&&!F.target._blurTracked&&((0,E.j)(`${this.props.analyticsName} Input Filled`,{name:F.target.name}),F.target._blurTracked=!0)}onPaymentRequestAttempt(F){return i(this,null,function*(){const Z=yield this.handleSubmitAsync(null,F);if(Z)throw Z})}handleSubmit(F){F&&F.preventDefault(),this.handleSubmitAsync(F).catch(Z=>{console.error(Z)})}handleSubmitAsync(F){return i(this,arguments,function*(Z,V={}){var G,$;if(Z&&Z.preventDefault(),this.props.analyticsName&&(0,E.j)(`${this.props.analyticsName} Submit Pressed`),this.props.loading||this.state.loading||this.props.disableSubmit)return;this.resetErrors(),this.setState({loading:!0});const K=this.props.method?this.props.method:"post";let H=null;if(this.stripeElement&&!V.stripe_token&&!this.props.useStripePaymentElement){const{token:J,error:te}=this._stripe?yield this._stripe.createToken(this._stripeCardOrPaymentElement):{error:{message:""}};if(J)H=J;else{this.setState({loading:!1,_stripeError:te&&te.message}),this.props.analyticsName&&(console.log("error",te),(0,E.j)(`${this.props.analyticsName} Missing Payment`,{type:te&&te.type,code:te&&te.code,decline_code:te&&te.decline_code,reason:te&&te.message}));return}}let re={};for(const J of this.getInputs())J.blur&&J.blur(),J.type=="checkbox"?re[J.name]=!!J.checked:J.type=="radio"?J.checked&&(re[J.name]=J.value):J.type==="select"?re[J.name]=J.options[J.selectedIndex].value:re[J.name]=J.value;if(Object.keys(V).forEach(J=>{!re[J]&&V[J]&&(re[J]=V[J])}),H&&(re.stripe_token=H),this.props.prepareData)try{const J=yield this.props.prepareData(re,Z);J&&(re=J)}catch(J){throw this.setState({loading:!1}),J}this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!0);let ee,Y;try{if(this.props.performSubmit)this.props.useStripePaymentElement?ee=yield this.props.performSubmit(re,{confirmSetup:J=>(this.props.isPlatformCustomer?this._stripe:this._connectedStripe).confirmSetup({elements:this._stripeElements,redirect:"if_required",confirmParams:J})}):ee=yield this.props.performSubmit(re);else if(this.props.action){const J=O()[K](this.props.action);this.props.method&&this.props.method==="get"?ee=yield J.query(re):ee=yield J.send(re)}else this.props.onSubmit&&this.props.onSubmit(re)}catch(J){Y=J}if((G=ee==null?void 0:ee.body)!=null&&G.confirmPaymentUrl&&ee.body.clientSecret&&this._connectedStripe){(0,E.j)(E.FP.PAYMENT_CONFIRMATION_STARTED);const J=yield this._connectedStripe.confirmCardPayment(ee.body.clientSecret);if(J.error){(0,E.j)(E.FP.PAYMENT_CONFIRMATION_FAILED,{error:($=J.error)==null?void 0:$.message});const te={error:J.error.message||"Failed to confirm payment"};Y={response:{body:te,text:JSON.stringify(te)}}}else(0,E.j)(E.FP.PAYMENT_CONFIRMATION_SUCCEEDED)}if(this.setState({loading:!1}),this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!1),!Y)this.props.onSuccess&&this.props.onSuccess(ee,re);else if(this.processErrors(Y.response),this.props.onError&&this.props.onError(Y),!Y.response)throw Y;return Y})}processErrors(F){const Z={},V=[];if(F&&F.body&&F.body.errors){const G=this.getInputs();F.body.errors.forEach($=>{this.props.noInlineErrors!==!0&&$.param&&G.filter(K=>K.getAttribute("name")===$.param).length>0?Z[$.param]?(console.log("Discarding repeated error"),console.log($)):Z[$.param]=$:V.push($)})}else F&&F.body&&typeof F.body.error=="string"?V.push({msg:F.body.error}):V.push({msg:"Something went wrong"});this.setState({_paramErrors:Z,_otherErrors:V}),this.props.analyticsName&&(0,E.j)(`${this.props.analyticsName} Error`,{paramErrors:JSON.stringify(Z),otherErrors:JSON.stringify(V)})}render(F,Z){const V=F.autoLock&&Z.loading||F.loading;let G=!1,$=!1;const K=H=>{const re=[];return(0,n.toChildArray)(H).forEach(ee=>{if(!ee)return null;if((ee.type===I||ee.type==="input"||ee.type==="textarea"||ee.type==="select")&&ee.props&&ee.props.name){const Y=ee.props.name;if(re.push((0,n.cloneElement)(ee,{disabled:V||ee.props.disabled,onChange:J=>{var te,ie;const se=((te=ee.props)==null?void 0:te.onChange)||((ie=ee.props)==null?void 0:ie.onInput);se&&se(J),this.props.onChange&&this.props.onChange(J)},onInput:J=>{ee.props&&ee.props.onInput&&ee.props.onInput(J),this.props.onInput&&this.props.onInput(J)},onBlur:J=>{this.onInputBlur(J),ee.props&&ee.props.onBlur&&ee.props.onBlur(J)}})),Z._paramErrors[Y]&&!V){const J=Z._paramErrors[Y];J.msgHTML?re.push((0,n.h)("div",{className:"error",name:Y,dangerouslySetInnerHTML:{__html:J.msgHTML}})):re.push((0,n.h)("div",{className:"error",name:Y},J.msg||"Invalid"))}}else if(ee.props&&ee.props.type==="submit")re.push((0,n.cloneElement)(ee,{disabled:V||ee.props.disabled,onClick:Y=>{ee.props&&ee.props.onClick&&ee.props.onClick(Y)!==!1&&this.handleSubmit(Y)}}));else if(ee.props&&ee.props.id==="error-container"){if(Z._otherErrors&&!V){const Y=Z._otherErrors.map(J=>J.msgHTML?(0,n.h)("div",{className:"error other-error",dangerouslySetInnerHTML:{__html:J.msgHTML}}):(0,n.h)("div",{className:"error other-error"},J.msg)).concat(ee.props&&ee.props.children?(0,n.toChildArray)(ee.props.children):[]);re.push((0,n.cloneElement)(ee,{},Y))}}else if(ee.type===D){if(G)throw new Error("Can only handle one stripe element");G=!0,re.push((0,n.cloneElement)(ee,{ref:Y=>{ee.props&&ee.props.ref&&ee.props.ref(Y),this.stripeElement=Y},element:this._stripeCardOrPaymentElement,isPaymentElement:this.props.useStripePaymentElement})),(Z._stripeError||!this._stripeCardOrPaymentElement)&&!V&&typeof window!="undefined"&&re.push((0,n.h)("div",{className:u()("error",F.stripeErrorClassName),role:"alert"},Z._stripeError||"Stripe payments not loaded. Are there blocked scripts?"))}else if(ee.type===N){if($)throw new Error("Can only handle one stripe payment request button");$=!0,re.push((0,n.cloneElement)(ee,{ref:Y=>{ee.props&&ee.props.ref&&ee.props.ref(Y),this.stripePaymentRequestButton=Y},stripe:this._stripe,onSuccess:Y=>(ee.props&&ee.props.onSuccess&&ee.props.onSuccess(Y),this.onPaymentRequestAttempt(Y))}))}else ee.props&&ee.props.children?re.push((0,n.cloneElement)(ee,{},K(ee.props.children))):re.push(ee)}),re};return(0,n.h)("form",C({className:`form ${F.className||""}`,action:F.noJsAction||F.action,method:F.method&&["get","post"].includes(F.method.toLowerCase())&&F.method.toLowerCase()||"post",autoComplete:F.autoComplete,onSubmit:H=>this.handleSubmit(H),noValidate:!0},F.enctype&&{enctype:F.enctype}),K(F.children))}}},41406:(j,l,e)=>{"use strict";e.d(l,{Z:()=>Q});var n=e(6400),c=e(94184),u=e.n(c),v=e(7922),O=e(23890),y=e(28488),E=e(1824),d=e(3258),g=e(72496),P=e(39419),S=e(30396),T=e(5285),C=e(92271),p=e(51126),i=e(43887);const s={animationWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__animationWrapper--UT0du",wrapper:"frontend-login-typo_handler-EmailTypoHandler-module__wrapper--jLAJH",secondaryText:"frontend-login-typo_handler-EmailTypoHandler-module__secondaryText--j9Xhk",primaryText:"frontend-login-typo_handler-EmailTypoHandler-module__primaryText--pyBNR",typoHandler:"frontend-login-typo_handler-EmailTypoHandler-module__typoHandler--gViyO",buttonFill:"frontend-login-typo_handler-EmailTypoHandler-module__buttonFill--XorHI",buttonWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__buttonWrapper--me9Bp"},_=({emailSuggestions:oe,currentEmail:ne,onAccept:ae,onReject:le})=>{const ue=(0,P.isMobileBrowser)(),[fe,he]=(0,S.eJ)(!1),[be,ve]=(0,S.eJ)(null),Te=(0,S.sO)(null),we=Be=>{he(!1),(0,d.j)(d.FP.EMAIL_TYPO_SUGGESTION_REJECTED,{email_provided:ne,email_suggested:Be}),le&&le()},Se=oe&&ne&&oe[ne]&&oe[ne]!=ne.trim(),We=Be=>{he(!1),(0,d.j)(d.FP.EMAIL_TYPO_SUGGESTION_ACCEPTED,{email_provided:ne,email_suggested:Be}),ae(Be)};(0,S.d4)(()=>{if(Se){const Be=oe[ne];(0,d.j)(d.FP.EMAIL_TYPO_SUGGESTION_SHOWN,{email_provided:ne,email_suggested:Be}),ve(Be),he(!0)}else he(!1)},[Se,oe,ne]);const{iString:Ae}=(0,y.M1)();return(0,n.h)("div",{className:s.animationWrapper},(0,n.h)(T.u,{show:fe,enter:"tw-transition-all tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-[-40%]",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-[-40%]",ref:Te},(0,n.h)(p.hs,{className:s.wrapper,paddingTop:16,paddingX:{mobile:16},alignItems:"start"},(0,n.h)(p.tu,{className:s.typoHandler,border:"detail",paddingY:24,paddingX:20,radius:6,alignItems:"start",gap:20},(0,n.h)(i.xv,{translated:!0,size:16,font:"display",className:s.secondaryText},"Did you mean"," ",(0,n.h)(i.xv,{as:"span",weight:"semibold",className:s.primaryText},I18N.p(be||"")),"?"),(0,n.h)(p.gq,{justifyContent:"space-between",flex:"grow",gap:12,className:s.buttonWrapper},(0,n.h)(C.z,{onClick:()=>We(be),className:s.buttonFill,variant:"themed-primary"},Ae(ue?"Yes":"Yes, Subscribe with correction")),(0,n.h)(C.z,{className:s.buttonFill,variant:"secondary",onClick:()=>we(be)},Ae("No")))))))};var w=e(23279),x=e.n(w),D=e(80569),N=e.n(D),I=e(83868),A=e.n(I),M=(oe,ne,ae)=>new Promise((le,ue)=>{var fe=ve=>{try{be(ae.next(ve))}catch(Te){ue(Te)}},he=ve=>{try{be(ae.throw(ve))}catch(Te){ue(Te)}},be=ve=>ve.done?le(ve.value):Promise.resolve(ve.value).then(fe,he);be((ae=ae.apply(oe,ne)).next())});const R=(oe,ne)=>M(void 0,null,function*(){const ae=yield N().get("/api/v1/check-email").query({email:oe});ne([oe,ae.body])}),F=x()((oe,ne)=>M(void 0,null,function*(){yield R(oe,ne)}),200),Z=oe=>M(void 0,null,function*(){return A()(oe)?new Promise((ne,ae)=>{F(oe,ne)}):[]});var V=e(15045),G=e(83322);const $={container:"frontend-components-free_email_form-module__container--OfBh4",form:"frontend-components-free_email_form-module__form--LDIzl",sideBySideWrap:"frontend-components-free_email_form-module__sideBySideWrap--yhsgv",emailInput:"frontend-components-free_email_form-module__emailInput--BLQGf",emailInputOnAccentBackground:"frontend-components-free_email_form-module__emailInputOnAccentBackground--WwaMR",emailInputExpectTruncation:"frontend-components-free_email_form-module__emailInputExpectTruncation--feM6p",emailInputWrapper:"frontend-components-free_email_form-module__emailInputWrapper--BXNrb",emailInputWrapperExpectTruncation:"frontend-components-free_email_form-module__emailInputWrapperExpectTruncation--PrvaL",button:"frontend-components-free_email_form-module__button--WcLG9",buttonOnAccentBackground:"frontend-components-free_email_form-module__buttonOnAccentBackground--pxtYI",disabled:"frontend-components-free_email_form-module__disabled--tI4ri",links:"frontend-components-free_email_form-module__links--G_QlQ"};var K=Object.defineProperty,H=Object.defineProperties,re=Object.getOwnPropertyDescriptors,ee=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,te=(oe,ne,ae)=>ne in oe?K(oe,ne,{enumerable:!0,configurable:!0,writable:!0,value:ae}):oe[ne]=ae,ie=(oe,ne)=>{for(var ae in ne||(ne={}))Y.call(ne,ae)&&te(oe,ae,ne[ae]);if(ee)for(var ae of ee(ne))J.call(ne,ae)&&te(oe,ae,ne[ae]);return oe},se=(oe,ne)=>H(oe,re(ne)),W=(oe,ne,ae)=>(te(oe,typeof ne!="symbol"?ne+"":ne,ae),ae),z=(oe,ne,ae)=>new Promise((le,ue)=>{var fe=ve=>{try{be(ae.next(ve))}catch(Te){ue(Te)}},he=ve=>{try{be(ae.throw(ve))}catch(Te){ue(Te)}},be=ve=>ve.done?le(ve.value):Promise.resolve(ve.value).then(fe,he);be((ae=ae.apply(oe,ne)).next())});class Q extends n.Component{constructor(ne){super(ne),W(this,"handleEmailChange",()=>{const ae=this.emailInput.value;ae&&(this.setState({currentEmail:ae}),!(this.state.emailSuggestions&&this.state.emailSuggestions.hasOwnProperty(ae))&&Z(ae).then(le=>{const[ue,fe]=le;this.setState({emailSuggestions:se(ie({},this.state.emailSuggestions),{[ue]:fe})})}))}),W(this,"_onSuccess",ae=>z(this,null,function*(){const{iTemplate:le}=this.context;ae.body.prompt_to_login||d.IU(),ae.body.requires_confirmation&&(this.props.onConfirmationRequired?yield this.props.onConfirmationRequired(ae):alert(le`Confirmation required: we sent an email to ${ae.body.email}. Click the link there to finish subscribing.`)),this.props.freeSignupEmail&&this.props.freeSignupEmail!==ae.body.email&&(0,E.a)({freeSignupEmail:ae.body.email}),this.props.onSuccess&&(yield this.props.onSuccess(ae))})),W(this,"onSuccess",ae=>z(this,null,function*(){typeof window!="undefined"&&window.campaign&&(0,V.getQueryItem)("referralCode")?window.campaign.identify({email:ae.body.email},()=>this._onSuccess(ae)):yield this._onSuccess(ae)})),W(this,"onAcceptSuggestion",ae=>{this.emailInput.value=ae,this.form.handleSubmit(null,!0)}),this.state={emailSuggestions:{}}}getSavedEmail(){return this.props.user&&this.props.user.email||null}getPrefilledEmail(){return this.props.email||this.props.freeSignupEmail||this.getSavedEmail()}componentDidMount(){return z(this,null,function*(){var ne;const{autoFocus:ae,disabled:le}=this.props;this.getPrefilledEmail()?this.emailInput.value=this.getPrefilledEmail():ae&&!(this.getPrefilledEmail()||le)&&!(0,P.isMobileBrowser)()&&((ne=this.emailInput)==null||ne.focus())})}onLoadingState(ne){this.setState({loading:ne,requires_confirmation:!1})}onError(ne){ne.status===425&&this.setState({requires_confirmation:!0}),this.props.onError&&this.props.onError(ne)}render({children:ne,className:ae,disabled:le,expectTruncation:ue,loginRedirect:fe,next:he,onAccentBackground:be,pub:ve,referralCode:Te,showLogin:we,showTerms:Se,source:We,submitButtonText:Ae,useSubscribeLink:Be,user:de,utm_campaign:ce,onMaybeLater:_e,onPrepareData:Oe},{loading:Le,requires_confirmation:ze,currentEmail:Je}){var Pt,Ve,pt,$e,Ie,ye;const Ce=We==="treatment_bold_fade",xe=((pt=(Ve=(Pt=(0,V.getQueryItem)("referring_pub_ids"))==null?void 0:Pt.split)==null?void 0:Ve.call(Pt,","))==null?void 0:pt[0])||void 0,je=((ye=(Ie=($e=(0,V.getQueryItem)("referring_pub_ids"))==null?void 0:$e.split)==null?void 0:Ie.call($e,","))==null?void 0:ye.slice(1))||void 0,He=this.getPrefilledEmail(),{iString:Ge,language:Qe}=this.context;return(0,n.h)("div",{className:$.container},(0,n.h)(O.ZP,{ref:ct=>this.form=ct,className:u()(ae,$.form),noInlineErrors:!0,action:(0,V.pathWithQuery)("/api/v1/free"),noJsAction:(0,V.pathWithQuery)("/api/v1/free",{nojs:!0}),prepareData:ct=>{ze&&(ct.resend_confirmation=!0),Oe&&Oe(ct)},onChangeLoadingState:this.onLoadingState.bind(this),onError:ct=>this.onError(ct),onSuccess:ct=>this.onSuccess(ct),typoFound:ct=>this.setState({emailSuggestion:ct}),disableSubmit:Be},(0,n.h)("input",{type:"hidden",name:"first_url",value:g.xY}),(0,n.h)("input",{type:"hidden",name:"first_referrer",value:g.ip}),(0,n.h)("input",{type:"hidden",name:"current_url",value:g.UE}),(0,n.h)("input",{type:"hidden",name:"current_referrer",value:g.xU}),(0,n.h)("input",{type:"hidden",name:"referral_code",value:Te}),(0,n.h)("input",{type:"hidden",name:"source",value:We}),(0,n.h)("input",{type:"hidden",name:"referring_pub_id",value:xe}),(0,n.h)("input",{type:"hidden",name:"additional_referring_pub_ids",value:je}),(0,n.h)("div",{className:$.sideBySideWrap},!!He&&(0,P.inputPrefillHack)(),(0,n.h)("div",{className:u()($.emailInputWrapper,{[$.emailInputWrapperExpectTruncation]:ue})},(0,n.h)("input",{className:u()("pencraft",$.emailInput,{[$.emailInputOnAccentBackground]:be,[$.emailInputExpectTruncation]:ue}),onChange:this.handleEmailChange,onInput:this.handleEmailChange,ref:ct=>this.emailInput=ct,type:"email",name:Ce?"email-pop":"email",readOnly:!!(this.getSavedEmail()||Le||le),disabled:!!(Le||le),placeholder:Ge("Type your email..."),value:Je||He||null})),(0,n.h)(v.Z,{className:u()("rightButton primary subscribe-btn",$.button,{pop:Ce,[$.buttonOnAccentBackground]:be}),type:"submit",disabled:!!(Le||le),onClick:ct=>{Be&&(location.href=(0,V.getSubscribeUrl)(ve,{addBase:!0,user:de,utm_source:"substack",utm_medium:"web",utm_campaign:ce,next:he}))}},(0,n.h)("span",{className:`button-text ${Ce?"pop":""}`},Ae||(0,G.getSubscribeText)(ve,{language:Qe})))),ze?(0,n.h)("div",null,(0,n.h)(i.xv,{translated:!0,className:"error other-error"},"This email address is not confirmed yet.",(0,n.h)("br",null),(0,n.h)("a",{href:"javascript:void(0)",onClick:()=>this.form.handleSubmit()},"Click here")," ","to resend the confirmation email.")):(0,n.h)("div",{id:"error-container"}),we||Se||ne?(0,n.h)("div",{className:u()("subtle-help-text below-input",$.links)},we&&(this.getSavedEmail()?(0,n.h)("a",{className:"login-button",href:(0,V.getSignoutUrl)({for_pub:ve.subdomain}),native:!0},Ge("Not you?")):(0,n.h)("a",{className:"login-button",href:(0,V.getSigninUrl)({for_pub:ve.subdomain,redirect:fe}),native:!0},Ge("Login"))),Se&&[(0,n.h)("a",{className:"legal",href:(0,V.getPrivacyUrl)(ve),target:"_blank",native:!0},Ge("Privacy")),(0,n.h)("a",{className:"legal",href:"/tos",target:"_blank",native:!0},Ge("Terms")),(0,n.h)("a",{className:"legal",href:`${(0,V.getSubstackUrl)()}/ccpa#personal-data-collected`,target:"_blank",native:!0},Ge("Information collection notice"))],ne):null),(0,n.h)(_,{emailSuggestions:this.state.emailSuggestions,currentEmail:this.state.currentEmail,onAccept:this.onAcceptSuggestion}))}}W(Q,"contextType",y.wj)},89867:(j,l,e)=>{"use strict";e.d(l,{Z:()=>T});var n=e(6400),c=e(30396),u=e(46505),v=Object.defineProperty,O=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,d=(C,p,i)=>p in C?v(C,p,{enumerable:!0,configurable:!0,writable:!0,value:i}):C[p]=i,g=(C,p)=>{for(var i in p||(p={}))y.call(p,i)&&d(C,i,p[i]);if(O)for(var i of O(p))E.call(p,i)&&d(C,i,p[i]);return C},P=(C,p)=>{var i={};for(var s in C)y.call(C,s)&&p.indexOf(s)<0&&(i[s]=C[s]);if(C!=null&&O)for(var s of O(C))p.indexOf(s)<0&&E.call(C,s)&&(i[s]=C[s]);return i};const T=C=>{const p=C,{ampProps:i}=p,s=P(p,["ampProps"]);return(0,c.qp)(u.E).isAmp?(0,n.h)("amp-img",g(g({},i),s)):(0,n.h)("img",g({},s))}},43134:(j,l,e)=>{"use strict";e.d(l,{Z:()=>s});var n=e(6400),c=e(98661),u=e(94184),v=e.n(u),O=e(67963),y=e(39419),E=e.n(y),d=e(45690),g=Object.defineProperty,P=(_,w,x)=>w in _?g(_,w,{enumerable:!0,configurable:!0,writable:!0,value:x}):_[w]=x,S=(_,w,x)=>(P(_,typeof w!="symbol"?w+"":w,x),x);const T=300,C=8,p=100;class i extends n.Component{constructor(w,x){super(w,x),this.cardRef=(0,n.createRef)(),this.state={isOpen:!1},this.hoverPid=null,this.closePid=null,this.wrapperRef=(0,n.createRef)(null)}onMouseEnter(){if(!this.props.disabled){if(this.closePid&&clearTimeout(this.closePid),this.setState({attachCard:!0}),this.props.delay===0){this.setIsShown(!0);return}this.hoverPid=setTimeout(()=>{this.setIsShown(!0),this.hoverPid=null},this.props.delay)}}onMouseLeave(){this.hoverPid&&clearTimeout(this.hoverPid),this.closePid=setTimeout(()=>{this.setIsShown(!1)},p)}setIsShown(w){this.setState({isOpen:w,attachCard:w})}onClick(w){w.stopPropagation()}render({content:w,preferPositionLeft:x,className:D,children:N},{attachCard:I,isOpen:A}){var M,R,F;let Z={},V=!1;if(I&&((M=this.wrapperRef)!=null&&M.current)){const{top:G,left:$}=this.wrapperRef.current.getBoundingClientRect(),{height:K,width:H}=(F=(R=this.cardRef.current)==null?void 0:R.getBoundingClientRect())!=null?F:{};V=x&&$-H>0,V?Z={top:G-C-K,left:$-H-C,"max-width":T}:Z={top:G-C-K,"max-width":T,left:$}}return(0,n.h)("div",{className:v()(d.Z.portalWrapper,D),onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave(),onClick:G=>this.onClick(G),ref:this.wrapperRef},typeof N=="function"?N({}):N,I&&(0,c.createPortal)((0,n.h)("div",{className:v()(d.Z.contentWrapper,{[d.Z.contentWrapperShown]:A,"animate-opacity":!(0,y.isSafari)(),"position-left":V}),ref:this.cardRef,style:Z,onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave()},w),document.body))}}S(i,"defaultProps",{delay:p}),S(i,"contextType",O.St);const s=i},96789:(j,l,e)=>{"use strict";e.d(l,{Z:()=>s,p:()=>_});var n=e(6400),c=e(94184),u=e.n(c),v=e(71375),O=e(39419),y=e.n(O),E=e(84040),d=Object.defineProperty,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,T=(w,x,D)=>x in w?d(w,x,{enumerable:!0,configurable:!0,writable:!0,value:D}):w[x]=D,C=(w,x)=>{for(var D in x||(x={}))P.call(x,D)&&T(w,D,x[D]);if(g)for(var D of g(x))S.call(x,D)&&T(w,D,x[D]);return w},p=(w,x,D)=>(T(w,typeof x!="symbol"?x+"":x,D),D),i=(w,x,D)=>new Promise((N,I)=>{var A=F=>{try{R(D.next(F))}catch(Z){I(Z)}},M=F=>{try{R(D.throw(F))}catch(Z){I(Z)}},R=F=>F.done?N(F.value):Promise.resolve(F.value).then(A,M);R((D=D.apply(w,x)).next())});class s extends n.Component{constructor(x,D){super(x,D),p(this,"onDocumentKeyDown",N=>{N.key==="Escape"&&!this.props.noExit&&!(0,O.isFocused)(this.base)&&this.close()}),this.open=this.open.bind(this),this.close=this.close.bind(this),this.popup=!1,this.state={open:!1,display:!1,callback:null}}componentDidMount(){document.addEventListener("keydown",this.onDocumentKeyDown),this.props.openByDefault&&this.openImmediately()}componentWillUnmount(){document.removeEventListener("keydown",this.onDocumentKeyDown),this._timeout&&clearTimeout(this._timeout)}openImmediately(x){x&&(this._callback=x);const D=document.getElementsByTagName("html")[0];(0,O.hasClass)(D,"modal-in")||(0,O.addClass)(D,"modal-in"),this.setState({display:!0,open:!0})}open(x){return i(this,null,function*(){x&&(this._callback=x);const D=document.getElementsByTagName("html")[0];(0,O.hasClass)(D,"modal-in")||(0,O.addClass)(D,"modal-in"),this.onBeforeOpen(),this.props.onBeforeOpen&&this.props.onBeforeOpen(),yield new Promise(N=>{this.setState({display:!0},()=>{this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(()=>{this.setState({open:!0},()=>{this.onOpen(),this.props.onOpen&&this.props.onOpen(),N()})},50)})})})}close(x){return i(this,null,function*(){this.isOpen()&&this.onBeforeClose(x)!==!1&&(this.props.onBeforeClose&&this.props.onBeforeClose(x)===!1||((0,O.removeClass)(document.getElementsByTagName("html")[0],"modal-in"),yield new Promise(D=>{this.setState({open:!1},()=>{this._timeout=setTimeout(()=>{this.setState({display:!1},()=>{this.onClose(x),this.props.onClose&&this.props.onClose(x),this._callback&&this._callback(x),D()})},750)})})))})}isOpen(){return this.state.open}onClickOuter(x){var D,N;x.stopPropagation(),(N=(D=this.props).onClick)==null||N.call(D,x),!this.props.noExit&&!this.props.noExitOnClick&&this.popup&&(this.noFullscreen||window.innerWidth>540)&&x.target&&this.container&&this.close()}onClickInner(x){var D,N;x.stopPropagation(),(N=(D=this.props).onClick)==null||N.call(D,x)}render(){const x=this.state.open?"in":"out",D=this.state.display===!1?"gone":"",N=this.props.variant==="structured",I=!this.state.open;return(0,n.h)("div",{className:u()("modal typography",x,D,this.props.className,this.getClassName(),{"has-close-pill":this.props.closePill,"structured-modal":N,popup:this.popup}),inert:I,onClick:A=>this.onClickOuter(A),"data-testid":this.props.testID,role:"dialog"},(0,n.h)("div",{className:"modal-table"},(0,n.h)("div",{className:"modal-row"},(0,n.h)("div",{ref:A=>this.content=A,className:u()("modal-cell modal-content",{"no-fullscreen":this.noFullscreen})},(0,n.h)("div",C({className:u()({container:!N}),ref:A=>this.container=A,onClick:A=>this.onClickInner(A)},this.props.trackInputsID&&{"data-track-inputs":this.props.trackInputsID}),!this.props.noExit&&(!this.props.noCloseButton||(0,O.isMobileBrowser)())&&(N?(0,n.h)("div",{className:"structured-modal__close-button"},(0,n.h)(E.hU,{"data-testid":"close-modal",variant:"secondary",look:"circle",onClick:()=>this.close()},(0,n.h)(v.Z,{size:20,color:"secondary"}))):(0,n.h)(E.hU,{"data-testid":"close-modal",className:u()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":this.props.closePill}),onClick:()=>this.close()},(0,n.h)(v.Z,{size:20,color:"secondary"}))),N?(0,n.h)("div",{className:"structured-modal__wrapper"},(0,n.h)("div",{className:"structured-modal__header"},this.props.modalTitle?(0,n.h)("h3",null,this.props.modalTitle):(0,n.h)("h3",null,"\xA0")),(0,n.h)("div",{className:"structured-modal__body"},(0,n.h)("div",{className:"container"},this.renderChildren(this.props,this.state))),this.props.modalFooter&&(0,n.h)("div",{className:"structured-modal__footer"},this.props.modalFooter)):this.renderChildren(this.props,this.state))))))}getClassName(){}onBeforeOpen(){}onOpen(){}onBeforeClose(){}onClose(){}renderChildren({children:x},D){return x}}class _ extends s{constructor(x,D){super(x,D),this.popup=!0}}},50615:(j,l,e)=>{"use strict";e.d(l,{l:()=>I,y:()=>N});var n=e(6400),c=e(30396),u=e(50308),v=e.n(u),O=e(80569),y=e.n(O),E=e(39776),d=e(15045),g=e(83322),P=e(3258),S=e(39419),T=e.n(S),C=e(19826),p=e(46595),i=e(22702),s=e(65726),_=Object.defineProperty,w=(A,M,R)=>M in A?_(A,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):A[M]=R,x=(A,M,R)=>(w(A,typeof M!="symbol"?M+"":M,R),R),D=(A,M,R)=>new Promise((F,Z)=>{var V=K=>{try{$(R.next(K))}catch(H){Z(H)}},G=K=>{try{$(R.throw(K))}catch(H){Z(H)}},$=K=>K.done?F(K.value):Promise.resolve(K.value).then(V,G);$((R=R.apply(A,M)).next())});class N extends n.Component{constructor(){super(...arguments),x(this,"toggleTopExclusion",M=>(0,S.stateTransaction)(this,(R,F)=>D(this,[R,F],function*(Z,{post:V,onChange:G}){if(Z.topExcluding)return;this.setState({topExcluding:M.id});const $=V.top_exclusions.includes(M.id),K=`/api/v1/publication/${M.id}/exclusion/${V.id}`;try{$?(yield y().del(K),V.top_exclusions.splice(0)):(yield y().post(K),V.top_exclusions.splice(0),V.top_exclusions.push(M.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(H){console.error("Failed to exclude post:",H),alert((0,S.getNetworkErrorMessage)(H));return}finally{this.setState({topExcluding:null})}G&&(yield G({post:V}))}))),x(this,"toggleSectionPin",(M,R)=>(0,S.stateTransaction)(this,(F,Z)=>D(this,[F,Z],function*(V,{post:G,onChange:$}){if(V.pinning)return;this.setState({sectionPinning:R});const K=`/api/v1/publication/${M.id}/section/${R}/pin/${G.id}`;try{G.is_section_pinned?(yield y().del(K),G.is_section_pinned=!1):(yield y().post(K),G.is_section_pinned=!0),(["/","/beta","/publish"].includes(window.location.pathname)||window.location.pathname.startsWith("/s/"))&&window.location.reload()}catch(H){console.error("Failed to pin post:",H),alert((0,S.getNetworkErrorMessage)(H));return}finally{this.setState({sectionPinning:null})}$&&(yield $({post:G}))}))),x(this,"togglePin",M=>(0,S.stateTransaction)(this,(R,F)=>D(this,[R,F],function*(Z,{post:V,onChange:G}){if(Z.pinning)return;this.setState({pinning:M.id});const $=V.pins.includes(M.id),K=`/api/v1/publication/${M.id}/pin/${V.id}`;try{$?(yield y().del(K),V.pins.splice(V.pins.indexOf(M.id),1)):(yield y().post(K),M.multiple_pins||V.pins.splice(0),V.pins.push(M.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(H){console.error("Failed to pin post:",H),alert((0,S.getNetworkErrorMessage)(H));return}finally{this.setState({pinning:null})}G&&(yield G({post:V}))}))),x(this,"sendEmail",()=>D(this,null,function*(){const{post:M}=this.props,R={everyone:"everyone",only_free:"free subscribers",only_paid:"paid subscribers",founding:"founding members"}[M.audience];if(!confirm(`Send this published post as an email to ${R}?`))return;const F=`/api/v1/drafts/${M.id}/publish`;try{yield y().post(F).send({send:!0,only_send:!0}),location.reload()}catch(Z){console.error("Failed to send post:",Z),alert((0,S.getNetworkErrorMessage)(Z))}})),x(this,"clearCache",()=>D(this,null,function*(){const{post:M}=this.props;try{yield y().put(`/api/v1/posts/${M.id}/clear_cache`),location.reload()}catch(R){console.error("Failed to clear post from cache"),alert((0,S.getNetworkErrorMessage)(R))}})),x(this,"duplicatePost",()=>D(this,null,function*(){this.setState({duplicating:!0});const{pub:M,post:R}=this.props;try{const F=yield y().post(`/api/v1/posts/${R.id}/duplicate`);(0,S.redirect)((0,d.getEditPostUrlById)(M,F.body.id,F.body.editor_v2),{local_navigation:!1})}catch(F){this.setState({duplicating:!1}),console.error("Failed to duplicate"),alert((0,S.getNetworkErrorMessage)(F))}}))}isOpen(){return this.editMenu.isOpen()}toggle(){this.editMenu.toggle()}open(){this.editMenu.open()}close(){this.editMenu.close()}render({pub:M,post:R,hidePinning:F,user:Z,emailSent:V,allowSendEmail:G,className:$,useDrawerOnMobile:K,handleCrossPost:H,onToggleMenu:re},{pinning:ee,sectionPinning:Y,topExcluding:J,duplicating:te}){let ie=null;R.section_id&&M.sections&&M.sections.length&&(ie=M.sections.find(W=>W.id===R.section_id));const se=!!(0,E.default)("enable_post_summarization");return(0,n.h)(C.ZP,{attachOnActive:!0,ref:W=>this.editMenu=W,className:$,useDrawerOnMobile:K,onToggle:re},(0,n.h)(s.Z,{href:(0,d.getPostUrl)(M,R,{edit:!0}),onClick:v()},"Edit post"),!F&&R.slug&&[(0,g.isPinnable)(M)&&R.section_id&&(R.section_name||(ie==null?void 0:ie.name))&&(0,n.h)(s.Z,{onClick:()=>this.toggleSectionPin(M,R.section_id)},[R.is_section_pinned^Y===R.section_id?"Unpin from":"Pin on",` ${R.section_name||(ie==null?void 0:ie.name)}`]),(0,g.isPinnable)(M)&&(0,n.h)(s.Z,{onClick:()=>this.togglePin(M)},[R.pins.includes(M.id)^ee===M.id?"Unpin from":"Pin on",ie?` ${M.name}`:" homepage"])],R.slug&&R.type!=="adhoc_email"&&[(0,n.h)(s.Z,{onClick:()=>this.toggleTopExclusion(M)},[R.top_exclusions.includes(M.id)^J===M.id?"Include in":"Exclude from"," Top"])],(0,n.h)(s.Z,{disabled:te,onClick:()=>this.duplicatePost()},te?"Duplicating":"Duplicate"," to drafts"),!V&&G&&R.is_published&&(0,n.h)(s.Z,{onClick:()=>this.sendEmail()},"Send as email"),(Z==null?void 0:Z.is_global_admin)&&(0,n.h)(s.Z,{onClick:()=>this.clearCache()},"Clear post from cache"),(0,n.h)(s.Z,{onClick:()=>{window.open((0,d.getPostDetailsShareCenterUrl)(M,R.id))}},"View shareable images"),!!(se&&this.props.onSummaryOpen)&&(0,n.h)(s.Z,{onClick:this.props.onSummaryOpen},"Reader guide"),H&&(0,n.h)(s.Z,{onClick:H},"Cross post"))}}x(N,"state",{duplicating:!1});function I({pub:A,post:M,iconHeight:R,hidePinning:F,user:Z,emailSent:V,allowSendEmail:G,showUpdatedIcons:$,dropdownClassName:K,iconClassName:H}){const re=(0,c.sO)();return(0,n.h)(n.Fragment,null,(0,n.h)(s.Z,{onClick:()=>{re.current.isOpen()||(0,P.j)(P.FP.EDIT_POST_DROPDOWN_MENU_OPENED),re.current.toggle()}},$?(0,n.h)(i.Z,{stroke:"#262626",height:R,className:H}):(0,n.h)(p.Z,{stroke:"#757575",height:R,className:H})),(0,n.h)(N,{ref:re,pub:A,post:M,hidePinning:F,user:Z,emailSent:V,allowSendEmail:G,className:K}))}},95847:(j,l,e)=>{"use strict";e.d(l,{_0:()=>J,EB:()=>te});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(80569),y=e.n(O),E=e(43887),d=e(15045),g=e(96702),P=e(28488),S=e(3258),T=e(39419),C=e(35291),p=e(7922),i=e(19237),s=(se,W,z)=>new Promise((Q,oe)=>{var ne=ue=>{try{le(z.next(ue))}catch(fe){oe(fe)}},ae=ue=>{try{le(z.throw(ue))}catch(fe){oe(fe)}},le=ue=>ue.done?Q(ue.value):Promise.resolve(ue.value).then(ne,ae);le((z=z.apply(se,W)).next())});const w=({photoUrl:se,newPhotoUrl:W,newPhotoOrientation:z,updatePhoto:Q})=>{const oe=(0,c.sO)(null),ne=()=>s(void 0,null,function*(){const ae=oe.current.files[0];if(oe.current.value="",!ae){Q({newPhotoUrl:null,newPhotoOrientation:null});return}let le;try{le=yield(0,T.getDataUrlFromFile)(ae)}catch(fe){console.error("Failed to get data URL from file:",fe),alert(fe.message);return}let ue;try{ue=yield(0,T.getExifOrientationFromFile)(ae)}catch(fe){console.error("Failed to extract EXIF data from file:",fe)}Q({newPhotoUrl:le,newPhotoOrientation:ue})});return(0,n.h)("div",{className:"profile-photo-wrap"},se&&(0,n.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${W||(0,d.imginary)(se,144)})`,transform:(0,T.transformExifOrientation)(z)}}),!se&&(0,n.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${(0,d.imginary)(d.DEFAULT_PHOTO_URL,144)})`,transform:(0,T.transformExifOrientation)(z)}}),(0,n.h)(p.Z,{onClick:()=>{((0,T.isIE)()||(0,T.isFirefox)())&&oe.current.click()}},(0,n.h)("input",{ref:oe,type:"file",name:"photo",accept:"image/*",onChange:ne}),(0,n.h)("div",{className:"add-photo-fab",onClick:ae=>{ae.preventDefault(),oe.current.click()}},(0,n.h)(i.Z,{size:20,color:"var(--color-light-primary)"}))))};var x=e(23890),D=e(96789),N=e(81671),I=Object.defineProperty,A=Object.defineProperties,M=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,V=(se,W,z)=>W in se?I(se,W,{enumerable:!0,configurable:!0,writable:!0,value:z}):se[W]=z,G=(se,W)=>{for(var z in W||(W={}))F.call(W,z)&&V(se,z,W[z]);if(R)for(var z of R(W))Z.call(W,z)&&V(se,z,W[z]);return se},$=(se,W)=>A(se,M(W)),K=(se,W)=>{var z={};for(var Q in se)F.call(se,Q)&&W.indexOf(Q)<0&&(z[Q]=se[Q]);if(se!=null&&R)for(var Q of R(se))W.indexOf(Q)<0&&Z.call(se,Q)&&(z[Q]=se[Q]);return z},H=(se,W,z)=>new Promise((Q,oe)=>{var ne=ue=>{try{le(z.next(ue))}catch(fe){oe(fe)}},ae=ue=>{try{le(z.throw(ue))}catch(fe){oe(fe)}},le=ue=>ue.done?Q(ue.value):Promise.resolve(ue.value).then(ne,ae);le((z=z.apply(se,W)).next())});const re=({sub:se,onSetVisibility:W,source:z})=>{const Q=se.publication;return h("div",{className:"edit-sub-visibility-row"},h("div",{className:"left"},h(PubIcon,{pub:Q,logo_url:Q.logo_url||Q.author_photo_url}),h("span",null,Q.name)),h("div",{className:"right"},h(BigCheckbox,{checked:se.visibility==="public",onChange:()=>W(se.visibility==="public"?"private":"public")})))},ee=({profile:se,onFinalizeVisibility:W,onSetVisibility:z,source:Q})=>{const{iString:oe}=useI18N();if(!se)return;const ne=se.subscriptions.every(({visibility:fe})=>fe==="public"),ae=()=>{z(se.subscriptions.reduce((fe,{publication:he})=>$(G({},fe),{[he.id]:ne?"private":"public"}),{})),track(EVENTS.PROFILE_EDITED,{type:"visibility_toggled_all",for:"reads",count:se.subscriptions.length})},le=fe=>he=>{z(se.subscriptions.reduce((be,{visibility:ve,publication:Te})=>$(G({},be),{[Te.id]:Te.id===fe.id?he:ve}),{})),track(EVENTS.PROFILE_EDITED,{type:"read_visibility_toggled",visibility:he})},ue=h("button",{className:"small",onClick:ae},oe(ne?"Hide all":"Show all"));return h("div",{className:"edit-sub-visibility-form"},h("div",{className:"bulk-action-row"},ue),h("div",{className:"edit-sub-visibility-frame"},se.subscriptions.map(fe=>h(re,{sub:fe,onSetVisibility:le(fe.publication),source:Q}))),h("div",{className:"modal-ctas"},h(Button,{className:"primary",onClick:W},oe("Done"))))};class Y extends n.Component{constructor(W,z){var Q;super(W,z),this.formRef=(0,n.createRef)(),this.state={newName:null,newHandle:null,newBio:null,newEmail:W.user&&W.user.is_magic?W.user.email:null},W.isPostInvite&&!((Q=W.user)!=null&&Q.has_publication)&&(this.state.createPublication=!0)}componentDidMount(){var W,z,Q;this.props.autoSubmit&&(this.isComplete()?(W=this.formRef.current)==null||W.handleSubmit():(Q=(z=this.props).onAutoSubmitFailed)==null||Q.call(z))}isComplete(){const{user:W,needsPhoto:z}=this.props;return W&&!W.is_magic&&W.name&&(!z||W.photo_url)}onFileInputChanged(){return H(this,null,function*(){const W=this.fileInput.files[0];if(this.fileInput.value="",!W){this.setState({newPhotoUrl:null,newPhotoOrientation:null});return}let z;try{z=yield(0,T.getDataUrlFromFile)(W)}catch(oe){console.error("Failed to get data URL from file:",oe),alert(oe.message);return}let Q;try{Q=yield(0,T.getExifOrientationFromFile)(W)}catch(oe){console.error("Failed to extract EXIF data from file:",oe)}this.setState({newPhotoUrl:z,newPhotoOrientation:Q})})}onError(W){var z,Q;this.props.autoSubmit&&!this.state.autoSubmitFailed&&(this.setState({autoSubmitFailed:!0}),(Q=(z=this.props).onAutoSubmitFailed)==null||Q.call(z)),this.setState({sentLoginEmail:!1}),W.status===401&&this.sendLoginEmail()}createDefaultPublication(W,z){return H(this,null,function*(){const{iTemplate:Q}=this.props;try{const oe=yield y().get("/api/v1/publication/suggestion"),ne=z||Q`${W} on Substack`;yield y().post("/api/v1/publication").send({name:W,subdomain:oe.body.subdomain,hero_text:ne,tos:!0})}catch(oe){(0,S.j)(S.FP.DEFAULT_PUBLICATION_CREATION_FAILED),console.log("couldn't set up a default publication",oe)}})}sendLoginEmail(){return H(this,null,function*(){const W=this.state.newEmail||this.props.freeSignupEmail;if(!(this.state.loading||!W)){this.setState({loading:!0});try{yield y().post("/api/v1/email-login").send({email:W,redirect:document.location.href}),this.setState({sentLoginEmail:!0})}catch(z){console.error("Failed send login email:",z)}this.setState({loading:!1})}})}render({className:W,user:z,numVisibleSubscriptions:Q,numSubscriptions:oe,freeSignup:ne,freeSignupEmail:ae,initialPhotoUrl:le,needsPhoto:ue,optionalPhoto:fe,showHandle:he=!0,token:be,text:ve,onSuccess:Te,prepareData:we,pageTitle:Se,primaryEligiblePublications:We,isPostInvite:Ae,complete:Be,profileExists:de,onSkip:ce,onEditReadVisibility:_e,barebones:Oe,onEditRecommendations:Le,numRecommendationsToMake:ze,noSubscribeCta:Je,style:Pt,iString:Ve,iPlural:pt},{newPhotoUrl:$e,newPhotoOrientation:Ie,newName:ye,newHandle:Ce,newEmail:xe,loading:je,sentLoginEmail:He,sentAccountConfirmationEmail:Ge,newBio:Qe,createPublication:ct}){const dt=$e||le||(0,g.getUserPhotoUrlWithoutDefault)(z,{noFallbackToSignedOut:!0}),it=typeof Se=="string"?Se:this.isComplete()?Ve("Update your profile"):Ve("Create your profile"),tt=ye||z&&z.name||"",vt=Ce||(z==null?void 0:z.handle)||"",et=typeof Qe=="string"?Qe:z&&z.bio||"",Xe=(Ne,ft)=>H(this,null,function*(){if(Ne.body.emailConfirmationRequired){this.setState({sentAccountConfirmationEmail:!0});return}ct&&(yield this.createDefaultPublication(tt,et)),Te(Ne,ft)});return(0,n.h)("div",{className:v()("profile-updater",W),style:Pt},(0,n.h)("h2",{className:"page-title profile-updater-title"},it),(dt||ue||fe)&&(0,n.h)(w,{photoUrl:dt,newPhotoUrl:$e,newPhotoOrientation:Ie,updatePhoto:({newPhotoOrientation:Ne,newPhotoUrl:ft})=>this.setState({newPhotoOrientation:Ne,newPhotoUrl:ft}),onFileInputChanged:()=>this.onFileInputChanged()}),(0,n.h)(x.ZP,{ref:this.formRef,method:"put",action:"/api/v1/user/profile",prepareData:we,onSuccess:Xe,onError:Ne=>this.onError(Ne),noInlineErrors:!0,loading:je,autoLock:!0},(0,n.h)("label",{htmlFor:"name"},Ve("Name (Required)")),(0,n.h)("input",{autoFocus:!0,type:"text",className:"profile-name",placeholder:Ve("Type your name..."),name:"name",id:"name",value:tt,onInput:Ne=>this.setState({newName:Ne.target.value})}),he&&(0,n.h)(n.Fragment,null,(0,n.h)("label",{htmlFor:"handle"},Ve("Handle")),(0,n.h)("input",{type:"text",className:"profile-name",placeholder:Ve("Type your handle..."),name:"handle",id:"handle",value:vt,onInput:Ne=>this.setState({newHandle:Ne.target.value})})),!Oe&&(0,n.h)("label",{htmlFor:"bio"},"Bio"),!Oe&&(0,n.h)("textarea",{className:"profile-bio",placeholder:Ve("Say something about yourself..."),name:"bio",id:"bio",value:et,onInput:Ne=>this.setState({newBio:Ne.target.value})}),Ae&&(0,n.h)("input",{type:"hidden",name:"needs_bio",value:"true"}),Ae&&(0,n.h)("div",{className:"bio-guest-tip"},Ve("Tip: this will be shown at the bottom of your guest post")),Ae&&We&&(z==null?void 0:z.has_publication)&&We.length>1&&(0,n.h)(n.Fragment,null,(0,n.h)("label",null,Ve("Publication to display")),(0,n.h)("div",{className:"primary-publication-selector"},We.map((Ne,ft)=>(0,n.h)("label",{className:"publication-selector-row",for:`primary-radio-${Ne.id}`},(0,n.h)("input",{id:`primary-radio-${Ne.id}`,type:"radio",name:"primary_publication_user_id",value:Ne.id,checked:ft===0}),(0,n.h)(N.Z,{pub:Ne.publication,logo_url:(0,d.imginary)(Ne.publication.logo_url,56,{height:56,crop:"fill"}),linkify:!1,size:28,title:Ne.publication.name}),(0,n.h)("div",{className:"primary-publication-name"},Ne.publication.name))))),(!z||z.is_magic)&&!ae&&!Ae&&(0,n.h)("input",{type:"email",className:"profile-email",placeholder:"Your email\u2026",name:"email",value:xe,onInput:Ne=>this.setState({newEmail:Ne.target.value})}),!Je&&!(z&&(z.is_subscribed||z.is_free_subscribed)||ne)&&(0,n.h)("label",{className:"profile-signup-checkbox"},(0,n.h)("input",{type:"checkbox",name:"free_signup",defaultChecked:!0})," ",Ve("Subscribe to the newsletter")),Ae&&!(z!=null&&z.has_publication)&&(0,n.h)("label",{className:"profile-signup-checkbox"},(0,n.h)("input",{type:"checkbox",name:"create_publication",id:"create-publication-checkbox",checked:ct,onChange:Ne=>this.setState({createPublication:Ne.target.checked})}),Ve("Create a Substack publication for me")),(0,n.h)("input",{type:"hidden",name:"confirmation_redirect_pathname",value:document.location.pathname}),(0,n.h)("input",{type:"hidden",name:"photo_url",value:dt}),(0,n.h)("input",{type:"hidden",name:"user_id",value:(z==null?void 0:z.id)||""}),(0,n.h)("input",{type:"hidden",name:"needs_photo",value:!!ue}),(0,n.h)("input",{type:"hidden",name:"token",value:be}),Be&&(0,n.h)("input",{type:"hidden",name:"complete",value:!0}),(0,n.h)("div",{id:"error-container"},He&&(0,n.h)(E.xv,{as:"div",translated:!0,className:"error other-error"},"If you have an account with us, we've sent an email to ",(0,n.h)("b",null,I18N.p(xe))," with a link that you can use to sign in."),Ge&&(0,n.h)("div",{className:"error other-error"},Ve("We have sent you a confirmation email. Please check your inbox before continuing."))),(0,n.h)("p",{className:v()("left",{hidden:!(typeof Q=="number"&&oe>0&&_e)})},de?pt("1 subscription is displayed on your profile","%1 subscriptions are displayed on your profile",Q):pt("1 subscription will be displayed on your profile","%1 subscriptions will be displayed on your profile",Q)," ","(",(0,n.h)("a",{onClick:_e},Ve("edit")),")"),!de&&Le&&ze>0&&(0,n.h)("p",{className:"left second"},pt("1 recommendation will be made on your publication","%1 recommendations will be made on your publication",ze)," ","(",(0,n.h)("a",{onClick:Le},"edit"),")"),(0,n.h)("div",{className:"modal-ctas"},(0,n.h)("p",{className:v()("skip",{hidden:!ce})},(0,n.h)("a",{className:"small",onClick:ce||(()=>{})},Ve("Skip for now"))),(0,n.h)(p.Z,{className:"primary",type:"submit"},ve||Ve("Save")),Ae&&(0,n.h)(n.Fragment,null,(0,n.h)("input",{type:"hidden",name:"accept_tos",value:"true"}),(0,n.h)(E.xv,{translated:!0,as:"div",className:"agreement-note"},"By signing up you agree to Substack\u2019s"," ",(0,n.h)("a",{href:`${(0,d.getSubstackUrl)()}/pa`,target:"_blank",rel:"noopener"},"publisher agreement"))))))}}const J=(0,P.fz)(Y);class te extends D.p{renderChildren(){const W=this.props,{ref:z,onBeforeClose:Q,contributor:oe}=W,ne=K(W,["ref","onBeforeClose","contributor"]);return(0,n.h)("div",{className:"profile-updater-modal"},oe?(0,n.h)(ie,$(G({},ne),{onSuccess:()=>this.close(!0)})):(0,n.h)(J,$(G({},ne),{onSuccess:()=>this.close(!0)})))}}const ie=({profile:se,user:W,pub:z,onSuccess:Q,isOwnProfile:oe})=>{const ne=(0,c.sO)(),{iString:ae,iTemplate:le}=(0,P.M1)(),[ue,fe]=(0,c.eJ)(null),[he,be]=(0,c.eJ)(null),ve=ue||se&&se.photo_url,[Te,we]=(0,c.eJ)(se.name),[Se,We]=(0,c.eJ)(se.bio),Ae=()=>H(void 0,null,function*(){var Be;const de=(Be=ne.current)!=null&&Be.files?ne.current.files[0]:null;if(ne.value="",!de){fe(null),be(null);return}let ce;try{ce=yield(0,T.getDataUrlFromFile)(de)}catch(Oe){console.error("Failed to get data URL from file:",Oe),alert(Oe.message);return}let _e;try{_e=yield(0,T.getExifOrientationFromFile)(de)}catch(Oe){console.error("Failed to extract EXIF data from file:",Oe)}fe(ce),be(_e)});return(0,n.h)("div",{className:"profile-updater"},(0,n.h)("h2",{className:"page-title profile-updater-title"},"Edit contributor profile"),(0,n.h)("div",{className:"profile-photo-wrap"},ve&&(0,n.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${ue||(0,d.imginary)(se.photo_url,144)})`,transform:(0,T.transformExifOrientation)(he)}}),(0,n.h)(p.Z,{onClick:()=>{((0,T.isIE)()||(0,T.isFirefox)())&&ne.click()}},!ve&&ae("Set photo"),(0,n.h)("input",{ref:ne,type:"file",name:"photo",accept:"image/*",onChange:()=>Ae()}))),(0,n.h)(x.ZP,{method:"patch",action:`/api/v1/publication/users/${se.id}`,onSuccess:Q,autoLock:!0},(0,n.h)("input",{type:"text",className:"profile-name",placeholder:"Contributor's name\u2026",name:"name",value:Te,onInput:Be=>we(Be.target.value)}),(0,n.h)("textarea",{className:"profile-bio",placeholder:"Contributor's bio\u2026",name:"bio",value:Se,onInput:Be=>We(Be.target.value)}),(0,n.h)("input",{type:"hidden",name:"photo_url",value:ve}),(0,n.h)("span",{className:"notice"},(0,n.h)(E.xv,{translated:!0,as:"p"},(0,n.h)("b",null,"Note:")," This is a contributor profile, viewable by ",I18N.p(z.name),"'s readers."),oe&&(0,n.h)(E.xv,{translated:!0,as:"p"},"You may also edit your"," ",(0,n.h)("a",{native:!0,href:`${(0,d.getReaderProfileUrl)(W)}`},"personal profile"),".")),(0,n.h)(p.Z,{className:"primary",type:"submit"},ae("Update profile"))))}},31533:(j,l,e)=>{"use strict";e.d(l,{E6:()=>$,dJ:()=>J,fS:()=>K,oq:()=>te,xl:()=>ee});var n=e(6400),c=e(94184),u=e.n(c),v=e(12297),O=e.n(v),y=e(80569),E=e.n(y),d=e(82626),g=e(15045),P=e(83322),S=e(28488),T=e(1824),C=e(3258),p=e(39419),i=e.n(p),s=e(51126),_=e(43887),w=e(41406),x=e(12650),D=e(96789),N=Object.defineProperty,I=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,R=(ie,se,W)=>se in ie?N(ie,se,{enumerable:!0,configurable:!0,writable:!0,value:W}):ie[se]=W,F=(ie,se)=>{for(var W in se||(se={}))A.call(se,W)&&R(ie,W,se[W]);if(I)for(var W of I(se))M.call(se,W)&&R(ie,W,se[W]);return ie},Z=(ie,se,W)=>(R(ie,typeof se!="symbol"?se+"":se,W),W),V=(ie,se,W)=>new Promise((z,Q)=>{var oe=le=>{try{ae(W.next(le))}catch(ue){Q(ue)}},ne=le=>{try{ae(W.throw(le))}catch(ue){Q(ue)}},ae=le=>le.done?z(le.value):Promise.resolve(le.value).then(oe,ne);ae((W=W.apply(ie,se)).next())});const G="\u2764",$=(ie,se,W)=>{const{reaction:z,reactions:Q,reactor_names:oe}=H(ie,se,W);re(se,z,Q,oe)},K=(ie,se)=>H(ie,se,!se.reaction),H=(ie,se,W)=>{let{reaction:z,reactions:Q={},reactor_names:oe=[]}=se;return Q=F({},Q),oe=[...oe],W&&!z?(z=G,Q[z]=Q[z]?Q[z]+1:1,ie&&ie.is_public_admin&&oe.push(ie.name||"author")):!W&&z&&(Q[G]=Q[G]?Q[G]-1:0,ie&&ie.is_public_admin&&(oe=oe.filter(ne=>ne!==(ie.name||"author"))),z=null),{reaction:z,reactions:Q,reactor_names:oe}},re=(ie,se,W,z)=>{ie.reaction=se,ie.reactions=W,ie.reactor_names=z};function ee(ie,se,W,z){const Q=(0,g.pathWithQuery)(`/api/v1/${se?"comment":"post"}/${ie.id}/reaction`,{token:z});return W?E().post(Q).send({reaction:G}):E().delete(Q)}class Y extends n.Component{constructor(){super(...arguments),Z(this,"state",{includeModal:!1}),Z(this,"modalRef",(0,n.createRef)(null)),Z(this,"react",se=>V(this,null,function*(){if(this.props.isStatic)return;se&&se.stopPropagation();const z=!(this.props.comment||this.props.post).reaction;if(this.props.onReactedChange&&this.props.onReactedChange(z),this.props.noSelfUpdate)return;const Q=yield(0,p.stateLock)(this,"locked",(oe,ne)=>V(this,null,function*(){const ae=ne.comment||ne.post,le=ee(ae,!!ne.comment,z,ne.token),{reaction:ue,reactions:fe,reactor_names:he}=K(ne.user,ae);this.notifyParent({reactions:fe,reaction:ue,reactor_names:he});let be;try{yield le}catch(ve){be=ve,this.notifyParent(ae)}return{error:be,reaction:ue}}));return Q&&Q.error&&(Q.error.response&&Q.error.response.statusCode===401?yield this.reactionRejected(Q.reaction):alert((0,p.getNetworkErrorMessage)(Q.error))),!!Q&&!Q.error}))}notifyParent({reaction:se,reactions:W,reactor_names:z}){const Q=F({},this.props.post),oe=this.props.comment&&F({},this.props.comment);re(oe||Q,se,W,z),this.props.onChange&&this.props.onChange({post:Q,comment:oe})}reactionRejected(se){return V(this,null,function*(){(0,C.j)(C.FP.REACTION_REJECTED,{comment_id:this.props.comment&&this.props.comment.id,post_id:this.props.post&&this.props.post.id,reason:"Not logged in",unreact:!se}),yield new Promise(W=>{this.state.includeModal?this.modalRef.current.open(W):this.setState({includeModal:!0},()=>this.modalRef.current.open(W))})})}render({className:se,user:W,pub:z,comment:Q,height:oe,isStatic:ne,post:ae,buttonStyle:le,hideReactionCount:ue,countInParenthesesStyle:fe,iString:he}){const be=Q||ae,ve=be.reaction,Te=be.reactions||{},we=O()(Object.values(Te));let Se;return ae&&ae.reaction_url_override?Se=ae.reaction_url_override:ne?Se=d.Substitutions.REACTION_URL:Se="javascript:void(0)",(0,n.h)(_.xv,{as:"span",decoration:"hover-underline",color:ve?"accent-red":"pub-secondary-text",className:se},this.props.render?this.props.render({liked:ve,numReactions:we>0?(0,P.numberToString)(we):null,onClick:We=>{this.react(We)}}):(0,n.h)("a",{href:Se,className:u()("like-button",{button:le,"post-meta-button":le,liked:ve}),onClick:We=>this.react(We)},(0,n.h)(s.hs,{gap:6,alignItems:"center",className:se},ne?(0,n.h)(x.Z,{ampProps:{layout:"fixed"},isStatic:!0,height:oe,stroke:"var(--color-secondary-themed)",fill:"transparent"}):(0,n.h)(s.hs,{className:"reaction-container"},(0,n.h)(x.Z,{className:"animation"}),!ve&&(0,n.h)(x.Z,{strokeWidth:2,height:oe,fill:"transparent",stroke:"var(--color-secondary-themed)"}),ve&&(0,n.h)(x.Z,{height:oe,strokeWidth:2})),fe?(0,n.h)(_.xv.Meta,{color:ve?"accent-red":"pub-secondary-text",className:"like-count"},he(ve?"Liked":"Like"),!ue&&we>0?` (${(0,P.numberToString)(we)})`:""):!ue&&we>0?(0,n.h)("span",{className:"like-count"},(0,P.numberToString)(we)):le?(0,n.h)("span",{className:"like-count"},he("Like")):null)),!ne&&this.state.includeModal&&(0,n.h)(te,{modalRef:this.modalRef,user:W,pub:z,comment:Q,react:this.react}))}}const J=(0,S.fz)(Y);function te({comment:ie,pub:se,user:W,modalRef:z,onClose:Q,react:oe}){const{iString:ne}=(0,S.M1)();return(0,n.h)(D.Z,{ref:z,onClose:Q},(0,n.h)(s.tu,{alignItems:"center",paddingTop:80,gap:24},(0,n.h)(_.xv.H2,null,ne(ie?"Subscribe to like this comment":"Subscribe to like this post")),(0,n.h)(w.Z,{user:W,pub:se,showLogin:!0,showTerms:!0,source:"like_button",onSuccess:ae=>V(this,null,function*(){const le=ae&&ae.body&&ae.body.email;ae&&ae.body&&ae.body.prompt_to_login||!(yield oe())?window.location.href=(0,g.getSigninUrl)({for_pub:se.subdomain,email:le}):z!=null&&z.current&&((0,T.a)({freeSignup:!0,freeSignupEmail:le}),yield z.current.close())})})))}},49715:(j,l,e)=>{"use strict";e.d(l,{J:()=>ee});var n=e(6400),c=e(30396),u=e(80569),v=e.n(u),O=e(82626),y=e(85928),E=e.n(y),d=e(6385),g=e(15045),P=e(83322),S=e(29811),T=e(63270),C=e(3258),p=e(39419),i=e(84040),s=e(51126),_=e(62246),w=e(43887),x=e(75425),D=e(11558),N=e(81671),I=e(61152);const A={textarea:"frontend-components-restack_modal-module__textarea--E7kGG",postPreview:"frontend-components-restack_modal-module__postPreview--hIlHg",pubIcon:"frontend-components-restack_modal-module__pubIcon--upVU0",modalWrap:"frontend-components-restack_modal-module__modalWrap--N4zkH",select:"frontend-components-restack_modal-module__select--Z1qub"};var M=Object.defineProperty,R=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,V=(Y,J,te)=>J in Y?M(Y,J,{enumerable:!0,configurable:!0,writable:!0,value:te}):Y[J]=te,G=(Y,J)=>{for(var te in J||(J={}))F.call(J,te)&&V(Y,te,J[te]);if(R)for(var te of R(J))Z.call(J,te)&&V(Y,te,J[te]);return Y},$=(Y,J,te)=>new Promise((ie,se)=>{var W=oe=>{try{Q(te.next(oe))}catch(ne){se(ne)}},z=oe=>{try{Q(te.throw(oe))}catch(ne){se(ne)}},Q=oe=>oe.done?ie(oe.value):Promise.resolve(oe.value).then(W,z);Q((te=te.apply(Y,J)).next())});const K={AUDIENCE_SELECTION:"AUDIENCE_SELECTION",PREAMBLE:"PREAMBLE"},H={everyone:"Everyone",only_paid:"Paid subscribers",founding:"Founding members"},re={everyone:"Send via email to all subscribers",only_paid:"Send via email to all paid subscribers",founding:"Send via email to all founding members"},ee=({pub:Y,post:J,user:te,open:ie,setOpen:se,placeholderText:W=""})=>{const z=E()().add(2,"minutes"),[Q,oe]=(0,c.eJ)(null),[ne,ae]=(0,c.eJ)(W),[le,ue]=(0,c.eJ)(!1),[fe,he]=(0,c.eJ)(!0),[be,ve]=(0,c.eJ)(K.PREAMBLE),[Te,we]=(0,c.eJ)(null),[Se,We]=(0,c.eJ)(null),[Ae,Be]=(0,c.eJ)(!0),[de,ce]=(0,c.eJ)(!0),[_e,Oe]=(0,c.eJ)(!1),[Le,ze]=(0,c.eJ)(E()().add(1,"day").toDate()),[Je,Pt]=(0,c.eJ)(""),{getConfigFor:Ve}=(0,T.xR)(),pt={everyone:"to everyone",founding:"to founding members",only_paid:"to paid subscribers"}[Se],$e=Ae?"Send":"Publish",Ie=_e&&Le?E()(Le).max(z).fromNow():"",Ce=`${$e} cross-post ${Ae?pt:""} ${Ie}`,xe=Q==null?void 0:Q.find(Qe=>Qe.id===Te),je=(0,x.pm)();(0,c.d4)(()=>{ie&&!Q&&fe&&(()=>$(void 0,null,function*(){var ct;try{const dt=yield v().get("/api/v1/restack/restackable-pubs"),it=((ct=dt==null?void 0:dt.body)==null?void 0:ct.publications)||[];oe(it),he(!1),it.length>0&&(we(it[0].id),We("everyone"))}catch(dt){console.error("Failed to load user profile for restacking: ",dt)}}))()},[ie,te,fe,he,Q,oe]),(0,c.d4)(()=>{ie&&Q&&Q.length===0&&!fe&&(0,p.redirect)((0,g.getStartPublishingUrl)())},[ie,Q,fe]);const He=(Qe,ct)=>{se(!ie,ct),ve(K.PREAMBLE),Pt(null),he(!1),ct&&(ae(""),(0,C.j)(C.FP.RESTACK_POST_SUBMITTED,{restacked_publication_id:Y.id,restacked_post_id:J.id,restacking_user_id:te.id,restacking_publication_id:xe.id,restacking_blurb:ne}),je.popToast(dt=>(0,n.h)(x.FN,G({text:_e?`This post is scheduled to cross-post ${Ie}`:"This post was cross-posted to your subscribers"},dt)))),(0,C.j)(C.FP.CROSS_POST_MODAL_CLOSED,{didRestack:ct})},Ge=()=>$(void 0,null,function*(){(0,C.j)(C.FP.CROSS_POST_MODAL_SUBMIT_CLICKED),he(!0);try{if(_e){const Qe=E()(Le).max(z).toDate();yield v().post(`/api/v1/restack/${J.id}/schedule`).send({audience:Se,restackingPubId:xe.id,introText:ne,sendEmail:Ae,publishToWeb:de,scheduledAt:Qe})}else yield v().post(`/api/v1/restack/${J.id}`).send({audience:Se,restackingPubId:xe.id,introText:ne,sendEmail:Ae,publishToWeb:de});(0,C.j)(C.FP.CROSS_POST_MODAL_SUBMITTED),He({},!0);return}catch(Qe){if((0,C.j)(C.FP.CROSS_POST_MODAL_SUBMIT_FAILED),Qe instanceof TypeError)throw Pt("An unknown error ocurred. This post was not recommended."),he(!1),Qe;Pt((0,p.getNetworkErrorMessage)(Qe,"This post could not be recommended.")),he(!1)}});return(0,n.h)(_.u_,{isOpen:ie,onClose:He},(0,n.h)(_.xB,{includeClose:!0,onClose:He,title:"Cross-post to your Substack"}),(0,n.h)("div",{"data-testid":"modal-ref-id",className:A.modalWrap},be===K.PREAMBLE?(0,n.h)(s.tu,{gap:24,paddingTop:12},(0,n.h)(s.tu,{gap:16},(0,n.h)("textarea",G({className:A.textarea,placeholder:"Say why this post is worth reading...",onChange:Qe=>{le||(ue(!0),(0,C.j)(C.FP.CROSS_POST_MODAL_TYPING_STARTED)),ae(Qe.target.value)},value:ne,maxLength:"800"},I.J)),(0,n.h)(s.tu,{gap:12,className:A.postPreview,paddingX:16,paddingY:16},(0,n.h)(s.gq,{alignItems:"center",gap:8},(0,n.h)(N.Z,{pub:Y,size:24,logo_url:Y.logo_url,linkify:!1,className:A.pubIcon,noMargin:!0}),(0,n.h)(w.xv.B4,{color:"primary",weight:"semibold",size:14},Y.name)),(0,n.h)(s.tu,{gap:4},(0,n.h)(w.xv.H4,{weight:"semibold"},J.title),(0,n.h)(w.xv.B3,{color:"secondary"},(0,P.formatEllipsis)(((J.truncated_body_text||"").replace(O.Substitutions.PUBLICATION_NAME,Y.name)||J.subtitle||"").substring(0,100)))))),Je&&(0,n.h)(w.xv.B4,{color:"accent-red"},Je),(0,n.h)(i.zx,{priority:"primary-theme",onClick:()=>{if((0,C.j)(C.FP.CROSS_POST_MODAL_CONTINUE_CLICKED),!ne){Pt("Please write something to your subscribers to continue"),(0,C.j)(C.FP.CROSS_POST_MODAL_CONTINUE_FAILED);return}Pt(""),ve(K.AUDIENCE_SELECTION),(0,C.j)(C.FP.CROSS_POST_MODAL_CONTINUED)},disabled:fe||!ne,className:"restack-modal-button "},"Continue")):(0,n.h)(s.tu,{gap:24,paddingTop:12},(0,n.h)(s.tu,{gap:20},(0,n.h)(s.tu,{gap:8},(0,n.h)(w.xv.B3,null,"Post to"),(0,n.h)(D.P,{value:xe.id,onChange:Qe=>{We("everyone"),we(Number(Qe))},className:A.select},Q.map(Qe=>(0,n.h)("option",{value:Qe.id},Qe.name)))),(0,n.h)(s.tu,{gap:8},(0,n.h)(w.xv.B3,null,"Send to"),(0,n.h)(D.P,{value:Se,onChange:Qe=>We(Qe),className:A.select},((xe==null?void 0:xe.payments_state)==="enabled"?(0,d.getAudiencesForPublicListing)():["everyone"]).map(Qe=>(0,n.h)("option",{value:Qe},H[Qe]))))),(0,n.h)(s.tu,{gap:12},(0,n.h)(w.xv.B3,null,"Delivery"),(0,n.h)(S.ji,{value:Ae,label:"Send cross-post via email",onChange:Qe=>Be(Qe)}),(0,n.h)(S.ji,{value:de,label:"Publish cross-post to web",onChange:Qe=>ce(Qe)}),(0,n.h)(S.ji,{value:_e,label:"Schedule time to publish cross-post",onChange:Qe=>Oe(Qe),contentBelow:(0,n.h)(S.HZ,{expanded:_e},(0,n.h)(s.tu,{paddingTop:8},(0,n.h)(S.Tz,{value:Le!=null?Le:new Date,max:E()().add(92,"days").toDate(),onChange:Qe=>{ze(new Date(Qe.currentTarget.value))}})))})),Je&&(0,n.h)(w.xv.B4,{color:"accent-red"},Je),(0,n.h)(i.zx,{priority:!Ae&&!de?"secondary":"primary-theme",onClick:Ge,disabled:fe||!Ae&&!de,className:"restack-modal-button "},Ce))))}},69427:(j,l,e)=>{"use strict";e.d(l,{ZP:()=>le});var n=e(6400),c=e(98661),u=e(91004),v=e(83322),O=e(15045),y=e(28488),E=e(3258),d=e(90304),g=e(39419),P=e.n(g),S=e(51126),T=e(25752),C=e(43887),p=e(7922),i=e(46595),s=e(51889),_=e(54813),w=e(64484),x=e(73416),D=e(21302),N=e(65665),I=e(7775),A=e(74957),M=e(41874),R=e(95950),F=e(96789),Z=e(31471),V=e(38441),G=Object.defineProperty,$=Object.defineProperties,K=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,re=Object.getPrototypeOf,ee=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,J=Reflect.get,te=(fe,he,be)=>he in fe?G(fe,he,{enumerable:!0,configurable:!0,writable:!0,value:be}):fe[he]=be,ie=(fe,he)=>{for(var be in he||(he={}))ee.call(he,be)&&te(fe,be,he[be]);if(H)for(var be of H(he))Y.call(he,be)&&te(fe,be,he[be]);return fe},se=(fe,he)=>$(fe,K(he)),W=(fe,he,be)=>(te(fe,typeof he!="symbol"?he+"":he,be),be),z=(fe,he,be)=>J(re(fe),be,he),Q=(fe,he,be)=>new Promise((ve,Te)=>{var we=Ae=>{try{We(be.next(Ae))}catch(Be){Te(Be)}},Se=Ae=>{try{We(be.throw(Ae))}catch(Be){Te(Be)}},We=Ae=>Ae.done?ve(Ae.value):Promise.resolve(Ae.value).then(we,Se);We((be=be.apply(fe,he)).next())});const oe=(0,c.forwardRef)((fe,he)=>(0,n.h)(p.Z,se(ie({},fe),{className:"share-action",forwardedRef:he}),(0,n.h)("div",{className:"action-icon"},(0,n.h)(i.Z,null)),(0,n.h)(C.xv.B4,{translated:!0,color:"secondary"},"Other"))),ne=({pub:fe,post:he,profile:be,comment:ve})=>{let Te=typeof document!="undefined"?document.title:"",we="",Se="";const We=(0,O.getBaseUrl)(fe).replace(/^https?:\/\//,"").replace(/\/$/);return ve?(Te=ve.name?`Comment by ${ve.name} on ${fe.name}`:`Comment on ${fe.name}`,we=(0,v.truncateText)(ve.body,100),Se=he.cover_image||null):he?(Te=he.title||he.draft_title,we=We,Se=he.cover_image||null):fe?(Te=fe.name,we=We,Se=fe.logo_url):be&&(Te=be.name,we=be.bio,Se=(0,O.getUserPhotoUrl)(be)),(0,n.h)(S.gq,{className:`social-preview-box ${he?"post":fe?"pub":"user"}`,radius:12,border:"detail",padding:8},(0,n.h)("div",{className:"social-image-box"},(he||fe)&&Se&&(0,n.h)(Z.e,{className:"social-image",src:Se,alt:"",maxWidth:120,loading:"lazy"}),!he&&!fe&&Se&&(0,n.h)(V.cy,{className:"social-image",imageUrl:Se,size:52}),!Se&&(0,n.h)(_.Z,{className:"social-image-default"})),(0,n.h)(S.tu,{paddingLeft:12,paddingY:8},(0,n.h)(C.xv.H4,null,Te),(0,n.h)(C.xv.B4,{color:"secondary"},we)))},ae=class extends F.p{constructor(fe,he){super(fe,he),this.noFullscreen=!0}open(){return Q(this,null,function*(){const fe="direct",he={title:(0,u.B8)(ie({},this.props)),url:(0,u.O1)(fe,ie({medium:this.state.medium},this.props))};if((0,g.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(he))try{yield navigator.share(he),(0,E.j)(E.FP.NATIVE_SHARE_SUCCESS,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||this.props.utm_campaign||"default"}),(0,d.ex)(`${this.props.pub.subdomain} shared`,!0);return}catch(be){if(be.name==="AbortError")return;(0,E.j)(E.FP.NATIVE_SHARE_FAILED,{errorName:be.name,errorMessage:be.message})}z(ae.prototype,this,"open").call(this)})}fromEmail(){this.setState({medium:"email"},()=>{this.open()})}getClassName(){return"share-dialog"}onBeforeOpen(){this.setState({showButtons:!0})}onOpen(){(0,E.j)(E.FP.SHARE_DIALOG_OPENED,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||this.props.utm_campaign||"default"})}onClose(){this.setState({copied:!1,utm_campaign:null})}renderChildren({post:fe,pub:he,profile:be,comments:ve,commentId:Te}){const we=ve||Te?"discussion":fe?"post":he?"publication":be?"profile":null,Se=we?this.context.iTemplate`Share this ${we}`:this.context.iString("Share"),We=ve&&Te&&ve.find(Ae=>Ae.id===Te);return(0,n.h)(n.Fragment,null,(0,n.h)("div",{className:"share-dialog-title"},Se),(0,n.h)(S.tu,{gap:32,paddingX:24,paddingTop:32,paddingBottom:48},(fe||he||be)&&(0,n.h)(ne,{post:fe,pub:he,profile:be,comment:We}),(0,n.h)(ue,se(ie({utm_campaign:this.state.utm_campaign},this.props),{shareName:(0,u.B8)(ie({},this.props)),shareUrl:(0,u.O1)(null,ie({medium:this.state.medium},this.props))}))))}};let le=ae;W(le,"contextType",y.wj);function ue(fe){const he=()=>{var be;(be=fe.onChange)==null||be.call(fe)};return(0,n.h)(S.gq,{className:"share-dialog-buttons-wrapper",justifyContent:"space-between",gap:8},(0,n.h)(p.Z,{onClick:()=>{(0,u.Ui)(ie({},fe)),he()},className:"share-action"},(0,n.h)("div",{className:"action-icon"},(0,n.h)(I.Z,null)),(0,n.h)(C.xv.B4,{translated:!0,color:"secondary"},"Copy link")),(0,n.h)(p.Z,{className:"share-action",onClick:()=>{(0,u.Po)(ie({},fe)),he()}},(0,n.h)("div",{className:"action-icon"},(0,n.h)(M.Z,null)),(0,n.h)(C.xv.B4,{translated:!0,color:"secondary"},"Facebook")),(0,n.h)(p.Z,{className:"share-action",onClick:()=>{(0,u.WZ)(ie({},fe)),he()}},(0,n.h)("div",{className:"action-icon"},(0,n.h)(A.Z,null)),(0,n.h)(C.xv.B4,{translated:!0,color:"secondary"},"Email")),(0,n.h)(p.Z,{className:"share-action",onClick:()=>{(0,u.BZ)(ie({},fe)),he()}},(0,n.h)("div",{className:"action-icon"},(0,n.h)(x.Z,null)),(0,n.h)(C.xv.B4,{color:"secondary"},"Note")),(0,n.h)(T.v2,{layerOptions:{triggerOffset:-20},className:"share-dialog-network-menu",trigger:(0,n.h)(oe,null),onOpen:()=>{(0,E.j)(E.FP.SHARE_DIALOG_MORE_OPTION_CLICKED,{medium:fe.medium||"web",post_id:fe.post?fe.post.id:null,utm_campaign:fe.utm_campaign||"default"})}},(0,n.h)(T.sN,{onClick:()=>{(0,u.lc)(ie({},fe)),he()},icon:(0,n.h)(w.Z,null)},"Linkedin"),(0,n.h)(T.sN,{onClick:()=>{(0,u.sn)(ie({},fe)),he()},icon:(0,n.h)(N.Z,null)},"Reddit"),(0,n.h)(T.sN,{onClick:()=>{(0,u.b6)(ie({},fe)),he()},icon:(0,n.h)(s.Z,null)},"Hacker News"),(0,n.h)(T.sN,{onClick:()=>{(0,u.Vn)(ie({},fe)),he()},icon:(0,n.h)(D.Z,null)},"Pinterest"),(0,n.h)(T.sN,{onClick:()=>{(0,u.Wn)(ie({},fe)),he()},icon:(0,n.h)(R.Z,null)},"Twitter")))}},61152:(j,l,e)=>{"use strict";e.d(l,{J:()=>C,Z:()=>p});var n=e(6400),c=e(83322),u=e(39419),v=e.n(u),O=Object.defineProperty,y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(i,s,_)=>s in i?O(i,s,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[s]=_,P=(i,s)=>{for(var _ in s||(s={}))E.call(s,_)&&g(i,_,s[_]);if(y)for(var _ of y(s))d.call(s,_)&&g(i,_,s[_]);return i},S=(i,s)=>{var _={};for(var w in i)E.call(i,w)&&s.indexOf(w)<0&&(_[w]=i[w]);if(i!=null&&y)for(var w of y(i))s.indexOf(w)<0&&d.call(i,w)&&(_[w]=i[w]);return _},T=(i,s,_)=>(g(i,typeof s!="symbol"?s+"":s,_),_);const C={"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false"};class p extends n.Component{constructor(){super(...arguments),T(this,"onWindowResize",s=>{this.setAutoHeight()}),T(this,"onKeyDown",s=>(this.props.inline&&s.key==="Enter"&&s.preventDefault(),this.props.onKeyDown&&this.props.onKeyDown(s))),T(this,"onInput",s=>(this.setAutoHeight(),this.props.onInput&&this.props.onInput(s))),T(this,"onBlur",()=>{var s;if(this.props.inline){const _=(s=this.base)==null?void 0:s.value,w=(0,c.sanitizeInlineText)(_);_&&_!==w&&(this.base.value=w,this.props.onInput&&this.props.onInput(event))}})}componentDidMount(){this.setAutoHeight(),window.addEventListener("resize",this.onWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}componentDidUpdate(s,_,w){s.value!==this.props.value&&this.setAutoHeight()}get value(){return this.base?this.base.value:""}setAutoHeight(){this.props.autoHeight&&this.base&&(typeof window=="undefined"||!window.getComputedStyle||(0,u.stateTransaction)(this,s=>{this.base.style.height="";const _=window.getComputedStyle(this.base),w=parseInt(_.getPropertyValue("height")),x=parseInt(_.getPropertyValue("padding-top"))+parseInt(_.getPropertyValue("padding-bottom")),D=parseInt(_.getPropertyValue("line-height")),N=Math.min(Math.round((this.base.scrollHeight-x)/D),this.props.maxLines||1/0);this.base.style.height=`${Math.max(N*D+x,w)}px`,this.base.style.height!==s.height&&this.setState({height:this.base.style.height})}))}render(s,{height:_}){var w=s,{children:x,ref:D,style:N,onKeyDown:I,onInput:A,inline:M,autoHeight:R,maxLines:F}=w,Z=S(w,["children","ref","style","onKeyDown","onInput","inline","autoHeight","maxLines"]);return R&&(N=Object.assign({},N,{height:_})),(0,n.h)("textarea",P(P({style:N,onKeyDown:this.onKeyDown,onInput:this.onInput,onBlur:this.onBlur},C),Z),x)}}},4605:(j,l,e)=>{"use strict";e.d(l,{ZP:()=>i,g1:()=>T});var n=e(6400),c=e(30396),u=e(80569),v=e.n(u),O=e(85928),y=e.n(O),E=e(83322),d=e(3258),g=e(66141);const P=(s,{timeout:_=5e3,className:w="",dismissable:x=!1,beforeDismiss:D=null}={},N)=>{N=N||document.body;const I=document.createElement("div");I.setAttribute("id","toast"),I.setAttribute("role","alert"),w&&I.classList.add(w),N.appendChild(I);const A=()=>{D&&D(),I.classList.remove("in"),setTimeout(()=>{I.remove()},500)};(0,n.render)([(0,n.h)("p",null,s),x&&(0,n.h)("a",{className:"dismiss",onClick:A},"Dismiss")],I),setTimeout(()=>{I.classList.add("in")}),!x&&setTimeout(A,_)},S=({children:s,className:_,dismissKey:w,dismissDurationInSeconds:x,beforeDismiss:D,container:N})=>{const[I,A]=(0,g.Z)(w,x,D);if(!I)return P(s,{className:_,beforeDismiss:A,dismissable:!0},N)},T=({user:s,pub:_,container:w})=>{if(!(!s||!_||!s.is_subscribed))return(0,n.h)(p,{pub:_,container:w})},C=s=>{if(s&&s.cardExpiresAt){const _=y()(s.expiry).subtract(E.GRACE_PERIOD_DAYS,"day"),w=y()(s.cardExpiresAt),x=y()().add(12,"day");return w.isBefore(_)&&_.isBefore(x)}return!1},p=({pub:s,container:_})=>{const[w,x]=(0,c.eJ)(null);if((0,c.d4)(()=>{v().get("/api/v1/subscription").then(D=>x(D.body)).catch(D=>{console.error("Failed to fetch subscription data: ",D)})},[]),C(w))return(0,n.h)(S,{className:"urgent",dismissKey:"card-expiring-toast.dismissed",dismissDurationInSeconds:1*E.WEEK_IN_SECONDS,beforeDismiss:()=>{(0,d.j)(d.FP.CARD_EXPIRED_WARNING_DISMISSED,{type:"toast"})},container:_},"Your credit card is expiring soon."," ",(0,n.h)("a",{href:"/account/billing",native:!0,onClick:()=>{(0,d.j)(d.FP.UPDATE_EXPIRED_CARD_LINK_CLICKED,{type:"toast"})}},"Update your card"),` before you lose access to ${s.name}`,".")},i=P},38441:(j,l,e)=>{"use strict";e.d(l,{ZP:()=>M,cy:()=>$,m1:()=>R});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(15045),y=e(3258),E=e(11688),d=e(32127),g=e(1782),P=e(36377),S=e(89867),T=e(95847),C=e(31471),p=e(35570),i=e(84017),s=Object.defineProperty,_=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,D=(K,H,re)=>H in K?s(K,H,{enumerable:!0,configurable:!0,writable:!0,value:re}):K[H]=re,N=(K,H)=>{for(var re in H||(H={}))w.call(H,re)&&D(K,re,H[re]);if(_)for(var re of _(H))x.call(H,re)&&D(K,re,H[re]);return K},I=(K,H,re)=>(D(K,typeof H!="symbol"?H+"":H,re),re);const A=33;class M extends n.Component{constructor(){super(...arguments),I(this,"onClick",H=>{if(this.props.onClick)this.props.onClick(H);else if(this.props.modalProfile)H.preventDefault(),H.stopPropagation(),this.profileShown||(this.profileShown=!0,(0,y.j)(y.FP.USER_HEAD_CLICKED,{is_self:this.isSelf()})),this.state.includeProfile?this.profile.open():this.setState({includeProfile:!0},()=>this.profile.open());else return!1})}static getSubject(H){return H?H.author_id?{id:H.author_id,name:H.author_name,photo_url:(0,O.getUserPhotoUrl)(H,{preferAuthorPhoto:!0}),publications:H.subdomain?[H]:[]}:H.user_id?{id:H.user_id,name:H.name,photo_url:(0,O.getUserPhotoUrl)(H),publications:[]}:{id:H.id,name:H.name,photo_url:(0,O.getUserPhotoUrl)(H),publications:[]}:{id:null,name:null,photo_url:O.DEFAULT_PHOTO_URL,publications:[]}}static hasCustomProfilePhoto(H){return!!M.getSubject(H).photo_url}isSelf(){return this.props.user&&this.props.user.id===M.getSubject(this.props.subject).id||!this.props.subject}profileUrl(){return this.props.url?this.props.url:this.props.isAuthor?(0,O.getProfileUrl)(M.getSubject(this.props.subject),this.props.pub,{base:this.props.isStatic}):(0,O.getReaderProfileUrl)(M.getSubject(this.props.subject))}onBeforeProfileClose(H){if(H)if(this.props.onEdit)this.props.onEdit();else return document.location.reload(),!1}render({subject:H,pub:re,user:ee,badge:Y,freeSignup:J,freeSignupEmail:te,token:ie,isStatic:se,size:W,modalProfile:z,isBanned:Q,lazy:oe,tooltip:ne,noLink:ae,className:le}){W=W||A;const ue=M.getSubject(H);return(0,n.h)("div",{className:v()("user-head",{banned:Q},le)},ae?(0,n.h)(R,{photo_url:ue.photo_url,size:W,isStatic:se,isBanned:Q,lazy:oe,badge:Y,tooltip:ne,className:"default-pointer"}):(0,n.h)("a",{href:se||!z?this.profileUrl():null,onClick:this.onClick},(0,n.h)(R,{photo_url:ue.photo_url,size:W,isStatic:se,isBanned:Q,lazy:oe,badge:Y,tooltip:ne})),this.props.modalProfile&&!se&&typeof window!="undefined"&&this.state.includeProfile&&(this.isSelf()?(0,n.h)(T.EB,{ref:fe=>this.profile=fe,user:ee,freeSignup:J,freeSignupEmail:te,needsPhoto:!0,token:ie,onBeforeClose:fe=>this.onBeforeProfileClose(fe)}):(0,n.h)(i.FI,{ref:fe=>this.profile=fe,profileUser:ue,pub:re,isBanned:Q})))}}const R=({photo_url:K,size:H,isStatic:re,isBanned:ee,lazy:Y,badge:J,tooltip:te,style:ie,expandable:se,children:W,className:z})=>{const[Q,oe]=(0,c.eJ)(!1),ne=!K&&!!W,ae={founding:(0,n.h)(P.Z,{height:14,width:14,stroke:"var(--print_on_pop)",strokeWidth:1,title:te}),author:(0,n.h)(d.Z,{height:14,width:14,stroke:"var(--print_on_pop)",title:te})}[J];return(0,n.h)("div",{onClick:()=>{se&&oe(!0)},className:v()("profile-img-wrap",z)},ne?W:Y?(0,n.h)(Z,N({},{photo_url:K,size:H,isStatic:re,badge:J,style:ie})):(0,n.h)(V,N({},{photo_url:K,size:H,isStatic:re,badge:J,style:ie})),ae&&(0,n.h)("div",{className:"profile-img-badge",title:te},ae),ee&&(0,n.h)(g.Z,null),(0,n.h)(E.cr,{module:"./ImageViewerModal",resolve:le=>le.ImageViewerModal,onRequest:()=>e.e(3934).then(e.bind(e,55661)),showModal:Q,modalContent:[{src:ne?W:K,attrs:{src:ne?W:K}}],onClose:()=>{oe(!1)},step:0,includeDownloadButton:!1}))},F=(K,H)=>(0,O.imginary)(K,H*2,{height:H*2,crop:"fill"}),Z=({photo_url:K,size:H,isStatic:re,badge:ee,style:Y})=>{const[J,te]=(0,p.Z)({}),ie=!te||te.isIntersecting?K:O.DEFAULT_PHOTO_URL;return(0,n.h)(G,{url:F(ie,H),size:H,ref:J,badge:ee,isStatic:re,style:Y})},V=({photo_url:K,size:H,isStatic:re,badge:ee,style:Y})=>(0,n.h)(G,{url:F(K,H),size:H,badge:ee,isStatic:re,style:Y}),G=({url:K,size:H,isStatic:re,ref:ee,badge:Y,className:J})=>re?(0,n.h)(S.Z,{className:J,src:(0,O.imginary)(K,H*2,{height:H*2,crop:"fill"}),ref:ee,height:H,width:H,alt:Y||""}):(0,n.h)(C.e,{className:J,src:K,imageProps:{height:H*2,crop:"fill"},maxWidth:H*2,ref:ee,alt:Y||""}),$=({imageUrl:K,alt:H,size:re,className:ee})=>(0,n.h)(G,{className:`user-photo ${ee||""}`,url:K,badge:H,size:re})},84017:(j,l,e)=>{"use strict";e.d(l,{FI:()=>I,fi:()=>M});var n=e(6400),c=e(94184),u=e.n(c),v=e(80569),O=e.n(v),y=e(85928),E=e.n(y),d=e(15045),g=e(83322),P=e(1782),S=e(96789),T=Object.defineProperty,C=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(R,F,Z)=>F in R?T(R,F,{enumerable:!0,configurable:!0,writable:!0,value:Z}):R[F]=Z,_=(R,F)=>{for(var Z in F||(F={}))p.call(F,Z)&&s(R,Z,F[Z]);if(C)for(var Z of C(F))i.call(F,Z)&&s(R,Z,F[Z]);return R},w=(R,F)=>{var Z={};for(var V in R)p.call(R,V)&&F.indexOf(V)<0&&(Z[V]=R[V]);if(R!=null&&C)for(var V of C(R))F.indexOf(V)<0&&i.call(R,V)&&(Z[V]=R[V]);return Z},x=(R,F,Z)=>new Promise((V,G)=>{var $=re=>{try{H(Z.next(re))}catch(ee){G(ee)}},K=re=>{try{H(Z.throw(re))}catch(ee){G(ee)}},H=re=>re.done?V(re.value):Promise.resolve(re.value).then($,K);H((Z=Z.apply(R,F)).next())});const D=92;class N extends n.Component{componentDidMount(){this.props.manualLoad||this.loadProfileUser()}componentDidUpdate(F){!this.props.manualLoad&&F.profileUser.id!==this.props.profileUser.id&&(this.setState({profileUser:null}),this.loadProfileUser())}loadProfileUser(){return x(this,null,function*(){if(!this.state.loadingProfile){this.setState({loadingProfile:!0});try{const F=yield O().get(`/api/v1/user/${this.props.profileUser.id}/profile`);this.setState({profileUser:F.body})}catch(F){console.error("Failed to load profile:",F)}this.setState({loadingProfile:!1})}})}getProfileUser(){return this.state.profileUser||this.props.profileUser}render({pub:F}){var Z;const V=((Z=this.getProfileUser().publications)==null?void 0:Z.filter(G=>G.id!==F.id))||[];return(0,n.h)("div",{className:`user-profile ${this.props.isBanned?"banned":""}`},(0,n.h)(M,{photo_url:(0,d.getUserPhotoUrl)(this.getProfileUser()),banned:this.props.isBanned,email:this.getProfileUser().email,pub:F}),(0,n.h)("div",{className:"user-profile-name"},this.getProfileUser().name),(0,n.h)("div",{className:"user-profile-status"},this.getProfileUser().id===F.author_id?(0,n.h)("b",null,"Author of ",F.name):this.getProfileUser().subscribed_at?`Subscriber to ${F.name} since ${E()(this.getProfileUser().subscribed_at).standardDate()}`:"\xA0"),V.length>0&&(0,n.h)("div",{className:"user-profile-publication"},"Author of"," ",(0,g.oxfordComma)(V.map(G=>(0,n.h)("a",{href:G.base_url,native:!0},G.name)))),this.props.isBanned&&(0,n.h)("div",{className:"user-profile-banned"},"Banned from commenting on ",F.name))}}class I extends S.p{onBeforeOpen(){this.profile.loadProfileUser()}renderChildren(){const F=this.props,{ref:Z}=F,V=w(F,["ref"]);return(0,n.h)("div",{className:"user-profile-modal"},(0,n.h)(N,_({ref:G=>this.profile=G,manualLoad:!0},V)))}}const A=({children:R,email:F,pub:Z})=>(0,n.h)("a",{target:"_blank",href:(0,d.getSubscriberDetailsUrl)(Z,F)},R),M=({photo_url:R,size:F=D,banned:Z=!1,email:V="",className:G="",pub:$=null,children:K=void 0})=>{const H=(0,n.h)("img",{className:"user-profile-head",height:F,width:F,src:(0,d.imginary)(R,F*2,{height:F*2,crop:"fill"})});return(0,n.h)("div",{className:u()(G,"profile-image-wrapper")},V&&$?(0,n.h)(A,{email:V,pub:$},H):H,Z&&(0,n.h)(P.Z,{height:F}),K)}},1824:(j,l,e)=>{"use strict";e.d(l,{Z:()=>i,a:()=>_});var n=e(98661),c=e(6400),u=e(36808),v=e.n(u),O=e(18349),y=e(15045),E=e(3258),d=e(39419),g=e.n(d),P=e(37888),S=e(33291);e(14369);const T="entry",C="ajs_anonymous_id";let p;function i(A){var M,R,F;if(p)throw new Error("Cannot re-render the things");p=A,window._preloads&&(window._preloads.original_url=window.location.href),(0,E.uF)(),(0,P.j0)((R=(M=window._preloads)==null?void 0:M.user)==null?void 0:R.id),N(),w(),x(),(F=window._preloads)!=null&&F.language&&typeof window._preloads.customPublicationThemePreviewId=="undefined"&&O.supportedNonEnglishLanguages.indexOf(window._preloads.language)>-1&&window.fetch?s(D,window._preloads.language):D(),I()}function s(A,M){fetch(`/api/v1/i18n/translations?language=${M}`,{method:"GET"}).then(R=>R.json()).then(R=>{O.I18N.l(M,R)}).finally(()=>{A()})}function _(A){let M=!1;if(typeof window._preloads=="object"&&window._preloads!==null)for(const R in A)(typeof A[R]=="object"&&A[R]!==null||A[R]!==window._preloads[R])&&(window._preloads[R]=A[R],M=!0);M&&D()}function w(){const A=(0,y.parseQuery)(window.location.href);if(!A.token&&!A.lli||!window.history.replaceState)return;delete A.token,delete A.lli;const M=`${(0,y.pathWithQuery)(window.location.pathname,A)}${window.location.hash}`;window.history.replaceState({},document.title,M)}function x(){if(!window.history||!window.history.pushState||!window.scrollTo)return;const A=window.history.pushState;history.pushState=function(M,R,F){var Z;const V=A.apply(history,arguments);return((Z=M==null?void 0:M.resetScroll)!=null?Z:!0)&&F.indexOf("#")===-1&&window.scrollTo(0,0),V}}function D(){if(!p)return;const A=document.getElementById(T);(0,c.render)((0,c.h)(p,{initialData:window._preloads}),A||document.body)}function N(){if(typeof window._analyticsConfig=="object"&&window._analyticsConfig!==null&&!window._analyticsConfig.anonymousId){let A;try{A=JSON.parse(u.get(C))}catch(M){}A||(A=(0,d.uuidV4)(),u.set(C,JSON.stringify(A),{expires:365})),window._analyticsConfig.anonymousId=A}}function I(){var A;!(console!=null&&console.log)||window.location.hostname.includes(".localhost")||window.location.pathname.startsWith("/embed")||(A=window._preloads.user)!=null&&A.is_global_admin||console.log(`%c
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 SUBSTACK WANTS YOU \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 TO BUILD A BETTER BUSINESS MODEL FOR WRITING \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
                   https://substack.com/jobs
`,"font-family:monospace")}},8826:j=>{"use strict";j.exports=class{constructor(){this.callbacks={}}listenerCount(e){return(this.callbacks[e]||[]).length}on(e,n,c=!1){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push([n,c]),this}once(e,n){return this.on(e,n,!0)}off(e,n){this.callbacks[e]&&(this.callbacks[e]=this.callbacks[e].filter(c=>c[0]!==n))}emit(e,n){const c=this.callbacks[e];if(c){for(const[u,v]of c)if(v&&this.off(e,u),u(n)===!1)return!1;return!0}}}},63503:(j,l,e)=>{"use strict";e.d(l,{Z:()=>u});var n=e(30396);const u=(v,O)=>{const y=(0,n.sO)();(0,n.d4)(()=>{y.current=v},[v]),(0,n.d4)(()=>{function E(){y.current()}if(O!==null){const d=setInterval(E,O);return()=>clearInterval(d)}},[O])}},89018:j=>{"use strict";j.exports={substack_color:"#FF6719",subscriber_green:"#318631",lifetime_lavender:"#792BA9",comped_salmon:"#E07F69",gifted_ocean:"#8BD1E0",free_trial_yellow:"#F7ED92",new_paid_cerulean:"#39a5f7",upgrades_teal:"#008080",downgrades_red:"#E06666",expirations_orange:"#FFB347",chart_line_color:"#444444",chart_grid_color:"#F4F4F4",chart_axis_label_color:"#AAAAAA",share_button_size_px:18,tweet_icon_size_px:48}},72496:(j,l,e)=>{"use strict";e.d(l,{UE:()=>g,ip:()=>d,xU:()=>P,xY:()=>E});var n=e(79546),c=e.n(n);const u="substack_ref_url",v="substack_ref";let O,y;typeof window!="undefined"&&window.location&&window.location.href&&(O=window.location.href,y=document.referrer,c().get(u)||(c().set(u,O),c().set(v,y)));const E=c().get(u),d=c().get(v),g=O,P=y},39419:function(j,l,e){"use strict";var n=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,E=(W,z,Q)=>z in W?n(W,z,{enumerable:!0,configurable:!0,writable:!0,value:Q}):W[z]=Q,d=(W,z)=>{for(var Q in z||(z={}))O.call(z,Q)&&E(W,Q,z[Q]);if(v)for(var Q of v(z))y.call(z,Q)&&E(W,Q,z[Q]);return W},g=(W,z)=>c(W,u(z)),P=(W,z,Q)=>new Promise((oe,ne)=>{var ae=fe=>{try{ue(Q.next(fe))}catch(he){ne(he)}},le=fe=>{try{ue(Q.throw(fe))}catch(he){ne(he)}},ue=fe=>fe.done?oe(fe.value):Promise.resolve(fe.value).then(ae,le);ue((Q=Q.apply(W,z)).next())});const{h:S,Fragment:T}=e(6400),{route:C}=e(20042),{getQueryItem:p,pathWithQuery:i,parseQuery:s,getGlobalAccountSettingsUrl:_,getPubAccountSettingsUrl:w,getCurrentUrlForLoginRedirect:x}=e(15045),{centsToPriceString:D,toTitleCase:N,pluralize:I,isZeroDecimalCurrency:A}=e(83322),M=e(8826),{isMobileUserAgent:R,getIosVersion:F}=e(76193),{validatePledgePrices:Z}=e(48971),V=e(27484),{Metadata:G}=e(35442),{getPodcastEpisodeImageUrl:$}=e(63030),{I18N:K}=e(18349);l.getPodcastEpisodeImageUrl=$;const H=["text","password","file","search","email","number","date","color","datetime","datetime-local","month","range","search","tel","time","url","week"];let re=typeof window=="undefined"||!window.addEventListener;re||window.addEventListener("load",()=>{re=!0},!1),typeof window!="undefined"&&window._preloads,l.globalPlaybackNotifier=typeof window!="undefined"?new M:null,l.windowReady=W=>{re?W():window.addEventListener("load",W,!1)},l.debounce=function(W,z,Q=this){let oe=null;return function(){clearTimeout(oe),oe=setTimeout(()=>W.apply(Q,arguments),z)}},l.couponToString=(W,z,{language:Q="en"}={})=>{const{iTemplate:oe,iPlural:ne}=K.i(Q);if(!W||W.loading||W.error)return;let ae;if(W.trial_period_days)ae=oe`${W.trial_period_days} day free trial`;else if(W.extra_seats)ae=ne("an additional seat","%1 additional seats",W.extra_seats);else if(W.percent_off)if(W.duration==="once")if(z)switch(z.interval){case"month":ae=oe`${Math.round(W.percent_off_precise||W.percent_off)}% off first month`;break;case"year":ae=oe`${Math.round(W.percent_off_precise||W.percent_off)}% off first year`;break;case"week":ae=oe`${Math.round(W.percent_off_precise||W.percent_off)}% off first week`;break;case"day":ae=oe`${Math.round(W.percent_off_precise||W.percent_off)}% off first day`;break}else ae=oe`${Math.round(W.percent_off_precise||W.percent_off)}% off first payment`;else W.duration==="repeating"?W.duration_in_months%12===0?ae=ne("%2% off for 1 year","%2% off for %1 years",W.duration_in_months/12,Math.round(W.percent_off_precise||W.percent_off)):ae=ne("%2% off for 1 month","%2% off for %1 months",W.duration_in_months,Math.round(W.percent_off_precise||W.percent_off)):ae=oe`${Math.round(W.percent_off_precise||W.percent_off)}% off forever`;else if(W.amount_off)if(W.duration==="once")if(z)switch(z.interval){case"month":ae=oe`${D(W.amount_off,z.currency)} off first month`;break;case"year":ae=oe`${D(W.amount_off,z.currency)} off first year`;break;case"week":ae=oe`${D(W.amount_off,z.currency)} off first week`;break;case"day":ae=oe`${D(W.amount_off,z.currency)} off first day`;break}else ae=oe`${D(W.amount_off,z.currency)} off first payment`;else W.duration==="repeating"?W.duration_in_months%12===0?ae=ne("%2 off for 1 year","%2 off for %1 years",W.duration_in_months/12,D(W.amount_off,z.currency)):ae=ne("%2 off for 1 month","%2 off for %1 months",W.duration_in_months,D(W.amount_off,z.currency)):ae=oe`${D(W.amount_off,z.currency)} off forever`;return ae},l.preloadImage=function(W,z){const Q=new Image;Q.onload=()=>{Q.onload=Q.onerror=null,z&&z(Q)},Q.onerror=Q.onload,Q.src=W},l.getHostname=W=>{const z=document.createElement("a");return z.href=W,(z.hostname||"").replace(/\.localhost$/,"")},l.getPathname=W=>{const z=document.createElement("a");return z.href=W,z.pathname||""},l.getPath=W=>{const z=document.createElement("a");return z.href=W,(z.pathname||"")+(z.search||"")+(z.hash||"")},l.getNetworkErrorMessage=(W,z)=>{var Q;return l.getNetworkErrorMessageFromResponse((W==null?void 0:W.body)||((Q=W==null?void 0:W.response)==null?void 0:Q.body),z)},l.getNetworkErrorBody=W=>{var z;const Q=(W==null?void 0:W.body)||((z=W==null?void 0:W.response)==null?void 0:z.body);if(Q&&Q.error)return{msg:Q.error};if(Q&&Q.errors&&Q.errors.length>0)return{html:Q.errors[Q.errors.length-1].msgHTML,msg:Q.errors[Q.errors.length-1].msg}},l.getNetworkErrorMessageFromXhr=(W,z)=>{let Q;try{Q=JSON.parse(W&&W.responseText)}catch(oe){}return l.getNetworkErrorMessageFromResponse(Q,z)},l.getNetworkErrorMessageFromResponse=(W,z)=>(z=z||"Something went wrong",W&&W.error?W.error:W&&W.errors&&W.errors.length>0&&W.errors[W.errors.length-1].msg||z),l.inputPrefillHack=function(){return[S("input",{type:"email",name:"fake_email",placeholder:"email",style:"position:absolute;top:-10000px;left:-10000px"}),S("input",{type:"password",name:"fake_password",placeholder:"password",style:"position:absolute;top:-10000px;left:-10000px"})]},l.isBrowser=function(){return typeof window!="undefined"},l.isMobileBrowser=function(){if(typeof navigator!="undefined"||typeof window!="undefined"){const W=navigator.userAgent||navigator.vendor||window.opera;if(R(W,{checkFirst4:!0}))return!0}return!1},l.isIE=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/(MSIE|Trident)/i.test(window.navigator.userAgent),l.isFirefox=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Firefox/i.test(window.navigator.userAgent),l.isAndroid=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Android/i.test(window.navigator.userAgent),l.isBrave=()=>!(typeof window=="undefined"||!window.navigator||!window.navigator.brave),l.isIOs=()=>!!l.iosVersion(),l.isMac=(W=window.navigator)=>W?W.userAgentData&&W.userAgentData.platform?/macOS/.test(W.userAgentData.platform):/Mac/.test(W.platform):!1,l.isSafari=()=>{var W;return typeof window=="undefined"||!((W=window.navigator)!=null&&W.userAgent)?!1:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},l.getModKeyLabel=(W=l.isMac())=>W?"\u2318":"^",l.iosVersion=()=>typeof window=="undefined"?null:F(),l.fixSmsUrl=W=>{const z=l.iosVersion();return z?z>=9?W.replace("?body=","&body="):W.replace("?body=",";body="):W};const ee=W=>((z,Q)=>{let oe;const ne=()=>Q.userAgent.match(/ipad|iphone/i),ae=he=>{oe=z.createElement("textArea"),oe.value=he,z.body.appendChild(oe)},le=()=>{let he,be;ne()?(he=z.createRange(),he.selectNodeContents(oe),be=W.getSelection(),be.removeAllRanges(),be.addRange(he),oe.setSelectionRange(0,999999)):oe.select()},ue=()=>{z.execCommand("copy"),z.body.removeChild(oe)};return{copy:he=>{ae(he),le(),ue()}}})(document,navigator);l.copyToClipboard=W=>{if(typeof window=="undefined")return;ee(window).copy(W);const z=Q=>{Q&&Q.clipboardData?(Q.clipboardData.setData("text/plain",W),Q.preventDefault()):window.clipboardData&&window.clipboardData.setData("Text",W)};l.iosVersion()||window.addEventListener("copy",z),setTimeout(()=>{try{const Q=document.createElement("input");Q.style="position: absolute; top: 0; right: 0; height: 1px; width: 1px;",document.documentElement.appendChild(Q),Q.value=W,Q.contentEditable=!0,Q.readOnly=!1;const oe=document.createRange();oe.selectNodeContents(Q);const ne=window.getSelection();ne.removeAllRanges(),ne.addRange(oe),Q.setSelectionRange(0,999999),document.execCommand("copy"),document.documentElement.removeChild(Q)}catch(Q){}window.removeEventListener("copy",z)},0)},l.copyNodeToClipboard=W=>{try{l.selectNode(W),document.execCommand("copy")}catch(z){console.error("Failed to copy text:",z)}},l.selectNode=W=>{try{if(["INPUT","TEXTAREA"].includes(W.nodeName)&&W.select)W.select();else if(document.body.createTextRange){const z=document.body.createTextRange();z.moveToElementText(W),z.select()}else if(window.getSelection){const z=window.getSelection(),Q=document.createRange();Q.selectNodeContents(W),z.removeAllRanges(),z.addRange(Q)}else console.warn("Could not select text in node: Unsupported browser")}catch(z){console.error("Failed to select node:",z)}},l.deselectNode=W=>{try{const z=window.getSelection?window.getSelection():document.selection;z&&z.anchorNode===W&&(z.empty?z.empty():z.removeAllRanges&&z.removeAllRanges())}catch(z){console.error("Failed to deselect node:",z)}},l.setMetaData=function(W){return S(G,d({},W))},l.getBodyOffset=(W,z)=>{const Q=`offset${N(z)}`;let oe=0;for(;W&&W!==document.body;)oe+=W[Q],W=W.offsetParent||W.parentNode;return oe},l.getUrlHash=()=>typeof window=="undefined"||!window.location.hash?null:decodeURIComponent(window.location.hash.slice(1)),l.scrollToHash=function(W){const z=l.getUrlHash();if(!z)return;const Q=document.getElementById(z);Q&&(typeof W!="number"&&(W=-122),document.documentElement.scrollTop=Math.max(0,l.getBodyOffset(Q,"top")+W))},l.mightSupportApplePay=W=>!(!W||!W.stripe_country||W.apple_pay_disabled||typeof window=="undefined"||!window.ApplePaySession),l.addClass=(W,z)=>{W.className+=` ${z}`},l.removeClass=(W,z)=>{W.className=W.className.replace(new RegExp(`\\b${z}\\b`,"g"),"").trim()},l.hasClass=(W,z)=>new RegExp(`\\b${z}\\b`,"g").test(W.className),l.isFocused=(...W)=>l.isRootOrChild(document.activeElement,...W),l.isRootOrChild=(W,...z)=>{for(;W;){for(const Q of z)if(typeof Q=="function"?Q(W):W===Q)return!0;W=W.parentNode}return!1},l.getRootOrChild=(W,z,{maxDepth:Q}={})=>{const oe=[W];let ne=0;for(;oe.length>0;){ne++;const ae=oe.splice(0);for(const le of ae)if(le){if(z(le))return le;(!Q||ne<Q)&&le.children&&oe.push(...le.children)}}return null},l.getRootOrParent=(W,z)=>W?z(W)?W:l.getRootOrParent(W.parentNode,z):null,l.getVisibilityApi=()=>{let W,z;return typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(W="visibilitychange",z="hidden"):typeof document.msHidden!="undefined"?(W="msvisibilitychange",z="msHidden"):typeof document.webkitHidden!="undefined"&&(W="webkitvisibilitychange",z="webkitHidden")),{visibilityChange:W,hidden:z}},l.isWindowVisible=()=>{const{hidden:W}=l.getVisibilityApi();return W?!document[W]:!0},l.onWindowVisibilityChange=W=>{const{visibilityChange:z}=l.getVisibilityApi();z&&document.addEventListener(z,W,!1)},l.offWindowVisibilityChange=W=>{const{visibilityChange:z}=l.getVisibilityApi();z&&document.removeEventListener(z,W,!1)},l.disableBackspaceNavigation=()=>{document.addEventListener("keydown",Y,!1)},l.enableBackspaceNavigation=()=>{document.removeEventListener("keydown",Y,!1)};function Y(W){if(W.keyCode!==8)return;const z=W.srcElement||W.target;if(!z.readonly&&!z.disabled){if(z.isContentEditable)return;if(z.nodeName==="TEXTAREA")return;if(z.nodeName==="INPUT"&&H.indexOf((z.getAttribute("type")||"").toLowerCase())>-1)return}return W.preventDefault(),!1}l.getBlob=W=>new Promise((z,Q)=>{const oe=new XMLHttpRequest;oe.open("GET",W,!0),oe.responseType="blob",oe.onerror=Q,oe.onload=ne=>{oe.status==200?z(oe.response):Q(new Error("Failed to fetch blob"))},oe.send()}),l.getDataUrlFromFile=W=>new Promise((z,Q)=>{if(!window.FileReader){Q(new TypeError("File reader API not found"));return}const oe=new FileReader;oe.onerror=Q,oe.onload=()=>{z(oe.result)},oe.readAsDataURL(W)}),l.getExifOrientationFromFile=W=>new Promise((z,Q)=>{if(!window.FileReader){Q(new TypeError("File reader API not found"));return}if(!window.DataView){Q(new TypeError("DataView API not found"));return}const oe=new FileReader;oe.onerror=Q,oe.onload=()=>{const ne=new DataView(oe.result);if(ne.getUint16(0,!1)!=65496)return z(-2);const ae=ne.byteLength;let le=2;for(;le<ae;){if(ne.getUint16(le+2,!1)<=8)return z(-1);const ue=ne.getUint16(le,!1);if(le+=2,ue==65505){if(ne.getUint32(le+=2,!1)!=1165519206)return z(-1);const fe=ne.getUint16(le+=6,!1)==18761;le+=ne.getUint32(le+4,fe);const he=ne.getUint16(le,fe);le+=2;for(let be=0;be<he;be++)if(ne.getUint16(le+be*12,fe)==274)return z(ne.getUint16(le+be*12+8,fe))}else{if((ue&65280)!=65280)break;le+=ne.getUint16(le,!1)}}z(-1)},oe.readAsArrayBuffer(W)}),l.getImageDataFromFileInput=W=>P(this,null,function*(){let z,Q;const oe=W!=null&&W.files?W.files[0]:null;if(W.value="",oe){try{z=yield l.getDataUrlFromFile(oe)}catch(ne){console.error("Failed to get data URL from file:",ne),alert(ne.message);return}try{Q=yield l.getExifOrientationFromFile(oe)}catch(ne){console.error("Failed to extract EXIF data from file:",ne)}}return{url:z,orientation:Q}}),l.transformExifOrientation=W=>{switch(W){case 2:return"rotateY(180deg)";case 3:return"rotateZ(-180deg)";case 4:return"rotateZ(-180deg) rotateY(180deg)";case 5:return"rotateZ(-90deg) rotateY(180deg)";case 6:return"rotateZ(90deg)";case 7:return"rotateZ(90deg) rotateY(180deg)";case 8:return"rotateZ(-90deg)";default:return""}},l.canScroll=()=>l.maxScroll()>0,l.maxScroll=()=>Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)-window.innerHeight,l.getLoginRedirect=({redirect:W,email:z,justTrying:Q,with_password:oe=!1,useOriginalUrl:ne=!1}={})=>(typeof W!="string"&&(W=x({useOriginalUrl:ne})),i("/account/login",{redirect:W||"",email:z||"",with_password:oe?"1":"",justTrying:Q||""})),l.redirectToLogin=(W={})=>{document.location.href=l.getLoginRedirect(W)},l.redirectToAccount=W=>{window.location.assign(w(W))},l.redirectToAccountSettings=()=>{document.location.href=_()},l.base64encode=W=>{const z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";let Q="",oe,ne,ae,le,ue,fe,he,be=0;for(W=l.utf8Encode(W);be<W.length;)oe=W.charCodeAt(be++),ne=W.charCodeAt(be++),ae=W.charCodeAt(be++),le=oe>>2,ue=(oe&3)<<4|ne>>4,fe=(ne&15)<<2|ae>>6,he=ae&63,isNaN(ne)?fe=he=64:isNaN(ae)&&(he=64),Q=Q+z.charAt(le)+z.charAt(ue)+z.charAt(fe)+z.charAt(he);return Q},l.utf8Encode=W=>{let z="";for(let Q=0;Q<W.length;Q++){const oe=W.charCodeAt(Q);oe<128?z+=String.fromCharCode(oe):oe>127&&oe<2048?(z+=String.fromCharCode(oe>>6|192),z+=String.fromCharCode(oe&63|128)):(z+=String.fromCharCode(oe>>12|224),z+=String.fromCharCode(oe>>6&63|128),z+=String.fromCharCode(oe&63|128))}return z},l.redirectNoScroll=W=>{const z=[window.scrollX,window.scrollY];l.redirect(W),window.scrollTo(...z)},l.redirect=(W,{event:z=null,local_navigation:Q=!0,replace:oe=!1,newTab:ne=!1,state:ae=void 0}={})=>{var le;if(z&&z.preventDefault(),W.trim().startsWith("javascript:"))return;if(W.startsWith("#")&&Q){window.location.hash!==W&&(oe&&((le=window.history)!=null&&le.replaceState)?window.history.replaceState(ae!=null?ae:window.history.state,null,W):window.location.hash=W),l.scrollToHash();return}if(Q&&l.getHostname(W)&&l.getHostname(W)!==l.getHostname(window.location.href)&&(Q=!1),ne||z&&(z.metaKey||z.ctrlKey)){window.open(W,"_blank");return}const ue=history.state;if(Q&&C(l.getPath(W),oe)){ae!==void 0?history.replaceState(ae,""):oe&&ue!==void 0&&history.replaceState(ue,""),setTimeout(()=>l.scrollToHash(),0);return}window.location.href=W},l.setState=(W,z)=>new Promise(Q=>{W.setState(z,Q)}),l.stateTransaction=(W,z)=>new Promise((Q,oe)=>{W.setState((...ne)=>P(this,null,function*(){try{Q(yield z.apply(W,ne))}catch(ae){oe(ae)}}))}),l.stateLock=(W,z,Q,...oe)=>P(this,[W,z,Q,...oe],function*(ne,ae,le,{force:ue}={}){return typeof ae=="function"&&(le=ae,ae="lock"),yield l.stateTransaction(ne,(fe,...he)=>P(this,null,function*(){if(fe[ae]&&!ue)return;yield l.setState(ne,{[ae]:!0});const be=yield le.call(ne,fe,...he);return yield l.setState(ne,{[ae]:!1}),be}))}),l.getsMessageQuery=W=>z=>{const Q=s(document.location.href),oe=p("message");if(oe){delete Q.message;const ne=`${i(document.location.pathname,Q)}${document.location.hash}`;window&&window.history&&window.history.replaceState({},document.title,ne)}return S(W,d({message:oe},z))},l.uuidV4=()=>{const W=window.crypto||window.msCrypto;if(typeof(W==null?void 0:W.randomUUID)=="function")return W.randomUUID();if(W)return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,z=>(z^W.getRandomValues(new Uint8Array(1))[0]&15>>z/4).toString(16));{let z=new Date().getTime(),Q=typeof performance!="undefined"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(oe){let ne=Math.random()*16;return z>0?(ne=(z+ne)%16|0,z=Math.floor(z/16)):(ne=(Q+ne)%16|0,Q=Math.floor(Q/16)),(oe==="x"?ne:ne&3|8).toString(16)})}},l.isStandaloneWebApp=()=>navigator.standalone?!0:window.matchMedia("(display-mode: standalone)").matches,l.disabledIfSSR=()=>typeof window=="undefined"?"disabled":"",l.focusElement=W=>{W.focus&&W.focus(),W.select&&W.select()},l.getRoleOrOwner=(W,z)=>W?W.user_id===z.author_id?"owner":W.role:"byline",l.hexWithOpacity=(W,z)=>{if(!W)return W;W=W.replace("#","");const Q=parseInt(W.substring(0,2),16),oe=parseInt(W.substring(2,4),16),ne=parseInt(W.substring(4,6),16);return`rgba(${Q},${oe},${ne},${z/100})`},l.getSelectTheme=({primary:W,neutral0:z="#f8f8f8",neutral20:Q="#d8d8d8",danger:oe="var(--color-accent-red)",dangerLight:ne="var(--color-bg-accent-red)"})=>ae=>g(d({},ae),{colors:g(d({},ae.colors),{primary:W,primary25:l.hexWithOpacity(W,25),primary50:l.hexWithOpacity(W,50),primary75:l.hexWithOpacity(W,75),neutral0:z,neutral20:Q,danger:oe,dangerLight:ne})}),l.removeQueryParam=(W,{stripHash:z=!1}={})=>{var Q;if(typeof window!="undefined"&&((Q=window.history)!=null&&Q.replaceState)){const oe=s(window.location.href);if(!Array.isArray(W))delete oe[W];else for(const ae of W)delete oe[ae];const ne=`${i(window.location.pathname,oe)}${z?"":window.location.hash}`;window.history.replaceState(window.history.state,document.title,ne)}},l.isFullscreen=()=>typeof window=="undefined"?!1:typeof document.webkitCurrentFullScreenElement!="undefined"?document.webkitCurrentFullScreenElement!==null:typeof document.fullscreenElement!="undefined"?document.fullscreenElement!==null:!1,l.goFullscreen=W=>typeof window=="undefined"?!1:W.requestFullScreen?(W.requestFullScreen(),!0):W.webkitRequestFullScreen?(W.webkitRequestFullScreen(),!0):W.mozRequestFullScreen?(W.mozRequestFullScreen(),!0):!1,l.exitFullscreen=()=>{if(!l.isFullscreen())return!1;if(document.exitFullscreen)return document.exitFullscreen(),!0;if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(document.mozCancelFullScreen)return document.mozCancelFullScreen(),!0;if(document.msExitFullscreen)return document.msExitFullscreen(),!0}return!1},l.exitPictureInPicture=()=>typeof window=="undefined"||!document.pictureInPictureElement||!document.exitPictureInPicture?!1:(document.exitPictureInPicture(),!0),l.getVideoBlobDuration=(W,...z)=>P(this,[W,...z],function*(Q,{timeout:oe=5e3}={}){const ne=document.createElement("video");ne.volume=0;const ae=Promise.race([new Promise((le,ue)=>{ne.onloadedmetadata=()=>{ne.onloadedmetadata=null,ne.duration===1/0?(ne.currentTime=Number.MAX_SAFE_INTEGER,ne.ontimeupdate=()=>{ne.ontimeupdate=null,le(ne.duration),ne.currentTime=0}):le(ne.duration)},ne.onerror=fe=>ue(fe.target.error)}),new Promise((le,ue)=>{setTimeout(()=>{ue(new Error("Blob duration fetching timed out"))},oe)})]);return ne.src=typeof Q=="string"||Q instanceof String?Q:window.URL.createObjectURL(Q),ae}),l.downloadSrc=W=>{const z=document.createElement("a");document.body.appendChild(z),z.href=W,z.target="_blank",z.click(),document.body.removeChild(z)},l.getCurrencyFormattedPledgePlans=(W,{skipFoundingPlan:z=!1}={})=>{if(!(W!=null&&W.length))return[];const Q=[];for(const oe of W)z&&oe.is_founding?Q.push(d({},oe)):oe.amount?Q.push(g(d({},oe),{amount:oe.amount})):Q.push(d({},oe));return Q},l.validatePledgePlanValues=(W,z,Q,oe)=>{if(Q<=z)return"Your founding price must be greater than your yearly price";const ne=Z({value:W,interval:"month",is_founding:!1,currency:oe});if(ne)return ne;const ae=Z({value:z,interval:"year",is_founding:!1,currency:oe});if(ae)return ae;const le=Z({value:Q,interval:"year",is_founding:!0,currency:oe});return le||null},l.decimalToPercentString=W=>{let z=W;return typeof W=="string"&&(z=parseFloat(W)),`${Math.round(z*100)}%`};const J=new Intl.DateTimeFormat(void 0,{timeStyle:"short"}),te=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),ie=new Intl.DateTimeFormat(void 0,{dateStyle:"long"}),se=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});l.formatPostDate=(W,{includeTime:z,language:Q}={})=>{const oe=V(W),ne=V(),{iTemplate:ae}=K.i(Q);return oe.isBefore(ne.startOf("year"))?ie.format(oe.toDate())+(z?ae` at ${J.format(oe.toDate())}`:""):oe.isBefore(ne.startOf("day"))?te.format(oe.toDate())+(z?ae` at ${J.format(oe.toDate())}`:""):oe.isAfter(ne.endOf("year"))?se.format(oe.toDate())+(z?ae` at ${J.format(oe.toDate())}`:""):oe.isAfter(ne.endOf("day"))?te.format(oe.toDate())+(z?ae` at ${J.format(oe.toDate())}`:""):J.format(oe.toDate())},l.getBanMessage=W=>{const z=Q=>`We've removed your publication from public view due a violation of Substack's ${Q}. If you believe this was a mistake, you can submit an appeal to our Trust & Safety team`;switch(W){case"hate":return z("Hate policy");case"illegal":return z("Illegal & Harmful Activities policy");case"impersonation":return z("Impersonation policy");case"plagiarism":return z("Plagiarism policy");case"porn":return z("Nudity, Porn, & Erotica policy");case"private_information":return z("Private Information policy");case"spam":return z("Spam & Phishing policy");default:return z("Content Guidelines, Terms of Service, or Publisher Agreement")}}},702:(j,l,e)=>{"use strict";e.d(l,{Z:()=>x});var n=e(6400),c=e(30396),u=e(94184),v=e.n(u),O=e(80569),y=e.n(O),E=e(7922),d=e(1138),g=e(96789),P=e(61152),S=e(89018),T=e.n(S),C=e(39419),p=e.n(C),i=(D,N,I)=>new Promise((A,M)=>{var R=V=>{try{Z(I.next(V))}catch(G){M(G)}},F=V=>{try{Z(I.throw(V))}catch(G){M(G)}},Z=V=>V.done?A(V.value):Promise.resolve(V.value).then(R,F);Z((I=I.apply(D,N)).next())});const s=({className:D,pub:N,comment:I,onClose:A,onReportSuccess:M})=>{const R=(0,c.sO)(null),[F,Z]=(0,c.eJ)(!1),V={Report:0,Confirm:1},[G,$]=(0,c.eJ)(V.Report),K=re=>i(void 0,null,function*(){if(re===""){alert("Please enter a reason!");return}Z(!0);try{yield y().post(`/api/v1/comment/${I.id}/report`).send({publication_id:N==null?void 0:N.id,reason:re}),M(),$(V.Confirm)}catch(ee){alert((0,C.getNetworkErrorMessage)(ee))}finally{Z(!1)}}),H=()=>{var re;(re=R==null?void 0:R.current)==null||re.close()};return(0,c.d4)(()=>{var re;(re=R==null?void 0:R.current)==null||re.open()},[]),(0,n.h)(g.p,{className:v()("report-comment-modal",D),ref:R,onClose:A},G===V.Report?(0,n.h)(_,{pub:N,reportComment:K,reporting:F,closeModal:H}):(0,n.h)(w,{pub:N,closeModal:H}))},_=({pub:D,reportComment:N,reporting:I,closeModal:A})=>{const[M,R]=(0,c.eJ)("");return(0,n.h)(n.Fragment,null,(0,n.h)("h4",null,"Report ",D?`to ${D.name} admins`:"note"),(0,n.h)("p",null,"Thanks for reporting this ",D?"comment":"note","."," ",D?(0,n.h)(n.Fragment,null,"Only the admins of ",(0,n.h)("span",{className:"weight"},D.name)," will see your name and the content of this report."):"Please help us understand the issue."),(0,n.h)(P.Z,{placeholder:"Describe why you\u2019re reporting this comment...",maxLines:8,value:M,onInput:F=>R(F.target.value)}),(0,n.h)("div",{className:"buttons"},(0,n.h)(E.Z,{className:"secondary",onClick:A},(0,n.h)("span",null,"Cancel")),(0,n.h)(E.Z,{className:"primary",onClick:()=>N(M),disabled:M===""||I},(0,n.h)("span",null,I?"Loading...":"Submit"))))},w=({pub:D,closeModal:N})=>(0,n.h)(n.Fragment,null,(0,n.h)(d.Z,{stroke:(D==null?void 0:D.theme_var_background_pop)||S.substack_color}),(0,n.h)("h4",null,"Thanks for your report"),D?(0,n.h)("p",null,"The admins of ",(0,n.h)("span",{className:"weight"},D.name)," will review this comment."):(0,n.h)("p",null,"We will review this note."),(0,n.h)("div",{className:"buttons"},(0,n.h)(E.Z,{className:"primary",onClick:N},(0,n.h)("span",null,"Done")))),x=s},37888:(j,l,e)=>{"use strict";e.d(l,{j0:()=>Y});var n=e(7436),c=e.n(n),u=e(62195),v=e.n(u),O=e(39627),y=e.n(O),E=e(8728),d=e.n(E),g=Object.defineProperty,P=Object.defineProperties,S=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,i=(te,ie,se)=>ie in te?g(te,ie,{enumerable:!0,configurable:!0,writable:!0,value:se}):te[ie]=se,s=(te,ie)=>{for(var se in ie||(ie={}))C.call(ie,se)&&i(te,se,ie[se]);if(T)for(var se of T(ie))p.call(ie,se)&&i(te,se,ie[se]);return te},_=(te,ie)=>P(te,S(ie));const w=v().createStore([y(),d()],[]),x=".buffer",D="ss-version-backups-local",N=32,I=4,A=null,M=te=>{var ie,se,W,z;return(se=(ie=window._preloads)==null?void 0:ie.pub)!=null&&se.id?(z=(W=window._preloads)==null?void 0:W.user)!=null&&z.id?F().filter(Q=>!(Q.publication_id!==window._preloads.pub.id||Q.user_id&&Q.user_id!==window._preloads.user.id||Q.post_id!==te||Q.local_version_saved_at&&Date.now()-new Date(Q.local_version_saved_at)>A)):[]:[]},R=te=>{if(!(te!=null&&te.post_id)||!(te!=null&&te.draft_updated_at)||!(te!=null&&te.draft_body))return;const ie=F();if(ie.filter(z=>z.post_id===te.post_id).length>=I){const z=findLastIndex(ie,Q=>Q.post_id===te.post_id);z>=0&&ie.splice(z,1)}const W=[te].concat(ie.filter(z=>z.post_id!==te.post_id||z.draft_updated_at!==te.draft_updated_at&&z.draft_body&&z.draft_body!==te.draft_body)).slice(0,N);J(D,W)},F=()=>w.get(D,[]).filter(Boolean),Z=()=>w.get(D+x,{}),V=te=>{var ie,se;(ie=window._preloads.pub)!=null&&ie.id&&(se=window._preloads.user)!=null&&se.id&&te!=null&&te.post_id&&te!=null&&te.draft_updated_at&&te!=null&&te.draft_body&&J(D+x,_(s({},te),{publication_id:window._preloads.pub.id,user_id:window._preloads.user.id,local_version_saved_at:new Date}))},G=()=>{w.remove(D+x)},$=te=>{if(!(te!=null&&te.post_id)||!(te!=null&&te.draft_updated_at))return;const se=F().filter(W=>W.post_id!==te.post_id||W.draft_updated_at!==te.draft_updated_at);J(D,se)},K=({postId:te,editorId:ie})=>!!F().find(W=>W.post_id===te&&W.editor_id&&W.editor_id!==ie),H=({postId:te,editorId:ie})=>{const W=F().filter(z=>z.editor_id?z.post_id!==te||z.editor_id!==ie:!1);J(D,W)},re=()=>{const te=Z();te!=null&&te.draft_body&&(R(te),G())},ee=()=>{G(),w.remove(D)},Y=te=>{(!te||F().find(ie=>ie.user_id&&ie.user_id!==te))&&ee()},J=(te,ie)=>{try{if(w.set(te,ie),JSON.stringify(w.get(te))!==JSON.stringify(ie))throw new Error("localStorage.setItem claimed to work but then getItem didnt return the expected value for key=",te)}catch(se){console.error("localStorage.setItem failed:",se),ee()}}},94930:(j,l)=>{"use strict";l.isCouponValid=(e,{is_group:n,is_gift:c,paywallFreeTrialEnabled:u})=>!(!e||!e.valid||e.max_redemptions&&e.max_redemptions<=e.times_redeemed||e.group_only&&!n||e.redeem_by&&new Date(e.redeem_by)<new Date||e.type==="FREE_TRIAL"&&(!u||c||n)),l.isCouponValidForPlan=(e,n)=>!e||!n||n.metadata.unlimited_group?!1:n.metadata.no_coupons?!!(e.founding_only&&n.metadata.founding):!(n.interval==="forever"||e.yearly_only&&n.interval!=="year"||e.monthly_only&&n.interval!=="month"||e.duration==="repeating"&&(n.interval==="month"&&e.duration_in_months%n.interval_count!==0||n.interval==="year"&&e.duration_in_months%(n.interval_count*12)!==0)||e.amount_off&&e.currency&&e.currency!==n.currency),l.isEmailValidEdu=(e,n)=>{const c=n.filter(O=>O.is_suffix);return n.filter(O=>!O.is_suffix).find(O=>e.split("@").pop().startsWith(O.pattern))||c.find(O=>e.endsWith(O.pattern))},l.isCouponValidForEmail=(e,n,c)=>!(e.edu_only&&!l.isEmailValidEdu(n,c)||e.allowed_suffixes&&!e.allowed_suffixes.split(/, */).find(v=>n.toLowerCase().endsWith(v.toLowerCase()))),l.getDiscountedAmount=(e,n)=>{let c=e.amount;return n&&l.isCouponValidForPlan(n,e)&&(n.percent_off?c=Math.round(c*(1-(n.percent_off_precise||n.percent_off)/100)):n.amount_off&&(c=Math.max(0,c-n.amount_off))),c}},85928:(j,l,e)=>{"use strict";var n=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,E=(T,C,p)=>C in T?n(T,C,{enumerable:!0,configurable:!0,writable:!0,value:p}):T[C]=p,d=(T,C)=>{for(var p in C||(C={}))O.call(C,p)&&E(T,p,C[p]);if(v)for(var p of v(C))y.call(C,p)&&E(T,p,C[p]);return T},g=(T,C)=>c(T,u(C));const P=e(27484);j.exports=P,P.extend(e(28734)).extend(e(10285)).extend(e(92997)).extend(e(1646)).extend(e(66607)).extend(e(10423)).extend(e(79212)).extend(e(37412)).extend(e(96671)).extend(e(84110)).extend(e(70178)).extend(e(55183)).extend(e(29387)).extend(e(94712)).extend(e(6833)).extend(e(90850)).extend(e(10423)).extend(S);function S(T,C,p){C.prototype.standardDateOrTime=function({long:Z=!1}={}){if(this.add(1,"day").isBeforeNow())return this.standardDate();{const V=this.locale(),{iString:G}=I18N.i(V),{secondsToLargestUnit:$}=e(83322),K=p().diff(this,"seconds");return K<60?G("just now"):$(K,{long:Z,language:V,appendAgo:!0})}},C.prototype.startOfLastWeekday=function(){return(this.day()>1?this.subtract(1,"day"):this.subtract(this.day()+2,"day")).utc().startOf("day")},C.prototype.readerDateTime=function(){const Z=this.locale(),{iString:V}=I18N.i(Z),G=this.diff(p(),"day");let $;return G===0?$=this.format("h:mm a"):G===-1?$=V("Yesterday"):G>-7?$=this.standardDate():$=this.standardDate(),$},C.prototype.standardDate=function({full:Z=!1}={}){return!Z&&this.isSame(p(),"year")?this.format("MMM D"):this.format("MMM D, YYYY")},C.prototype.standardTime=function(){return this.format("MM-DD-YYYY")===p().format("MM-DD-YYYY")?this.format("h:mm a"):this.standardDate()},C.prototype.standardTimeWithSeconds=function(){return this.format("MM-DD-YYYY")===p().format("MM-DD-YYYY")?this.format("h:mm:ss a"):this.standardDate()},C.prototype.standardDatetime=function(){return this.format("MMM D [at] h:mm a")},C.prototype.standardDatetimeWithYear=function(){const Z=p().year();return this.year()!=Z?this.format("MMM D, YYYY [at] h:mm a"):this.format("MMM D [at] h:mm a")},C.prototype.min=function(...Z){let V=this;for(let G of Z)G=p(G),V.isAfter(G)&&(V=G);return V},C.prototype.max=function(...Z){let V=this;for(let G of Z)G=p(G),V.isBefore(G)&&(V=G);return V},C.prototype.minNow=function(){return this.min(p())},C.prototype.maxNow=function(){return this.max(p())},C.prototype.isBeforeNow=function(Z){return this.isBefore(p(),Z)},C.prototype.isAfterNow=function(Z){return this.isAfter(p(),Z)},C.prototype.isSameNow=function(Z){return this.isSame(p(),Z)};const i=p.en,s=g(d({},i),{relativeTime:{future:"in %s",past:"%s",s:"just now",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%dmo",y:"1y",yy:"%dy"}}),_=e(80790),w=g(d({},_),{relativeTime:{future:"an %s",past:"vor %s",s:"ein paar Sekunden",m:"einer Minute",mm:"%d Minuten",h:"einer Stunde",hh:"%d Stunden",d:"einem Tag",dd:"%d Tagen",M:"einem Monat",MM:"%d Monaten",y:"einem Jahr",yy:"%d Jahren"}}),x=g(d({},_),{relativeTime:{future:"an %s",past:"%s",s:"soeben",m:"1M",mm:"%dMin",h:"1S",hh:"%dS",d:"1T",dd:"%dT",M:"1Mon",MM:"%dMon",y:"1J",yy:"%dJ"}}),D=e(67763),N=g(d({},D),{relativeTime:{future:"en %s",past:"hace %s",s:"en este momento",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"}}),I=g(d({},D),{relativeTime:{future:"en %s",past:"%s",s:"en este momento",m:"1M",mm:"%dMin",h:"1H",hh:"%dH",d:"1D",dd:"%dD",M:"1Mes",MM:"%dMes",y:"1A",yy:"%dA"}}),A=e(96023),M=g(d({},A),{relativeTime:{future:"dans %s",past:"il y a %s",s:"tout \xE0 l'heure",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"une ann\xE9e",yy:"%d ann\xE9es"}}),R=g(d({},A),{relativeTime:{future:"dans %s",past:"%s",s:"tout \xE0 l'heure",m:"1M",mm:"%dMin",h:"1H",hh:"%dH",d:"1J",dd:"%dJ",M:"1Mois",MM:"%dMois",y:"1A",yy:"%dA"}}),F=p.locale();p.locale("enshort",s),p.locale("de",w),p.locale("deshort",x),p.locale("de-machine",w),p.locale("demachineshort",x),p.locale("es",N),p.locale("esshort",I),p.locale("fr",M),p.locale("frshort",R),p.locale(F),C.prototype.fromNowShort=function(){switch(this.locale()){case"de":return this.locale("deshort").fromNow();case"de-machine":return this.locale("demachineshort").fromNow();case"es":return this.locale("esshort").fromNow();case"fr":return this.locale("frshort").fromNow();default:return i?this.locale("enshort").fromNow():this.fromNow()}}}},42395:j=>{"use strict";j.exports=l=>(l||"").replace(/&#(\d+);/g,(e,n)=>String.fromCharCode(n))},6378:(j,l,e)=>{"use strict";const{isTheBulwark:n}=e(3313),{foundingPlanMinimum:c}=e(68842),{planFromPubIsClassicFounding:u}=e(11322);l.isSectionedPub=d=>{var g;return!!(d!=null&&d.sections)&&((g=d.sections)==null?void 0:g.length)>0},l.hasMultiplePodcasts=d=>v(d)>1;const v=d=>{let g=[];return l.isSectionedPub(d)&&(g=l.getSectionPodcasts(d)),(d.podcast_enabled?1:0)+g.length};l.hasPodcast=d=>v(d)>0,l.hasOnePodcast=d=>v(d)===1,l.getSectionPodcasts=d=>l.isSectionedPub(d)?d.sections.filter(g=>g.is_podcast):[];const O=d=>d&&!d.includes("substack");l.pubCouldHavePublicPodcastUrl=d=>O(d.podcast_feed_url),l.sectionCouldHavePublicPodcastUrl=d=>{var g;return O((g=d.podcastSettings)==null?void 0:g.podcast_feed_url)},l.userCouldSeePublicPodcastUrls=d=>{if(l.pubCouldHavePublicPodcastUrl(d))return!0;if(l.hasMultiplePodcasts(d)&&l.isSectionedPub(d)){const g=l.getSectionPodcasts(d);for(const P of g)if(l.sectionCouldHavePublicPodcastUrl(P))return!0}return!1},l.userCouldSubscribeToPodcast=(d,g)=>!g||!l.hasPodcast(g)||g.hide_podcast_feed_link?!1:g.has_free_podcast?!0:g.has_subscriber_only_podcast?l.userIsPaidSubscriber(d):!1,l.userIsFreeOnly=d=>d?!!(d.is_free_subscribed&&!d.is_subscribed):!1,l.userIsPaidSubscriber=d=>d?!!d.is_subscribed:!1,l.paymentsAreEnabled=d=>d?d.payments_state==="enabled":!1;const y=(d,{usePreview:g=!1,useDraft:P=!1}={})=>{switch(d==null?void 0:d.type){case"newsletter":return P?d.draftVoiceoverUpload:d.voiceoverUpload;case"podcast":return g?P?d.draftPodcastPreviewUpload:d.podcastPreviewUpload:P?d.draftPodcastUpload:d.podcastUpload;case"video":return P?d.draftVideoUpload:d.videoUpload;default:return null}};l.getMediaDuration=(d,{usePreview:g=!1,useDraft:P=!1}={})=>{var S;const T=y(d,{usePreview:g,useDraft:P});if(T)return(S=T.duration)!=null?S:null;if((d==null?void 0:d.type)==="podcast"&&!g){const C=P?d.draft_podcast_duration:d.podcast_duration;return C!=null?C:null}return null},l.getMediaFileSize=(d,{usePreview:g=!1,useDraft:P=!1}={})=>{var S,T;const C=y(d,{usePreview:g,useDraft:P});return C?(S=C.primary_file_size)!=null?S:null:(d==null?void 0:d.type)==="podcast"&&!g&&!P&&(T=d.legacy_podcast_file_size)!=null?T:null},l.podcastPostIsFreePreview=d=>!d||d.type!=="podcast"||!d.podcastUpload?!1:!!d.podcastUpload.is_free_preview,l.hasPodcastPreview=d=>!!d&&!!d.podcast_preview_upload_id,l.getLogo=d=>{var g;return d.logo_url||d.cover_photo_url||d.author_photo_url||((g=d.author)==null?void 0:g.photo_url)},l.getFoundingTierPlan=d=>{var g;return Array.isArray(d==null?void 0:d.plans)&&(g=d.plans.find(P=>u({plan:P})))!=null?g:null},l.getFoundingTierMinimum=({pub:d,currency:g})=>{const P=l.getFoundingTierPlan(d);return P?c(P,g):null},l.getFoundingTierName=d=>{var g,P;if(n({pub:d}))return"Founders";const S=l.getFoundingTierPlan(d);return(P=(g=S==null?void 0:S.metadata)==null?void 0:g.short_description)!=null?P:null},l.mediaUploadHasProblem=d=>!d||!d.state?!1:d.state==="error"||d.state==="cancelled",l.getPaidOrFoundingTierNameForPost=(d,g)=>(g==null?void 0:g.audience)==="founding"&&l.getFoundingTierName(d)||"paid",l.hasVoiceover=d=>!!d&&!!d.voiceover_upload_id,l.canSyndicateVoiceoverDraft=(d,g)=>!d||!g||!l.hasPodcast(d)?!1:!!g.draft_voiceover_upload_id;const E=/\/images\/[-0-9a-fA-F]+_(\d+)x(\d+)(\.png)?$/i;l.getAspectRatioFromBucketeerUrl=d=>{const g=d.match(E);return g?parseInt(g[1])/parseInt(g[2]):null},l.isBulwarkPub=d=>d.subdomain==="thebulwark"},72985:(j,l,e)=>{"use strict";const n=e(71171);l.sluggify=(c,{softMax:u=32,hardMax:v=48,extension:O=!1,extensionSeparator:y="-"}={})=>{let E=l.cleanSlug(c);if(E.length>u){const g=E.indexOf("-",u);g!==-1&&(E=E.substr(0,g))}E.length>v&&(E=E.substr(0,v));const d=O&&typeof O=="string"?O:n().substr(0,3);return E?O&&(E+=`${y}${d}`):E=d,E},l.cleanSlug=(c,{hashIfEmpty:u=!1,allowUnicode:v=!1}={})=>{const O=(c||"").toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(v?/[^\p{L}-]+/gu:/[^\w-]+/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"");return c&&typeof c=="string"&&!O&&u?Array.from(c).map(y=>y.codePointAt(0)).map(y=>y.toString(16)).join("").substring(0,12):O}},15045:(j,l,e)=>{"use strict";var n=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,E=(ce,_e,Oe)=>_e in ce?n(ce,_e,{enumerable:!0,configurable:!0,writable:!0,value:Oe}):ce[_e]=Oe,d=(ce,_e)=>{for(var Oe in _e||(_e={}))O.call(_e,Oe)&&E(ce,Oe,_e[Oe]);if(v)for(var Oe of v(_e))y.call(_e,Oe)&&E(ce,Oe,_e[Oe]);return ce},g=(ce,_e)=>c(ce,u(_e)),P=(ce,_e)=>{var Oe={};for(var Le in ce)O.call(ce,Le)&&_e.indexOf(Le)<0&&(Oe[Le]=ce[Le]);if(ce!=null&&v)for(var Le of v(ce))_e.indexOf(Le)<0&&y.call(ce,Le)&&(Oe[Le]=ce[Le]);return Oe};const{cleanSlug:S}=e(72985),{substack_color:T}=e(89018),{CDN_URL:C,substackDomain:p,getSubscribeUrl:i,serializeQuery:s,pathWithQuery:_,getBaseUrl:w,getSubstackUrl:x,getHostname:D,_getUrl:N,getBaseAppLinkUrl:I,getLikelyLoggedInParam:A,getPubAccountSettingsUrl:M,getPostDashboardUrl:R,getDashboardHomeUrl:F,getSubscriberDashboardUrl:Z,getProfileUrlById:V,getReaderProfileUrl:G,imginary:$,unimginary:K,extractDimensionsFromImageUrl:H,getPodcastRssUrlFromIds:re,parseUrl:ee,getPublishBaseUrl:Y,getPublishSettingsUrl:J,getDonateSubscriptionUrl:te,stripeBaseUrl:ie,getPostUrl:se,getPostUrlBySlug:W,getEditPostUrlById:z,getGroupManagementUrl:Q,getConnectTwitterUrl:oe,getPubConnectTwitterUrl:ne,getCancelOrUncancelUrl:ae,getSubstackUrlWithDomain:le,getManageGroupSubscriptionUrl:ue,getPostDetailsShareCenterUrl:fe}=e(20501),{getPostCommentsUrl:he}=e(36250),{getUserPhotoUrl:be,getDefaultUserPhotoById:ve,DEFAULT_PHOTO_URL:Te}=e(96702),{getProfileSetupUrl:we}=e(2731),{ARRMilestones:Se,SubscriberMilestones:We}=e(57397),{getFeedUrl:Ae}=e(70444),Be=[/\/embed\/podcast\//];l.TWITTER_CARD_WIDTH=504,l.TWITTER_CARD_HEIGHT=264,l.TWITTER_CARD_LOGO_SIZE=70,l.USER_BAN_APPEAL_URL="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=14793522353556&tf_14811460381460=i_m_a_subscriber/reader_only_&tf_14818406375316=i_am_unable_to_comment_or_publish_to_notes_",l.IMPORT_FILE_TOO_LARGE_URL="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=18072253847444&tf_18071211318676=my_import_file_is_too_large_",l.getBaseUrl=w,l.getSubstackUrl=x,l.getSubstackUrlWithDomain=le,l.getBaseAppLinkUrl=I,l.getHostname=D,l.serializeQuery=s,l.pathWithQuery=_,l.getLikelyLoggedInParam=A,l.getPubAccountSettingsUrl=M,l.getPostDashboardUrl=R,l.getSubscriberDashboardUrl=Z,l.getProfileUrlById=V,l.getReaderProfileUrl=G,l.imginary=$,l.unimginary=K,l.extractDimensionsFromImageUrl=H,l.parseUrl=ee,l.getPublishBaseUrl=Y,l.getPublishSettingsUrl=J,l.getDonateSubscriptionUrl=te,l.stripeBaseUrl=ie,l.getPostUrl=se,l.getPostUrlBySlug=W,l.getEditPostUrlById=z,l.getGroupManagementUrl=Q,l.getDashboardHomeUrl=F,l.getConnectTwitterUrl=oe,l.getPubConnectTwitterUrl=ne,l.getCancelOrUncancelUrl=ae,l.getPostCommentsUrl=he,l.getPodcastRssUrlFromIds=re,l.getManageGroupSubscriptionUrl=ue,l.getUserPhotoUrl=be,l.getDefaultUserPhotoById=ve,l.DEFAULT_PHOTO_URL=Te,l.getProfileSetupUrl=we,l.getPostDetailsShareCenterUrl=fe,l.getFeedUrl=Ae,l.updateQuery=function(ce,_e,{skipHash:Oe=!1}={}){typeof ce=="object"&&(_e=ce,ce=document.location.pathname+document.location.search+document.location.hash);let Le=l.pathWithQuery(ce.split("?")[0].split("#")[0],Object.assign(l.parseQuery(ce),_e));return ce.indexOf("#")!==-1&&!Oe&&(Le+=ce.substr(ce.indexOf("#"))),Le},l.parseQuery=function(ce){const _e={},Oe=((ce==null?void 0:ce.split("?")[1])||"").split("#")[0].trim();if(Oe){const Le=Oe.split("&");for(let ze=0;ze<Le.length;ze++){const Je=Le[ze].split("=");_e[decodeURIComponent(Je[0])]=decodeURIComponent(Je.slice(1).join("="))}}return _e},l.getQueryItem=(ce,_e)=>{if(typeof _e!="string"){if(typeof window=="undefined"||!(window!=null&&window.location))return null;_e=ce,ce=window.location.href}const Oe=l.parseQuery(ce);if(_e in Oe)return Oe[_e]},l.getPubUrl=(ce,{params:_e={},signedIn:Oe=!1}={})=>{const Le=A(Oe,ce);return l.pathWithQuery(`${l.getBaseUrl(ce)}/`,d({lli:Le},_e))},l.getCallbackUrl=ce=>`${l.getBaseUrl({subdomain:"callback"})}${ce}`,l.getTld=ce=>{try{return new URL(ce).hostname.split(".").slice(-2).join(".")}catch(_e){return null}},l.cdnSvg=ce=>!ce||!ce.startsWith("/")||ce.startsWith("//")||!/\.svg(\?|#|$)/.test(ce)?ce:`${C}/${ce}`,l.stripProtocol=ce=>(ce||"").replace(/^(\w+:)?\/\//g,""),l.getUndergroundUrl=ce=>{const Oe=N(`admin.${p}`);return ce?`${Oe}/publications/${ce}`:Oe},l.getStockLandingUrl=ce=>`${N(`${p}`)}/discover/stocks/${ce}`,l.getUserUndergroundUrl=ce=>{const Oe=N(`admin.${p}`);return ce?`${Oe}/users/${ce}`:Oe},l.getBaseReaderUrl=({utm_source:ce}={})=>{const _e=p,Oe="reader";return l.pathWithQuery(N(`${Oe}.${_e}`),{utm_source:ce})},l.getReaderSignupUrl=ce=>l.pathWithQuery(`${N(p)}/browse`,g(d({},ce),{action:"signup"})),l.getReaderUrl=(ce,{query:_e}={})=>{const Oe=p;return l.pathWithQuery(`${N(Oe)}${ce}`,_e)},l.getNotificationsUrl=ce=>l.getReaderUrl("/activity",{query:ce}),l.getLibraryUrl=ce=>l.getReaderUrl("/library",{query:ce}),l.getSavedPostsUrl=ce=>l.getReaderUrl("/saved",ce),l.getDeprecatedPostAppLinkUrl=(ce,_e,{params:Oe={},redirect:Le=null,source:ze=null,postUuid:Je=null}={})=>{const Pt=Je?`${l.getSubstackUrl()}/app-link/publications/${ce}/drafts/${Je}`:`${l.getSubstackUrl()}/app-link/post`,Ve=d({publication_id:ce,post_id:_e,utm_source:ze,redirect:Le},Oe);return l.pathWithQuery(Pt,Ve)},l.getPostAppLinkUrl=(ce,_e,{params:Oe={},redirect:Le=null,source:ze=null,postUuid:Je=null,inbox:Pt=null,hostOverride:Ve=null}={})=>{if(!ce||!_e)return"";const pt=Ve?Je?`${Ve}/p/${Je}`:`${Ve}/p/${_e}`:Je?`${l.getBaseAppLinkUrl()}/pub/${ce}/drafts/${Je}`:`${l.getBaseAppLinkUrl()}/pub/${ce}/p/${_e}`,$e=d({utm_source:ze,redirect:Le,inbox:Pt},Oe);return l.pathWithQuery(pt,$e)},l.getPostCommentInContextUrl=function(ce,_e,Oe,Le=3){if(!Oe.ancestor_path)return l.getPostCommentsUrl(ce,_e,Oe);const ze=Oe==null?void 0:Oe.ancestor_path.split("."),Je=ze.length<Le?0:ze.length-Le;return l.getPostUrl(ce,_e,{comments:!0,commentId:Oe.id,commentContextId:ze[Je]})},l.getPodcastLandingUrl=({pub:ce,section:_e,addBase:Oe=!0})=>{_e=_e||ce.section;const Le=Oe?l.getBaseUrl(ce):"";return _e?`${Le}/listen/${_e.slug||_e.id}`:`${Le}/podcast`},l.getEditSectionUrl=(ce,{addBase:_e,type:Oe,id:Le}={})=>`${_e?l.getBaseUrl(ce):""}/publish/settings/${Oe}/${Le}`,l.getArchiveUrl=(ce,{params:_e}={})=>{const Oe=ce.section?`/s/${ce.section.slug||ce.section.id}`:"";return l.pathWithQuery(`${Oe}/archive`,_e)},l.getBaseArchiveUrl=(ce,{addBase:_e,params:Oe}={})=>{const Le=_e?l.getBaseUrl(ce):"";return l.pathWithQuery(`${Le}/archive`,Oe)},l.getAboutUrl=(ce,{addBase:_e,params:Oe}={})=>{const Le=_e?l.getBaseUrl(ce):"";return l.pathWithQuery(`${Le}/about`,Oe)},l.getSitemapUrl=(ce,{addBase:_e,params:Oe}={})=>{const Le=_e?l.getBaseUrl(ce):"";return l.pathWithQuery(`${Le}/sitemap`,Oe)},l.getDashboardUrlForSubdomain=(ce,{params:_e}={})=>{const Oe=`${l.getBaseUrl({subdomain:ce})}/publish/home`;return l.pathWithQuery(Oe,_e)},l.getFindTwitterPubsUrl=ce=>l.pathWithQuery(`${l.getSubstackUrl()}/twitter/find-pubs`,ce),l.getPodcastingUrl=(ce,{addBase:_e,params:Oe,slug:Le,isSection:ze}={})=>{let Pt=`${_e?l.getBaseUrl(ce):""}/publish/podcasting`;return Le&&(ze?Pt=`${Pt}/s/${Le}`:Pt=`${Pt}/${Le}`),Oe?l.pathWithQuery(Pt,Oe):Pt},l.getCreatePostUrl=(ce,_e={})=>{var Oe=_e,{baseUrl:Le=null}=Oe,ze=P(Oe,["baseUrl"]);return l.pathWithQuery(`${Le!=null?Le:l.getBaseUrl(ce)}/publish/post`,ze)},l.getCreateMarketingPostUrl=(ce,_e)=>l.pathWithQuery(`${l.getBaseUrl(ce)}/publish/post/marketing`,_e),l.getSubscriberStatsUrl=(ce,{addBase:_e,params:Oe}={})=>{const Le=_e?l.getBaseUrl(ce):"";return l.pathWithQuery(`${Le}/publish/subscribers`,Oe)},l.getAddSubscriberUrl=ce=>"/publish/subscribers/add",l.getVerifyImportDoubleOptinUrl=(ce,_e)=>`${l.getBaseUrl(ce)}/publish/subscribers/add?conditional_import_id=${_e}`,l.getIgnoreImportDoubleOptinUrl=(ce,_e)=>`${l.getBaseUrl(ce)}/publish/subscribers/add?conditional_import_id=${_e}`,l.getDomainConfigUrl=(ce,{payment:_e}={})=>`/publish/domain${_e?"/pay":""}`,l.getDomainMigrateUrl=ce=>"/publish/domain/migrate",l.getDomainStatusUrl=()=>"/publish/domain/status",l.getSubscriberDetailsUrl=(ce,_e,{addBase:Oe,tab:Le}={})=>{const ze=Oe?l.getBaseUrl(ce):"";return l.pathWithQuery(`${ze}/publish/subscribers/legacy`,{email:_e,tab:Le})},l.getGroupDetailsUrl=ce=>`/publish/groups/${ce}`,l.getManageGroupsUrl=()=>"/publish/groups",l.getCheckoutUrl=function(ce,_e={}){const Oe=l.pathWithQuery(`${l.getBaseUrl(ce)}/subscribe`,_e);return Oe.indexOf("?")===-1?`${Oe}?`:Oe},l.getFoundingCheckoutUrl=function(ce){return`${l.getBaseUrl(ce)}/subscribe?plan=founding&`},l.getLoginUrl=(ce={})=>l.pathWithQuery("/account/login",ce),l.getMfaUrl=(ce={})=>l.pathWithQuery(`${l.getSubstackUrl()}/sign-in/mfa`,ce),l.getGlobalAccountRedirectForPub=(ce,_e,Oe)=>{const Le=ce==null?void 0:ce.subdomain;return l.pathWithQuery(`${l.getSubstackUrl()}${_e}`,{redirect:Oe,for_pub:Le})},l.getWriterReferralUrl=(ce,_e={})=>{if(ce)return l.pathWithQuery(`${l.getSubstackUrl()}/refer/${ce}`,_e)},l.getWriterReferralSettingsUrl=({utm_source:ce,utm_content:_e}={})=>l.pathWithQuery(`${l.getSubstackUrl()}/referral`,{utm_source:ce,utm_content:_e}),l.getGlobalAccountSettingsUrl=({utm_source:ce,section:_e,highlightNotification:Oe}={})=>l.pathWithQuery(`${l.getSubstackUrl()}/settings`,{utm_source:ce,section:_e,highlightNotification:Oe}),l.getGlobalNotificationSettingsUrl=({highlight:ce,utm_source:_e}={})=>l.getGlobalAccountSettingsUrl({section:"notifications",highlightNotification:ce,utm_source:_e}),l.getManageSubscriptionsUrl=({utm_source:ce}={})=>l.pathWithQuery(`${l.getSubstackUrl()}/settings/subscriptions`,{utm_source:ce}),l.getSharePubUrl=ce=>`${l.getBaseUrl(ce)}/?utm_source=substack&utm_medium=email&utm_content=share&action=share`,l.getPodcatcherSetupUrlForAllPodcasts=(ce,_e)=>{var Oe=_e,{startAtSubscribeFlow:Le}=Oe,ze=P(Oe,["startAtSubscribeFlow"]);let Je=`${l.getBaseUrl(ce)}/listen`;if(ze){const Pt=l.serializeQuery(ze);Pt&&(Je+=`?${Pt}`)}return Le?l.getSubscribeUrl(ce,d({addBase:!0,next:Je,skipPodcastSetupPage:!0},ze)):Je},l.getPodcatcherSetupUrl=(ce,{addBase:_e,params:Oe,noSection:Le,section:ze,user:Je,startAtSubscribeFlow:Pt}={})=>{let Ve="";if(_e&&(Ve+=l.getBaseUrl(ce)),ze=ze||(ce==null?void 0:ce.section),ze&&!Le&&(Ve+=`/s/${ze.slug||ze.id}`),Ve+="/account/add-podcast",Je&&Je.email&&(Oe=g(d({},Oe),{email:Je.email}),Ve+="/email"),Oe){const pt=l.serializeQuery(Oe);pt&&(Ve+=`?${pt}`)}return Pt?l.getSubscribeUrl(ce,d({addBase:!0,next:Ve,skipPodcastSetupPage:!0},Oe)):Ve},l.getCdnUrl=(ce,{cdnUrl:_e=C}={})=>ce==null?void 0:ce.replace(/^https:\/\/(bucketeer[^/]*|substack-post-media|substack-post-media-staging|substack-audio|substack-video|substack-video-staging|substack-content|substack-content-dev)\.s3\.amazonaws\.com/,_e);const de="https://";l.getAsChartableUrl=(ce,_e)=>ce?`${de}chrt.fm/track/${encodeURIComponent(ce)}/${l.stripProtocol(_e)}`:_e,l.addSpotifyAnalyticsPrefix=ce=>`${de}prfx.byspotify.com/e/${l.stripProtocol(ce)}`,l.addPodscribePrefix=ce=>`${de}pscrb.fm/rss/p/${l.stripProtocol(ce)}`,l.addGumballPrefix=(ce,_e)=>`${de}s.gum.fm/s-${ce}/${l.stripProtocol(_e)}`,l.getCdnUrlForAudio=(ce,_e,{token:Oe}={})=>(_e=l.getCdnUrl(_e),ce!=null&&ce.id&&(_e=l.updateQuery(_e,{post_id:ce.id})),Oe&&(_e=l.updateQuery(_e,{podcast_rss_token:Oe})),_e),l.getClientReadyPodcastUrl=(ce,_e,{rssToken:Oe})=>{if(_e.podcast_upload_id){let Le=l.updateQuery(`${l.getBaseUrl({subdomain:"api"})}/api/v1/audio/upload/${_e.podcast_upload_id}/src`,{token:Oe});return ce!=null&&ce.chartable_token&&(Le=l.getAsChartableUrl(ce.chartable_token,Le)),Le}if(_e.podcast_url){let Le=l.getCdnUrlForAudio(_e,_e.podcast_url,{token:Oe});return ce!=null&&ce.chartable_token&&(Le=l.getAsChartableUrl(ce.chartable_token,Le)),Le}return null},l.urlIsRegularlyShownInIframe=ce=>{for(let _e=0;_e<Be.length;_e++)if(Be[_e].test(ce))return!0;return!1},l.getCurrentUrlForLoginRedirect=({useOriginalUrl:ce})=>{if(ce&&typeof window!="undefined"&&window._preloads.original_url)try{const _e=new URL(window._preloads.original_url);return`${_e.pathname}${_e.search}${_e.hash}`}catch(_e){}return`${document.location.pathname}${document.location.search}${document.location.hash}`},l.getSigninUrl=(ce={})=>{const{for_pub:_e,email:Oe,with_password:Le,error:ze,message:Je,change_user:Pt,justTrying:Ve,useOriginalUrl:pt}=ce;let{redirect:$e}=ce;return typeof $e!="string"&&($e=l.getCurrentUrlForLoginRedirect({useOriginalUrl:pt})),l.pathWithQuery(`${l.getSubstackUrl()}/sign-in`,{redirect:$e,for_pub:_e,email:Oe,with_password:Le,error:ze,message:Je,change_user:Pt,justTrying:Ve})},l.getTermsUrl=({utm_source:ce}={})=>l.pathWithQuery(`${l.getSubstackUrl()}/tos`,{utm_source:ce}),l.getGoingPaidUrl=()=>`${l.getSubstackUrl()}/going-paid`,l.getInfoCollectionUrl=({utm_source:ce}={})=>`${l.pathWithQuery(`${l.getSubstackUrl()}/ccpa`,{utm_source:ce})}#personal-data-collected`,l.getHomeUrl=({utm_source:ce}={})=>l.pathWithQuery(`${l.getSubstackUrl()}/welcome`,{utm_source:ce}),l.getPrivacyUrl=({pub:ce,utm_source:_e,hash:Oe=null}={})=>{const Le=ce?`${l.getBaseUrl(ce)}`:l.getSubstackUrl(),ze=Oe?`#${Oe}`:"";return`${l.pathWithQuery(`${Le}/privacy`,{utm_source:_e})}${ze}`},l.getLegalUrls=()=>({infoCollection:l.getInfoCollectionUrl(),privacy:l.getPrivacyUrl(),terms:l.getTermsUrl()}),l.getEditProfileUrl=({params:ce}={})=>l.pathWithQuery(`${l.getSubstackUrl()}/profile/edit`,ce),l.getReaderOnboardingUrl=({isAbbreviated:ce,redirect:_e,postRedirectToast:Oe,pubId:Le=null,referringUserKey:ze=null,params:Je={}}={})=>{let Pt=null;if(_e)try{Pt=new URL(_e),Oe&&Pt.searchParams.set("profile-setup-message",Oe)}catch(pt){Pt=new URL(l.getSubstackUrl())}const Ve=d({isAbbreviated:ce,redirect:Pt?Pt.toString():null,pubId:Le},Je);return ze&&(Ve.r=ze),l.pathWithQuery(`${l.getSubstackUrl()}/reader-onboarding`,Ve)},l.getDiscoverCategoryUrl=(ce,_e)=>`${l.getSubstackUrl()}/discover${ce?`/category/${ce.slug}`:""}${_e==="all"?"/all":""}`,l.getDiscoverSearchUrl=({query:ce,params:_e={}}={})=>{let Oe=`${l.getSubstackUrl()}/search`;return ce&&(Oe=`${l.getSubstackUrl()}/search/${encodeURIComponent(ce)}`),l.updateQuery(Oe,_e)},l.getSubscribeUrl=(ce,_e={})=>{var Oe=_e,{signedIn:Le=!1,addBase:ze=!1,root:Je=void 0,user:Pt=void 0}=Oe,Ve=P(Oe,["signedIn","addBase","root","user"]);const pt=A(Le,ce);return i(ce,{root:Je,user:Pt,addBase:ze,params:d({lli:pt},Ve)})},l.getRecommendationsPageUrl=(ce,_e={})=>l.pathWithQuery(`${l.getBaseUrl(ce)}/recommendations`,_e),l.getStartPublishingUrl=(ce={})=>l.updateQuery(`${l.getSubstackUrl()}/signup`,ce),l.getMigrateFromTwitterUrl=(ce={})=>l.updateQuery(`${l.getSubstackUrl()}/twitter-quitter`,ce),l.getImportUrl=(ce={})=>l.updateQuery(`${l.getSubstackUrl()}/signup/import`,ce),l.getPublishStripeAccountImportUrl=(ce,{addBase:_e=!1,baseUrlOptions:Oe={},params:Le=void 0}={})=>l.pathWithQuery(`${Y(ce,{addBase:_e,baseUrlOptions:Oe})}/stripe-import`,Le),l.getPublishStatsUrl=(ce,{addBase:_e,baseUrlOptions:Oe,params:Le}={})=>{const ze=_e?l.getBaseUrl(ce,Oe):"";return l.pathWithQuery(`${ze}/publish/stats`,Le)},l.getPublishSettingsRecommendationsUrl=(ce,{addBase:_e,baseUrlOptions:Oe,params:Le}={})=>{const ze=_e?l.getBaseUrl(ce,Oe):"";return l.pathWithQuery(`${ze}/publish/settings/recommendations`,Le)},l.getPublishStatsRecommendationsUrl=(ce,{addBase:_e,baseUrlOptions:Oe,params:Le}={})=>{const ze=_e?l.getBaseUrl(ce,Oe):"";return l.pathWithQuery(`${ze}/publish/recommendations`,Le)},l.getManageBlurbsUrl=(ce,{addBase:_e,baseUrlOptions:Oe,params:Le}={})=>{const ze=_e?l.getBaseUrl(ce,Oe):"";return l.pathWithQuery(`${ze}/publish/settings/blurbs`,Le)},l.getManageReaderReferralSettingsUrl=ce=>{const _e=l.getBaseUrl(ce);return l.pathWithQuery(`${_e}/publish/settings/`,{search:"referral"})},l.getPublishModerationUrl=(ce,{addBase:_e=!1,baseUrlOptions:Oe={}}={})=>`${Y(ce,{addBase:_e,baseUrlOptions:Oe})}/moderation`,l.getPublicationPodcastUrl=ce=>"/publish/settings/podcast/edit",l.getInviteUrl=ce=>`${l.getBaseUrl(ce)}/invite`,l.getProfileSlug=ce=>{let _e=`${ce.author_id||ce.id}`;const Oe=S(ce.author_id?ce.author_name:ce.name,{hashIfEmpty:!0});return Oe&&(_e+=`-${Oe}`),_e},l.getProfileUrl=(ce,_e,{utm_source:Oe}={})=>l.getReaderProfileUrl(ce,{utm_source:Oe}),l.getPodcastRssUrl=({pub:ce,token:_e=null})=>{var Oe;if(ce.section){const{section:ze}=ce;if((Oe=ze.podcastSettings)!=null&&Oe.podcast_feed_url)return ze.podcastSettings.podcast_feed_url;let Je=`${l.getBaseUrl({subdomain:"api"})}/feed/podcast/${ce.id}/s/`;return _e?Je+=`${ze.id}/private/${_e}.rss`:Je+=`${ze.id}.rss`,Je}else if(ce.podcast_feed_url)return ce.podcast_feed_url;let Le=`${l.getBaseUrl({subdomain:"api"})}/feed/podcast/${ce.id}`;return _e?Le+=`/private/${_e}.rss`:Le+=".rss",Le},l.getSupportEmail=(ce,{noOverride:_e}={})=>{if(ce){if(ce.support_email&&!_e)return ce.support_email}else return"support@substack.com";return`support+${ce.subdomain}@substack.com`},l.getSupportUrl=(ce,_e)=>`https://support.substack.com/hc/en-us?s=${encodeURIComponent(l.getSupportEmail(ce,_e))}`,l.getPostSelectionPreviewUrl=(ce,_e,Oe,Le)=>{const ze=l.getPostSelectionPreviewImageUrl(ce,_e,Oe,Le);return l.imginary(ze,null,{skipDomainValidation:!0,quality:"auto:best",version:9})},l.getPostSelectionPreviewImageUrl=(ce,_e,Oe,Le)=>l.pathWithQuery(`${l.getBaseUrl(ce,{forceSubdomain:!0})}/api/v1/post_selection_preview/${_e.id}/${Oe}.jpg`,d({},Le)),l.getTwitterPreviewUrl=(ce,_e)=>{const Oe=l.getTwitterPreviewImageUrl(ce,_e);return l.imginary(Oe,null,{skipDomainValidation:!0,quality:"auto:best",version:2})},l.getTwitterPreviewImageUrl=(ce,_e)=>l.pathWithQuery(`${l.getBaseUrl(ce,{forceSubdomain:!0})}/api/v1/post_preview/${_e.id}/twitter.jpg`,{isDraft:_e.is_draft||_e.is_scheduled}),l.getPostSelectionMediaUrl=(ce,_e,Oe,Le,ze)=>{const Je=l.getPostSelectionMediaImageUrl(ce,_e,Oe,Le);return l.imginary(Je,null,{skipDomainValidation:!0,quality:"auto:best",version:11,attachment:!!ze,filename:ze})},l.getPostSelectionMediaImageUrl=(ce,_e,Oe,Le)=>l.pathWithQuery(`${l.getBaseUrl(ce,{forceSubdomain:!0})}/api/v1/post_selection_image/${_e.id}/${Oe}.jpg`,d({},Le)),l.getTwitterAccountUrl=ce=>`https://twitter.com/${ce}`,l.getInstagramAccountUrl=ce=>`https://instagram.com/${ce}`,l.getTiktokAccountUrl=ce=>`https://tiktok.com/@${ce}`,l.getYoutubeAccountUrl=ce=>`https://youtube.com/channel/${ce}`,l.getTwitterSubscribeCardUrl=ce=>l.imginary(`${l.getTwitterSubscribeCardSvgUrl(ce)}`,null,{quality:"auto:best",version:9,skipDomainValidation:!0}),l.getTwitterSubscribeCardSvgUrl=ce=>{const{hashString:_e}=e(83322);let Oe=`${l.getBaseUrl(ce,{forceSubdomain:!0})}/twitter/subscribe-card.jpg`;const Le=`${ce.logo_url}:${ce.hero_text}:${ce.name}:${ce.author_name}:${ce.subdomain}`,ze=_e(Le);return ze?Oe+=`?v=${ze}`:Oe+="?v=bust",Oe},l.getPressKitUrl=(ce,_e,Oe,Le)=>{const ze=l.getPressKitImageUrl(ce,_e,Oe);return l.imginary(ze,null,{quality:"auto:best",skipDomainValidation:!0,version:12,attachment:!!Le,filename:Le})},l.getPressKitImageUrl=(ce,_e,Oe)=>{const{hashString:Le}=e(83322),ze=Le(`${_e.social_title+_e.title+_e.description+_e.cover_image}`);return l.pathWithQuery(`${l.getBaseUrl(ce,{forceSubdomain:!0})}/api/v1/press_kit/${_e.id}.jpg`,g(d({},Oe),{isDraft:_e.is_draft,hash:ze}))},l.getMilestoneAssetUrl=(ce,_e,Oe,Le,{useRootDomain:ze=!1}={})=>{const Je=l.getMilestoneAssetImageUrl(ce,_e,Oe,{useRootDomain:ze});return l.imginary(Je,null,{quality:"auto:best",skipDomainValidation:!0,version:10,attachment:!!Le,filename:Le})},l.getAllMilestoneAssetUrl=(ce,_e)=>{let Oe;if(Object.values(Se).includes(_e))Oe="arr";else if(Object.values(We).includes(_e))Oe="subscribers";else throw Error("endpoint for milestone not found",_e);return l.pathWithQuery(`${l.getBaseUrl(ce,{forceSubdomain:!0})}/api/v1/milestone_assets/all/${Oe}`,{milestone:_e})},l.getMilestoneAssetImageUrl=(ce,_e,Oe,{useRootDomain:Le=!1}={})=>{let ze;if(Object.values(Se).includes(_e))ze="arr";else if(Object.values(We).includes(_e))ze="subscribers";else throw Error("endpoint for milestone not found",_e);return l.pathWithQuery(`${Le?l.getBaseUrl():l.getBaseUrl(ce,{forceSubdomain:!0})}/api/v1/milestone_assets/${ze}.jpg`,d(d({milestone:_e},Oe),Le&&{subdomain:ce.subdomain}))},l.getSubscriptionNoteAssetUrl=(ce,_e,Oe,{fileToDownload:Le="",useRootDomain:ze=!1}={})=>{const Je=l.getSubscriptionNoteAssetImageUrl(ce,_e,Oe,{useRootDomain:ze});return l.imginary(Je,null,{quality:"auto:best",skipDomainValidation:!0,version:10,attachment:!!Le,filename:Le})},l.getSubscriptionNoteAssetImageUrl=(ce,_e,Oe,{useRootDomain:Le=!1}={})=>l.pathWithQuery(`${Le?l.getBaseUrl():l.getBaseUrl(ce,{forceSubdomain:!0})}/api/v1/subscription_note_assets/${_e.id}.jpg`,d(d({},Oe),Le&&{subdomain:ce.subdomain})),l.getPledgeNoteAssetUrl=(ce,_e,Oe,{fileToDownload:Le="",useRootDomain:ze=!1}={})=>{const Je=l.getPledgeNoteAssetImageUrl(ce,_e,Oe,{useRootDomain:ze});return l.imginary(Je,null,{quality:"auto:best",skipDomainValidation:!0,version:10,attachment:!!Le,filename:Le})},l.getPledgeNoteAssetImageUrl=(ce,_e,Oe,{useRootDomain:Le=!1}={})=>l.pathWithQuery(`${Le?l.getBaseUrl():l.getBaseUrl(ce,{forceSubdomain:!0})}/api/v1/pledge_note_assets/${_e.id}.jpg`,d(d({},Oe),Le&&{subdomain:ce.subdomain})),l.getPublicationAssetUrl=(ce,_e,Oe,{fileToDownload:Le="",useRootDomain:ze=!1}={})=>{const Je=l.getPublicationAssetImageUrl(ce,_e,Oe,{useRootDomain:ze});return l.imginary(Je,null,{quality:"auto:best",skipDomainValidation:!0,version:11,attachment:!!Le,filename:Le})},l.getPublicationAssetImageUrl=(ce,_e,{useRootDomain:Oe=!1}={})=>l.pathWithQuery(`${Oe?l.getBaseUrl():l.getBaseUrl(ce,{forceSubdomain:!0})}/api/v1/publication_assets/image.jpg`,d(d({},_e),Oe&&{subdomain:ce.subdomain})),l.getPressKitDownloadUrl=(ce,_e,Oe)=>l.pathWithQuery(`${l.getBaseUrl(ce,{forceSubdomain:!0})}/api/v1/press_kit/all/${_e.id}`,{aspectRatio:Oe,isDraft:_e.is_draft}),l.getLatexUrl=ce=>{const _e=l.getLatexImageUrl(ce);return l.imginary(_e,null,{quality:"auto:best",version:9})},l.getLatexImageUrl=ce=>l.pathWithQuery("/api/v1/latex/jpeg",{expression:ce}),l.getBestsellerAssetUrl=ce=>{const _e=`${l.getBaseUrl(null,{forceSubdomain:!0})}/api/v1/profile_assets/${ce.id}-bestseller.jpg`;return l.imginary(_e,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},l.getBestsellerShareCardUrl=ce=>{const _e=`${l.getBaseUrl(null,{forceSubdomain:!0})}/api/v1/profile_assets/${ce.id}-bestseller-share-card.jpg`;return l.imginary(_e,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},l.getThreadDeepLinkUrl=ce=>`substack://publications/${ce.id}/threads`,l.isPublishPath=(ce,_e)=>ce.startsWith("/publish"),l.looksLikePostUrl=ce=>{const _e=l.parseUrl(ce);return _e?_e.pathname.startsWith("/p/"):!1},l.getPostSlug=ce=>l.looksLikePostUrl(ce)?l.parseUrl(ce).pathname.split("/")[2]:null,l.looksLikePostCommentsUrl=ce=>{if(!l.looksLikePostUrl(ce))return!1;const Oe=l.parseUrl(ce).pathname.split("/");return Oe.length===4&&Oe[3]==="comments"},l.getSignoutUrl=({redirect:ce,for_pub:_e,utm_source:Oe}={})=>(ce=ce||"",l.pathWithQuery(`${l.getSubstackUrl()}/sign-out`,{redirect:ce,for_pub:_e,utm_source:Oe})),l.getPodcastOnboardingUrl=(ce,_e)=>{const Oe=new URLSearchParams;return Oe.set("referrer",encodeURIComponent(ce)),_e&&Oe.set("initialSectionId",_e),`/publish/podcast/new?${Oe.toString()}`},l.getUrlExtension=ce=>{try{const Oe=new URL(ce).pathname.match(/\.(\w+)$/);return Oe?Oe[0]:null}catch(_e){return null}},l.EMAIL_CONTENT_WIDTH=550,l.WEB_CONTENT_WIDTH=728,l.WEB_CONTENT_WIDTH_MOBILE=424,l.WEB_RESPONSIVE_IMAGE_WIDTHS=[l.WEB_CONTENT_WIDTH_MOBILE,l.WEB_CONTENT_WIDTH_MOBILE*2,l.WEB_CONTENT_WIDTH_MOBILE*3,l.WEB_CONTENT_WIDTH*2],l.LARGE_IMAGE_WIDTH=1200,l.MAX_REASONABLE_SCREEN_WIDTH=2880,l.MIN_GIF_WIDTH=320,l.MAX_GIF_WIDTH=550,l.getMediaUploadThumbnailUrl=ce=>{var _e;return ce?`https://substack-video.s3.amazonaws.com/video_upload/post/${ce.post_id}/${ce.id}/transcoded-${((_e=ce.thumbnail_id)!=null?_e:1).toString().padStart(5,"0")}.png`:void 0},l.getMediaUploadThumbnailUrlForPlayer=(ce,{pub:_e,isStatic:Oe}={})=>{var Le;const{colorLuma:ze,videoPlayerDimensions:Je}=e(83322),{height:Pt,width:Ve}=Je(ce,{isStatic:Oe}),pt=Ve/Pt<1920/1080?"pad":"fill",$e=((Le=_e==null?void 0:_e.theme)==null?void 0:Le.background_pop_color)||(_e==null?void 0:_e.theme_var_background_pop)||T,Ie=ze($e)>.6?"#1a1a1a":"#ffffff";return l.imginary(l.getMediaUploadThumbnailUrl(ce),Ve*2,{crop:pt,height:Pt*2,trailingSegments:Oe?[`l_video_play_base_tu77jd,w_152,e_colorize:100,co_rgb:${$e.slice(1)}`,`l_video_play_icon_c75z6z,w_152,e_colorize:100,co_rgb:${Ie.slice(1)}`]:[]})},l.getPreviewInAppUrl=(ce,_e,Oe={})=>l.pathWithQuery(`https://substack.com/app-link/publications/${ce.id}/drafts/${_e}`,Oe),l.getLinkRedirectUrl=(ce,{userIdJwt:_e,domain:Oe}={})=>`${Oe?l.getSubstackUrlWithDomain(Oe):l.getSubstackUrl()}/redirect/${ce}?j=${_e||""}`,l.getLoginChallengeDeepUrl=ce=>l.pathWithQuery("substack://sign-in/challenge",{token:ce}),l.DIRECT_APPLE_APP_STORE_URL="https://apps.apple.com/us/app/substack-reader/id1581650857",l.DIRECT_GOOGLE_PLAY_STORE_URL="https://play.google.com/store/apps/details?id=com.substack.app",l.getSubstackMarketingUrl=(ce={})=>l.pathWithQuery(`${l.getSubstackUrl()}/home`),l.getAppMarketingUrl=(ce={})=>l.pathWithQuery(`${l.getSubstackUrl()}/app`,ce),l.getAppWriterFaqUrl=(ce={})=>l.pathWithQuery("https://on.substack.com/p/writerfaq",ce),l.getAppStoreRedirectUrl=ce=>l.pathWithQuery(`${l.getSubstackUrl()}/app/app-store-redirect`,ce),l.getAppStoreUrl=ce=>l.pathWithQuery(`${l.getSubstackUrl()}/app/get-ios`,ce),l.getPlayStoreUrl=ce=>l.pathWithQuery(`${l.getSubstackUrl()}/app/get-android`,ce),l.getDefaultPodcastArtUrl=({pathOnly:ce=!1}={})=>{const _e="/img/podcast/generic.png";return ce?_e:`${l.getSubstackUrl()}${_e}`},l.getDefaultPodcastArtUrlCDN=()=>{const ce=l.getDefaultPodcastArtUrl({pathOnly:!0});return l.imginary(ce,1400)}},17187:j=>{"use strict";var l=typeof Reflect=="object"?Reflect:null,e=l&&typeof l.apply=="function"?l.apply:function(D,N,I){return Function.prototype.apply.call(D,N,I)},n;l&&typeof l.ownKeys=="function"?n=l.ownKeys:Object.getOwnPropertySymbols?n=function(D){return Object.getOwnPropertyNames(D).concat(Object.getOwnPropertySymbols(D))}:n=function(D){return Object.getOwnPropertyNames(D)};function c(x){console&&console.warn&&console.warn(x)}var u=Number.isNaN||function(D){return D!==D};function v(){v.init.call(this)}j.exports=v,j.exports.once=s,v.EventEmitter=v,v.prototype._events=void 0,v.prototype._eventsCount=0,v.prototype._maxListeners=void 0;var O=10;function y(x){if(typeof x!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}Object.defineProperty(v,"defaultMaxListeners",{enumerable:!0,get:function(){return O},set:function(x){if(typeof x!="number"||x<0||u(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");O=x}}),v.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},v.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||u(D))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+D+".");return this._maxListeners=D,this};function E(x){return x._maxListeners===void 0?v.defaultMaxListeners:x._maxListeners}v.prototype.getMaxListeners=function(){return E(this)},v.prototype.emit=function(D){for(var N=[],I=1;I<arguments.length;I++)N.push(arguments[I]);var A=D==="error",M=this._events;if(M!==void 0)A=A&&M.error===void 0;else if(!A)return!1;if(A){var R;if(N.length>0&&(R=N[0]),R instanceof Error)throw R;var F=new Error("Unhandled error."+(R?" ("+R.message+")":""));throw F.context=R,F}var Z=M[D];if(Z===void 0)return!1;if(typeof Z=="function")e(Z,this,N);else for(var V=Z.length,G=C(Z,V),I=0;I<V;++I)e(G[I],this,N);return!0};function d(x,D,N,I){var A,M,R;if(y(N),M=x._events,M===void 0?(M=x._events=Object.create(null),x._eventsCount=0):(M.newListener!==void 0&&(x.emit("newListener",D,N.listener?N.listener:N),M=x._events),R=M[D]),R===void 0)R=M[D]=N,++x._eventsCount;else if(typeof R=="function"?R=M[D]=I?[N,R]:[R,N]:I?R.unshift(N):R.push(N),A=E(x),A>0&&R.length>A&&!R.warned){R.warned=!0;var F=new Error("Possible EventEmitter memory leak detected. "+R.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");F.name="MaxListenersExceededWarning",F.emitter=x,F.type=D,F.count=R.length,c(F)}return x}v.prototype.addListener=function(D,N){return d(this,D,N,!1)},v.prototype.on=v.prototype.addListener,v.prototype.prependListener=function(D,N){return d(this,D,N,!0)};function g(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function P(x,D,N){var I={fired:!1,wrapFn:void 0,target:x,type:D,listener:N},A=g.bind(I);return A.listener=N,I.wrapFn=A,A}v.prototype.once=function(D,N){return y(N),this.on(D,P(this,D,N)),this},v.prototype.prependOnceListener=function(D,N){return y(N),this.prependListener(D,P(this,D,N)),this},v.prototype.removeListener=function(D,N){var I,A,M,R,F;if(y(N),A=this._events,A===void 0)return this;if(I=A[D],I===void 0)return this;if(I===N||I.listener===N)--this._eventsCount===0?this._events=Object.create(null):(delete A[D],A.removeListener&&this.emit("removeListener",D,I.listener||N));else if(typeof I!="function"){for(M=-1,R=I.length-1;R>=0;R--)if(I[R]===N||I[R].listener===N){F=I[R].listener,M=R;break}if(M<0)return this;M===0?I.shift():p(I,M),I.length===1&&(A[D]=I[0]),A.removeListener!==void 0&&this.emit("removeListener",D,F||N)}return this},v.prototype.off=v.prototype.removeListener,v.prototype.removeAllListeners=function(D){var N,I,A;if(I=this._events,I===void 0)return this;if(I.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):I[D]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete I[D]),this;if(arguments.length===0){var M=Object.keys(I),R;for(A=0;A<M.length;++A)R=M[A],R!=="removeListener"&&this.removeAllListeners(R);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(N=I[D],typeof N=="function")this.removeListener(D,N);else if(N!==void 0)for(A=N.length-1;A>=0;A--)this.removeListener(D,N[A]);return this};function S(x,D,N){var I=x._events;if(I===void 0)return[];var A=I[D];return A===void 0?[]:typeof A=="function"?N?[A.listener||A]:[A]:N?i(A):C(A,A.length)}v.prototype.listeners=function(D){return S(this,D,!0)},v.prototype.rawListeners=function(D){return S(this,D,!1)},v.listenerCount=function(x,D){return typeof x.listenerCount=="function"?x.listenerCount(D):T.call(x,D)},v.prototype.listenerCount=T;function T(x){var D=this._events;if(D!==void 0){var N=D[x];if(typeof N=="function")return 1;if(N!==void 0)return N.length}return 0}v.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function C(x,D){for(var N=new Array(D),I=0;I<D;++I)N[I]=x[I];return N}function p(x,D){for(;D+1<x.length;D++)x[D]=x[D+1];x.pop()}function i(x){for(var D=new Array(x.length),N=0;N<D.length;++N)D[N]=x[N].listener||x[N];return D}function s(x,D){return new Promise(function(N,I){function A(R){x.removeListener(D,M),I(R)}function M(){typeof x.removeListener=="function"&&x.removeListener("error",A),N([].slice.call(arguments))}w(x,D,M,{once:!0}),D!=="error"&&_(x,A,{once:!0})})}function _(x,D,N){typeof x.on=="function"&&w(x,"error",D,N)}function w(x,D,N,I){if(typeof x.on=="function")I.once?x.once(D,N):x.on(D,N);else if(typeof x.addEventListener=="function")x.addEventListener(D,function A(M){I.once&&x.removeEventListener(D,A),N(M)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof x)}},4445:j=>{j.exports=v,v.default=v,v.stable=d,v.stableStringify=d;var l="[...]",e="[Circular]",n=[],c=[];function u(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function v(S,T,C,p){typeof p=="undefined"&&(p=u()),y(S,"",0,[],void 0,0,p);var i;try{c.length===0?i=JSON.stringify(S,T,C):i=JSON.stringify(S,P(T),C)}catch(_){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var s=n.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function O(S,T,C,p){var i=Object.getOwnPropertyDescriptor(p,C);i.get!==void 0?i.configurable?(Object.defineProperty(p,C,{value:S}),n.push([p,C,T,i])):c.push([T,C,S]):(p[C]=S,n.push([p,C,T]))}function y(S,T,C,p,i,s,_){s+=1;var w;if(typeof S=="object"&&S!==null){for(w=0;w<p.length;w++)if(p[w]===S){O(e,S,T,i);return}if(typeof _.depthLimit!="undefined"&&s>_.depthLimit){O(l,S,T,i);return}if(typeof _.edgesLimit!="undefined"&&C+1>_.edgesLimit){O(l,S,T,i);return}if(p.push(S),Array.isArray(S))for(w=0;w<S.length;w++)y(S[w],w,w,p,S,s,_);else{var x=Object.keys(S);for(w=0;w<x.length;w++){var D=x[w];y(S[D],D,w,p,S,s,_)}}p.pop()}}function E(S,T){return S<T?-1:S>T?1:0}function d(S,T,C,p){typeof p=="undefined"&&(p=u());var i=g(S,"",0,[],void 0,0,p)||S,s;try{c.length===0?s=JSON.stringify(i,T,C):s=JSON.stringify(i,P(T),C)}catch(w){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var _=n.pop();_.length===4?Object.defineProperty(_[0],_[1],_[3]):_[0][_[1]]=_[2]}}return s}function g(S,T,C,p,i,s,_){s+=1;var w;if(typeof S=="object"&&S!==null){for(w=0;w<p.length;w++)if(p[w]===S){O(e,S,T,i);return}try{if(typeof S.toJSON=="function")return}catch(I){return}if(typeof _.depthLimit!="undefined"&&s>_.depthLimit){O(l,S,T,i);return}if(typeof _.edgesLimit!="undefined"&&C+1>_.edgesLimit){O(l,S,T,i);return}if(p.push(S),Array.isArray(S))for(w=0;w<S.length;w++)g(S[w],w,w,p,S,s,_);else{var x={},D=Object.keys(S).sort(E);for(w=0;w<D.length;w++){var N=D[w];g(S[N],N,w,p,S,s,_),x[N]=S[N]}if(typeof i!="undefined")n.push([i,T,S]),i[T]=x;else return x}p.pop()}}function P(S){return S=typeof S!="undefined"?S:function(T,C){return C},function(T,C){if(c.length>0)for(var p=0;p<c.length;p++){var i=c[p];if(i[1]===T&&i[0]===C){C=i[2],c.splice(p,1);break}}return S.call(this,T,C)}}},17648:j=>{"use strict";var l="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,c="[object Function]",u=function(E,d){for(var g=[],P=0;P<E.length;P+=1)g[P]=E[P];for(var S=0;S<d.length;S+=1)g[S+E.length]=d[S];return g},v=function(E,d){for(var g=[],P=d||0,S=0;P<E.length;P+=1,S+=1)g[S]=E[P];return g},O=function(y,E){for(var d="",g=0;g<y.length;g+=1)d+=y[g],g+1<y.length&&(d+=E);return d};j.exports=function(E){var d=this;if(typeof d!="function"||e.apply(d)!==c)throw new TypeError(l+d);for(var g=v(arguments,1),P,S=function(){if(this instanceof P){var s=d.apply(this,u(g,arguments));return Object(s)===s?s:this}return d.apply(E,u(g,arguments))},T=n(0,d.length-g.length),C=[],p=0;p<T;p++)C[p]="$"+p;if(P=Function("binder","return function ("+O(C,",")+"){ return binder.apply(this,arguments); }")(S),d.prototype){var i=function(){};i.prototype=d.prototype,P.prototype=new i,i.prototype=null}return P}},58612:(j,l,e)=>{"use strict";var n=e(17648);j.exports=Function.prototype.bind||n},40210:(j,l,e)=>{"use strict";var n,c=SyntaxError,u=Function,v=TypeError,O=function(V){try{return u('"use strict"; return ('+V+").constructor;")()}catch(G){}},y=Object.getOwnPropertyDescriptor;if(y)try{y({},"")}catch(V){y=null}var E=function(){throw new v},d=y?function(){try{return arguments.callee,E}catch(V){try{return y(arguments,"callee").get}catch(G){return E}}}():E,g=e(41405)(),P=Object.getPrototypeOf||function(V){return V.__proto__},S={},T=typeof Uint8Array=="undefined"?n:P(Uint8Array),C={"%AggregateError%":typeof AggregateError=="undefined"?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?n:ArrayBuffer,"%ArrayIteratorPrototype%":g?P([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":S,"%AsyncGenerator%":S,"%AsyncGeneratorFunction%":S,"%AsyncIteratorPrototype%":S,"%Atomics%":typeof Atomics=="undefined"?n:Atomics,"%BigInt%":typeof BigInt=="undefined"?n:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?n:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?n:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?n:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?n:FinalizationRegistry,"%Function%":u,"%GeneratorFunction%":S,"%Int8Array%":typeof Int8Array=="undefined"?n:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?n:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g?P(P([][Symbol.iterator]())):n,"%JSON%":typeof JSON=="object"?JSON:n,"%Map%":typeof Map=="undefined"?n:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!g?n:P(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?n:Promise,"%Proxy%":typeof Proxy=="undefined"?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?n:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?n:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!g?n:P(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g?P(""[Symbol.iterator]()):n,"%Symbol%":g?Symbol:n,"%SyntaxError%":c,"%ThrowTypeError%":d,"%TypedArray%":T,"%TypeError%":v,"%Uint8Array%":typeof Uint8Array=="undefined"?n:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?n:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?n:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?n:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?n:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?n:WeakSet};try{null.error}catch(V){var p=P(P(V));C["%Error.prototype%"]=p}var i=function V(G){var $;if(G==="%AsyncFunction%")$=O("async function () {}");else if(G==="%GeneratorFunction%")$=O("function* () {}");else if(G==="%AsyncGeneratorFunction%")$=O("async function* () {}");else if(G==="%AsyncGenerator%"){var K=V("%AsyncGeneratorFunction%");K&&($=K.prototype)}else if(G==="%AsyncIteratorPrototype%"){var H=V("%AsyncGenerator%");H&&($=P(H.prototype))}return C[G]=$,$},s={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_=e(58612),w=e(17642),x=_.call(Function.call,Array.prototype.concat),D=_.call(Function.apply,Array.prototype.splice),N=_.call(Function.call,String.prototype.replace),I=_.call(Function.call,String.prototype.slice),A=_.call(Function.call,RegExp.prototype.exec),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,F=function(G){var $=I(G,0,1),K=I(G,-1);if($==="%"&&K!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(K==="%"&&$!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var H=[];return N(G,M,function(re,ee,Y,J){H[H.length]=Y?N(J,R,"$1"):ee||re}),H},Z=function(G,$){var K=G,H;if(w(s,K)&&(H=s[K],K="%"+H[0]+"%"),w(C,K)){var re=C[K];if(re===S&&(re=i(K)),typeof re=="undefined"&&!$)throw new v("intrinsic "+G+" exists, but is not available. Please file an issue!");return{alias:H,name:K,value:re}}throw new c("intrinsic "+G+" does not exist!")};j.exports=function(G,$){if(typeof G!="string"||G.length===0)throw new v("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof $!="boolean")throw new v('"allowMissing" argument must be a boolean');if(A(/^%?[^%]*%?$/,G)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var K=F(G),H=K.length>0?K[0]:"",re=Z("%"+H+"%",$),ee=re.name,Y=re.value,J=!1,te=re.alias;te&&(H=te[0],D(K,x([0,1],te)));for(var ie=1,se=!0;ie<K.length;ie+=1){var W=K[ie],z=I(W,0,1),Q=I(W,-1);if((z==='"'||z==="'"||z==="`"||Q==='"'||Q==="'"||Q==="`")&&z!==Q)throw new c("property names with quotes must have matching quotes");if((W==="constructor"||!se)&&(J=!0),H+="."+W,ee="%"+H+"%",w(C,ee))Y=C[ee];else if(Y!=null){if(!(W in Y)){if(!$)throw new v("base intrinsic for "+G+" exists, but the property is not available.");return}if(y&&ie+1>=K.length){var oe=y(Y,W);se=!!oe,se&&"get"in oe&&!("originalValue"in oe.get)?Y=oe.get:Y=Y[W]}else se=w(Y,W),Y=Y[W];se&&!J&&(C[ee]=Y)}}return Y}},41405:(j,l,e)=>{"use strict";var n=typeof Symbol!="undefined"&&Symbol,c=e(55419);j.exports=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:c()}},55419:j=>{"use strict";j.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),c=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(c)!=="[object Symbol]")return!1;var u=42;e[n]=u;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var v=Object.getOwnPropertySymbols(e);if(v.length!==1||v[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var O=Object.getOwnPropertyDescriptor(e,n);if(O.value!==u||O.enumerable!==!0)return!1}return!0}},17642:(j,l,e)=>{"use strict";var n=e(58612);j.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},36808:(j,l,e)=>{var n,c;/*!
* JavaScript Cookie v2.2.0
* https://github.com/js-cookie/js-cookie
*
* Copyright 2006, 2015 Klaus Hartl & Fagner Brack
* Released under the MIT license
*/(function(u){var v=!1;if(n=u,c=typeof n=="function"?n.call(l,e,l,j):n,c!==void 0&&(j.exports=c),v=!0,j.exports=u(),v=!0,!v){var O=window.Cookies,y=window.Cookies=u();y.noConflict=function(){return window.Cookies=O,y}}})(function(){function u(){for(var O=0,y={};O<arguments.length;O++){var E=arguments[O];for(var d in E)y[d]=E[d]}return y}function v(O){function y(E,d,g){var P;if(typeof document!="undefined"){if(arguments.length>1){if(g=u({path:"/"},y.defaults,g),typeof g.expires=="number"){var S=new Date;S.setMilliseconds(S.getMilliseconds()+g.expires*864e5),g.expires=S}g.expires=g.expires?g.expires.toUTCString():"";try{P=JSON.stringify(d),/^[\{\[]/.test(P)&&(d=P)}catch(D){}O.write?d=O.write(d,E):d=encodeURIComponent(String(d)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),E=encodeURIComponent(String(E)),E=E.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),E=E.replace(/[\(\)]/g,escape);var T="";for(var C in g)g[C]&&(T+="; "+C,g[C]!==!0&&(T+="="+g[C]));return document.cookie=E+"="+d+T}E||(P={});for(var p=document.cookie?document.cookie.split("; "):[],i=/(%[0-9A-Z]{2})+/g,s=0;s<p.length;s++){var _=p[s].split("="),w=_.slice(1).join("=");!this.json&&w.charAt(0)==='"'&&(w=w.slice(1,-1));try{var x=_[0].replace(i,decodeURIComponent);if(w=O.read?O.read(w,x):O(w,x)||w.replace(i,decodeURIComponent),this.json)try{w=JSON.parse(w)}catch(D){}if(E===x){P=w;break}E||(P[x]=w)}catch(D){}}return P}}return y.set=y,y.get=function(E){return y.call(y,E)},y.getJSON=function(){return y.apply({json:!0},[].slice.call(arguments))},y.defaults={},y.remove=function(E,d){y(E,"",u(d,{expires:-1}))},y.withConverter=v,y}return v(function(){})})},3312:j=>{"use strict";const l={},e=l.hasOwnProperty,n=(I,A)=>{for(const M in I)e.call(I,M)&&A(M,I[M])},c=(I,A)=>(A&&n(A,(M,R)=>{I[M]=R}),I),u=(I,A)=>{const M=I.length;let R=-1;for(;++R<M;)A(I[R])},v=I=>"\\u"+("0000"+I).slice(-4),O=(I,A)=>{let M=I.toString(16);return A?M:M.toUpperCase()},y=l.toString,E=Array.isArray,d=I=>typeof Buffer=="function"&&Buffer.isBuffer(I),g=I=>y.call(I)=="[object Object]",P=I=>typeof I=="string"||y.call(I)=="[object String]",S=I=>typeof I=="number"||y.call(I)=="[object Number]",T=I=>typeof I=="function",C=I=>y.call(I)=="[object Map]",p=I=>y.call(I)=="[object Set]",i={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},s=/[\\\b\f\n\r\t]/,_=/[0-9]/,w=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,x=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,D=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,N=(I,A)=>{const M=()=>{K=$,++A.indentLevel,$=A.indent.repeat(A.indentLevel)},R={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},F=A&&A.json;F&&(R.quotes="double",R.wrap=!0),A=c(R,A),A.quotes!="single"&&A.quotes!="double"&&A.quotes!="backtick"&&(A.quotes="single");const Z=A.quotes=="double"?'"':A.quotes=="backtick"?"`":"'",V=A.compact,G=A.lowercaseHex;let $=A.indent.repeat(A.indentLevel),K="";const H=A.__inline1__,re=A.__inline2__,ee=V?"":`
`;let Y,J=!0;const te=A.numbers=="binary",ie=A.numbers=="octal",se=A.numbers=="decimal",W=A.numbers=="hexadecimal";if(F&&I&&T(I.toJSON)&&(I=I.toJSON()),!P(I)){if(C(I))return I.size==0?"new Map()":(V||(A.__inline1__=!0,A.__inline2__=!1),"new Map("+N(Array.from(I),A)+")");if(p(I))return I.size==0?"new Set()":"new Set("+N(Array.from(I),A)+")";if(d(I))return I.length==0?"Buffer.from([])":"Buffer.from("+N(Array.from(I),A)+")";if(E(I))return Y=[],A.wrap=!0,H&&(A.__inline1__=!1,A.__inline2__=!0),re||M(),u(I,Q=>{J=!1,re&&(A.__inline2__=!1),Y.push((V||re?"":$)+N(Q,A))}),J?"[]":re?"["+Y.join(", ")+"]":"["+ee+Y.join(","+ee)+ee+(V?"":K)+"]";if(S(I)){if(F)return JSON.stringify(I);if(se)return String(I);if(W){let Q=I.toString(16);return G||(Q=Q.toUpperCase()),"0x"+Q}if(te)return"0b"+I.toString(2);if(ie)return"0o"+I.toString(8)}else return g(I)?(Y=[],A.wrap=!0,M(),n(I,(Q,oe)=>{J=!1,Y.push((V?"":$)+N(Q,A)+":"+(V?"":" ")+N(oe,A))}),J?"{}":"{"+ee+Y.join(","+ee)+ee+(V?"":K)+"}"):F?JSON.stringify(I)||"null":String(I)}const z=A.escapeEverything?x:D;return Y=I.replace(z,(Q,oe,ne,ae,le,ue)=>{if(oe){if(A.minimal)return oe;const he=oe.charCodeAt(0),be=oe.charCodeAt(1);if(A.es6){const ve=(he-55296)*1024+be-56320+65536;return"\\u{"+O(ve,G)+"}"}return v(O(he,G))+v(O(be,G))}if(ne)return v(O(ne.charCodeAt(0),G));if(Q=="\0"&&!F&&!_.test(ue.charAt(le+1)))return"\\0";if(ae)return ae==Z||A.escapeEverything?"\\"+ae:ae;if(s.test(Q))return i[Q];if(A.minimal&&!w.test(Q))return Q;const fe=O(Q.charCodeAt(0),G);return F||fe.length>2?v(fe):"\\x"+("00"+fe).slice(-2)}),Z=="`"&&(Y=Y.replace(/\$\{/g,"\\${")),A.isScriptContext&&(Y=Y.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,F?"\\u003C!--":"\\x3C!--")),A.wrap&&(Y=Z+Y+Z),Y};N.version="3.0.2",j.exports=N},23059:(j,l)=>{function e(n){if(typeof n!="object")return n;var c,u,v=Object.prototype.toString.call(n);if(v==="[object Object]"){if(n.constructor!==Object&&typeof n.constructor=="function"){u=new n.constructor;for(c in n)n.hasOwnProperty(c)&&u[c]!==n[c]&&(u[c]=e(n[c]))}else{u={};for(c in n)c==="__proto__"?Object.defineProperty(u,c,{value:e(n[c]),configurable:!0,enumerable:!0,writable:!0}):u[c]=e(n[c])}return u}if(v==="[object Array]"){for(c=n.length,u=Array(c);c--;)u[c]=e(n[c]);return u}return v==="[object Set]"?(u=new Set,n.forEach(function(O){u.add(e(O))}),u):v==="[object Map]"?(u=new Map,n.forEach(function(O,y){u.set(e(y),e(O))}),u):v==="[object Date]"?new Date(+n):v==="[object RegExp]"?(u=new RegExp(n.source,n.flags),u.lastIndex=n.lastIndex,u):v==="[object DataView]"?new n.constructor(e(n.buffer)):v==="[object ArrayBuffer]"?n.slice(0):v.slice(-6)==="Array]"?new n.constructor(n):n}l.klona=e},87100:(j,l,e)=>{"use strict";var n;n=!0;var c=e(98661),u=E(c),v=e(8425),O=y(v);function y(s){if(s&&s.__esModule)return s;var _={};if(s!=null)for(var w in s)Object.prototype.hasOwnProperty.call(s,w)&&(_[w]=s[w]);return _.default=s,_}function E(s){return s&&s.__esModule?s:{default:s}}function d(s,_){if(!(s instanceof _))throw new TypeError("Cannot call a class as a function")}function g(s,_){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:s}function P(s,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);s.prototype=Object.create(_&&_.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(s,_):s.__proto__=_)}var S=O.options,T=S.Options;function C(s,_){for(var w=O.tokenize(s),x=[],D=0,N=0;N<w.length;N++){var I=w[N];if(I.type==="nl"&&_.nl2br){x.push(u.default.createElement("br",{key:"linkified-"+ ++D}));continue}else if(!I.isLink||!_.check(I)){x.push(I.toString());continue}var A=_.resolve(I),M=A.formatted,R=A.formattedHref,F=A.tagName,Z=A.className,V=A.target,G=A.attributes,$={key:"linkified-"+ ++D,href:R};if(Z&&($.className=Z),V&&($.target=V),G)for(var K in G)$[K]=G[K];x.push(u.default.createElement(F,$,M))}return x}function p(s,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(u.default.Children.count(s.props.children)===0)return s;var x=[];u.default.Children.forEach(s.props.children,function(I){typeof I=="string"?(w=w+1,x.push.apply(x,C(I,_))):u.default.isValidElement(I)?typeof I.type=="string"&&S.contains(_.ignoreTags,I.type.toUpperCase())?x.push(I):x.push(p(I,_,++w)):x.push(I)});var D={key:"linkified-element-"+w};for(var N in s.props)D[N]=s.props[N];return u.default.cloneElement(s,D,x)}var i=function(s){P(_,s);function _(){return d(this,_),g(this,s.apply(this,arguments))}return _.prototype.render=function(){var x={key:"linkified-element-0"};for(var D in this.props)D!=="options"&&D!=="tagName"&&(x[D]=this.props[D]);var N=new T(this.props.options),I=this.props.tagName||"span",A=u.default.createElement(I,x);return p(A,N,0)},_}(u.default.Component);l.default=i},8425:(j,l,e)=>{"use strict";l.__esModule=!0,l.tokenize=l.test=l.scanner=l.parser=l.options=l.inherits=l.find=void 0;var n=e(72227),c=e(47951),u=d(c),v=e(6417),O=d(v),y=e(45788),E=d(y);function d(T){if(T&&T.__esModule)return T;var C={};if(T!=null)for(var p in T)Object.prototype.hasOwnProperty.call(T,p)&&(C[p]=T[p]);return C.default=T,C}Array.isArray||(Array.isArray=function(T){return Object.prototype.toString.call(T)==="[object Array]"});var g=function(C){return E.run(O.run(C))},P=function(C){for(var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=g(C),s=[],_=0;_<i.length;_++){var w=i[_];w.isLink&&(!p||w.type===p)&&s.push(w.toObject())}return s},S=function(C){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=g(C);return i.length===1&&i[0].isLink&&(!p||i[0].type===p)};l.find=P,l.inherits=n.inherits,l.options=u,l.parser=E,l.scanner=O,l.test=S,l.tokenize=g},45788:(j,l,e)=>{"use strict";l.__esModule=!0,l.start=l.run=l.TOKENS=l.State=void 0;var n=e(25439),c=e(23370),u=O(c),v=e(63333);function O(le){if(le&&le.__esModule)return le;var ue={};if(le!=null)for(var fe in le)Object.prototype.hasOwnProperty.call(le,fe)&&(ue[fe]=le[fe]);return ue.default=le,ue}var y=function(ue){return new n.TokenState(ue)},E=y(),d=y(),g=y(),P=y(),S=y(),T=y(),C=y(),p=y(c.URL),i=y(),s=y(c.URL),_=y(c.URL),w=y(),x=y(),D=y(),N=y(),I=y(),A=y(c.URL),M=y(c.URL),R=y(c.URL),F=y(c.URL),Z=y(),V=y(),G=y(),$=y(),K=y(),H=y(),re=y(c.EMAIL),ee=y(),Y=y(c.EMAIL),J=y(c.MAILTOEMAIL),te=y(),ie=y(),se=y(),W=y(),z=y(c.NL);E.on(v.NL,z).on(v.PROTOCOL,d).on(v.MAILTO,g).on(v.SLASH,P),d.on(v.SLASH,P),P.on(v.SLASH,S),E.on(v.TLD,T).on(v.DOMAIN,T).on(v.LOCALHOST,p).on(v.NUM,T),S.on(v.TLD,_).on(v.DOMAIN,_).on(v.NUM,_).on(v.LOCALHOST,_),T.on(v.DOT,C),K.on(v.DOT,H),C.on(v.TLD,p).on(v.DOMAIN,T).on(v.NUM,T).on(v.LOCALHOST,T),H.on(v.TLD,re).on(v.DOMAIN,K).on(v.NUM,K).on(v.LOCALHOST,K),p.on(v.DOT,C),re.on(v.DOT,H),p.on(v.COLON,i).on(v.SLASH,_),i.on(v.NUM,s),s.on(v.SLASH,_),re.on(v.COLON,ee),ee.on(v.NUM,Y);var Q=[v.DOMAIN,v.AT,v.LOCALHOST,v.NUM,v.PLUS,v.POUND,v.PROTOCOL,v.SLASH,v.TLD,v.UNDERSCORE,v.SYM,v.AMPERSAND],oe=[v.COLON,v.DOT,v.QUERY,v.PUNCTUATION,v.CLOSEBRACE,v.CLOSEBRACKET,v.CLOSEANGLEBRACKET,v.CLOSEPAREN,v.OPENBRACE,v.OPENBRACKET,v.OPENANGLEBRACKET,v.OPENPAREN];_.on(v.OPENBRACE,x).on(v.OPENBRACKET,D).on(v.OPENANGLEBRACKET,N).on(v.OPENPAREN,I),w.on(v.OPENBRACE,x).on(v.OPENBRACKET,D).on(v.OPENANGLEBRACKET,N).on(v.OPENPAREN,I),x.on(v.CLOSEBRACE,_),D.on(v.CLOSEBRACKET,_),N.on(v.CLOSEANGLEBRACKET,_),I.on(v.CLOSEPAREN,_),A.on(v.CLOSEBRACE,_),M.on(v.CLOSEBRACKET,_),R.on(v.CLOSEANGLEBRACKET,_),F.on(v.CLOSEPAREN,_),Z.on(v.CLOSEBRACE,_),V.on(v.CLOSEBRACKET,_),G.on(v.CLOSEANGLEBRACKET,_),$.on(v.CLOSEPAREN,_),x.on(Q,A),D.on(Q,M),N.on(Q,R),I.on(Q,F),x.on(oe,Z),D.on(oe,V),N.on(oe,G),I.on(oe,$),A.on(Q,A),M.on(Q,M),R.on(Q,R),F.on(Q,F),A.on(oe,A),M.on(oe,M),R.on(oe,R),F.on(oe,F),Z.on(Q,A),V.on(Q,M),G.on(Q,R),$.on(Q,F),Z.on(oe,Z),V.on(oe,V),G.on(oe,G),$.on(oe,$),_.on(Q,_),w.on(Q,_),_.on(oe,w),w.on(oe,w),g.on(v.TLD,J).on(v.DOMAIN,J).on(v.NUM,J).on(v.LOCALHOST,J),J.on(Q,J).on(oe,te),te.on(Q,J).on(oe,te);var ne=[v.DOMAIN,v.NUM,v.PLUS,v.POUND,v.QUERY,v.UNDERSCORE,v.SYM,v.AMPERSAND,v.TLD];T.on(ne,ie).on(v.AT,se),p.on(ne,ie).on(v.AT,se),C.on(ne,ie),ie.on(ne,ie).on(v.AT,se).on(v.DOT,W),W.on(ne,ie),se.on(v.TLD,K).on(v.DOMAIN,K).on(v.LOCALHOST,re);var ae=function(ue){for(var fe=ue.length,he=0,be=[],ve=[];he<fe;){for(var Te=E,we=null,Se=null,We=0,Ae=null,Be=-1;he<fe&&!(we=Te.next(ue[he]));)ve.push(ue[he++]);for(;he<fe&&(Se=we||Te.next(ue[he]));)we=null,Te=Se,Te.accepts()?(Be=0,Ae=Te):Be>=0&&Be++,he++,We++;if(Be<0)for(var de=he-We;de<he;de++)ve.push(ue[de]);else{ve.length>0&&(be.push(new c.TEXT(ve)),ve=[]),he-=Be,We-=Be;var ce=Ae.emit();be.push(new ce(ue.slice(he-We,he)))}}return ve.length>0&&be.push(new c.TEXT(ve)),be};l.State=n.TokenState,l.TOKENS=u,l.run=ae,l.start=E},6417:(j,l,e)=>{"use strict";l.__esModule=!0,l.start=l.run=l.TOKENS=l.State=void 0;var n=e(25439),c=e(63333),u=v(c);function v(re){if(re&&re.__esModule)return re;var ee={};if(re!=null)for(var Y in re)Object.prototype.hasOwnProperty.call(re,Y)&&(ee[Y]=re[Y]);return ee.default=re,ee}var O="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),y="0123456789".split(""),E="0123456789abcdefghijklmnopqrstuvwxyz".split(""),d=[" ","\f","\r","	","\v","\xA0","\u1680","\u180E"],g=[],P=function(ee){return new n.CharacterState(ee)},S=P(),T=P(c.NUM),C=P(c.DOMAIN),p=P(),i=P(c.WS);S.on("@",P(c.AT)).on(".",P(c.DOT)).on("+",P(c.PLUS)).on("#",P(c.POUND)).on("?",P(c.QUERY)).on("/",P(c.SLASH)).on("_",P(c.UNDERSCORE)).on(":",P(c.COLON)).on("{",P(c.OPENBRACE)).on("[",P(c.OPENBRACKET)).on("<",P(c.OPENANGLEBRACKET)).on("(",P(c.OPENPAREN)).on("}",P(c.CLOSEBRACE)).on("]",P(c.CLOSEBRACKET)).on(">",P(c.CLOSEANGLEBRACKET)).on(")",P(c.CLOSEPAREN)).on("&",P(c.AMPERSAND)).on([",",";","!",'"',"'"],P(c.PUNCTUATION)),S.on(`
`,P(c.NL)).on(d,i),i.on(d,i);for(var s=0;s<O.length;s++){var _=(0,n.stateify)(O[s],S,c.TLD,c.DOMAIN);g.push.apply(g,_)}var w=(0,n.stateify)("file",S,c.DOMAIN,c.DOMAIN),x=(0,n.stateify)("ftp",S,c.DOMAIN,c.DOMAIN),D=(0,n.stateify)("http",S,c.DOMAIN,c.DOMAIN),N=(0,n.stateify)("mailto",S,c.DOMAIN,c.DOMAIN);g.push.apply(g,w),g.push.apply(g,x),g.push.apply(g,D),g.push.apply(g,N);var I=w.pop(),A=x.pop(),M=D.pop(),R=N.pop(),F=P(c.DOMAIN),Z=P(c.PROTOCOL),V=P(c.MAILTO);A.on("s",F).on(":",Z),M.on("s",F).on(":",Z),g.push(F),I.on(":",Z),F.on(":",Z),R.on(":",V);var G=(0,n.stateify)("localhost",S,c.LOCALHOST,c.DOMAIN);g.push.apply(g,G),S.on(y,T),T.on("-",p).on(y,T).on(E,C),C.on("-",p).on(E,C);for(var $=0;$<g.length;$++)g[$].on("-",p).on(E,C);p.on("-",p).on(y,C).on(E,C),S.defaultTransition=P(c.SYM);var K=function(ee){for(var Y=ee.replace(/[A-Z]/g,function(ae){return ae.toLowerCase()}),J=ee.length,te=[],ie=0;ie<J;){for(var se=S,W=null,z=0,Q=null,oe=-1;ie<J&&(W=se.next(Y[ie]));)se=W,se.accepts()?(oe=0,Q=se):oe>=0&&oe++,z++,ie++;if(!(oe<0)){ie-=oe,z-=oe;var ne=Q.emit();te.push(new ne(ee.substr(ie-z,z)))}}return te},H=S;l.State=n.CharacterState,l.TOKENS=u,l.run=K,l.start=H},25439:(j,l,e)=>{"use strict";l.__esModule=!0,l.stateify=l.TokenState=l.CharacterState=void 0;var n=e(72227);function c(){return function(E){this.j=[],this.T=E||null}}var u=c();u.prototype={defaultTransition:!1,on:function(d,g){if(d instanceof Array){for(var P=0;P<d.length;P++)this.j.push([d[P],g]);return this}return this.j.push([d,g]),this},next:function(d){for(var g=0;g<this.j.length;g++){var P=this.j[g],S=P[0],T=P[1];if(this.test(d,S))return T}return this.defaultTransition},accepts:function(){return!!this.T},test:function(d,g){return d===g},emit:function(){return this.T}};var v=(0,n.inherits)(u,c(),{test:function(d,g){return d===g||g instanceof RegExp&&g.test(d)}}),O=(0,n.inherits)(u,c(),{jump:function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,P=this.next(new d(""));return P===this.defaultTransition?(P=new this.constructor(g),this.on(d,P)):g&&(P.T=g),P},test:function(d,g){return d instanceof g}});function y(E,d,g,P){for(var S=0,T=E.length,C=d,p=[],i=void 0;S<T&&(i=C.next(E[S]));)C=i,S++;if(S>=T)return[];for(;S<T-1;)i=new v(P),p.push(i),C.on(E[S],i),C=i,S++;return i=new v(g),p.push(i),C.on(E[T-1],i),p}l.CharacterState=v,l.TokenState=O,l.stateify=y},9770:(j,l)=>{"use strict";l.__esModule=!0;function e(){return function(n){n&&(this.v=n)}}l.createTokenClass=e},23370:(j,l,e)=>{"use strict";l.__esModule=!0,l.URL=l.TEXT=l.NL=l.EMAIL=l.MAILTOEMAIL=l.Base=void 0;var n=e(9770),c=e(72227),u=e(63333);function v(S){return S instanceof u.DOMAIN||S instanceof u.TLD}var O=(0,n.createTokenClass)();O.prototype={type:"token",isLink:!1,toString:function(){for(var T=[],C=0;C<this.v.length;C++)T.push(this.v[C].toString());return T.join("")},toHref:function(){return this.toString()},toObject:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(T)}}};var y=(0,c.inherits)(O,(0,n.createTokenClass)(),{type:"email",isLink:!0}),E=(0,c.inherits)(O,(0,n.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),d=(0,c.inherits)(O,(0,n.createTokenClass)(),{type:"text"}),g=(0,c.inherits)(O,(0,n.createTokenClass)(),{type:"nl"}),P=(0,c.inherits)(O,(0,n.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",C=!1,p=!1,i=this.v,s=[],_=0;i[_]instanceof u.PROTOCOL;)C=!0,s.push(i[_].toString().toLowerCase()),_++;for(;i[_]instanceof u.SLASH;)p=!0,s.push(i[_].toString()),_++;for(;v(i[_]);)s.push(i[_].toString().toLowerCase()),_++;for(;_<i.length;_++)s.push(i[_].toString());return s=s.join(""),C||p||(s=T+"://"+s),s},hasProtocol:function(){return this.v[0]instanceof u.PROTOCOL}});l.Base=O,l.MAILTOEMAIL=y,l.EMAIL=E,l.NL=g,l.TEXT=d,l.URL=P},63333:(j,l,e)=>{"use strict";l.__esModule=!0,l.AMPERSAND=l.CLOSEPAREN=l.CLOSEANGLEBRACKET=l.CLOSEBRACKET=l.CLOSEBRACE=l.OPENPAREN=l.OPENANGLEBRACKET=l.OPENBRACKET=l.OPENBRACE=l.WS=l.TLD=l.SYM=l.UNDERSCORE=l.SLASH=l.MAILTO=l.PROTOCOL=l.QUERY=l.POUND=l.PLUS=l.NUM=l.NL=l.LOCALHOST=l.PUNCTUATION=l.DOT=l.COLON=l.AT=l.DOMAIN=l.Base=void 0;var n=e(9770),c=e(72227),u=(0,n.createTokenClass)();u.prototype={toString:function(){return this.v+""}};function v(H){var re=H?{v:H}:{};return(0,c.inherits)(u,(0,n.createTokenClass)(),re)}var O=v(),y=v("@"),E=v(":"),d=v("."),g=v(),P=v(),S=v(`
`),T=v(),C=v("+"),p=v("#"),i=v(),s=v("mailto:"),_=v("?"),w=v("/"),x=v("_"),D=v(),N=v(),I=v(),A=v("{"),M=v("["),R=v("<"),F=v("("),Z=v("}"),V=v("]"),G=v(">"),$=v(")"),K=v("&");l.Base=u,l.DOMAIN=O,l.AT=y,l.COLON=E,l.DOT=d,l.PUNCTUATION=g,l.LOCALHOST=P,l.NL=S,l.NUM=T,l.PLUS=C,l.POUND=p,l.QUERY=_,l.PROTOCOL=i,l.MAILTO=s,l.SLASH=w,l.UNDERSCORE=x,l.SYM=D,l.TLD=N,l.WS=I,l.OPENBRACE=A,l.OPENBRACKET=M,l.OPENANGLEBRACKET=R,l.OPENPAREN=F,l.CLOSEBRACE=Z,l.CLOSEBRACKET=V,l.CLOSEANGLEBRACKET=G,l.CLOSEPAREN=$,l.AMPERSAND=K},72227:(j,l)=>{"use strict";l.__esModule=!0,l.inherits=e;function e(n,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=Object.create(n.prototype);for(var O in u)v[O]=u[O];return v.constructor=c,c.prototype=v,c}},47951:(j,l)=>{"use strict";l.__esModule=!0;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},n={defaultProtocol:"http",events:null,format:v,formatHref:v,nl2br:!1,tagName:"a",target:O,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};l.defaults=n,l.Options=c,l.contains=u;function c(y){y=y||{},this.defaultProtocol=y.hasOwnProperty("defaultProtocol")?y.defaultProtocol:n.defaultProtocol,this.events=y.hasOwnProperty("events")?y.events:n.events,this.format=y.hasOwnProperty("format")?y.format:n.format,this.formatHref=y.hasOwnProperty("formatHref")?y.formatHref:n.formatHref,this.nl2br=y.hasOwnProperty("nl2br")?y.nl2br:n.nl2br,this.tagName=y.hasOwnProperty("tagName")?y.tagName:n.tagName,this.target=y.hasOwnProperty("target")?y.target:n.target,this.validate=y.hasOwnProperty("validate")?y.validate:n.validate,this.ignoreTags=[],this.attributes=y.attributes||y.linkAttributes||n.attributes,this.className=y.hasOwnProperty("className")?y.className:y.linkClass||n.className;for(var E=y.hasOwnProperty("ignoreTags")?y.ignoreTags:n.ignoreTags,d=0;d<E.length;d++)this.ignoreTags.push(E[d].toUpperCase())}c.prototype={resolve:function(E){var d=E.toHref(this.defaultProtocol);return{formatted:this.get("format",E.toString(),E),formattedHref:this.get("formatHref",d,E),tagName:this.get("tagName",d,E),className:this.get("className",d,E),target:this.get("target",d,E),events:this.getObject("events",d,E),attributes:this.getObject("attributes",d,E)}},check:function(E){return this.get("validate",E.toString(),E)},get:function(E,d,g){var P=void 0,S=this[E];if(!S)return S;switch(typeof S=="undefined"?"undefined":e(S)){case"function":return S(d,g.type);case"object":return P=S.hasOwnProperty(g.type)?S[g.type]:n[E],typeof P=="function"?P(d,g.type):P}return S},getObject:function(E,d,g){var P=this[E];return typeof P=="function"?P(d,g.type):P}};function u(y,E){for(var d=0;d<y.length;d++)if(y[d]===E)return!0;return!1}function v(y){return y}function O(y,E){return E==="url"?"_blank":null}},28175:(j,l,e)=>{j.exports=e(87100).default},18552:(j,l,e)=>{var n=e(10852),c=e(55639),u=n(c,"DataView");j.exports=u},1989:(j,l,e)=>{var n=e(51789),c=e(80401),u=e(57667),v=e(21327),O=e(81866);function y(E){var d=-1,g=E==null?0:E.length;for(this.clear();++d<g;){var P=E[d];this.set(P[0],P[1])}}y.prototype.clear=n,y.prototype.delete=c,y.prototype.get=u,y.prototype.has=v,y.prototype.set=O,j.exports=y},38407:(j,l,e)=>{var n=e(27040),c=e(14125),u=e(82117),v=e(67518),O=e(54705);function y(E){var d=-1,g=E==null?0:E.length;for(this.clear();++d<g;){var P=E[d];this.set(P[0],P[1])}}y.prototype.clear=n,y.prototype.delete=c,y.prototype.get=u,y.prototype.has=v,y.prototype.set=O,j.exports=y},57071:(j,l,e)=>{var n=e(10852),c=e(55639),u=n(c,"Map");j.exports=u},83369:(j,l,e)=>{var n=e(24785),c=e(11285),u=e(96e3),v=e(49916),O=e(95265);function y(E){var d=-1,g=E==null?0:E.length;for(this.clear();++d<g;){var P=E[d];this.set(P[0],P[1])}}y.prototype.clear=n,y.prototype.delete=c,y.prototype.get=u,y.prototype.has=v,y.prototype.set=O,j.exports=y},53818:(j,l,e)=>{var n=e(10852),c=e(55639),u=n(c,"Promise");j.exports=u},58525:(j,l,e)=>{var n=e(10852),c=e(55639),u=n(c,"Set");j.exports=u},88668:(j,l,e)=>{var n=e(83369),c=e(90619),u=e(72385);function v(O){var y=-1,E=O==null?0:O.length;for(this.__data__=new n;++y<E;)this.add(O[y])}v.prototype.add=v.prototype.push=c,v.prototype.has=u,j.exports=v},46384:(j,l,e)=>{var n=e(38407),c=e(37465),u=e(63779),v=e(67599),O=e(44758),y=e(34309);function E(d){var g=this.__data__=new n(d);this.size=g.size}E.prototype.clear=c,E.prototype.delete=u,E.prototype.get=v,E.prototype.has=O,E.prototype.set=y,j.exports=E},62705:(j,l,e)=>{var n=e(55639),c=n.Symbol;j.exports=c},11149:(j,l,e)=>{var n=e(55639),c=n.Uint8Array;j.exports=c},70577:(j,l,e)=>{var n=e(10852),c=e(55639),u=n(c,"WeakMap");j.exports=u},96874:j=>{function l(e,n,c){switch(c.length){case 0:return e.call(n);case 1:return e.call(n,c[0]);case 2:return e.call(n,c[0],c[1]);case 3:return e.call(n,c[0],c[1],c[2])}return e.apply(n,c)}j.exports=l},44174:j=>{function l(e,n,c,u){for(var v=-1,O=e==null?0:e.length;++v<O;){var y=e[v];n(u,y,c(y),e)}return u}j.exports=l},34963:j=>{function l(e,n){for(var c=-1,u=e==null?0:e.length,v=0,O=[];++c<u;){var y=e[c];n(y,c,e)&&(O[v++]=y)}return O}j.exports=l},47443:(j,l,e)=>{var n=e(42118);function c(u,v){var O=u==null?0:u.length;return!!O&&n(u,v,0)>-1}j.exports=c},1196:j=>{function l(e,n,c){for(var u=-1,v=e==null?0:e.length;++u<v;)if(c(n,e[u]))return!0;return!1}j.exports=l},14636:(j,l,e)=>{var n=e(22545),c=e(35694),u=e(1469),v=e(44144),O=e(65776),y=e(36719),E=Object.prototype,d=E.hasOwnProperty;function g(P,S){var T=u(P),C=!T&&c(P),p=!T&&!C&&v(P),i=!T&&!C&&!p&&y(P),s=T||C||p||i,_=s?n(P.length,String):[],w=_.length;for(var x in P)(S||d.call(P,x))&&!(s&&(x=="length"||p&&(x=="offset"||x=="parent")||i&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||O(x,w)))&&_.push(x);return _}j.exports=g},29932:j=>{function l(e,n){for(var c=-1,u=e==null?0:e.length,v=Array(u);++c<u;)v[c]=n(e[c],c,e);return v}j.exports=l},62488:j=>{function l(e,n){for(var c=-1,u=n.length,v=e.length;++c<u;)e[v+c]=n[c];return e}j.exports=l},62663:j=>{function l(e,n,c,u){var v=-1,O=e==null?0:e.length;for(u&&O&&(c=e[++v]);++v<O;)c=n(c,e[v],v,e);return c}j.exports=l},82908:j=>{function l(e,n){for(var c=-1,u=e==null?0:e.length;++c<u;)if(n(e[c],c,e))return!0;return!1}j.exports=l},44286:j=>{function l(e){return e.split("")}j.exports=l},49029:j=>{var l=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function e(n){return n.match(l)||[]}j.exports=e},34865:(j,l,e)=>{var n=e(89465),c=e(77813),u=Object.prototype,v=u.hasOwnProperty;function O(y,E,d){var g=y[E];(!(v.call(y,E)&&c(g,d))||d===void 0&&!(E in y))&&n(y,E,d)}j.exports=O},18470:(j,l,e)=>{var n=e(77813);function c(u,v){for(var O=u.length;O--;)if(n(u[O][0],v))return O;return-1}j.exports=c},81119:(j,l,e)=>{var n=e(89881);function c(u,v,O,y){return n(u,function(E,d,g){v(y,E,O(E),g)}),y}j.exports=c},89465:(j,l,e)=>{var n=e(38777);function c(u,v,O){v=="__proto__"&&n?n(u,v,{configurable:!0,enumerable:!0,value:O,writable:!0}):u[v]=O}j.exports=c},29750:j=>{function l(e,n,c){return e===e&&(c!==void 0&&(e=e<=c?e:c),n!==void 0&&(e=e>=n?e:n)),e}j.exports=l},20731:(j,l,e)=>{var n=e(88668),c=e(47443),u=e(1196),v=e(29932),O=e(7518),y=e(74757),E=200;function d(g,P,S,T){var C=-1,p=c,i=!0,s=g.length,_=[],w=P.length;if(!s)return _;S&&(P=v(P,O(S))),T?(p=u,i=!1):P.length>=E&&(p=y,i=!1,P=new n(P));e:for(;++C<s;){var x=g[C],D=S==null?x:S(x);if(x=T||x!==0?x:0,i&&D===D){for(var N=w;N--;)if(P[N]===D)continue e;_.push(x)}else p(P,D,T)||_.push(x)}return _}j.exports=d},89881:(j,l,e)=>{var n=e(47816),c=e(99291),u=c(n);j.exports=u},41848:j=>{function l(e,n,c,u){for(var v=e.length,O=c+(u?1:-1);u?O--:++O<v;)if(n(e[O],O,e))return O;return-1}j.exports=l},21078:(j,l,e)=>{var n=e(62488),c=e(37285);function u(v,O,y,E,d){var g=-1,P=v.length;for(y||(y=c),d||(d=[]);++g<P;){var S=v[g];O>0&&y(S)?O>1?u(S,O-1,y,E,d):n(d,S):E||(d[d.length]=S)}return d}j.exports=u},28483:(j,l,e)=>{var n=e(25063),c=n();j.exports=c},47816:(j,l,e)=>{var n=e(28483),c=e(3674);function u(v,O){return v&&n(v,O,c)}j.exports=u},97786:(j,l,e)=>{var n=e(71811),c=e(40327);function u(v,O){O=n(O,v);for(var y=0,E=O.length;v!=null&&y<E;)v=v[c(O[y++])];return y&&y==E?v:void 0}j.exports=u},68866:(j,l,e)=>{var n=e(62488),c=e(1469);function u(v,O,y){var E=O(v);return c(v)?E:n(E,y(v))}j.exports=u},44239:(j,l,e)=>{var n=e(62705),c=e(89607),u=e(2333),v="[object Null]",O="[object Undefined]",y=n?n.toStringTag:void 0;function E(d){return d==null?d===void 0?O:v:y&&y in Object(d)?c(d):u(d)}j.exports=E},13:j=>{function l(e,n){return e!=null&&n in Object(e)}j.exports=l},42118:(j,l,e)=>{var n=e(41848),c=e(62722),u=e(42351);function v(O,y,E){return y===y?u(O,y,E):n(O,c,E)}j.exports=v},9454:(j,l,e)=>{var n=e(44239),c=e(37005),u="[object Arguments]";function v(O){return c(O)&&n(O)==u}j.exports=v},90939:(j,l,e)=>{var n=e(2492),c=e(37005);function u(v,O,y,E,d){return v===O?!0:v==null||O==null||!c(v)&&!c(O)?v!==v&&O!==O:n(v,O,y,E,u,d)}j.exports=u},2492:(j,l,e)=>{var n=e(46384),c=e(67114),u=e(18351),v=e(16096),O=e(64160),y=e(1469),E=e(44144),d=e(36719),g=1,P="[object Arguments]",S="[object Array]",T="[object Object]",C=Object.prototype,p=C.hasOwnProperty;function i(s,_,w,x,D,N){var I=y(s),A=y(_),M=I?S:O(s),R=A?S:O(_);M=M==P?T:M,R=R==P?T:R;var F=M==T,Z=R==T,V=M==R;if(V&&E(s)){if(!E(_))return!1;I=!0,F=!1}if(V&&!F)return N||(N=new n),I||d(s)?c(s,_,w,x,D,N):u(s,_,M,w,x,D,N);if(!(w&g)){var G=F&&p.call(s,"__wrapped__"),$=Z&&p.call(_,"__wrapped__");if(G||$){var K=G?s.value():s,H=$?_.value():_;return N||(N=new n),D(K,H,w,x,N)}}return V?(N||(N=new n),v(s,_,w,x,D,N)):!1}j.exports=i},2958:(j,l,e)=>{var n=e(46384),c=e(90939),u=1,v=2;function O(y,E,d,g){var P=d.length,S=P,T=!g;if(y==null)return!S;for(y=Object(y);P--;){var C=d[P];if(T&&C[2]?C[1]!==y[C[0]]:!(C[0]in y))return!1}for(;++P<S;){C=d[P];var p=C[0],i=y[p],s=C[1];if(T&&C[2]){if(i===void 0&&!(p in y))return!1}else{var _=new n;if(g)var w=g(i,s,p,y,E,_);if(!(w===void 0?c(s,i,u|v,g,_):w))return!1}}return!0}j.exports=O},62722:j=>{function l(e){return e!==e}j.exports=l},28458:(j,l,e)=>{var n=e(23560),c=e(15346),u=e(13218),v=e(80346),O=/[\\^$.*+?()[\]{}|]/g,y=/^\[object .+?Constructor\]$/,E=Function.prototype,d=Object.prototype,g=E.toString,P=d.hasOwnProperty,S=RegExp("^"+g.call(P).replace(O,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function T(C){if(!u(C)||c(C))return!1;var p=n(C)?S:y;return p.test(v(C))}j.exports=T},38749:(j,l,e)=>{var n=e(44239),c=e(41780),u=e(37005),v="[object Arguments]",O="[object Array]",y="[object Boolean]",E="[object Date]",d="[object Error]",g="[object Function]",P="[object Map]",S="[object Number]",T="[object Object]",C="[object RegExp]",p="[object Set]",i="[object String]",s="[object WeakMap]",_="[object ArrayBuffer]",w="[object DataView]",x="[object Float32Array]",D="[object Float64Array]",N="[object Int8Array]",I="[object Int16Array]",A="[object Int32Array]",M="[object Uint8Array]",R="[object Uint8ClampedArray]",F="[object Uint16Array]",Z="[object Uint32Array]",V={};V[x]=V[D]=V[N]=V[I]=V[A]=V[M]=V[R]=V[F]=V[Z]=!0,V[v]=V[O]=V[_]=V[y]=V[w]=V[E]=V[d]=V[g]=V[P]=V[S]=V[T]=V[C]=V[p]=V[i]=V[s]=!1;function G($){return u($)&&c($.length)&&!!V[n($)]}j.exports=G},67206:(j,l,e)=>{var n=e(91573),c=e(16432),u=e(6557),v=e(1469),O=e(39601);function y(E){return typeof E=="function"?E:E==null?u:typeof E=="object"?v(E)?c(E[0],E[1]):n(E):O(E)}j.exports=y},280:(j,l,e)=>{var n=e(25726),c=e(86916),u=Object.prototype,v=u.hasOwnProperty;function O(y){if(!n(y))return c(y);var E=[];for(var d in Object(y))v.call(y,d)&&d!="constructor"&&E.push(d);return E}j.exports=O},69199:(j,l,e)=>{var n=e(89881),c=e(98612);function u(v,O){var y=-1,E=c(v)?Array(v.length):[];return n(v,function(d,g,P){E[++y]=O(d,g,P)}),E}j.exports=u},91573:(j,l,e)=>{var n=e(2958),c=e(1499),u=e(42634);function v(O){var y=c(O);return y.length==1&&y[0][2]?u(y[0][0],y[0][1]):function(E){return E===O||n(E,O,y)}}j.exports=v},16432:(j,l,e)=>{var n=e(90939),c=e(27361),u=e(79095),v=e(15403),O=e(89162),y=e(42634),E=e(40327),d=1,g=2;function P(S,T){return v(S)&&O(T)?y(E(S),T):function(C){var p=c(C,S);return p===void 0&&p===T?u(C,S):n(T,p,d|g)}}j.exports=P},82689:(j,l,e)=>{var n=e(29932),c=e(97786),u=e(67206),v=e(69199),O=e(71131),y=e(7518),E=e(85022),d=e(6557),g=e(1469);function P(S,T,C){T.length?T=n(T,function(s){return g(s)?function(_){return c(_,s.length===1?s[0]:s)}:s}):T=[d];var p=-1;T=n(T,y(u));var i=v(S,function(s,_,w){var x=n(T,function(D){return D(s)});return{criteria:x,index:++p,value:s}});return O(i,function(s,_){return E(s,_,C)})}j.exports=P},25970:(j,l,e)=>{var n=e(63012),c=e(79095);function u(v,O){return n(v,O,function(y,E){return c(v,E)})}j.exports=u},63012:(j,l,e)=>{var n=e(97786),c=e(10611),u=e(71811);function v(O,y,E){for(var d=-1,g=y.length,P={};++d<g;){var S=y[d],T=n(O,S);E(T,S)&&c(P,u(S,O),T)}return P}j.exports=v},40371:j=>{function l(e){return function(n){return n==null?void 0:n[e]}}j.exports=l},79152:(j,l,e)=>{var n=e(97786);function c(u){return function(v){return n(v,u)}}j.exports=c},18674:j=>{function l(e){return function(n){return e==null?void 0:e[n]}}j.exports=l},5976:(j,l,e)=>{var n=e(6557),c=e(45357),u=e(30061);function v(O,y){return u(c(O,y,n),O+"")}j.exports=v},10611:(j,l,e)=>{var n=e(34865),c=e(71811),u=e(65776),v=e(13218),O=e(40327);function y(E,d,g,P){if(!v(E))return E;d=c(d,E);for(var S=-1,T=d.length,C=T-1,p=E;p!=null&&++S<T;){var i=O(d[S]),s=g;if(i==="__proto__"||i==="constructor"||i==="prototype")return E;if(S!=C){var _=p[i];s=P?P(_,i,p):void 0,s===void 0&&(s=v(_)?_:u(d[S+1])?[]:{})}n(p,i,s),p=p[i]}return E}j.exports=y},56560:(j,l,e)=>{var n=e(75703),c=e(38777),u=e(6557),v=c?function(O,y){return c(O,"toString",{configurable:!0,enumerable:!1,value:n(y),writable:!0})}:u;j.exports=v},14259:j=>{function l(e,n,c){var u=-1,v=e.length;n<0&&(n=-n>v?0:v+n),c=c>v?v:c,c<0&&(c+=v),v=n>c?0:c-n>>>0,n>>>=0;for(var O=Array(v);++u<v;)O[u]=e[u+n];return O}j.exports=l},71131:j=>{function l(e,n){var c=e.length;for(e.sort(n);c--;)e[c]=e[c].value;return e}j.exports=l},67762:j=>{function l(e,n){for(var c,u=-1,v=e.length;++u<v;){var O=n(e[u]);O!==void 0&&(c=c===void 0?O:c+O)}return c}j.exports=l},22545:j=>{function l(e,n){for(var c=-1,u=Array(e);++c<e;)u[c]=n(c);return u}j.exports=l},80531:(j,l,e)=>{var n=e(62705),c=e(29932),u=e(1469),v=e(33448),O=1/0,y=n?n.prototype:void 0,E=y?y.toString:void 0;function d(g){if(typeof g=="string")return g;if(u(g))return c(g,d)+"";if(v(g))return E?E.call(g):"";var P=g+"";return P=="0"&&1/g==-O?"-0":P}j.exports=d},27561:(j,l,e)=>{var n=e(67990),c=/^\s+/;function u(v){return v&&v.slice(0,n(v)+1).replace(c,"")}j.exports=u},7518:j=>{function l(e){return function(n){return e(n)}}j.exports=l},45652:(j,l,e)=>{var n=e(88668),c=e(47443),u=e(1196),v=e(74757),O=e(23593),y=e(21814),E=200;function d(g,P,S){var T=-1,C=c,p=g.length,i=!0,s=[],_=s;if(S)i=!1,C=u;else if(p>=E){var w=P?null:O(g);if(w)return y(w);i=!1,C=v,_=new n}else _=P?[]:s;e:for(;++T<p;){var x=g[T],D=P?P(x):x;if(x=S||x!==0?x:0,i&&D===D){for(var N=_.length;N--;)if(_[N]===D)continue e;P&&_.push(D),s.push(x)}else C(_,D,S)||(_!==s&&_.push(D),s.push(x))}return s}j.exports=d},74757:j=>{function l(e,n){return e.has(n)}j.exports=l},54290:(j,l,e)=>{var n=e(6557);function c(u){return typeof u=="function"?u:n}j.exports=c},71811:(j,l,e)=>{var n=e(1469),c=e(15403),u=e(55514),v=e(79833);function O(y,E){return n(y)?y:c(y,E)?[y]:u(v(y))}j.exports=O},40180:(j,l,e)=>{var n=e(14259);function c(u,v,O){var y=u.length;return O=O===void 0?y:O,!v&&O>=y?u:n(u,v,O)}j.exports=c},26393:(j,l,e)=>{var n=e(33448);function c(u,v){if(u!==v){var O=u!==void 0,y=u===null,E=u===u,d=n(u),g=v!==void 0,P=v===null,S=v===v,T=n(v);if(!P&&!T&&!d&&u>v||d&&g&&S&&!P&&!T||y&&g&&S||!O&&S||!E)return 1;if(!y&&!d&&!T&&u<v||T&&O&&E&&!y&&!d||P&&O&&E||!g&&E||!S)return-1}return 0}j.exports=c},85022:(j,l,e)=>{var n=e(26393);function c(u,v,O){for(var y=-1,E=u.criteria,d=v.criteria,g=E.length,P=O.length;++y<g;){var S=n(E[y],d[y]);if(S){if(y>=P)return S;var T=O[y];return S*(T=="desc"?-1:1)}}return u.index-v.index}j.exports=c},14429:(j,l,e)=>{var n=e(55639),c=n["__core-js_shared__"];j.exports=c},55189:(j,l,e)=>{var n=e(44174),c=e(81119),u=e(67206),v=e(1469);function O(y,E){return function(d,g){var P=v(d)?n:c,S=E?E():{};return P(d,y,u(g,2),S)}}j.exports=O},99291:(j,l,e)=>{var n=e(98612);function c(u,v){return function(O,y){if(O==null)return O;if(!n(O))return u(O,y);for(var E=O.length,d=v?E:-1,g=Object(O);(v?d--:++d<E)&&y(g[d],d,g)!==!1;);return O}}j.exports=c},25063:j=>{function l(e){return function(n,c,u){for(var v=-1,O=Object(n),y=u(n),E=y.length;E--;){var d=y[e?E:++v];if(c(O[d],d,O)===!1)break}return n}}j.exports=l},98805:(j,l,e)=>{var n=e(40180),c=e(62689),u=e(83140),v=e(79833);function O(y){return function(E){E=v(E);var d=c(E)?u(E):void 0,g=d?d[0]:E.charAt(0),P=d?n(d,1).join(""):E.slice(1);return g[y]()+P}}j.exports=O},35393:(j,l,e)=>{var n=e(62663),c=e(53816),u=e(58748),v="['\u2019]",O=RegExp(v,"g");function y(E){return function(d){return n(u(c(d).replace(O,"")),E,"")}}j.exports=y},23593:(j,l,e)=>{var n=e(58525),c=e(50308),u=e(21814),v=1/0,O=n&&1/u(new n([,-0]))[1]==v?function(y){return new n(y)}:c;j.exports=O},69389:(j,l,e)=>{var n=e(18674),c={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},u=n(c);j.exports=u},38777:(j,l,e)=>{var n=e(10852),c=function(){try{var u=n(Object,"defineProperty");return u({},"",{}),u}catch(v){}}();j.exports=c},67114:(j,l,e)=>{var n=e(88668),c=e(82908),u=e(74757),v=1,O=2;function y(E,d,g,P,S,T){var C=g&v,p=E.length,i=d.length;if(p!=i&&!(C&&i>p))return!1;var s=T.get(E),_=T.get(d);if(s&&_)return s==d&&_==E;var w=-1,x=!0,D=g&O?new n:void 0;for(T.set(E,d),T.set(d,E);++w<p;){var N=E[w],I=d[w];if(P)var A=C?P(I,N,w,d,E,T):P(N,I,w,E,d,T);if(A!==void 0){if(A)continue;x=!1;break}if(D){if(!c(d,function(M,R){if(!u(D,R)&&(N===M||S(N,M,g,P,T)))return D.push(R)})){x=!1;break}}else if(!(N===I||S(N,I,g,P,T))){x=!1;break}}return T.delete(E),T.delete(d),x}j.exports=y},18351:(j,l,e)=>{var n=e(62705),c=e(11149),u=e(77813),v=e(67114),O=e(68776),y=e(21814),E=1,d=2,g="[object Boolean]",P="[object Date]",S="[object Error]",T="[object Map]",C="[object Number]",p="[object RegExp]",i="[object Set]",s="[object String]",_="[object Symbol]",w="[object ArrayBuffer]",x="[object DataView]",D=n?n.prototype:void 0,N=D?D.valueOf:void 0;function I(A,M,R,F,Z,V,G){switch(R){case x:if(A.byteLength!=M.byteLength||A.byteOffset!=M.byteOffset)return!1;A=A.buffer,M=M.buffer;case w:return!(A.byteLength!=M.byteLength||!V(new c(A),new c(M)));case g:case P:case C:return u(+A,+M);case S:return A.name==M.name&&A.message==M.message;case p:case s:return A==M+"";case T:var $=O;case i:var K=F&E;if($||($=y),A.size!=M.size&&!K)return!1;var H=G.get(A);if(H)return H==M;F|=d,G.set(A,M);var re=v($(A),$(M),F,Z,V,G);return G.delete(A),re;case _:if(N)return N.call(A)==N.call(M)}return!1}j.exports=I},16096:(j,l,e)=>{var n=e(58234),c=1,u=Object.prototype,v=u.hasOwnProperty;function O(y,E,d,g,P,S){var T=d&c,C=n(y),p=C.length,i=n(E),s=i.length;if(p!=s&&!T)return!1;for(var _=p;_--;){var w=C[_];if(!(T?w in E:v.call(E,w)))return!1}var x=S.get(y),D=S.get(E);if(x&&D)return x==E&&D==y;var N=!0;S.set(y,E),S.set(E,y);for(var I=T;++_<p;){w=C[_];var A=y[w],M=E[w];if(g)var R=T?g(M,A,w,E,y,S):g(A,M,w,y,E,S);if(!(R===void 0?A===M||P(A,M,d,g,S):R)){N=!1;break}I||(I=w=="constructor")}if(N&&!I){var F=y.constructor,Z=E.constructor;F!=Z&&"constructor"in y&&"constructor"in E&&!(typeof F=="function"&&F instanceof F&&typeof Z=="function"&&Z instanceof Z)&&(N=!1)}return S.delete(y),S.delete(E),N}j.exports=O},99021:(j,l,e)=>{var n=e(85564),c=e(45357),u=e(30061);function v(O){return u(c(O,void 0,n),O+"")}j.exports=v},31957:(j,l,e)=>{var n=typeof e.g=="object"&&e.g&&e.g.Object===Object&&e.g;j.exports=n},58234:(j,l,e)=>{var n=e(68866),c=e(99551),u=e(3674);function v(O){return n(O,u,c)}j.exports=v},45050:(j,l,e)=>{var n=e(37019);function c(u,v){var O=u.__data__;return n(v)?O[typeof v=="string"?"string":"hash"]:O.map}j.exports=c},1499:(j,l,e)=>{var n=e(89162),c=e(3674);function u(v){for(var O=c(v),y=O.length;y--;){var E=O[y],d=v[E];O[y]=[E,d,n(d)]}return O}j.exports=u},10852:(j,l,e)=>{var n=e(28458),c=e(47801);function u(v,O){var y=c(v,O);return n(y)?y:void 0}j.exports=u},89607:(j,l,e)=>{var n=e(62705),c=Object.prototype,u=c.hasOwnProperty,v=c.toString,O=n?n.toStringTag:void 0;function y(E){var d=u.call(E,O),g=E[O];try{E[O]=void 0;var P=!0}catch(T){}var S=v.call(E);return P&&(d?E[O]=g:delete E[O]),S}j.exports=y},99551:(j,l,e)=>{var n=e(34963),c=e(70479),u=Object.prototype,v=u.propertyIsEnumerable,O=Object.getOwnPropertySymbols,y=O?function(E){return E==null?[]:(E=Object(E),n(O(E),function(d){return v.call(E,d)}))}:c;j.exports=y},64160:(j,l,e)=>{var n=e(18552),c=e(57071),u=e(53818),v=e(58525),O=e(70577),y=e(44239),E=e(80346),d="[object Map]",g="[object Object]",P="[object Promise]",S="[object Set]",T="[object WeakMap]",C="[object DataView]",p=E(n),i=E(c),s=E(u),_=E(v),w=E(O),x=y;(n&&x(new n(new ArrayBuffer(1)))!=C||c&&x(new c)!=d||u&&x(u.resolve())!=P||v&&x(new v)!=S||O&&x(new O)!=T)&&(x=function(D){var N=y(D),I=N==g?D.constructor:void 0,A=I?E(I):"";if(A)switch(A){case p:return C;case i:return d;case s:return P;case _:return S;case w:return T}return N}),j.exports=x},47801:j=>{function l(e,n){return e==null?void 0:e[n]}j.exports=l},222:(j,l,e)=>{var n=e(71811),c=e(35694),u=e(1469),v=e(65776),O=e(41780),y=e(40327);function E(d,g,P){g=n(g,d);for(var S=-1,T=g.length,C=!1;++S<T;){var p=y(g[S]);if(!(C=d!=null&&P(d,p)))break;d=d[p]}return C||++S!=T?C:(T=d==null?0:d.length,!!T&&O(T)&&v(p,T)&&(u(d)||c(d)))}j.exports=E},62689:j=>{var l="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",c="\\u20d0-\\u20ff",u=e+n+c,v="\\ufe0e\\ufe0f",O="\\u200d",y=RegExp("["+O+l+u+v+"]");function E(d){return y.test(d)}j.exports=E},93157:j=>{var l=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function e(n){return l.test(n)}j.exports=e},51789:(j,l,e)=>{var n=e(94536);function c(){this.__data__=n?n(null):{},this.size=0}j.exports=c},80401:j=>{function l(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}j.exports=l},57667:(j,l,e)=>{var n=e(94536),c="__lodash_hash_undefined__",u=Object.prototype,v=u.hasOwnProperty;function O(y){var E=this.__data__;if(n){var d=E[y];return d===c?void 0:d}return v.call(E,y)?E[y]:void 0}j.exports=O},21327:(j,l,e)=>{var n=e(94536),c=Object.prototype,u=c.hasOwnProperty;function v(O){var y=this.__data__;return n?y[O]!==void 0:u.call(y,O)}j.exports=v},81866:(j,l,e)=>{var n=e(94536),c="__lodash_hash_undefined__";function u(v,O){var y=this.__data__;return this.size+=this.has(v)?0:1,y[v]=n&&O===void 0?c:O,this}j.exports=u},37285:(j,l,e)=>{var n=e(62705),c=e(35694),u=e(1469),v=n?n.isConcatSpreadable:void 0;function O(y){return u(y)||c(y)||!!(v&&y&&y[v])}j.exports=O},65776:j=>{var l=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(c,u){var v=typeof c;return u=u==null?l:u,!!u&&(v=="number"||v!="symbol"&&e.test(c))&&c>-1&&c%1==0&&c<u}j.exports=n},16612:(j,l,e)=>{var n=e(77813),c=e(98612),u=e(65776),v=e(13218);function O(y,E,d){if(!v(d))return!1;var g=typeof E;return(g=="number"?c(d)&&u(E,d.length):g=="string"&&E in d)?n(d[E],y):!1}j.exports=O},15403:(j,l,e)=>{var n=e(1469),c=e(33448),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,v=/^\w*$/;function O(y,E){if(n(y))return!1;var d=typeof y;return d=="number"||d=="symbol"||d=="boolean"||y==null||c(y)?!0:v.test(y)||!u.test(y)||E!=null&&y in Object(E)}j.exports=O},37019:j=>{function l(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}j.exports=l},15346:(j,l,e)=>{var n=e(14429),c=function(){var v=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}();function u(v){return!!c&&c in v}j.exports=u},25726:j=>{var l=Object.prototype;function e(n){var c=n&&n.constructor,u=typeof c=="function"&&c.prototype||l;return n===u}j.exports=e},89162:(j,l,e)=>{var n=e(13218);function c(u){return u===u&&!n(u)}j.exports=c},27040:j=>{function l(){this.__data__=[],this.size=0}j.exports=l},14125:(j,l,e)=>{var n=e(18470),c=Array.prototype,u=c.splice;function v(O){var y=this.__data__,E=n(y,O);if(E<0)return!1;var d=y.length-1;return E==d?y.pop():u.call(y,E,1),--this.size,!0}j.exports=v},82117:(j,l,e)=>{var n=e(18470);function c(u){var v=this.__data__,O=n(v,u);return O<0?void 0:v[O][1]}j.exports=c},67518:(j,l,e)=>{var n=e(18470);function c(u){return n(this.__data__,u)>-1}j.exports=c},54705:(j,l,e)=>{var n=e(18470);function c(u,v){var O=this.__data__,y=n(O,u);return y<0?(++this.size,O.push([u,v])):O[y][1]=v,this}j.exports=c},24785:(j,l,e)=>{var n=e(1989),c=e(38407),u=e(57071);function v(){this.size=0,this.__data__={hash:new n,map:new(u||c),string:new n}}j.exports=v},11285:(j,l,e)=>{var n=e(45050);function c(u){var v=n(this,u).delete(u);return this.size-=v?1:0,v}j.exports=c},96e3:(j,l,e)=>{var n=e(45050);function c(u){return n(this,u).get(u)}j.exports=c},49916:(j,l,e)=>{var n=e(45050);function c(u){return n(this,u).has(u)}j.exports=c},95265:(j,l,e)=>{var n=e(45050);function c(u,v){var O=n(this,u),y=O.size;return O.set(u,v),this.size+=O.size==y?0:1,this}j.exports=c},68776:j=>{function l(e){var n=-1,c=Array(e.size);return e.forEach(function(u,v){c[++n]=[v,u]}),c}j.exports=l},42634:j=>{function l(e,n){return function(c){return c==null?!1:c[e]===n&&(n!==void 0||e in Object(c))}}j.exports=l},24523:(j,l,e)=>{var n=e(88306),c=500;function u(v){var O=n(v,function(E){return y.size===c&&y.clear(),E}),y=O.cache;return O}j.exports=u},94536:(j,l,e)=>{var n=e(10852),c=n(Object,"create");j.exports=c},86916:(j,l,e)=>{var n=e(5569),c=n(Object.keys,Object);j.exports=c},31167:(j,l,e)=>{j=e.nmd(j);var n=e(31957),c=l&&!l.nodeType&&l,u=c&&!0&&j&&!j.nodeType&&j,v=u&&u.exports===c,O=v&&n.process,y=function(){try{var E=u&&u.require&&u.require("util").types;return E||O&&O.binding&&O.binding("util")}catch(d){}}();j.exports=y},2333:j=>{var l=Object.prototype,e=l.toString;function n(c){return e.call(c)}j.exports=n},5569:j=>{function l(e,n){return function(c){return e(n(c))}}j.exports=l},45357:(j,l,e)=>{var n=e(96874),c=Math.max;function u(v,O,y){return O=c(O===void 0?v.length-1:O,0),function(){for(var E=arguments,d=-1,g=c(E.length-O,0),P=Array(g);++d<g;)P[d]=E[O+d];d=-1;for(var S=Array(O+1);++d<O;)S[d]=E[d];return S[O]=y(P),n(v,this,S)}}j.exports=u},55639:(j,l,e)=>{var n=e(31957),c=typeof self=="object"&&self&&self.Object===Object&&self,u=n||c||Function("return this")();j.exports=u},90619:j=>{var l="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,l),this}j.exports=e},72385:j=>{function l(e){return this.__data__.has(e)}j.exports=l},21814:j=>{function l(e){var n=-1,c=Array(e.size);return e.forEach(function(u){c[++n]=u}),c}j.exports=l},30061:(j,l,e)=>{var n=e(56560),c=e(21275),u=c(n);j.exports=u},21275:j=>{var l=800,e=16,n=Date.now;function c(u){var v=0,O=0;return function(){var y=n(),E=e-(y-O);if(O=y,E>0){if(++v>=l)return arguments[0]}else v=0;return u.apply(void 0,arguments)}}j.exports=c},37465:(j,l,e)=>{var n=e(38407);function c(){this.__data__=new n,this.size=0}j.exports=c},63779:j=>{function l(e){var n=this.__data__,c=n.delete(e);return this.size=n.size,c}j.exports=l},67599:j=>{function l(e){return this.__data__.get(e)}j.exports=l},44758:j=>{function l(e){return this.__data__.has(e)}j.exports=l},34309:(j,l,e)=>{var n=e(38407),c=e(57071),u=e(83369),v=200;function O(y,E){var d=this.__data__;if(d instanceof n){var g=d.__data__;if(!c||g.length<v-1)return g.push([y,E]),this.size=++d.size,this;d=this.__data__=new u(g)}return d.set(y,E),this.size=d.size,this}j.exports=O},42351:j=>{function l(e,n,c){for(var u=c-1,v=e.length;++u<v;)if(e[u]===n)return u;return-1}j.exports=l},83140:(j,l,e)=>{var n=e(44286),c=e(62689),u=e(676);function v(O){return c(O)?u(O):n(O)}j.exports=v},55514:(j,l,e)=>{var n=e(24523),c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,v=n(function(O){var y=[];return O.charCodeAt(0)===46&&y.push(""),O.replace(c,function(E,d,g,P){y.push(g?P.replace(u,"$1"):d||E)}),y});j.exports=v},40327:(j,l,e)=>{var n=e(33448),c=1/0;function u(v){if(typeof v=="string"||n(v))return v;var O=v+"";return O=="0"&&1/v==-c?"-0":O}j.exports=u},80346:j=>{var l=Function.prototype,e=l.toString;function n(c){if(c!=null){try{return e.call(c)}catch(u){}try{return c+""}catch(u){}}return""}j.exports=n},67990:j=>{var l=/\s/;function e(n){for(var c=n.length;c--&&l.test(n.charAt(c)););return c}j.exports=e},676:j=>{var l="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",c="\\u20d0-\\u20ff",u=e+n+c,v="\\ufe0e\\ufe0f",O="["+l+"]",y="["+u+"]",E="\\ud83c[\\udffb-\\udfff]",d="(?:"+y+"|"+E+")",g="[^"+l+"]",P="(?:\\ud83c[\\udde6-\\uddff]){2}",S="[\\ud800-\\udbff][\\udc00-\\udfff]",T="\\u200d",C=d+"?",p="["+v+"]?",i="(?:"+T+"(?:"+[g,P,S].join("|")+")"+p+C+")*",s=p+C+i,_="(?:"+[g+y+"?",y,P,S,O].join("|")+")",w=RegExp(E+"(?="+E+")|"+_+s,"g");function x(D){return D.match(w)||[]}j.exports=x},2757:j=>{var l="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",c="\\u20d0-\\u20ff",u=e+n+c,v="\\u2700-\\u27bf",O="a-z\\xdf-\\xf6\\xf8-\\xff",y="\\xac\\xb1\\xd7\\xf7",E="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",d="\\u2000-\\u206f",g=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",P="A-Z\\xc0-\\xd6\\xd8-\\xde",S="\\ufe0e\\ufe0f",T=y+E+d+g,C="['\u2019]",p="["+T+"]",i="["+u+"]",s="\\d+",_="["+v+"]",w="["+O+"]",x="[^"+l+T+s+v+O+P+"]",D="\\ud83c[\\udffb-\\udfff]",N="(?:"+i+"|"+D+")",I="[^"+l+"]",A="(?:\\ud83c[\\udde6-\\uddff]){2}",M="[\\ud800-\\udbff][\\udc00-\\udfff]",R="["+P+"]",F="\\u200d",Z="(?:"+w+"|"+x+")",V="(?:"+R+"|"+x+")",G="(?:"+C+"(?:d|ll|m|re|s|t|ve))?",$="(?:"+C+"(?:D|LL|M|RE|S|T|VE))?",K=N+"?",H="["+S+"]?",re="(?:"+F+"(?:"+[I,A,M].join("|")+")"+H+K+")*",ee="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Y="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",J=H+K+re,te="(?:"+[_,A,M].join("|")+")"+J,ie=RegExp([R+"?"+w+"+"+G+"(?="+[p,R,"$"].join("|")+")",V+"+"+$+"(?="+[p,R+Z,"$"].join("|")+")",R+"?"+Z+"+"+G,R+"+"+$,Y,ee,s,te].join("|"),"g");function se(W){return W.match(ie)||[]}j.exports=se},48403:(j,l,e)=>{var n=e(79833),c=e(11700);function u(v){return c(n(v).toLowerCase())}j.exports=u},8400:(j,l,e)=>{var n=e(14259),c=e(16612),u=e(40554),v=Math.ceil,O=Math.max;function y(E,d,g){(g?c(E,d,g):d===void 0)?d=1:d=O(u(d),0);var P=E==null?0:E.length;if(!P||d<1)return[];for(var S=0,T=0,C=Array(v(P/d));S<P;)C[T++]=n(E,S,S+=d);return C}j.exports=y},74691:(j,l,e)=>{var n=e(29750),c=e(14841);function u(v,O,y){return y===void 0&&(y=O,O=void 0),y!==void 0&&(y=c(y),y=y===y?y:0),O!==void 0&&(O=c(O),O=O===O?O:0),n(c(v),O,y)}j.exports=u},39693:j=>{function l(e){for(var n=-1,c=e==null?0:e.length,u=0,v=[];++n<c;){var O=e[n];O&&(v[u++]=O)}return v}j.exports=l},75703:j=>{function l(e){return function(){return e}}j.exports=l},23279:(j,l,e)=>{var n=e(13218),c=e(7771),u=e(14841),v="Expected a function",O=Math.max,y=Math.min;function E(d,g,P){var S,T,C,p,i,s,_=0,w=!1,x=!1,D=!0;if(typeof d!="function")throw new TypeError(v);g=u(g)||0,n(P)&&(w=!!P.leading,x="maxWait"in P,C=x?O(u(P.maxWait)||0,g):C,D="trailing"in P?!!P.trailing:D);function N($){var K=S,H=T;return S=T=void 0,_=$,p=d.apply(H,K),p}function I($){return _=$,i=setTimeout(R,g),w?N($):p}function A($){var K=$-s,H=$-_,re=g-K;return x?y(re,C-H):re}function M($){var K=$-s,H=$-_;return s===void 0||K>=g||K<0||x&&H>=C}function R(){var $=c();if(M($))return F($);i=setTimeout(R,A($))}function F($){return i=void 0,D&&S?N($):(S=T=void 0,p)}function Z(){i!==void 0&&clearTimeout(i),_=0,S=s=T=i=void 0}function V(){return i===void 0?p:F(c())}function G(){var $=c(),K=M($);if(S=arguments,T=this,s=$,K){if(i===void 0)return I(s);if(x)return clearTimeout(i),i=setTimeout(R,g),N(s)}return i===void 0&&(i=setTimeout(R,g)),p}return G.cancel=Z,G.flush=V,G}j.exports=E},53816:(j,l,e)=>{var n=e(69389),c=e(79833),u=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,v="\\u0300-\\u036f",O="\\ufe20-\\ufe2f",y="\\u20d0-\\u20ff",E=v+O+y,d="["+E+"]",g=RegExp(d,"g");function P(S){return S=c(S),S&&S.replace(u,n).replace(g,"")}j.exports=P},77813:j=>{function l(e,n){return e===n||e!==e&&n!==n}j.exports=l},7436:(j,l,e)=>{var n=e(41848),c=e(67206),u=e(40554),v=Math.max,O=Math.min;function y(E,d,g){var P=E==null?0:E.length;if(!P)return-1;var S=P-1;return g!==void 0&&(S=u(g),S=g<0?v(P+S,0):O(S,P-1)),n(E,c(d,3),S,!0)}j.exports=y},85564:(j,l,e)=>{var n=e(21078);function c(u){var v=u==null?0:u.length;return v?n(u,1):[]}j.exports=c},27361:(j,l,e)=>{var n=e(97786);function c(u,v,O){var y=u==null?void 0:n(u,v);return y===void 0?O:y}j.exports=c},7739:(j,l,e)=>{var n=e(89465),c=e(55189),u=Object.prototype,v=u.hasOwnProperty,O=c(function(y,E,d){v.call(y,d)?y[d].push(E):n(y,d,[E])});j.exports=O},79095:(j,l,e)=>{var n=e(13),c=e(222);function u(v,O){return v!=null&&c(v,O,n)}j.exports=u},6557:j=>{function l(e){return e}j.exports=l},35694:(j,l,e)=>{var n=e(9454),c=e(37005),u=Object.prototype,v=u.hasOwnProperty,O=u.propertyIsEnumerable,y=n(function(){return arguments}())?n:function(E){return c(E)&&v.call(E,"callee")&&!O.call(E,"callee")};j.exports=y},1469:j=>{var l=Array.isArray;j.exports=l},98612:(j,l,e)=>{var n=e(23560),c=e(41780);function u(v){return v!=null&&c(v.length)&&!n(v)}j.exports=u},29246:(j,l,e)=>{var n=e(98612),c=e(37005);function u(v){return c(v)&&n(v)}j.exports=u},44144:(j,l,e)=>{j=e.nmd(j);var n=e(55639),c=e(95062),u=l&&!l.nodeType&&l,v=u&&!0&&j&&!j.nodeType&&j,O=v&&v.exports===u,y=O?n.Buffer:void 0,E=y?y.isBuffer:void 0,d=E||c;j.exports=d},18446:(j,l,e)=>{var n=e(90939);function c(u,v){return n(u,v)}j.exports=c},23560:(j,l,e)=>{var n=e(44239),c=e(13218),u="[object AsyncFunction]",v="[object Function]",O="[object GeneratorFunction]",y="[object Proxy]";function E(d){if(!c(d))return!1;var g=n(d);return g==v||g==O||g==u||g==y}j.exports=E},41780:j=>{var l=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=l}j.exports=e},14293:j=>{function l(e){return e==null}j.exports=l},13218:j=>{function l(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}j.exports=l},37005:j=>{function l(e){return e!=null&&typeof e=="object"}j.exports=l},33448:(j,l,e)=>{var n=e(44239),c=e(37005),u="[object Symbol]";function v(O){return typeof O=="symbol"||c(O)&&n(O)==u}j.exports=v},36719:(j,l,e)=>{var n=e(38749),c=e(7518),u=e(31167),v=u&&u.isTypedArray,O=v?c(v):n;j.exports=O},24350:(j,l,e)=>{var n=e(89465),c=e(55189),u=c(function(v,O,y){n(v,y,O)});j.exports=u},3674:(j,l,e)=>{var n=e(14636),c=e(280),u=e(98612);function v(O){return u(O)?n(O):c(O)}j.exports=v},88306:(j,l,e)=>{var n=e(83369),c="Expected a function";function u(v,O){if(typeof v!="function"||O!=null&&typeof O!="function")throw new TypeError(c);var y=function(){var E=arguments,d=O?O.apply(this,E):E[0],g=y.cache;if(g.has(d))return g.get(d);var P=v.apply(this,E);return y.cache=g.set(d,P)||g,P};return y.cache=new(u.Cache||n),y}u.Cache=n,j.exports=u},50308:j=>{function l(){}j.exports=l},7771:(j,l,e)=>{var n=e(55639),c=function(){return n.Date.now()};j.exports=c},43174:(j,l,e)=>{var n=e(55189),c=n(function(u,v,O){u[O?0:1].push(v)},function(){return[[],[]]});j.exports=c},78718:(j,l,e)=>{var n=e(25970),c=e(99021),u=c(function(v,O){return v==null?{}:n(v,O)});j.exports=u},39601:(j,l,e)=>{var n=e(40371),c=e(79152),u=e(15403),v=e(40327);function O(y){return u(y)?n(v(y)):c(y)}j.exports=O},89734:(j,l,e)=>{var n=e(21078),c=e(82689),u=e(5976),v=e(16612),O=u(function(y,E){if(y==null)return[];var d=E.length;return d>1&&v(y,E[0],E[1])?E=[]:d>2&&v(E[0],E[1],E[2])&&(E=[E[0]]),c(y,n(E,1),[])});j.exports=O},18029:(j,l,e)=>{var n=e(35393),c=e(11700),u=n(function(v,O,y){return v+(y?" ":"")+c(O)});j.exports=u},70479:j=>{function l(){return[]}j.exports=l},95062:j=>{function l(){return!1}j.exports=l},12297:(j,l,e)=>{var n=e(67762),c=e(6557);function u(v){return v&&v.length?n(v,c):0}j.exports=u},23493:(j,l,e)=>{var n=e(23279),c=e(13218),u="Expected a function";function v(O,y,E){var d=!0,g=!0;if(typeof O!="function")throw new TypeError(u);return c(E)&&(d="leading"in E?!!E.leading:d,g="trailing"in E?!!E.trailing:g),n(O,y,{leading:d,maxWait:y,trailing:g})}j.exports=v},98913:(j,l,e)=>{var n=e(22545),c=e(54290),u=e(40554),v=9007199254740991,O=4294967295,y=Math.min;function E(d,g){if(d=u(d),d<1||d>v)return[];var P=O,S=y(d,O);g=c(g),d-=O;for(var T=n(S,g);++P<d;)g(P);return T}j.exports=E},18601:(j,l,e)=>{var n=e(14841),c=1/0,u=17976931348623157e292;function v(O){if(!O)return O===0?O:0;if(O=n(O),O===c||O===-c){var y=O<0?-1:1;return y*u}return O===O?O:0}j.exports=v},40554:(j,l,e)=>{var n=e(18601);function c(u){var v=n(u),O=v%1;return v===v?O?v-O:v:0}j.exports=c},14841:(j,l,e)=>{var n=e(27561),c=e(13218),u=e(33448),v=0/0,O=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,E=/^0o[0-7]+$/i,d=parseInt;function g(P){if(typeof P=="number")return P;if(u(P))return v;if(c(P)){var S=typeof P.valueOf=="function"?P.valueOf():P;P=c(S)?S+"":S}if(typeof P!="string")return P===0?P:+P;P=n(P);var T=y.test(P);return T||E.test(P)?d(P.slice(2),T?2:8):O.test(P)?v:+P}j.exports=g},79833:(j,l,e)=>{var n=e(80531);function c(u){return u==null?"":n(u)}j.exports=c},44908:(j,l,e)=>{var n=e(45652);function c(u){return u&&u.length?n(u):[]}j.exports=c},73955:(j,l,e)=>{var n=e(79833),c=0;function u(v){var O=++c;return n(v)+O}j.exports=u},11700:(j,l,e)=>{var n=e(98805),c=n("toUpperCase");j.exports=c},82569:(j,l,e)=>{var n=e(20731),c=e(5976),u=e(29246),v=c(function(O,y){return u(O)?n(O,y):[]});j.exports=v},58748:(j,l,e)=>{var n=e(49029),c=e(93157),u=e(79833),v=e(2757);function O(y,E,d){return y=u(y),E=d?void 0:E,E===void 0?c(y)?v(y):n(y):y.match(E)||[]}j.exports=O},87021:(j,l,e)=>{"use strict";e.d(l,{Z:()=>v});var n=e(6400),c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};const u=O=>O.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v=(O,y)=>{const E=p=>{var i=p,{color:d="currentColor",size:g=24,strokeWidth:P=2,absoluteStrokeWidth:S,children:T}=i,C=Or(i,["color","size","strokeWidth","absoluteStrokeWidth","children"]);return(0,n.h)("svg",or(no(or({},c),{width:String(g),height:g,stroke:d,["stroke-width"]:S?Number(P)*24/Number(g):P,class:`lucide lucide-${u(O)}`}),C),[...y.map(([s,_])=>(0,n.h)(s,_)),...(0,n.toChildArray)(T)])};return E.displayName=`${O}`,E}},4675:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("ArrowLeftRight",[["polyline",{points:"17 11 21 7 17 3",key:"l3l6r3"}],["line",{x1:"21",x2:"9",y1:"7",y2:"7",key:"ubux2p"}],["polyline",{points:"7 21 3 17 7 13",key:"lfumnw"}],["line",{x1:"15",x2:"3",y1:"17",y2:"17",key:"1iqtwg"}]])},66298:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("ArrowUpRight",[["line",{x1:"7",x2:"17",y1:"17",y2:"7",key:"11kluq"}],["polyline",{points:"7 7 17 7 17 17",key:"blehsp"}]])},88812:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"4.93",x2:"19.07",y1:"4.93",y2:"19.07",key:"1thnyu"}]])},18794:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("BookmarkMinus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]])},13808:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},25380:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},49336:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]])},56743:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("ChevronLeft",[["polyline",{points:"15 18 9 12 15 6",key:"kvxz59"}]])},2564:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]])},71212:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},23237:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Edit2",[["path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z",key:"2s2c1q"}]])},47641:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Edit",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",key:"1cs3r3"}]])},65207:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},23260:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},77951:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("FileVolume",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v3",key:"am10z3"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m7 10-3 2H2v4h2l3 2v-8Z",key:"tazg57"}],["path",{d:"M11 11c.64.8 1 1.87 1 3s-.36 2.2-1 3",key:"1yej3m"}]])},5149:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]])},8618:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},19237:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},65445:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},99869:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},13639:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},67358:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},7617:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},95951:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Milestone",[["path",{d:"M18 6H5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h13l4-3.5L18 6Z",key:"1mp5s7"}],["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M12 3v3",key:"1n5kay"}]])},80587:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},922:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]])},32224:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]])},74655:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("RefreshCw",[["path",{d:"M21 2v6h-6",key:"1lwg0q"}],["path",{d:"M3 12a9 9 0 0 1 15-6.7L21 8",key:"vaktt2"}],["path",{d:"M3 22v-6h6",key:"6llvyv"}],["path",{d:"M21 12a9 9 0 0 1-15 6.7L3 16",key:"i52hsp"}]])},53716:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]])},25425:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("RotateCcw",[["path",{d:"M3 2v6h6",key:"18ldww"}],["path",{d:"M3 13a9 9 0 1 0 3-7.7L3 8",key:"aahkch"}]])},40423:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["line",{x1:"20",x2:"8.12",y1:"4",y2:"15.88",key:"3m06te"}],["line",{x1:"14.47",x2:"20",y1:"14.48",y2:"20",key:"117692"}],["line",{x1:"8.12",x2:"12",y1:"8.12",y2:"12",key:"1oaf4y"}]])},28596:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Send",[["line",{x1:"22",x2:"11",y1:"2",y2:"13",key:"2qtwb"}],["polygon",{points:"22 2 15 22 11 13 2 9 22 2",key:"12uapv"}]])},31131:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]])},75500:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Subtitles",[["path",{d:"M7 13h4",key:"1m1xj0"}],["path",{d:"M15 13h2",key:"vgjay3"}],["path",{d:"M7 9h2",key:"1q072n"}],["path",{d:"M13 9h4",key:"o7fxw0"}],["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10Z",key:"12yqn6"}]])},66440:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},17048:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},49770:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},98961:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},81108:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]])},71375:(j,l,e)=>{"use strict";e.d(l,{Z:()=>c});var n=e(87021);const c=(0,n.Z)("X",[["line",{x1:"18",x2:"6",y1:"6",y2:"18",key:"15jfxm"}],["line",{x1:"6",x2:"18",y1:"6",y2:"18",key:"d1lma3"}]])},63924:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={pointer:"frontend-components-Facepile-module__pointer--SkgIP",faces:"frontend-components-Facepile-module__faces--FVkdk","size-40":"frontend-components-Facepile-module__size-40--pH6IT","size-32":"frontend-components-Facepile-module__size-32--IajS_",face:"frontend-components-Facepile-module__face--uAQkp",first:"frontend-components-Facepile-module__first--TZamh",last:"frontend-components-Facepile-module__last--DT3p3",elevated:"frontend-components-Facepile-module__elevated--Cn7L9",avatar:"frontend-components-Facepile-module__avatar--VS2Ls",avatarOther:"frontend-components-Facepile-module__avatarOther--DCokj",avatarOtherIcon:"frontend-components-Facepile-module__avatarOtherIcon--zdppg",link:"frontend-components-Facepile-module__link--kCCMS",column:"frontend-components-Facepile-module__column--mfbca",row:"frontend-components-Facepile-module__row--CRJ4b",button:"frontend-components-Facepile-module__button--x3ldc"}},45048:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={imageGroup:"frontend-components-ImageGroup-module__imageGroup--N55yp","size-1":"frontend-components-ImageGroup-module__size-1--EVxKh",image:"frontend-components-ImageGroup-module__image--cgeFj","size-2":"frontend-components-ImageGroup-module__size-2--kYsLh","size-4":"frontend-components-ImageGroup-module__size-4--sTBe7","size-3":"frontend-components-ImageGroup-module__size-3--LQidT","size-5":"frontend-components-ImageGroup-module__size-5--SiIKW","size-6":"frontend-components-ImageGroup-module__size-6--iu7m1",restack:"frontend-components-ImageGroup-module__restack--sb0nG",preview:"frontend-components-ImageGroup-module__preview--aPqb2",topLeft:"frontend-components-ImageGroup-module__topLeft--I8LpZ",topRight:"frontend-components-ImageGroup-module__topRight--C1nVv",bottomLeft:"frontend-components-ImageGroup-module__bottomLeft--HTMkw",bottomLeftChat:"frontend-components-ImageGroup-module__bottomLeftChat--NyOFh",bottomRight:"frontend-components-ImageGroup-module__bottomRight--ow5mf",clickable:"frontend-components-ImageGroup-module__clickable--Px1BR",imageCount:"frontend-components-ImageGroup-module__imageCount--UiE8S"}},96656:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={root:"frontend-components-PressKitImage-module__root--ERwr7",rootHover:"frontend-components-PressKitImage-module__rootHover--fJrni",image:"frontend-components-PressKitImage-module__image--MPbfI",linkHovered:"frontend-components-PressKitImage-module__linkHovered--oOjNU",download:"frontend-components-PressKitImage-module__download--qS9sv",sharePage:"frontend-components-PressKitImage-module__sharePage--vXr1v",tableRoot:"frontend-components-PressKitImage-module__tableRoot--UpSpd",link:"frontend-components-PressKitImage-module__link--rLFgG",linkVariableHeight:"frontend-components-PressKitImage-module__linkVariableHeight--G6yJi",inline:"frontend-components-PressKitImage-module__inline--zFs8S",secondaryBorder:"frontend-components-PressKitImage-module__secondaryBorder--gmc0v",imageLoading:"frontend-components-PressKitImage-module__imageLoading--QMvSN",imageEmail:"frontend-components-PressKitImage-module__imageEmail--AKxV9",text:"frontend-components-PressKitImage-module__text--qms7L",buttons:"frontend-components-PressKitImage-module__buttons--osRDg",button:"frontend-components-PressKitImage-module__button--lJz1y"}},68262:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={pubTheme:"frontend-components-PubTheme-module__pubTheme--Vew50"}},78137:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={customizeAssetButton:"frontend-components-ShareAssetButtons-module__customizeAssetButton--Z1M6A",aspectTypeButton:"frontend-components-ShareAssetButtons-module__aspectTypeButton--L1tHI",aspectRatioButton:"frontend-components-ShareAssetButtons-module__aspectRatioButton--HCQZ2",selected:"frontend-components-ShareAssetButtons-module__selected--UfFTT",themeButton:"frontend-components-ShareAssetButtons-module__themeButton--TOYVN",imageBg:"frontend-components-ShareAssetButtons-module__imageBg--lPKv3",inner:"frontend-components-ShareAssetButtons-module__inner--uSJc8"}},71054:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={containerInline:"frontend-components-VideoClipperControls-module__containerInline--PBQ9a",containerElevated:"frontend-components-VideoClipperControls-module__containerElevated--Ur3YY",videoTrimmerWrapper:"frontend-components-VideoClipperControls-module__videoTrimmerWrapper--qFT6n",videoTrimmerSlider:"frontend-components-VideoClipperControls-module__videoTrimmerSlider--R29Jd",videoTrimmerSliderVisible:"frontend-components-VideoClipperControls-module__videoTrimmerSliderVisible--Ypk4j",durationContainer:"frontend-components-VideoClipperControls-module__durationContainer--zcjI8",captionsAvailable:"frontend-components-VideoClipperControls-module__captionsAvailable--qv0Os",captionsNotAvailable:"frontend-components-VideoClipperControls-module__captionsNotAvailable--V49Zk"}},45690:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={portalWrapper:"frontend-components-interactive_tooltip-module__portalWrapper--hh2mD",contentWrapper:"frontend-components-interactive_tooltip-module__contentWrapper--oIpj1",contentWrapperShown:"frontend-components-interactive_tooltip-module__contentWrapperShown--eG_iF"}},61247:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={img:"frontend-components-responsive_img-module__img--Pgjj2","object-fit-cover":"frontend-components-responsive_img-module__object-fit-cover--l2ul8"}},11321:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={followButton:"frontend-contexts-feedFollows-module__followButton--rTqht",on:"frontend-contexts-feedFollows-module__on--KoBsr",justFollowed:"frontend-contexts-feedFollows-module__justFollowed--_lHDs",off:"frontend-contexts-feedFollows-module__off--UyHQE"}},18932:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={learnMoreChip:"frontend-editor-post-settings-help_tooltip-module__learnMoreChip--VsAGv"}},33970:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={showAnyway:"frontend-feed-ExplicitFilter-module__showAnyway--Kq9PY"}},17163:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={root:"frontend-pencraft-ActionSheet-module__root--XmJTE",sheet:"frontend-pencraft-ActionSheet-module__sheet--QDxYu",item:"frontend-pencraft-ActionSheet-module__item--kzs2M",destructive:"frontend-pencraft-ActionSheet-module__destructive--TNbOc",relative:"frontend-pencraft-ActionSheet-module__relative--WOknO"}},19206:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={reset:"frontend-pencraft-Box-module__reset--VfQY8","display-block":"frontend-pencraft-Box-module__display-block--lluJR","display-inline":"frontend-pencraft-Box-module__display-inline--UP8rE","display-inline-block":"frontend-pencraft-Box-module__display-inline-block--x7tGd","display-flex":"frontend-pencraft-Box-module__display-flex--ZqeZt","display-inline-flex":"frontend-pencraft-Box-module__display-inline-flex--ZE941","display-none":"frontend-pencraft-Box-module__display-none--DZ2wU","position-relative":"frontend-pencraft-Box-module__position-relative--QdxKA","position-absolute":"frontend-pencraft-Box-module__position-absolute--CHoAs","inset-0":"frontend-pencraft-Box-module__inset-0--fNqpm","cursor-pointer":"frontend-pencraft-Box-module__cursor-pointer--pPhQZ","flex-direction-column":"frontend-pencraft-Box-module__flex-direction-column--Rq7pk","flex-direction-row":"frontend-pencraft-Box-module__flex-direction-row--s2PZ1","flex-direction-row-reverse":"frontend-pencraft-Box-module__flex-direction-row-reverse--oFiiL","flex-direction-column-reverse":"frontend-pencraft-Box-module__flex-direction-column-reverse--thxnd","flex-wrap-nowrap":"frontend-pencraft-Box-module__flex-wrap-nowrap--WI0rj","flex-wrap-wrap":"frontend-pencraft-Box-module__flex-wrap-wrap--U7KAu","flex-wrap-wrap-reverse":"frontend-pencraft-Box-module__flex-wrap-wrap-reverse--dau9W","flex-justify-start":"frontend-pencraft-Box-module__flex-justify-start--_8fEd","flex-justify-space-between":"frontend-pencraft-Box-module__flex-justify-space-between--NvIcg","flex-justify-center":"frontend-pencraft-Box-module__flex-justify-center--SQPji","flex-justify-end":"frontend-pencraft-Box-module__flex-justify-end--lwKjM","flex-align-start":"frontend-pencraft-Box-module__flex-align-start--MkgIa","flex-align-end":"frontend-pencraft-Box-module__flex-align-end--_zZdC","flex-align-center":"frontend-pencraft-Box-module__flex-align-center--rSd6h","flex-align-stretch":"frontend-pencraft-Box-module__flex-align-stretch--g0Yna","flex-align-baseline":"frontend-pencraft-Box-module__flex-align-baseline--GQEEw","flex-align-self-start":"frontend-pencraft-Box-module__flex-align-self-start--QhlBL","flex-align-self-end":"frontend-pencraft-Box-module__flex-align-self-end--ygpwW","flex-align-self-center":"frontend-pencraft-Box-module__flex-align-self-center--XMhN_","flex-align-self-stretch":"frontend-pencraft-Box-module__flex-align-self-stretch--ZV59d","flex-align-self-baseline":"frontend-pencraft-Box-module__flex-align-self-baseline--omwPY","flex-gap-0":"frontend-pencraft-Box-module__flex-gap-0--WL4Xc","flex-gap-2":"frontend-pencraft-Box-module__flex-gap-2--i3DJs","flex-gap-4":"frontend-pencraft-Box-module__flex-gap-4--zeW5_","flex-gap-6":"frontend-pencraft-Box-module__flex-gap-6--lHgtr","flex-gap-8":"frontend-pencraft-Box-module__flex-gap-8--HFpIK","flex-gap-12":"frontend-pencraft-Box-module__flex-gap-12--rODKq","flex-gap-16":"frontend-pencraft-Box-module__flex-gap-16--TpblU","flex-gap-20":"frontend-pencraft-Box-module__flex-gap-20--WPlD2","flex-gap-24":"frontend-pencraft-Box-module__flex-gap-24--bAb43","flex-gap-32":"frontend-pencraft-Box-module__flex-gap-32--uRr14","flex-gap-36":"frontend-pencraft-Box-module__flex-gap-36--Kpg6P","flex-gap-40":"frontend-pencraft-Box-module__flex-gap-40--AvPvJ","flex-gap-48":"frontend-pencraft-Box-module__flex-gap-48--Sbb_i","flex-gap-56":"frontend-pencraft-Box-module__flex-gap-56--of5i3","flex-gap-64":"frontend-pencraft-Box-module__flex-gap-64--dzjmF","flex-gap-80":"frontend-pencraft-Box-module__flex-gap-80--jHDvi","flex-gap-96":"frontend-pencraft-Box-module__flex-gap-96--heAIr","flex-gap-120":"frontend-pencraft-Box-module__flex-gap-120--iB6Cx","opacity-0":"frontend-pencraft-Box-module__opacity-0--Y_s50","opacity-10":"frontend-pencraft-Box-module__opacity-10--EwN5B","opacity-20":"frontend-pencraft-Box-module__opacity-20--o5IIa","opacity-30":"frontend-pencraft-Box-module__opacity-30--fDdpc","opacity-40":"frontend-pencraft-Box-module__opacity-40--WWTjT","opacity-50":"frontend-pencraft-Box-module__opacity-50--ZMdqb","opacity-60":"frontend-pencraft-Box-module__opacity-60--EiZUF","opacity-70":"frontend-pencraft-Box-module__opacity-70--wk23G","opacity-80":"frontend-pencraft-Box-module__opacity-80--KRnBG","opacity-90":"frontend-pencraft-Box-module__opacity-90--zvLgR","opacity-100":"frontend-pencraft-Box-module__opacity-100--AmCfO","padding-0":"frontend-pencraft-Box-module__padding-0--F3S1v","padding-4":"frontend-pencraft-Box-module__padding-4--KlLyn","padding-6":"frontend-pencraft-Box-module__padding-6--_Mjv2","padding-8":"frontend-pencraft-Box-module__padding-8--wF5Sz","padding-12":"frontend-pencraft-Box-module__padding-12--jTMsq","padding-16":"frontend-pencraft-Box-module__padding-16--n240L","padding-20":"frontend-pencraft-Box-module__padding-20--yVUtG","padding-24":"frontend-pencraft-Box-module__padding-24--ZJr5O","padding-32":"frontend-pencraft-Box-module__padding-32--IeG12","padding-40":"frontend-pencraft-Box-module__padding-40--IAcQ9","padding-48":"frontend-pencraft-Box-module__padding-48--aMnjo","padding-56":"frontend-pencraft-Box-module__padding-56--am1eN","padding-64":"frontend-pencraft-Box-module__padding-64--xeXXX","padding-80":"frontend-pencraft-Box-module__padding-80--th3sr","padding-120":"frontend-pencraft-Box-module__padding-120--RXYMO","padding-y-0":"frontend-pencraft-Box-module__padding-y-0--rxzTp","padding-y-4":"frontend-pencraft-Box-module__padding-y-4--dGugw","padding-y-6":"frontend-pencraft-Box-module__padding-y-6--taKGa","padding-y-8":"frontend-pencraft-Box-module__padding-y-8--exiCC","padding-y-12":"frontend-pencraft-Box-module__padding-y-12--JVW4L","padding-y-16":"frontend-pencraft-Box-module__padding-y-16--ohCEm","padding-y-20":"frontend-pencraft-Box-module__padding-y-20--FoUpX","padding-y-24":"frontend-pencraft-Box-module__padding-y-24--T7KvM","padding-y-32":"frontend-pencraft-Box-module__padding-y-32--tBjpu","padding-y-36":"frontend-pencraft-Box-module__padding-y-36--O9qPD","padding-y-40":"frontend-pencraft-Box-module__padding-y-40--uSHVb","padding-y-48":"frontend-pencraft-Box-module__padding-y-48--eNCBL","padding-y-56":"frontend-pencraft-Box-module__padding-y-56--oRNr_","padding-y-64":"frontend-pencraft-Box-module__padding-y-64--ft4ED","padding-y-80":"frontend-pencraft-Box-module__padding-y-80--bsHus","padding-y-120":"frontend-pencraft-Box-module__padding-y-120--_BaEr","padding-x-0":"frontend-pencraft-Box-module__padding-x-0--oMCXf","padding-x-4":"frontend-pencraft-Box-module__padding-x-4--KtJM6","padding-x-6":"frontend-pencraft-Box-module__padding-x-6--jB65n","padding-x-8":"frontend-pencraft-Box-module__padding-x-8--FGPm5","padding-x-12":"frontend-pencraft-Box-module__padding-x-12--uAeGi","padding-x-16":"frontend-pencraft-Box-module__padding-x-16--q3Pnm","padding-x-20":"frontend-pencraft-Box-module__padding-x-20--v_X8l","padding-x-24":"frontend-pencraft-Box-module__padding-x-24--ViY5j","padding-x-32":"frontend-pencraft-Box-module__padding-x-32--MSogp","padding-x-40":"frontend-pencraft-Box-module__padding-x-40--NnqyG","padding-x-48":"frontend-pencraft-Box-module__padding-x-48--HTG4n","padding-x-56":"frontend-pencraft-Box-module__padding-x-56--V6qbT","padding-x-64":"frontend-pencraft-Box-module__padding-x-64--J1cac","padding-x-80":"frontend-pencraft-Box-module__padding-x-80--J4j87","padding-x-120":"frontend-pencraft-Box-module__padding-x-120--ZPgFJ","padding-top-0":"frontend-pencraft-Box-module__padding-top-0--PRqVY","padding-top-4":"frontend-pencraft-Box-module__padding-top-4--x0RDa","padding-top-6":"frontend-pencraft-Box-module__padding-top-6--DGztk","padding-top-8":"frontend-pencraft-Box-module__padding-top-8--VHq_j","padding-top-12":"frontend-pencraft-Box-module__padding-top-12--RJQ3b","padding-top-16":"frontend-pencraft-Box-module__padding-top-16--fCxei","padding-top-20":"frontend-pencraft-Box-module__padding-top-20--bpJwI","padding-top-24":"frontend-pencraft-Box-module__padding-top-24--hC6Qh","padding-top-32":"frontend-pencraft-Box-module__padding-top-32--hE9Ly","padding-top-36":"frontend-pencraft-Box-module__padding-top-36--gzQCl","padding-top-40":"frontend-pencraft-Box-module__padding-top-40--uBMFI","padding-top-48":"frontend-pencraft-Box-module__padding-top-48--kMReU","padding-top-56":"frontend-pencraft-Box-module__padding-top-56--dczMQ","padding-top-64":"frontend-pencraft-Box-module__padding-top-64--cd1qd","padding-top-80":"frontend-pencraft-Box-module__padding-top-80--eZ0fE","padding-top-120":"frontend-pencraft-Box-module__padding-top-120--vfrci","padding-bottom-0":"frontend-pencraft-Box-module__padding-bottom-0--uJZ7B","padding-bottom-4":"frontend-pencraft-Box-module__padding-bottom-4--OFOny","padding-bottom-6":"frontend-pencraft-Box-module__padding-bottom-6--Tlz5i","padding-bottom-8":"frontend-pencraft-Box-module__padding-bottom-8--mTu10","padding-bottom-12":"frontend-pencraft-Box-module__padding-bottom-12--dTAvV","padding-bottom-16":"frontend-pencraft-Box-module__padding-bottom-16--KVxKv","padding-bottom-20":"frontend-pencraft-Box-module__padding-bottom-20--xSkS9","padding-bottom-24":"frontend-pencraft-Box-module__padding-bottom-24--drRLc","padding-bottom-32":"frontend-pencraft-Box-module__padding-bottom-32--aGRIB","padding-bottom-40":"frontend-pencraft-Box-module__padding-bottom-40--_oo6b","padding-bottom-48":"frontend-pencraft-Box-module__padding-bottom-48--ONDjp","padding-bottom-56":"frontend-pencraft-Box-module__padding-bottom-56--zLgG0","padding-bottom-64":"frontend-pencraft-Box-module__padding-bottom-64--jnone","padding-bottom-80":"frontend-pencraft-Box-module__padding-bottom-80--R2shQ","padding-bottom-120":"frontend-pencraft-Box-module__padding-bottom-120--xScwg","padding-left-0":"frontend-pencraft-Box-module__padding-left-0--_fdq5","padding-left-4":"frontend-pencraft-Box-module__padding-left-4--xHkhe","padding-left-6":"frontend-pencraft-Box-module__padding-left-6--i3yO2","padding-left-8":"frontend-pencraft-Box-module__padding-left-8--ci2Dl","padding-left-12":"frontend-pencraft-Box-module__padding-left-12--eE6bp","padding-left-16":"frontend-pencraft-Box-module__padding-left-16--BDsWV","padding-left-20":"frontend-pencraft-Box-module__padding-left-20--BD8wa","padding-left-24":"frontend-pencraft-Box-module__padding-left-24--b11Zo","padding-left-32":"frontend-pencraft-Box-module__padding-left-32--BAj7w","padding-left-40":"frontend-pencraft-Box-module__padding-left-40--b2JNE","padding-left-48":"frontend-pencraft-Box-module__padding-left-48--oHoKK","padding-left-56":"frontend-pencraft-Box-module__padding-left-56--pmJGh","padding-left-64":"frontend-pencraft-Box-module__padding-left-64--Ob2OF","padding-left-80":"frontend-pencraft-Box-module__padding-left-80--z2UJ5","padding-left-96":"frontend-pencraft-Box-module__padding-left-96--gfeL6","padding-left-120":"frontend-pencraft-Box-module__padding-left-120--EJgoJ","padding-right-0":"frontend-pencraft-Box-module__padding-right-0--yke0B","padding-right-4":"frontend-pencraft-Box-module__padding-right-4--hKLg1","padding-right-6":"frontend-pencraft-Box-module__padding-right-6--Lht9u","padding-right-8":"frontend-pencraft-Box-module__padding-right-8--smNvs","padding-right-12":"frontend-pencraft-Box-module__padding-right-12--_sPKw","padding-right-16":"frontend-pencraft-Box-module__padding-right-16--zD2yo","padding-right-20":"frontend-pencraft-Box-module__padding-right-20--YeNhQ","padding-right-24":"frontend-pencraft-Box-module__padding-right-24--KuK8G","padding-right-32":"frontend-pencraft-Box-module__padding-right-32--VV1h6","padding-right-40":"frontend-pencraft-Box-module__padding-right-40--oArMW","padding-right-48":"frontend-pencraft-Box-module__padding-right-48--N0JmY","padding-right-56":"frontend-pencraft-Box-module__padding-right-56--uXWcM","padding-right-64":"frontend-pencraft-Box-module__padding-right-64--gw8yC","padding-right-80":"frontend-pencraft-Box-module__padding-right-80--pjvSn","padding-right-120":"frontend-pencraft-Box-module__padding-right-120--q8k5G","pointer-events-none":"frontend-pencraft-Box-module__pointer-events-none--UsET_","display-mobile-block":"frontend-pencraft-Box-module__display-mobile-block--Aect2","display-mobile-inline":"frontend-pencraft-Box-module__display-mobile-inline--N1KZU","display-mobile-inline-block":"frontend-pencraft-Box-module__display-mobile-inline-block--XxyXq","display-mobile-flex":"frontend-pencraft-Box-module__display-mobile-flex--orVE9","display-mobile-inline-flex":"frontend-pencraft-Box-module__display-mobile-inline-flex--sD9mj","display-mobile-none":"frontend-pencraft-Box-module__display-mobile-none--BJhKW","flex-direction-mobile-column":"frontend-pencraft-Box-module__flex-direction-mobile-column--Mc9OW","flex-direction-mobile-row":"frontend-pencraft-Box-module__flex-direction-mobile-row--C4tyc","flex-direction-mobile-row-reverse":"frontend-pencraft-Box-module__flex-direction-mobile-row-reverse--TKJLF","flex-direction-mobile-column-reverse":"frontend-pencraft-Box-module__flex-direction-mobile-column-reverse--LYrMu","flex-wrap-mobile-nowrap":"frontend-pencraft-Box-module__flex-wrap-mobile-nowrap--O3kRJ","flex-wrap-mobile-wrap":"frontend-pencraft-Box-module__flex-wrap-mobile-wrap--ibIMl","flex-wrap-mobile-wrap-reverse":"frontend-pencraft-Box-module__flex-wrap-mobile-wrap-reverse--OAIbg","flex-justify-mobile-start":"frontend-pencraft-Box-module__flex-justify-mobile-start--j7ZWw","flex-justify-mobile-space-between":"frontend-pencraft-Box-module__flex-justify-mobile-space-between--rbTka","flex-justify-mobile-center":"frontend-pencraft-Box-module__flex-justify-mobile-center--mxdv8","flex-justify-mobile-end":"frontend-pencraft-Box-module__flex-justify-mobile-end--tCUqU","flex-align-mobile-start":"frontend-pencraft-Box-module__flex-align-mobile-start--VytyY","flex-align-mobile-end":"frontend-pencraft-Box-module__flex-align-mobile-end--jxhdF","flex-align-mobile-center":"frontend-pencraft-Box-module__flex-align-mobile-center--wCqEB","flex-align-mobile-stretch":"frontend-pencraft-Box-module__flex-align-mobile-stretch--dcRgL","flex-align-mobile-baseline":"frontend-pencraft-Box-module__flex-align-mobile-baseline--f2QMh","flex-gap-mobile-0":"frontend-pencraft-Box-module__flex-gap-mobile-0--rhTqq","flex-gap-mobile-2":"frontend-pencraft-Box-module__flex-gap-mobile-2--JjRRa","flex-gap-mobile-4":"frontend-pencraft-Box-module__flex-gap-mobile-4--mRU_f","flex-gap-mobile-6":"frontend-pencraft-Box-module__flex-gap-mobile-6--ILgAN","flex-gap-mobile-8":"frontend-pencraft-Box-module__flex-gap-mobile-8--KyRud","flex-gap-mobile-12":"frontend-pencraft-Box-module__flex-gap-mobile-12--cAee1","flex-gap-mobile-16":"frontend-pencraft-Box-module__flex-gap-mobile-16--oMFvQ","flex-gap-mobile-20":"frontend-pencraft-Box-module__flex-gap-mobile-20--Q7L1k","flex-gap-mobile-24":"frontend-pencraft-Box-module__flex-gap-mobile-24--gxEQk","flex-gap-mobile-32":"frontend-pencraft-Box-module__flex-gap-mobile-32--ltu7c","flex-gap-mobile-40":"frontend-pencraft-Box-module__flex-gap-mobile-40--S6ZC7","flex-gap-mobile-48":"frontend-pencraft-Box-module__flex-gap-mobile-48--klvz2","flex-gap-mobile-56":"frontend-pencraft-Box-module__flex-gap-mobile-56--OvGtj","flex-gap-mobile-64":"frontend-pencraft-Box-module__flex-gap-mobile-64--wMXeg","flex-gap-mobile-80":"frontend-pencraft-Box-module__flex-gap-mobile-80--dtOoW","flex-gap-mobile-96":"frontend-pencraft-Box-module__flex-gap-mobile-96--ZFddh","flex-gap-mobile-120":"frontend-pencraft-Box-module__flex-gap-mobile-120--FF8So","opacity-mobile-0":"frontend-pencraft-Box-module__opacity-mobile-0--xNs9R","opacity-mobile-10":"frontend-pencraft-Box-module__opacity-mobile-10--FX2Gn","opacity-mobile-20":"frontend-pencraft-Box-module__opacity-mobile-20--dCr4l","opacity-mobile-30":"frontend-pencraft-Box-module__opacity-mobile-30--GGXZ8","opacity-mobile-40":"frontend-pencraft-Box-module__opacity-mobile-40--L1pMb","opacity-mobile-50":"frontend-pencraft-Box-module__opacity-mobile-50--XPJxh","opacity-mobile-60":"frontend-pencraft-Box-module__opacity-mobile-60--_MnGM","opacity-mobile-70":"frontend-pencraft-Box-module__opacity-mobile-70--eN3I9","opacity-mobile-80":"frontend-pencraft-Box-module__opacity-mobile-80--lDYmk","opacity-mobile-90":"frontend-pencraft-Box-module__opacity-mobile-90--p4Rfx","opacity-mobile-100":"frontend-pencraft-Box-module__opacity-mobile-100--OGair","padding-mobile-0":"frontend-pencraft-Box-module__padding-mobile-0--pHHdL","padding-mobile-4":"frontend-pencraft-Box-module__padding-mobile-4--hhaLE","padding-mobile-6":"frontend-pencraft-Box-module__padding-mobile-6--ysaO9","padding-mobile-8":"frontend-pencraft-Box-module__padding-mobile-8--qBaDC","padding-mobile-12":"frontend-pencraft-Box-module__padding-mobile-12--yamxD","padding-mobile-16":"frontend-pencraft-Box-module__padding-mobile-16--WwNhz","padding-mobile-20":"frontend-pencraft-Box-module__padding-mobile-20--pdIFk","padding-mobile-24":"frontend-pencraft-Box-module__padding-mobile-24--dws4N","padding-mobile-32":"frontend-pencraft-Box-module__padding-mobile-32--q99bY","padding-mobile-40":"frontend-pencraft-Box-module__padding-mobile-40--N3CX8","padding-mobile-48":"frontend-pencraft-Box-module__padding-mobile-48--Zp2aA","padding-mobile-56":"frontend-pencraft-Box-module__padding-mobile-56--yaf6_","padding-mobile-64":"frontend-pencraft-Box-module__padding-mobile-64--QBktp","padding-mobile-80":"frontend-pencraft-Box-module__padding-mobile-80--mlEKm","padding-mobile-120":"frontend-pencraft-Box-module__padding-mobile-120--u2BT7","padding-y-mobile-0":"frontend-pencraft-Box-module__padding-y-mobile-0--l1XHn","padding-y-mobile-4":"frontend-pencraft-Box-module__padding-y-mobile-4--NGnYk","padding-y-mobile-6":"frontend-pencraft-Box-module__padding-y-mobile-6--e_Z74","padding-y-mobile-8":"frontend-pencraft-Box-module__padding-y-mobile-8--q24xz","padding-y-mobile-12":"frontend-pencraft-Box-module__padding-y-mobile-12--WcL2J","padding-y-mobile-16":"frontend-pencraft-Box-module__padding-y-mobile-16--dydMQ","padding-y-mobile-20":"frontend-pencraft-Box-module__padding-y-mobile-20--XCF1X","padding-y-mobile-24":"frontend-pencraft-Box-module__padding-y-mobile-24--b5BI9","padding-y-mobile-32":"frontend-pencraft-Box-module__padding-y-mobile-32--DdQKj","padding-y-mobile-40":"frontend-pencraft-Box-module__padding-y-mobile-40--ejJzM","padding-y-mobile-48":"frontend-pencraft-Box-module__padding-y-mobile-48--AcvqS","padding-y-mobile-56":"frontend-pencraft-Box-module__padding-y-mobile-56--jaNbX","padding-y-mobile-64":"frontend-pencraft-Box-module__padding-y-mobile-64--g85Ek","padding-y-mobile-80":"frontend-pencraft-Box-module__padding-y-mobile-80--guBcX","padding-y-mobile-120":"frontend-pencraft-Box-module__padding-y-mobile-120--cb6H3","padding-x-mobile-0":"frontend-pencraft-Box-module__padding-x-mobile-0--sLHt8","padding-x-mobile-4":"frontend-pencraft-Box-module__padding-x-mobile-4--D_vuF","padding-x-mobile-6":"frontend-pencraft-Box-module__padding-x-mobile-6--MK5v1","padding-x-mobile-8":"frontend-pencraft-Box-module__padding-x-mobile-8--SLqFj","padding-x-mobile-12":"frontend-pencraft-Box-module__padding-x-mobile-12--wQTg5","padding-x-mobile-16":"frontend-pencraft-Box-module__padding-x-mobile-16--qz0qN","padding-x-mobile-20":"frontend-pencraft-Box-module__padding-x-mobile-20--hhZQr","padding-x-mobile-24":"frontend-pencraft-Box-module__padding-x-mobile-24--voGHV","padding-x-mobile-32":"frontend-pencraft-Box-module__padding-x-mobile-32--UTs6w","padding-x-mobile-40":"frontend-pencraft-Box-module__padding-x-mobile-40--aJowh","padding-x-mobile-48":"frontend-pencraft-Box-module__padding-x-mobile-48--GBmBD","padding-x-mobile-56":"frontend-pencraft-Box-module__padding-x-mobile-56--DOGvg","padding-x-mobile-64":"frontend-pencraft-Box-module__padding-x-mobile-64--kCK6W","padding-x-mobile-80":"frontend-pencraft-Box-module__padding-x-mobile-80--blnxY","padding-x-mobile-120":"frontend-pencraft-Box-module__padding-x-mobile-120--rkiYK","padding-top-mobile-0":"frontend-pencraft-Box-module__padding-top-mobile-0--oJ6mc","padding-top-mobile-4":"frontend-pencraft-Box-module__padding-top-mobile-4--QomAL","padding-top-mobile-6":"frontend-pencraft-Box-module__padding-top-mobile-6--c6qnp","padding-top-mobile-8":"frontend-pencraft-Box-module__padding-top-mobile-8--aLZhy","padding-top-mobile-12":"frontend-pencraft-Box-module__padding-top-mobile-12--uwKuV","padding-top-mobile-16":"frontend-pencraft-Box-module__padding-top-mobile-16--fjFPO","padding-top-mobile-20":"frontend-pencraft-Box-module__padding-top-mobile-20--m6L88","padding-top-mobile-24":"frontend-pencraft-Box-module__padding-top-mobile-24--pNohc","padding-top-mobile-32":"frontend-pencraft-Box-module__padding-top-mobile-32--a0t_9","padding-top-mobile-40":"frontend-pencraft-Box-module__padding-top-mobile-40--HNzxh","padding-top-mobile-48":"frontend-pencraft-Box-module__padding-top-mobile-48--Oef7p","padding-top-mobile-56":"frontend-pencraft-Box-module__padding-top-mobile-56--YkvmY","padding-top-mobile-64":"frontend-pencraft-Box-module__padding-top-mobile-64--Pyh23","padding-top-mobile-80":"frontend-pencraft-Box-module__padding-top-mobile-80--IN5AZ","padding-top-mobile-120":"frontend-pencraft-Box-module__padding-top-mobile-120--QMG0v","padding-bottom-mobile-0":"frontend-pencraft-Box-module__padding-bottom-mobile-0--vznPS","padding-bottom-mobile-4":"frontend-pencraft-Box-module__padding-bottom-mobile-4--VMIm8","padding-bottom-mobile-6":"frontend-pencraft-Box-module__padding-bottom-mobile-6--LyDqa","padding-bottom-mobile-8":"frontend-pencraft-Box-module__padding-bottom-mobile-8--gCYaK","padding-bottom-mobile-12":"frontend-pencraft-Box-module__padding-bottom-mobile-12--jC0SK","padding-bottom-mobile-16":"frontend-pencraft-Box-module__padding-bottom-mobile-16--TDCHN","padding-bottom-mobile-20":"frontend-pencraft-Box-module__padding-bottom-mobile-20--KFFIi","padding-bottom-mobile-24":"frontend-pencraft-Box-module__padding-bottom-mobile-24--yZ5l3","padding-bottom-mobile-32":"frontend-pencraft-Box-module__padding-bottom-mobile-32--z_M2k","padding-bottom-mobile-40":"frontend-pencraft-Box-module__padding-bottom-mobile-40--KAzfp","padding-bottom-mobile-48":"frontend-pencraft-Box-module__padding-bottom-mobile-48--AxHJK","padding-bottom-mobile-56":"frontend-pencraft-Box-module__padding-bottom-mobile-56--L8HbC","padding-bottom-mobile-64":"frontend-pencraft-Box-module__padding-bottom-mobile-64--yY377","padding-bottom-mobile-80":"frontend-pencraft-Box-module__padding-bottom-mobile-80--jjWe_","padding-bottom-mobile-120":"frontend-pencraft-Box-module__padding-bottom-mobile-120--NMOpl","padding-left-mobile-0":"frontend-pencraft-Box-module__padding-left-mobile-0--rMgFb","padding-left-mobile-4":"frontend-pencraft-Box-module__padding-left-mobile-4--gRPK1","padding-left-mobile-6":"frontend-pencraft-Box-module__padding-left-mobile-6--F6a0d","padding-left-mobile-8":"frontend-pencraft-Box-module__padding-left-mobile-8--klUzH","padding-left-mobile-12":"frontend-pencraft-Box-module__padding-left-mobile-12--ZjRhu","padding-left-mobile-16":"frontend-pencraft-Box-module__padding-left-mobile-16--XZUYG","padding-left-mobile-20":"frontend-pencraft-Box-module__padding-left-mobile-20--cSAwz","padding-left-mobile-24":"frontend-pencraft-Box-module__padding-left-mobile-24--d6AYr","padding-left-mobile-32":"frontend-pencraft-Box-module__padding-left-mobile-32--lV0L6","padding-left-mobile-40":"frontend-pencraft-Box-module__padding-left-mobile-40--j1CUU","padding-left-mobile-48":"frontend-pencraft-Box-module__padding-left-mobile-48--fQOYm","padding-left-mobile-56":"frontend-pencraft-Box-module__padding-left-mobile-56--V3BCT","padding-left-mobile-64":"frontend-pencraft-Box-module__padding-left-mobile-64--mWcOm","padding-left-mobile-80":"frontend-pencraft-Box-module__padding-left-mobile-80--xZV_a","padding-left-mobile-120":"frontend-pencraft-Box-module__padding-left-mobile-120--rdhq4","padding-right-mobile-0":"frontend-pencraft-Box-module__padding-right-mobile-0--DVDzT","padding-right-mobile-4":"frontend-pencraft-Box-module__padding-right-mobile-4--MaDAB","padding-right-mobile-6":"frontend-pencraft-Box-module__padding-right-mobile-6--wZiyO","padding-right-mobile-8":"frontend-pencraft-Box-module__padding-right-mobile-8--VIDL8","padding-right-mobile-12":"frontend-pencraft-Box-module__padding-right-mobile-12--NBDZD","padding-right-mobile-16":"frontend-pencraft-Box-module__padding-right-mobile-16--PD1Dy","padding-right-mobile-20":"frontend-pencraft-Box-module__padding-right-mobile-20--V2Oc4","padding-right-mobile-24":"frontend-pencraft-Box-module__padding-right-mobile-24--L0KUi","padding-right-mobile-32":"frontend-pencraft-Box-module__padding-right-mobile-32--i7Z7o","padding-right-mobile-40":"frontend-pencraft-Box-module__padding-right-mobile-40--hvPRY","padding-right-mobile-48":"frontend-pencraft-Box-module__padding-right-mobile-48--zadfm","padding-right-mobile-56":"frontend-pencraft-Box-module__padding-right-mobile-56--CuM14","padding-right-mobile-64":"frontend-pencraft-Box-module__padding-right-mobile-64--MSA2_","padding-right-mobile-80":"frontend-pencraft-Box-module__padding-right-mobile-80--LUN5o","padding-right-mobile-120":"frontend-pencraft-Box-module__padding-right-mobile-120--KkeSn","pointer-events-mobile-none":"frontend-pencraft-Box-module__pointer-events-mobile-none--BXlgw","border-transparent":"frontend-pencraft-Box-module__border-transparent--zPqIf","border-top-transparent":"frontend-pencraft-Box-module__border-top-transparent--NH9Pp","border-bottom-transparent":"frontend-pencraft-Box-module__border-bottom-transparent--spbbj","border-left-transparent":"frontend-pencraft-Box-module__border-left-transparent--KjBt0","border-right-transparent":"frontend-pencraft-Box-module__border-right-transparent--_TydC","border-y-transparent":"frontend-pencraft-Box-module__border-y-transparent--ONzvg","border-detail":"frontend-pencraft-Box-module__border-detail--MiH57","border-top-detail":"frontend-pencraft-Box-module__border-top-detail--W9Yi4","border-bottom-detail":"frontend-pencraft-Box-module__border-bottom-detail--SbXzV","border-left-detail":"frontend-pencraft-Box-module__border-left-detail--KXtc0","border-right-detail":"frontend-pencraft-Box-module__border-right-detail--VmAfT","border-y-detail":"frontend-pencraft-Box-module__border-y-detail--UQJY8","border-detail-themed":"frontend-pencraft-Box-module__border-detail-themed--Mv1k0","border-top-detail-themed":"frontend-pencraft-Box-module__border-top-detail-themed--e17yZ","border-bottom-detail-themed":"frontend-pencraft-Box-module__border-bottom-detail-themed--eVwFY","border-left-detail-themed":"frontend-pencraft-Box-module__border-left-detail-themed--SLWvx","border-right-detail-themed":"frontend-pencraft-Box-module__border-right-detail-themed--jYKzL","border-y-detail-themed":"frontend-pencraft-Box-module__border-y-detail-themed--qoWJu","border-accent-themed":"frontend-pencraft-Box-module__border-accent-themed--wXyvv","border-top-accent-themed":"frontend-pencraft-Box-module__border-top-accent-themed--TV2H6","border-bottom-accent-themed":"frontend-pencraft-Box-module__border-bottom-accent-themed--o3hw6","border-left-accent-themed":"frontend-pencraft-Box-module__border-left-accent-themed--Zmywv","border-right-accent-themed":"frontend-pencraft-Box-module__border-right-accent-themed--ftXka","border-y-accent-themed":"frontend-pencraft-Box-module__border-y-accent-themed--XSy61","border-detail-dashed-themed":"frontend-pencraft-Box-module__border-detail-dashed-themed--oKBR4","border-top-detail-dashed-themed":"frontend-pencraft-Box-module__border-top-detail-dashed-themed--NPzSp","border-bottom-detail-dashed-themed":"frontend-pencraft-Box-module__border-bottom-detail-dashed-themed--n5yK3","border-left-detail-dashed-themed":"frontend-pencraft-Box-module__border-left-detail-dashed-themed--vhb5U","border-right-detail-dashed-themed":"frontend-pencraft-Box-module__border-right-detail-dashed-themed--DD1Ek","border-y-detail-dashed-themed":"frontend-pencraft-Box-module__border-y-detail-dashed-themed--cB5rf","border-detail-dashed":"frontend-pencraft-Box-module__border-detail-dashed--A7IFA","border-top-detail-dashed":"frontend-pencraft-Box-module__border-top-detail-dashed--O0bJ0","border-bottom-detail-dashed":"frontend-pencraft-Box-module__border-bottom-detail-dashed--iGmUH","border-left-detail-dashed":"frontend-pencraft-Box-module__border-left-detail-dashed--RRBPQ","border-right-detail-dashed":"frontend-pencraft-Box-module__border-right-detail-dashed--VlIJH","border-y-detail-dashed":"frontend-pencraft-Box-module__border-y-detail-dashed--CMeLF","border-radius-small":"frontend-pencraft-Box-module__border-radius-small--iH2PK","border-radius-medium":"frontend-pencraft-Box-module__border-radius-medium--xi5Gs","border-radius-large":"frontend-pencraft-Box-module__border-radius-large--UK0kl","border-radius-circle":"frontend-pencraft-Box-module__border-radius-circle--GTSy9","divider-detail":"frontend-pencraft-Box-module__divider-detail--PNqwC","min-width-0":"frontend-pencraft-Box-module__min-width-0--MCJwG","min-height-0":"frontend-pencraft-Box-module__min-height-0--GO2ox","shadow-sm":"frontend-pencraft-Box-module__shadow-sm--diOyW","shadow-md":"frontend-pencraft-Box-module__shadow-md--iNIT9","shadow-lg":"frontend-pencraft-Box-module__shadow-lg--wyu_D","bg-primary":"frontend-pencraft-Box-module__bg-primary--mKqVL","bg-utility-tooltip":"frontend-pencraft-Box-module__bg-utility-tooltip--nYHb_","bg-secondary":"frontend-pencraft-Box-module__bg-secondary--Ub0gU","bg-elevated":"frontend-pencraft-Box-module__bg-elevated--Stdd7","bg-elevated-secondary":"frontend-pencraft-Box-module__bg-elevated-secondary--pms2j","bg-glass-inverted-thick":"frontend-pencraft-Box-module__bg-glass-inverted-thick--NJerh","bg-glass-thick":"frontend-pencraft-Box-module__bg-glass-thick--eAkjh",flexGrow:"frontend-pencraft-Box-module__flexGrow--mx4xz",flexAuto:"frontend-pencraft-Box-module__flexAuto--CnX9I",flexFill:"frontend-pencraft-Box-module__flexFill--Bk7kX","overflow-hidden":"frontend-pencraft-Box-module__overflow-hidden--aAMWF","overflowY-auto":"frontend-pencraft-Box-module__overflowY-auto--BWUQA","overflowX-auto":"frontend-pencraft-Box-module__overflowX-auto--XwpIO","overflowX-hidden":"frontend-pencraft-Box-module__overflowX-hidden--uRf50","scrollBar-hidden":"frontend-pencraft-Box-module__scrollBar-hidden--fzF31",ellipsis:"frontend-pencraft-Box-module__ellipsis--pBigN","sizing-border-box":"frontend-pencraft-Box-module__sizing-border-box--JDlFM","pullX-4":"frontend-pencraft-Box-module__pullX-4--mcuJr","pullX-6":"frontend-pencraft-Box-module__pullX-6--mt60z","pullX-8":"frontend-pencraft-Box-module__pullX-8--S5L_X","pullX-12":"frontend-pencraft-Box-module__pullX-12--q44Xm","pullX-16":"frontend-pencraft-Box-module__pullX-16--INTA6","pullX-20":"frontend-pencraft-Box-module__pullX-20--ZkA8j","pullX-24":"frontend-pencraft-Box-module__pullX-24--QGV4o","pullX-32":"frontend-pencraft-Box-module__pullX-32--GyMB2","pullX-40":"frontend-pencraft-Box-module__pullX-40--F0UAO","pullX-48":"frontend-pencraft-Box-module__pullX-48--xOl5I","pullX-56":"frontend-pencraft-Box-module__pullX-56--Ns28l","pullX-64":"frontend-pencraft-Box-module__pullX-64--hg4cI","pullX-80":"frontend-pencraft-Box-module__pullX-80--eSVAK","pullX-120":"frontend-pencraft-Box-module__pullX-120--M1no4"}},4924:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={buttonBase:"frontend-pencraft-Button-module__buttonBase--T0hXz",button:"frontend-pencraft-Button-module__button--d6e9L",grow:"frontend-pencraft-Button-module__grow--PaHXm",size_small:"frontend-pencraft-Button-module__size_small--pFP3O",size_medium:"frontend-pencraft-Button-module__size_medium--PaDMH",size_large:"frontend-pencraft-Button-module__size_large--QbIQV",shadow_medium:"frontend-pencraft-Button-module__shadow_medium--iMIYK",iconButton:"frontend-pencraft-Button-module__iconButton--xpBoH frontend-pencraft-Button-module__buttonBase--T0hXz",size_24:"frontend-pencraft-Button-module__size_24--ydERA",size_32:"frontend-pencraft-Button-module__size_32--KERai",size_36:"frontend-pencraft-Button-module__size_36--VC9z1",size_40:"frontend-pencraft-Button-module__size_40--RASvV",size_48:"frontend-pencraft-Button-module__size_48--yVywS",size_56:"frontend-pencraft-Button-module__size_56--K4npu",rounded:"frontend-pencraft-Button-module__rounded--D6jfD","color_primary-text":"frontend-pencraft-Button-module__color_primary-text--xeutz",fill_borderless:"frontend-pencraft-Button-module__fill_borderless--atCUO",priority_primary:"frontend-pencraft-Button-module__priority_primary--RYgwz","priority_primary-theme":"frontend-pencraft-Button-module__priority_primary-theme--o7dw6","priority_secondary-theme":"frontend-pencraft-Button-module__priority_secondary-theme--YMjyc",priority_secondary:"frontend-pencraft-Button-module__priority_secondary--UEXV6",priority_destructive:"frontend-pencraft-Button-module__priority_destructive--kZRin",priority_twitter:"frontend-pencraft-Button-module__priority_twitter--dbj4H",priority_facebook:"frontend-pencraft-Button-module__priority_facebook--K6d1C",priority_media:"frontend-pencraft-Button-module__priority_media--aBYMP",fill_empty:"frontend-pencraft-Button-module__fill_empty--OPYgN",fill_filled:"frontend-pencraft-Button-module__fill_filled--ysyt0",outline_none:"frontend-pencraft-Button-module__outline_none--V76g2",fill_outline:"frontend-pencraft-Button-module__fill_outline--FmYR9",inverted:"frontend-pencraft-Button-module__inverted--BjUto",textButton:"frontend-pencraft-Button-module__textButton--wjDyp",hiddenInput:"frontend-pencraft-Button-module__hiddenInput--IoYdR"}},44238:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={attached:"frontend-pencraft-ButtonGroup-module__attached--wptD_",borderless:"frontend-pencraft-ButtonGroup-module__borderless--ztoYe"}},45081:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={datePicker:"frontend-pencraft-DatePicker-module__datePicker--lcGVq"}},34115:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={divider:"frontend-pencraft-Divider-module__divider--D3DC3","weight-1":"frontend-pencraft-Divider-module__weight-1--n69Cn","weight-2":"frontend-pencraft-Divider-module__weight-2--LUwfg","priority_detail-themed":"frontend-pencraft-Divider-module__priority_detail-themed--XBdX5",priority_detail:"frontend-pencraft-Divider-module__priority_detail--NqTSm"}},47222:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={hoverCardBase:"frontend-pencraft-HoverCard-module__hoverCardBase--ktRcg"}},2066:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={circularLoader:"frontend-pencraft-Loader-module__circularLoader--KBZRF",rotate:"frontend-pencraft-Loader-module__rotate--qKuPb",size_sm:"frontend-pencraft-Loader-module__size_sm--fpy9_",size_md:"frontend-pencraft-Loader-module__size_md--aKhkY",size_lg:"frontend-pencraft-Loader-module__size_lg--GvCmC"}},66206:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={menu:"frontend-pencraft-Menu-module__menu--gljfP",menuItem:"frontend-pencraft-Menu-module__menuItem--tFPoF",disabled:"frontend-pencraft-Menu-module__disabled--KTi2u",destructive:"frontend-pencraft-Menu-module__destructive--xnxNR",relative:"frontend-pencraft-Menu-module__relative--tBxDI",icon:"frontend-pencraft-Menu-module__icon--I8jrn",text:"frontend-pencraft-Menu-module__text--jJpxe"}},31780:()=>{"use strict";var j={clickable:"frontend-pencraft-Placeholder-module__clickable--fkeYp",bg_secondary:"frontend-pencraft-Placeholder-module__bg_secondary--gugNB","bg_secondary-themed":"frontend-pencraft-Placeholder-module__bg_secondary-themed--QP16b",bg_primary:"frontend-pencraft-Placeholder-module__bg_primary--qtSWk",text_secondary:"frontend-pencraft-Placeholder-module__text_secondary--YH0Gu","text_pub-secondary-text":"frontend-pencraft-Placeholder-module__text_pub-secondary-text--qMi_Z"}},28614:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={reset:"frontend-pencraft-Text-module__reset--dW0zZ","align-left":"frontend-pencraft-Text-module__align-left--IURXw","align-center":"frontend-pencraft-Text-module__align-center--HMNAZ","align-right":"frontend-pencraft-Text-module__align-right--PcYkZ","size-10":"frontend-pencraft-Text-module__size-10--TjNsS","size-11":"frontend-pencraft-Text-module__size-11--k1e8b","size-12":"frontend-pencraft-Text-module__size-12--KorQF","size-13":"frontend-pencraft-Text-module__size-13--XwZ4Q","size-14":"frontend-pencraft-Text-module__size-14--Ume6q","size-16":"frontend-pencraft-Text-module__size-16--fFowu","size-18":"frontend-pencraft-Text-module__size-18--zqngu","size-20":"frontend-pencraft-Text-module__size-20--rvGME","size-24":"frontend-pencraft-Text-module__size-24--Nqjlj","size-28":"frontend-pencraft-Text-module__size-28--QPmK_","size-32":"frontend-pencraft-Text-module__size-32--oRWIM","size-36":"frontend-pencraft-Text-module__size-36--qcTKl","size-38":"frontend-pencraft-Text-module__size-38--VRHEY","line-height-16":"frontend-pencraft-Text-module__line-height-16--nRbFX","line-height-18":"frontend-pencraft-Text-module__line-height-18--Hqt45","line-height-20":"frontend-pencraft-Text-module__line-height-20--p0dP8","line-height-22":"frontend-pencraft-Text-module__line-height-22--fBCDb","line-height-24":"frontend-pencraft-Text-module__line-height-24--lgb2s","line-height-28":"frontend-pencraft-Text-module__line-height-28--NgO1Q","line-height-30":"frontend-pencraft-Text-module__line-height-30--I_4lx","line-height-32":"frontend-pencraft-Text-module__line-height-32--gncft","line-height-36":"frontend-pencraft-Text-module__line-height-36--XBUKs","line-height-40":"frontend-pencraft-Text-module__line-height-40--IuB7y","line-height-44":"frontend-pencraft-Text-module__line-height-44--FgZZF","weight-light":"frontend-pencraft-Text-module__weight-light--K3kAx","weight-normal":"frontend-pencraft-Text-module__weight-normal--s54Wf","weight-medium":"frontend-pencraft-Text-module__weight-medium--x7khA","weight-semibold":"frontend-pencraft-Text-module__weight-semibold--LJBj3","weight-bold":"frontend-pencraft-Text-module__weight-bold--Ps9DB","weight-extrabold":"frontend-pencraft-Text-module__weight-extrabold--MVDJb","font-display":"frontend-pencraft-Text-module__font-display--KlbfE","font-text":"frontend-pencraft-Text-module__font-text--QmNJR","font-serif":"frontend-pencraft-Text-module__font-serif--vDmr9","font-monospace":"frontend-pencraft-Text-module__font-monospace--d1JCK","font-meta":"frontend-pencraft-Text-module__font-meta--U_nxy","font-digit":"frontend-pencraft-Text-module__font-digit--AusNq","font-emoji":"frontend-pencraft-Text-module__font-emoji--vNv4r","font-pub-headings":"frontend-pencraft-Text-module__font-pub-headings--lbOZ2","font-pub-body":"frontend-pencraft-Text-module__font-pub-body--EYvh6","font-marketing":"frontend-pencraft-Text-module__font-marketing--alZiD","font-style-italic":"frontend-pencraft-Text-module__font-style-italic--pVGY_","color-primary":"frontend-pencraft-Text-module__color-primary--ud4Z0","color-secondary":"frontend-pencraft-Text-module__color-secondary--WRADg","color-tertiary":"frontend-pencraft-Text-module__color-tertiary--Ltr7B","color-success":"frontend-pencraft-Text-module__color-success--DEqmn","color-error":"frontend-pencraft-Text-module__color-error--cPex3","color-substack":"frontend-pencraft-Text-module__color-substack--OEE6X","color-bg-light":"frontend-pencraft-Text-module__color-bg-light--fXepy","color-pub-primary-text":"frontend-pencraft-Text-module__color-pub-primary-text--RzL7j","color-pub-secondary-text":"frontend-pencraft-Text-module__color-pub-secondary-text--OzRTa","color-pub-accent":"frontend-pencraft-Text-module__color-pub-accent--ENUEn","color-pub-accent-inverse":"frontend-pencraft-Text-module__color-pub-accent-inverse--v7Zhh","color-accent-red":"frontend-pencraft-Text-module__color-accent-red--XZxwi","color-accent-purple":"frontend-pencraft-Text-module__color-accent-purple--XfjiI","color-accent-blue":"frontend-pencraft-Text-module__color-accent-blue--yq1p7","color-always-white":"frontend-pencraft-Text-module__color-always-white--IcZV4","transform-uppercase":"frontend-pencraft-Text-module__transform-uppercase--IDkUL",ellipsis:"frontend-pencraft-Text-module__ellipsis--K3mj1",nowrap:"frontend-pencraft-Text-module__nowrap--FFIJI",clamp:"frontend-pencraft-Text-module__clamp--a1dYM","clamp-1":"frontend-pencraft-Text-module__clamp-1--qD_7y","clamp-2":"frontend-pencraft-Text-module__clamp-2--kM7cV","clamp-3":"frontend-pencraft-Text-module__clamp-3--R6uR3","clamp-4":"frontend-pencraft-Text-module__clamp-4--UtLMJ","clamp-5":"frontend-pencraft-Text-module__clamp-5--jx7AR","clamp-8":"frontend-pencraft-Text-module__clamp-8--_w8kW","decoration-underline":"frontend-pencraft-Text-module__decoration-underline--sj8pE","decoration-none":"frontend-pencraft-Text-module__decoration-none--fSOnx","decoration-hover-underline":"frontend-pencraft-Text-module__decoration-hover-underline--BEYAn","decoration-line-through":"frontend-pencraft-Text-module__decoration-line-through--savXK","pb-0":"frontend-pencraft-Text-module__pb-0--oJ2zN","pb-4":"frontend-pencraft-Text-module__pb-4--zc_MG","pb-8":"frontend-pencraft-Text-module__pb-8--az5rk","pb-12":"frontend-pencraft-Text-module__pb-12--kc1Oe","pb-16":"frontend-pencraft-Text-module__pb-16--EmDlZ","pb-20":"frontend-pencraft-Text-module__pb-20--H2nTd","pb-24":"frontend-pencraft-Text-module__pb-24--lZquw","pb-28":"frontend-pencraft-Text-module__pb-28--FnB8w","pb-32":"frontend-pencraft-Text-module__pb-32--UAwHd","pl-0":"frontend-pencraft-Text-module__pl-0--M0tOT","pl-4":"frontend-pencraft-Text-module__pl-4--OU99o","pl-8":"frontend-pencraft-Text-module__pl-8--Utyb7","pl-12":"frontend-pencraft-Text-module__pl-12--YSRQc","pl-16":"frontend-pencraft-Text-module__pl-16--Qy2oa","pl-20":"frontend-pencraft-Text-module__pl-20--_jy5A","pl-24":"frontend-pencraft-Text-module__pl-24--CLAKz","pl-28":"frontend-pencraft-Text-module__pl-28--Px2EF","pl-32":"frontend-pencraft-Text-module__pl-32--vPigU","pr-0":"frontend-pencraft-Text-module__pr-0--iu9nM","pr-4":"frontend-pencraft-Text-module__pr-4--CxP4h","pr-8":"frontend-pencraft-Text-module__pr-8--RdjsS","pr-12":"frontend-pencraft-Text-module__pr-12--b4OPu","pr-16":"frontend-pencraft-Text-module__pr-16--Omg1z","pr-20":"frontend-pencraft-Text-module__pr-20--q5Liy","pr-24":"frontend-pencraft-Text-module__pr-24--DLrAp","pr-28":"frontend-pencraft-Text-module__pr-28--CzBqk","pr-32":"frontend-pencraft-Text-module__pr-32--fpeci","pt-0":"frontend-pencraft-Text-module__pt-0--gXXK4","pt-4":"frontend-pencraft-Text-module__pt-4--A76Ib","pt-8":"frontend-pencraft-Text-module__pt-8--UXpDH","pt-12":"frontend-pencraft-Text-module__pt-12--_3VHu","pt-16":"frontend-pencraft-Text-module__pt-16--Q_rgJ","pt-20":"frontend-pencraft-Text-module__pt-20--eahXO","pt-24":"frontend-pencraft-Text-module__pt-24--eHqeF","pt-28":"frontend-pencraft-Text-module__pt-28--y5gSe","pt-32":"frontend-pencraft-Text-module__pt-32--RCWsg",paragraph:"frontend-pencraft-Text-module__paragraph--xwgYU",body1:"frontend-pencraft-Text-module__body1--PZGPK",body2:"frontend-pencraft-Text-module__body2--OSJSf",body3:"frontend-pencraft-Text-module__body3--xcwfZ",body4:"frontend-pencraft-Text-module__body4--Pl3xY",meta:"frontend-pencraft-Text-module__meta--jzHdd",digit:"frontend-pencraft-Text-module__digit--Dssbw",marketingHeading1xl:"frontend-pencraft-Text-module__marketingHeading1xl--w2t25",marketingHeading1:"frontend-pencraft-Text-module__marketingHeading1--GilGQ",marketingHeading2:"frontend-pencraft-Text-module__marketingHeading2--Rv1Nh",marketingHeading3:"frontend-pencraft-Text-module__marketingHeading3--nhPu_",marketingHeading4:"frontend-pencraft-Text-module__marketingHeading4--fBhoA",marketingHeading5:"frontend-pencraft-Text-module__marketingHeading5--zmdSS",marketingQuote:"frontend-pencraft-Text-module__marketingQuote--kXKk3",marketingSubtitle:"frontend-pencraft-Text-module__marketingSubtitle--jIk8i",marketingBody:"frontend-pencraft-Text-module__marketingBody--i9R2n"}},11564:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={tooltip:"frontend-pencraft-Tooltip-module__tooltip--l28SA",tooltipContent:"frontend-pencraft-Tooltip-module__tooltipContent--lpNDB",shortcutKeys:"frontend-pencraft-Tooltip-module__shortcutKeys--olyP3",shortcutKey:"frontend-pencraft-Tooltip-module__shortcutKey--gTb7r"}},2975:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={container:"frontend-pencraft-form-Checkbox-module__container--bnhv5",medium:"frontend-pencraft-form-Checkbox-module__medium--GlivL",small:"frontend-pencraft-form-Checkbox-module__small--KuI1R",enabled:"frontend-pencraft-form-Checkbox-module__enabled--D7Cik",unchecked:"frontend-pencraft-form-Checkbox-module__unchecked--M2ytx",error:"frontend-pencraft-form-Checkbox-module__error--_HwgQ",checked:"frontend-pencraft-form-Checkbox-module__checked--SUdWp",checkedWithTheme:"frontend-pencraft-form-Checkbox-module__checkedWithTheme--lCDJE",disabled:"frontend-pencraft-form-Checkbox-module__disabled--rM9Mk"}},10389:()=>{"use strict";var j={container:"frontend-pencraft-form-FieldGroup-module__container--GuL2k"}},63438:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={container:"frontend-pencraft-form-Radio-module__container--InUVp",radio:"frontend-pencraft-form-Radio-module__radio--U8dmP","radio--accent":"frontend-pencraft-form-Radio-module__radio--accent--GPQc_"}},51220:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={input:"frontend-pencraft-unstable-Input-module__input--U6AH5",error:"frontend-pencraft-unstable-Input-module__error--P4ENV",textarea:"frontend-pencraft-unstable-Input-module__textarea--okhMK","font-text":"frontend-pencraft-unstable-Input-module__font-text--OxgAa","font-monospace":"frontend-pencraft-unstable-Input-module__font-monospace--yyu0R"}},27113:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={select:"frontend-pencraft-unstable-Select-module__select--mj1yX",selectedOption:"frontend-pencraft-unstable-Select-module__selectedOption--l6gJr"}},97660:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={inlineContainer:"frontend-pencraft-unstable-UserBadge-module__inlineContainer--_nMrK",container:"frontend-pencraft-unstable-UserBadge-module__container--ADexK",popover:"frontend-pencraft-unstable-UserBadge-module__popover--X9HK4"}},24253:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={avatarContainer:"frontend-reader2-Avatar-module__avatarContainer--Oparw",avatar:"frontend-reader2-Avatar-module__avatar--nE_uY",badge:"frontend-reader2-Avatar-module__badge--cBf0X",square:"frontend-reader2-Avatar-module__square--tF2NV",circle:"frontend-reader2-Avatar-module__circle--wPyNv",subscriptionBadge:"frontend-reader2-Avatar-module__subscriptionBadge--f5bhp"}},32289:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={scrollBox:"frontend-reader2-Carousel-module__scrollBox--HIlKF",fade:"frontend-reader2-Carousel-module__fade--EqSH7",visible:"frontend-reader2-Carousel-module__visible--iu6OA",bg:"frontend-reader2-Carousel-module__bg--PNWMY",left:"frontend-reader2-Carousel-module__left--TFwbc",right:"frontend-reader2-Carousel-module__right--tgs0W",arrow:"frontend-reader2-Carousel-module__arrow--U6JnW"}},28967:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={variables:"frontend-reader2-FeedPage2-module__variables--ga9s4",page:"frontend-reader2-FeedPage2-module__page--OGZlq",feedPad:"frontend-reader2-FeedPage2-module__feedPad--Kgu2r",title:"frontend-reader2-FeedPage2-module__title--JGHnF",miniInboxItem:"frontend-reader2-FeedPage2-module__miniInboxItem--NqC6C",newPillContainer:"frontend-reader2-FeedPage2-module__newPillContainer--TSf1w",newPill:"frontend-reader2-FeedPage2-module__newPill--xvF5p",hidden:"frontend-reader2-FeedPage2-module__hidden--ujYZU",facepile:"frontend-reader2-FeedPage2-module__facepile--HJOvk",face:"frontend-reader2-FeedPage2-module__face--ZRQCv",tabIcon:"frontend-reader2-FeedPage2-module__tabIcon--Qq5Ip",feedItem:"frontend-reader2-FeedPage2-module__feedItem--ef_eG",feedUnit:"frontend-reader2-FeedPage2-module__feedUnit--NOehd",showThreadGutter:"frontend-reader2-FeedPage2-module__showThreadGutter--KddYr",hasAvatar:"frontend-reader2-FeedPage2-module__hasAvatar--o1Y14",hasAction:"frontend-reader2-FeedPage2-module__hasAction--USoNb",seeMoreFade:"frontend-reader2-FeedPage2-module__seeMoreFade--ffgtP",seeMoreText:"frontend-reader2-FeedPage2-module__seeMoreText--f6HIr",timestamp:"frontend-reader2-FeedPage2-module__timestamp--vOvEZ",metaTimestamp:"frontend-reader2-FeedPage2-module__metaTimestamp--gFOjC",feedPermalinkUnit:"frontend-reader2-FeedPage2-module__feedPermalinkUnit--uQYlR",permalinkHeader:"frontend-reader2-FeedPage2-module__permalinkHeader--yqFA3",seeMoreReplies:"frontend-reader2-FeedPage2-module__seeMoreReplies--TOlVf",seeMoreThread:"frontend-reader2-FeedPage2-module__seeMoreThread--SvMtw",seeMoreThreadSegment:"frontend-reader2-FeedPage2-module__seeMoreThreadSegment--VoQIF",top:"frontend-reader2-FeedPage2-module__top--sGcdt",hasContext:"frontend-reader2-FeedPage2-module__hasContext--TwqeY",replyUnit:"frontend-reader2-FeedPage2-module__replyUnit--d10O2",quoteText:"frontend-reader2-FeedPage2-module__quoteText--ahbw_",quote:"frontend-reader2-FeedPage2-module__quote--Z5hGM",quoteBottom:"frontend-reader2-FeedPage2-module__quoteBottom--Z0bvr",quoteButton:"frontend-reader2-FeedPage2-module__quoteButton--nnVlK",feedCommentBody:"frontend-reader2-FeedPage2-module__feedCommentBody--igKQl",feedCommentBodyInner:"frontend-reader2-FeedPage2-module__feedCommentBodyInner--sF0AK",underlineLink:"frontend-reader2-FeedPage2-module__underlineLink--pGNvG",disabled:"frontend-reader2-FeedPage2-module__disabled--exFn7",peopleYouMayKnowContainer:"frontend-reader2-FeedPage2-module__peopleYouMayKnowContainer--F9cRd",peopleYouMayKnow:"frontend-reader2-FeedPage2-module__peopleYouMayKnow--asjI3",peopleYouMayKnowArrows:"frontend-reader2-FeedPage2-module__peopleYouMayKnowArrows--I0l3_",seeMore:"frontend-reader2-FeedPage2-module__seeMore--redfx",contextRow:"frontend-reader2-FeedPage2-module__contextRow--kyoQj",contextIcon:"frontend-reader2-FeedPage2-module__contextIcon--Mk5Pv",dot:"frontend-reader2-FeedPage2-module__dot--mrV5k",post:"frontend-reader2-FeedPage2-module__post--o1TR5",postImage:"frontend-reader2-FeedPage2-module__postImage--km4kb",linkImage:"frontend-reader2-FeedPage2-module__linkImage--XP4ld",mobile:"frontend-reader2-FeedPage2-module__mobile--C7yMj",linkImagePlaceholder:"frontend-reader2-FeedPage2-module__linkImagePlaceholder--oCLpB",actionRow:"frontend-reader2-FeedPage2-module__actionRow--CdCf4",actionButton:"frontend-reader2-FeedPage2-module__actionButton--K7BjS",permalink:"frontend-reader2-FeedPage2-module__permalink--w5EPY",heart:"frontend-reader2-FeedPage2-module__heart--JfP7W",more:"frontend-reader2-FeedPage2-module__more--olobi",shrink:"frontend-reader2-FeedPage2-module__shrink--VKuWI",digit:"frontend-reader2-FeedPage2-module__digit--uHKoF",like:"frontend-reader2-FeedPage2-module__like--Q2Xlr",active:"frontend-reader2-FeedPage2-module__active--fMYVL",reply:"frontend-reader2-FeedPage2-module__reply--pjYNC",restack:"frontend-reader2-FeedPage2-module__restack--gbucn",share:"frontend-reader2-FeedPage2-module__share--uhEYz",shortPostText:"frontend-reader2-FeedPage2-module__shortPostText--vek8q",large:"frontend-reader2-FeedPage2-module__large--WBjT8",stat:"frontend-reader2-FeedPage2-module__stat--Uyi9h",reportModal:"frontend-reader2-FeedPage2-module__reportModal--ynkJH",likeButton:"frontend-reader2-FeedPage2-module__likeButton--LvUVd",heartWrapper:"frontend-reader2-FeedPage2-module__heartWrapper--uhZEU",clickedOnce:"frontend-reader2-FeedPage2-module__clickedOnce--X3cwn",isLiked:"frontend-reader2-FeedPage2-module__isLiked--rpD60","heart-bounce":"frontend-reader2-FeedPage2-module__heart-bounce--ZFfaq",spark:"frontend-reader2-FeedPage2-module__spark--M19my","spark-burst":"frontend-reader2-FeedPage2-module__spark-burst--DdwB9",sparks:"frontend-reader2-FeedPage2-module__sparks--MDGJ3",ripple:"frontend-reader2-FeedPage2-module__ripple--ntUbt",userBadge:"frontend-reader2-FeedPage2-module__userBadge--z76kJ",mutedItem:"frontend-reader2-FeedPage2-module__mutedItem--zAMN6"}},7980:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={avatarLink:"frontend-reader2-NewPost-module__avatarLink--k6p8g",inlineComposer:"frontend-reader2-NewPost-module__inlineComposer--Kcxrs",disabled:"frontend-reader2-NewPost-module__disabled--H5e3r",shareImageButton:"frontend-reader2-NewPost-module__shareImageButton--GEnD0",inlineComposerButton:"frontend-reader2-NewPost-module__inlineComposerButton--VqfS8",mobile:"frontend-reader2-NewPost-module__mobile--KoLCp",isDropping:"frontend-reader2-NewPost-module__isDropping--rlyUL",floatingComposer:"frontend-reader2-NewPost-module__floatingComposer--QzbSz",inputSpacer:"frontend-reader2-NewPost-module__inputSpacer--zsd8O",wordCountIndicator:"frontend-reader2-NewPost-module__wordCountIndicator--eN3TG",exceded:"frontend-reader2-NewPost-module__exceded--K2Uk0",composerModal:"frontend-reader2-NewPost-module__composerModal--i_mLl",setupProfileModalContent:"frontend-reader2-NewPost-module__setupProfileModalContent--CxnXw",modalColumn:"frontend-reader2-NewPost-module__modalColumn--e32_G",dropdownIcon:"frontend-reader2-NewPost-module__dropdownIcon--rxRtk",dropdownMenu:"frontend-reader2-NewPost-module__dropdownMenu--gtepK",pubRow:"frontend-reader2-NewPost-module__pubRow--cgSM7",pubName:"frontend-reader2-NewPost-module__pubName--sA2UJ",linkImage:"frontend-reader2-NewPost-module__linkImage--TodmF",imageContainer:"frontend-reader2-NewPost-module__imageContainer--A8VSd",attachmentContainer:"frontend-reader2-NewPost-module__attachmentContainer--oQMn_",removeImage:"frontend-reader2-NewPost-module__removeImage--nfnT8",removeAttachment:"frontend-reader2-NewPost-module__removeAttachment--fGdwq",notifyConformModalPubRow:"frontend-reader2-NewPost-module__notifyConformModalPubRow--ARJ9X"}},95042:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={root:"frontend-reader2-Notifications-module__root--Tsg8L",trigger:"frontend-reader2-Notifications-module__trigger--dMulo",badge:"frontend-reader2-Notifications-module__badge--B7mk_",circle:"frontend-reader2-Notifications-module__circle--Q8siW"}},59020:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={pageStack:"frontend-reader2-Page-module__pageStack--ody_S",gap_0:"frontend-reader2-Page-module__gap_0--yYU_2",gap_8:"frontend-reader2-Page-module__gap_8--PncV0",gap_16:"frontend-reader2-Page-module__gap_16--jwghA",linkRow:"frontend-reader2-Page-module__linkRow--fAbeU",isPadded:"frontend-reader2-Page-module__isPadded--ByIdx",linkRowA:"frontend-reader2-Page-module__linkRowA--KsC_y",isClickable:"frontend-reader2-Page-module__isClickable--u8wHF",isSelectable:"frontend-reader2-Page-module__isSelectable--w0CEf",isSelected:"frontend-reader2-Page-module__isSelected--r1vb5",zero:"frontend-reader2-Page-module__zero--Gd4kD",hoverLink:"frontend-reader2-Page-module__hoverLink--MvDt2",placeholder:"frontend-reader2-Page-module__placeholder--qZjLi",travel:"frontend-reader2-Page-module__travel--cox8O",bar:"frontend-reader2-Page-module__bar--kRTwB",circle:"frontend-reader2-Page-module__circle--ZMmhY",elevated:"frontend-reader2-Page-module__elevated--QKV5Y",input:"frontend-reader2-Page-module__input--cAK3Q",error:"frontend-reader2-Page-module__error--E0rLs",textarea:"frontend-reader2-Page-module__textarea--tqN9a",tabContainer:"frontend-reader2-Page-module__tabContainer--UKtS3",tabContainerBorder:"frontend-reader2-Page-module__tabContainerBorder--xZFpY"}},27797:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={publicationPopover:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationPopover--U_ZvV",breakOut:"frontend-reader2-ProfileAndPublicationHoverCard-module__breakOut--mkCoL",hoverCardAvatar:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardAvatar--wb9DE frontend-reader2-ProfileAndPublicationHoverCard-module__breakOut--mkCoL",hoverCardTitle:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardTitle--l2ryd",writesCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__writesCard--Kg6JT",hoverCardSeeAll:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardSeeAll--5trGx",profileHoverCardTarget:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardTarget--Od_YL",publicationHoverCardTarget:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationHoverCardTarget--UjFRs",inline:"frontend-reader2-ProfileAndPublicationHoverCard-module__inline--bEDYo",profileHoverCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCard--k5sNi",publicationHoverCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationHoverCard--sCxL3",profileHoverCardHeader:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardHeader--WYI5h",profileHoverCardNameRow:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardNameRow--vDy1W",facepileFace:"frontend-reader2-ProfileAndPublicationHoverCard-module__facepileFace--bOm2O"}},45390:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={custom:"frontend-reader2-PubIcon-module__custom--CCNn3",hello:"frontend-reader2-PubIcon-module__hello--bNKuF",placeholder:"frontend-reader2-PubIcon-module__placeholder--t4NRS"}},33291:(j,l,e)=>{"use strict";e.d(l,{Z:()=>n});const n={darkTheme:"styles-base-module__darkTheme--yNZ7w"}},57824:j=>{var l=1e3,e=l*60,n=e*60,c=n*24,u=c*7,v=c*365.25;j.exports=function(g,P){P=P||{};var S=typeof g;if(S==="string"&&g.length>0)return O(g);if(S==="number"&&isFinite(g))return P.long?E(g):y(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function O(g){if(g=String(g),!(g.length>100)){var P=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(P){var S=parseFloat(P[1]),T=(P[2]||"ms").toLowerCase();switch(T){case"years":case"year":case"yrs":case"yr":case"y":return S*v;case"weeks":case"week":case"w":return S*u;case"days":case"day":case"d":return S*c;case"hours":case"hour":case"hrs":case"hr":case"h":return S*n;case"minutes":case"minute":case"mins":case"min":case"m":return S*e;case"seconds":case"second":case"secs":case"sec":case"s":return S*l;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return S;default:return}}}}function y(g){var P=Math.abs(g);return P>=c?Math.round(g/c)+"d":P>=n?Math.round(g/n)+"h":P>=e?Math.round(g/e)+"m":P>=l?Math.round(g/l)+"s":g+"ms"}function E(g){var P=Math.abs(g);return P>=c?d(g,P,c,"day"):P>=n?d(g,P,n,"hour"):P>=e?d(g,P,e,"minute"):P>=l?d(g,P,l,"second"):g+" ms"}function d(g,P,S,T){var C=P>=S*1.5;return Math.round(g/S)+" "+T+(C?"s":"")}},27418:j=>{"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function c(v){if(v==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(v)}function u(){try{if(!Object.assign)return!1;var v=new String("abc");if(v[5]="de",Object.getOwnPropertyNames(v)[0]==="5")return!1;for(var O={},y=0;y<10;y++)O["_"+String.fromCharCode(y)]=y;var E=Object.getOwnPropertyNames(O).map(function(g){return O[g]});if(E.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(g){d[g]=g}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch(g){return!1}}j.exports=u()?Object.assign:function(v,O){for(var y,E=c(v),d,g=1;g<arguments.length;g++){y=Object(arguments[g]);for(var P in y)e.call(y,P)&&(E[P]=y[P]);if(l){d=l(y);for(var S=0;S<d.length;S++)n.call(y,d[S])&&(E[d[S]]=y[d[S]])}}return E}},70631:(j,l,e)=>{var n=typeof Map=="function"&&Map.prototype,c=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,u=n&&c&&typeof c.get=="function"?c.get:null,v=n&&Map.prototype.forEach,O=typeof Set=="function"&&Set.prototype,y=Object.getOwnPropertyDescriptor&&O?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,E=O&&y&&typeof y.get=="function"?y.get:null,d=O&&Set.prototype.forEach,g=typeof WeakMap=="function"&&WeakMap.prototype,P=g?WeakMap.prototype.has:null,S=typeof WeakSet=="function"&&WeakSet.prototype,T=S?WeakSet.prototype.has:null,C=typeof WeakRef=="function"&&WeakRef.prototype,p=C?WeakRef.prototype.deref:null,i=Boolean.prototype.valueOf,s=Object.prototype.toString,_=Function.prototype.toString,w=String.prototype.match,x=String.prototype.slice,D=String.prototype.replace,N=String.prototype.toUpperCase,I=String.prototype.toLowerCase,A=RegExp.prototype.test,M=Array.prototype.concat,R=Array.prototype.join,F=Array.prototype.slice,Z=Math.floor,V=typeof BigInt=="function"?BigInt.prototype.valueOf:null,G=Object.getOwnPropertySymbols,$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,K=typeof Symbol=="function"&&typeof Symbol.iterator=="object",H=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===K||"symbol")?Symbol.toStringTag:null,re=Object.prototype.propertyIsEnumerable,ee=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ye){return ye.__proto__}:null);function Y(ye,Ce){if(ye===1/0||ye===-1/0||ye!==ye||ye&&ye>-1e3&&ye<1e3||A.call(/e/,Ce))return Ce;var xe=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof ye=="number"){var je=ye<0?-Z(-ye):Z(ye);if(je!==ye){var He=String(je),Ge=x.call(Ce,He.length+1);return D.call(He,xe,"$&_")+"."+D.call(D.call(Ge,/([0-9]{3})/g,"$&_"),/_$/,"")}}return D.call(Ce,xe,"$&_")}var J=e(24654),te=J.custom,ie=fe(te)?te:null;j.exports=function ye(Ce,xe,je,He){var Ge=xe||{};if(ve(Ge,"quoteStyle")&&Ge.quoteStyle!=="single"&&Ge.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ve(Ge,"maxStringLength")&&(typeof Ge.maxStringLength=="number"?Ge.maxStringLength<0&&Ge.maxStringLength!==1/0:Ge.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Qe=ve(Ge,"customInspect")?Ge.customInspect:!0;if(typeof Qe!="boolean"&&Qe!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ve(Ge,"indent")&&Ge.indent!==null&&Ge.indent!=="	"&&!(parseInt(Ge.indent,10)===Ge.indent&&Ge.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ve(Ge,"numericSeparator")&&typeof Ge.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var ct=Ge.numericSeparator;if(typeof Ce=="undefined")return"undefined";if(Ce===null)return"null";if(typeof Ce=="boolean")return Ce?"true":"false";if(typeof Ce=="string")return Oe(Ce,Ge);if(typeof Ce=="number"){if(Ce===0)return 1/0/Ce>0?"0":"-0";var dt=String(Ce);return ct?Y(Ce,dt):dt}if(typeof Ce=="bigint"){var it=String(Ce)+"n";return ct?Y(Ce,it):it}var tt=typeof Ge.depth=="undefined"?5:Ge.depth;if(typeof je=="undefined"&&(je=0),je>=tt&&tt>0&&typeof Ce=="object")return z(Ce)?"[Array]":"[Object]";var vt=pt(Ge,je);if(typeof He=="undefined")He=[];else if(Se(He,Ce)>=0)return"[Circular]";function et(Cn,bn,zn){if(bn&&(He=F.call(He),He.push(bn)),zn){var tr={depth:Ge.depth};return ve(Ge,"quoteStyle")&&(tr.quoteStyle=Ge.quoteStyle),ye(Cn,tr,je+1,He)}return ye(Cn,Ge,je+1,He)}if(typeof Ce=="function"&&!oe(Ce)){var Xe=we(Ce),Ne=Ie(Ce,et);return"[Function"+(Xe?": "+Xe:" (anonymous)")+"]"+(Ne.length>0?" { "+R.call(Ne,", ")+" }":"")}if(fe(Ce)){var ft=K?D.call(String(Ce),/^(Symbol\(.*\))_[^)]*$/,"$1"):$.call(Ce);return typeof Ce=="object"&&!K?ze(ft):ft}if(_e(Ce)){for(var At="<"+I.call(String(Ce.nodeName)),Ht=Ce.attributes||[],rn=0;rn<Ht.length;rn++)At+=" "+Ht[rn].name+"="+se(W(Ht[rn].value),"double",Ge);return At+=">",Ce.childNodes&&Ce.childNodes.length&&(At+="..."),At+="</"+I.call(String(Ce.nodeName))+">",At}if(z(Ce)){if(Ce.length===0)return"[]";var en=Ie(Ce,et);return vt&&!Ve(en)?"["+$e(en,vt)+"]":"[ "+R.call(en,", ")+" ]"}if(ne(Ce)){var pn=Ie(Ce,et);return!("cause"in Error.prototype)&&"cause"in Ce&&!re.call(Ce,"cause")?"{ ["+String(Ce)+"] "+R.call(M.call("[cause]: "+et(Ce.cause),pn),", ")+" }":pn.length===0?"["+String(Ce)+"]":"{ ["+String(Ce)+"] "+R.call(pn,", ")+" }"}if(typeof Ce=="object"&&Qe){if(ie&&typeof Ce[ie]=="function"&&J)return J(Ce,{depth:tt-je});if(Qe!=="symbol"&&typeof Ce.inspect=="function")return Ce.inspect()}if(We(Ce)){var _n=[];return v&&v.call(Ce,function(Cn,bn){_n.push(et(bn,Ce,!0)+" => "+et(Cn,Ce))}),Pt("Map",u.call(Ce),_n,vt)}if(de(Ce)){var Tn=[];return d&&d.call(Ce,function(Cn){Tn.push(et(Cn,Ce))}),Pt("Set",E.call(Ce),Tn,vt)}if(Ae(Ce))return Je("WeakMap");if(ce(Ce))return Je("WeakSet");if(Be(Ce))return Je("WeakRef");if(le(Ce))return ze(et(Number(Ce)));if(he(Ce))return ze(et(V.call(Ce)));if(ue(Ce))return ze(i.call(Ce));if(ae(Ce))return ze(et(String(Ce)));if(!Q(Ce)&&!oe(Ce)){var dn=Ie(Ce,et),fn=ee?ee(Ce)===Object.prototype:Ce instanceof Object||Ce.constructor===Object,xn=Ce instanceof Object?"":"null prototype",Dn=!fn&&H&&Object(Ce)===Ce&&H in Ce?x.call(Te(Ce),8,-1):xn?"Object":"",Wn=fn||typeof Ce.constructor!="function"?"":Ce.constructor.name?Ce.constructor.name+" ":"",Fn=Wn+(Dn||xn?"["+R.call(M.call([],Dn||[],xn||[]),": ")+"] ":"");return dn.length===0?Fn+"{}":vt?Fn+"{"+$e(dn,vt)+"}":Fn+"{ "+R.call(dn,", ")+" }"}return String(Ce)};function se(ye,Ce,xe){var je=(xe.quoteStyle||Ce)==="double"?'"':"'";return je+ye+je}function W(ye){return D.call(String(ye),/"/g,"&quot;")}function z(ye){return Te(ye)==="[object Array]"&&(!H||!(typeof ye=="object"&&H in ye))}function Q(ye){return Te(ye)==="[object Date]"&&(!H||!(typeof ye=="object"&&H in ye))}function oe(ye){return Te(ye)==="[object RegExp]"&&(!H||!(typeof ye=="object"&&H in ye))}function ne(ye){return Te(ye)==="[object Error]"&&(!H||!(typeof ye=="object"&&H in ye))}function ae(ye){return Te(ye)==="[object String]"&&(!H||!(typeof ye=="object"&&H in ye))}function le(ye){return Te(ye)==="[object Number]"&&(!H||!(typeof ye=="object"&&H in ye))}function ue(ye){return Te(ye)==="[object Boolean]"&&(!H||!(typeof ye=="object"&&H in ye))}function fe(ye){if(K)return ye&&typeof ye=="object"&&ye instanceof Symbol;if(typeof ye=="symbol")return!0;if(!ye||typeof ye!="object"||!$)return!1;try{return $.call(ye),!0}catch(Ce){}return!1}function he(ye){if(!ye||typeof ye!="object"||!V)return!1;try{return V.call(ye),!0}catch(Ce){}return!1}var be=Object.prototype.hasOwnProperty||function(ye){return ye in this};function ve(ye,Ce){return be.call(ye,Ce)}function Te(ye){return s.call(ye)}function we(ye){if(ye.name)return ye.name;var Ce=w.call(_.call(ye),/^function\s*([\w$]+)/);return Ce?Ce[1]:null}function Se(ye,Ce){if(ye.indexOf)return ye.indexOf(Ce);for(var xe=0,je=ye.length;xe<je;xe++)if(ye[xe]===Ce)return xe;return-1}function We(ye){if(!u||!ye||typeof ye!="object")return!1;try{u.call(ye);try{E.call(ye)}catch(Ce){return!0}return ye instanceof Map}catch(Ce){}return!1}function Ae(ye){if(!P||!ye||typeof ye!="object")return!1;try{P.call(ye,P);try{T.call(ye,T)}catch(Ce){return!0}return ye instanceof WeakMap}catch(Ce){}return!1}function Be(ye){if(!p||!ye||typeof ye!="object")return!1;try{return p.call(ye),!0}catch(Ce){}return!1}function de(ye){if(!E||!ye||typeof ye!="object")return!1;try{E.call(ye);try{u.call(ye)}catch(Ce){return!0}return ye instanceof Set}catch(Ce){}return!1}function ce(ye){if(!T||!ye||typeof ye!="object")return!1;try{T.call(ye,T);try{P.call(ye,P)}catch(Ce){return!0}return ye instanceof WeakSet}catch(Ce){}return!1}function _e(ye){return!ye||typeof ye!="object"?!1:typeof HTMLElement!="undefined"&&ye instanceof HTMLElement?!0:typeof ye.nodeName=="string"&&typeof ye.getAttribute=="function"}function Oe(ye,Ce){if(ye.length>Ce.maxStringLength){var xe=ye.length-Ce.maxStringLength,je="... "+xe+" more character"+(xe>1?"s":"");return Oe(x.call(ye,0,Ce.maxStringLength),Ce)+je}var He=D.call(D.call(ye,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Le);return se(He,"single",Ce)}function Le(ye){var Ce=ye.charCodeAt(0),xe={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ce];return xe?"\\"+xe:"\\x"+(Ce<16?"0":"")+N.call(Ce.toString(16))}function ze(ye){return"Object("+ye+")"}function Je(ye){return ye+" { ? }"}function Pt(ye,Ce,xe,je){var He=je?$e(xe,je):R.call(xe,", ");return ye+" ("+Ce+") {"+He+"}"}function Ve(ye){for(var Ce=0;Ce<ye.length;Ce++)if(Se(ye[Ce],`
`)>=0)return!1;return!0}function pt(ye,Ce){var xe;if(ye.indent==="	")xe="	";else if(typeof ye.indent=="number"&&ye.indent>0)xe=R.call(Array(ye.indent+1)," ");else return null;return{base:xe,prev:R.call(Array(Ce+1),xe)}}function $e(ye,Ce){if(ye.length===0)return"";var xe=`
`+Ce.prev+Ce.base;return xe+R.call(ye,","+xe)+`
`+Ce.prev}function Ie(ye,Ce){var xe=z(ye),je=[];if(xe){je.length=ye.length;for(var He=0;He<ye.length;He++)je[He]=ve(ye,He)?Ce(ye[He],ye):""}var Ge=typeof G=="function"?G(ye):[],Qe;if(K){Qe={};for(var ct=0;ct<Ge.length;ct++)Qe["$"+Ge[ct]]=Ge[ct]}for(var dt in ye)ve(ye,dt)&&(xe&&String(Number(dt))===dt&&dt<ye.length||K&&Qe["$"+dt]instanceof Symbol||(A.call(/[^\w$]/,dt)?je.push(Ce(dt,ye)+": "+Ce(ye[dt],ye)):je.push(dt+": "+Ce(ye[dt],ye))));if(typeof G=="function")for(var it=0;it<Ge.length;it++)re.call(ye,Ge[it])&&je.push("["+Ce(Ge[it])+"]: "+Ce(ye[Ge[it]],ye));return je}},79430:function(j,l){var e,n,c;(function(u,v){n=[],e=v,c=typeof e=="function"?e.apply(l,n):e,c!==void 0&&(j.exports=c)})(this,function(){return function(u){function v(I){return I===" "||I==="	"||I===`
`||I==="\f"||I==="\r"}function O(I){var A,M=I.exec(u.substring(w));if(M)return A=M[0],w+=A.length,A}for(var y=u.length,E=/^[ \t\n\r\u000c]+/,d=/^[, \t\n\r\u000c]+/,g=/^[^ \t\n\r\u000c]+/,P=/[,]+$/,S=/^\d+$/,T=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,C,p,i,s,_,w=0,x=[];;){if(O(d),w>=y)return x;C=O(g),p=[],C.slice(-1)===","?(C=C.replace(P,""),N()):D()}function D(){for(O(E),i="",s="in descriptor";;){if(_=u.charAt(w),s==="in descriptor")if(v(_))i&&(p.push(i),i="",s="after descriptor");else if(_===","){w+=1,i&&p.push(i),N();return}else if(_==="(")i=i+_,s="in parens";else if(_===""){i&&p.push(i),N();return}else i=i+_;else if(s==="in parens")if(_===")")i=i+_,s="in descriptor";else if(_===""){p.push(i),N();return}else i=i+_;else if(s==="after descriptor"&&!v(_))if(_===""){N();return}else s="in descriptor",w-=1;w+=1}}function N(){var I=!1,A,M,R,F,Z={},V,G,$,K,H;for(F=0;F<p.length;F++)V=p[F],G=V[V.length-1],$=V.substring(0,V.length-1),K=parseInt($,10),H=parseFloat($),S.test($)&&G==="w"?((A||M)&&(I=!0),K===0?I=!0:A=K):T.test($)&&G==="x"?((A||M||R)&&(I=!0),H<0?I=!0:M=H):S.test($)&&G==="h"?((R||M)&&(I=!0),K===0?I=!0:R=K):I=!0;I?console&&console.log&&console.log("Invalid srcset descriptor found in '"+u+"' at '"+V+"'."):(Z.url=C,A&&(Z.w=A),M&&(Z.d=M),R&&(Z.h=R),x.push(Z))}}})},74241:j=>{var l=String,e=function(){return{isColorSupported:!1,reset:l,bold:l,dim:l,italic:l,underline:l,inverse:l,hidden:l,strikethrough:l,black:l,red:l,green:l,yellow:l,blue:l,magenta:l,cyan:l,white:l,gray:l,bgBlack:l,bgRed:l,bgGreen:l,bgYellow:l,bgBlue:l,bgMagenta:l,bgCyan:l,bgWhite:l}};j.exports=e(),j.exports.createColors=e},41353:(j,l,e)=>{"use strict";let n=e(21019);class c extends n{constructor(v){super(v),this.type="atrule"}append(...v){return this.proxyOf.nodes||(this.nodes=[]),super.append(...v)}prepend(...v){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...v)}}j.exports=c,c.default=c,n.registerAtRule(c)},69932:(j,l,e)=>{"use strict";let n=e(65631);class c extends n{constructor(v){super(v),this.type="comment"}}j.exports=c,c.default=c},21019:(j,l,e)=>{"use strict";let{isClean:n,my:c}=e(65513),u=e(94258),v=e(69932),O=e(65631),y,E,d,g;function P(C){return C.map(p=>(p.nodes&&(p.nodes=P(p.nodes)),delete p.source,p))}function S(C){if(C[n]=!1,C.proxyOf.nodes)for(let p of C.proxyOf.nodes)S(p)}class T extends O{push(p){return p.parent=this,this.proxyOf.nodes.push(p),this}each(p){if(!this.proxyOf.nodes)return;let i=this.getIterator(),s,_;for(;this.indexes[i]<this.proxyOf.nodes.length&&(s=this.indexes[i],_=p(this.proxyOf.nodes[s],s),_!==!1);)this.indexes[i]+=1;return delete this.indexes[i],_}walk(p){return this.each((i,s)=>{let _;try{_=p(i,s)}catch(w){throw i.addToError(w)}return _!==!1&&i.walk&&(_=i.walk(p)),_})}walkDecls(p,i){return i?p instanceof RegExp?this.walk((s,_)=>{if(s.type==="decl"&&p.test(s.prop))return i(s,_)}):this.walk((s,_)=>{if(s.type==="decl"&&s.prop===p)return i(s,_)}):(i=p,this.walk((s,_)=>{if(s.type==="decl")return i(s,_)}))}walkRules(p,i){return i?p instanceof RegExp?this.walk((s,_)=>{if(s.type==="rule"&&p.test(s.selector))return i(s,_)}):this.walk((s,_)=>{if(s.type==="rule"&&s.selector===p)return i(s,_)}):(i=p,this.walk((s,_)=>{if(s.type==="rule")return i(s,_)}))}walkAtRules(p,i){return i?p instanceof RegExp?this.walk((s,_)=>{if(s.type==="atrule"&&p.test(s.name))return i(s,_)}):this.walk((s,_)=>{if(s.type==="atrule"&&s.name===p)return i(s,_)}):(i=p,this.walk((s,_)=>{if(s.type==="atrule")return i(s,_)}))}walkComments(p){return this.walk((i,s)=>{if(i.type==="comment")return p(i,s)})}append(...p){for(let i of p){let s=this.normalize(i,this.last);for(let _ of s)this.proxyOf.nodes.push(_)}return this.markDirty(),this}prepend(...p){p=p.reverse();for(let i of p){let s=this.normalize(i,this.first,"prepend").reverse();for(let _ of s)this.proxyOf.nodes.unshift(_);for(let _ in this.indexes)this.indexes[_]=this.indexes[_]+s.length}return this.markDirty(),this}cleanRaws(p){if(super.cleanRaws(p),this.nodes)for(let i of this.nodes)i.cleanRaws(p)}insertBefore(p,i){let s=this.index(p),_=s===0?"prepend":!1,w=this.normalize(i,this.proxyOf.nodes[s],_).reverse();s=this.index(p);for(let D of w)this.proxyOf.nodes.splice(s,0,D);let x;for(let D in this.indexes)x=this.indexes[D],s<=x&&(this.indexes[D]=x+w.length);return this.markDirty(),this}insertAfter(p,i){let s=this.index(p),_=this.normalize(i,this.proxyOf.nodes[s]).reverse();s=this.index(p);for(let x of _)this.proxyOf.nodes.splice(s+1,0,x);let w;for(let x in this.indexes)w=this.indexes[x],s<w&&(this.indexes[x]=w+_.length);return this.markDirty(),this}removeChild(p){p=this.index(p),this.proxyOf.nodes[p].parent=void 0,this.proxyOf.nodes.splice(p,1);let i;for(let s in this.indexes)i=this.indexes[s],i>=p&&(this.indexes[s]=i-1);return this.markDirty(),this}removeAll(){for(let p of this.proxyOf.nodes)p.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(p,i,s){return s||(s=i,i={}),this.walkDecls(_=>{i.props&&!i.props.includes(_.prop)||i.fast&&!_.value.includes(i.fast)||(_.value=_.value.replace(p,s))}),this.markDirty(),this}every(p){return this.nodes.every(p)}some(p){return this.nodes.some(p)}index(p){return typeof p=="number"?p:(p.proxyOf&&(p=p.proxyOf),this.proxyOf.nodes.indexOf(p))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(p,i){if(typeof p=="string")p=P(y(p).nodes);else if(Array.isArray(p)){p=p.slice(0);for(let _ of p)_.parent&&_.parent.removeChild(_,"ignore")}else if(p.type==="root"&&this.type!=="document"){p=p.nodes.slice(0);for(let _ of p)_.parent&&_.parent.removeChild(_,"ignore")}else if(p.type)p=[p];else if(p.prop){if(typeof p.value=="undefined")throw new Error("Value field is missed in node creation");typeof p.value!="string"&&(p.value=String(p.value)),p=[new u(p)]}else if(p.selector)p=[new E(p)];else if(p.name)p=[new d(p)];else if(p.text)p=[new v(p)];else throw new Error("Unknown node type in node creation");return p.map(_=>(_[c]||T.rebuild(_),_=_.proxyOf,_.parent&&_.parent.removeChild(_),_[n]&&S(_),typeof _.raws.before=="undefined"&&i&&typeof i.raws.before!="undefined"&&(_.raws.before=i.raws.before.replace(/\S/g,"")),_.parent=this.proxyOf,_))}getProxyProcessor(){return{set(p,i,s){return p[i]===s||(p[i]=s,(i==="name"||i==="params"||i==="selector")&&p.markDirty()),!0},get(p,i){return i==="proxyOf"?p:p[i]?i==="each"||typeof i=="string"&&i.startsWith("walk")?(...s)=>p[i](...s.map(_=>typeof _=="function"?(w,x)=>_(w.toProxy(),x):_)):i==="every"||i==="some"?s=>p[i]((_,...w)=>s(_.toProxy(),...w)):i==="root"?()=>p.root().toProxy():i==="nodes"?p.nodes.map(s=>s.toProxy()):i==="first"||i==="last"?p[i].toProxy():p[i]:p[i]}}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let p=this.lastEach;return this.indexes[p]=0,p}}T.registerParse=C=>{y=C},T.registerRule=C=>{E=C},T.registerAtRule=C=>{d=C},T.registerRoot=C=>{g=C},j.exports=T,T.default=T,T.rebuild=C=>{C.type==="atrule"?Object.setPrototypeOf(C,d.prototype):C.type==="rule"?Object.setPrototypeOf(C,E.prototype):C.type==="decl"?Object.setPrototypeOf(C,u.prototype):C.type==="comment"?Object.setPrototypeOf(C,v.prototype):C.type==="root"&&Object.setPrototypeOf(C,g.prototype),C[c]=!0,C.nodes&&C.nodes.forEach(p=>{T.rebuild(p)})}},42671:(j,l,e)=>{"use strict";let n=e(74241),c=e(22868);class u extends Error{constructor(O,y,E,d,g,P){super(O),this.name="CssSyntaxError",this.reason=O,g&&(this.file=g),d&&(this.source=d),P&&(this.plugin=P),typeof y!="undefined"&&typeof E!="undefined"&&(typeof y=="number"?(this.line=y,this.column=E):(this.line=y.line,this.column=y.column,this.endLine=E.line,this.endColumn=E.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,u)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line!="undefined"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(O){if(!this.source)return"";let y=this.source;O==null&&(O=n.isColorSupported),c&&O&&(y=c(y));let E=y.split(/\r?\n/),d=Math.max(this.line-3,0),g=Math.min(this.line+2,E.length),P=String(g).length,S,T;if(O){let{bold:C,red:p,gray:i}=n.createColors(!0);S=s=>C(p(s)),T=s=>i(s)}else S=T=C=>C;return E.slice(d,g).map((C,p)=>{let i=d+1+p,s=" "+(" "+i).slice(-P)+" | ";if(i===this.line){let _=T(s.replace(/\d/g," "))+C.slice(0,this.column-1).replace(/[^\t]/g," ");return S(">")+T(s)+C+`
 `+_+S("^")}return" "+T(s)+C}).join(`
`)}toString(){let O=this.showSourceCode();return O&&(O=`

`+O+`
`),this.name+": "+this.message+O}}j.exports=u,u.default=u},94258:(j,l,e)=>{"use strict";let n=e(65631);class c extends n{constructor(v){v&&typeof v.value!="undefined"&&typeof v.value!="string"&&(v=no(or({},v),{value:String(v.value)})),super(v),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}j.exports=c,c.default=c},26461:(j,l,e)=>{"use strict";let n=e(21019),c,u;class v extends n{constructor(y){super(or({type:"document"},y)),this.nodes||(this.nodes=[])}toResult(y={}){return new c(new u,this,y).stringify()}}v.registerLazyResult=O=>{c=O},v.registerProcessor=O=>{u=O},j.exports=v,v.default=v},50250:(j,l,e)=>{"use strict";let n=e(94258),c=e(47981),u=e(69932),v=e(41353),O=e(5995),y=e(41025),E=e(31675);function d(g,P){if(Array.isArray(g))return g.map(i=>d(i));let C=g,{inputs:S}=C,T=Or(C,["inputs"]);if(S){P=[];for(let i of S){let s=no(or({},i),{__proto__:O.prototype});s.map&&(s.map=no(or({},s.map),{__proto__:c.prototype})),P.push(s)}}if(T.nodes&&(T.nodes=g.nodes.map(i=>d(i,P))),T.source){let p=T.source,{inputId:i}=p,s=Or(p,["inputId"]);T.source=s,i!=null&&(T.source.input=P[i])}if(T.type==="root")return new y(T);if(T.type==="decl")return new n(T);if(T.type==="rule")return new E(T);if(T.type==="comment")return new u(T);if(T.type==="atrule")return new v(T);throw new Error("Unknown node type: "+g.type)}j.exports=d,d.default=d},5995:(j,l,e)=>{"use strict";let{SourceMapConsumer:n,SourceMapGenerator:c}=e(70209),{fileURLToPath:u,pathToFileURL:v}=e(87414),{resolve:O,isAbsolute:y}=e(99830),{nanoid:E}=e(62961),d=e(22868),g=e(42671),P=e(47981),S=Symbol("fromOffsetCache"),T=!!(n&&c),C=!!(O&&y);class p{constructor(s,_={}){if(s===null||typeof s=="undefined"||typeof s=="object"&&!s.toString)throw new Error(`PostCSS received ${s} instead of CSS string`);if(this.css=s.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,_.from&&(!C||/^\w+:\/\//.test(_.from)||y(_.from)?this.file=_.from:this.file=O(_.from)),C&&T){let w=new P(this.css,_);if(w.text){this.map=w;let x=w.consumer().file;!this.file&&x&&(this.file=this.mapResolve(x))}}this.file||(this.id="<input css "+E(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(s){let _,w;if(this[S])w=this[S];else{let D=this.css.split(`
`);w=new Array(D.length);let N=0;for(let I=0,A=D.length;I<A;I++)w[I]=N,N+=D[I].length+1;this[S]=w}_=w[w.length-1];let x=0;if(s>=_)x=w.length-1;else{let D=w.length-2,N;for(;x<D;)if(N=x+(D-x>>1),s<w[N])D=N-1;else if(s>=w[N+1])x=N+1;else{x=N;break}}return{line:x+1,col:s-w[x]+1}}error(s,_,w,x={}){let D,N,I;if(_&&typeof _=="object"){let M=_,R=w;if(typeof M.offset=="number"){let F=this.fromOffset(M.offset);_=F.line,w=F.col}else _=M.line,w=M.column;if(typeof R.offset=="number"){let F=this.fromOffset(R.offset);N=F.line,I=F.col}else N=R.line,I=R.column}else if(!w){let M=this.fromOffset(_);_=M.line,w=M.col}let A=this.origin(_,w,N,I);return A?D=new g(s,A.endLine===void 0?A.line:{line:A.line,column:A.column},A.endLine===void 0?A.column:{line:A.endLine,column:A.endColumn},A.source,A.file,x.plugin):D=new g(s,N===void 0?_:{line:_,column:w},N===void 0?w:{line:N,column:I},this.css,this.file,x.plugin),D.input={line:_,column:w,endLine:N,endColumn:I,source:this.css},this.file&&(v&&(D.input.url=v(this.file).toString()),D.input.file=this.file),D}origin(s,_,w,x){if(!this.map)return!1;let D=this.map.consumer(),N=D.originalPositionFor({line:s,column:_});if(!N.source)return!1;let I;typeof w=="number"&&(I=D.originalPositionFor({line:w,column:x}));let A;y(N.source)?A=v(N.source):A=new URL(N.source,this.map.consumer().sourceRoot||v(this.map.mapFile));let M={url:A.toString(),line:N.line,column:N.column,endLine:I&&I.line,endColumn:I&&I.column};if(A.protocol==="file:")if(u)M.file=u(A);else throw new Error("file: protocol is not available in this PostCSS build");let R=D.sourceContentFor(N.source);return R&&(M.source=R),M}mapResolve(s){return/^\w+:\/\//.test(s)?s:O(this.map.consumer().sourceRoot||this.map.root||".",s)}get from(){return this.file||this.id}toJSON(){let s={};for(let _ of["hasBOM","css","file","id"])this[_]!=null&&(s[_]=this[_]);return this.map&&(s.map=or({},this.map),s.map.consumerCache&&(s.map.consumerCache=void 0)),s}}j.exports=p,p.default=p,d&&d.registerInput&&d.registerInput(p)},21939:(j,l,e)=>{"use strict";let{isClean:n,my:c}=e(65513),u=e(48505),v=e(67088),O=e(21019),y=e(26461),E=e(72448),d=e(83632),g=e(66939),P=e(41025);const S={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},T={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},C={postcssPlugin:!0,prepare:!0,Once:!0},p=0;function i(N){return typeof N=="object"&&typeof N.then=="function"}function s(N){let I=!1,A=S[N.type];return N.type==="decl"?I=N.prop.toLowerCase():N.type==="atrule"&&(I=N.name.toLowerCase()),I&&N.append?[A,A+"-"+I,p,A+"Exit",A+"Exit-"+I]:I?[A,A+"-"+I,A+"Exit",A+"Exit-"+I]:N.append?[A,p,A+"Exit"]:[A,A+"Exit"]}function _(N){let I;return N.type==="document"?I=["Document",p,"DocumentExit"]:N.type==="root"?I=["Root",p,"RootExit"]:I=s(N),{node:N,events:I,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function w(N){return N[n]=!1,N.nodes&&N.nodes.forEach(I=>w(I)),N}let x={};class D{constructor(I,A,M){this.stringified=!1,this.processed=!1;let R;if(typeof A=="object"&&A!==null&&(A.type==="root"||A.type==="document"))R=w(A);else if(A instanceof D||A instanceof d)R=w(A.root),A.map&&(typeof M.map=="undefined"&&(M.map={}),M.map.inline||(M.map.inline=!1),M.map.prev=A.map);else{let F=g;M.syntax&&(F=M.syntax.parse),M.parser&&(F=M.parser),F.parse&&(F=F.parse);try{R=F(A,M)}catch(Z){this.processed=!0,this.error=Z}R&&!R[c]&&O.rebuild(R)}this.result=new d(I,R,M),this.helpers=no(or({},x),{result:this.result,postcss:x}),this.plugins=this.processor.plugins.map(F=>typeof F=="object"&&F.prepare?or(or({},F),F.prepare(this.result)):F)}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(I,A){return this.async().then(I,A)}catch(I){return this.async().catch(I)}finally(I){return this.async().then(I,I)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let I of this.plugins){let A=this.runOnRoot(I);if(i(A))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let I=this.result.root;for(;!I[n];)I[n]=!0,this.walkSync(I);if(this.listeners.OnceExit)if(I.type==="document")for(let A of I.nodes)this.visitSync(this.listeners.OnceExit,A);else this.visitSync(this.listeners.OnceExit,I)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let I=this.result.opts,A=v;I.syntax&&(A=I.syntax.stringify),I.stringifier&&(A=I.stringifier),A.stringify&&(A=A.stringify);let R=new u(A,this.result.root,this.result.opts).generate();return this.result.css=R[0],this.result.map=R[1],this.result}walkSync(I){I[n]=!0;let A=s(I);for(let M of A)if(M===p)I.nodes&&I.each(R=>{R[n]||this.walkSync(R)});else{let R=this.listeners[M];if(R&&this.visitSync(R,I.toProxy()))return}}visitSync(I,A){for(let[M,R]of I){this.result.lastPlugin=M;let F;try{F=R(A,this.helpers)}catch(Z){throw this.handleError(Z,A.proxyOf)}if(A.type!=="root"&&A.type!=="document"&&!A.parent)return!0;if(i(F))throw this.getAsyncError()}}runOnRoot(I){this.result.lastPlugin=I;try{if(typeof I=="object"&&I.Once){if(this.result.root.type==="document"){let A=this.result.root.nodes.map(M=>I.Once(M,this.helpers));return i(A[0])?Promise.all(A):A}return I.Once(this.result.root,this.helpers)}else if(typeof I=="function")return I(this.result.root,this.result)}catch(A){throw this.handleError(A)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(I,A){let M=this.result.lastPlugin;try{A&&A.addToError(I),this.error=I,I.name==="CssSyntaxError"&&!I.plugin?(I.plugin=M.postcssPlugin,I.setMessage()):M.postcssVersion}catch(R){console&&console.error&&console.error(R)}return I}runAsync(){return Vs(this,null,function*(){this.plugin=0;for(let I=0;I<this.plugins.length;I++){let A=this.plugins[I],M=this.runOnRoot(A);if(i(M))try{yield M}catch(R){throw this.handleError(R)}}if(this.prepareVisitors(),this.hasListener){let I=this.result.root;for(;!I[n];){I[n]=!0;let A=[_(I)];for(;A.length>0;){let M=this.visitTick(A);if(i(M))try{yield M}catch(R){let F=A[A.length-1].node;throw this.handleError(R,F)}}}if(this.listeners.OnceExit)for(let[A,M]of this.listeners.OnceExit){this.result.lastPlugin=A;try{if(I.type==="document"){let R=I.nodes.map(F=>M(F,this.helpers));yield Promise.all(R)}else yield M(I,this.helpers)}catch(R){throw this.handleError(R)}}}return this.processed=!0,this.stringify()})}prepareVisitors(){this.listeners={};let I=(A,M,R)=>{this.listeners[M]||(this.listeners[M]=[]),this.listeners[M].push([A,R])};for(let A of this.plugins)if(typeof A=="object")for(let M in A){if(!T[M]&&/^[A-Z]/.test(M))throw new Error(`Unknown event ${M} in ${A.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!C[M])if(typeof A[M]=="object")for(let R in A[M])R==="*"?I(A,M,A[M][R]):I(A,M+"-"+R.toLowerCase(),A[M][R]);else typeof A[M]=="function"&&I(A,M,A[M])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(I){let A=I[I.length-1],{node:M,visitors:R}=A;if(M.type!=="root"&&M.type!=="document"&&!M.parent){I.pop();return}if(R.length>0&&A.visitorIndex<R.length){let[Z,V]=R[A.visitorIndex];A.visitorIndex+=1,A.visitorIndex===R.length&&(A.visitors=[],A.visitorIndex=0),this.result.lastPlugin=Z;try{return V(M.toProxy(),this.helpers)}catch(G){throw this.handleError(G,M)}}if(A.iterator!==0){let Z=A.iterator,V;for(;V=M.nodes[M.indexes[Z]];)if(M.indexes[Z]+=1,!V[n]){V[n]=!0,I.push(_(V));return}A.iterator=0,delete M.indexes[Z]}let F=A.events;for(;A.eventIndex<F.length;){let Z=F[A.eventIndex];if(A.eventIndex+=1,Z===p){M.nodes&&M.nodes.length&&(M[n]=!0,A.iterator=M.getIterator());return}else if(this.listeners[Z]){A.visitors=this.listeners[Z];return}}I.pop()}}D.registerPostcss=N=>{x=N},j.exports=D,D.default=D,P.registerLazyResult(D),y.registerLazyResult(D)},54715:j=>{"use strict";let l={split(e,n,c){let u=[],v="",O=!1,y=0,E=!1,d="",g=!1;for(let P of e)g?g=!1:P==="\\"?g=!0:E?P===d&&(E=!1):P==='"'||P==="'"?(E=!0,d=P):P==="("?y+=1:P===")"?y>0&&(y-=1):y===0&&n.includes(P)&&(O=!0),O?(v!==""&&u.push(v.trim()),v="",O=!1):v+=P;return(c||v!=="")&&u.push(v.trim()),u},space(e){let n=[" ",`
`,"	"];return l.split(e,n)},comma(e){return l.split(e,[","],!0)}};j.exports=l,l.default=l},48505:(j,l,e)=>{"use strict";let{SourceMapConsumer:n,SourceMapGenerator:c}=e(70209),{dirname:u,resolve:v,relative:O,sep:y}=e(99830),{pathToFileURL:E}=e(87414),d=e(5995),g=!!(n&&c),P=!!(u&&v&&O&&y);class S{constructor(C,p,i,s){this.stringify=C,this.mapOpts=i.map||{},this.root=p,this.opts=i,this.css=s,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute}isMap(){return typeof this.opts.map!="undefined"?!!this.opts.map:this.previous().length>0}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(C=>{if(C.source&&C.source.input.map){let p=C.source.input.map;this.previousMaps.includes(p)||this.previousMaps.push(p)}});else{let C=new d(this.css,this.opts);C.map&&this.previousMaps.push(C.map)}return this.previousMaps}isInline(){if(typeof this.mapOpts.inline!="undefined")return this.mapOpts.inline;let C=this.mapOpts.annotation;return typeof C!="undefined"&&C!==!0?!1:this.previous().length?this.previous().some(p=>p.inline):!0}isSourcesContent(){return typeof this.mapOpts.sourcesContent!="undefined"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(C=>C.withContent()):!0}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let C;for(let p=this.root.nodes.length-1;p>=0;p--)C=this.root.nodes[p],C.type==="comment"&&C.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(p)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}setSourcesContent(){let C={};if(this.root)this.root.walk(p=>{if(p.source){let i=p.source.input.from;if(i&&!C[i]){C[i]=!0;let s=this.usesFileUrls?this.toFileUrl(i):this.toUrl(this.path(i));this.map.setSourceContent(s,p.source.input.css)}}});else if(this.css){let p=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(p,this.css)}}applyPrevMaps(){for(let C of this.previous()){let p=this.toUrl(this.path(C.file)),i=C.root||u(C.file),s;this.mapOpts.sourcesContent===!1?(s=new n(C.text),s.sourcesContent&&(s.sourcesContent=s.sourcesContent.map(()=>null))):s=C.consumer(),this.map.applySourceMap(s,p,this.toUrl(this.path(i)))}}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation!="undefined"?this.mapOpts.annotation:this.previous().length?this.previous().some(C=>C.annotation):!0}toBase64(C){return Buffer?Buffer.from(C).toString("base64"):window.btoa(unescape(encodeURIComponent(C)))}addAnnotation(){let C;this.isInline()?C="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?C=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?C=this.mapOpts.annotation(this.opts.to,this.root):C=this.outputFile()+".map";let p=`
`;this.css.includes(`\r
`)&&(p=`\r
`),this.css+=p+"/*# sourceMappingURL="+C+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let C=this.previous()[0].consumer();C.file=this.outputFile(),this.map=c.fromSourceMap(C)}else this.map=new c({file:this.outputFile()}),this.map.addMapping({source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>",generated:{line:1,column:0},original:{line:1,column:0}});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(C){if(C.indexOf("<")===0||/^\w+:\/\//.test(C)||this.mapOpts.absolute)return C;let p=this.opts.to?u(this.opts.to):".";return typeof this.mapOpts.annotation=="string"&&(p=u(v(p,this.mapOpts.annotation))),C=O(p,C),C}toUrl(C){return y==="\\"&&(C=C.replace(/\\/g,"/")),encodeURI(C).replace(/[#?]/g,encodeURIComponent)}toFileUrl(C){if(E)return E(C).toString();throw new Error("`map.absolute` option is not available in this PostCSS build")}sourcePath(C){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(C.source.input.from):this.toUrl(this.path(C.source.input.from))}generateString(){this.css="",this.map=new c({file:this.outputFile()});let C=1,p=1,i="<no source>",s={source:"",generated:{line:0,column:0},original:{line:0,column:0}},_,w;this.stringify(this.root,(x,D,N)=>{if(this.css+=x,D&&N!=="end"&&(s.generated.line=C,s.generated.column=p-1,D.source&&D.source.start?(s.source=this.sourcePath(D),s.original.line=D.source.start.line,s.original.column=D.source.start.column-1,this.map.addMapping(s)):(s.source=i,s.original.line=1,s.original.column=0,this.map.addMapping(s))),_=x.match(/\n/g),_?(C+=_.length,w=x.lastIndexOf(`
`),p=x.length-w):p+=x.length,D&&N!=="start"){let I=D.parent||{raws:{}};(!(D.type==="decl"||D.type==="atrule"&&!D.nodes)||D!==I.last||I.raws.semicolon)&&(D.source&&D.source.end?(s.source=this.sourcePath(D),s.original.line=D.source.end.line,s.original.column=D.source.end.column-1,s.generated.line=C,s.generated.column=p-2,this.map.addMapping(s)):(s.source=i,s.original.line=1,s.original.column=0,s.generated.line=C,s.generated.column=p-1,this.map.addMapping(s)))}})}generate(){if(this.clearAnnotation(),P&&g&&this.isMap())return this.generateMap();{let C="";return this.stringify(this.root,p=>{C+=p}),[C]}}}j.exports=S},47647:(j,l,e)=>{"use strict";let n=e(48505),c=e(67088),u=e(72448),v=e(66939);const O=e(83632);class y{constructor(d,g,P){g=g.toString(),this.stringified=!1,this._processor=d,this._css=g,this._opts=P,this._map=void 0;let S,T=c;this.result=new O(this._processor,S,this._opts),this.result.css=g;let C=this;Object.defineProperty(this.result,"root",{get(){return C.root}});let p=new n(T,S,this._opts,g);if(p.isMap()){let[i,s]=p.generate();i&&(this.result.css=i),s&&(this.result.map=s)}}get[Symbol.toStringTag](){return"NoWorkResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.result.css}get content(){return this.result.css}get map(){return this.result.map}get root(){if(this._root)return this._root;let d,g=v;try{d=g(this._css,this._opts)}catch(P){this.error=P}if(this.error)throw this.error;return this._root=d,d}get messages(){return[]}warnings(){return[]}toString(){return this._css}then(d,g){return this.async().then(d,g)}catch(d){return this.async().catch(d)}finally(d){return this.async().then(d,d)}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}sync(){if(this.error)throw this.error;return this.result}}j.exports=y,y.default=y},65631:(j,l,e)=>{"use strict";let{isClean:n,my:c}=e(65513),u=e(42671),v=e(1062),O=e(67088);function y(d,g){let P=new d.constructor;for(let S in d){if(!Object.prototype.hasOwnProperty.call(d,S)||S==="proxyCache")continue;let T=d[S],C=typeof T;S==="parent"&&C==="object"?g&&(P[S]=g):S==="source"?P[S]=T:Array.isArray(T)?P[S]=T.map(p=>y(p,P)):(C==="object"&&T!==null&&(T=y(T)),P[S]=T)}return P}class E{constructor(g={}){this.raws={},this[n]=!1,this[c]=!0;for(let P in g)if(P==="nodes"){this.nodes=[];for(let S of g[P])typeof S.clone=="function"?this.append(S.clone()):this.append(S)}else this[P]=g[P]}error(g,P={}){if(this.source){let{start:S,end:T}=this.rangeBy(P);return this.source.input.error(g,{line:S.line,column:S.column},{line:T.line,column:T.column},P)}return new u(g)}warn(g,P,S){let T={node:this};for(let C in S)T[C]=S[C];return g.warn(P,T)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(g=O){g.stringify&&(g=g.stringify);let P="";return g(this,S=>{P+=S}),P}assign(g={}){for(let P in g)this[P]=g[P];return this}clone(g={}){let P=y(this);for(let S in g)P[S]=g[S];return P}cloneBefore(g={}){let P=this.clone(g);return this.parent.insertBefore(this,P),P}cloneAfter(g={}){let P=this.clone(g);return this.parent.insertAfter(this,P),P}replaceWith(...g){if(this.parent){let P=this,S=!1;for(let T of g)T===this?S=!0:S?(this.parent.insertAfter(P,T),P=T):this.parent.insertBefore(P,T);S||this.remove()}return this}next(){if(!this.parent)return;let g=this.parent.index(this);return this.parent.nodes[g+1]}prev(){if(!this.parent)return;let g=this.parent.index(this);return this.parent.nodes[g-1]}before(g){return this.parent.insertBefore(this,g),this}after(g){return this.parent.insertAfter(this,g),this}root(){let g=this;for(;g.parent&&g.parent.type!=="document";)g=g.parent;return g}raw(g,P){return new v().raw(this,g,P)}cleanRaws(g){delete this.raws.before,delete this.raws.after,g||delete this.raws.between}toJSON(g,P){let S={},T=P==null;P=P||new Map;let C=0;for(let p in this){if(!Object.prototype.hasOwnProperty.call(this,p)||p==="parent"||p==="proxyCache")continue;let i=this[p];if(Array.isArray(i))S[p]=i.map(s=>typeof s=="object"&&s.toJSON?s.toJSON(null,P):s);else if(typeof i=="object"&&i.toJSON)S[p]=i.toJSON(null,P);else if(p==="source"){let s=P.get(i.input);s==null&&(s=C,P.set(i.input,C),C++),S[p]={inputId:s,start:i.start,end:i.end}}else S[p]=i}return T&&(S.inputs=[...P.keys()].map(p=>p.toJSON())),S}positionInside(g){let P=this.toString(),S=this.source.start.column,T=this.source.start.line;for(let C=0;C<g;C++)P[C]===`
`?(S=1,T+=1):S+=1;return{line:T,column:S}}positionBy(g){let P=this.source.start;if(g.index)P=this.positionInside(g.index);else if(g.word){let S=this.toString().indexOf(g.word);S!==-1&&(P=this.positionInside(S))}return P}rangeBy(g){let P={line:this.source.start.line,column:this.source.start.column},S=this.source.end?{line:this.source.end.line,column:this.source.end.column+1}:{line:P.line,column:P.column+1};if(g.word){let T=this.toString().indexOf(g.word);T!==-1&&(P=this.positionInside(T),S=this.positionInside(T+g.word.length))}else g.start?P={line:g.start.line,column:g.start.column}:g.index&&(P=this.positionInside(g.index)),g.end?S={line:g.end.line,column:g.end.column}:g.endIndex?S=this.positionInside(g.endIndex):g.index&&(S=this.positionInside(g.index+1));return(S.line<P.line||S.line===P.line&&S.column<=P.column)&&(S={line:P.line,column:P.column+1}),{start:P,end:S}}getProxyProcessor(){return{set(g,P,S){return g[P]===S||(g[P]=S,(P==="prop"||P==="value"||P==="name"||P==="params"||P==="important"||P==="text")&&g.markDirty()),!0},get(g,P){return P==="proxyOf"?g:P==="root"?()=>g.root().toProxy():g[P]}}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(g){if(g.postcssNode=this,g.stack&&this.source&&/\n\s{4}at /.test(g.stack)){let P=this.source;g.stack=g.stack.replace(/\n\s{4}at /,`$&${P.input.from}:${P.start.line}:${P.start.column}$&`)}return g}markDirty(){if(this[n]){this[n]=!1;let g=this;for(;g=g.parent;)g[n]=!1}}get proxyOf(){return this}}j.exports=E,E.default=E},66939:(j,l,e)=>{"use strict";let n=e(21019),c=e(68867),u=e(5995);function v(O,y){let E=new u(O,y),d=new c(E);try{d.parse()}catch(g){throw g}return d.root}j.exports=v,v.default=v,n.registerParse(v)},68867:(j,l,e)=>{"use strict";let n=e(94258),c=e(83852),u=e(69932),v=e(41353),O=e(41025),y=e(31675);const E={empty:!0,space:!0};function d(P){for(let S=P.length-1;S>=0;S--){let T=P[S],C=T[3]||T[2];if(C)return C}}class g{constructor(S){this.input=S,this.root=new O,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:S,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=c(this.input)}parse(){let S;for(;!this.tokenizer.endOfFile();)switch(S=this.tokenizer.nextToken(),S[0]){case"space":this.spaces+=S[1];break;case";":this.freeSemicolon(S);break;case"}":this.end(S);break;case"comment":this.comment(S);break;case"at-word":this.atrule(S);break;case"{":this.emptyRule(S);break;default:this.other(S);break}this.endFile()}comment(S){let T=new u;this.init(T,S[2]),T.source.end=this.getPosition(S[3]||S[2]);let C=S[1].slice(2,-2);if(/^\s*$/.test(C))T.text="",T.raws.left=C,T.raws.right="";else{let p=C.match(/^(\s*)([^]*\S)(\s*)$/);T.text=p[2],T.raws.left=p[1],T.raws.right=p[3]}}emptyRule(S){let T=new y;this.init(T,S[2]),T.selector="",T.raws.between="",this.current=T}other(S){let T=!1,C=null,p=!1,i=null,s=[],_=S[1].startsWith("--"),w=[],x=S;for(;x;){if(C=x[0],w.push(x),C==="("||C==="[")i||(i=x),s.push(C==="("?")":"]");else if(_&&p&&C==="{")i||(i=x),s.push("}");else if(s.length===0)if(C===";")if(p){this.decl(w,_);return}else break;else if(C==="{"){this.rule(w);return}else if(C==="}"){this.tokenizer.back(w.pop()),T=!0;break}else C===":"&&(p=!0);else C===s[s.length-1]&&(s.pop(),s.length===0&&(i=null));x=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(T=!0),s.length>0&&this.unclosedBracket(i),T&&p){if(!_)for(;w.length&&(x=w[w.length-1][0],!(x!=="space"&&x!=="comment"));)this.tokenizer.back(w.pop());this.decl(w,_)}else this.unknownWord(w)}rule(S){S.pop();let T=new y;this.init(T,S[0][2]),T.raws.between=this.spacesAndCommentsFromEnd(S),this.raw(T,"selector",S),this.current=T}decl(S,T){let C=new n;this.init(C,S[0][2]);let p=S[S.length-1];for(p[0]===";"&&(this.semicolon=!0,S.pop()),C.source.end=this.getPosition(p[3]||p[2]||d(S));S[0][0]!=="word";)S.length===1&&this.unknownWord(S),C.raws.before+=S.shift()[1];for(C.source.start=this.getPosition(S[0][2]),C.prop="";S.length;){let x=S[0][0];if(x===":"||x==="space"||x==="comment")break;C.prop+=S.shift()[1]}C.raws.between="";let i;for(;S.length;)if(i=S.shift(),i[0]===":"){C.raws.between+=i[1];break}else i[0]==="word"&&/\w/.test(i[1])&&this.unknownWord([i]),C.raws.between+=i[1];(C.prop[0]==="_"||C.prop[0]==="*")&&(C.raws.before+=C.prop[0],C.prop=C.prop.slice(1));let s=[],_;for(;S.length&&(_=S[0][0],!(_!=="space"&&_!=="comment"));)s.push(S.shift());this.precheckMissedSemicolon(S);for(let x=S.length-1;x>=0;x--){if(i=S[x],i[1].toLowerCase()==="!important"){C.important=!0;let D=this.stringFrom(S,x);D=this.spacesFromEnd(S)+D,D!==" !important"&&(C.raws.important=D);break}else if(i[1].toLowerCase()==="important"){let D=S.slice(0),N="";for(let I=x;I>0;I--){let A=D[I][0];if(N.trim().indexOf("!")===0&&A!=="space")break;N=D.pop()[1]+N}N.trim().indexOf("!")===0&&(C.important=!0,C.raws.important=N,S=D)}if(i[0]!=="space"&&i[0]!=="comment")break}S.some(x=>x[0]!=="space"&&x[0]!=="comment")&&(C.raws.between+=s.map(x=>x[1]).join(""),s=[]),this.raw(C,"value",s.concat(S),T),C.value.includes(":")&&!T&&this.checkMissedSemicolon(S)}atrule(S){let T=new v;T.name=S[1].slice(1),T.name===""&&this.unnamedAtrule(T,S),this.init(T,S[2]);let C,p,i,s=!1,_=!1,w=[],x=[];for(;!this.tokenizer.endOfFile();){if(S=this.tokenizer.nextToken(),C=S[0],C==="("||C==="["?x.push(C==="("?")":"]"):C==="{"&&x.length>0?x.push("}"):C===x[x.length-1]&&x.pop(),x.length===0)if(C===";"){T.source.end=this.getPosition(S[2]),this.semicolon=!0;break}else if(C==="{"){_=!0;break}else if(C==="}"){if(w.length>0){for(i=w.length-1,p=w[i];p&&p[0]==="space";)p=w[--i];p&&(T.source.end=this.getPosition(p[3]||p[2]))}this.end(S);break}else w.push(S);else w.push(S);if(this.tokenizer.endOfFile()){s=!0;break}}T.raws.between=this.spacesAndCommentsFromEnd(w),w.length?(T.raws.afterName=this.spacesAndCommentsFromStart(w),this.raw(T,"params",w),s&&(S=w[w.length-1],T.source.end=this.getPosition(S[3]||S[2]),this.spaces=T.raws.between,T.raws.between="")):(T.raws.afterName="",T.params=""),_&&(T.nodes=[],this.current=T)}end(S){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(S[2]),this.current=this.current.parent):this.unexpectedClose(S)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(S){if(this.spaces+=S[1],this.current.nodes){let T=this.current.nodes[this.current.nodes.length-1];T&&T.type==="rule"&&!T.raws.ownSemicolon&&(T.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(S){let T=this.input.fromOffset(S);return{offset:S,line:T.line,column:T.col}}init(S,T){this.current.push(S),S.source={start:this.getPosition(T),input:this.input},S.raws.before=this.spaces,this.spaces="",S.type!=="comment"&&(this.semicolon=!1)}raw(S,T,C,p){let i,s,_=C.length,w="",x=!0,D,N;for(let I=0;I<_;I+=1)i=C[I],s=i[0],s==="space"&&I===_-1&&!p?x=!1:s==="comment"?(N=C[I-1]?C[I-1][0]:"empty",D=C[I+1]?C[I+1][0]:"empty",!E[N]&&!E[D]?w.slice(-1)===","?x=!1:w+=i[1]:x=!1):w+=i[1];if(!x){let I=C.reduce((A,M)=>A+M[1],"");S.raws[T]={value:w,raw:I}}S[T]=w}spacesAndCommentsFromEnd(S){let T,C="";for(;S.length&&(T=S[S.length-1][0],!(T!=="space"&&T!=="comment"));)C=S.pop()[1]+C;return C}spacesAndCommentsFromStart(S){let T,C="";for(;S.length&&(T=S[0][0],!(T!=="space"&&T!=="comment"));)C+=S.shift()[1];return C}spacesFromEnd(S){let T,C="";for(;S.length&&(T=S[S.length-1][0],T==="space");)C=S.pop()[1]+C;return C}stringFrom(S,T){let C="";for(let p=T;p<S.length;p++)C+=S[p][1];return S.splice(T,S.length-T),C}colon(S){let T=0,C,p,i;for(let[s,_]of S.entries()){if(C=_,p=C[0],p==="("&&(T+=1),p===")"&&(T-=1),T===0&&p===":")if(!i)this.doubleColon(C);else{if(i[0]==="word"&&i[1]==="progid")continue;return s}i=C}return!1}unclosedBracket(S){throw this.input.error("Unclosed bracket",{offset:S[2]},{offset:S[2]+1})}unknownWord(S){throw this.input.error("Unknown word",{offset:S[0][2]},{offset:S[0][2]+S[0][1].length})}unexpectedClose(S){throw this.input.error("Unexpected }",{offset:S[2]},{offset:S[2]+1})}unclosedBlock(){let S=this.current.source.start;throw this.input.error("Unclosed block",S.line,S.column)}doubleColon(S){throw this.input.error("Double colon",{offset:S[2]},{offset:S[2]+S[1].length})}unnamedAtrule(S,T){throw this.input.error("At-rule without name",{offset:T[2]},{offset:T[2]+T[1].length})}precheckMissedSemicolon(){}checkMissedSemicolon(S){let T=this.colon(S);if(T===!1)return;let C=0,p;for(let i=T-1;i>=0&&(p=S[i],!(p[0]!=="space"&&(C+=1,C===2)));i--);throw this.input.error("Missed semicolon",p[0]==="word"?p[3]+1:p[2])}}j.exports=g},50020:(j,l,e)=>{"use strict";let n=e(42671),c=e(94258),u=e(21939),v=e(21019),O=e(71723),y=e(67088),E=e(50250),d=e(26461),g=e(11728),P=e(69932),S=e(41353),T=e(83632),C=e(5995),p=e(66939),i=e(54715),s=e(31675),_=e(41025),w=e(65631);function x(...D){return D.length===1&&Array.isArray(D[0])&&(D=D[0]),new O(D)}x.plugin=function(N,I){let A=!1;function M(...F){console&&console.warn&&!A&&(A=!0,console.warn(N+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(N+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let Z=I(...F);return Z.postcssPlugin=N,Z.postcssVersion=new O().version,Z}let R;return Object.defineProperty(M,"postcss",{get(){return R||(R=M()),R}}),M.process=function(F,Z,V){return x([M(V)]).process(F,Z)},M},x.stringify=y,x.parse=p,x.fromJSON=E,x.list=i,x.comment=D=>new P(D),x.atRule=D=>new S(D),x.decl=D=>new c(D),x.rule=D=>new s(D),x.root=D=>new _(D),x.document=D=>new d(D),x.CssSyntaxError=n,x.Declaration=c,x.Container=v,x.Processor=O,x.Document=d,x.Comment=P,x.Warning=g,x.AtRule=S,x.Result=T,x.Input=C,x.Rule=s,x.Root=_,x.Node=w,u.registerPostcss(x),j.exports=x,x.default=x},47981:(j,l,e)=>{"use strict";let{SourceMapConsumer:n,SourceMapGenerator:c}=e(70209),{existsSync:u,readFileSync:v}=e(14777),{dirname:O,join:y}=e(99830);function E(g){return Buffer?Buffer.from(g,"base64").toString():window.atob(g)}class d{constructor(P,S){if(S.map===!1)return;this.loadAnnotation(P),this.inline=this.startWith(this.annotation,"data:");let T=S.map?S.map.prev:void 0,C=this.loadMap(S.from,T);!this.mapFile&&S.from&&(this.mapFile=S.from),this.mapFile&&(this.root=O(this.mapFile)),C&&(this.text=C)}consumer(){return this.consumerCache||(this.consumerCache=new n(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(P,S){return P?P.substr(0,S.length)===S:!1}getAnnotationURL(P){return P.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}loadAnnotation(P){let S=P.match(/\/\*\s*# sourceMappingURL=/gm);if(!S)return;let T=P.lastIndexOf(S.pop()),C=P.indexOf("*/",T);T>-1&&C>-1&&(this.annotation=this.getAnnotationURL(P.substring(T,C)))}decodeInline(P){let S=/^data:application\/json;charset=utf-?8;base64,/,T=/^data:application\/json;base64,/,C=/^data:application\/json;charset=utf-?8,/,p=/^data:application\/json,/;if(C.test(P)||p.test(P))return decodeURIComponent(P.substr(RegExp.lastMatch.length));if(S.test(P)||T.test(P))return E(P.substr(RegExp.lastMatch.length));let i=P.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+i)}loadFile(P){if(this.root=O(P),u(P))return this.mapFile=P,v(P,"utf-8").toString().trim()}loadMap(P,S){if(S===!1)return!1;if(S){if(typeof S=="string")return S;if(typeof S=="function"){let T=S(P);if(T){let C=this.loadFile(T);if(!C)throw new Error("Unable to load previous source map: "+T.toString());return C}}else{if(S instanceof n)return c.fromSourceMap(S).toString();if(S instanceof c)return S.toString();if(this.isMap(S))return JSON.stringify(S);throw new Error("Unsupported previous source map format: "+S.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let T=this.annotation;return P&&(T=y(O(P),T)),this.loadFile(T)}}}isMap(P){return typeof P!="object"?!1:typeof P.mappings=="string"||typeof P._mappings=="string"||Array.isArray(P.sections)}}j.exports=d,d.default=d},71723:(j,l,e)=>{"use strict";let n=e(47647),c=e(21939),u=e(26461),v=e(41025);class O{constructor(E=[]){this.version="8.4.24",this.plugins=this.normalize(E)}use(E){return this.plugins=this.plugins.concat(this.normalize([E])),this}process(E,d={}){return this.plugins.length===0&&typeof d.parser=="undefined"&&typeof d.stringifier=="undefined"&&typeof d.syntax=="undefined"?new n(this,E,d):new c(this,E,d)}normalize(E){let d=[];for(let g of E)if(g.postcss===!0?g=g():g.postcss&&(g=g.postcss),typeof g=="object"&&Array.isArray(g.plugins))d=d.concat(g.plugins);else if(typeof g=="object"&&g.postcssPlugin)d.push(g);else if(typeof g=="function")d.push(g);else if(!(typeof g=="object"&&(g.parse||g.stringify)))throw new Error(g+" is not a PostCSS plugin");return d}}j.exports=O,O.default=O,v.registerProcessor(O),u.registerProcessor(O)},83632:(j,l,e)=>{"use strict";let n=e(11728);class c{constructor(v,O,y){this.processor=v,this.messages=[],this.root=O,this.opts=y,this.css=void 0,this.map=void 0}toString(){return this.css}warn(v,O={}){O.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(O.plugin=this.lastPlugin.postcssPlugin);let y=new n(v,O);return this.messages.push(y),y}warnings(){return this.messages.filter(v=>v.type==="warning")}get content(){return this.css}}j.exports=c,c.default=c},41025:(j,l,e)=>{"use strict";let n=e(21019),c,u;class v extends n{constructor(y){super(y),this.type="root",this.nodes||(this.nodes=[])}removeChild(y,E){let d=this.index(y);return!E&&d===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[d].raws.before),super.removeChild(y)}normalize(y,E,d){let g=super.normalize(y);if(E){if(d==="prepend")this.nodes.length>1?E.raws.before=this.nodes[1].raws.before:delete E.raws.before;else if(this.first!==E)for(let P of g)P.raws.before=E.raws.before}return g}toResult(y={}){return new c(new u,this,y).stringify()}}v.registerLazyResult=O=>{c=O},v.registerProcessor=O=>{u=O},j.exports=v,v.default=v,n.registerRoot(v)},31675:(j,l,e)=>{"use strict";let n=e(21019),c=e(54715);class u extends n{constructor(O){super(O),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return c.comma(this.selector)}set selectors(O){let y=this.selector?this.selector.match(/,\s*/):null,E=y?y[0]:","+this.raw("between","beforeOpen");this.selector=O.join(E)}}j.exports=u,u.default=u,n.registerRule(u)},1062:j=>{"use strict";const l={colon:": ",indent:"    ",beforeDecl:`
`,beforeRule:`
`,beforeOpen:" ",beforeClose:`
`,beforeComment:`
`,after:`
`,emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};function e(c){return c[0].toUpperCase()+c.slice(1)}class n{constructor(u){this.builder=u}stringify(u,v){if(!this[u.type])throw new Error("Unknown AST node type "+u.type+". Maybe you need to change PostCSS stringifier.");this[u.type](u,v)}document(u){this.body(u)}root(u){this.body(u),u.raws.after&&this.builder(u.raws.after)}comment(u){let v=this.raw(u,"left","commentLeft"),O=this.raw(u,"right","commentRight");this.builder("/*"+v+u.text+O+"*/",u)}decl(u,v){let O=this.raw(u,"between","colon"),y=u.prop+O+this.rawValue(u,"value");u.important&&(y+=u.raws.important||" !important"),v&&(y+=";"),this.builder(y,u)}rule(u){this.block(u,this.rawValue(u,"selector")),u.raws.ownSemicolon&&this.builder(u.raws.ownSemicolon,u,"end")}atrule(u,v){let O="@"+u.name,y=u.params?this.rawValue(u,"params"):"";if(typeof u.raws.afterName!="undefined"?O+=u.raws.afterName:y&&(O+=" "),u.nodes)this.block(u,O+y);else{let E=(u.raws.between||"")+(v?";":"");this.builder(O+y+E,u)}}body(u){let v=u.nodes.length-1;for(;v>0&&u.nodes[v].type==="comment";)v-=1;let O=this.raw(u,"semicolon");for(let y=0;y<u.nodes.length;y++){let E=u.nodes[y],d=this.raw(E,"before");d&&this.builder(d),this.stringify(E,v!==y||O)}}block(u,v){let O=this.raw(u,"between","beforeOpen");this.builder(v+O+"{",u,"start");let y;u.nodes&&u.nodes.length?(this.body(u),y=this.raw(u,"after")):y=this.raw(u,"after","emptyBody"),y&&this.builder(y),this.builder("}",u,"end")}raw(u,v,O){let y;if(O||(O=v),v&&(y=u.raws[v],typeof y!="undefined"))return y;let E=u.parent;if(O==="before"&&(!E||E.type==="root"&&E.first===u||E&&E.type==="document"))return"";if(!E)return l[O];let d=u.root();if(d.rawCache||(d.rawCache={}),typeof d.rawCache[O]!="undefined")return d.rawCache[O];if(O==="before"||O==="after")return this.beforeAfter(u,O);{let g="raw"+e(O);this[g]?y=this[g](d,u):d.walk(P=>{if(y=P.raws[v],typeof y!="undefined")return!1})}return typeof y=="undefined"&&(y=l[O]),d.rawCache[O]=y,y}rawSemicolon(u){let v;return u.walk(O=>{if(O.nodes&&O.nodes.length&&O.last.type==="decl"&&(v=O.raws.semicolon,typeof v!="undefined"))return!1}),v}rawEmptyBody(u){let v;return u.walk(O=>{if(O.nodes&&O.nodes.length===0&&(v=O.raws.after,typeof v!="undefined"))return!1}),v}rawIndent(u){if(u.raws.indent)return u.raws.indent;let v;return u.walk(O=>{let y=O.parent;if(y&&y!==u&&y.parent&&y.parent===u&&typeof O.raws.before!="undefined"){let E=O.raws.before.split(`
`);return v=E[E.length-1],v=v.replace(/\S/g,""),!1}}),v}rawBeforeComment(u,v){let O;return u.walkComments(y=>{if(typeof y.raws.before!="undefined")return O=y.raws.before,O.includes(`
`)&&(O=O.replace(/[^\n]+$/,"")),!1}),typeof O=="undefined"?O=this.raw(v,null,"beforeDecl"):O&&(O=O.replace(/\S/g,"")),O}rawBeforeDecl(u,v){let O;return u.walkDecls(y=>{if(typeof y.raws.before!="undefined")return O=y.raws.before,O.includes(`
`)&&(O=O.replace(/[^\n]+$/,"")),!1}),typeof O=="undefined"?O=this.raw(v,null,"beforeRule"):O&&(O=O.replace(/\S/g,"")),O}rawBeforeRule(u){let v;return u.walk(O=>{if(O.nodes&&(O.parent!==u||u.first!==O)&&typeof O.raws.before!="undefined")return v=O.raws.before,v.includes(`
`)&&(v=v.replace(/[^\n]+$/,"")),!1}),v&&(v=v.replace(/\S/g,"")),v}rawBeforeClose(u){let v;return u.walk(O=>{if(O.nodes&&O.nodes.length>0&&typeof O.raws.after!="undefined")return v=O.raws.after,v.includes(`
`)&&(v=v.replace(/[^\n]+$/,"")),!1}),v&&(v=v.replace(/\S/g,"")),v}rawBeforeOpen(u){let v;return u.walk(O=>{if(O.type!=="decl"&&(v=O.raws.between,typeof v!="undefined"))return!1}),v}rawColon(u){let v;return u.walkDecls(O=>{if(typeof O.raws.between!="undefined")return v=O.raws.between.replace(/[^\s:]/g,""),!1}),v}beforeAfter(u,v){let O;u.type==="decl"?O=this.raw(u,null,"beforeDecl"):u.type==="comment"?O=this.raw(u,null,"beforeComment"):v==="before"?O=this.raw(u,null,"beforeRule"):O=this.raw(u,null,"beforeClose");let y=u.parent,E=0;for(;y&&y.type!=="root";)E+=1,y=y.parent;if(O.includes(`
`)){let d=this.raw(u,null,"indent");if(d.length)for(let g=0;g<E;g++)O+=d}return O}rawValue(u,v){let O=u[v],y=u.raws[v];return y&&y.value===O?y.raw:O}}j.exports=n,n.default=n},67088:(j,l,e)=>{"use strict";let n=e(1062);function c(u,v){new n(v).stringify(u)}j.exports=c,c.default=c},65513:j=>{"use strict";j.exports.isClean=Symbol("isClean"),j.exports.my=Symbol("my")},83852:j=>{"use strict";const l="'".charCodeAt(0),e='"'.charCodeAt(0),n="\\".charCodeAt(0),c="/".charCodeAt(0),u=`
`.charCodeAt(0),v=" ".charCodeAt(0),O="\f".charCodeAt(0),y="	".charCodeAt(0),E="\r".charCodeAt(0),d="[".charCodeAt(0),g="]".charCodeAt(0),P="(".charCodeAt(0),S=")".charCodeAt(0),T="{".charCodeAt(0),C="}".charCodeAt(0),p=";".charCodeAt(0),i="*".charCodeAt(0),s=":".charCodeAt(0),_="@".charCodeAt(0),w=/[\t\n\f\r "#'()/;[\\\]{}]/g,x=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,D=/.[\n"'(/\\]/,N=/[\da-f]/i;j.exports=function(A,M={}){let R=A.css.valueOf(),F=M.ignoreErrors,Z,V,G,$,K,H,re,ee,Y,J,te=R.length,ie=0,se=[],W=[];function z(){return ie}function Q(le){throw A.error("Unclosed "+le,ie)}function oe(){return W.length===0&&ie>=te}function ne(le){if(W.length)return W.pop();if(ie>=te)return;let ue=le?le.ignoreUnclosed:!1;switch(Z=R.charCodeAt(ie),Z){case u:case v:case y:case E:case O:{V=ie;do V+=1,Z=R.charCodeAt(V);while(Z===v||Z===u||Z===y||Z===E||Z===O);J=["space",R.slice(ie,V)],ie=V-1;break}case d:case g:case T:case C:case s:case p:case S:{let fe=String.fromCharCode(Z);J=[fe,fe,ie];break}case P:{if(ee=se.length?se.pop()[1]:"",Y=R.charCodeAt(ie+1),ee==="url"&&Y!==l&&Y!==e&&Y!==v&&Y!==u&&Y!==y&&Y!==O&&Y!==E){V=ie;do{if(H=!1,V=R.indexOf(")",V+1),V===-1)if(F||ue){V=ie;break}else Q("bracket");for(re=V;R.charCodeAt(re-1)===n;)re-=1,H=!H}while(H);J=["brackets",R.slice(ie,V+1),ie,V],ie=V}else V=R.indexOf(")",ie+1),$=R.slice(ie,V+1),V===-1||D.test($)?J=["(","(",ie]:(J=["brackets",$,ie,V],ie=V);break}case l:case e:{G=Z===l?"'":'"',V=ie;do{if(H=!1,V=R.indexOf(G,V+1),V===-1)if(F||ue){V=ie+1;break}else Q("string");for(re=V;R.charCodeAt(re-1)===n;)re-=1,H=!H}while(H);J=["string",R.slice(ie,V+1),ie,V],ie=V;break}case _:{w.lastIndex=ie+1,w.test(R),w.lastIndex===0?V=R.length-1:V=w.lastIndex-2,J=["at-word",R.slice(ie,V+1),ie,V],ie=V;break}case n:{for(V=ie,K=!0;R.charCodeAt(V+1)===n;)V+=1,K=!K;if(Z=R.charCodeAt(V+1),K&&Z!==c&&Z!==v&&Z!==u&&Z!==y&&Z!==E&&Z!==O&&(V+=1,N.test(R.charAt(V)))){for(;N.test(R.charAt(V+1));)V+=1;R.charCodeAt(V+1)===v&&(V+=1)}J=["word",R.slice(ie,V+1),ie,V],ie=V;break}default:{Z===c&&R.charCodeAt(ie+1)===i?(V=R.indexOf("*/",ie+2)+1,V===0&&(F||ue?V=R.length:Q("comment")),J=["comment",R.slice(ie,V+1),ie,V],ie=V):(x.lastIndex=ie+1,x.test(R),x.lastIndex===0?V=R.length-1:V=x.lastIndex-2,J=["word",R.slice(ie,V+1),ie,V],se.push(J),ie=V);break}}return ie++,J}function ae(le){W.push(le)}return{back:ae,nextToken:ne,endOfFile:oe,position:z}}},72448:j=>{"use strict";let l={};j.exports=function(n){l[n]||(l[n]=!0,typeof console!="undefined"&&console.warn&&console.warn(n))}},11728:j=>{"use strict";class l{constructor(n,c={}){if(this.type="warning",this.text=n,c.node&&c.node.source){let u=c.node.rangeBy(c);this.line=u.start.line,this.column=u.start.column,this.endLine=u.end.line,this.endColumn=u.end.column}for(let u in c)this[u]=c[u]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}j.exports=l,l.default=l},53836:(j,l,e)=>{l.__esModule=!0;var n=function(){function se(W,z){for(var Q=0;Q<z.length;Q++){var oe=z[Q];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(W,oe.key,oe)}}return function(W,z,Q){return z&&se(W.prototype,z),Q&&se(W,Q),W}}(),c=Object.assign||function(se){for(var W=1;W<arguments.length;W++){var z=arguments[W];for(var Q in z)Object.prototype.hasOwnProperty.call(z,Q)&&(se[Q]=z[Q])}return se},u=e(6400),v=e(98278),O=S(v),y=e(10251),E=S(y),d=e(27418),g=S(d),P=e(7937);function S(se){return se&&se.__esModule?se:{default:se}}function T(se,W){if(!(se instanceof W))throw new TypeError("Cannot call a class as a function")}function C(se,W){if(!se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:se}function p(se,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);se.prototype=Object.create(W&&W.prototype,{constructor:{value:se,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(se,W):se.__proto__=W)}function i(se,W,z){return W in se?Object.defineProperty(se,W,{value:z,enumerable:!0,configurable:!0,writable:!0}):se[W]=z,se}var s="data-preact-helmet",_=function(W){return String(W).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},w=function(W,z){for(var Q=W.length-1;Q>=0;Q--){var oe=W[Q];if(oe[z])return oe[z]}return null},x=function(W){var z=w(W,"title"),Q=w(W,"titleTemplate");if(Q&&z)return Q.replace(/%s/g,function(){return z});var oe=w(W,"defaultTitle");return z||oe||""},D=function(W){return w(W,"onChangeClientState")||function(){}},N=function(W,z){return z.filter(function(Q){return typeof Q[W]!="undefined"}).map(function(Q){return Q[W]}).reduce(function(Q,oe){return c({},Q,oe)},{})},I=function(W,z){return z.filter(function(Q){return typeof Q[P.TAG_NAMES.BASE]!="undefined"}).map(function(Q){return Q[P.TAG_NAMES.BASE]}).reverse().reduce(function(Q,oe){if(!Q.length)for(var ne=Object.keys(oe),ae=0;ae<ne.length;ae++){var le=ne[ae],ue=le.toLowerCase();if(W.indexOf(ue)!==-1&&oe[ue])return Q.concat(oe)}return Q},[])},A=function(W,z,Q){var oe={};return Q.filter(function(ne){return typeof ne[W]!="undefined"}).map(function(ne){return ne[W]}).reverse().reduce(function(ne,ae){var le={};ae.filter(function(ve){for(var Te=void 0,we=Object.keys(ve),Se=0;Se<we.length;Se++){var We=we[Se],Ae=We.toLowerCase();z.indexOf(Ae)!==-1&&!(Te===P.TAG_PROPERTIES.REL&&ve[Te].toLowerCase()==="canonical")&&!(Ae===P.TAG_PROPERTIES.REL&&ve[Ae].toLowerCase()==="stylesheet")&&(Te=Ae),z.indexOf(We)!==-1&&(We===P.TAG_PROPERTIES.INNER_HTML||We===P.TAG_PROPERTIES.CSS_TEXT||We===P.TAG_PROPERTIES.ITEM_PROP)&&(Te=We)}if(!Te||!ve[Te])return!1;var Be=ve[Te].toLowerCase();return oe[Te]||(oe[Te]={}),le[Te]||(le[Te]={}),oe[Te][Be]?!1:(le[Te][Be]=!0,!0)}).reverse().forEach(function(ve){return ne.push(ve)});for(var ue=Object.keys(le),fe=0;fe<ue.length;fe++){var he=ue[fe],be=(0,g.default)({},oe[he],le[he]);oe[he]=be}return ne},[]).reverse()},M=function(W,z){document.title=W||document.title,R(P.TAG_NAMES.TITLE,z)},R=function(W,z){for(var Q=document.getElementsByTagName(W)[0],oe=Q.getAttribute(s),ne=oe?oe.split(","):[],ae=[].concat(ne),le=Object.keys(z),ue=0;ue<le.length;ue++){var fe=le[ue],he=z[fe]||"";Q.setAttribute(fe,he),ne.indexOf(fe)===-1&&ne.push(fe);var be=ae.indexOf(fe);be!==-1&&ae.splice(be,1)}for(var ve=ae.length-1;ve>=0;ve--)Q.removeAttribute(ae[ve]);ne.length===ae.length?Q.removeAttribute(s):Q.setAttribute(s,ne.join(","))},F=function(W,z){var Q=document.head||document.querySelector("head"),oe=Q.querySelectorAll(W+"["+s+"]"),ne=Array.prototype.slice.call(oe),ae=[],le=void 0;return z&&z.length&&z.forEach(function(ue){var fe=document.createElement(W);for(var he in ue)if(ue.hasOwnProperty(he))if(he==="innerHTML")fe.innerHTML=ue.innerHTML;else if(he==="cssText")fe.styleSheet?fe.styleSheet.cssText=ue.cssText:fe.appendChild(document.createTextNode(ue.cssText));else{var be=typeof ue[he]=="undefined"?"":ue[he];fe.setAttribute(he,be)}fe.setAttribute(s,"true"),ne.some(function(ve,Te){return le=Te,fe.isEqualNode(ve)})?ne.splice(le,1):ae.push(fe)}),ne.forEach(function(ue){return ue.parentNode.removeChild(ue)}),ae.forEach(function(ue){return Q.appendChild(ue)}),{oldTags:ne,newTags:ae}},Z=function(W){return Object.keys(W).reduce(function(z,Q){var oe=typeof W[Q]!="undefined"?Q+'="'+W[Q]+'"':""+Q;return z?z+" "+oe:oe},"")},V=function(W,z,Q){var oe=Z(Q);return oe?"<"+W+" "+s+" "+oe+">"+_(z)+"</"+W+">":"<"+W+" "+s+">"+_(z)+"</"+W+">"},G=function(W,z){return z.reduce(function(Q,oe){var ne=Object.keys(oe).filter(function(ue){return!(ue==="innerHTML"||ue==="cssText")}).reduce(function(ue,fe){var he=typeof oe[fe]=="undefined"?fe:fe+'="'+_(oe[fe])+'"';return ue?ue+" "+he:he},""),ae=oe.innerHTML||oe.cssText||"",le=[P.TAG_NAMES.NOSCRIPT,P.TAG_NAMES.SCRIPT,P.TAG_NAMES.STYLE].indexOf(W)===-1;return Q+"<"+W+" "+s+" "+ne+(le?">":">"+ae+"</"+W+">")},"")},$=function(W,z,Q){var oe=i({key:z},s,!0),ne=Object.keys(Q).reduce(function(ae,le){return ae[le]=Q[le],ae},oe);return[(0,u.h)(P.TAG_NAMES.TITLE,ne,z)]},K=function(W,z){return z.map(function(Q,oe){var ne=i({key:oe},s,!0);return Object.keys(Q).forEach(function(ae){var le=ae;if(le==="innerHTML"||le==="cssText"){var ue=Q.innerHTML||Q.cssText;ne.dangerouslySetInnerHTML={__html:ue}}else ne[le]=Q[ae]}),(0,u.h)(W,ne)})},H=function(W,z){switch(W){case P.TAG_NAMES.TITLE:return{toComponent:function(){return $(W,z.title,z.titleAttributes)},toString:function(){return V(W,z.title,z.titleAttributes)}};case P.TAG_NAMES.HTML:return{toComponent:function(){return z},toString:function(){return Z(z)}};default:return{toComponent:function(){return K(W,z)},toString:function(){return G(W,z)}}}},re=function(W){var z=W.htmlAttributes,Q=W.title,oe=W.titleAttributes,ne=W.baseTag,ae=W.metaTags,le=W.linkTags,ue=W.scriptTags,fe=W.noscriptTags,he=W.styleTags;return{htmlAttributes:H(P.TAG_NAMES.HTML,z),title:H(P.TAG_NAMES.TITLE,{title:Q,titleAttributes:oe}),base:H(P.TAG_NAMES.BASE,ne),meta:H(P.TAG_NAMES.META,ae),link:H(P.TAG_NAMES.LINK,le),script:H(P.TAG_NAMES.SCRIPT,ue),noscript:H(P.TAG_NAMES.NOSCRIPT,fe),style:H(P.TAG_NAMES.STYLE,he)}},ee=function(W){var z,Q;return Q=z=function(oe){p(ne,oe);function ne(){return T(this,ne),C(this,(ne.__proto__||Object.getPrototypeOf(ne)).apply(this,arguments))}return n(ne,[{key:"shouldComponentUpdate",value:function(le){var ue=c({},le);return(!ue.children||!ue.children.length)&&delete ue.children,!(0,E.default)(this.props,ue)}},{key:"render",value:function(){return(0,u.h)(W,this.props)}}],[{key:"canUseDOM",set:function(le){W.canUseDOM=le}}]),ne}(u.Component),z.peek=W.peek,z.rewind=function(){var oe=W.rewind();return oe||(oe=re({htmlAttributes:{},title:"",titleAttributes:{},baseTag:[],metaTags:[],linkTags:[],scriptTags:[],noscriptTags:[],styleTags:[]})),oe},Q},Y=function(W){return{htmlAttributes:N(P.TAG_NAMES.HTML,W),title:x(W),titleAttributes:N("titleAttributes",W),baseTag:I([P.TAG_PROPERTIES.HREF],W),metaTags:A(P.TAG_NAMES.META,[P.TAG_PROPERTIES.NAME,P.TAG_PROPERTIES.CHARSET,P.TAG_PROPERTIES.HTTPEQUIV,P.TAG_PROPERTIES.PROPERTY,P.TAG_PROPERTIES.ITEM_PROP],W),linkTags:A(P.TAG_NAMES.LINK,[P.TAG_PROPERTIES.REL,P.TAG_PROPERTIES.HREF],W),scriptTags:A(P.TAG_NAMES.SCRIPT,[P.TAG_PROPERTIES.SRC,P.TAG_PROPERTIES.INNER_HTML],W),noscriptTags:A(P.TAG_NAMES.NOSCRIPT,[P.TAG_PROPERTIES.INNER_HTML],W),styleTags:A(P.TAG_NAMES.STYLE,[P.TAG_PROPERTIES.CSS_TEXT],W),onChangeClientState:D(W)}},J=function(W){var z=W.htmlAttributes,Q=W.title,oe=W.titleAttributes,ne=W.baseTag,ae=W.metaTags,le=W.linkTags,ue=W.scriptTags,fe=W.noscriptTags,he=W.styleTags,be=W.onChangeClientState;R("html",z),M(Q,oe);var ve={baseTag:F(P.TAG_NAMES.BASE,ne),metaTags:F(P.TAG_NAMES.META,ae),linkTags:F(P.TAG_NAMES.LINK,le),scriptTags:F(P.TAG_NAMES.SCRIPT,ue),noscriptTags:F(P.TAG_NAMES.NOSCRIPT,fe),styleTags:F(P.TAG_NAMES.STYLE,he)},Te={},we={};Object.keys(ve).forEach(function(Se){var We=ve[Se],Ae=We.newTags,Be=We.oldTags;Ae.length&&(Te[Se]=Ae),Be.length&&(we[Se]=ve[Se].oldTags)}),be(W,Te,we)},te=function(){return null},ie=(0,O.default)(Y,J,re)(te);l.default=ee(ie),j.exports=l.default},7937:(j,l)=>{l.__esModule=!0;var e=l.TAG_NAMES={HTML:"htmlAttributes",TITLE:"title",BASE:"base",META:"meta",LINK:"link",SCRIPT:"script",NOSCRIPT:"noscript",STYLE:"style"},n=l.TAG_PROPERTIES={NAME:"name",CHARSET:"charset",HTTPEQUIV:"http-equiv",REL:"rel",HREF:"href",PROPERTY:"property",SRC:"src",INNER_HTML:"innerHTML",CSS_TEXT:"cssText",ITEM_PROP:"itemprop"},c=l.PREACT_TAG_MAP={charset:"charSet","http-equiv":"httpEquiv",itemprop:"itemProp",class:"className"}},20042:(j,l,e)=>{"use strict";e.r(l),e.d(l,{Link:()=>Z,Route:()=>V,Router:()=>F,default:()=>G,exec:()=>v,getCurrentUrl:()=>s,route:()=>_,subscribers:()=>C});var n=e(6400),c={};function u($,K){for(var H in K)$[H]=K[H];return $}function v($,K,H){var re=/(?:\?([^#]*))?(#.*)?$/,ee=$.match(re),Y={},J;if(ee&&ee[1])for(var te=ee[1].split("&"),ie=0;ie<te.length;ie++){var se=te[ie].split("=");Y[decodeURIComponent(se[0])]=decodeURIComponent(se.slice(1).join("="))}$=E($.replace(re,"")),K=E(K||"");for(var W=Math.max($.length,K.length),z=0;z<W;z++)if(K[z]&&K[z].charAt(0)===":"){var Q=K[z].replace(/(^:|[+*?]+$)/g,""),oe=(K[z].match(/[+*?]+$/)||c)[0]||"",ne=~oe.indexOf("+"),ae=~oe.indexOf("*"),le=$[z]||"";if(!le&&!ae&&(oe.indexOf("?")<0||ne)){J=!1;break}if(Y[Q]=decodeURIComponent(le),ne||ae){Y[Q]=$.slice(z).map(decodeURIComponent).join("/");break}}else if(K[z]!==$[z]){J=!1;break}return H.default!==!0&&J===!1?!1:Y}function O($,K){return $.rank<K.rank?1:$.rank>K.rank?-1:$.index-K.index}function y($,K){return $.index=K,$.rank=P($),$.props}function E($){return $.replace(/(^\/+|\/+$)/g,"").split("/")}function d($){return $.charAt(0)==":"?1+"*+?".indexOf($.charAt($.length-1))||4:5}function g($){return E($).map(d).join("")}function P($){return $.props.default?0:g($.props.path)}var S=null,T=[],C=[],p={};function i($,K){K===void 0&&(K="push"),S&&S[K]?S[K]($):typeof history!="undefined"&&history[K+"State"]&&history[K+"State"](null,null,$)}function s(){var $;return S&&S.location?$=S.location:S&&S.getCurrentLocation?$=S.getCurrentLocation():$=typeof location!="undefined"?location:p,""+($.pathname||"")+($.search||"")}function _($,K){return K===void 0&&(K=!1),typeof $!="string"&&$.url&&(K=$.replace,$=$.url),w($)&&i($,K?"replace":"push"),x($)}function w($){for(var K=T.length;K--;)if(T[K].canRoute($))return!0;return!1}function x($){for(var K=!1,H=0;H<T.length;H++)T[H].routeTo($)===!0&&(K=!0);for(var re=C.length;re--;)C[re]($);return K}function D($){if(!(!$||!$.getAttribute)){var K=$.getAttribute("href"),H=$.getAttribute("target");if(!(!K||!K.match(/^\//g)||H&&!H.match(/^_?self$/i)))return _(K)}}function N($){if(!($.ctrlKey||$.metaKey||$.altKey||$.shiftKey||$.button!==0))return D($.currentTarget||$.target||this),I($)}function I($){return $&&($.stopImmediatePropagation&&$.stopImmediatePropagation(),$.stopPropagation&&$.stopPropagation(),$.preventDefault()),!1}function A($){if(!($.ctrlKey||$.metaKey||$.altKey||$.shiftKey||$.button!==0)){var K=$.target;do if(String(K.nodeName).toUpperCase()==="A"&&K.getAttribute("href")){if(K.hasAttribute("native"))return;if(D(K))return I($)}while(K=K.parentNode)}}var M=!1;function R(){M||(typeof addEventListener=="function"&&(S||addEventListener("popstate",function(){x(s())}),addEventListener("click",A)),M=!0)}var F=function($){function K(H){$.call(this,H),H.history&&(S=H.history),this.state={url:H.url||s()},R()}return $&&(K.__proto__=$),K.prototype=Object.create($&&$.prototype),K.prototype.constructor=K,K.prototype.shouldComponentUpdate=function(re){return re.static!==!0?!0:re.url!==this.props.url||re.onChange!==this.props.onChange},K.prototype.canRoute=function(re){var ee=(0,n.toChildArray)(this.props.children);return this.getMatchingChildren(ee,re,!1).length>0},K.prototype.routeTo=function(re){this.setState({url:re});var ee=this.canRoute(re);return this.updating||this.forceUpdate(),ee},K.prototype.componentWillMount=function(){T.push(this),this.updating=!0},K.prototype.componentDidMount=function(){var re=this;S&&(this.unlisten=S.listen(function(ee){re.routeTo(""+(ee.pathname||"")+(ee.search||""))})),this.updating=!1},K.prototype.componentWillUnmount=function(){typeof this.unlisten=="function"&&this.unlisten(),T.splice(T.indexOf(this),1)},K.prototype.componentWillUpdate=function(){this.updating=!0},K.prototype.componentDidUpdate=function(){this.updating=!1},K.prototype.getMatchingChildren=function(re,ee,Y){return re.filter(y).sort(O).map(function(J){var te=v(ee,J.props.path,J.props);if(te){if(Y!==!1){var ie={url:ee,matches:te};return u(ie,te),delete ie.ref,delete ie.key,(0,n.cloneElement)(J,ie)}return J}}).filter(Boolean)},K.prototype.render=function(re,ee){var Y=re.children,J=re.onChange,te=ee.url,ie=this.getMatchingChildren((0,n.toChildArray)(Y),te,!0),se=ie[0]||null,W=this.previousUrl;return te!==W&&(this.previousUrl=te,typeof J=="function"&&J({router:this,url:te,previous:W,active:ie,current:se})),se},K}(n.Component),Z=function($){return(0,n.createElement)("a",u({onClick:N},$))},V=function($){return(0,n.createElement)($.component,$)};F.subscribers=C,F.getCurrentUrl=s,F.route=_,F.Router=F,F.Route=V,F.Link=Z,F.exec=v;const G=F},56232:(j,l,e)=>{"use strict";var n;n={value:!0},n=l.qE=void 0;var c=Object.assign||function(S){for(var T=1;T<arguments.length;T++){var C=arguments[T];for(var p in C)Object.prototype.hasOwnProperty.call(C,p)&&(S[p]=C[p])}return S},u=e(6400),v=e(20042);function O(S,T){var C={};for(var p in S)T.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(S,p)&&(C[p]=S[p]);return C}function y(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function E(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function d(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var g=l.qE=function(S){d(T,S);function T(){var C,p,i;y(this,T);for(var s=arguments.length,_=Array(s),w=0;w<s;w++)_[w]=arguments[w];return i=(C=(p=E(this,S.call.apply(S,[this].concat(_))),p),p.update=function(x){p.nextUrl=x,p.setState({})},C),E(p,i)}return T.prototype.componentDidMount=function(){v.subscribers.push(this.update)},T.prototype.componentWillUnmount=function(){v.subscribers.splice(v.subscribers.indexOf(this.update)>>>0,1)},T.prototype.render=function(p){var i=this.nextUrl||(0,v.getCurrentUrl)(),s=i.replace(/\?.+$/,"");return this.nextUrl=null,p.children({url:i,path:s,matches:(0,v.exec)(s,p.path,{})!==!1})},T}(u.Component),P=function(T){var C=T.activeClassName,p=T.path,i=O(T,["activeClassName","path"]);return(0,u.h)(g,{path:p||i.href},function(s){var _=s.matches;return(0,u.h)(v.Link,c({},i,{class:[i.class||i.className,_&&C].filter(Boolean).join(" ")}))})};n=P,n=g,g.Link=P},98278:(j,l,e)=>{"use strict";var n=e(6400);function c(y,E){var d={};for(var g in y)E.indexOf(g)>=0||Object.prototype.hasOwnProperty.call(y,g)&&(d[g]=y[g]);return d}function u(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}function v(y,E){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:y}function O(y,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);y.prototype=Object.create(E&&E.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(y,E):y.__proto__=E)}j.exports=function(E,d,g){if(typeof E!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof d!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof g!="undefined"&&typeof g!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function P(T){return T.displayName||T.name||"Component"}return function(C){if(typeof C!="function")throw new Error("Expected WrappedComponent to be a React component.");var p=[],i=void 0;function s(){i=E(p.map(function(w){return w.props})),_.canUseDOM?d(i):g&&(i=g(i))}var _=function(w){O(x,w);function x(){return u(this,x),v(this,w.apply(this,arguments))}return x.peek=function(){return i},x.rewind=function(){if(x.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var N=i;return i=void 0,p=[],N},x.prototype.shouldComponentUpdate=function(N){var I=N.children,A=c(N,["children"]);return I&&I.length&&(A.children=I),S(A,this.props)},x.prototype.componentWillMount=function(){p.push(this),s()},x.prototype.componentDidUpdate=function(){s()},x.prototype.componentWillUnmount=function(){var N=p.indexOf(this);p.splice(N,1),s()},x.prototype.render=function(){return(0,n.h)(C,this.props)},x}(n.Component);return _.displayName="SideEffect("+P(C)+")",_.canUseDOM=!!(typeof window!="undefined"&&window.document&&window.document.createElement),_};function S(T,C){for(var p in T)if(!(p in C))return!0;for(var i in C)if(T[i]!==C[i])return!0;return!1}}},98661:(j,l,e)=>{"use strict";e.r(l),e.d(l,{Children:()=>T,Component:()=>n.Component,Fragment:()=>n.Fragment,PureComponent:()=>y,StrictMode:()=>ve,Suspense:()=>_,SuspenseList:()=>D,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>Q,cloneElement:()=>le,createContext:()=>n.createContext,createElement:()=>n.createElement,createFactory:()=>ne,createPortal:()=>M,createRef:()=>n.createRef,default:()=>Be,findDOMNode:()=>fe,flushSync:()=>be,forwardRef:()=>P,hydrate:()=>H,isValidElement:()=>ae,lazy:()=>x,memo:()=>E,render:()=>K,startTransition:()=>Te,unmountComponentAtNode:()=>ue,unstable_batchedUpdates:()=>he,useCallback:()=>c.I4,useContext:()=>c.qp,useDebugValue:()=>c.Qb,useDeferredValue:()=>we,useEffect:()=>c.d4,useErrorBoundary:()=>c.cO,useId:()=>c.Me,useImperativeHandle:()=>c.aP,useInsertionEffect:()=>We,useLayoutEffect:()=>c.bt,useMemo:()=>c.Ye,useReducer:()=>c._Y,useRef:()=>c.sO,useState:()=>c.eJ,useSyncExternalStore:()=>Ae,useTransition:()=>Se,version:()=>oe});var n=e(6400),c=e(30396);function u(de,ce){for(var _e in ce)de[_e]=ce[_e];return de}function v(de,ce){for(var _e in de)if(_e!=="__source"&&!(_e in ce))return!0;for(var Oe in ce)if(Oe!=="__source"&&de[Oe]!==ce[Oe])return!0;return!1}function O(de,ce){return de===ce&&(de!==0||1/de==1/ce)||de!=de&&ce!=ce}function y(de){this.props=de}function E(de,ce){function _e(Le){var ze=this.props.ref,Je=ze==Le.ref;return!Je&&ze&&(ze.call?ze(null):ze.current=null),ce?!ce(this.props,Le)||!Je:v(this.props,Le)}function Oe(Le){return this.shouldComponentUpdate=_e,(0,n.createElement)(de,Le)}return Oe.displayName="Memo("+(de.displayName||de.name)+")",Oe.prototype.isReactComponent=!0,Oe.__f=!0,Oe}(y.prototype=new n.Component).isPureReactComponent=!0,y.prototype.shouldComponentUpdate=function(de,ce){return v(this.props,de)||v(this.state,ce)};var d=n.options.__b;n.options.__b=function(de){de.type&&de.type.__f&&de.ref&&(de.props.ref=de.ref,de.ref=null),d&&d(de)};var g=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function P(de){function ce(_e){var Oe=u({},_e);return delete Oe.ref,de(Oe,_e.ref||null)}return ce.$$typeof=g,ce.render=ce,ce.prototype.isReactComponent=ce.__f=!0,ce.displayName="ForwardRef("+(de.displayName||de.name)+")",ce}var S=function(de,ce){return de==null?null:(0,n.toChildArray)((0,n.toChildArray)(de).map(ce))},T={map:S,forEach:S,count:function(de){return de?(0,n.toChildArray)(de).length:0},only:function(de){var ce=(0,n.toChildArray)(de);if(ce.length!==1)throw"Children.only";return ce[0]},toArray:n.toChildArray},C=n.options.__e;n.options.__e=function(de,ce,_e,Oe){if(de.then){for(var Le,ze=ce;ze=ze.__;)if((Le=ze.__c)&&Le.__c)return ce.__e==null&&(ce.__e=_e.__e,ce.__k=_e.__k),Le.__c(de,ce)}C(de,ce,_e,Oe)};var p=n.options.unmount;function i(de,ce,_e){return de&&(de.__c&&de.__c.__H&&(de.__c.__H.__.forEach(function(Oe){typeof Oe.__c=="function"&&Oe.__c()}),de.__c.__H=null),(de=u({},de)).__c!=null&&(de.__c.__P===_e&&(de.__c.__P=ce),de.__c=null),de.__k=de.__k&&de.__k.map(function(Oe){return i(Oe,ce,_e)})),de}function s(de,ce,_e){return de&&(de.__v=null,de.__k=de.__k&&de.__k.map(function(Oe){return s(Oe,ce,_e)}),de.__c&&de.__c.__P===ce&&(de.__e&&_e.insertBefore(de.__e,de.__d),de.__c.__e=!0,de.__c.__P=_e)),de}function _(){this.__u=0,this.t=null,this.__b=null}function w(de){var ce=de.__.__c;return ce&&ce.__a&&ce.__a(de)}function x(de){var ce,_e,Oe;function Le(ze){if(ce||(ce=de()).then(function(Je){_e=Je.default||Je},function(Je){Oe=Je}),Oe)throw Oe;if(!_e)throw ce;return(0,n.createElement)(_e,ze)}return Le.displayName="Lazy",Le.__f=!0,Le}function D(){this.u=null,this.o=null}n.options.unmount=function(de){var ce=de.__c;ce&&ce.__R&&ce.__R(),ce&&de.__h===!0&&(de.type=null),p&&p(de)},(_.prototype=new n.Component).__c=function(de,ce){var _e=ce.__c,Oe=this;Oe.t==null&&(Oe.t=[]),Oe.t.push(_e);var Le=w(Oe.__v),ze=!1,Je=function(){ze||(ze=!0,_e.__R=null,Le?Le(Pt):Pt())};_e.__R=Je;var Pt=function(){if(!--Oe.__u){if(Oe.state.__a){var pt=Oe.state.__a;Oe.__v.__k[0]=s(pt,pt.__c.__P,pt.__c.__O)}var $e;for(Oe.setState({__a:Oe.__b=null});$e=Oe.t.pop();)$e.forceUpdate()}},Ve=ce.__h===!0;Oe.__u++||Ve||Oe.setState({__a:Oe.__b=Oe.__v.__k[0]}),de.then(Je,Je)},_.prototype.componentWillUnmount=function(){this.t=[]},_.prototype.render=function(de,ce){if(this.__b){if(this.__v.__k){var _e=document.createElement("div"),Oe=this.__v.__k[0].__c;this.__v.__k[0]=i(this.__b,_e,Oe.__O=Oe.__P)}this.__b=null}var Le=ce.__a&&(0,n.createElement)(n.Fragment,null,de.fallback);return Le&&(Le.__h=null),[(0,n.createElement)(n.Fragment,null,ce.__a?null:de.children),Le]};var N=function(de,ce,_e){if(++_e[1]===_e[0]&&de.o.delete(ce),de.props.revealOrder&&(de.props.revealOrder[0]!=="t"||!de.o.size))for(_e=de.u;_e;){for(;_e.length>3;)_e.pop()();if(_e[1]<_e[0])break;de.u=_e=_e[2]}};function I(de){return this.getChildContext=function(){return de.context},de.children}function A(de){var ce=this,_e=de.i;ce.componentWillUnmount=function(){(0,n.render)(null,ce.l),ce.l=null,ce.i=null},ce.i&&ce.i!==_e&&ce.componentWillUnmount(),de.__v?(ce.l||(ce.i=_e,ce.l={nodeType:1,parentNode:_e,childNodes:[],appendChild:function(Oe){this.childNodes.push(Oe),ce.i.appendChild(Oe)},insertBefore:function(Oe,Le){this.childNodes.push(Oe),ce.i.appendChild(Oe)},removeChild:function(Oe){this.childNodes.splice(this.childNodes.indexOf(Oe)>>>1,1),ce.i.removeChild(Oe)}}),(0,n.render)((0,n.createElement)(I,{context:ce.context},de.__v),ce.l)):ce.l&&ce.componentWillUnmount()}function M(de,ce){var _e=(0,n.createElement)(A,{__v:de,i:ce});return _e.containerInfo=ce,_e}(D.prototype=new n.Component).__a=function(de){var ce=this,_e=w(ce.__v),Oe=ce.o.get(de);return Oe[0]++,function(Le){var ze=function(){ce.props.revealOrder?(Oe.push(Le),N(ce,de,Oe)):Le()};_e?_e(ze):ze()}},D.prototype.render=function(de){this.u=null,this.o=new Map;var ce=(0,n.toChildArray)(de.children);de.revealOrder&&de.revealOrder[0]==="b"&&ce.reverse();for(var _e=ce.length;_e--;)this.o.set(ce[_e],this.u=[1,0,this.u]);return de.children},D.prototype.componentDidUpdate=D.prototype.componentDidMount=function(){var de=this;this.o.forEach(function(ce,_e){N(de,_e,ce)})};var R=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,F=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Z=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,V=/[A-Z0-9]/g,G=typeof document!="undefined",$=function(de){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(de)};function K(de,ce,_e){return ce.__k==null&&(ce.textContent=""),(0,n.render)(de,ce),typeof _e=="function"&&_e(),de?de.__c:null}function H(de,ce,_e){return(0,n.hydrate)(de,ce),typeof _e=="function"&&_e(),de?de.__c:null}n.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(de){Object.defineProperty(n.Component.prototype,de,{configurable:!0,get:function(){return this["UNSAFE_"+de]},set:function(ce){Object.defineProperty(this,de,{configurable:!0,writable:!0,value:ce})}})});var re=n.options.event;function ee(){}function Y(){return this.cancelBubble}function J(){return this.defaultPrevented}n.options.event=function(de){return re&&(de=re(de)),de.persist=ee,de.isPropagationStopped=Y,de.isDefaultPrevented=J,de.nativeEvent=de};var te,ie={configurable:!0,get:function(){return this.class}},se=n.options.vnode;n.options.vnode=function(de){var ce=de.type,_e=de.props,Oe=_e;if(typeof ce=="string"){for(var Le in Oe={},_e){var ze=_e[Le];if(!(Le==="value"&&"defaultValue"in _e&&ze==null||G&&Le==="children"&&ce==="noscript")){var Je=Le.toLowerCase();Le==="defaultValue"&&"value"in _e&&_e.value==null?Le="value":Le==="download"&&ze===!0?ze="":Je==="ondoubleclick"?Le="ondblclick":Je!=="onchange"||ce!=="input"&&ce!=="textarea"||$(_e.type)?Je==="onfocus"?Le="onfocusin":Je==="onblur"?Le="onfocusout":Z.test(Le)?Le=Je:ce.indexOf("-")===-1&&F.test(Le)?Le=Le.replace(V,"-$&").toLowerCase():ze===null&&(ze=void 0):Je=Le="oninput",Je==="oninput"&&Oe[Le=Je]&&(Le="oninputCapture"),Oe[Le]=ze}}ce=="select"&&Oe.multiple&&Array.isArray(Oe.value)&&(Oe.value=(0,n.toChildArray)(_e.children).forEach(function(Pt){Pt.props.selected=Oe.value.indexOf(Pt.props.value)!=-1})),ce=="select"&&Oe.defaultValue!=null&&(Oe.value=(0,n.toChildArray)(_e.children).forEach(function(Pt){Pt.props.selected=Oe.multiple?Oe.defaultValue.indexOf(Pt.props.value)!=-1:Oe.defaultValue==Pt.props.value})),de.props=Oe,_e.class!=_e.className&&(ie.enumerable="className"in _e,_e.className!=null&&(Oe.class=_e.className),Object.defineProperty(Oe,"className",ie))}de.$$typeof=R,se&&se(de)};var W=n.options.__r;n.options.__r=function(de){W&&W(de),te=de.__c};var z=n.options.diffed;n.options.diffed=function(de){z&&z(de);var ce=de.props,_e=de.__e;_e!=null&&de.type==="textarea"&&"value"in ce&&ce.value!==_e.value&&(_e.value=ce.value==null?"":ce.value),te=null};var Q={ReactCurrentDispatcher:{current:{readContext:function(de){return te.__n[de.__c].props.value}}}},oe="17.0.2";function ne(de){return n.createElement.bind(null,de)}function ae(de){return!!de&&de.$$typeof===R}function le(de){return ae(de)?n.cloneElement.apply(null,arguments):de}function ue(de){return!!de.__k&&((0,n.render)(null,de),!0)}function fe(de){return de&&(de.base||de.nodeType===1&&de)||null}var he=function(de,ce){return de(ce)},be=function(de,ce){return de(ce)},ve=n.Fragment;function Te(de){de()}function we(de){return de}function Se(){return[!1,Te]}var We=c.bt;function Ae(de,ce){var _e=ce(),Oe=(0,c.eJ)({h:{__:_e,v:ce}}),Le=Oe[0].h,ze=Oe[1];return(0,c.bt)(function(){Le.__=_e,Le.v=ce,O(Le.__,ce())||ze({h:Le})},[de,_e,ce]),(0,c.d4)(function(){return O(Le.__,Le.v())||ze({h:Le}),de(function(){O(Le.__,Le.v())||ze({h:Le})})},[de]),_e}var Be={useState:c.eJ,useId:c.Me,useReducer:c._Y,useEffect:c.d4,useLayoutEffect:c.bt,useInsertionEffect:We,useTransition:Se,useDeferredValue:we,useSyncExternalStore:Ae,startTransition:Te,useRef:c.sO,useImperativeHandle:c.aP,useMemo:c.Ye,useCallback:c.I4,useContext:c.qp,useDebugValue:c.Qb,version:"17.0.2",Children:T,render:K,hydrate:H,unmountComponentAtNode:ue,createPortal:M,createElement:n.createElement,createContext:n.createContext,createFactory:ne,cloneElement:le,createRef:n.createRef,Fragment:n.Fragment,isValidElement:ae,findDOMNode:fe,Component:n.Component,PureComponent:y,memo:E,forwardRef:P,flushSync:be,unstable_batchedUpdates:he,StrictMode:ve,Suspense:_,SuspenseList:D,lazy:x,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Q}},14369:(j,l,e)=>{"use strict";e.r(l),e.d(l,{addHookName:()=>c});var n=e(6400);function c(u,v){return n.options.__a&&n.options.__a(v),u}typeof window!="undefined"&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.13.1",n.options,{Fragment:n.Fragment,Component:n.Component})},6400:(j,l,e)=>{"use strict";e.r(l),e.d(l,{Component:()=>x,Fragment:()=>w,cloneElement:()=>Q,createContext:()=>oe,createElement:()=>i,createRef:()=>_,h:()=>i,hydrate:()=>z,isValidElement:()=>v,options:()=>c,render:()=>W,toChildArray:()=>F});var n,c,u,v,O,y,E,d,g,P={},S=[],T=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(ne,ae){for(var le in ae)ne[le]=ae[le];return ne}function p(ne){var ae=ne.parentNode;ae&&ae.removeChild(ne)}function i(ne,ae,le){var ue,fe,he,be={};for(he in ae)he=="key"?ue=ae[he]:he=="ref"?fe=ae[he]:be[he]=ae[he];if(arguments.length>2&&(be.children=arguments.length>3?n.call(arguments,2):le),typeof ne=="function"&&ne.defaultProps!=null)for(he in ne.defaultProps)be[he]===void 0&&(be[he]=ne.defaultProps[he]);return s(ne,be,ue,fe,null)}function s(ne,ae,le,ue,fe){var he={type:ne,props:ae,key:le,ref:ue,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:fe==null?++u:fe};return fe==null&&c.vnode!=null&&c.vnode(he),he}function _(){return{current:null}}function w(ne){return ne.children}function x(ne,ae){this.props=ne,this.context=ae}function D(ne,ae){if(ae==null)return ne.__?D(ne.__,ne.__.__k.indexOf(ne)+1):null;for(var le;ae<ne.__k.length;ae++)if((le=ne.__k[ae])!=null&&le.__e!=null)return le.__e;return typeof ne.type=="function"?D(ne):null}function N(ne){var ae,le;if((ne=ne.__)!=null&&ne.__c!=null){for(ne.__e=ne.__c.base=null,ae=0;ae<ne.__k.length;ae++)if((le=ne.__k[ae])!=null&&le.__e!=null){ne.__e=ne.__c.base=le.__e;break}return N(ne)}}function I(ne){(!ne.__d&&(ne.__d=!0)&&O.push(ne)&&!A.__r++||y!==c.debounceRendering)&&((y=c.debounceRendering)||E)(A)}function A(){var ne,ae,le,ue,fe,he,be,ve;for(O.sort(d);ne=O.shift();)ne.__d&&(ae=O.length,ue=void 0,fe=void 0,be=(he=(le=ne).__v).__e,(ve=le.__P)&&(ue=[],(fe=C({},he)).__v=he.__v+1,ee(ve,he,fe,le.__n,ve.ownerSVGElement!==void 0,he.__h!=null?[be]:null,ue,be==null?D(he):be,he.__h),Y(ue,he),he.__e!=be&&N(he)),O.length>ae&&O.sort(d));A.__r=0}function M(ne,ae,le,ue,fe,he,be,ve,Te,we){var Se,We,Ae,Be,de,ce,_e,Oe=ue&&ue.__k||S,Le=Oe.length;for(le.__k=[],Se=0;Se<ae.length;Se++)if((Be=le.__k[Se]=(Be=ae[Se])==null||typeof Be=="boolean"||typeof Be=="function"?null:typeof Be=="string"||typeof Be=="number"||typeof Be=="bigint"?s(null,Be,null,null,Be):Array.isArray(Be)?s(w,{children:Be},null,null,null):Be.__b>0?s(Be.type,Be.props,Be.key,Be.ref?Be.ref:null,Be.__v):Be)!=null){if(Be.__=le,Be.__b=le.__b+1,(Ae=Oe[Se])===null||Ae&&Be.key==Ae.key&&Be.type===Ae.type)Oe[Se]=void 0;else for(We=0;We<Le;We++){if((Ae=Oe[We])&&Be.key==Ae.key&&Be.type===Ae.type){Oe[We]=void 0;break}Ae=null}ee(ne,Be,Ae=Ae||P,fe,he,be,ve,Te,we),de=Be.__e,(We=Be.ref)&&Ae.ref!=We&&(_e||(_e=[]),Ae.ref&&_e.push(Ae.ref,null,Be),_e.push(We,Be.__c||de,Be)),de!=null?(ce==null&&(ce=de),typeof Be.type=="function"&&Be.__k===Ae.__k?Be.__d=Te=R(Be,Te,ne):Te=Z(ne,Be,Ae,Oe,de,Te),typeof le.type=="function"&&(le.__d=Te)):Te&&Ae.__e==Te&&Te.parentNode!=ne&&(Te=D(Ae))}for(le.__e=ce,Se=Le;Se--;)Oe[Se]!=null&&(typeof le.type=="function"&&Oe[Se].__e!=null&&Oe[Se].__e==le.__d&&(le.__d=V(ue).nextSibling),ie(Oe[Se],Oe[Se]));if(_e)for(Se=0;Se<_e.length;Se++)te(_e[Se],_e[++Se],_e[++Se])}function R(ne,ae,le){for(var ue,fe=ne.__k,he=0;fe&&he<fe.length;he++)(ue=fe[he])&&(ue.__=ne,ae=typeof ue.type=="function"?R(ue,ae,le):Z(le,ue,ue,fe,ue.__e,ae));return ae}function F(ne,ae){return ae=ae||[],ne==null||typeof ne=="boolean"||(Array.isArray(ne)?ne.some(function(le){F(le,ae)}):ae.push(ne)),ae}function Z(ne,ae,le,ue,fe,he){var be,ve,Te;if(ae.__d!==void 0)be=ae.__d,ae.__d=void 0;else if(le==null||fe!=he||fe.parentNode==null)e:if(he==null||he.parentNode!==ne)ne.appendChild(fe),be=null;else{for(ve=he,Te=0;(ve=ve.nextSibling)&&Te<ue.length;Te+=1)if(ve==fe)break e;ne.insertBefore(fe,he),be=he}return be!==void 0?be:fe.nextSibling}function V(ne){var ae,le,ue;if(ne.type==null||typeof ne.type=="string")return ne.__e;if(ne.__k){for(ae=ne.__k.length-1;ae>=0;ae--)if((le=ne.__k[ae])&&(ue=V(le)))return ue}return null}function G(ne,ae,le,ue,fe){var he;for(he in le)he==="children"||he==="key"||he in ae||K(ne,he,null,le[he],ue);for(he in ae)fe&&typeof ae[he]!="function"||he==="children"||he==="key"||he==="value"||he==="checked"||le[he]===ae[he]||K(ne,he,ae[he],le[he],ue)}function $(ne,ae,le){ae[0]==="-"?ne.setProperty(ae,le==null?"":le):ne[ae]=le==null?"":typeof le!="number"||T.test(ae)?le:le+"px"}function K(ne,ae,le,ue,fe){var he;e:if(ae==="style")if(typeof le=="string")ne.style.cssText=le;else{if(typeof ue=="string"&&(ne.style.cssText=ue=""),ue)for(ae in ue)le&&ae in le||$(ne.style,ae,"");if(le)for(ae in le)ue&&le[ae]===ue[ae]||$(ne.style,ae,le[ae])}else if(ae[0]==="o"&&ae[1]==="n")he=ae!==(ae=ae.replace(/Capture$/,"")),ae=ae.toLowerCase()in ne?ae.toLowerCase().slice(2):ae.slice(2),ne.l||(ne.l={}),ne.l[ae+he]=le,le?ue||ne.addEventListener(ae,he?re:H,he):ne.removeEventListener(ae,he?re:H,he);else if(ae!=="dangerouslySetInnerHTML"){if(fe)ae=ae.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(ae!=="width"&&ae!=="height"&&ae!=="href"&&ae!=="list"&&ae!=="form"&&ae!=="tabIndex"&&ae!=="download"&&ae in ne)try{ne[ae]=le==null?"":le;break e}catch(be){}typeof le=="function"||(le==null||le===!1&&ae.indexOf("-")==-1?ne.removeAttribute(ae):ne.setAttribute(ae,le))}}function H(ne){return this.l[ne.type+!1](c.event?c.event(ne):ne)}function re(ne){return this.l[ne.type+!0](c.event?c.event(ne):ne)}function ee(ne,ae,le,ue,fe,he,be,ve,Te){var we,Se,We,Ae,Be,de,ce,_e,Oe,Le,ze,Je,Pt,Ve,pt,$e=ae.type;if(ae.constructor!==void 0)return null;le.__h!=null&&(Te=le.__h,ve=ae.__e=le.__e,ae.__h=null,he=[ve]),(we=c.__b)&&we(ae);try{e:if(typeof $e=="function"){if(_e=ae.props,Oe=(we=$e.contextType)&&ue[we.__c],Le=we?Oe?Oe.props.value:we.__:ue,le.__c?ce=(Se=ae.__c=le.__c).__=Se.__E:("prototype"in $e&&$e.prototype.render?ae.__c=Se=new $e(_e,Le):(ae.__c=Se=new x(_e,Le),Se.constructor=$e,Se.render=se),Oe&&Oe.sub(Se),Se.props=_e,Se.state||(Se.state={}),Se.context=Le,Se.__n=ue,We=Se.__d=!0,Se.__h=[],Se._sb=[]),Se.__s==null&&(Se.__s=Se.state),$e.getDerivedStateFromProps!=null&&(Se.__s==Se.state&&(Se.__s=C({},Se.__s)),C(Se.__s,$e.getDerivedStateFromProps(_e,Se.__s))),Ae=Se.props,Be=Se.state,Se.__v=ae,We)$e.getDerivedStateFromProps==null&&Se.componentWillMount!=null&&Se.componentWillMount(),Se.componentDidMount!=null&&Se.__h.push(Se.componentDidMount);else{if($e.getDerivedStateFromProps==null&&_e!==Ae&&Se.componentWillReceiveProps!=null&&Se.componentWillReceiveProps(_e,Le),!Se.__e&&Se.shouldComponentUpdate!=null&&Se.shouldComponentUpdate(_e,Se.__s,Le)===!1||ae.__v===le.__v){for(ae.__v!==le.__v&&(Se.props=_e,Se.state=Se.__s,Se.__d=!1),Se.__e=!1,ae.__e=le.__e,ae.__k=le.__k,ae.__k.forEach(function(Ie){Ie&&(Ie.__=ae)}),ze=0;ze<Se._sb.length;ze++)Se.__h.push(Se._sb[ze]);Se._sb=[],Se.__h.length&&be.push(Se);break e}Se.componentWillUpdate!=null&&Se.componentWillUpdate(_e,Se.__s,Le),Se.componentDidUpdate!=null&&Se.__h.push(function(){Se.componentDidUpdate(Ae,Be,de)})}if(Se.context=Le,Se.props=_e,Se.__P=ne,Je=c.__r,Pt=0,"prototype"in $e&&$e.prototype.render){for(Se.state=Se.__s,Se.__d=!1,Je&&Je(ae),we=Se.render(Se.props,Se.state,Se.context),Ve=0;Ve<Se._sb.length;Ve++)Se.__h.push(Se._sb[Ve]);Se._sb=[]}else do Se.__d=!1,Je&&Je(ae),we=Se.render(Se.props,Se.state,Se.context),Se.state=Se.__s;while(Se.__d&&++Pt<25);Se.state=Se.__s,Se.getChildContext!=null&&(ue=C(C({},ue),Se.getChildContext())),We||Se.getSnapshotBeforeUpdate==null||(de=Se.getSnapshotBeforeUpdate(Ae,Be)),pt=we!=null&&we.type===w&&we.key==null?we.props.children:we,M(ne,Array.isArray(pt)?pt:[pt],ae,le,ue,fe,he,be,ve,Te),Se.base=ae.__e,ae.__h=null,Se.__h.length&&be.push(Se),ce&&(Se.__E=Se.__=null),Se.__e=!1}else he==null&&ae.__v===le.__v?(ae.__k=le.__k,ae.__e=le.__e):ae.__e=J(le.__e,ae,le,ue,fe,he,be,Te);(we=c.diffed)&&we(ae)}catch(Ie){ae.__v=null,(Te||he!=null)&&(ae.__e=ve,ae.__h=!!Te,he[he.indexOf(ve)]=null),c.__e(Ie,ae,le)}}function Y(ne,ae){c.__c&&c.__c(ae,ne),ne.some(function(le){try{ne=le.__h,le.__h=[],ne.some(function(ue){ue.call(le)})}catch(ue){c.__e(ue,le.__v)}})}function J(ne,ae,le,ue,fe,he,be,ve){var Te,we,Se,We=le.props,Ae=ae.props,Be=ae.type,de=0;if(Be==="svg"&&(fe=!0),he!=null){for(;de<he.length;de++)if((Te=he[de])&&"setAttribute"in Te==!!Be&&(Be?Te.localName===Be:Te.nodeType===3)){ne=Te,he[de]=null;break}}if(ne==null){if(Be===null)return document.createTextNode(Ae);ne=fe?document.createElementNS("http://www.w3.org/2000/svg",Be):document.createElement(Be,Ae.is&&Ae),he=null,ve=!1}if(Be===null)We===Ae||ve&&ne.data===Ae||(ne.data=Ae);else{if(he=he&&n.call(ne.childNodes),we=(We=le.props||P).dangerouslySetInnerHTML,Se=Ae.dangerouslySetInnerHTML,!ve){if(he!=null)for(We={},de=0;de<ne.attributes.length;de++)We[ne.attributes[de].name]=ne.attributes[de].value;(Se||we)&&(Se&&(we&&Se.__html==we.__html||Se.__html===ne.innerHTML)||(ne.innerHTML=Se&&Se.__html||""))}if(G(ne,Ae,We,fe,ve),Se)ae.__k=[];else if(de=ae.props.children,M(ne,Array.isArray(de)?de:[de],ae,le,ue,fe&&Be!=="foreignObject",he,be,he?he[0]:le.__k&&D(le,0),ve),he!=null)for(de=he.length;de--;)he[de]!=null&&p(he[de]);ve||("value"in Ae&&(de=Ae.value)!==void 0&&(de!==ne.value||Be==="progress"&&!de||Be==="option"&&de!==We.value)&&K(ne,"value",de,We.value,!1),"checked"in Ae&&(de=Ae.checked)!==void 0&&de!==ne.checked&&K(ne,"checked",de,We.checked,!1))}return ne}function te(ne,ae,le){try{typeof ne=="function"?ne(ae):ne.current=ae}catch(ue){c.__e(ue,le)}}function ie(ne,ae,le){var ue,fe;if(c.unmount&&c.unmount(ne),(ue=ne.ref)&&(ue.current&&ue.current!==ne.__e||te(ue,null,ae)),(ue=ne.__c)!=null){if(ue.componentWillUnmount)try{ue.componentWillUnmount()}catch(he){c.__e(he,ae)}ue.base=ue.__P=null,ne.__c=void 0}if(ue=ne.__k)for(fe=0;fe<ue.length;fe++)ue[fe]&&ie(ue[fe],ae,le||typeof ne.type!="function");le||ne.__e==null||p(ne.__e),ne.__=ne.__e=ne.__d=void 0}function se(ne,ae,le){return this.constructor(ne,le)}function W(ne,ae,le){var ue,fe,he;c.__&&c.__(ne,ae),fe=(ue=typeof le=="function")?null:le&&le.__k||ae.__k,he=[],ee(ae,ne=(!ue&&le||ae).__k=i(w,null,[ne]),fe||P,P,ae.ownerSVGElement!==void 0,!ue&&le?[le]:fe?null:ae.firstChild?n.call(ae.childNodes):null,he,!ue&&le?le:fe?fe.__e:ae.firstChild,ue),Y(he,ne)}function z(ne,ae){W(ne,ae,z)}function Q(ne,ae,le){var ue,fe,he,be=C({},ne.props);for(he in ae)he=="key"?ue=ae[he]:he=="ref"?fe=ae[he]:be[he]=ae[he];return arguments.length>2&&(be.children=arguments.length>3?n.call(arguments,2):le),s(ne.type,be,ue||ne.key,fe||ne.ref,null)}function oe(ne,ae){var le={__c:ae="__cC"+g++,__:ne,Consumer:function(ue,fe){return ue.children(fe)},Provider:function(ue){var fe,he;return this.getChildContext||(fe=[],(he={})[ae]=this,this.getChildContext=function(){return he},this.shouldComponentUpdate=function(be){this.props.value!==be.value&&fe.some(function(ve){ve.__e=!0,I(ve)})},this.sub=function(be){fe.push(be);var ve=be.componentWillUnmount;be.componentWillUnmount=function(){fe.splice(fe.indexOf(be),1),ve&&ve.call(be)}}),ue.children}};return le.Provider.__=le.Consumer.contextType=le}n=S.slice,c={__e:function(ne,ae,le,ue){for(var fe,he,be;ae=ae.__;)if((fe=ae.__c)&&!fe.__)try{if((he=fe.constructor)&&he.getDerivedStateFromError!=null&&(fe.setState(he.getDerivedStateFromError(ne)),be=fe.__d),fe.componentDidCatch!=null&&(fe.componentDidCatch(ne,ue||{}),be=fe.__d),be)return fe.__E=fe}catch(ve){ne=ve}throw ne}},u=0,v=function(ne){return ne!=null&&ne.constructor===void 0},x.prototype.setState=function(ne,ae){var le;le=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof ne=="function"&&(ne=ne(C({},le),this.props)),ne&&C(le,ne),ne!=null&&this.__v&&(ae&&this._sb.push(ae),I(this))},x.prototype.forceUpdate=function(ne){this.__v&&(this.__e=!0,ne&&this.__h.push(ne),I(this))},x.prototype.render=w,O=[],E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,d=function(ne,ae){return ne.__v.__b-ae.__v.__b},A.__r=0,g=0},30396:(j,l,e)=>{"use strict";e.d(l,{I4:()=>I,Me:()=>F,Qb:()=>M,Ye:()=>N,_Y:()=>s,aP:()=>D,bt:()=>w,cO:()=>R,d4:()=>_,eJ:()=>i,qp:()=>A,sO:()=>x});var n=e(6400),c,u,v,O,y=0,E=[],d=[],g=n.options.__b,P=n.options.__r,S=n.options.diffed,T=n.options.__c,C=n.options.unmount;function p(ee,Y){n.options.__h&&n.options.__h(u,ee,y||Y),y=0;var J=u.__H||(u.__H={__:[],__h:[]});return ee>=J.__.length&&J.__.push({__V:d}),J.__[ee]}function i(ee){return y=1,s(re,ee)}function s(ee,Y,J){var te=p(c++,2);if(te.t=ee,!te.__c&&(te.__=[J?J(Y):re(void 0,Y),function(z){var Q=te.__N?te.__N[0]:te.__[0],oe=te.t(Q,z);Q!==oe&&(te.__N=[oe,te.__[1]],te.__c.setState({}))}],te.__c=u,!u.u)){var ie=function(z,Q,oe){if(!te.__c.__H)return!0;var ne=te.__c.__H.__.filter(function(le){return le.__c});if(ne.every(function(le){return!le.__N}))return!se||se.call(this,z,Q,oe);var ae=!1;return ne.forEach(function(le){if(le.__N){var ue=le.__[0];le.__=le.__N,le.__N=void 0,ue!==le.__[0]&&(ae=!0)}}),!(!ae&&te.__c.props===z)&&(!se||se.call(this,z,Q,oe))};u.u=!0;var se=u.shouldComponentUpdate,W=u.componentWillUpdate;u.componentWillUpdate=function(z,Q,oe){if(this.__e){var ne=se;se=void 0,ie(z,Q,oe),se=ne}W&&W.call(this,z,Q,oe)},u.shouldComponentUpdate=ie}return te.__N||te.__}function _(ee,Y){var J=p(c++,3);!n.options.__s&&H(J.__H,Y)&&(J.__=ee,J.i=Y,u.__H.__h.push(J))}function w(ee,Y){var J=p(c++,4);!n.options.__s&&H(J.__H,Y)&&(J.__=ee,J.i=Y,u.__h.push(J))}function x(ee){return y=5,N(function(){return{current:ee}},[])}function D(ee,Y,J){y=6,w(function(){return typeof ee=="function"?(ee(Y()),function(){return ee(null)}):ee?(ee.current=Y(),function(){return ee.current=null}):void 0},J==null?J:J.concat(ee))}function N(ee,Y){var J=p(c++,7);return H(J.__H,Y)?(J.__V=ee(),J.i=Y,J.__h=ee,J.__V):J.__}function I(ee,Y){return y=8,N(function(){return ee},Y)}function A(ee){var Y=u.context[ee.__c],J=p(c++,9);return J.c=ee,Y?(J.__==null&&(J.__=!0,Y.sub(u)),Y.props.value):ee.__}function M(ee,Y){n.options.useDebugValue&&n.options.useDebugValue(Y?Y(ee):ee)}function R(ee){var Y=p(c++,10),J=i();return Y.__=ee,u.componentDidCatch||(u.componentDidCatch=function(te,ie){Y.__&&Y.__(te,ie),J[1](te)}),[J[0],function(){J[1](void 0)}]}function F(){var ee=p(c++,11);if(!ee.__){for(var Y=u.__v;Y!==null&&!Y.__m&&Y.__!==null;)Y=Y.__;var J=Y.__m||(Y.__m=[0,0]);ee.__="P"+J[0]+"-"+J[1]++}return ee.__}function Z(){for(var ee;ee=E.shift();)if(ee.__P&&ee.__H)try{ee.__H.__h.forEach($),ee.__H.__h.forEach(K),ee.__H.__h=[]}catch(Y){ee.__H.__h=[],n.options.__e(Y,ee.__v)}}n.options.__b=function(ee){u=null,g&&g(ee)},n.options.__r=function(ee){P&&P(ee),c=0;var Y=(u=ee.__c).__H;Y&&(v===u?(Y.__h=[],u.__h=[],Y.__.forEach(function(J){J.__N&&(J.__=J.__N),J.__V=d,J.__N=J.i=void 0})):(Y.__h.forEach($),Y.__h.forEach(K),Y.__h=[])),v=u},n.options.diffed=function(ee){S&&S(ee);var Y=ee.__c;Y&&Y.__H&&(Y.__H.__h.length&&(E.push(Y)!==1&&O===n.options.requestAnimationFrame||((O=n.options.requestAnimationFrame)||G)(Z)),Y.__H.__.forEach(function(J){J.i&&(J.__H=J.i),J.__V!==d&&(J.__=J.__V),J.i=void 0,J.__V=d})),v=u=null},n.options.__c=function(ee,Y){Y.some(function(J){try{J.__h.forEach($),J.__h=J.__h.filter(function(te){return!te.__||K(te)})}catch(te){Y.some(function(ie){ie.__h&&(ie.__h=[])}),Y=[],n.options.__e(te,J.__v)}}),T&&T(ee,Y)},n.options.unmount=function(ee){C&&C(ee);var Y,J=ee.__c;J&&J.__H&&(J.__H.__.forEach(function(te){try{$(te)}catch(ie){Y=ie}}),J.__H=void 0,Y&&n.options.__e(Y,J.__v))};var V=typeof requestAnimationFrame=="function";function G(ee){var Y,J=function(){clearTimeout(te),V&&cancelAnimationFrame(Y),setTimeout(ee)},te=setTimeout(J,100);V&&(Y=requestAnimationFrame(J))}function $(ee){var Y=u,J=ee.__c;typeof J=="function"&&(ee.__c=void 0,J()),u=Y}function K(ee){var Y=u;ee.__c=ee.__(),u=Y}function H(ee,Y){return!ee||ee.length!==Y.length||Y.some(function(J,te){return J!==ee[te]})}function re(ee,Y){return typeof Y=="function"?Y(ee):Y}},92703:(j,l,e)=>{"use strict";var n=e(50414);function c(){}function u(){}u.resetWarningCache=c,j.exports=function(){function v(E,d,g,P,S,T){if(T!==n){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}v.isRequired=v;function O(){return v}var y={array:v,bigint:v,bool:v,func:v,number:v,object:v,string:v,symbol:v,any:v,arrayOf:O,element:v,elementType:v,instanceOf:O,node:v,objectOf:O,oneOf:O,oneOfType:O,shape:O,exact:O,checkPropTypes:u,resetWarningCache:c};return y.PropTypes=y,y}},45697:(j,l,e)=>{if(!1)var n,c;else j.exports=e(92703)()},50414:j=>{"use strict";var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";j.exports=l},92592:(j,l,e)=>{const n=e(47138),c=e(95115),u=e(6907),v=e(93776);function O(y,E,d,g,P){const S=[].slice.call(arguments,1),T=S.length,C=typeof S[T-1]=="function";if(!C&&!n())throw new Error("Callback required as last argument");if(C){if(T<2)throw new Error("Too few arguments provided");T===2?(P=d,d=E,E=g=void 0):T===3&&(E.getContext&&typeof P=="undefined"?(P=g,g=void 0):(P=g,g=d,d=E,E=void 0))}else{if(T<1)throw new Error("Too few arguments provided");return T===1?(d=E,E=g=void 0):T===2&&!E.getContext&&(g=d,d=E,E=void 0),new Promise(function(p,i){try{const s=c.create(d,g);p(y(s,E,g))}catch(s){i(s)}})}try{const p=c.create(d,g);P(null,y(p,E,g))}catch(p){P(p)}}l.create=c.create,l.toCanvas=O.bind(null,u.render),l.toDataURL=O.bind(null,u.renderToDataURL),l.toString=O.bind(null,function(y,E,d){return v.render(y,d)})},47138:j=>{j.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}},21845:(j,l,e)=>{const n=e(10242).getSymbolSize;l.getRowColCoords=function(u){if(u===1)return[];const v=Math.floor(u/7)+2,O=n(u),y=O===145?26:Math.ceil((O-13)/(2*v-2))*2,E=[O-7];for(let d=1;d<v-1;d++)E[d]=E[d-1]-y;return E.push(6),E.reverse()},l.getPositions=function(u){const v=[],O=l.getRowColCoords(u),y=O.length;for(let E=0;E<y;E++)for(let d=0;d<y;d++)E===0&&d===0||E===0&&d===y-1||E===y-1&&d===0||v.push([O[E],O[d]]);return v}},8260:(j,l,e)=>{const n=e(76910),c=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function u(v){this.mode=n.ALPHANUMERIC,this.data=v}u.getBitsLength=function(O){return 11*Math.floor(O/2)+6*(O%2)},u.prototype.getLength=function(){return this.data.length},u.prototype.getBitsLength=function(){return u.getBitsLength(this.data.length)},u.prototype.write=function(O){let y;for(y=0;y+2<=this.data.length;y+=2){let E=c.indexOf(this.data[y])*45;E+=c.indexOf(this.data[y+1]),O.put(E,11)}this.data.length%2&&O.put(c.indexOf(this.data[y]),6)},j.exports=u},97245:j=>{function l(){this.buffer=[],this.length=0}l.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let c=0;c<n;c++)this.putBit((e>>>n-c-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},j.exports=l},73280:j=>{function l(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}l.prototype.set=function(e,n,c,u){const v=e*this.size+n;this.data[v]=c,u&&(this.reservedBit[v]=!0)},l.prototype.get=function(e,n){return this.data[e*this.size+n]},l.prototype.xor=function(e,n,c){this.data[e*this.size+n]^=c},l.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},j.exports=l},43424:(j,l,e)=>{const n=e(62378),c=e(76910);function u(v){this.mode=c.BYTE,typeof v=="string"&&(v=n(v)),this.data=new Uint8Array(v)}u.getBitsLength=function(O){return O*8},u.prototype.getLength=function(){return this.data.length},u.prototype.getBitsLength=function(){return u.getBitsLength(this.data.length)},u.prototype.write=function(v){for(let O=0,y=this.data.length;O<y;O++)v.put(this.data[O],8)},j.exports=u},26245:(j,l,e)=>{const n=e(64908),c=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],u=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];l.getBlocksCount=function(O,y){switch(y){case n.L:return c[(O-1)*4+0];case n.M:return c[(O-1)*4+1];case n.Q:return c[(O-1)*4+2];case n.H:return c[(O-1)*4+3];default:return}},l.getTotalCodewordsCount=function(O,y){switch(y){case n.L:return u[(O-1)*4+0];case n.M:return u[(O-1)*4+1];case n.Q:return u[(O-1)*4+2];case n.H:return u[(O-1)*4+3];default:return}}},64908:(j,l)=>{l.L={bit:1},l.M={bit:0},l.Q={bit:3},l.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return l.L;case"m":case"medium":return l.M;case"q":case"quartile":return l.Q;case"h":case"high":return l.H;default:throw new Error("Unknown EC Level: "+n)}}l.isValid=function(c){return c&&typeof c.bit!="undefined"&&c.bit>=0&&c.bit<4},l.from=function(c,u){if(l.isValid(c))return c;try{return e(c)}catch(v){return u}}},76526:(j,l,e)=>{const n=e(10242).getSymbolSize,c=7;l.getPositions=function(v){const O=n(v);return[[0,0],[O-c,0],[0,O-c]]}},61642:(j,l,e)=>{const n=e(10242),c=1335,u=21522,v=n.getBCHDigit(c);l.getEncodedBits=function(y,E){const d=y.bit<<3|E;let g=d<<10;for(;n.getBCHDigit(g)-v>=0;)g^=c<<n.getBCHDigit(g)-v;return(d<<10|g)^u}},69729:(j,l)=>{const e=new Uint8Array(512),n=new Uint8Array(256);(function(){let u=1;for(let v=0;v<255;v++)e[v]=u,n[u]=v,u<<=1,u&256&&(u^=285);for(let v=255;v<512;v++)e[v]=e[v-255]})(),l.log=function(u){if(u<1)throw new Error("log("+u+")");return n[u]},l.exp=function(u){return e[u]},l.mul=function(u,v){return u===0||v===0?0:e[n[u]+n[v]]}},51018:(j,l,e)=>{const n=e(76910),c=e(10242);function u(v){this.mode=n.KANJI,this.data=v}u.getBitsLength=function(O){return O*13},u.prototype.getLength=function(){return this.data.length},u.prototype.getBitsLength=function(){return u.getBitsLength(this.data.length)},u.prototype.write=function(v){let O;for(O=0;O<this.data.length;O++){let y=c.toSJIS(this.data[O]);if(y>=33088&&y<=40956)y-=33088;else if(y>=57408&&y<=60351)y-=49472;else throw new Error("Invalid SJIS character: "+this.data[O]+`
Make sure your charset is UTF-8`);y=(y>>>8&255)*192+(y&255),v.put(y,13)}},j.exports=u},27126:(j,l)=>{l.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};l.isValid=function(u){return u!=null&&u!==""&&!isNaN(u)&&u>=0&&u<=7},l.from=function(u){return l.isValid(u)?parseInt(u,10):void 0},l.getPenaltyN1=function(u){const v=u.size;let O=0,y=0,E=0,d=null,g=null;for(let P=0;P<v;P++){y=E=0,d=g=null;for(let S=0;S<v;S++){let T=u.get(P,S);T===d?y++:(y>=5&&(O+=e.N1+(y-5)),d=T,y=1),T=u.get(S,P),T===g?E++:(E>=5&&(O+=e.N1+(E-5)),g=T,E=1)}y>=5&&(O+=e.N1+(y-5)),E>=5&&(O+=e.N1+(E-5))}return O},l.getPenaltyN2=function(u){const v=u.size;let O=0;for(let y=0;y<v-1;y++)for(let E=0;E<v-1;E++){const d=u.get(y,E)+u.get(y,E+1)+u.get(y+1,E)+u.get(y+1,E+1);(d===4||d===0)&&O++}return O*e.N2},l.getPenaltyN3=function(u){const v=u.size;let O=0,y=0,E=0;for(let d=0;d<v;d++){y=E=0;for(let g=0;g<v;g++)y=y<<1&2047|u.get(d,g),g>=10&&(y===1488||y===93)&&O++,E=E<<1&2047|u.get(g,d),g>=10&&(E===1488||E===93)&&O++}return O*e.N3},l.getPenaltyN4=function(u){let v=0;const O=u.data.length;for(let E=0;E<O;E++)v+=u.data[E];return Math.abs(Math.ceil(v*100/O/5)-10)*e.N4};function n(c,u,v){switch(c){case l.Patterns.PATTERN000:return(u+v)%2===0;case l.Patterns.PATTERN001:return u%2===0;case l.Patterns.PATTERN010:return v%3===0;case l.Patterns.PATTERN011:return(u+v)%3===0;case l.Patterns.PATTERN100:return(Math.floor(u/2)+Math.floor(v/3))%2===0;case l.Patterns.PATTERN101:return u*v%2+u*v%3===0;case l.Patterns.PATTERN110:return(u*v%2+u*v%3)%2===0;case l.Patterns.PATTERN111:return(u*v%3+(u+v)%2)%2===0;default:throw new Error("bad maskPattern:"+c)}}l.applyMask=function(u,v){const O=v.size;for(let y=0;y<O;y++)for(let E=0;E<O;E++)v.isReserved(E,y)||v.xor(E,y,n(u,E,y))},l.getBestMask=function(u,v){const O=Object.keys(l.Patterns).length;let y=0,E=1/0;for(let d=0;d<O;d++){v(d),l.applyMask(d,u);const g=l.getPenaltyN1(u)+l.getPenaltyN2(u)+l.getPenaltyN3(u)+l.getPenaltyN4(u);l.applyMask(d,u),g<E&&(E=g,y=d)}return y}},76910:(j,l,e)=>{const n=e(43114),c=e(7007);l.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},l.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},l.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},l.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},l.MIXED={bit:-1},l.getCharCountIndicator=function(O,y){if(!O.ccBits)throw new Error("Invalid mode: "+O);if(!n.isValid(y))throw new Error("Invalid version: "+y);return y>=1&&y<10?O.ccBits[0]:y<27?O.ccBits[1]:O.ccBits[2]},l.getBestModeForData=function(O){return c.testNumeric(O)?l.NUMERIC:c.testAlphanumeric(O)?l.ALPHANUMERIC:c.testKanji(O)?l.KANJI:l.BYTE},l.toString=function(O){if(O&&O.id)return O.id;throw new Error("Invalid mode")},l.isValid=function(O){return O&&O.bit&&O.ccBits};function u(v){if(typeof v!="string")throw new Error("Param is not a string");switch(v.toLowerCase()){case"numeric":return l.NUMERIC;case"alphanumeric":return l.ALPHANUMERIC;case"kanji":return l.KANJI;case"byte":return l.BYTE;default:throw new Error("Unknown mode: "+v)}}l.from=function(O,y){if(l.isValid(O))return O;try{return u(O)}catch(E){return y}}},41085:(j,l,e)=>{const n=e(76910);function c(u){this.mode=n.NUMERIC,this.data=u.toString()}c.getBitsLength=function(v){return 10*Math.floor(v/3)+(v%3?v%3*3+1:0)},c.prototype.getLength=function(){return this.data.length},c.prototype.getBitsLength=function(){return c.getBitsLength(this.data.length)},c.prototype.write=function(v){let O,y,E;for(O=0;O+3<=this.data.length;O+=3)y=this.data.substr(O,3),E=parseInt(y,10),v.put(E,10);const d=this.data.length-O;d>0&&(y=this.data.substr(O),E=parseInt(y,10),v.put(E,d*3+1))},j.exports=c},26143:(j,l,e)=>{const n=e(69729);l.mul=function(u,v){const O=new Uint8Array(u.length+v.length-1);for(let y=0;y<u.length;y++)for(let E=0;E<v.length;E++)O[y+E]^=n.mul(u[y],v[E]);return O},l.mod=function(u,v){let O=new Uint8Array(u);for(;O.length-v.length>=0;){const y=O[0];for(let d=0;d<v.length;d++)O[d]^=n.mul(v[d],y);let E=0;for(;E<O.length&&O[E]===0;)E++;O=O.slice(E)}return O},l.generateECPolynomial=function(u){let v=new Uint8Array([1]);for(let O=0;O<u;O++)v=l.mul(v,new Uint8Array([1,n.exp(O)]));return v}},95115:(j,l,e)=>{const n=e(10242),c=e(64908),u=e(97245),v=e(73280),O=e(21845),y=e(76526),E=e(27126),d=e(26245),g=e(52882),P=e(23103),S=e(61642),T=e(76910),C=e(16130);function p(A,M){const R=A.size,F=y.getPositions(M);for(let Z=0;Z<F.length;Z++){const V=F[Z][0],G=F[Z][1];for(let $=-1;$<=7;$++)if(!(V+$<=-1||R<=V+$))for(let K=-1;K<=7;K++)G+K<=-1||R<=G+K||($>=0&&$<=6&&(K===0||K===6)||K>=0&&K<=6&&($===0||$===6)||$>=2&&$<=4&&K>=2&&K<=4?A.set(V+$,G+K,!0,!0):A.set(V+$,G+K,!1,!0))}}function i(A){const M=A.size;for(let R=8;R<M-8;R++){const F=R%2===0;A.set(R,6,F,!0),A.set(6,R,F,!0)}}function s(A,M){const R=O.getPositions(M);for(let F=0;F<R.length;F++){const Z=R[F][0],V=R[F][1];for(let G=-2;G<=2;G++)for(let $=-2;$<=2;$++)G===-2||G===2||$===-2||$===2||G===0&&$===0?A.set(Z+G,V+$,!0,!0):A.set(Z+G,V+$,!1,!0)}}function _(A,M){const R=A.size,F=P.getEncodedBits(M);let Z,V,G;for(let $=0;$<18;$++)Z=Math.floor($/3),V=$%3+R-8-3,G=(F>>$&1)===1,A.set(Z,V,G,!0),A.set(V,Z,G,!0)}function w(A,M,R){const F=A.size,Z=S.getEncodedBits(M,R);let V,G;for(V=0;V<15;V++)G=(Z>>V&1)===1,V<6?A.set(V,8,G,!0):V<8?A.set(V+1,8,G,!0):A.set(F-15+V,8,G,!0),V<8?A.set(8,F-V-1,G,!0):V<9?A.set(8,15-V-1+1,G,!0):A.set(8,15-V-1,G,!0);A.set(F-8,8,1,!0)}function x(A,M){const R=A.size;let F=-1,Z=R-1,V=7,G=0;for(let $=R-1;$>0;$-=2)for($===6&&$--;;){for(let K=0;K<2;K++)if(!A.isReserved(Z,$-K)){let H=!1;G<M.length&&(H=(M[G]>>>V&1)===1),A.set(Z,$-K,H),V--,V===-1&&(G++,V=7)}if(Z+=F,Z<0||R<=Z){Z-=F,F=-F;break}}}function D(A,M,R){const F=new u;R.forEach(function(K){F.put(K.mode.bit,4),F.put(K.getLength(),T.getCharCountIndicator(K.mode,A)),K.write(F)});const Z=n.getSymbolTotalCodewords(A),V=d.getTotalCodewordsCount(A,M),G=(Z-V)*8;for(F.getLengthInBits()+4<=G&&F.put(0,4);F.getLengthInBits()%8!==0;)F.putBit(0);const $=(G-F.getLengthInBits())/8;for(let K=0;K<$;K++)F.put(K%2?17:236,8);return N(F,A,M)}function N(A,M,R){const F=n.getSymbolTotalCodewords(M),Z=d.getTotalCodewordsCount(M,R),V=F-Z,G=d.getBlocksCount(M,R),$=F%G,K=G-$,H=Math.floor(F/G),re=Math.floor(V/G),ee=re+1,Y=H-re,J=new g(Y);let te=0;const ie=new Array(G),se=new Array(G);let W=0;const z=new Uint8Array(A.buffer);for(let le=0;le<G;le++){const ue=le<K?re:ee;ie[le]=z.slice(te,te+ue),se[le]=J.encode(ie[le]),te+=ue,W=Math.max(W,ue)}const Q=new Uint8Array(F);let oe=0,ne,ae;for(ne=0;ne<W;ne++)for(ae=0;ae<G;ae++)ne<ie[ae].length&&(Q[oe++]=ie[ae][ne]);for(ne=0;ne<Y;ne++)for(ae=0;ae<G;ae++)Q[oe++]=se[ae][ne];return Q}function I(A,M,R,F){let Z;if(Array.isArray(A))Z=C.fromArray(A);else if(typeof A=="string"){let H=M;if(!H){const re=C.rawSplit(A);H=P.getBestVersionForData(re,R)}Z=C.fromString(A,H||40)}else throw new Error("Invalid data");const V=P.getBestVersionForData(Z,R);if(!V)throw new Error("The amount of data is too big to be stored in a QR Code");if(!M)M=V;else if(M<V)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+V+`.
`);const G=D(M,R,Z),$=n.getSymbolSize(M),K=new v($);return p(K,M),i(K),s(K,M),w(K,R,0),M>=7&&_(K,M),x(K,G),isNaN(F)&&(F=E.getBestMask(K,w.bind(null,K,R))),E.applyMask(F,K),w(K,R,F),{modules:K,version:M,errorCorrectionLevel:R,maskPattern:F,segments:Z}}l.create=function(M,R){if(typeof M=="undefined"||M==="")throw new Error("No input text");let F=c.M,Z,V;return typeof R!="undefined"&&(F=c.from(R.errorCorrectionLevel,c.M),Z=P.from(R.version),V=E.from(R.maskPattern),R.toSJISFunc&&n.setToSJISFunction(R.toSJISFunc)),I(M,Z,F,V)}},52882:(j,l,e)=>{const n=e(26143);function c(u){this.genPoly=void 0,this.degree=u,this.degree&&this.initialize(this.degree)}c.prototype.initialize=function(v){this.degree=v,this.genPoly=n.generateECPolynomial(this.degree)},c.prototype.encode=function(v){if(!this.genPoly)throw new Error("Encoder not initialized");const O=new Uint8Array(v.length+this.degree);O.set(v);const y=n.mod(O,this.genPoly),E=this.degree-y.length;if(E>0){const d=new Uint8Array(this.degree);return d.set(y,E),d}return y},j.exports=c},7007:(j,l)=>{const e="[0-9]+",n="[A-Z $%*+\\-./:]+";let c="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";c=c.replace(/u/g,"\\u");const u="(?:(?![A-Z0-9 $%*+\\-./:]|"+c+`)(?:.|[\r
]))+`;l.KANJI=new RegExp(c,"g"),l.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),l.BYTE=new RegExp(u,"g"),l.NUMERIC=new RegExp(e,"g"),l.ALPHANUMERIC=new RegExp(n,"g");const v=new RegExp("^"+c+"$"),O=new RegExp("^"+e+"$"),y=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");l.testKanji=function(d){return v.test(d)},l.testNumeric=function(d){return O.test(d)},l.testAlphanumeric=function(d){return y.test(d)}},16130:(j,l,e)=>{const n=e(76910),c=e(41085),u=e(8260),v=e(43424),O=e(51018),y=e(7007),E=e(10242),d=e(65987);function g(_){return unescape(encodeURIComponent(_)).length}function P(_,w,x){const D=[];let N;for(;(N=_.exec(x))!==null;)D.push({data:N[0],index:N.index,mode:w,length:N[0].length});return D}function S(_){const w=P(y.NUMERIC,n.NUMERIC,_),x=P(y.ALPHANUMERIC,n.ALPHANUMERIC,_);let D,N;return E.isKanjiModeEnabled()?(D=P(y.BYTE,n.BYTE,_),N=P(y.KANJI,n.KANJI,_)):(D=P(y.BYTE_KANJI,n.BYTE,_),N=[]),w.concat(x,D,N).sort(function(A,M){return A.index-M.index}).map(function(A){return{data:A.data,mode:A.mode,length:A.length}})}function T(_,w){switch(w){case n.NUMERIC:return c.getBitsLength(_);case n.ALPHANUMERIC:return u.getBitsLength(_);case n.KANJI:return O.getBitsLength(_);case n.BYTE:return v.getBitsLength(_)}}function C(_){return _.reduce(function(w,x){const D=w.length-1>=0?w[w.length-1]:null;return D&&D.mode===x.mode?(w[w.length-1].data+=x.data,w):(w.push(x),w)},[])}function p(_){const w=[];for(let x=0;x<_.length;x++){const D=_[x];switch(D.mode){case n.NUMERIC:w.push([D,{data:D.data,mode:n.ALPHANUMERIC,length:D.length},{data:D.data,mode:n.BYTE,length:D.length}]);break;case n.ALPHANUMERIC:w.push([D,{data:D.data,mode:n.BYTE,length:D.length}]);break;case n.KANJI:w.push([D,{data:D.data,mode:n.BYTE,length:g(D.data)}]);break;case n.BYTE:w.push([{data:D.data,mode:n.BYTE,length:g(D.data)}])}}return w}function i(_,w){const x={},D={start:{}};let N=["start"];for(let I=0;I<_.length;I++){const A=_[I],M=[];for(let R=0;R<A.length;R++){const F=A[R],Z=""+I+R;M.push(Z),x[Z]={node:F,lastCount:0},D[Z]={};for(let V=0;V<N.length;V++){const G=N[V];x[G]&&x[G].node.mode===F.mode?(D[G][Z]=T(x[G].lastCount+F.length,F.mode)-T(x[G].lastCount,F.mode),x[G].lastCount+=F.length):(x[G]&&(x[G].lastCount=F.length),D[G][Z]=T(F.length,F.mode)+4+n.getCharCountIndicator(F.mode,w))}}N=M}for(let I=0;I<N.length;I++)D[N[I]].end=0;return{map:D,table:x}}function s(_,w){let x;const D=n.getBestModeForData(_);if(x=n.from(w,D),x!==n.BYTE&&x.bit<D.bit)throw new Error('"'+_+'" cannot be encoded with mode '+n.toString(x)+`.
 Suggested mode is: `+n.toString(D));switch(x===n.KANJI&&!E.isKanjiModeEnabled()&&(x=n.BYTE),x){case n.NUMERIC:return new c(_);case n.ALPHANUMERIC:return new u(_);case n.KANJI:return new O(_);case n.BYTE:return new v(_)}}l.fromArray=function(w){return w.reduce(function(x,D){return typeof D=="string"?x.push(s(D,null)):D.data&&x.push(s(D.data,D.mode)),x},[])},l.fromString=function(w,x){const D=S(w,E.isKanjiModeEnabled()),N=p(D),I=i(N,x),A=d.find_path(I.map,"start","end"),M=[];for(let R=1;R<A.length-1;R++)M.push(I.table[A[R]].node);return l.fromArray(C(M))},l.rawSplit=function(w){return l.fromArray(S(w,E.isKanjiModeEnabled()))}},10242:(j,l)=>{let e;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];l.getSymbolSize=function(u){if(!u)throw new Error('"version" cannot be null or undefined');if(u<1||u>40)throw new Error('"version" should be in range from 1 to 40');return u*4+17},l.getSymbolTotalCodewords=function(u){return n[u]},l.getBCHDigit=function(c){let u=0;for(;c!==0;)u++,c>>>=1;return u},l.setToSJISFunction=function(u){if(typeof u!="function")throw new Error('"toSJISFunc" is not a valid function.');e=u},l.isKanjiModeEnabled=function(){return typeof e!="undefined"},l.toSJIS=function(u){return e(u)}},43114:(j,l)=>{l.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}},23103:(j,l,e)=>{const n=e(10242),c=e(26245),u=e(64908),v=e(76910),O=e(43114),y=7973,E=n.getBCHDigit(y);function d(T,C,p){for(let i=1;i<=40;i++)if(C<=l.getCapacity(i,p,T))return i}function g(T,C){return v.getCharCountIndicator(T,C)+4}function P(T,C){let p=0;return T.forEach(function(i){const s=g(i.mode,C);p+=s+i.getBitsLength()}),p}function S(T,C){for(let p=1;p<=40;p++)if(P(T,p)<=l.getCapacity(p,C,v.MIXED))return p}l.from=function(C,p){return O.isValid(C)?parseInt(C,10):p},l.getCapacity=function(C,p,i){if(!O.isValid(C))throw new Error("Invalid QR Code version");typeof i=="undefined"&&(i=v.BYTE);const s=n.getSymbolTotalCodewords(C),_=c.getTotalCodewordsCount(C,p),w=(s-_)*8;if(i===v.MIXED)return w;const x=w-g(i,C);switch(i){case v.NUMERIC:return Math.floor(x/10*3);case v.ALPHANUMERIC:return Math.floor(x/11*2);case v.KANJI:return Math.floor(x/13);case v.BYTE:default:return Math.floor(x/8)}},l.getBestVersionForData=function(C,p){let i;const s=u.from(p,u.M);if(Array.isArray(C)){if(C.length>1)return S(C,s);if(C.length===0)return 1;i=C[0]}else i=C;return d(i.mode,i.getLength(),s)},l.getEncodedBits=function(C){if(!O.isValid(C)||C<7)throw new Error("Invalid QR Code version");let p=C<<12;for(;n.getBCHDigit(p)-E>=0;)p^=y<<n.getBCHDigit(p)-E;return C<<12|p}},6907:(j,l,e)=>{const n=e(89653);function c(v,O,y){v.clearRect(0,0,O.width,O.height),O.style||(O.style={}),O.height=y,O.width=y,O.style.height=y+"px",O.style.width=y+"px"}function u(){try{return document.createElement("canvas")}catch(v){throw new Error("You need to specify a canvas element")}}l.render=function(O,y,E){let d=E,g=y;typeof d=="undefined"&&(!y||!y.getContext)&&(d=y,y=void 0),y||(g=u()),d=n.getOptions(d);const P=n.getImageWidth(O.modules.size,d),S=g.getContext("2d"),T=S.createImageData(P,P);return n.qrToImageData(T.data,O,d),c(S,g,P),S.putImageData(T,0,0),g},l.renderToDataURL=function(O,y,E){let d=E;typeof d=="undefined"&&(!y||!y.getContext)&&(d=y,y=void 0),d||(d={});const g=l.render(O,y,d),P=d.type||"image/png",S=d.rendererOpts||{};return g.toDataURL(P,S.quality)}},93776:(j,l,e)=>{const n=e(89653);function c(O,y){const E=O.a/255,d=y+'="'+O.hex+'"';return E<1?d+" "+y+'-opacity="'+E.toFixed(2).slice(1)+'"':d}function u(O,y,E){let d=O+y;return typeof E!="undefined"&&(d+=" "+E),d}function v(O,y,E){let d="",g=0,P=!1,S=0;for(let T=0;T<O.length;T++){const C=Math.floor(T%y),p=Math.floor(T/y);!C&&!P&&(P=!0),O[T]?(S++,T>0&&C>0&&O[T-1]||(d+=P?u("M",C+E,.5+p+E):u("m",g,0),g=0,P=!1),C+1<y&&O[T+1]||(d+=u("h",S),S=0)):g++}return d}l.render=function(y,E,d){const g=n.getOptions(E),P=y.modules.size,S=y.modules.data,T=P+g.margin*2,C=g.color.light.a?"<path "+c(g.color.light,"fill")+' d="M0 0h'+T+"v"+T+'H0z"/>':"",p="<path "+c(g.color.dark,"stroke")+' d="'+v(S,P,g.margin)+'"/>',i='viewBox="0 0 '+T+" "+T+'"',_='<svg xmlns="http://www.w3.org/2000/svg" '+(g.width?'width="'+g.width+'" height="'+g.width+'" ':"")+i+' shape-rendering="crispEdges">'+C+p+`</svg>
`;return typeof d=="function"&&d(null,_),_}},89653:(j,l)=>{function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let c=n.slice().replace("#","").split("");if(c.length<3||c.length===5||c.length>8)throw new Error("Invalid hex color: "+n);(c.length===3||c.length===4)&&(c=Array.prototype.concat.apply([],c.map(function(v){return[v,v]}))),c.length===6&&c.push("F","F");const u=parseInt(c.join(""),16);return{r:u>>24&255,g:u>>16&255,b:u>>8&255,a:u&255,hex:"#"+c.slice(0,6).join("")}}l.getOptions=function(c){c||(c={}),c.color||(c.color={});const u=typeof c.margin=="undefined"||c.margin===null||c.margin<0?4:c.margin,v=c.width&&c.width>=21?c.width:void 0,O=c.scale||4;return{width:v,scale:v?4:O,margin:u,color:{dark:e(c.color.dark||"#000000ff"),light:e(c.color.light||"#ffffffff")},type:c.type,rendererOpts:c.rendererOpts||{}}},l.getScale=function(c,u){return u.width&&u.width>=c+u.margin*2?u.width/(c+u.margin*2):u.scale},l.getImageWidth=function(c,u){const v=l.getScale(c,u);return Math.floor((c+u.margin*2)*v)},l.qrToImageData=function(c,u,v){const O=u.modules.size,y=u.modules.data,E=l.getScale(O,v),d=Math.floor((O+v.margin*2)*E),g=v.margin*E,P=[v.color.light,v.color.dark];for(let S=0;S<d;S++)for(let T=0;T<d;T++){let C=(S*d+T)*4,p=v.color.light;if(S>=g&&T>=g&&S<d-g&&T<d-g){const i=Math.floor((S-g)/E),s=Math.floor((T-g)/E);p=P[y[i*O+s]?1:0]}c[C++]=p.r,c[C++]=p.g,c[C++]=p.b,c[C]=p.a}}},55798:j=>{"use strict";var l=String.prototype.replace,e=/%20/g,n={RFC1738:"RFC1738",RFC3986:"RFC3986"};j.exports={default:n.RFC3986,formatters:{RFC1738:function(c){return l.call(c,e,"+")},RFC3986:function(c){return String(c)}},RFC1738:n.RFC1738,RFC3986:n.RFC3986}},80129:(j,l,e)=>{"use strict";var n=e(58261),c=e(55235),u=e(55798);j.exports={formats:u,parse:c,stringify:n}},55235:(j,l,e)=>{"use strict";var n=e(12769),c=Object.prototype.hasOwnProperty,u=Array.isArray,v={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},O=function(C){return C.replace(/&#(\d+);/g,function(p,i){return String.fromCharCode(parseInt(i,10))})},y=function(C,p){return C&&typeof C=="string"&&p.comma&&C.indexOf(",")>-1?C.split(","):C},E="utf8=%26%2310003%3B",d="utf8=%E2%9C%93",g=function(p,i){var s={},_=i.ignoreQueryPrefix?p.replace(/^\?/,""):p,w=i.parameterLimit===1/0?void 0:i.parameterLimit,x=_.split(i.delimiter,w),D=-1,N,I=i.charset;if(i.charsetSentinel)for(N=0;N<x.length;++N)x[N].indexOf("utf8=")===0&&(x[N]===d?I="utf-8":x[N]===E&&(I="iso-8859-1"),D=N,N=x.length);for(N=0;N<x.length;++N)if(N!==D){var A=x[N],M=A.indexOf("]="),R=M===-1?A.indexOf("="):M+1,F,Z;R===-1?(F=i.decoder(A,v.decoder,I,"key"),Z=i.strictNullHandling?null:""):(F=i.decoder(A.slice(0,R),v.decoder,I,"key"),Z=n.maybeMap(y(A.slice(R+1),i),function(V){return i.decoder(V,v.decoder,I,"value")})),Z&&i.interpretNumericEntities&&I==="iso-8859-1"&&(Z=O(Z)),A.indexOf("[]=")>-1&&(Z=u(Z)?[Z]:Z),c.call(s,F)?s[F]=n.combine(s[F],Z):s[F]=Z}return s},P=function(C,p,i,s){for(var _=s?p:y(p,i),w=C.length-1;w>=0;--w){var x,D=C[w];if(D==="[]"&&i.parseArrays)x=[].concat(_);else{x=i.plainObjects?Object.create(null):{};var N=D.charAt(0)==="["&&D.charAt(D.length-1)==="]"?D.slice(1,-1):D,I=parseInt(N,10);!i.parseArrays&&N===""?x={0:_}:!isNaN(I)&&D!==N&&String(I)===N&&I>=0&&i.parseArrays&&I<=i.arrayLimit?(x=[],x[I]=_):N!=="__proto__"&&(x[N]=_)}_=x}return _},S=function(p,i,s,_){if(p){var w=s.allowDots?p.replace(/\.([^.[]+)/g,"[$1]"):p,x=/(\[[^[\]]*])/,D=/(\[[^[\]]*])/g,N=s.depth>0&&x.exec(w),I=N?w.slice(0,N.index):w,A=[];if(I){if(!s.plainObjects&&c.call(Object.prototype,I)&&!s.allowPrototypes)return;A.push(I)}for(var M=0;s.depth>0&&(N=D.exec(w))!==null&&M<s.depth;){if(M+=1,!s.plainObjects&&c.call(Object.prototype,N[1].slice(1,-1))&&!s.allowPrototypes)return;A.push(N[1])}return N&&A.push("["+w.slice(N.index)+"]"),P(A,i,s,_)}},T=function(p){if(!p)return v;if(p.decoder!==null&&p.decoder!==void 0&&typeof p.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof p.charset!="undefined"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=typeof p.charset=="undefined"?v.charset:p.charset;return{allowDots:typeof p.allowDots=="undefined"?v.allowDots:!!p.allowDots,allowPrototypes:typeof p.allowPrototypes=="boolean"?p.allowPrototypes:v.allowPrototypes,allowSparse:typeof p.allowSparse=="boolean"?p.allowSparse:v.allowSparse,arrayLimit:typeof p.arrayLimit=="number"?p.arrayLimit:v.arrayLimit,charset:i,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:v.charsetSentinel,comma:typeof p.comma=="boolean"?p.comma:v.comma,decoder:typeof p.decoder=="function"?p.decoder:v.decoder,delimiter:typeof p.delimiter=="string"||n.isRegExp(p.delimiter)?p.delimiter:v.delimiter,depth:typeof p.depth=="number"||p.depth===!1?+p.depth:v.depth,ignoreQueryPrefix:p.ignoreQueryPrefix===!0,interpretNumericEntities:typeof p.interpretNumericEntities=="boolean"?p.interpretNumericEntities:v.interpretNumericEntities,parameterLimit:typeof p.parameterLimit=="number"?p.parameterLimit:v.parameterLimit,parseArrays:p.parseArrays!==!1,plainObjects:typeof p.plainObjects=="boolean"?p.plainObjects:v.plainObjects,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:v.strictNullHandling}};j.exports=function(C,p){var i=T(p);if(C===""||C===null||typeof C=="undefined")return i.plainObjects?Object.create(null):{};for(var s=typeof C=="string"?g(C,i):C,_=i.plainObjects?Object.create(null):{},w=Object.keys(s),x=0;x<w.length;++x){var D=w[x],N=S(D,s[D],i,typeof C=="string");_=n.merge(_,N,i)}return i.allowSparse===!0?_:n.compact(_)}},58261:(j,l,e)=>{"use strict";var n=e(37478),c=e(12769),u=e(55798),v=Object.prototype.hasOwnProperty,O={brackets:function(w){return w+"[]"},comma:"comma",indices:function(w,x){return w+"["+x+"]"},repeat:function(w){return w}},y=Array.isArray,E=String.prototype.split,d=Array.prototype.push,g=function(_,w){d.apply(_,y(w)?w:[w])},P=Date.prototype.toISOString,S=u.default,T={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:c.encode,encodeValuesOnly:!1,format:S,formatter:u.formatters[S],indices:!1,serializeDate:function(w){return P.call(w)},skipNulls:!1,strictNullHandling:!1},C=function(w){return typeof w=="string"||typeof w=="number"||typeof w=="boolean"||typeof w=="symbol"||typeof w=="bigint"},p={},i=function _(w,x,D,N,I,A,M,R,F,Z,V,G,$,K,H,re){for(var ee=w,Y=re,J=0,te=!1;(Y=Y.get(p))!==void 0&&!te;){var ie=Y.get(w);if(J+=1,typeof ie!="undefined"){if(ie===J)throw new RangeError("Cyclic object value");te=!0}typeof Y.get(p)=="undefined"&&(J=0)}if(typeof R=="function"?ee=R(x,ee):ee instanceof Date?ee=V(ee):D==="comma"&&y(ee)&&(ee=c.maybeMap(ee,function(Te){return Te instanceof Date?V(Te):Te})),ee===null){if(I)return M&&!K?M(x,T.encoder,H,"key",G):x;ee=""}if(C(ee)||c.isBuffer(ee)){if(M){var se=K?x:M(x,T.encoder,H,"key",G);if(D==="comma"&&K){for(var W=E.call(String(ee),","),z="",Q=0;Q<W.length;++Q)z+=(Q===0?"":",")+$(M(W[Q],T.encoder,H,"value",G));return[$(se)+(N&&y(ee)&&W.length===1?"[]":"")+"="+z]}return[$(se)+"="+$(M(ee,T.encoder,H,"value",G))]}return[$(x)+"="+$(String(ee))]}var oe=[];if(typeof ee=="undefined")return oe;var ne;if(D==="comma"&&y(ee))ne=[{value:ee.length>0?ee.join(",")||null:void 0}];else if(y(R))ne=R;else{var ae=Object.keys(ee);ne=F?ae.sort(F):ae}for(var le=N&&y(ee)&&ee.length===1?x+"[]":x,ue=0;ue<ne.length;++ue){var fe=ne[ue],he=typeof fe=="object"&&typeof fe.value!="undefined"?fe.value:ee[fe];if(!(A&&he===null)){var be=y(ee)?typeof D=="function"?D(le,fe):le:le+(Z?"."+fe:"["+fe+"]");re.set(w,J);var ve=n();ve.set(p,re),g(oe,_(he,be,D,N,I,A,M,R,F,Z,V,G,$,K,H,ve))}}return oe},s=function(w){if(!w)return T;if(w.encoder!==null&&typeof w.encoder!="undefined"&&typeof w.encoder!="function")throw new TypeError("Encoder has to be a function.");var x=w.charset||T.charset;if(typeof w.charset!="undefined"&&w.charset!=="utf-8"&&w.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var D=u.default;if(typeof w.format!="undefined"){if(!v.call(u.formatters,w.format))throw new TypeError("Unknown format option provided.");D=w.format}var N=u.formatters[D],I=T.filter;return(typeof w.filter=="function"||y(w.filter))&&(I=w.filter),{addQueryPrefix:typeof w.addQueryPrefix=="boolean"?w.addQueryPrefix:T.addQueryPrefix,allowDots:typeof w.allowDots=="undefined"?T.allowDots:!!w.allowDots,charset:x,charsetSentinel:typeof w.charsetSentinel=="boolean"?w.charsetSentinel:T.charsetSentinel,delimiter:typeof w.delimiter=="undefined"?T.delimiter:w.delimiter,encode:typeof w.encode=="boolean"?w.encode:T.encode,encoder:typeof w.encoder=="function"?w.encoder:T.encoder,encodeValuesOnly:typeof w.encodeValuesOnly=="boolean"?w.encodeValuesOnly:T.encodeValuesOnly,filter:I,format:D,formatter:N,serializeDate:typeof w.serializeDate=="function"?w.serializeDate:T.serializeDate,skipNulls:typeof w.skipNulls=="boolean"?w.skipNulls:T.skipNulls,sort:typeof w.sort=="function"?w.sort:null,strictNullHandling:typeof w.strictNullHandling=="boolean"?w.strictNullHandling:T.strictNullHandling}};j.exports=function(_,w){var x=_,D=s(w),N,I;typeof D.filter=="function"?(I=D.filter,x=I("",x)):y(D.filter)&&(I=D.filter,N=I);var A=[];if(typeof x!="object"||x===null)return"";var M;w&&w.arrayFormat in O?M=w.arrayFormat:w&&"indices"in w?M=w.indices?"indices":"repeat":M="indices";var R=O[M];if(w&&"commaRoundTrip"in w&&typeof w.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var F=R==="comma"&&w&&w.commaRoundTrip;N||(N=Object.keys(x)),D.sort&&N.sort(D.sort);for(var Z=n(),V=0;V<N.length;++V){var G=N[V];D.skipNulls&&x[G]===null||g(A,i(x[G],G,R,F,D.strictNullHandling,D.skipNulls,D.encode?D.encoder:null,D.filter,D.sort,D.allowDots,D.serializeDate,D.format,D.formatter,D.encodeValuesOnly,D.charset,Z))}var $=A.join(D.delimiter),K=D.addQueryPrefix===!0?"?":"";return D.charsetSentinel&&(D.charset==="iso-8859-1"?K+="utf8=%26%2310003%3B&":K+="utf8=%E2%9C%93&"),$.length>0?K+$:""}},12769:(j,l,e)=>{"use strict";var n=e(55798),c=Object.prototype.hasOwnProperty,u=Array.isArray,v=function(){for(var s=[],_=0;_<256;++_)s.push("%"+((_<16?"0":"")+_.toString(16)).toUpperCase());return s}(),O=function(_){for(;_.length>1;){var w=_.pop(),x=w.obj[w.prop];if(u(x)){for(var D=[],N=0;N<x.length;++N)typeof x[N]!="undefined"&&D.push(x[N]);w.obj[w.prop]=D}}},y=function(_,w){for(var x=w&&w.plainObjects?Object.create(null):{},D=0;D<_.length;++D)typeof _[D]!="undefined"&&(x[D]=_[D]);return x},E=function s(_,w,x){if(!w)return _;if(typeof w!="object"){if(u(_))_.push(w);else if(_&&typeof _=="object")(x&&(x.plainObjects||x.allowPrototypes)||!c.call(Object.prototype,w))&&(_[w]=!0);else return[_,w];return _}if(!_||typeof _!="object")return[_].concat(w);var D=_;return u(_)&&!u(w)&&(D=y(_,x)),u(_)&&u(w)?(w.forEach(function(N,I){if(c.call(_,I)){var A=_[I];A&&typeof A=="object"&&N&&typeof N=="object"?_[I]=s(A,N,x):_.push(N)}else _[I]=N}),_):Object.keys(w).reduce(function(N,I){var A=w[I];return c.call(N,I)?N[I]=s(N[I],A,x):N[I]=A,N},D)},d=function(_,w){return Object.keys(w).reduce(function(x,D){return x[D]=w[D],x},_)},g=function(s,_,w){var x=s.replace(/\+/g," ");if(w==="iso-8859-1")return x.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(x)}catch(D){return x}},P=function(_,w,x,D,N){if(_.length===0)return _;var I=_;if(typeof _=="symbol"?I=Symbol.prototype.toString.call(_):typeof _!="string"&&(I=String(_)),x==="iso-8859-1")return escape(I).replace(/%u[0-9a-f]{4}/gi,function(F){return"%26%23"+parseInt(F.slice(2),16)+"%3B"});for(var A="",M=0;M<I.length;++M){var R=I.charCodeAt(M);if(R===45||R===46||R===95||R===126||R>=48&&R<=57||R>=65&&R<=90||R>=97&&R<=122||N===n.RFC1738&&(R===40||R===41)){A+=I.charAt(M);continue}if(R<128){A=A+v[R];continue}if(R<2048){A=A+(v[192|R>>6]+v[128|R&63]);continue}if(R<55296||R>=57344){A=A+(v[224|R>>12]+v[128|R>>6&63]+v[128|R&63]);continue}M+=1,R=65536+((R&1023)<<10|I.charCodeAt(M)&1023),A+=v[240|R>>18]+v[128|R>>12&63]+v[128|R>>6&63]+v[128|R&63]}return A},S=function(_){for(var w=[{obj:{o:_},prop:"o"}],x=[],D=0;D<w.length;++D)for(var N=w[D],I=N.obj[N.prop],A=Object.keys(I),M=0;M<A.length;++M){var R=A[M],F=I[R];typeof F=="object"&&F!==null&&x.indexOf(F)===-1&&(w.push({obj:I,prop:R}),x.push(F))}return O(w),_},T=function(_){return Object.prototype.toString.call(_)==="[object RegExp]"},C=function(_){return!_||typeof _!="object"?!1:!!(_.constructor&&_.constructor.isBuffer&&_.constructor.isBuffer(_))},p=function(_,w){return[].concat(_,w)},i=function(_,w){if(u(_)){for(var x=[],D=0;D<_.length;D+=1)x.push(w(_[D]));return x}return w(_)};j.exports={arrayToObject:y,assign:d,combine:p,compact:S,decode:g,encode:P,isBuffer:C,isRegExp:T,maybeMap:i,merge:E}},35639:(j,l,e)=>{"use strict";var n;n={value:!0};var c=Object.assign||function(D){for(var N=1;N<arguments.length;N++){var I=arguments[N];for(var A in I)Object.prototype.hasOwnProperty.call(I,A)&&(D[A]=I[A])}return D},u=function(){function D(N,I){for(var A=0;A<I.length;A++){var M=I[A];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(N,M.key,M)}}return function(N,I,A){return I&&D(N.prototype,I),A&&D(N,A),N}}(),v=e(98661),O=d(v),y=e(45697),E=d(y);function d(D){return D&&D.__esModule?D:{default:D}}function g(D,N){var I={};for(var A in D)N.indexOf(A)>=0||Object.prototype.hasOwnProperty.call(D,A)&&(I[A]=D[A]);return I}function P(D,N){if(!(D instanceof N))throw new TypeError("Cannot call a class as a function")}function S(D,N){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:D}function T(D,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);D.prototype=Object.create(N&&N.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(D,N):D.__proto__=N)}var C={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},p=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],i=function(N){return p.forEach(function(I){return delete N[I]}),N},s=function(N,I){I.style.fontSize=N.fontSize,I.style.fontFamily=N.fontFamily,I.style.fontWeight=N.fontWeight,I.style.fontStyle=N.fontStyle,I.style.letterSpacing=N.letterSpacing,I.style.textTransform=N.textTransform},_=typeof window!="undefined"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,w=function(){return _?"_"+Math.random().toString(36).substr(2,12):void 0},x=function(D){T(N,D),u(N,null,[{key:"getDerivedStateFromProps",value:function(A,M){var R=A.id;return R!==M.prevId?{inputId:R||w(),prevId:R}:null}}]);function N(I){P(this,N);var A=S(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,I));return A.inputRef=function(M){A.input=M,typeof A.props.inputRef=="function"&&A.props.inputRef(M)},A.placeHolderSizerRef=function(M){A.placeHolderSizer=M},A.sizerRef=function(M){A.sizer=M},A.state={inputWidth:I.minWidth,inputId:I.id||w(),prevId:I.id},A}return u(N,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(A,M){M.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var A=this.input&&window.getComputedStyle(this.input);A&&(s(A,this.sizer),this.placeHolderSizer&&s(A,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth=="undefined")){var A=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?A=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:A=this.sizer.scrollWidth+2;var M=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;A+=M,A<this.props.minWidth&&(A=this.props.minWidth),A!==this.state.inputWidth&&this.setState({inputWidth:A})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var A=this.props.injectStyles;return _&&A?O.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var A=[this.props.defaultValue,this.props.value,""].reduce(function(Z,V){return Z!=null?Z:V}),M=c({},this.props.style);M.display||(M.display="inline-block");var R=c({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),F=g(this.props,[]);return i(F),F.className=this.props.inputClassName,F.id=this.state.inputId,F.style=R,O.default.createElement("div",{className:this.props.className,style:M},this.renderStyles(),O.default.createElement("input",c({},F,{ref:this.inputRef})),O.default.createElement("div",{ref:this.sizerRef,style:C},A),this.props.placeholder?O.default.createElement("div",{ref:this.placeHolderSizerRef,style:C},this.props.placeholder):null)}}]),N}(v.Component);x.propTypes={className:E.default.string,defaultValue:E.default.any,extraWidth:E.default.oneOfType([E.default.number,E.default.string]),id:E.default.string,injectStyles:E.default.bool,inputClassName:E.default.string,inputRef:E.default.func,inputStyle:E.default.object,minWidth:E.default.oneOfType([E.default.number,E.default.string]),onAutosize:E.default.func,onChange:E.default.func,placeholder:E.default.string,placeholderIsMinWidth:E.default.bool,style:E.default.object,value:E.default.any},x.defaultProps={minWidth:1,injectStyles:!0},l.Z=x},62372:(j,l,e)=>{"use strict";e.d(l,{XI:()=>pt,sJ:()=>Te});var n=e(98661);function c(Ie,ye){for(var Ce=0;Ce<ye.length;Ce++){var xe=ye[Ce];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(Ie,xe.key,xe)}}function u(Ie,ye,Ce){return ye&&c(Ie.prototype,ye),Ce&&c(Ie,Ce),Ie}function v(){return v=Object.assign||function(Ie){for(var ye=1;ye<arguments.length;ye++){var Ce=arguments[ye];for(var xe in Ce)Object.prototype.hasOwnProperty.call(Ce,xe)&&(Ie[xe]=Ce[xe])}return Ie},v.apply(this,arguments)}function O(Ie,ye){Ie.prototype=Object.create(ye.prototype),Ie.prototype.constructor=Ie,y(Ie,ye)}function y(Ie,ye){return y=Object.setPrototypeOf||function(xe,je){return xe.__proto__=je,xe},y(Ie,ye)}function E(Ie,ye){if(Ie==null)return{};var Ce={},xe=Object.keys(Ie),je,He;for(He=0;He<xe.length;He++)je=xe[He],!(ye.indexOf(je)>=0)&&(Ce[je]=Ie[je]);return Ce}function d(Ie,ye){if(Ie){if(typeof Ie=="string")return g(Ie,ye);var Ce=Object.prototype.toString.call(Ie).slice(8,-1);if(Ce==="Object"&&Ie.constructor&&(Ce=Ie.constructor.name),Ce==="Map"||Ce==="Set")return Array.from(Ie);if(Ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ce))return g(Ie,ye)}}function g(Ie,ye){(ye==null||ye>Ie.length)&&(ye=Ie.length);for(var Ce=0,xe=new Array(ye);Ce<ye;Ce++)xe[Ce]=Ie[Ce];return xe}function P(Ie,ye){var Ce=typeof Symbol!="undefined"&&Ie[Symbol.iterator]||Ie["@@iterator"];if(Ce)return(Ce=Ce.call(Ie)).next.bind(Ce);if(Array.isArray(Ie)||(Ce=d(Ie))||ye&&Ie&&typeof Ie.length=="number"){Ce&&(Ie=Ce);var xe=0;return function(){return xe>=Ie.length?{done:!0}:{done:!1,value:Ie[xe++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(Ie){var ye=(0,n.useRef)(null);function Ce(xe){!xe||xe===ye.current||(ye.current=xe,Ie(xe))}return Ce}function T(Ie){var ye=(0,n.useRef)(Ie);return(0,n.useMemo)(function(){function Ce(je){typeof je=="function"?ye.current=je(ye.current):ye.current=je}function xe(){return ye.current}return[xe,Ce]},[])}function C(){var Ie=(0,n.useRef)([]);return(0,n.useMemo)(function(){function ye(){return Ie.current.length>0}function Ce(){for(var je=P(Ie.current),He;!(He=je()).done;){var Ge=He.value;Ge()}Ie.current=[]}function xe(je){Ie.current.push(je)}return{hasEventSubscriptions:ye,removeAllEventSubscriptions:Ce,addEventSubscription:xe}},[])}var p=typeof window!="undefined"?n.useLayoutEffect:n.useEffect;function i(Ie,ye){var Ce=(0,n.useRef)(Ie);return ye?(Ce.current=Ie,Ce):(Ce.current=null,Ce)}var s={top:0,left:0,right:1,bottom:1,width:1,height:1};function _(Ie){var ye=Ie===void 0?{}:Ie,Ce=ye.enabled,xe=Ce===void 0?!0:Ce,je=ye.preventDefault,He=je===void 0?!0:je,Ge=useRef(null),Qe=useState(s),ct=Qe[0],dt=Qe[1];function it(){dt(s)}var tt=ct!==s;function vt(et){if(xe){He&&et.preventDefault();var Xe=et.clientX,Ne=et.clientY;dt({top:Ne,left:Xe,width:1,height:1,right:Xe+1,bottom:Ne+1})}}return{hasMousePosition:tt,resetMousePosition:it,handleMouseEvent:vt,trigger:{getBounds:function(){return ct},getParent:Ge.current?function(){return Ge.current}:void 0},parentRef:Ge}}function w(Ie){return parseFloat(Ie.replace("px",""))}function x(Ie,ye,Ce){return Ie<ye?ye:Ie>Ce?Ce:Ie}function D(Ie){return Ie!=null}function N(){for(var Ie=arguments.length,ye=new Array(Ie),Ce=0;Ce<Ie;Ce++)ye[Ce]=arguments[Ce];return function(xe){for(var je=P(ye),He;!(He=je()).done;){var Ge=He.value;Ge&&(typeof Ge=="function"?Ge(xe):Ge.current=xe)}}}function I(Ie,ye){if(typeof Ie!="undefined")return ye||Ie.ResizeObserver}function A(Ie,ye){var Ce=[];if(!Ie||!ye||Ie===document.body)return Ce;var xe=ye.getComputedStyle(Ie),je=xe.overflow,He=xe.overflowX,Ge=xe.overflowY;return[je,He,Ge].some(function(Qe){return["auto","scroll"].includes(Qe)})&&Ce.push(Ie),[].concat(Ce,A(Ie.parentElement,ye))}function M(Ie){return"react-laag: Could not find a valid reference for the "+Ie+` element. There might be 2 causes:
   - Make sure that the 'ref' is set correctly on the `+Ie+` element when isOpen: true. Also make sure your component forwards the ref with "forwardRef()".
   - Make sure that you are actually rendering the `+Ie+" when the isOpen prop is set to true"}function R(Ie){var ye=Ie.enabled,Ce=Ie.onChange,xe=Ie.environment,je=Ie.ResizeObserverPolyfill,He=Ie.overflowContainer,Ge=Ie.triggerOption,Qe=I(xe,je);(0,n.useEffect)(function(){},[Qe]);var ct=(0,n.useRef)(null),dt=!!Ge,it=T({scrollContainers:[],trigger:null,layer:null}),tt=it[0],vt=it[1],et=C(),Xe=et.hasEventSubscriptions,Ne=et.addEventSubscription,ft=et.removeAllEventSubscriptions,At=(0,n.useCallback)(function(){var fn=tt(),xn=fn.layer,Dn=fn.trigger,Wn=fn.scrollContainers,Fn=Wn[0];if(!xn)throw new Error(M("layer"));if(!Dn&&!dt)throw new Error(M("trigger"));var Cn={top:0,left:0};if(Fn){var bn=Fn.scrollLeft,zn=Fn.scrollTop;Cn={top:zn,left:bn}}else{var tr=xe.scrollX,$n=xe.scrollY;Cn={top:$n,left:tr}}var lr={left:0,top:0};if(Fn){var Kn=xe.getComputedStyle(Fn),rt=Kn.borderLeftWidth,lt=Kn.borderTopWidth;lr={left:w(rt)||0,top:w(lt)||0}}Ce({layer:xn,trigger:Dn,scrollContainers:Wn,arrow:ct.current},Cn,lr)},[tt,Ce,xe,ct,dt]),Ht=(0,n.useCallback)(function(){var fn=tt(),xn=fn.trigger,Dn=fn.layer,Wn=fn.scrollContainers;if(!Dn)throw new Error(M("layer"));if(!xn&&!dt)throw new Error(M("trigger"));if(Qe){for(var Fn=!1,Cn=function(){if(!Fn){Fn=!0;return}At()},bn=new Qe(Cn),zn=0,tr=[xn,Dn,document.body];zn<tr.length;zn++){var $n=tr[zn];$n&&bn.observe($n)}Ne(function(){for(var bt=0,Ut=[xn,Dn,document.body];bt<Ut.length;bt++){var an=Ut[bt];an&&bn.unobserve(an)}bn.disconnect()})}for(var lr=[xe].concat(Wn),Kn=function(){var Ut=lt.value;Ut.addEventListener("scroll",At),Ne(function(){return Ut.removeEventListener("scroll",At)})},rt=P(lr),lt;!(lt=rt()).done;)Kn()},[tt,Ne,At,xe,Qe,dt]),rn=(0,n.useCallback)(function(dn,fn){ye&&dn&&dn!==fn&&(ft(),Ht(),At())},[ft,Ht,At,ye]),en=S((0,n.useCallback)(function(dn){var fn=tt(),xn=fn.layer;vt(function(Dn){return v({},Dn,{layer:dn})}),rn(xn,dn)},[tt,vt,rn])),pn=(0,n.useCallback)(function(fn){var xn=A(fn,xe),Dn=xn[0];if(Dn){var Wn=xe.getComputedStyle(Dn).position,Fn=["relative","absolute","fixed"].includes(Wn)||He;Fn||(Dn.style.position="relative")}return xn},[xe,He]),_n=S((0,n.useCallback)(function(dn){var fn=pn(dn),xn=tt(),Dn=xn.trigger;vt(function(Wn){return v({},Wn,{trigger:dn,scrollContainers:fn})}),rn(Dn,dn)},[tt,vt,rn,pn])),Tn=Ge==null||Ge.getParent==null?void 0:Ge.getParent();return p(function(){Tn&&vt(function(dn){return v({},dn,{scrollContainers:pn(Tn)})})},[Tn,vt,pn]),p(function(){return ye&&(Xe()||Ht()),function(){Xe()&&ft()}},[ye,Xe,Ht,ft]),p(function(){ye&&At()}),{triggerRef:_n,layerRef:en,arrowRef:ct,closestScrollContainer:tt().scrollContainers[0]||null}}var F=(0,n.createContext)({});function Z(Ie){var ye=Ie.children,Ce=Ie.registrations,xe=(0,n.useCallback)(function(He){return Ce.current.add(He),function(){return Ce.current.delete(He)}},[Ce]);return(0,n.createElement)(F.Provider,{value:xe},ye)}function V(Ie,ye){for(var Ce=P(Ie),xe;!(xe=Ce()).done;){var je=xe.value.shouldCloseWhenClickedOutside;if(!je(ye))return!1}return!0}function G(Ie){var ye=Ie.isOpen,Ce=Ie.onOutsideClick,xe=Ie.onParentClose,je=(0,n.useRef)(null),He=(0,n.useRef)(null),Ge=(0,n.useRef)(new Set),Qe=(0,n.useContext)(F),ct=(0,n.useCallback)(function(it){var tt=it.target,vt=je.current&&je.current.contains(tt),et=He.current&&He.current.contains(tt),Xe=V(Ge.current,it);return et&&Xe&&Ge.current.forEach(function(Ne){var ft=Ne.closeChild;return ft()}),!vt&&!et&&Xe},[je,He,Ge]);return(0,n.useEffect)(function(){if(typeof Qe=="function")return Qe({shouldCloseWhenClickedOutside:ct,closeChild:function(){xe&&xe()}})},[Qe,ct,xe,Ge]),(0,n.useEffect)(function(){var dt=typeof Qe=="function",it=!ye||!Ce||dt;if(it)return;function tt(vt){ct(vt)&&Ce()}return document.addEventListener("click",tt,!0),function(){return document.removeEventListener("click",tt,!0)}},[ye,Ce,ct,Qe]),(0,n.useEffect)(function(){ye||Ge.current.forEach(function(dt){var it=dt.closeChild;return it()})},[ye]),{closeOnOutsideClickRefs:{trigger:je,layer:He},registrations:Ge}}var $=["bottom-start","bottom-end","bottom-center","top-start","top-center","top-end","left-end","left-center","left-start","right-end","right-center","right-start","center"],K={top:"bottom",left:"right",bottom:"top",right:"left",center:"center"},H=function(){function Ie(Ce,xe,je,He,Ge,Qe,ct,dt,it){this.prop=void 0,this.opposite=void 0,this.isHorizontal=void 0,this.sizeProp=void 0,this.oppositeSizeProp=void 0,this.cssProp=void 0,this.oppositeCssProp=void 0,this.isCenter=void 0,this.isPush=void 0,this.prop=Ce,this.opposite=xe,this.isHorizontal=je,this.sizeProp=He,this.oppositeSizeProp=Ge,this.cssProp=Qe,this.oppositeCssProp=ct,this.isCenter=dt,this.isPush=it}var ye=Ie.prototype;return ye.factor=function(xe){return xe*(this.isPush?1:-1)},ye.isOppositeDirection=function(xe){return this.isHorizontal!==xe.isHorizontal},Ie}();function re(Ie,ye){ye===void 0&&(ye=!0);var Ce=["left","right"].includes(Ie);return new H(Ie,ye?re(K[Ie],!1):null,Ce,Ce?"width":"height",Ce?"height":"width",Ce?"left":"top",Ce?"top":"left",Ie==="center",!["right","bottom"].includes(Ie))}var ee={top:re("top"),bottom:re("bottom"),left:re("left"),right:re("right")},Y=v({},ee,{center:re("center")}),J=["top","left","bottom","right"],te=function(){function Ie(ye){return this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,Object.assign(this,ye)}return Ie.mergeSmallestSides=function(Ce){var xe=Ce[0],je=Ce.slice(1);if(!xe)throw new Error("Please provide at least 1 bounds objects in order to merge");for(var He=Object.fromEntries(J.map(function(vt){return[vt,xe[vt]]})),Ge=P(je),Qe;!(Qe=Ge()).done;)for(var ct=Qe.value,dt=P(J),it;!(it=dt()).done;){var tt=it.value;He[tt]=Math.min(He[tt],ct[tt])}return new Ie(He)},u(Ie,[{key:"allSidesArePositive",get:function(){var Ce=this;return J.every(function(xe){return Ce[xe]>=0})}},{key:"negativeSides",get:function(){var Ce=this;return Object.fromEntries(J.filter(function(xe){return Ce[xe]<0}).map(function(xe){return[xe,Ce[xe]]}))}}]),Ie}();function ie(){for(var Ie=arguments.length,ye=new Array(Ie),Ce=0;Ce<Ie;Ce++)ye[Ce]=arguments[Ce];return ye.reduce(function(xe,je){return xe+(je?w(je):0)},0)}function se(Ie){var ye=Ie.top,Ce=Ie.left,xe=Ie.right,je=Ie.bottom,He=Ie.width,Ge=Ie.height;return{top:ye,left:Ce,right:xe,bottom:je,width:He,height:Ge}}var W={top:0,left:0,right:0,bottom:0,width:0,height:0},z=function(){Ie.create=function(xe){return new Ie(xe)},Ie.fromElement=function(xe,je){je===void 0&&(je={});var He=je,Ge=He.withTransform,Qe=Ge===void 0?!0:Ge,ct=He.environment,dt=ct===void 0?window:ct,it=He.withScrollbars,tt=it===void 0?!0:it,vt=se(xe.getBoundingClientRect()),et=new Ie(vt);if(!Qe){var Xe=dt.getComputedStyle(xe),Ne=Xe.width,ft=Xe.height,At=Xe.boxSizing,Ht=Xe.borderLeft,rn=Xe.borderRight,en=Xe.borderTop,pn=Xe.borderBottom,_n=Xe.paddingLeft,Tn=Xe.paddingRight,dn=Xe.paddingTop,fn=Xe.paddingBottom,xn=At==="border-box"?w(Ne):ie(Ne,Ht,rn,_n,Tn),Dn=At==="border-box"?w(ft):ie(ft,en,pn,dn,fn);et=new Ie(v({},et,{width:xn,height:Dn}))}if(!tt){var Wn=et.width-xe.clientWidth,Fn=et.height-xe.clientHeight;return et.substract({right:Wn,bottom:Fn})}return et},Ie.empty=function(){return new Ie},Ie.fromWindow=function(xe){var je,He=(je=xe==null?void 0:xe.document.scrollingElement)!=null?je:xe==null?void 0:xe.document.documentElement,Ge=He!=null?He:{},Qe=Ge.clientWidth,ct=Qe===void 0?0:Qe,dt=Ge.clientHeight,it=dt===void 0?0:dt;return new Ie({width:ct,height:it,right:ct,bottom:it})};function Ie(Ce){return Ce===void 0&&(Ce={}),this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,Object.assign(this,W,Ce)}var ye=Ie.prototype;return ye.toObject=function(){return se(this)},ye.merge=function(xe){var je=this.toObject();return new Ie(v({},je,typeof xe=="function"?xe(je):xe))},ye.substract=function(xe){for(var je=this.toObject(),He=Object.entries(xe),Ge=0,Qe=He;Ge<Qe.length;Ge++){var ct=Qe[Ge],dt=ct[0],it=ct[1];if(dt in ee){var tt=ee[dt];je[dt]+=tt.factor(it),je[tt.isHorizontal?"width":"height"]-=it}else je[dt]-=it||0}return new Ie(je)},ye.offsetsTo=function(xe){return new te({top:xe.top-this.top,bottom:this.bottom-xe.bottom,left:xe.left-this.left,right:this.right-xe.right})},ye.mapSides=function(xe){for(var je=this.toObject(),He=Object.values(ee),Ge=0,Qe=He;Ge<Qe.length;Ge++){var ct=Qe[Ge];je[ct.prop]=xe(ct,je[ct.prop])}return new Ie(je)},u(Ie,[{key:"surface",get:function(){return this.width*this.height}}]),Ie}(),Q=function(){function Ie(Ce,xe,je,He,Ge){this.primary=void 0,this.secondary=void 0,this.offsets=void 0,this.subjectsBounds=void 0,this._cachedLayerBounds=null,this._cachedContainerOffsets=null,this.primary=Ce,this.secondary=xe,this.offsets=Ge,this.setSubjectsBounds(je,He)}var ye=Ie.prototype;return ye.setSubjectsBounds=function(xe,je){if(!je){this.subjectsBounds=xe;return}var He=typeof je=="function"?je(this.primary.prop):je;this.subjectsBounds=xe.merge({layer:v({},xe.layer,He)})},ye.getLayerBounds=function(xe){if(xe===void 0&&(xe=0),this._cachedLayerBounds&&xe===0)return this._cachedLayerBounds;var je=this.primary,He=this.secondary,Ge=this.subjectsBounds,Qe=Ge.trigger,ct=Ge.layer,dt=Ge.arrow,it=je.isHorizontal,tt=je.oppositeCssProp,vt=je.oppositeSizeProp,et=je.prop,Xe=je.opposite,Ne=z.empty();Ne[Xe.prop]=Qe[et]-je.factor(this.offsets.trigger),Ne[et]=Ne[Xe.prop]-je.factor(ct[je.sizeProp]);var ft=this.offsets.arrow*2,At=Qe[tt]-(ct[vt]-dt[vt])+ft,Ht=Qe[tt]+(Qe[vt]-dt[vt])-ft;if(He.isPush||(At+=ct[vt],Ht+=ct[vt]),He.isCenter){var rn=(it?ee.top:ee.left).prop,en=(it?ee.bottom:ee.right).prop;Ne[rn]=x(Qe[rn]+Qe[vt]/2-ct[vt]/2+xe,At,Ht),Ne[en]=Ne[rn]+ct[vt]}else{var pn=He,_n=Qe[pn.prop],Tn=_n<At?At-_n:_n>Ht?Ht-_n:0;Ne[pn.prop]=x(_n+xe+Tn,At,Ht),Ne[pn.opposite.prop]=Ne[pn.prop]+He.factor(ct[vt])}Ne.width=Ne.right-Ne.left,Ne.height=Ne.bottom-Ne.top;var dn=z.create(Ne);return xe===0&&(this._cachedLayerBounds=dn),dn},ye.getLayerCollisionBounds=function(){var xe=this.offsets.container;return this.getLayerBounds().mapSides(function(je,He){return He-=je.factor(xe)}).merge(function(je){var He=je.width,Ge=je.height;return{width:He+xe*2,height:Ge+xe*2}})},ye.getContainerOffsets=function(xe){if(this._cachedContainerOffsets&&!xe)return this._cachedContainerOffsets;var je=this.subjectsBounds.merge({layer:xe||this.getLayerCollisionBounds()}),He=te.mergeSmallestSides(je.layerOffsetsToScrollContainers);return xe||(this._cachedContainerOffsets=He),He},u(Ie,[{key:"type",get:function(){return this.primary.prop+"-"+(this.secondary.prop==="center"?"center":["bottom","right"].includes(this.secondary.prop)?"end":"start")}},{key:"triggerIsBigger",get:function(){var xe=this.secondary.isHorizontal,je=this.subjectsBounds,He=je.triggerHasBiggerWidth,Ge=je.triggerHasBiggerHeight;return xe&&He||!xe&&Ge}},{key:"fitsContainer",get:function(){return this.getContainerOffsets().allSidesArePositive}},{key:"visibleSurface",get:function(){var xe=this.getLayerBounds(),je=this.getContainerOffsets(xe),He=je.negativeSides;for(var Ge in He)He[Ge]=-He[Ge];return xe.substract(He).surface}},{key:"secondaryOffsetSide",get:function(){var xe,je,He=this,Ge=this.getContainerOffsets(),Qe=(xe=(je=Object.entries(Ge.negativeSides).map(function(dt){var it=dt[0],tt=dt[1];return[ee[it],tt]}).filter(function(dt){var it=dt[0];return He.primary.isOppositeDirection(it)}).sort(function(dt,it){var tt=dt[1],vt=it[1];return vt-tt}))==null?void 0:je[0])!=null?xe:[],ct=Qe[0];return ct||null}}]),Ie}(),oe=function(Ie){O(ye,Ie);function ye(){return Ie.apply(this,arguments)||this}var Ce=ye.prototype;return Ce.getLayerBounds=function(){var je=this.subjectsBounds,He=je.trigger,Ge=je.layer,Qe=z.empty();return Qe.top=He.top+He.height/2-Ge.height/2,Qe.bottom=Qe.top+Ge.height,Qe.left=He.left+He.width/2-Ge.width/2,Qe.right=Qe.left+Ge.width,Qe.width=Qe.right-Qe.left,Qe.height=Qe.bottom-Qe.top,Qe},ye}(Q);function ne(Ie,ye,Ce){var xe=Ie.layer,je=Ie.trigger,He=Ie.arrow,Ge=ye.primary.oppositeSizeProp,Qe=ye.primary.isHorizontal?["top","bottom"]:["left","right"],ct=Qe[0],dt=Qe[1],it=xe[ct]+xe[Ge]/2-je[ct]-He[Ge]/2-Ce,tt=xe[dt]-xe[Ge]/2-je[dt]+He[Ge]/2+Ce;return(it<0?-it:0)+(tt>0?-tt:0)}var ae={position:"absolute",willChange:"top, left",left:null,right:null,top:null,bottom:null};function le(Ie,ye,Ce){var xe;if(ye.primary.isCenter)return ae;var je=Ie.layer,He=Ie.trigger,Ge=Ie.arrow,Qe=ye.primary.oppositeSizeProp,ct=He[Qe]>je[Qe],dt=Ce+Ge[Qe]/2,it=je[Qe]-Ge[Qe]/2-Ce,tt=ne(Ie,ye,Ce),vt=ye.primary.prop,et=ye.primary.oppositeCssProp,Xe=ct?je[Qe]/2+tt:He[et]+He[Qe]/2-je[et];return v({},ae,(xe={},xe[vt]="100%",xe[et]=x(Xe,dt,it),xe))}var ue=function(){function Ie(Ce,xe,je){this.placements=void 0,this.config=void 0,this.subjectsBounds=void 0,this.placements=Ce,this.config=xe,this.subjectsBounds=je}Ie.getSidesFromPlacementType=function(xe){var je=xe.split("-"),He=je[0],Ge=je[1],Qe=ee[He],ct;return Ge==="center"?ct=Y.center:Qe.isHorizontal?ct=Ge==="start"?Y.top:Y.bottom:ct=Ge==="start"?Y.left:Y.right,[Qe,ct]},Ie.create=function(xe,je){var He={arrow:je.arrowOffset,container:je.containerOffset,trigger:je.triggerOffset};function Ge(Qe){Qe===void 0&&(Qe=je.placement);var ct=Ie.getSidesFromPlacementType(Qe),dt=ct[0],it=ct[1],tt=ee[dt.isHorizontal?je.preferY:je.preferX],vt=!dt.isHorizontal&&xe.triggerHasBiggerWidth||dt.isHorizontal&&xe.triggerHasBiggerHeight;function et(Ne,ft){return new Q(Ne,ft,xe,je.layerDimensions,He)}var Xe=[];return Xe[0]=et(dt,it),Xe[1]=et(dt,it.isCenter?tt:Y.center),Xe[2]=et(dt,Y[(it.opposite.isCenter?tt.opposite:it.opposite).prop]),Xe[3]=et(tt,vt?dt:Y[dt.opposite.prop]),Xe[4]=et(tt,Y.center),Xe[5]=et(tt,vt?Y[dt.opposite.prop]:dt),Xe[6]=et(ee[tt.opposite.prop],vt?dt:Y[dt.opposite.prop]),Xe[7]=et(ee[tt.opposite.prop],Y.center),Xe[8]=et(ee[tt.opposite.prop],vt?Y[dt.opposite.prop]:dt),Xe[9]=et(ee[dt.opposite.prop],it),Xe[10]=et(ee[dt.opposite.prop],it.isCenter?tt:Y.center),Xe[11]=et(ee[dt.opposite.prop],Y[(it.opposite.isCenter?tt.opposite:it.opposite).prop]),Xe=Xe.filter(function(Ne){return Ne.type===je.placement||je.possiblePlacements.includes(Ne.type)}),Xe}return je.placement==="center"?new Ie([new oe(Y.center,Y.center,xe,je.layerDimensions,He)].concat(Ge(je.preferY+"-"+je.preferX)),je,xe):new Ie(Ge(),je,xe)};var ye=Ie.prototype;return ye.filterPlacementsBySide=function(xe){return this.placements.filter(function(je){return je.primary===xe})},ye.findFirstPlacementThatFits=function(){return this.placements.find(function(xe){return xe.fitsContainer})},ye.placementWithBiggestVisibleSurface=function(){var xe=this.placements.map(function(He){return{placement:He,surface:He.visibleSurface}}).sort(function(He,Ge){return Ge.surface-He.surface}),je=xe[0].placement;return je},ye.findSuitablePlacement=function(){return this.config.auto?this.findFirstPlacementThatFits()||this.placementWithBiggestVisibleSurface():this.placements[0]},ye.getSecondaryOffset=function(xe){var je=this.config,He=je.auto,Ge=je.snap;if(!He||Ge||xe instanceof oe)return 0;var Qe=this.filterPlacementsBySide(xe.primary),ct=Qe.indexOf(xe)===0;if(ct&&xe.fitsContainer)return 0;var dt=Qe.find(function(Ne){return!Ne.fitsContainer});if(!dt)return 0;var it=dt.secondaryOffsetSide;if(!it)return 0;var tt=xe.getContainerOffsets(),vt=xe.secondary,et;xe.triggerIsBigger||dt===xe?et=it.isPush?-1:1:et=vt===Y.left||[Y.top,Y.center].includes(vt)&&it.isPush?-1:1;var Xe=tt[it.prop];return Xe*et},ye.getStyles=function(xe,je,He,Ge){var Qe={willChange:"top, left, width, height"},ct=le(this.subjectsBounds.merge({layer:xe}),je,this.config.arrowOffset),dt=this.config.overflowContainer?v({},Qe,{position:"fixed",top:xe.top,left:xe.left}):v({},Qe,{position:"absolute",top:xe.top-this.subjectsBounds.parent.top+He.top-Ge.top,left:xe.left-this.subjectsBounds.parent.left+He.left-Ge.left});return{arrow:ct,layer:dt}},ye.getHasDisappeared=function(xe){var je=this.config.overflowContainer?this.subjectsBounds.trigger:xe,He=te.mergeSmallestSides(this.subjectsBounds.offsetsToScrollContainers(je,!0)),Ge=Object.entries(He.negativeSides),Qe=Ge.some(function(ct){var dt=ct[0],it=ct[1],tt=ee[dt];return it<=-je[tt.sizeProp]});return Qe?"full":He.allSidesArePositive?null:"partial"},ye.result=function(xe,je){var He=this.findSuitablePlacement(),Ge=this.getSecondaryOffset(He),Qe=He.getLayerBounds(Ge),ct=this.getStyles(Qe,He,xe,je),dt=He.primary.prop;return{styles:ct,layerSide:dt,placement:He,layerBounds:Qe,hasDisappeared:this.getHasDisappeared(Qe)}},Ie}(),fe=function(){function Ie(Ce,xe){this.overflowContainer=void 0,this.trigger=void 0,this.layer=void 0,this.arrow=void 0,this.parent=void 0,this.window=void 0,this.scrollContainers=void 0,this.overflowContainer=xe,Object.assign(this,Ce)}Ie.create=function(xe,je,He,Ge,Qe,ct,dt,it){var tt=z.fromWindow(xe);return new Ie({layer:z.fromElement(je,{environment:xe,withTransform:!1}),trigger:it?z.create(se(it())):z.fromElement(He),arrow:Qe?z.fromElement(Qe):z.empty(),parent:Ge?z.fromElement(Ge):tt,window:tt,scrollContainers:[tt].concat(ct.map(function(vt){return z.fromElement(vt,{withScrollbars:!1})}))},dt)};var ye=Ie.prototype;return ye.merge=function(xe){return new Ie(v({},this,xe),this.overflowContainer)},ye.offsetsToScrollContainers=function(xe,je){je===void 0&&(je=!1);var He=this.overflowContainer&&!je?[this.window]:this.scrollContainers;return He.map(function(Ge){return Ge.offsetsTo(xe)})},u(Ie,[{key:"layerOffsetsToScrollContainers",get:function(){return this.offsetsToScrollContainers(this.layer)}},{key:"triggerHasBiggerWidth",get:function(){return this.trigger.width>this.layer.width}},{key:"triggerHasBiggerHeight",get:function(){return this.trigger.height>this.layer.height}}]),Ie}(),he=null;function be(Ie){typeof document!="undefined"&&(typeof Ie=="function"?he=Ie():typeof Ie=="string"?he=document.getElementById(Ie):he=Ie)}var ve={auto:!1,arrowOffset:0,containerOffset:10,triggerOffset:0,overflowContainer:!0,placement:"top-center",possiblePlacements:$,preferX:"right",preferY:"bottom",snap:!1,container:void 0,trigger:void 0};function Te(Ie){var ye,Ce=Ie.isOpen,xe=Ce===void 0?!1:Ce,je=Ie.overflowContainer,He=je===void 0?ve.overflowContainer:je,Ge=Ie.environment,Qe=Ge===void 0?typeof window!="undefined"?window:void 0:Ge,ct=Ie.ResizeObserver,dt=Ie.placement,it=dt===void 0?ve.placement:dt,tt=Ie.possiblePlacements,vt=tt===void 0?ve.possiblePlacements:tt,et=Ie.preferX,Xe=et===void 0?ve.preferX:et,Ne=Ie.preferY,ft=Ne===void 0?ve.preferY:Ne,At=Ie.auto,Ht=At===void 0?ve.auto:At,rn=Ie.snap,en=rn===void 0?ve.snap:rn,pn=Ie.triggerOffset,_n=pn===void 0?ve.triggerOffset:pn,Tn=Ie.containerOffset,dn=Tn===void 0?ve.containerOffset:Tn,fn=Ie.arrowOffset,xn=fn===void 0?ve.arrowOffset:fn,Dn=Ie.container,Wn=Dn===void 0?ve.container:Dn,Fn=Ie.layerDimensions,Cn=Fn===void 0?null:Fn,bn=Ie.onDisappear,zn=Ie.onOutsideClick,tr=Ie.onParentClose,$n=Ie.trigger,lr=(0,n.useState)(function(){return{layerSide:it==="center"?"center":ue.getSidesFromPlacementType(it)[0].prop,styles:{layer:{position:He?"fixed":"absolute",top:0,left:0},arrow:{position:"absolute",top:0,left:0}}}}),Kn=lr[0],rt=lr[1],lt=(0,n.useRef)(null),bt=i(Kn,xe),Ut=(0,n.useRef)({cancelled:!1});(0,n.useEffect)(function(){return function(){Ut.current.cancelled=!0}},[]);var an=(0,n.useCallback)(function(Fr,$t,Gr){var gr=Fr.arrow,Vr=Fr.layer,_t=Fr.scrollContainers,Ot=Fr.trigger,Mt=_t[0],Kt=fe.create(Qe,Vr,Ot,Mt,gr,_t,He,$n==null?void 0:$n.getBounds),ke={placement:it,possiblePlacements:vt,auto:Ht,layerDimensions:Cn,arrowOffset:xn,containerOffset:dn,triggerOffset:_n,preferX:Xe,preferY:ft,snap:en,overflowContainer:He},ot=ue.create(Kt,ke).result($t,Gr),ut=ot.hasDisappeared,ht=ot.layerSide,Nt=ot.styles,Lt={layerSide:ht,styles:Nt};if(!bt.current||we(bt.current,Lt)){bt.current=Lt,Ut.current.cancelled=!0;var St={cancelled:!1};Ut.current=St,Promise.resolve().then(function(){St.cancelled||rt(Lt)})}D(ut)&&D(bn)&&bn(ut)},[xn,Ht,dn,Qe,Cn,bn,He,it,vt,Xe,ft,en,_n,bt,$n]),wn=R({ResizeObserverPolyfill:ct,environment:Qe,enabled:xe,overflowContainer:He,onChange:an,triggerOption:$n}),Hn=wn.triggerRef,Xn=wn.layerRef,ar=wn.arrowRef,Er=wn.closestScrollContainer,Ur=G({isOpen:xe,onOutsideClick:zn,onParentClose:tr}),kr=Ur.closeOnOutsideClickRefs,yo=Ur.registrations,ro={triggerProps:$n?{}:{ref:N(Hn,kr.trigger,lt)},layerProps:{ref:N(Xn,kr.layer),style:Kn.styles.layer},arrowProps:{ref:ar,style:Kn.styles.arrow,layerSide:Kn.layerSide},layerSide:Kn.layerSide,triggerBounds:xe?$n?$n.getBounds():(ye=lt.current)==null?void 0:ye.getBoundingClientRect():null,renderLayer:function(Fr){return typeof document!="undefined"?(0,n.createPortal)((0,n.createElement)(Z,{registrations:yo,children:Fr}),He||!Er?We(Wn):Er):null}};return ro}function we(Ie,ye){if(Ie.layerSide!==ye.layerSide)return!0;for(var Ce=["position","top","left","right","bottom"],xe=0,je=Ce;xe<je.length;xe++){var He=je[xe];if(Ie.styles.layer[He]!==ye.styles.layer[He]||Ie.styles.arrow[He]!==ye.styles.arrow[He])return!0}return!1}var Se="layers";function We(Ie){var ye;if(typeof Ie=="function"){if(ye=Ie(),!ye||!(ye instanceof HTMLElement))throw new Error("react-laag: You've passed a function to the 'container' prop, but it returned no valid HTMLElement")}else if(Ie instanceof HTMLElement)ye=Ie;else if(typeof Ie=="string"){if(ye=document.getElementById(Ie),!ye)throw new Error("react-laag: You've passed element with id '"+Ie+"' to the 'container' prop, but it returned no valid HTMLElement")}else{if(he instanceof HTMLElement)return he;ye=document.getElementById(Se),ye||(ye=document.createElement("div"),ye.id=Se,ye.style.cssText=`
        position: absolute;
        top: 0px;
        left: 0px;
        right: 0px;
      `,document.body.appendChild(ye))}return ye}var Ae=null,Be="left",de="top",ce="bottom",_e="right";function Oe(Ie,ye){return Math.tan(Ie*(Math.PI/180))*ye}function Le(Ie,ye,Ce,xe){var je,He=(je={},je[ce]="0 "+-xe+" "+ye+" "+Ie,je[de]="0 0 "+ye+" "+(Ie+xe),je[_e]=-xe+" 0 "+Ie+" "+ye,je[Be]="0 0 "+(Ie+xe)+" "+ye,je);return He[Ce.prop]}function ze(Ie,ye,Ce,xe,je){var He,Ge,Qe,ct=xe/10*Ie*2,dt=(He={},He[ce]=[0,Ie],He[de]=[0,0],He[_e]=[Ie,ye],He[Be]=[0,ye],He)[Ce.prop].join(" "),it=Ce.isHorizontal?"V 0":"H "+ye,tt=ye/2,vt=ye/2+Oe(je,Ie/8),et=Ie/8,Xe=(Ge={},Ge[ce]=["C",vt,et,tt+ct,0,tt,0],Ge[de]=["C",vt,Ie-et,tt+ct,Ie,tt,Ie],Ge[_e]=["C",et,ye-vt,0,tt-ct,0,tt],Ge[Be]=["C",Ie-et,ye-vt,Ie,tt-ct,Ie,tt],Ge)[Ce.prop].join(" "),Ne=ye/2-Oe(je,Ie/8),ft=Ie/8,At=(Qe={},Qe[ce]=["C",tt-ct,0,Ne,ft,dt],Qe[de]=["C",tt-ct,Ie,Ne,Ie-ft,dt],Qe[_e]=["C",0,tt+ct,ft,ye-Ne,dt],Qe[Be]=["C",Ie,tt+ct,Ie-ft,ye-Ne,dt],Qe)[Ce.prop].join(" ");return["M",dt,it,Xe,At].join(" ")}function Je(Ie,ye,Ce,xe,je){var He=Oe(je,Ce),Ge=xe.isPush?[0,Ce]:[Ie,Ie-Ce],Qe=Ge[0],ct=Ge[1];return xe.isHorizontal?["M",Qe,Ce,"V",ye-Ce,"L",ct,ye-Ce-He,"V",He+Ce,"Z"].join(" "):["M",Ce,Qe,"H",ye-Ce,"L",ye-Ce-He,ct,"H",He+Ce,"Z"].join(" ")}var Pt=null,Ve;(function(Ie){Ie[Ie.ENTERING=0]="ENTERING",Ie[Ie.LEAVING=1]="LEAVING",Ie[Ie.IDLE=2]="IDLE"})(Ve||(Ve={}));function pt(Ie){var ye=Ie===void 0?{}:Ie,Ce=ye.delayEnter,xe=Ce===void 0?0:Ce,je=ye.delayLeave,He=je===void 0?0:je,Ge=ye.hideOnScroll,Qe=Ge===void 0?!0:Ge,ct=(0,n.useState)(!1),dt=ct[0],it=ct[1],tt=(0,n.useRef)(null),vt=(0,n.useRef)(Ve.IDLE),et=(0,n.useRef)(!1),Xe=(0,n.useCallback)(function(){clearTimeout(tt.current),tt.current=null,vt.current=Ve.IDLE},[]);function Ne(){vt.current===Ve.LEAVING&&tt.current&&Xe(),!dt&&(vt.current=Ve.ENTERING,tt.current=window.setTimeout(function(){it(!0),tt.current=null,vt.current=Ve.IDLE},xe))}function ft(Ht,rn){if(vt.current===Ve.ENTERING&&tt.current&&Xe(),!!dt){if(rn){it(!1),tt.current=null,vt.current=Ve.IDLE;return}vt.current=Ve.LEAVING,tt.current=window.setTimeout(function(){it(!1),tt.current=null,vt.current=Ve.IDLE},He)}}(0,n.useEffect)(function(){function Ht(){dt&&Qe&&(Xe(),it(!1))}return window.addEventListener("scroll",Ht,!0),function(){window.removeEventListener("scroll",Ht,!0),tt.current&&clearTimeout(tt.current)}},[dt,Qe,Xe]);var At={onMouseEnter:Ne,onMouseLeave:ft,onTouchStart:function(){et.current=!1},onTouchMove:function(){et.current=!0},onTouchEnd:function(){!et.current&&!dt&&it(!0),et.current=!1}};return[dt,At,function(){return ft(null,!0)}]}function $e(Ie){var ye=Ie.isOpen,Ce=Ie.children,xe=useState({isOpenInternal:ye,isLeaving:!1}),je=xe[0],He=xe[1],Ge=useRef(!1);return useEffect(function(){ye?He({isOpenInternal:!0,isLeaving:!1}):Ge.current&&He({isOpenInternal:!1,isLeaving:!0})},[ye,He]),useEffect(function(){},[Ce]),useEffect(function(){Ge.current=!0},[]),!ye&&!je.isOpenInternal&&!je.isLeaving?null:Ce(je.isOpenInternal,function(){je.isOpenInternal||He(function(Qe){return v({},Qe,{isLeaving:!1})})},je.isLeaving)}},1852:function(j,l,e){(function(n,c){j.exports=c(e(98661))})(typeof self!="undefined"?self:this,function(n){return function(c){function u(O){if(v[O])return v[O].exports;var y=v[O]={i:O,l:!1,exports:{}};return c[O].call(y.exports,y,y.exports,u),y.l=!0,y.exports}var v={};return u.m=c,u.c=v,u.d=function(O,y,E){u.o(O,y)||Object.defineProperty(O,y,{configurable:!1,enumerable:!0,get:E})},u.n=function(O){var y=O&&O.__esModule?function(){return O.default}:function(){return O};return u.d(y,"a",y),y},u.o=function(O,y){return Object.prototype.hasOwnProperty.call(O,y)},u.p="",u(u.s=7)}([function(c,u,v){"use strict";function O(V,G){return P(V)||g(V,G)||E(V,G)||y()}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(V,G){if(V){if(typeof V=="string")return d(V,G);var $=Object.prototype.toString.call(V).slice(8,-1);return $==="Object"&&V.constructor&&($=V.constructor.name),$==="Map"||$==="Set"?Array.from(V):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?d(V,G):void 0}}function d(V,G){(G==null||G>V.length)&&(G=V.length);for(var $=0,K=new Array(G);$<G;$++)K[$]=V[$];return K}function g(V,G){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(V)){var $=[],K=!0,H=!1,re=void 0;try{for(var ee,Y=V[Symbol.iterator]();!(K=(ee=Y.next()).done)&&($.push(ee.value),!G||$.length!==G);K=!0);}catch(J){H=!0,re=J}finally{try{K||Y.return==null||Y.return()}finally{if(H)throw re}}return $}}function P(V){if(Array.isArray(V))return V}var S=v(1),T=v.n(S),C=v(8),p=v.n(C),i=v(2),s=v(10),_=v.n(s),w=v(3),x=v(6),D=function(V){return V.query||Object(w.a)(V)},N=function(V){if(!V)return null;var G=Object.keys(V);return G.length===0?null:G.reduce(function($,K){return $[Object(i.a)(K)]=V[K],$},{})},I=function(){var V=T.a.useRef(!1);return T.a.useEffect(function(){V.current=!0},[]),V.current},A=function(V){var G=T.a.useContext(x.a),$=function(){return N(V)||N(G)},K=T.a.useState($),H=O(K,2),re=H[0],ee=H[1];return T.a.useEffect(function(){var Y=$();_()(re,Y)||ee(Y)},[V,G]),re},M=function(V){var G=function(){return D(V)},$=T.a.useState(G),K=O($,2),H=K[0],re=K[1];return T.a.useEffect(function(){var ee=G();H!==ee&&re(ee)},[V]),H},R=function(V,G){var $=function(){return p()(V,G||{},!!G)},K=T.a.useState($),H=O(K,2),re=H[0],ee=H[1],Y=I();return T.a.useEffect(function(){return Y&&ee($()),function(){re.dispose()}},[V,G]),re},F=function(V){var G=T.a.useState(V.matches),$=O(G,2),K=$[0],H=$[1];return T.a.useEffect(function(){var re=function(){H(V.matches)};return V.addListener(re),re(),function(){V.removeListener(re)}},[V]),K},Z=function(V,G,$){var K=A(G),H=M(V);if(!H)throw new Error("Invalid or missing MediaQuery!");var re=R(H,K),ee=F(re),Y=I();return T.a.useEffect(function(){Y&&$&&$(ee)},[ee]),ee};u.a=Z},function(c,u){c.exports=n},function(c,u,v){"use strict";function O(P){return"-"+P.toLowerCase()}function y(P){if(g.hasOwnProperty(P))return g[P];var S=P.replace(E,O);return g[P]=d.test(S)?"-"+S:S}var E=/[A-Z]/g,d=/^ms-/,g={};u.a=y},function(c,u,v){"use strict";var O=v(2),y=v(11),E=function(S){return"not ".concat(S)},d=function(S,T){var C=Object(O.a)(S);return typeof T=="number"&&(T="".concat(T,"px")),T===!0?C:T===!1?E(C):"(".concat(C,": ").concat(T,")")},g=function(S){return S.join(" and ")},P=function(S){var T=[];return Object.keys(y.a.all).forEach(function(C){var p=S[C];p!=null&&T.push(d(C,p))}),g(T)};u.a=P},function(c,u,v){"use strict";c.exports=v(13)},function(c,u,v){"use strict";c.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(c,u,v){"use strict";var O=v(1),y=v.n(O),E=y.a.createContext();u.a=E},function(c,u,v){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var O=v(0),y=v(17),E=v(3),d=v(6);v.d(u,"default",function(){return y.a}),v.d(u,"useMediaQuery",function(){return O.a}),v.d(u,"toQuery",function(){return E.a}),v.d(u,"Context",function(){return d.a})},function(c,u,v){"use strict";function O(g,P,S){function T(w){_&&_.addListener(w)}function C(w){_&&_.removeListener(w)}function p(w){s.matches=w.matches,s.media=w.media}function i(){_&&_.removeListener(p)}var s=this;if(d&&!S){var _=d.call(window,g);this.matches=_.matches,this.media=_.media,_.addListener(p)}else this.matches=E(g,P),this.media=g;this.addListener=T,this.removeListener=C,this.dispose=i}function y(g,P,S){return new O(g,P,S)}var E=v(9).match,d=typeof window!="undefined"?window.matchMedia:null;c.exports=y},function(c,u,v){"use strict";function O(i,s){return y(i).some(function(_){var w=_.inverse,x=_.type==="all"||s.type===_.type;if(x&&w||!x&&!w)return!1;var D=_.expressions.every(function(N){var I=N.feature,A=N.modifier,M=N.value,R=s[I];if(!R)return!1;switch(I){case"orientation":case"scan":return R.toLowerCase()===M.toLowerCase();case"width":case"height":case"device-width":case"device-height":M=g(M),R=g(R);break;case"resolution":M=d(M),R=d(R);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":M=E(M),R=E(R);break;case"grid":case"color":case"color-index":case"monochrome":M=parseInt(M,10)||1,R=parseInt(R,10)||0}switch(A){case"min":return R>=M;case"max":return R<=M;default:return R===M}});return D&&!w||!D&&w})}function y(i){return i.split(",").map(function(s){s=s.trim();var _=s.match(P),w=_[1],x=_[2],D=_[3]||"",N={};return N.inverse=!!w&&w.toLowerCase()==="not",N.type=x?x.toLowerCase():"all",D=D.match(/\([^\)]+\)/g)||[],N.expressions=D.map(function(I){var A=I.match(S),M=A[1].toLowerCase().match(T);return{modifier:M[1],feature:M[2],value:A[2]}}),N})}function E(i){var s,_=Number(i);return _||(s=i.match(/^(\d+)\s*\/\s*(\d+)$/),_=s[1]/s[2]),_}function d(i){var s=parseFloat(i);switch(String(i).match(p)[1]){case"dpcm":return s/2.54;case"dppx":return 96*s;default:return s}}function g(i){var s=parseFloat(i);switch(String(i).match(C)[1]){case"em":case"rem":return 16*s;case"cm":return 96*s/2.54;case"mm":return 96*s/2.54/10;case"in":return 96*s;case"pt":return 72*s;case"pc":return 72*s/12;default:return s}}u.match=O,u.parse=y;var P=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,S=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,T=/^(?:(min|max)-)?(.+)/,C=/(em|rem|px|cm|mm|in|pt|pc)?$/,p=/(dpi|dpcm|dppx)?$/},function(c,u,v){"use strict";function O(y,E){if(y===E)return!0;if(!y||!E)return!1;var d=Object.keys(y),g=Object.keys(E),P=d.length;if(g.length!==P)return!1;for(var S=0;S<P;S++){var T=d[S];if(y[T]!==E[T]||!Object.prototype.hasOwnProperty.call(E,T))return!1}return!0}c.exports=O},function(c,u,v){"use strict";function O(i,s){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(i);s&&(w=w.filter(function(x){return Object.getOwnPropertyDescriptor(i,x).enumerable})),_.push.apply(_,w)}return _}function y(i){for(var s=1;s<arguments.length;s++){var _=arguments[s]!=null?arguments[s]:{};s%2?O(Object(_),!0).forEach(function(w){E(i,w,_[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):O(Object(_)).forEach(function(w){Object.defineProperty(i,w,Object.getOwnPropertyDescriptor(_,w))})}return i}function E(i,s,_){return s in i?Object.defineProperty(i,s,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[s]=_,i}var d=v(12),g=v.n(d),P=g.a.oneOfType([g.a.string,g.a.number]),S={orientation:g.a.oneOf(["portrait","landscape"]),scan:g.a.oneOf(["progressive","interlace"]),aspectRatio:g.a.string,deviceAspectRatio:g.a.string,height:P,deviceHeight:P,width:P,deviceWidth:P,color:g.a.bool,colorIndex:g.a.bool,monochrome:g.a.bool,resolution:P},T=y({minAspectRatio:g.a.string,maxAspectRatio:g.a.string,minDeviceAspectRatio:g.a.string,maxDeviceAspectRatio:g.a.string,minHeight:P,maxHeight:P,minDeviceHeight:P,maxDeviceHeight:P,minWidth:P,maxWidth:P,minDeviceWidth:P,maxDeviceWidth:P,minColor:g.a.number,maxColor:g.a.number,minColorIndex:g.a.number,maxColorIndex:g.a.number,minMonochrome:g.a.number,maxMonochrome:g.a.number,minResolution:P,maxResolution:P},S),C={all:g.a.bool,grid:g.a.bool,aural:g.a.bool,braille:g.a.bool,handheld:g.a.bool,print:g.a.bool,projection:g.a.bool,screen:g.a.bool,tty:g.a.bool,tv:g.a.bool,embossed:g.a.bool},p=y(y({},C),T);S.type=Object.keys(C),u.a={all:p,types:C,matchers:S,features:T}},function(c,u,v){var O=v(4);c.exports=v(14)(O.isElement,!0)},function(c,u,v){"use strict";(function(){function O(we){return typeof we=="string"||typeof we=="function"||we===A||we===G||we===R||we===M||we===K||we===H||typeof we=="object"&&we!==null&&(we.$$typeof===ee||we.$$typeof===re||we.$$typeof===F||we.$$typeof===Z||we.$$typeof===$||we.$$typeof===J||we.$$typeof===te||we.$$typeof===ie||we.$$typeof===Y)}function y(we){if(typeof we=="object"&&we!==null){var Se=we.$$typeof;switch(Se){case N:var We=we.type;switch(We){case V:case G:case A:case R:case M:case K:return We;default:var Ae=We&&We.$$typeof;switch(Ae){case Z:case $:case ee:case re:case F:return Ae;default:return Se}}case I:return Se}}}function E(we){return Te||(Te=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),d(we)||y(we)===V}function d(we){return y(we)===G}function g(we){return y(we)===Z}function P(we){return y(we)===F}function S(we){return typeof we=="object"&&we!==null&&we.$$typeof===N}function T(we){return y(we)===$}function C(we){return y(we)===A}function p(we){return y(we)===ee}function i(we){return y(we)===re}function s(we){return y(we)===I}function _(we){return y(we)===R}function w(we){return y(we)===M}function x(we){return y(we)===K}var D=typeof Symbol=="function"&&Symbol.for,N=D?Symbol.for("react.element"):60103,I=D?Symbol.for("react.portal"):60106,A=D?Symbol.for("react.fragment"):60107,M=D?Symbol.for("react.strict_mode"):60108,R=D?Symbol.for("react.profiler"):60114,F=D?Symbol.for("react.provider"):60109,Z=D?Symbol.for("react.context"):60110,V=D?Symbol.for("react.async_mode"):60111,G=D?Symbol.for("react.concurrent_mode"):60111,$=D?Symbol.for("react.forward_ref"):60112,K=D?Symbol.for("react.suspense"):60113,H=D?Symbol.for("react.suspense_list"):60120,re=D?Symbol.for("react.memo"):60115,ee=D?Symbol.for("react.lazy"):60116,Y=D?Symbol.for("react.block"):60121,J=D?Symbol.for("react.fundamental"):60117,te=D?Symbol.for("react.responder"):60118,ie=D?Symbol.for("react.scope"):60119,se=V,W=G,z=Z,Q=F,oe=N,ne=$,ae=A,le=ee,ue=re,fe=I,he=R,be=M,ve=K,Te=!1;u.AsyncMode=se,u.ConcurrentMode=W,u.ContextConsumer=z,u.ContextProvider=Q,u.Element=oe,u.ForwardRef=ne,u.Fragment=ae,u.Lazy=le,u.Memo=ue,u.Portal=fe,u.Profiler=he,u.StrictMode=be,u.Suspense=ve,u.isAsyncMode=E,u.isConcurrentMode=d,u.isContextConsumer=g,u.isContextProvider=P,u.isElement=S,u.isForwardRef=T,u.isFragment=C,u.isLazy=p,u.isMemo=i,u.isPortal=s,u.isProfiler=_,u.isStrictMode=w,u.isSuspense=x,u.isValidElementType=O,u.typeOf=y})()},function(c,u,v){"use strict";function O(){return null}var y=v(4),E=v(15),d=v(5),g=v(16),P=Function.call.bind(Object.prototype.hasOwnProperty),S=function(){};S=function(T){var C="Warning: "+T;typeof console!="undefined"&&console.error(C);try{throw new Error(C)}catch(p){}},c.exports=function(T,C){function p(J){var te=J&&(H&&J[H]||J[re]);if(typeof te=="function")return te}function i(J,te){return J===te?J!==0||1/J==1/te:J!==J&&te!==te}function s(J){this.message=J,this.stack=""}function _(J){function te(z,Q,oe,ne,ae,le,ue){if(ne=ne||ee,le=le||oe,ue!==d){if(C){var fe=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw fe.name="Invariant Violation",fe}if(typeof console!="undefined"){var he=ne+":"+oe;!ie[he]&&se<3&&(S("You are manually calling a React.PropTypes validation function for the `"+le+"` prop on `"+ne+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),ie[he]=!0,se++)}}return Q[oe]==null?z?new s(Q[oe]===null?"The "+ae+" `"+le+"` is marked as required in `"+ne+"`, but its value is `null`.":"The "+ae+" `"+le+"` is marked as required in `"+ne+"`, but its value is `undefined`."):null:J(Q,oe,ne,ae,le)}var ie={},se=0,W=te.bind(null,!1);return W.isRequired=te.bind(null,!0),W}function w(J){function te(ie,se,W,z,Q,oe){var ne=ie[se];return V(ne)!==J?new s("Invalid "+z+" `"+Q+"` of type `"+G(ne)+"` supplied to `"+W+"`, expected `"+J+"`."):null}return _(te)}function x(J){function te(ie,se,W,z,Q){if(typeof J!="function")return new s("Property `"+Q+"` of component `"+W+"` has invalid PropType notation inside arrayOf.");var oe=ie[se];if(!Array.isArray(oe))return new s("Invalid "+z+" `"+Q+"` of type `"+V(oe)+"` supplied to `"+W+"`, expected an array.");for(var ne=0;ne<oe.length;ne++){var ae=J(oe,ne,W,z,Q+"["+ne+"]",d);if(ae instanceof Error)return ae}return null}return _(te)}function D(J){function te(ie,se,W,z,Q){if(!(ie[se]instanceof J)){var oe=J.name||ee;return new s("Invalid "+z+" `"+Q+"` of type `"+K(ie[se])+"` supplied to `"+W+"`, expected instance of `"+oe+"`.")}return null}return _(te)}function N(J){function te(ie,se,W,z,Q){for(var oe=ie[se],ne=0;ne<J.length;ne++)if(i(oe,J[ne]))return null;var ae=JSON.stringify(J,function(le,ue){return G(ue)==="symbol"?String(ue):ue});return new s("Invalid "+z+" `"+Q+"` of value `"+String(oe)+"` supplied to `"+W+"`, expected one of "+ae+".")}return Array.isArray(J)?_(te):(S(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),O)}function I(J){function te(ie,se,W,z,Q){if(typeof J!="function")return new s("Property `"+Q+"` of component `"+W+"` has invalid PropType notation inside objectOf.");var oe=ie[se],ne=V(oe);if(ne!=="object")return new s("Invalid "+z+" `"+Q+"` of type `"+ne+"` supplied to `"+W+"`, expected an object.");for(var ae in oe)if(P(oe,ae)){var le=J(oe,ae,W,z,Q+"."+ae,d);if(le instanceof Error)return le}return null}return _(te)}function A(J){function te(W,z,Q,oe,ne){for(var ae=0;ae<J.length;ae++)if((0,J[ae])(W,z,Q,oe,ne,d)==null)return null;return new s("Invalid "+oe+" `"+ne+"` supplied to `"+Q+"`.")}if(!Array.isArray(J))return S("Invalid argument supplied to oneOfType, expected an instance of array."),O;for(var ie=0;ie<J.length;ie++){var se=J[ie];if(typeof se!="function")return S("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+$(se)+" at index "+ie+"."),O}return _(te)}function M(J){function te(ie,se,W,z,Q){var oe=ie[se],ne=V(oe);if(ne!=="object")return new s("Invalid "+z+" `"+Q+"` of type `"+ne+"` supplied to `"+W+"`, expected `object`.");for(var ae in J){var le=J[ae];if(le){var ue=le(oe,ae,W,z,Q+"."+ae,d);if(ue)return ue}}return null}return _(te)}function R(J){function te(ie,se,W,z,Q){var oe=ie[se],ne=V(oe);if(ne!=="object")return new s("Invalid "+z+" `"+Q+"` of type `"+ne+"` supplied to `"+W+"`, expected `object`.");var ae=E({},ie[se],J);for(var le in ae){var ue=J[le];if(!ue)return new s("Invalid "+z+" `"+Q+"` key `"+le+"` supplied to `"+W+"`.\nBad object: "+JSON.stringify(ie[se],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(J),null,"  "));var fe=ue(oe,le,W,z,Q+"."+le,d);if(fe)return fe}return null}return _(te)}function F(J){switch(typeof J){case"number":case"string":case"undefined":return!0;case"boolean":return!J;case"object":if(Array.isArray(J))return J.every(F);if(J===null||T(J))return!0;var te=p(J);if(!te)return!1;var ie,se=te.call(J);if(te!==J.entries){for(;!(ie=se.next()).done;)if(!F(ie.value))return!1}else for(;!(ie=se.next()).done;){var W=ie.value;if(W&&!F(W[1]))return!1}return!0;default:return!1}}function Z(J,te){return J==="symbol"||!!te&&(te["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&te instanceof Symbol)}function V(J){var te=typeof J;return Array.isArray(J)?"array":J instanceof RegExp?"object":Z(te,J)?"symbol":te}function G(J){if(J==null)return""+J;var te=V(J);if(te==="object"){if(J instanceof Date)return"date";if(J instanceof RegExp)return"regexp"}return te}function $(J){var te=G(J);switch(te){case"array":case"object":return"an "+te;case"boolean":case"date":case"regexp":return"a "+te;default:return te}}function K(J){return J.constructor&&J.constructor.name?J.constructor.name:ee}var H=typeof Symbol=="function"&&Symbol.iterator,re="@@iterator",ee="<<anonymous>>",Y={array:w("array"),bool:w("boolean"),func:w("function"),number:w("number"),object:w("object"),string:w("string"),symbol:w("symbol"),any:function(){return _(O)}(),arrayOf:x,element:function(){function J(te,ie,se,W,z){var Q=te[ie];return T(Q)?null:new s("Invalid "+W+" `"+z+"` of type `"+V(Q)+"` supplied to `"+se+"`, expected a single ReactElement.")}return _(J)}(),elementType:function(){function J(te,ie,se,W,z){var Q=te[ie];return y.isValidElementType(Q)?null:new s("Invalid "+W+" `"+z+"` of type `"+V(Q)+"` supplied to `"+se+"`, expected a single ReactElement type.")}return _(J)}(),instanceOf:D,node:function(){function J(te,ie,se,W,z){return F(te[ie])?null:new s("Invalid "+W+" `"+z+"` supplied to `"+se+"`, expected a ReactNode.")}return _(J)}(),objectOf:I,oneOf:N,oneOfType:A,shape:M,exact:R};return s.prototype=Error.prototype,Y.checkPropTypes=g,Y.resetWarningCache=g.resetWarningCache,Y.PropTypes=Y,Y}},function(c,u,v){"use strict";function O(g){if(g==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(g)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;c.exports=function(){try{if(!Object.assign)return!1;var g=new String("abc");if(g[5]="de",Object.getOwnPropertyNames(g)[0]==="5")return!1;for(var P={},S=0;S<10;S++)P["_"+String.fromCharCode(S)]=S;if(Object.getOwnPropertyNames(P).map(function(C){return P[C]}).join("")!=="0123456789")return!1;var T={};return"abcdefghijklmnopqrst".split("").forEach(function(C){T[C]=C}),Object.keys(Object.assign({},T)).join("")==="abcdefghijklmnopqrst"}catch(C){return!1}}()?Object.assign:function(g,P){for(var S,T,C=O(g),p=1;p<arguments.length;p++){S=Object(arguments[p]);for(var i in S)E.call(S,i)&&(C[i]=S[i]);if(y){T=y(S);for(var s=0;s<T.length;s++)d.call(S,T[s])&&(C[T[s]]=S[T[s]])}}return C}},function(c,u,v){"use strict";function O(P,S,T,C,p){for(var i in P)if(g(P,i)){var s;try{if(typeof P[i]!="function"){var _=Error((C||"React class")+": "+T+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof P[i]+"`.");throw _.name="Invariant Violation",_}s=P[i](S,i,C,T,null,E)}catch(x){s=x}if(!s||s instanceof Error||y((C||"React class")+": type specification of "+T+" `"+i+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof s+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),s instanceof Error&&!(s.message in d)){d[s.message]=!0;var w=p?p():"";y("Failed "+T+" type: "+s.message+(w!=null?w:""))}}}var y=function(){},E=v(5),d={},g=Function.call.bind(Object.prototype.hasOwnProperty);y=function(P){var S="Warning: "+P;typeof console!="undefined"&&console.error(S);try{throw new Error(S)}catch(T){}},O.resetWarningCache=function(){d={}},c.exports=O},function(c,u,v){"use strict";function O(g,P){if(g==null)return{};var S,T,C=y(g,P);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(g);for(T=0;T<p.length;T++)S=p[T],P.indexOf(S)>=0||Object.prototype.propertyIsEnumerable.call(g,S)&&(C[S]=g[S])}return C}function y(g,P){if(g==null)return{};var S,T,C={},p=Object.keys(g);for(T=0;T<p.length;T++)S=p[T],P.indexOf(S)>=0||(C[S]=g[S]);return C}function E(g){var P=g.children,S=g.device,T=g.onChange,C=O(g,["children","device","onChange"]),p=Object(d.a)(C,S,T);return typeof P=="function"?P(p):p?P:null}u.a=E;var d=v(0)}])})},91036:(j,l,e)=>{const n=e(35106),c=e(22997),{klona:u}=e(23059),{isPlainObject:v}=e(10977),O=e(9996),y=e(79430),{parse:E}=e(50020),d=e(8575),g=["img","audio","video","picture","svg","object","map","iframe","embed"],P=["script","style"];function S(x,D){x&&Object.keys(x).forEach(function(N){D(x[N],N)})}function T(x,D){return{}.hasOwnProperty.call(x,D)}function C(x,D){const N=[];return S(x,function(I){D(I)&&N.push(I)}),N}function p(x){for(const D in x)if(T(x,D))return!1;return!0}function i(x){return x.map(function(D){if(!D.url)throw new Error("URL missing");return D.url+(D.w?` ${D.w}w`:"")+(D.h?` ${D.h}h`:"")+(D.d?` ${D.d}x`:"")}).join(", ")}j.exports=_;const s=/^[^\0\t\n\f\r /<=>]+$/;function _(x,D,N){let I="",A="";function M(le,ue){const fe=this;this.tag=le,this.attribs=ue||{},this.tagPosition=I.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(H.length){const he=H[H.length-1];he.text+=fe.text}},this.updateParentNodeMediaChildren=function(){H.length&&g.includes(this.tag)&&H[H.length-1].mediaChildren.push(this.tag)}}D?(D=Object.assign({},_.defaults,D),D.parser?D.parser=Object.assign({},w,D.parser):D.parser=w):(D=_.defaults,D.parser=w),P.forEach(function(le){D.allowedTags&&D.allowedTags.indexOf(le)>-1&&!D.allowVulnerableTags&&console.warn(`

\u26A0\uFE0F Your \`allowedTags\` option includes, \`${le}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});const R=D.nonTextTags||["script","style","textarea","option"];let F,Z;D.allowedAttributes&&(F={},Z={},S(D.allowedAttributes,function(le,ue){F[ue]=[];const fe=[];le.forEach(function(he){typeof he=="string"&&he.indexOf("*")>=0?fe.push(c(he).replace(/\\\*/g,".*")):F[ue].push(he)}),Z[ue]=new RegExp("^("+fe.join("|")+")$")}));const V={};S(D.allowedClasses,function(le,ue){F&&(T(F,ue)||(F[ue]=[]),F[ue].push("class")),V[ue]=le});const G={};let $;S(D.transformTags,function(le,ue){let fe;typeof le=="function"?fe=le:typeof le=="string"&&(fe=_.simpleTransform(le)),ue==="*"?$=fe:G[ue]=fe});let K,H,re,ee,Y,J,te=!1;se();const ie=new n.Parser({onopentag:function(le,ue){if(D.enforceHtmlBoundary&&le==="html"&&se(),Y){J++;return}const fe=new M(le,ue);H.push(fe);let he=!1;const be=!!fe.text;let ve;if(T(G,le)&&(ve=G[le](le,ue),fe.attribs=ue=ve.attribs,ve.text!==void 0&&(fe.innerText=ve.text),le!==ve.tagName&&(fe.name=le=ve.tagName,ee[K]=ve.tagName)),$&&(ve=$(le,ue),fe.attribs=ue=ve.attribs,le!==ve.tagName&&(fe.name=le=ve.tagName,ee[K]=ve.tagName)),(D.allowedTags&&D.allowedTags.indexOf(le)===-1||D.disallowedTagsMode==="recursiveEscape"&&!p(re)||D.nestingLimit!=null&&K>=D.nestingLimit)&&(he=!0,re[K]=!0,D.disallowedTagsMode==="discard"&&R.indexOf(le)!==-1&&(Y=!0,J=1),re[K]=!0),K++,he){if(D.disallowedTagsMode==="discard")return;A=I,I=""}I+="<"+le,(!F||T(F,le)||F["*"])&&S(ue,function(Te,we){if(!s.test(we)){delete fe.attribs[we];return}let Se,We=!1;if(!F||T(F,le)&&F[le].indexOf(we)!==-1||F["*"]&&F["*"].indexOf(we)!==-1||T(Z,le)&&Z[le].test(we)||Z["*"]&&Z["*"].test(we))We=!0;else if(F&&F[le]){for(const Ae of F[le])if(v(Ae)&&Ae.name&&Ae.name===we){We=!0;let Be="";if(Ae.multiple===!0){const de=Te.split(" ");for(const ce of de)Ae.values.indexOf(ce)!==-1&&(Be===""?Be=ce:Be+=" "+ce)}else Ae.values.indexOf(Te)>=0&&(Be=Te);Te=Be}}if(We){if(D.allowedSchemesAppliedToAttributes.indexOf(we)!==-1&&z(le,Te)){delete fe.attribs[we];return}if(le==="iframe"&&we==="src"){let Ae=!0;try{if(Se=d.parse(Te,!1,!0),Se&&Se.host===null&&Se.protocol===null)Ae=T(D,"allowIframeRelativeUrls")?D.allowIframeRelativeUrls:!D.allowedIframeHostnames&&!D.allowedIframeDomains;else if(D.allowedIframeHostnames||D.allowedIframeDomains){const de=(D.allowedIframeHostnames||[]).find(function(_e){return _e===Se.hostname}),ce=(D.allowedIframeDomains||[]).find(function(_e){return Se.hostname===_e||Se.hostname.endsWith(`.${_e}`)});Ae=de||ce}}catch(Be){Ae=!1}if(!Ae){delete fe.attribs[we];return}}if(we==="srcset")try{if(Se=y(Te),Se.forEach(function(Ae){z("srcset",Ae.url)&&(Ae.evil=!0)}),Se=C(Se,function(Ae){return!Ae.evil}),Se.length)Te=i(C(Se,function(Ae){return!Ae.evil})),fe.attribs[we]=Te;else{delete fe.attribs[we];return}}catch(Ae){delete fe.attribs[we];return}if(we==="class"){const Ae=V[le],Be=V["*"];if(Ae&&Be?Te=ae(Te,O(Ae,Be)):Te=ae(Te,Ae||Be),!Te.length){delete fe.attribs[we];return}}if(we==="style")try{const Ae=E(le+" {"+Te+"}"),Be=Q(Ae,D.allowedStyles);if(Te=oe(Be),Te.length===0){delete fe.attribs[we];return}}catch(Ae){delete fe.attribs[we];return}I+=" "+we,Te&&Te.length&&(I+='="'+W(Te,!0)+'"')}else delete fe.attribs[we]}),D.selfClosing.indexOf(le)!==-1?I+=" />":(I+=">",fe.innerText&&!be&&!D.textFilter&&(I+=W(fe.innerText),te=!0)),he&&(I=A+W(I),A="")},ontext:function(le){if(Y)return;const ue=H[H.length-1];let fe;if(ue&&(fe=ue.tag,le=ue.innerText!==void 0?ue.innerText:le),D.disallowedTagsMode==="discard"&&(fe==="script"||fe==="style"))I+=le;else{const he=W(le,!1);D.textFilter&&!te?I+=D.textFilter(he,fe):te||(I+=he)}if(H.length){const he=H[H.length-1];he.text+=le}},onclosetag:function(le){if(Y)if(J--,!J)Y=!1;else return;const ue=H.pop();if(!ue)return;Y=D.enforceHtmlBoundary?le==="html":!1,K--;const fe=re[K];if(fe){if(delete re[K],D.disallowedTagsMode==="discard"){ue.updateParentNodeText();return}A=I,I=""}if(ee[K]&&(le=ee[K],delete ee[K]),D.exclusiveFilter&&D.exclusiveFilter(ue)){I=I.substr(0,ue.tagPosition);return}if(ue.updateParentNodeMediaChildren(),ue.updateParentNodeText(),D.selfClosing.indexOf(le)!==-1){fe&&(I=A,A="");return}I+="</"+le+">",fe&&(I=A+W(I),A="")}},D.parser);return ie.write(x),ie.end(),I;function se(){I="",K=0,H=[],re={},ee={},Y=!1,J=0}function W(le,ue){return typeof le!="string"&&(le=le+""),D.parser.decodeEntities&&(le=le.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),ue&&(le=le.replace(/"/g,"&quot;"))),le=le.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),ue&&(le=le.replace(/"/g,"&quot;")),le}function z(le,ue){ue=ue.replace(/[\x00-\x20]+/g,""),ue=ue.replace(/<!--.*?-->/g,"");const fe=ue.match(/^([a-zA-Z]+):/);if(!fe)return ue.match(/^[/\\]{2}/)?!D.allowProtocolRelative:!1;const he=fe[1].toLowerCase();return T(D.allowedSchemesByTag,le)?D.allowedSchemesByTag[le].indexOf(he)===-1:!D.allowedSchemes||D.allowedSchemes.indexOf(he)===-1}function Q(le,ue){if(!ue)return le;const fe=u(le),he=le.nodes[0];let be;return ue[he.selector]&&ue["*"]?be=O(ue[he.selector],ue["*"]):be=ue[he.selector]||ue["*"],be&&(fe.nodes[0].nodes=he.nodes.reduce(ne(be),[])),fe}function oe(le){return le.nodes[0].nodes.reduce(function(ue,fe){return ue.push(fe.prop+":"+fe.value),ue},[]).join(";")}function ne(le){return function(ue,fe){return T(le,fe.prop)&&le[fe.prop].some(function(be){return be.test(fe.value)})&&ue.push(fe),ue}}function ae(le,ue){return ue?(le=le.split(/\s+/),le.filter(function(fe){return ue.indexOf(fe)!==-1}).join(" ")):le}}const w={decodeEntities:!0};_.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1},_.simpleTransform=function(x,D,N){return N=N===void 0?!0:N,D=D||{},function(I,A){let M;if(N)for(M in D)A[M]=D[M];else A=D;return{tagName:x,attribs:A}}}},22997:j=>{"use strict";j.exports=l=>{if(typeof l!="string")throw new TypeError("Expected a string");return l.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},16691:function(j,l,e){"use strict";var n=this&&this.__extends||function(){var O=function(y,E){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var P in g)g.hasOwnProperty(P)&&(d[P]=g[P])},O(y,E)};return function(y,E){O(y,E);function d(){this.constructor=y}y.prototype=E===null?Object.create(E):(d.prototype=E.prototype,new d)}}(),c=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(l,"__esModule",{value:!0});var u=c(e(90819)),v=function(O){n(y,O);function y(E){E===void 0&&(E={});var d=O.call(this,function(g){for(var P,S=[],T=1;T<arguments.length;T++)S[T-1]=arguments[T];d.events.push([g].concat(S)),d._cbs[g]&&(P=d._cbs)[g].apply(P,S)})||this;return d._cbs=E,d.events=[],d}return y.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},y.prototype.restart=function(){var E;this._cbs.onreset&&this._cbs.onreset();for(var d=0;d<this.events.length;d++){var g=this.events[d],P=g[0],S=g.slice(1);this._cbs[P]&&(E=this._cbs)[P].apply(E,S)}},y}(u.default);l.CollectingHandler=v},57613:function(j,l,e){"use strict";var n=this&&this.__extends||function(){var s=function(_,w){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,D){x.__proto__=D}||function(x,D){for(var N in D)D.hasOwnProperty(N)&&(x[N]=D[N])},s(_,w)};return function(_,w){s(_,w);function x(){this.constructor=_}_.prototype=w===null?Object.create(w):(x.prototype=w.prototype,new x)}}(),c=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},u=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var _={};if(s!=null)for(var w in s)Object.hasOwnProperty.call(s,w)&&(_[w]=s[w]);return _.default=s,_};Object.defineProperty(l,"__esModule",{value:!0});var v=c(e(47915)),O=u(e(89432)),y=e(16666),E=function(s){n(_,s);function _(w,x){var D=this;return typeof w=="object"&&w!==null&&(w=void 0,x=w),D=s.call(this,w,x)||this,D}return _.prototype.onend=function(){var w={},x=g(C,this.dom);if(x)if(x.name==="feed"){var D=x.children;w.type="atom",T(w,"id","id",D),T(w,"title","title",D);var N=S("href",g("link",D));N&&(w.link=N),T(w,"description","subtitle",D);var I=P("updated",D);I&&(w.updated=new Date(I)),T(w,"author","email",D,!0),w.items=d("entry",D).map(function(A){var M={},R=A.children;T(M,"id","id",R),T(M,"title","title",R);var F=S("href",g("link",R));F&&(M.link=F);var Z=P("summary",R)||P("content",R);Z&&(M.description=Z);var V=P("updated",R);return V&&(M.pubDate=new Date(V)),M})}else{var D=g("channel",x.children).children;w.type=x.name.substr(0,3),w.id="",T(w,"title","title",D),T(w,"link","link",D),T(w,"description","description",D);var I=P("lastBuildDate",D);I&&(w.updated=new Date(I)),T(w,"author","managingEditor",D,!0),w.items=d("item",x.children).map(function(R){var F={},Z=R.children;T(F,"id","guid",Z),T(F,"title","title",Z),T(F,"link","link",Z),T(F,"description","description",Z);var V=P("pubDate",Z);return V&&(F.pubDate=new Date(V)),F})}this.feed=w,this.handleCallback(x?null:Error("couldn't find root of feed"))},_}(v.default);l.FeedHandler=E;function d(s,_){return O.getElementsByTagName(s,_,!0)}function g(s,_){return O.getElementsByTagName(s,_,!0,1)[0]}function P(s,_,w){return w===void 0&&(w=!1),O.getText(O.getElementsByTagName(s,_,w,1)).trim()}function S(s,_){if(!_)return null;var w=_.attribs;return w[s]}function T(s,_,w,x,D){D===void 0&&(D=!1);var N=P(w,x,D);N&&(s[_]=N)}function C(s){return s==="rss"||s==="feed"||s==="rdf:RDF"}var p={xmlMode:!0};function i(s,_){_===void 0&&(_=p);var w=new E(_);return new y.Parser(w,_).end(s),w.feed}l.parseFeed=i},90819:(j,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var e=function(){function n(c){this._func=c}return n.prototype.onattribute=function(c,u){this._func("onattribute",c,u)},n.prototype.oncdatastart=function(){this._func("oncdatastart")},n.prototype.oncdataend=function(){this._func("oncdataend")},n.prototype.ontext=function(c){this._func("ontext",c)},n.prototype.onprocessinginstruction=function(c,u){this._func("onprocessinginstruction",c,u)},n.prototype.oncomment=function(c){this._func("oncomment",c)},n.prototype.oncommentend=function(){this._func("oncommentend")},n.prototype.onclosetag=function(c){this._func("onclosetag",c)},n.prototype.onopentag=function(c,u){this._func("onopentag",c,u)},n.prototype.onopentagname=function(c){this._func("onopentagname",c)},n.prototype.onerror=function(c){this._func("onerror",c)},n.prototype.onend=function(){this._func("onend")},n.prototype.onparserinit=function(c){this._func("onparserinit",c)},n.prototype.onreset=function(){this._func("onreset")},n}();l.default=e},16666:function(j,l,e){"use strict";var n=this&&this.__extends||function(){var C=function(p,i){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,_){s.__proto__=_}||function(s,_){for(var w in _)_.hasOwnProperty(w)&&(s[w]=_[w])},C(p,i)};return function(p,i){C(p,i);function s(){this.constructor=p}p.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),c=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(l,"__esModule",{value:!0});var u=c(e(10034)),v=e(17187),O=new Set(["input","option","optgroup","select","button","datalist","textarea"]),y=new Set(["p"]),E={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:y,h1:y,h2:y,h3:y,h4:y,h5:y,h6:y,select:O,input:O,output:O,button:O,datalist:O,textarea:O,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:y,article:y,aside:y,blockquote:y,details:y,div:y,dl:y,fieldset:y,figcaption:y,figure:y,footer:y,form:y,header:y,hr:y,main:y,nav:y,ol:y,pre:y,section:y,table:y,ul:y,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),g=new Set(["math","svg"]),P=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),S=/\s|\//,T=function(C){n(p,C);function p(i,s){var _=C.call(this)||this;return _._tagname="",_._attribname="",_._attribvalue="",_._attribs=null,_._stack=[],_._foreignContext=[],_.startIndex=0,_.endIndex=null,_.parseChunk=p.prototype.write,_.done=p.prototype.end,_._options=s||{},_._cbs=i||{},_._tagname="",_._attribname="",_._attribvalue="",_._attribs=null,_._stack=[],_._foreignContext=[],_.startIndex=0,_.endIndex=null,_._lowerCaseTagNames="lowerCaseTags"in _._options?!!_._options.lowerCaseTags:!_._options.xmlMode,_._lowerCaseAttributeNames="lowerCaseAttributeNames"in _._options?!!_._options.lowerCaseAttributeNames:!_._options.xmlMode,_._tokenizer=new(_._options.Tokenizer||u.default)(_._options,_),_._cbs.onparserinit&&_._cbs.onparserinit(_),_}return p.prototype._updatePosition=function(i){this.endIndex===null?this._tokenizer._sectionStart<=i?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-i:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},p.prototype.ontext=function(i){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(i)},p.prototype.onopentagname=function(i){if(this._lowerCaseTagNames&&(i=i.toLowerCase()),this._tagname=i,!this._options.xmlMode&&Object.prototype.hasOwnProperty.call(E,i))for(var s=void 0;E[i].has(s=this._stack[this._stack.length-1]);this.onclosetag(s));(this._options.xmlMode||!d.has(i))&&(this._stack.push(i),g.has(i)?this._foreignContext.push(!0):P.has(i)&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(i),this._cbs.onopentag&&(this._attribs={})},p.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&d.has(this._tagname)&&this._cbs.onclosetag(this._tagname),this._tagname=""},p.prototype.onclosetag=function(i){if(this._updatePosition(1),this._lowerCaseTagNames&&(i=i.toLowerCase()),(g.has(i)||P.has(i))&&this._foreignContext.pop(),this._stack.length&&(this._options.xmlMode||!d.has(i))){var s=this._stack.lastIndexOf(i);if(s!==-1)if(this._cbs.onclosetag)for(s=this._stack.length-s;s--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=s;else i==="p"&&!this._options.xmlMode&&(this.onopentagname(i),this._closeCurrentTag())}else!this._options.xmlMode&&(i==="br"||i==="p")&&(this.onopentagname(i),this._closeCurrentTag())},p.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},p.prototype._closeCurrentTag=function(){var i=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===i&&(this._cbs.onclosetag&&this._cbs.onclosetag(i),this._stack.pop())},p.prototype.onattribname=function(i){this._lowerCaseAttributeNames&&(i=i.toLowerCase()),this._attribname=i},p.prototype.onattribdata=function(i){this._attribvalue+=i},p.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},p.prototype._getInstructionName=function(i){var s=i.search(S),_=s<0?i:i.substr(0,s);return this._lowerCaseTagNames&&(_=_.toLowerCase()),_},p.prototype.ondeclaration=function(i){if(this._cbs.onprocessinginstruction){var s=this._getInstructionName(i);this._cbs.onprocessinginstruction("!"+s,"!"+i)}},p.prototype.onprocessinginstruction=function(i){if(this._cbs.onprocessinginstruction){var s=this._getInstructionName(i);this._cbs.onprocessinginstruction("?"+s,"?"+i)}},p.prototype.oncomment=function(i){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(i),this._cbs.oncommentend&&this._cbs.oncommentend()},p.prototype.oncdata=function(i){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(i),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+i+"]]")},p.prototype.onerror=function(i){this._cbs.onerror&&this._cbs.onerror(i)},p.prototype.onend=function(){if(this._cbs.onclosetag)for(var i=this._stack.length;i>0;this._cbs.onclosetag(this._stack[--i]));this._cbs.onend&&this._cbs.onend()},p.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},p.prototype.parseComplete=function(i){this.reset(),this.end(i)},p.prototype.write=function(i){this._tokenizer.write(i)},p.prototype.end=function(i){this._tokenizer.end(i)},p.prototype.pause=function(){this._tokenizer.pause()},p.prototype.resume=function(){this._tokenizer.resume()},p}(v.EventEmitter);l.Parser=T},10034:function(j,l,e){"use strict";var n=this&&this.__importDefault||function(K){return K&&K.__esModule?K:{default:K}};Object.defineProperty(l,"__esModule",{value:!0});var c=n(e(26)),u=n(e(59323)),v=n(e(29591)),O=n(e(2586));function y(K){return K===" "||K===`
`||K==="	"||K==="\f"||K==="\r"}function E(K,H,re){var ee=K.toLowerCase();return K===ee?function(Y,J){J===ee?Y._state=H:(Y._state=re,Y._index--)}:function(Y,J){J===ee||J===K?Y._state=H:(Y._state=re,Y._index--)}}function d(K,H){var re=K.toLowerCase();return function(ee,Y){Y===re||Y===K?ee._state=H:(ee._state=3,ee._index--)}}var g=E("C",23,16),P=E("D",24,16),S=E("A",25,16),T=E("T",26,16),C=E("A",27,16),p=d("R",34),i=d("I",35),s=d("P",36),_=d("T",37),w=E("R",39,1),x=E("I",40,1),D=E("P",41,1),N=E("T",42,1),I=d("Y",44),A=d("L",45),M=d("E",46),R=E("Y",48,1),F=E("L",49,1),Z=E("E",50,1),V=E("#",52,53),G=E("X",55,54),$=function(){function K(H,re){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1,this._cbs=re,this._xmlMode=!!(H&&H.xmlMode),this._decodeEntities=!!(H&&H.decodeEntities)}return K.prototype.reset=function(){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1},K.prototype._stateText=function(H){H==="<"?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=2,this._sectionStart=this._index):this._decodeEntities&&this._special===1&&H==="&"&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=1,this._state=51,this._sectionStart=this._index)},K.prototype._stateBeforeTagName=function(H){H==="/"?this._state=5:H==="<"?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):H===">"||this._special!==1||y(H)?this._state=1:H==="!"?(this._state=15,this._sectionStart=this._index+1):H==="?"?(this._state=17,this._sectionStart=this._index+1):(this._state=!this._xmlMode&&(H==="s"||H==="S")?31:3,this._sectionStart=this._index)},K.prototype._stateInTagName=function(H){(H==="/"||H===">"||y(H))&&(this._emitToken("onopentagname"),this._state=8,this._index--)},K.prototype._stateBeforeClosingTagName=function(H){y(H)||(H===">"?this._state=1:this._special!==1?H==="s"||H==="S"?this._state=32:(this._state=1,this._index--):(this._state=6,this._sectionStart=this._index))},K.prototype._stateInClosingTagName=function(H){(H===">"||y(H))&&(this._emitToken("onclosetag"),this._state=7,this._index--)},K.prototype._stateAfterClosingTagName=function(H){H===">"&&(this._state=1,this._sectionStart=this._index+1)},K.prototype._stateBeforeAttributeName=function(H){H===">"?(this._cbs.onopentagend(),this._state=1,this._sectionStart=this._index+1):H==="/"?this._state=4:y(H)||(this._state=9,this._sectionStart=this._index)},K.prototype._stateInSelfClosingTag=function(H){H===">"?(this._cbs.onselfclosingtag(),this._state=1,this._sectionStart=this._index+1):y(H)||(this._state=8,this._index--)},K.prototype._stateInAttributeName=function(H){(H==="="||H==="/"||H===">"||y(H))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=10,this._index--)},K.prototype._stateAfterAttributeName=function(H){H==="="?this._state=11:H==="/"||H===">"?(this._cbs.onattribend(),this._state=8,this._index--):y(H)||(this._cbs.onattribend(),this._state=9,this._sectionStart=this._index)},K.prototype._stateBeforeAttributeValue=function(H){H==='"'?(this._state=12,this._sectionStart=this._index+1):H==="'"?(this._state=13,this._sectionStart=this._index+1):y(H)||(this._state=14,this._sectionStart=this._index,this._index--)},K.prototype._stateInAttributeValueDoubleQuotes=function(H){H==='"'?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&H==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},K.prototype._stateInAttributeValueSingleQuotes=function(H){H==="'"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&H==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},K.prototype._stateInAttributeValueNoQuotes=function(H){y(H)||H===">"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8,this._index--):this._decodeEntities&&H==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},K.prototype._stateBeforeDeclaration=function(H){this._state=H==="["?22:H==="-"?18:16},K.prototype._stateInDeclaration=function(H){H===">"&&(this._cbs.ondeclaration(this._getSection()),this._state=1,this._sectionStart=this._index+1)},K.prototype._stateInProcessingInstruction=function(H){H===">"&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=1,this._sectionStart=this._index+1)},K.prototype._stateBeforeComment=function(H){H==="-"?(this._state=19,this._sectionStart=this._index+1):this._state=16},K.prototype._stateInComment=function(H){H==="-"&&(this._state=20)},K.prototype._stateAfterComment1=function(H){H==="-"?this._state=21:this._state=19},K.prototype._stateAfterComment2=function(H){H===">"?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):H!=="-"&&(this._state=19)},K.prototype._stateBeforeCdata6=function(H){H==="["?(this._state=28,this._sectionStart=this._index+1):(this._state=16,this._index--)},K.prototype._stateInCdata=function(H){H==="]"&&(this._state=29)},K.prototype._stateAfterCdata1=function(H){H==="]"?this._state=30:this._state=28},K.prototype._stateAfterCdata2=function(H){H===">"?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):H!=="]"&&(this._state=28)},K.prototype._stateBeforeSpecial=function(H){H==="c"||H==="C"?this._state=33:H==="t"||H==="T"?this._state=43:(this._state=3,this._index--)},K.prototype._stateBeforeSpecialEnd=function(H){this._special===2&&(H==="c"||H==="C")?this._state=38:this._special===3&&(H==="t"||H==="T")?this._state=47:this._state=1},K.prototype._stateBeforeScript5=function(H){(H==="/"||H===">"||y(H))&&(this._special=2),this._state=3,this._index--},K.prototype._stateAfterScript5=function(H){H===">"||y(H)?(this._special=1,this._state=6,this._sectionStart=this._index-6,this._index--):this._state=1},K.prototype._stateBeforeStyle4=function(H){(H==="/"||H===">"||y(H))&&(this._special=3),this._state=3,this._index--},K.prototype._stateAfterStyle4=function(H){H===">"||y(H)?(this._special=1,this._state=6,this._sectionStart=this._index-5,this._index--):this._state=1},K.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var H=this._buffer.substring(this._sectionStart+1,this._index),re=this._xmlMode?O.default:u.default;Object.prototype.hasOwnProperty.call(re,H)&&(this._emitPartial(re[H]),this._sectionStart=this._index+1)}},K.prototype._parseLegacyEntity=function(){var H=this._sectionStart+1,re=this._index-H;for(re>6&&(re=6);re>=2;){var ee=this._buffer.substr(H,re);if(Object.prototype.hasOwnProperty.call(v.default,ee)){this._emitPartial(v.default[ee]),this._sectionStart+=re+1;return}else re--}},K.prototype._stateInNamedEntity=function(H){H===";"?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(H<"a"||H>"z")&&(H<"A"||H>"Z")&&(H<"0"||H>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==1?H!=="="&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},K.prototype._decodeNumericEntity=function(H,re){var ee=this._sectionStart+H;if(ee!==this._index){var Y=this._buffer.substring(ee,this._index),J=parseInt(Y,re);this._emitPartial(c.default(J)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},K.prototype._stateInNumericEntity=function(H){H===";"?(this._decodeNumericEntity(2,10),this._sectionStart++):(H<"0"||H>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},K.prototype._stateInHexEntity=function(H){H===";"?(this._decodeNumericEntity(3,16),this._sectionStart++):(H<"a"||H>"f")&&(H<"A"||H>"F")&&(H<"0"||H>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},K.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===1?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},K.prototype.write=function(H){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=H,this._parse()},K.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var H=this._buffer.charAt(this._index);this._state===1?this._stateText(H):this._state===12?this._stateInAttributeValueDoubleQuotes(H):this._state===9?this._stateInAttributeName(H):this._state===19?this._stateInComment(H):this._state===8?this._stateBeforeAttributeName(H):this._state===3?this._stateInTagName(H):this._state===6?this._stateInClosingTagName(H):this._state===2?this._stateBeforeTagName(H):this._state===10?this._stateAfterAttributeName(H):this._state===13?this._stateInAttributeValueSingleQuotes(H):this._state===11?this._stateBeforeAttributeValue(H):this._state===5?this._stateBeforeClosingTagName(H):this._state===7?this._stateAfterClosingTagName(H):this._state===31?this._stateBeforeSpecial(H):this._state===20?this._stateAfterComment1(H):this._state===14?this._stateInAttributeValueNoQuotes(H):this._state===4?this._stateInSelfClosingTag(H):this._state===16?this._stateInDeclaration(H):this._state===15?this._stateBeforeDeclaration(H):this._state===21?this._stateAfterComment2(H):this._state===18?this._stateBeforeComment(H):this._state===32?this._stateBeforeSpecialEnd(H):this._state===38?w(this,H):this._state===39?x(this,H):this._state===40?D(this,H):this._state===33?p(this,H):this._state===34?i(this,H):this._state===35?s(this,H):this._state===36?_(this,H):this._state===37?this._stateBeforeScript5(H):this._state===41?N(this,H):this._state===42?this._stateAfterScript5(H):this._state===43?I(this,H):this._state===28?this._stateInCdata(H):this._state===44?A(this,H):this._state===45?M(this,H):this._state===46?this._stateBeforeStyle4(H):this._state===47?R(this,H):this._state===48?F(this,H):this._state===49?Z(this,H):this._state===50?this._stateAfterStyle4(H):this._state===17?this._stateInProcessingInstruction(H):this._state===53?this._stateInNamedEntity(H):this._state===22?g(this,H):this._state===51?V(this,H):this._state===23?P(this,H):this._state===24?S(this,H):this._state===29?this._stateAfterCdata1(H):this._state===30?this._stateAfterCdata2(H):this._state===25?T(this,H):this._state===26?C(this,H):this._state===27?this._stateBeforeCdata6(H):this._state===55?this._stateInHexEntity(H):this._state===54?this._stateInNumericEntity(H):this._state===52?G(this,H):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},K.prototype.pause=function(){this._running=!1},K.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},K.prototype.end=function(H){this._ended&&this._cbs.onerror(Error(".end() after done!")),H&&this.write(H),this._ended=!0,this._running&&this._finish()},K.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},K.prototype._handleTrailingData=function(){var H=this._buffer.substr(this._sectionStart);this._state===28||this._state===29||this._state===30?this._cbs.oncdata(H):this._state===19||this._state===20||this._state===21?this._cbs.oncomment(H):this._state===53&&!this._xmlMode?(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===54&&!this._xmlMode?(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===55&&!this._xmlMode?(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this._cbs.ontext(H)},K.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},K.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},K.prototype._emitToken=function(H){this._cbs[H](this._getSection()),this._sectionStart=-1},K.prototype._emitPartial=function(H){this._baseState!==1?this._cbs.onattribdata(H):this._cbs.ontext(H)},K}();l.default=$},35106:function(j,l,e){"use strict";function n(S){for(var T in S)l.hasOwnProperty(T)||(l[T]=S[T])}var c=this&&this.__importStar||function(S){if(S&&S.__esModule)return S;var T={};if(S!=null)for(var C in S)Object.hasOwnProperty.call(S,C)&&(T[C]=S[C]);return T.default=S,T};Object.defineProperty(l,"__esModule",{value:!0});var u=e(16666);l.Parser=u.Parser;var v=e(47915);l.DomHandler=v.DomHandler,l.DefaultHandler=v.DomHandler;function O(S,T){var C=new v.DomHandler(void 0,T);return new u.Parser(C,T).end(S),C.dom}l.parseDOM=O;function y(S,T,C){var p=new v.DomHandler(S,T,C);return new u.Parser(p,T)}l.createDomStream=y;var E=e(10034);l.Tokenizer=E.default;var d=c(e(99960));l.ElementType=d,l.EVENTS={attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0},n(e(57613)),n(e(18036)),n(e(16691));var g=c(e(89432));l.DomUtils=g;var P=e(57613);l.RssHandler=P.FeedHandler},10977:(j,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function e(c){return Object.prototype.toString.call(c)==="[object Object]"}function n(c){var u,v;return e(c)===!1?!1:(u=c.constructor,u===void 0?!0:(v=u.prototype,!(e(v)===!1||v.hasOwnProperty("isPrototypeOf")===!1)))}l.isPlainObject=n},37478:(j,l,e)=>{"use strict";var n=e(40210),c=e(21924),u=e(70631),v=n("%TypeError%"),O=n("%WeakMap%",!0),y=n("%Map%",!0),E=c("WeakMap.prototype.get",!0),d=c("WeakMap.prototype.set",!0),g=c("WeakMap.prototype.has",!0),P=c("Map.prototype.get",!0),S=c("Map.prototype.set",!0),T=c("Map.prototype.has",!0),C=function(_,w){for(var x=_,D;(D=x.next)!==null;x=D)if(D.key===w)return x.next=D.next,D.next=_.next,_.next=D,D},p=function(_,w){var x=C(_,w);return x&&x.value},i=function(_,w,x){var D=C(_,w);D?D.value=x:_.next={key:w,next:_.next,value:x}},s=function(_,w){return!!C(_,w)};j.exports=function(){var w,x,D,N={assert:function(I){if(!N.has(I))throw new v("Side channel does not contain "+u(I))},get:function(I){if(O&&I&&(typeof I=="object"||typeof I=="function")){if(w)return E(w,I)}else if(y){if(x)return P(x,I)}else if(D)return p(D,I)},has:function(I){if(O&&I&&(typeof I=="object"||typeof I=="function")){if(w)return g(w,I)}else if(y){if(x)return T(x,I)}else if(D)return s(D,I);return!1},set:function(I,A){O&&I&&(typeof I=="object"||typeof I=="function")?(w||(w=new O),d(w,I,A)):y?(x||(x=new y),S(x,I,A)):(D||(D={key:{},next:null}),i(D,I,A))}};return N}},79546:(j,l,e)=>{var n=e(62195),c=[e(39627),e(58855),e(45580),e(8728)],u=[];j.exports=n.createStore(c,u)},62195:(j,l,e)=>{var n=e(69078),c=n.slice,u=n.pluck,v=n.each,O=n.bind,y=n.create,E=n.isList,d=n.isFunction,g=n.isObject;j.exports={createStore:T};var P={version:"2.0.12",enabled:!1,get:function(C,p){var i=this.storage.read(this._namespacePrefix+C);return this._deserialize(i,p)},set:function(C,p){return p===void 0?this.remove(C):(this.storage.write(this._namespacePrefix+C,this._serialize(p)),p)},remove:function(C){this.storage.remove(this._namespacePrefix+C)},each:function(C){var p=this;this.storage.each(function(i,s){C.call(p,p._deserialize(i),(s||"").replace(p._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(C){return this._namespacePrefix=="__storejs_"+C+"_"},createStore:function(){return T.apply(this,arguments)},addPlugin:function(C){this._addPlugin(C)},namespace:function(C){return T(this.storage,this.plugins,C)}};function S(){var C=typeof console=="undefined"?null:console;if(C){var p=C.warn?C.warn:C.log;p.apply(C,arguments)}}function T(C,p,i){i||(i=""),C&&!E(C)&&(C=[C]),p&&!E(p)&&(p=[p]);var s=i?"__storejs_"+i+"_":"",_=i?new RegExp("^"+s):null,w=/^[a-zA-Z0-9_\-]*$/;if(!w.test(i))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var x={_namespacePrefix:s,_namespaceRegexp:_,_testStorage:function(N){try{var I="__storejs__test__";N.write(I,I);var A=N.read(I)===I;return N.remove(I),A}catch(M){return!1}},_assignPluginFnProp:function(N,I){var A=this[I];this[I]=function(){var R=c(arguments,0),F=this;function Z(){if(A)return v(arguments,function(G,$){R[$]=G}),A.apply(F,R)}var V=[Z].concat(R);return N.apply(F,V)}},_serialize:function(N){return JSON.stringify(N)},_deserialize:function(N,I){if(!N)return I;var A="";try{A=JSON.parse(N)}catch(M){A=N}return A!==void 0?A:I},_addStorage:function(N){this.enabled||this._testStorage(N)&&(this.storage=N,this.enabled=!0)},_addPlugin:function(N){var I=this;if(E(N)){v(N,function(R){I._addPlugin(R)});return}var A=u(this.plugins,function(R){return N===R});if(!A){if(this.plugins.push(N),!d(N))throw new Error("Plugins must be function values that return objects");var M=N.call(this);if(!g(M))throw new Error("Plugins must return an object of function properties");v(M,function(R,F){if(!d(R))throw new Error("Bad plugin property: "+F+" from plugin "+N.name+". Plugins should only return functions.");I._assignPluginFnProp(R,F)})}},addStorage:function(N){S("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(N)}},D=y(x,P,{plugins:[]});return D.raw={},v(D,function(N,I){d(N)&&(D.raw[I]=O(D,N))}),v(C,function(N){D._addStorage(N)}),v(p,function(N){D._addPlugin(N)}),D}},69078:(j,l,e)=>{var n=O(),c=y(),u=E(),v=typeof window!="undefined"?window:e.g;j.exports={assign:n,create:c,trim:u,bind:d,slice:g,each:P,map:S,pluck:T,isList:C,isFunction:p,isObject:i,Global:v};function O(){return Object.assign?Object.assign:function(_,w,x,D){for(var N=1;N<arguments.length;N++)P(Object(arguments[N]),function(I,A){_[A]=I});return _}}function y(){if(Object.create)return function(w,x,D,N){var I=g(arguments,1);return n.apply(this,[Object.create(w)].concat(I))};{let _=function(){};var s=_;return function(x,D,N,I){var A=g(arguments,1);return _.prototype=x,n.apply(this,[new _].concat(A))}}}function E(){return String.prototype.trim?function(_){return String.prototype.trim.call(_)}:function(_){return _.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function d(s,_){return function(){return _.apply(s,Array.prototype.slice.call(arguments,0))}}function g(s,_){return Array.prototype.slice.call(s,_||0)}function P(s,_){T(s,function(w,x){return _(w,x),!1})}function S(s,_){var w=C(s)?[]:{};return T(s,function(x,D){return w[D]=_(x,D),!1}),w}function T(s,_){if(C(s)){for(var w=0;w<s.length;w++)if(_(s[w],w))return s[w]}else for(var x in s)if(s.hasOwnProperty(x)&&_(s[x],x))return s[x]}function C(s){return s!=null&&typeof s!="function"&&typeof s.length=="number"}function p(s){return s&&{}.toString.call(s)==="[object Function]"}function i(s){return s&&{}.toString.call(s)==="[object Object]"}},45580:(j,l,e)=>{var n=e(69078),c=n.Global,u=n.trim;j.exports={name:"cookieStorage",read:O,write:E,each:y,remove:d,clearAll:g};var v=c.document;function O(S){if(!S||!P(S))return null;var T="(?:^|.*;\\s*)"+escape(S).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(v.cookie.replace(new RegExp(T),"$1"))}function y(S){for(var T=v.cookie.split(/; ?/g),C=T.length-1;C>=0;C--)if(u(T[C])){var p=T[C].split("="),i=unescape(p[0]),s=unescape(p[1]);S(s,i)}}function E(S,T){S&&(v.cookie=escape(S)+"="+escape(T)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function d(S){!S||!P(S)||(v.cookie=escape(S)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function g(){y(function(S,T){d(T)})}function P(S){return new RegExp("(?:^|;\\s*)"+escape(S).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(v.cookie)}},39627:(j,l,e)=>{var n=e(69078),c=n.Global;j.exports={name:"localStorage",read:v,write:O,each:y,remove:E,clearAll:d};function u(){return c.localStorage}function v(g){return u().getItem(g)}function O(g,P){return u().setItem(g,P)}function y(g){for(var P=u().length-1;P>=0;P--){var S=u().key(P);g(v(S),S)}}function E(g){return u().removeItem(g)}function d(){return u().clear()}},8728:j=>{j.exports={name:"memoryStorage",read:e,write:n,each:c,remove:u,clearAll:v};var l={};function e(O){return l[O]}function n(O,y){l[O]=y}function c(O){for(var y in l)l.hasOwnProperty(y)&&O(l[y],y)}function u(O){delete l[O]}function v(O){l={}}},58855:(j,l,e)=>{var n=e(69078),c=n.Global;j.exports={name:"sessionStorage",read:v,write:O,each:y,remove:E,clearAll:d};function u(){return c.sessionStorage}function v(g){return u().getItem(g)}function O(g,P){return u().setItem(g,P)}function y(g){for(var P=u().length-1;P>=0;P--){var S=u().key(P);g(v(S),S)}}function E(g){return u().removeItem(g)}function d(){return u().clear()}},37903:j=>{"use strict";function l(y){return u(y)||c(y)||n(y)||e()}function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(y,E){if(y){if(typeof y=="string")return v(y,E);var d=Object.prototype.toString.call(y).slice(8,-1);if(d==="Object"&&y.constructor&&(d=y.constructor.name),d==="Map"||d==="Set")return Array.from(y);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return v(y,E)}}function c(y){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(y))return Array.from(y)}function u(y){if(Array.isArray(y))return v(y)}function v(y,E){(E==null||E>y.length)&&(E=y.length);for(var d=0,g=new Array(E);d<E;d++)g[d]=y[d];return g}function O(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach(function(y){O.prototype[y]=function(){for(var E=arguments.length,d=new Array(E),g=0;g<E;g++)d[g]=arguments[g];return this._defaults.push({fn:y,args:d}),this}}),O.prototype._setDefaults=function(y){this._defaults.forEach(function(E){y[E.fn].apply(y,l(E.args))})},j.exports=O},80569:(j,l,e)=>{"use strict";function n(N){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(A){return typeof A}:n=function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},n(N)}var c;typeof window!="undefined"?c=window:typeof self=="undefined"?(console.warn("Using browser-only version of superagent in non-browser environment"),c=void 0):c=self;var u=e(98767),v=e(4445),O=e(80129),y=e(28899),E=e(54960),d=e(81097),g=e(37903);function P(){}j.exports=function(N,I){return typeof I=="function"?new l.Request("GET",N).end(I):arguments.length===1?new l.Request("GET",N):new l.Request(N,I)},l=j.exports;var S=l;l.Request=x,S.getXHR=function(){if(c.XMLHttpRequest&&(!c.location||c.location.protocol!=="file:"||!c.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(N){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(N){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(N){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(N){}throw new Error("Browser-only version of superagent could not find XHR")};var T="".trim?function(N){return N.trim()}:function(N){return N.replace(/(^\s*|\s*$)/g,"")};function C(N){if(!E(N))return N;var I=[];for(var A in N)Object.prototype.hasOwnProperty.call(N,A)&&p(I,A,N[A]);return I.join("&")}function p(N,I,A){if(A!==void 0){if(A===null){N.push(encodeURI(I));return}if(Array.isArray(A))A.forEach(function(R){p(N,I,R)});else if(E(A))for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&p(N,"".concat(I,"[").concat(M,"]"),A[M]);else N.push(encodeURI(I)+"="+encodeURIComponent(A))}}S.serializeObject=C;function i(N){for(var I={},A=N.split("&"),M,R,F=0,Z=A.length;F<Z;++F)M=A[F],R=M.indexOf("="),R===-1?I[decodeURIComponent(M)]="":I[decodeURIComponent(M.slice(0,R))]=decodeURIComponent(M.slice(R+1));return I}S.parseString=i,S.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},S.serialize={"application/x-www-form-urlencoded":O.stringify,"application/json":v},S.parse={"application/x-www-form-urlencoded":i,"application/json":JSON.parse};function s(N){for(var I=N.split(/\r?\n/),A={},M,R,F,Z,V=0,G=I.length;V<G;++V)R=I[V],M=R.indexOf(":"),M!==-1&&(F=R.slice(0,M).toLowerCase(),Z=T(R.slice(M+1)),A[F]=Z);return A}function _(N){return/[/+]json($|[^-\w])/i.test(N)}function w(N){this.req=N,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType=="undefined"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var I=this.xhr.status;I===1223&&(I=204),this._setStatusProperties(I),this.headers=s(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&N._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}d(w.prototype),w.prototype._parseBody=function(N){var I=S.parse[this.type];return this.req._parser?this.req._parser(this,N):(!I&&_(this.type)&&(I=S.parse["application/json"]),I&&N&&(N.length>0||N instanceof Object)?I(N):null)},w.prototype.toError=function(){var N=this.req,I=N.method,A=N.url,M="cannot ".concat(I," ").concat(A," (").concat(this.status,")"),R=new Error(M);return R.status=this.status,R.method=I,R.url=A,R},S.Response=w;function x(N,I){var A=this;this._query=this._query||[],this.method=N,this.url=I,this.header={},this._header={},this.on("end",function(){var M=null,R=null;try{R=new w(A)}catch(Z){return M=new Error("Parser is unable to parse the response"),M.parse=!0,M.original=Z,A.xhr?(M.rawResponse=typeof A.xhr.responseType=="undefined"?A.xhr.responseText:A.xhr.response,M.status=A.xhr.status?A.xhr.status:null,M.statusCode=M.status):(M.rawResponse=null,M.status=null),A.callback(M)}A.emit("response",R);var F;try{A._isResponseOK(R)||(F=new Error(R.statusText||R.text||"Unsuccessful HTTP response"))}catch(Z){F=Z}F?(F.original=M,F.response=R,F.status=R.status,A.callback(F,R)):A.callback(null,R)})}u(x.prototype),y(x.prototype),x.prototype.type=function(N){return this.set("Content-Type",S.types[N]||N),this},x.prototype.accept=function(N){return this.set("Accept",S.types[N]||N),this},x.prototype.auth=function(N,I,A){arguments.length===1&&(I=""),n(I)==="object"&&I!==null&&(A=I,I=""),A||(A={type:typeof btoa=="function"?"basic":"auto"});var M=function(F){if(typeof btoa=="function")return btoa(F);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(N,I,A,M)},x.prototype.query=function(N){return typeof N!="string"&&(N=C(N)),N&&this._query.push(N),this},x.prototype.attach=function(N,I,A){if(I){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(N,I,A||I.name)}return this},x.prototype._getFormData=function(){return this._formData||(this._formData=new c.FormData),this._formData},x.prototype.callback=function(N,I){if(this._shouldRetry(N,I))return this._retry();var A=this._callback;this.clearTimeout(),N&&(this._maxRetries&&(N.retries=this._retries-1),this.emit("error",N)),A(N,I)},x.prototype.crossDomainError=function(){var N=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);N.crossDomain=!0,N.status=this.status,N.method=this.method,N.url=this.url,this.callback(N)},x.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},x.prototype.ca=x.prototype.agent,x.prototype.buffer=x.prototype.ca,x.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},x.prototype.pipe=x.prototype.write,x.prototype._isHost=function(N){return N&&n(N)==="object"&&!Array.isArray(N)&&Object.prototype.toString.call(N)!=="[object Object]"},x.prototype.end=function(N){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=N||P,this._finalizeQueryString(),this._end()},x.prototype._setUploadTimeout=function(){var N=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){N._timeoutError("Upload timeout of ",N._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},x.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var N=this;this.xhr=S.getXHR();var I=this.xhr,A=this._formData||this._data;this._setTimeouts(),I.onreadystatechange=function(){var V=I.readyState;if(V>=2&&N._responseTimeoutTimer&&clearTimeout(N._responseTimeoutTimer),V===4){var G;try{G=I.status}catch($){G=0}if(!G)return N.timedout||N._aborted?void 0:N.crossDomainError();N.emit("end")}};var M=function(G,$){$.total>0&&($.percent=$.loaded/$.total*100,$.percent===100&&clearTimeout(N._uploadTimeoutTimer)),$.direction=G,N.emit("progress",$)};if(this.hasListeners("progress"))try{I.addEventListener("progress",M.bind(null,"download")),I.upload&&I.upload.addEventListener("progress",M.bind(null,"upload"))}catch(V){}I.upload&&this._setUploadTimeout();try{this.username&&this.password?I.open(this.method,this.url,!0,this.username,this.password):I.open(this.method,this.url,!0)}catch(V){return this.callback(V)}if(this._withCredentials&&(I.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof A!="string"&&!this._isHost(A)){var R=this._header["content-type"],F=this._serializer||S.serialize[R?R.split(";")[0]:""];!F&&_(R)&&(F=S.serialize["application/json"]),F&&(A=F(A))}for(var Z in this.header)this.header[Z]!==null&&Object.prototype.hasOwnProperty.call(this.header,Z)&&I.setRequestHeader(Z,this.header[Z]);this._responseType&&(I.responseType=this._responseType),this.emit("request",this),I.send(typeof A=="undefined"?null:A)},S.agent=function(){return new g},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(N){g.prototype[N.toLowerCase()]=function(I,A){var M=new S.Request(N,I);return this._setDefaults(M),A&&M.end(A),M}}),g.prototype.del=g.prototype.delete,S.get=function(N,I,A){var M=S("GET",N);return typeof I=="function"&&(A=I,I=null),I&&M.query(I),A&&M.end(A),M},S.head=function(N,I,A){var M=S("HEAD",N);return typeof I=="function"&&(A=I,I=null),I&&M.query(I),A&&M.end(A),M},S.options=function(N,I,A){var M=S("OPTIONS",N);return typeof I=="function"&&(A=I,I=null),I&&M.send(I),A&&M.end(A),M};function D(N,I,A){var M=S("DELETE",N);return typeof I=="function"&&(A=I,I=null),I&&M.send(I),A&&M.end(A),M}S.del=D,S.delete=D,S.patch=function(N,I,A){var M=S("PATCH",N);return typeof I=="function"&&(A=I,I=null),I&&M.send(I),A&&M.end(A),M},S.post=function(N,I,A){var M=S("POST",N);return typeof I=="function"&&(A=I,I=null),I&&M.send(I),A&&M.end(A),M},S.put=function(N,I,A){var M=S("PUT",N);return typeof I=="function"&&(A=I,I=null),I&&M.send(I),A&&M.end(A),M}},54960:j=>{"use strict";function l(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l=function(u){return typeof u}:l=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l(n)}function e(n){return n!==null&&l(n)==="object"}j.exports=e},28899:(j,l,e)=>{"use strict";function n(E){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(g){return typeof g}:n=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},n(E)}var c=e(54960);j.exports=u;function u(E){if(E)return v(E)}function v(E){for(var d in u.prototype)Object.prototype.hasOwnProperty.call(u.prototype,d)&&(E[d]=u.prototype[d]);return E}u.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},u.prototype.parse=function(E){return this._parser=E,this},u.prototype.responseType=function(E){return this._responseType=E,this},u.prototype.serialize=function(E){return this._serializer=E,this},u.prototype.timeout=function(E){if(!E||n(E)!=="object")return this._timeout=E,this._responseTimeout=0,this._uploadTimeout=0,this;for(var d in E)if(Object.prototype.hasOwnProperty.call(E,d))switch(d){case"deadline":this._timeout=E.deadline;break;case"response":this._responseTimeout=E.response;break;case"upload":this._uploadTimeout=E.upload;break;default:console.warn("Unknown timeout option",d)}return this},u.prototype.retry=function(E,d){return(arguments.length===0||E===!0)&&(E=1),E<=0&&(E=0),this._maxRetries=E,this._retries=0,this._retryCallback=d,this};var O=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),y=new Set([408,413,429,500,502,503,504,521,522,524]);u.prototype._shouldRetry=function(E,d){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var g=this._retryCallback(E,d);if(g===!0)return!0;if(g===!1)return!1}catch(P){console.error(P)}return!!(d&&d.status&&y.has(d.status)||E&&(E.code&&O.has(E.code)||E.timeout&&E.code==="ECONNABORTED"||E.crossDomain))},u.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},u.prototype.then=function(E,d){var g=this;if(!this._fullfilledPromise){var P=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(S,T){P.on("abort",function(){if(!(g._maxRetries&&g._maxRetries>g._retries)){if(g.timedout&&g.timedoutError){T(g.timedoutError);return}var C=new Error("Aborted");C.code="ABORTED",C.status=g.status,C.method=g.method,C.url=g.url,T(C)}}),P.end(function(C,p){C?T(C):S(p)})})}return this._fullfilledPromise.then(E,d)},u.prototype.catch=function(E){return this.then(void 0,E)},u.prototype.use=function(E){return E(this),this},u.prototype.ok=function(E){if(typeof E!="function")throw new Error("Callback required");return this._okCallback=E,this},u.prototype._isResponseOK=function(E){return E?this._okCallback?this._okCallback(E):E.status>=200&&E.status<300:!1},u.prototype.get=function(E){return this._header[E.toLowerCase()]},u.prototype.getHeader=u.prototype.get,u.prototype.set=function(E,d){if(c(E)){for(var g in E)Object.prototype.hasOwnProperty.call(E,g)&&this.set(g,E[g]);return this}return this._header[E.toLowerCase()]=d,this.header[E]=d,this},u.prototype.unset=function(E){return delete this._header[E.toLowerCase()],delete this.header[E],this},u.prototype.field=function(E,d){if(E==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(c(E)){for(var g in E)Object.prototype.hasOwnProperty.call(E,g)&&this.field(g,E[g]);return this}if(Array.isArray(d)){for(var P in d)Object.prototype.hasOwnProperty.call(d,P)&&this.field(E,d[P]);return this}if(d==null)throw new Error(".field(name, val) val can not be empty");return typeof d=="boolean"&&(d=String(d)),this._getFormData().append(E,d),this},u.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},u.prototype._auth=function(E,d,g,P){switch(g.type){case"basic":this.set("Authorization","Basic ".concat(P("".concat(E,":").concat(d))));break;case"auto":this.username=E,this.password=d;break;case"bearer":this.set("Authorization","Bearer ".concat(E));break;default:break}return this},u.prototype.withCredentials=function(E){return E===void 0&&(E=!0),this._withCredentials=E,this},u.prototype.redirects=function(E){return this._maxRedirects=E,this},u.prototype.maxResponseSize=function(E){if(typeof E!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=E,this},u.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},u.prototype.send=function(E){var d=c(E),g=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(d&&!this._data)Array.isArray(E)?this._data=[]:this._isHost(E)||(this._data={});else if(E&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(d&&c(this._data))for(var P in E)Object.prototype.hasOwnProperty.call(E,P)&&(this._data[P]=E[P]);else typeof E=="string"?(g||this.type("form"),g=this._header["content-type"],g&&(g=g.toLowerCase().trim()),g==="application/x-www-form-urlencoded"?this._data=this._data?"".concat(this._data,"&").concat(E):E:this._data=(this._data||"")+E):this._data=E;return!d||this._isHost(E)?this:(g||this.type("json"),this)},u.prototype.sortQuery=function(E){return this._sort=typeof E=="undefined"?!0:E,this},u.prototype._finalizeQueryString=function(){var E=this._query.join("&");if(E&&(this.url+=(this.url.includes("?")?"&":"?")+E),this._query.length=0,this._sort){var d=this.url.indexOf("?");if(d>=0){var g=this.url.slice(d+1).split("&");typeof this._sort=="function"?g.sort(this._sort):g.sort(),this.url=this.url.slice(0,d)+"?"+g.join("&")}}},u.prototype._appendQueryString=function(){console.warn("Unsupported")},u.prototype._timeoutError=function(E,d,g){if(!this._aborted){var P=new Error("".concat(E+d,"ms exceeded"));P.timeout=d,P.code="ECONNABORTED",P.errno=g,this.timedout=!0,this.timedoutError=P,this.abort(),this.callback(P)}},u.prototype._setTimeouts=function(){var E=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){E._timeoutError("Timeout of ",E._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){E._timeoutError("Response timeout of ",E._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},81097:(j,l,e)=>{"use strict";var n=e(64506);j.exports=c;function c(v){if(v)return u(v)}function u(v){for(var O in c.prototype)Object.prototype.hasOwnProperty.call(c.prototype,O)&&(v[O]=c.prototype[O]);return v}c.prototype.get=function(v){return this.header[v.toLowerCase()]},c.prototype._setHeaderProperties=function(v){var O=v["content-type"]||"";this.type=n.type(O);var y=n.params(O);for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(this[E]=y[E]);this.links={};try{v.link&&(this.links=n.parseLinks(v.link))}catch(d){}},c.prototype._setStatusProperties=function(v){var O=v/100|0;this.statusCode=v,this.status=this.statusCode,this.statusType=O,this.info=O===1,this.ok=O===2,this.redirect=O===3,this.clientError=O===4,this.serverError=O===5,this.error=O===4||O===5?this.toError():!1,this.created=v===201,this.accepted=v===202,this.noContent=v===204,this.badRequest=v===400,this.unauthorized=v===401,this.notAcceptable=v===406,this.forbidden=v===403,this.notFound=v===404,this.unprocessableEntity=v===422}},64506:(j,l)=>{"use strict";function e(u,v){var O;if(typeof Symbol=="undefined"||u[Symbol.iterator]==null){if(Array.isArray(u)||(O=n(u))||v&&u&&typeof u.length=="number"){O&&(u=O);var y=0,E=function(){};return{s:E,n:function(){return y>=u.length?{done:!0}:{done:!1,value:u[y++]}},e:function(T){throw T},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d=!0,g=!1,P;return{s:function(){O=u[Symbol.iterator]()},n:function(){var T=O.next();return d=T.done,T},e:function(T){g=!0,P=T},f:function(){try{!d&&O.return!=null&&O.return()}finally{if(g)throw P}}}}function n(u,v){if(u){if(typeof u=="string")return c(u,v);var O=Object.prototype.toString.call(u).slice(8,-1);if(O==="Object"&&u.constructor&&(O=u.constructor.name),O==="Map"||O==="Set")return Array.from(u);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return c(u,v)}}function c(u,v){(v==null||v>u.length)&&(v=u.length);for(var O=0,y=new Array(v);O<v;O++)y[O]=u[O];return y}l.type=function(u){return u.split(/ *; */).shift()},l.params=function(u){var v={},O=e(u.split(/ *; */)),y;try{for(O.s();!(y=O.n()).done;){var E=y.value,d=E.split(/ *= */),g=d.shift(),P=d.shift();g&&P&&(v[g]=P)}}catch(S){O.e(S)}finally{O.f()}return v},l.parseLinks=function(u){var v={},O=e(u.split(/ *, */)),y;try{for(O.s();!(y=O.n()).done;){var E=y.value,d=E.split(/ *; */),g=d[0].slice(1,-1),P=d[1].split(/ *= */)[1].slice(1,-1);v[P]=g}}catch(S){O.e(S)}finally{O.f()}return v},l.cleanHeader=function(u,v){return delete u["content-type"],delete u["content-length"],delete u["transfer-encoding"],delete u.host,v&&(delete u.authorization,delete u.cookie),u}},52511:function(j,l,e){j=e.nmd(j);var n;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(c){var u=l&&!l.nodeType&&l,v=j&&!j.nodeType&&j,O=typeof e.g=="object"&&e.g;(O.global===O||O.window===O||O.self===O)&&(c=O);var y,E=2147483647,d=36,g=1,P=26,S=38,T=700,C=72,p=128,i="-",s=/^xn--/,_=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=d-g,N=Math.floor,I=String.fromCharCode,A;function M(J){throw new RangeError(x[J])}function R(J,te){for(var ie=J.length,se=[];ie--;)se[ie]=te(J[ie]);return se}function F(J,te){var ie=J.split("@"),se="";ie.length>1&&(se=ie[0]+"@",J=ie[1]),J=J.replace(w,".");var W=J.split("."),z=R(W,te).join(".");return se+z}function Z(J){for(var te=[],ie=0,se=J.length,W,z;ie<se;)W=J.charCodeAt(ie++),W>=55296&&W<=56319&&ie<se?(z=J.charCodeAt(ie++),(z&64512)==56320?te.push(((W&1023)<<10)+(z&1023)+65536):(te.push(W),ie--)):te.push(W);return te}function V(J){return R(J,function(te){var ie="";return te>65535&&(te-=65536,ie+=I(te>>>10&1023|55296),te=56320|te&1023),ie+=I(te),ie}).join("")}function G(J){return J-48<10?J-22:J-65<26?J-65:J-97<26?J-97:d}function $(J,te){return J+22+75*(J<26)-((te!=0)<<5)}function K(J,te,ie){var se=0;for(J=ie?N(J/T):J>>1,J+=N(J/te);J>D*P>>1;se+=d)J=N(J/D);return N(se+(D+1)*J/(J+S))}function H(J){var te=[],ie=J.length,se,W=0,z=p,Q=C,oe,ne,ae,le,ue,fe,he,be,ve;for(oe=J.lastIndexOf(i),oe<0&&(oe=0),ne=0;ne<oe;++ne)J.charCodeAt(ne)>=128&&M("not-basic"),te.push(J.charCodeAt(ne));for(ae=oe>0?oe+1:0;ae<ie;){for(le=W,ue=1,fe=d;ae>=ie&&M("invalid-input"),he=G(J.charCodeAt(ae++)),(he>=d||he>N((E-W)/ue))&&M("overflow"),W+=he*ue,be=fe<=Q?g:fe>=Q+P?P:fe-Q,!(he<be);fe+=d)ve=d-be,ue>N(E/ve)&&M("overflow"),ue*=ve;se=te.length+1,Q=K(W-le,se,le==0),N(W/se)>E-z&&M("overflow"),z+=N(W/se),W%=se,te.splice(W++,0,z)}return V(te)}function re(J){var te,ie,se,W,z,Q,oe,ne,ae,le,ue,fe=[],he,be,ve,Te;for(J=Z(J),he=J.length,te=p,ie=0,z=C,Q=0;Q<he;++Q)ue=J[Q],ue<128&&fe.push(I(ue));for(se=W=fe.length,W&&fe.push(i);se<he;){for(oe=E,Q=0;Q<he;++Q)ue=J[Q],ue>=te&&ue<oe&&(oe=ue);for(be=se+1,oe-te>N((E-ie)/be)&&M("overflow"),ie+=(oe-te)*be,te=oe,Q=0;Q<he;++Q)if(ue=J[Q],ue<te&&++ie>E&&M("overflow"),ue==te){for(ne=ie,ae=d;le=ae<=z?g:ae>=z+P?P:ae-z,!(ne<le);ae+=d)Te=ne-le,ve=d-le,fe.push(I($(le+Te%ve,0))),ne=N(Te/ve);fe.push(I($(ne,0))),z=K(ie,be,se==W),ie=0,++se}++ie,++te}return fe.join("")}function ee(J){return F(J,function(te){return s.test(te)?H(te.slice(4).toLowerCase()):te})}function Y(J){return F(J,function(te){return _.test(te)?"xn--"+re(te):te})}y={version:"1.4.1",ucs2:{decode:Z,encode:V},decode:H,encode:re,toASCII:Y,toUnicode:ee},n=function(){return y}.call(l,e,l,j),n!==void 0&&(j.exports=n)})(this)},39532:j=>{"use strict";var l=String.prototype.replace,e=/%20/g,n={RFC1738:"RFC1738",RFC3986:"RFC3986"};j.exports={default:n.RFC3986,formatters:{RFC1738:function(c){return l.call(c,e,"+")},RFC3986:function(c){return String(c)}},RFC1738:n.RFC1738,RFC3986:n.RFC3986}},35984:(j,l,e)=>{"use strict";var n=e(24730),c=e(7325),u=e(39532);j.exports={formats:u,parse:c,stringify:n}},7325:(j,l,e)=>{"use strict";var n=e(19368),c=Object.prototype.hasOwnProperty,u=Array.isArray,v={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},O=function(C){return C.replace(/&#(\d+);/g,function(p,i){return String.fromCharCode(parseInt(i,10))})},y=function(C,p){return C&&typeof C=="string"&&p.comma&&C.indexOf(",")>-1?C.split(","):C},E="utf8=%26%2310003%3B",d="utf8=%E2%9C%93",g=function(p,i){var s={__proto__:null},_=i.ignoreQueryPrefix?p.replace(/^\?/,""):p,w=i.parameterLimit===1/0?void 0:i.parameterLimit,x=_.split(i.delimiter,w),D=-1,N,I=i.charset;if(i.charsetSentinel)for(N=0;N<x.length;++N)x[N].indexOf("utf8=")===0&&(x[N]===d?I="utf-8":x[N]===E&&(I="iso-8859-1"),D=N,N=x.length);for(N=0;N<x.length;++N)if(N!==D){var A=x[N],M=A.indexOf("]="),R=M===-1?A.indexOf("="):M+1,F,Z;R===-1?(F=i.decoder(A,v.decoder,I,"key"),Z=i.strictNullHandling?null:""):(F=i.decoder(A.slice(0,R),v.decoder,I,"key"),Z=n.maybeMap(y(A.slice(R+1),i),function(V){return i.decoder(V,v.decoder,I,"value")})),Z&&i.interpretNumericEntities&&I==="iso-8859-1"&&(Z=O(Z)),A.indexOf("[]=")>-1&&(Z=u(Z)?[Z]:Z),c.call(s,F)?s[F]=n.combine(s[F],Z):s[F]=Z}return s},P=function(C,p,i,s){for(var _=s?p:y(p,i),w=C.length-1;w>=0;--w){var x,D=C[w];if(D==="[]"&&i.parseArrays)x=[].concat(_);else{x=i.plainObjects?Object.create(null):{};var N=D.charAt(0)==="["&&D.charAt(D.length-1)==="]"?D.slice(1,-1):D,I=parseInt(N,10);!i.parseArrays&&N===""?x={0:_}:!isNaN(I)&&D!==N&&String(I)===N&&I>=0&&i.parseArrays&&I<=i.arrayLimit?(x=[],x[I]=_):N!=="__proto__"&&(x[N]=_)}_=x}return _},S=function(p,i,s,_){if(p){var w=s.allowDots?p.replace(/\.([^.[]+)/g,"[$1]"):p,x=/(\[[^[\]]*])/,D=/(\[[^[\]]*])/g,N=s.depth>0&&x.exec(w),I=N?w.slice(0,N.index):w,A=[];if(I){if(!s.plainObjects&&c.call(Object.prototype,I)&&!s.allowPrototypes)return;A.push(I)}for(var M=0;s.depth>0&&(N=D.exec(w))!==null&&M<s.depth;){if(M+=1,!s.plainObjects&&c.call(Object.prototype,N[1].slice(1,-1))&&!s.allowPrototypes)return;A.push(N[1])}return N&&A.push("["+w.slice(N.index)+"]"),P(A,i,s,_)}},T=function(p){if(!p)return v;if(p.decoder!==null&&p.decoder!==void 0&&typeof p.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof p.charset!="undefined"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=typeof p.charset=="undefined"?v.charset:p.charset;return{allowDots:typeof p.allowDots=="undefined"?v.allowDots:!!p.allowDots,allowPrototypes:typeof p.allowPrototypes=="boolean"?p.allowPrototypes:v.allowPrototypes,allowSparse:typeof p.allowSparse=="boolean"?p.allowSparse:v.allowSparse,arrayLimit:typeof p.arrayLimit=="number"?p.arrayLimit:v.arrayLimit,charset:i,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:v.charsetSentinel,comma:typeof p.comma=="boolean"?p.comma:v.comma,decoder:typeof p.decoder=="function"?p.decoder:v.decoder,delimiter:typeof p.delimiter=="string"||n.isRegExp(p.delimiter)?p.delimiter:v.delimiter,depth:typeof p.depth=="number"||p.depth===!1?+p.depth:v.depth,ignoreQueryPrefix:p.ignoreQueryPrefix===!0,interpretNumericEntities:typeof p.interpretNumericEntities=="boolean"?p.interpretNumericEntities:v.interpretNumericEntities,parameterLimit:typeof p.parameterLimit=="number"?p.parameterLimit:v.parameterLimit,parseArrays:p.parseArrays!==!1,plainObjects:typeof p.plainObjects=="boolean"?p.plainObjects:v.plainObjects,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:v.strictNullHandling}};j.exports=function(C,p){var i=T(p);if(C===""||C===null||typeof C=="undefined")return i.plainObjects?Object.create(null):{};for(var s=typeof C=="string"?g(C,i):C,_=i.plainObjects?Object.create(null):{},w=Object.keys(s),x=0;x<w.length;++x){var D=w[x],N=S(D,s[D],i,typeof C=="string");_=n.merge(_,N,i)}return i.allowSparse===!0?_:n.compact(_)}},24730:(j,l,e)=>{"use strict";var n=e(37478),c=e(19368),u=e(39532),v=Object.prototype.hasOwnProperty,O={brackets:function(_){return _+"[]"},comma:"comma",indices:function(_,w){return _+"["+w+"]"},repeat:function(_){return _}},y=Array.isArray,E=Array.prototype.push,d=function(s,_){E.apply(s,y(_)?_:[_])},g=Date.prototype.toISOString,P=u.default,S={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:c.encode,encodeValuesOnly:!1,format:P,formatter:u.formatters[P],indices:!1,serializeDate:function(_){return g.call(_)},skipNulls:!1,strictNullHandling:!1},T=function(_){return typeof _=="string"||typeof _=="number"||typeof _=="boolean"||typeof _=="symbol"||typeof _=="bigint"},C={},p=function s(_,w,x,D,N,I,A,M,R,F,Z,V,G,$,K,H){for(var re=_,ee=H,Y=0,J=!1;(ee=ee.get(C))!==void 0&&!J;){var te=ee.get(_);if(Y+=1,typeof te!="undefined"){if(te===Y)throw new RangeError("Cyclic object value");J=!0}typeof ee.get(C)=="undefined"&&(Y=0)}if(typeof M=="function"?re=M(w,re):re instanceof Date?re=Z(re):x==="comma"&&y(re)&&(re=c.maybeMap(re,function(fe){return fe instanceof Date?Z(fe):fe})),re===null){if(N)return A&&!$?A(w,S.encoder,K,"key",V):w;re=""}if(T(re)||c.isBuffer(re)){if(A){var ie=$?w:A(w,S.encoder,K,"key",V);return[G(ie)+"="+G(A(re,S.encoder,K,"value",V))]}return[G(w)+"="+G(String(re))]}var se=[];if(typeof re=="undefined")return se;var W;if(x==="comma"&&y(re))$&&A&&(re=c.maybeMap(re,A)),W=[{value:re.length>0?re.join(",")||null:void 0}];else if(y(M))W=M;else{var z=Object.keys(re);W=R?z.sort(R):z}for(var Q=D&&y(re)&&re.length===1?w+"[]":w,oe=0;oe<W.length;++oe){var ne=W[oe],ae=typeof ne=="object"&&typeof ne.value!="undefined"?ne.value:re[ne];if(!(I&&ae===null)){var le=y(re)?typeof x=="function"?x(Q,ne):Q:Q+(F?"."+ne:"["+ne+"]");H.set(_,Y);var ue=n();ue.set(C,H),d(se,s(ae,le,x,D,N,I,x==="comma"&&$&&y(re)?null:A,M,R,F,Z,V,G,$,K,ue))}}return se},i=function(_){if(!_)return S;if(_.encoder!==null&&typeof _.encoder!="undefined"&&typeof _.encoder!="function")throw new TypeError("Encoder has to be a function.");var w=_.charset||S.charset;if(typeof _.charset!="undefined"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var x=u.default;if(typeof _.format!="undefined"){if(!v.call(u.formatters,_.format))throw new TypeError("Unknown format option provided.");x=_.format}var D=u.formatters[x],N=S.filter;return(typeof _.filter=="function"||y(_.filter))&&(N=_.filter),{addQueryPrefix:typeof _.addQueryPrefix=="boolean"?_.addQueryPrefix:S.addQueryPrefix,allowDots:typeof _.allowDots=="undefined"?S.allowDots:!!_.allowDots,charset:w,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:S.charsetSentinel,delimiter:typeof _.delimiter=="undefined"?S.delimiter:_.delimiter,encode:typeof _.encode=="boolean"?_.encode:S.encode,encoder:typeof _.encoder=="function"?_.encoder:S.encoder,encodeValuesOnly:typeof _.encodeValuesOnly=="boolean"?_.encodeValuesOnly:S.encodeValuesOnly,filter:N,format:x,formatter:D,serializeDate:typeof _.serializeDate=="function"?_.serializeDate:S.serializeDate,skipNulls:typeof _.skipNulls=="boolean"?_.skipNulls:S.skipNulls,sort:typeof _.sort=="function"?_.sort:null,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:S.strictNullHandling}};j.exports=function(s,_){var w=s,x=i(_),D,N;typeof x.filter=="function"?(N=x.filter,w=N("",w)):y(x.filter)&&(N=x.filter,D=N);var I=[];if(typeof w!="object"||w===null)return"";var A;_&&_.arrayFormat in O?A=_.arrayFormat:_&&"indices"in _?A=_.indices?"indices":"repeat":A="indices";var M=O[A];if(_&&"commaRoundTrip"in _&&typeof _.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var R=M==="comma"&&_&&_.commaRoundTrip;D||(D=Object.keys(w)),x.sort&&D.sort(x.sort);for(var F=n(),Z=0;Z<D.length;++Z){var V=D[Z];x.skipNulls&&w[V]===null||d(I,p(w[V],V,M,R,x.strictNullHandling,x.skipNulls,x.encode?x.encoder:null,x.filter,x.sort,x.allowDots,x.serializeDate,x.format,x.formatter,x.encodeValuesOnly,x.charset,F))}var G=I.join(x.delimiter),$=x.addQueryPrefix===!0?"?":"";return x.charsetSentinel&&(x.charset==="iso-8859-1"?$+="utf8=%26%2310003%3B&":$+="utf8=%E2%9C%93&"),G.length>0?$+G:""}},19368:(j,l,e)=>{"use strict";var n=e(39532),c=Object.prototype.hasOwnProperty,u=Array.isArray,v=function(){for(var s=[],_=0;_<256;++_)s.push("%"+((_<16?"0":"")+_.toString(16)).toUpperCase());return s}(),O=function(_){for(;_.length>1;){var w=_.pop(),x=w.obj[w.prop];if(u(x)){for(var D=[],N=0;N<x.length;++N)typeof x[N]!="undefined"&&D.push(x[N]);w.obj[w.prop]=D}}},y=function(_,w){for(var x=w&&w.plainObjects?Object.create(null):{},D=0;D<_.length;++D)typeof _[D]!="undefined"&&(x[D]=_[D]);return x},E=function s(_,w,x){if(!w)return _;if(typeof w!="object"){if(u(_))_.push(w);else if(_&&typeof _=="object")(x&&(x.plainObjects||x.allowPrototypes)||!c.call(Object.prototype,w))&&(_[w]=!0);else return[_,w];return _}if(!_||typeof _!="object")return[_].concat(w);var D=_;return u(_)&&!u(w)&&(D=y(_,x)),u(_)&&u(w)?(w.forEach(function(N,I){if(c.call(_,I)){var A=_[I];A&&typeof A=="object"&&N&&typeof N=="object"?_[I]=s(A,N,x):_.push(N)}else _[I]=N}),_):Object.keys(w).reduce(function(N,I){var A=w[I];return c.call(N,I)?N[I]=s(N[I],A,x):N[I]=A,N},D)},d=function(_,w){return Object.keys(w).reduce(function(x,D){return x[D]=w[D],x},_)},g=function(s,_,w){var x=s.replace(/\+/g," ");if(w==="iso-8859-1")return x.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(x)}catch(D){return x}},P=function(_,w,x,D,N){if(_.length===0)return _;var I=_;if(typeof _=="symbol"?I=Symbol.prototype.toString.call(_):typeof _!="string"&&(I=String(_)),x==="iso-8859-1")return escape(I).replace(/%u[0-9a-f]{4}/gi,function(F){return"%26%23"+parseInt(F.slice(2),16)+"%3B"});for(var A="",M=0;M<I.length;++M){var R=I.charCodeAt(M);if(R===45||R===46||R===95||R===126||R>=48&&R<=57||R>=65&&R<=90||R>=97&&R<=122||N===n.RFC1738&&(R===40||R===41)){A+=I.charAt(M);continue}if(R<128){A=A+v[R];continue}if(R<2048){A=A+(v[192|R>>6]+v[128|R&63]);continue}if(R<55296||R>=57344){A=A+(v[224|R>>12]+v[128|R>>6&63]+v[128|R&63]);continue}M+=1,R=65536+((R&1023)<<10|I.charCodeAt(M)&1023),A+=v[240|R>>18]+v[128|R>>12&63]+v[128|R>>6&63]+v[128|R&63]}return A},S=function(_){for(var w=[{obj:{o:_},prop:"o"}],x=[],D=0;D<w.length;++D)for(var N=w[D],I=N.obj[N.prop],A=Object.keys(I),M=0;M<A.length;++M){var R=A[M],F=I[R];typeof F=="object"&&F!==null&&x.indexOf(F)===-1&&(w.push({obj:I,prop:R}),x.push(F))}return O(w),_},T=function(_){return Object.prototype.toString.call(_)==="[object RegExp]"},C=function(_){return!_||typeof _!="object"?!1:!!(_.constructor&&_.constructor.isBuffer&&_.constructor.isBuffer(_))},p=function(_,w){return[].concat(_,w)},i=function(_,w){if(u(_)){for(var x=[],D=0;D<_.length;D+=1)x.push(w(_[D]));return x}return w(_)};j.exports={arrayToObject:y,assign:d,combine:p,compact:S,decode:g,encode:P,isBuffer:C,isRegExp:T,maybeMap:i,merge:E}},8575:(j,l,e)=>{"use strict";var n=e(52511);function c(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var u=/^([a-z0-9.+-]+:)/i,v=/:[0-9]*$/,O=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,y=["<",">",'"',"`"," ","\r",`
`,"	"],E=["{","}","|","\\","^","`"].concat(y),d=["'"].concat(E),g=["%","/","?",";","#"].concat(d),P=["/","?","#"],S=255,T=/^[+a-z0-9A-Z_-]{0,63}$/,C=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},i={javascript:!0,"javascript:":!0},s={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=e(35984);function w(I,A,M){if(I&&typeof I=="object"&&I instanceof c)return I;var R=new c;return R.parse(I,A,M),R}c.prototype.parse=function(I,A,M){if(typeof I!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof I);var R=I.indexOf("?"),F=R!==-1&&R<I.indexOf("#")?"?":"#",Z=I.split(F),V=/\\/g;Z[0]=Z[0].replace(V,"/"),I=Z.join(F);var G=I;if(G=G.trim(),!M&&I.split("#").length===1){var $=O.exec(G);if($)return this.path=G,this.href=G,this.pathname=$[1],$[2]?(this.search=$[2],A?this.query=_.parse(this.search.substr(1)):this.query=this.search.substr(1)):A&&(this.search="",this.query={}),this}var K=u.exec(G);if(K){K=K[0];var H=K.toLowerCase();this.protocol=H,G=G.substr(K.length)}if(M||K||G.match(/^\/\/[^@/]+@[^@/]+/)){var re=G.substr(0,2)==="//";re&&!(K&&i[K])&&(G=G.substr(2),this.slashes=!0)}if(!i[K]&&(re||K&&!s[K])){for(var ee=-1,Y=0;Y<P.length;Y++){var J=G.indexOf(P[Y]);J!==-1&&(ee===-1||J<ee)&&(ee=J)}var te,ie;ee===-1?ie=G.lastIndexOf("@"):ie=G.lastIndexOf("@",ee),ie!==-1&&(te=G.slice(0,ie),G=G.slice(ie+1),this.auth=decodeURIComponent(te)),ee=-1;for(var Y=0;Y<g.length;Y++){var J=G.indexOf(g[Y]);J!==-1&&(ee===-1||J<ee)&&(ee=J)}ee===-1&&(ee=G.length),this.host=G.slice(0,ee),G=G.slice(ee),this.parseHost(),this.hostname=this.hostname||"";var se=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!se)for(var W=this.hostname.split(/\./),Y=0,z=W.length;Y<z;Y++){var Q=W[Y];if(Q&&!Q.match(T)){for(var oe="",ne=0,ae=Q.length;ne<ae;ne++)Q.charCodeAt(ne)>127?oe+="x":oe+=Q[ne];if(!oe.match(T)){var le=W.slice(0,Y),ue=W.slice(Y+1),fe=Q.match(C);fe&&(le.push(fe[1]),ue.unshift(fe[2])),ue.length&&(G="/"+ue.join(".")+G),this.hostname=le.join(".");break}}}this.hostname.length>S?this.hostname="":this.hostname=this.hostname.toLowerCase(),se||(this.hostname=n.toASCII(this.hostname));var he=this.port?":"+this.port:"",be=this.hostname||"";this.host=be+he,this.href+=this.host,se&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),G[0]!=="/"&&(G="/"+G))}if(!p[H])for(var Y=0,z=d.length;Y<z;Y++){var ve=d[Y];if(G.indexOf(ve)!==-1){var Te=encodeURIComponent(ve);Te===ve&&(Te=escape(ve)),G=G.split(ve).join(Te)}}var we=G.indexOf("#");we!==-1&&(this.hash=G.substr(we),G=G.slice(0,we));var Se=G.indexOf("?");if(Se!==-1?(this.search=G.substr(Se),this.query=G.substr(Se+1),A&&(this.query=_.parse(this.query)),G=G.slice(0,Se)):A&&(this.search="",this.query={}),G&&(this.pathname=G),s[H]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var he=this.pathname||"",We=this.search||"";this.path=he+We}return this.href=this.format(),this};function x(I){return typeof I=="string"&&(I=w(I)),I instanceof c?I.format():c.prototype.format.call(I)}c.prototype.format=function(){var I=this.auth||"";I&&(I=encodeURIComponent(I),I=I.replace(/%3A/i,":"),I+="@");var A=this.protocol||"",M=this.pathname||"",R=this.hash||"",F=!1,Z="";this.host?F=I+this.host:this.hostname&&(F=I+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(F+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(Z=_.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var V=this.search||Z&&"?"+Z||"";return A&&A.substr(-1)!==":"&&(A+=":"),this.slashes||(!A||s[A])&&F!==!1?(F="//"+(F||""),M&&M.charAt(0)!=="/"&&(M="/"+M)):F||(F=""),R&&R.charAt(0)!=="#"&&(R="#"+R),V&&V.charAt(0)!=="?"&&(V="?"+V),M=M.replace(/[?#]/g,function(G){return encodeURIComponent(G)}),V=V.replace("#","%23"),A+F+M+V+R};function D(I,A){return w(I,!1,!0).resolve(A)}c.prototype.resolve=function(I){return this.resolveObject(w(I,!1,!0)).format()};function N(I,A){return I?w(I,!1,!0).resolveObject(A):A}c.prototype.resolveObject=function(I){if(typeof I=="string"){var A=new c;A.parse(I,!1,!0),I=A}for(var M=new c,R=Object.keys(this),F=0;F<R.length;F++){var Z=R[F];M[Z]=this[Z]}if(M.hash=I.hash,I.href==="")return M.href=M.format(),M;if(I.slashes&&!I.protocol){for(var V=Object.keys(I),G=0;G<V.length;G++){var $=V[G];$!=="protocol"&&(M[$]=I[$])}return s[M.protocol]&&M.hostname&&!M.pathname&&(M.pathname="/",M.path=M.pathname),M.href=M.format(),M}if(I.protocol&&I.protocol!==M.protocol){if(!s[I.protocol]){for(var K=Object.keys(I),H=0;H<K.length;H++){var re=K[H];M[re]=I[re]}return M.href=M.format(),M}if(M.protocol=I.protocol,!I.host&&!i[I.protocol]){for(var z=(I.pathname||"").split("/");z.length&&!(I.host=z.shift()););I.host||(I.host=""),I.hostname||(I.hostname=""),z[0]!==""&&z.unshift(""),z.length<2&&z.unshift(""),M.pathname=z.join("/")}else M.pathname=I.pathname;if(M.search=I.search,M.query=I.query,M.host=I.host||"",M.auth=I.auth,M.hostname=I.hostname||I.host,M.port=I.port,M.pathname||M.search){var ee=M.pathname||"",Y=M.search||"";M.path=ee+Y}return M.slashes=M.slashes||I.slashes,M.href=M.format(),M}var J=M.pathname&&M.pathname.charAt(0)==="/",te=I.host||I.pathname&&I.pathname.charAt(0)==="/",ie=te||J||M.host&&I.pathname,se=ie,W=M.pathname&&M.pathname.split("/")||[],z=I.pathname&&I.pathname.split("/")||[],Q=M.protocol&&!s[M.protocol];if(Q&&(M.hostname="",M.port=null,M.host&&(W[0]===""?W[0]=M.host:W.unshift(M.host)),M.host="",I.protocol&&(I.hostname=null,I.port=null,I.host&&(z[0]===""?z[0]=I.host:z.unshift(I.host)),I.host=null),ie=ie&&(z[0]===""||W[0]==="")),te)M.host=I.host||I.host===""?I.host:M.host,M.hostname=I.hostname||I.hostname===""?I.hostname:M.hostname,M.search=I.search,M.query=I.query,W=z;else if(z.length)W||(W=[]),W.pop(),W=W.concat(z),M.search=I.search,M.query=I.query;else if(I.search!=null){if(Q){M.host=W.shift(),M.hostname=M.host;var oe=M.host&&M.host.indexOf("@")>0?M.host.split("@"):!1;oe&&(M.auth=oe.shift(),M.hostname=oe.shift(),M.host=M.hostname)}return M.search=I.search,M.query=I.query,(M.pathname!==null||M.search!==null)&&(M.path=(M.pathname?M.pathname:"")+(M.search?M.search:"")),M.href=M.format(),M}if(!W.length)return M.pathname=null,M.search?M.path="/"+M.search:M.path=null,M.href=M.format(),M;for(var ne=W.slice(-1)[0],ae=(M.host||I.host||W.length>1)&&(ne==="."||ne==="..")||ne==="",le=0,ue=W.length;ue>=0;ue--)ne=W[ue],ne==="."?W.splice(ue,1):ne===".."?(W.splice(ue,1),le++):le&&(W.splice(ue,1),le--);if(!ie&&!se)for(;le--;le)W.unshift("..");ie&&W[0]!==""&&(!W[0]||W[0].charAt(0)!=="/")&&W.unshift(""),ae&&W.join("/").substr(-1)!=="/"&&W.push("");var fe=W[0]===""||W[0]&&W[0].charAt(0)==="/";if(Q){M.hostname=fe?"":W.length?W.shift():"",M.host=M.hostname;var oe=M.host&&M.host.indexOf("@")>0?M.host.split("@"):!1;oe&&(M.auth=oe.shift(),M.hostname=oe.shift(),M.host=M.hostname)}return ie=ie||M.host&&W.length,ie&&!fe&&W.unshift(""),W.length>0?M.pathname=W.join("/"):(M.pathname=null,M.path=null),(M.pathname!==null||M.search!==null)&&(M.path=(M.pathname?M.pathname:"")+(M.search?M.search:"")),M.auth=I.auth||M.auth,M.slashes=M.slashes||I.slashes,M.href=M.format(),M},c.prototype.parseHost=function(){var I=this.host,A=v.exec(I);A&&(A=A[0],A!==":"&&(this.port=A.substr(1)),I=I.substr(0,I.length-A.length)),I&&(this.hostname=I)},l.parse=w,l.resolve=D,l.resolveObject=N,l.format=x,l.Url=c},53250:(j,l,e)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=e(98661);function c(T,C){return T===C&&(T!==0||1/T===1/C)||T!==T&&C!==C}var u=typeof Object.is=="function"?Object.is:c,v=n.useState,O=n.useEffect,y=n.useLayoutEffect,E=n.useDebugValue;function d(T,C){var p=C(),i=v({inst:{value:p,getSnapshot:C}}),s=i[0].inst,_=i[1];return y(function(){s.value=p,s.getSnapshot=C,g(s)&&_({inst:s})},[T,p,C]),O(function(){return g(s)&&_({inst:s}),T(function(){g(s)&&_({inst:s})})},[T]),E(p),p}function g(T){var C=T.getSnapshot;T=T.value;try{var p=C();return!u(T,p)}catch(i){return!0}}function P(T,C){return C()}var S=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?P:d;l.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:S},61688:(j,l,e)=>{"use strict";j.exports=e(53250)},45327:j=>{for(var l=[],e=0;e<256;++e)l[e]=(e+256).toString(16).substr(1);function n(c,u){var v=u||0,O=l;return O[c[v++]]+O[c[v++]]+O[c[v++]]+O[c[v++]]+"-"+O[c[v++]]+O[c[v++]]+"-"+O[c[v++]]+O[c[v++]]+"-"+O[c[v++]]+O[c[v++]]+"-"+O[c[v++]]+O[c[v++]]+O[c[v++]]+O[c[v++]]+O[c[v++]]+O[c[v++]]}j.exports=n},85217:j=>{var l=typeof crypto!="undefined"&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&msCrypto.getRandomValues.bind(msCrypto);if(l){var e=new Uint8Array(16);j.exports=function(){return l(e),e}}else{var n=new Array(16);j.exports=function(){for(var u=0,v;u<16;u++)u&3||(v=Math.random()*4294967296),n[u]=v>>>((u&3)<<3)&255;return n}}},71171:(j,l,e)=>{var n=e(85217),c=e(45327);function u(v,O,y){var E=O&&y||0;typeof v=="string"&&(O=v==="binary"?new Array(16):null,v=null),v=v||{};var d=v.random||(v.rng||n)();if(d[6]=d[6]&15|64,d[8]=d[8]&63|128,O)for(var g=0;g<16;++g)O[E+g]=d[g];return O||c(d)}j.exports=u},93235:(j,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=v;var n=c(e(65571));function c(O){return O&&O.__esModule?O:{default:O}}function u(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(E){return typeof E}:u=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},u(O)}function v(O,y){(0,n.default)(O);var E,d;u(y)==="object"?(E=y.min||0,d=y.max):(E=arguments[1],d=arguments[2]);var g=encodeURI(O).split(/%..|./).length-1;return g>=E&&(typeof d=="undefined"||g<=d)}j.exports=l.default,j.exports.default=l.default},83868:(j,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=s;var n=y(e(65571)),c=y(e(84808)),u=y(e(93235)),v=y(e(10221)),O=y(e(61028));function y(_){return _&&_.__esModule?_:{default:_}}var E={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},d=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,g=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,P=/^[a-z\d]+$/,S=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,T=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,C=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,p=254;function i(_){var w=_.replace(/^"(.+)"$/,"$1");if(!w.trim())return!1;var x=/[\.";<>]/.test(w);if(x){if(w===_)return!1;var D=w.split('"').length===w.split('\\"').length;if(!D)return!1}return!0}function s(_,w){if((0,n.default)(_),w=(0,c.default)(w,E),w.require_display_name||w.allow_display_name){var x=_.match(d);if(x){var D=x[1];if(_=_.replace(D,"").replace(/(^<|>$)/g,""),D.endsWith(" ")&&(D=D.substr(0,D.length-1)),!i(D))return!1}else if(w.require_display_name)return!1}if(!w.ignore_max_length&&_.length>p)return!1;var N=_.split("@"),I=N.pop(),A=I.toLowerCase();if(w.host_blacklist.includes(A))return!1;var M=N.join("@");if(w.domain_specific_validation&&(A==="gmail.com"||A==="googlemail.com")){M=M.toLowerCase();var R=M.split("+")[0];if(!(0,u.default)(R.replace(/\./g,""),{min:6,max:30}))return!1;for(var F=R.split("."),Z=0;Z<F.length;Z++)if(!P.test(F[Z]))return!1}if(w.ignore_max_length===!1&&(!(0,u.default)(M,{max:64})||!(0,u.default)(I,{max:254})))return!1;if(!(0,v.default)(I,{require_tld:w.require_tld})){if(!w.allow_ip_domain)return!1;if(!(0,O.default)(I)){if(!I.startsWith("[")||!I.endsWith("]"))return!1;var V=I.substr(1,I.length-2);if(V.length===0||!(0,O.default)(V))return!1}}if(M[0]==='"')return M=M.slice(1,M.length-1),w.allow_utf8_local_part?C.test(M):S.test(M);for(var G=w.allow_utf8_local_part?T:g,$=M.split("."),K=0;K<$.length;K++)if(!G.test($[K]))return!1;return!(w.blacklisted_chars&&M.search(new RegExp("[".concat(w.blacklisted_chars,"]+"),"g"))!==-1)}j.exports=l.default,j.exports.default=l.default},10221:(j,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=O;var n=u(e(65571)),c=u(e(84808));function u(y){return y&&y.__esModule?y:{default:y}}var v={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};function O(y,E){(0,n.default)(y),E=(0,c.default)(E,v),E.allow_trailing_dot&&y[y.length-1]==="."&&(y=y.substring(0,y.length-1)),E.allow_wildcard===!0&&y.indexOf("*.")===0&&(y=y.substring(2));var d=y.split("."),g=d[d.length-1];return E.require_tld&&(d.length<2||!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(g)||/\s/.test(g))||!E.allow_numeric_tld&&/^\d+$/.test(g)?!1:d.every(function(P){return!(P.length>63||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(P)||/[\uff01-\uff5e]/.test(P)||/^-|-$/.test(P)||!E.allow_underscores&&/_/.test(P))})}j.exports=l.default,j.exports.default=l.default},61028:(j,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=d;var n=c(e(65571));function c(g){return g&&g.__esModule?g:{default:g}}var u="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",v="(".concat(u,"[.]){3}").concat(u),O=new RegExp("^".concat(v,"$")),y="(?:[0-9a-fA-F]{1,4})",E=new RegExp("^("+"(?:".concat(y,":){7}(?:").concat(y,"|:)|")+"(?:".concat(y,":){6}(?:").concat(v,"|:").concat(y,"|:)|")+"(?:".concat(y,":){5}(?::").concat(v,"|(:").concat(y,"){1,2}|:)|")+"(?:".concat(y,":){4}(?:(:").concat(y,"){0,1}:").concat(v,"|(:").concat(y,"){1,3}|:)|")+"(?:".concat(y,":){3}(?:(:").concat(y,"){0,2}:").concat(v,"|(:").concat(y,"){1,4}|:)|")+"(?:".concat(y,":){2}(?:(:").concat(y,"){0,3}:").concat(v,"|(:").concat(y,"){1,5}|:)|")+"(?:".concat(y,":){1}(?:(:").concat(y,"){0,4}:").concat(v,"|(:").concat(y,"){1,6}|:)|")+"(?::((?::".concat(y,"){0,5}:").concat(v,"|(?::").concat(y,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function d(g){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if((0,n.default)(g),P=String(P),!P)return d(g,4)||d(g,6);if(P==="4"){if(!O.test(g))return!1;var S=g.split(".").sort(function(T,C){return T-C});return S[3]<=255}return P==="6"?!!E.test(g):!1}j.exports=l.default,j.exports.default=l.default},65571:(j,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=n;function e(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(v){return typeof v}:e=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},e(c)}function n(c){var u=typeof c=="string"||c instanceof String;if(!u){var v=e(c);throw c===null?v="null":v==="object"&&(v=c.constructor.name),new TypeError("Expected a string but received a ".concat(v))}}j.exports=l.default,j.exports.default=l.default},84808:(j,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=e;function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;for(var u in c)typeof n[u]=="undefined"&&(n[u]=c[u]);return n}j.exports=l.default,j.exports.default=l.default},24654:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{},18036:()=>{},62961:j=>{let l="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",e=(c,u=21)=>(v=u)=>{let O="",y=v;for(;y--;)O+=c[Math.random()*c.length|0];return O},n=(c=21)=>{let u="",v=c;for(;v--;)u+=l[Math.random()*64|0];return u};j.exports={nanoid:n,customAlphabet:e}},39516:(j,l,e)=>{"use strict";e.d(l,{d:()=>C,f:()=>g});var n=e(98661),c=e(19946),u=e(12351),v=e(16723),O=e(23784),y=e(73781);let E=(0,n.createContext)(null);function d(){let p=(0,n.useContext)(E);if(p===null){let i=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(i,d),i}return p}function g(){let[p,i]=(0,n.useState)([]);return[p.length>0?p.join(" "):void 0,(0,n.useMemo)(()=>function(s){let _=(0,y.z)(x=>(i(D=>[...D,x]),()=>i(D=>{let N=D.slice(),I=N.indexOf(x);return I!==-1&&N.splice(I,1),N}))),w=(0,n.useMemo)(()=>({register:_,slot:s.slot,name:s.name,props:s.props}),[_,s.slot,s.name,s.props]);return n.default.createElement(E.Provider,{value:w},s.children)},[i])]}let P="p";function S(p,i){let s=(0,c.M)(),I=p,{id:_=`headlessui-description-${s}`}=I,w=Or(I,["id"]),x=d(),D=(0,O.T)(i);(0,v.e)(()=>x.register(_),[_,x.register]);let N=no(or({ref:D},x.props),{id:_});return(0,u.sY)({ourProps:N,theirProps:w,slot:x.slot||{},defaultTag:P,name:x.name||"Description"})}let T=(0,u.yV)(S),C=Object.assign(T,{})},13599:(j,l,e)=>{"use strict";e.d(l,{V:()=>Kt});var n=e(98661),c=e(32984),u=e(12351),v=e(23784),O=e(61363),y=e(64103),E=e(19946),d=e(82180),g=e(46045),P=e(77896);function S(ke){return P.O.isServer?null:ke instanceof Node?ke.ownerDocument:ke!=null&&ke.hasOwnProperty("current")&&ke.current instanceof Node?ke.current.ownerDocument:document}let T=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(ke=>`${ke}:not([tabindex='-1'])`).join(",");var C=(ke=>(ke[ke.First=1]="First",ke[ke.Previous=2]="Previous",ke[ke.Next=4]="Next",ke[ke.Last=8]="Last",ke[ke.WrapAround=16]="WrapAround",ke[ke.NoScroll=32]="NoScroll",ke))(C||{}),p=(ke=>(ke[ke.Error=0]="Error",ke[ke.Overflow=1]="Overflow",ke[ke.Success=2]="Success",ke[ke.Underflow=3]="Underflow",ke))(p||{}),i=(ke=>(ke[ke.Previous=-1]="Previous",ke[ke.Next=1]="Next",ke))(i||{});function s(ke=document.body){return ke==null?[]:Array.from(ke.querySelectorAll(T)).sort((ot,ut)=>Math.sign((ot.tabIndex||Number.MAX_SAFE_INTEGER)-(ut.tabIndex||Number.MAX_SAFE_INTEGER)))}var _=(ke=>(ke[ke.Strict=0]="Strict",ke[ke.Loose=1]="Loose",ke))(_||{});function w(ke,ot=0){var ut;return ke===((ut=S(ke))==null?void 0:ut.body)?!1:(0,c.E)(ot,{[0](){return ke.matches(T)},[1](){let ht=ke;for(;ht!==null;){if(ht.matches(T))return!0;ht=ht.parentElement}return!1}})}function x(ke){let ot=m(ke);b().nextFrame(()=>{ot&&!w(ot.activeElement,0)&&N(ke)})}var D=(ke=>(ke[ke.Keyboard=0]="Keyboard",ke[ke.Mouse=1]="Mouse",ke))(D||{});typeof window!="undefined"&&typeof document!="undefined"&&(document.addEventListener("keydown",ke=>{ke.metaKey||ke.altKey||ke.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",ke=>{ke.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:ke.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function N(ke){ke==null||ke.focus({preventScroll:!0})}let I=["textarea","input"].join(",");function A(ke){var ot,ut;return(ut=(ot=ke==null?void 0:ke.matches)==null?void 0:ot.call(ke,I))!=null?ut:!1}function M(ke,ot=ut=>ut){return ke.slice().sort((ut,ht)=>{let Nt=ot(ut),Lt=ot(ht);if(Nt===null||Lt===null)return 0;let St=Nt.compareDocumentPosition(Lt);return St&Node.DOCUMENT_POSITION_FOLLOWING?-1:St&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function R(ke,ot){return F(s(),ot,{relativeTo:ke})}function F(ke,ot,{sorted:ut=!0,relativeTo:ht=null,skipElements:Nt=[]}={}){let Lt=Array.isArray(ke)?ke.length>0?ke[0].ownerDocument:document:ke.ownerDocument,St=Array.isArray(ke)?ut?M(ke):ke:s(ke);Nt.length>0&&St.length>1&&(St=St.filter(mn=>!Nt.includes(mn))),ht=ht!=null?ht:Lt.activeElement;let Ft=(()=>{if(ot&5)return 1;if(ot&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),nn=(()=>{if(ot&1)return 0;if(ot&2)return Math.max(0,St.indexOf(ht))-1;if(ot&4)return Math.max(0,St.indexOf(ht))+1;if(ot&8)return St.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),yn=ot&32?{preventScroll:!0}:{},gn=0,Sn=St.length,sn;do{if(gn>=Sn||gn+Sn<=0)return 0;let mn=nn+gn;if(ot&16)mn=(mn+Sn)%Sn;else{if(mn<0)return 3;if(mn>=Sn)return 1}sn=St[mn],sn==null||sn.focus(yn),gn+=Ft}while(sn!==Lt.activeElement);return ot&6&&A(sn)&&sn.select(),2}var Z=e(73781),V=e(3855);function G(ke,ot,ut){let ht=(0,V.E)(ot);(0,n.useEffect)(()=>{function Nt(Lt){ht.current(Lt)}return window.addEventListener(ke,Nt,ut),()=>window.removeEventListener(ke,Nt,ut)},[ke,ut])}var $=(ke=>(ke[ke.Forwards=0]="Forwards",ke[ke.Backwards=1]="Backwards",ke))($||{});function K(){let ke=(0,n.useRef)(0);return G("keydown",ot=>{ot.key==="Tab"&&(ke.current=ot.shiftKey?1:0)},!0),ke}var H=e(14879);function re(...ke){return(0,n.useMemo)(()=>S(...ke),[...ke])}function ee(ke,ot,ut,ht){let Nt=(0,V.E)(ut);(0,n.useEffect)(()=>{ke=ke!=null?ke:window;function Lt(St){Nt.current(St)}return ke.addEventListener(ot,Lt,ht),()=>ke.removeEventListener(ot,Lt,ht)},[ke,ot,ht])}var Y=e(81021);function J(ke,ot){let ut=(0,n.useRef)([]),ht=(0,Z.z)(ke);(0,n.useEffect)(()=>{let Nt=[...ut.current];for(let[Lt,St]of ot.entries())if(ut.current[Lt]!==St){let Ft=ht(ot,Nt);return ut.current=ot,Ft}},[ht,...ot])}var te=e(94192);function ie(ke){function ot(){document.readyState!=="loading"&&(ke(),document.removeEventListener("DOMContentLoaded",ot))}typeof window!="undefined"&&typeof document!="undefined"&&(document.addEventListener("DOMContentLoaded",ot),ot())}function se(ke){let ot=(0,Z.z)(ke),ut=(0,n.useRef)(!1);(0,n.useEffect)(()=>(ut.current=!1,()=>{ut.current=!0,(0,Y.Y)(()=>{ut.current&&ot()})}),[ot])}function W(ke){if(!ke)return new Set;if(typeof ke=="function")return new Set(ke());let ot=new Set;for(let ut of ke.current)ut.current instanceof HTMLElement&&ot.add(ut.current);return ot}let z="div";var Q=(ke=>(ke[ke.None=1]="None",ke[ke.InitialFocus=2]="InitialFocus",ke[ke.TabLock=4]="TabLock",ke[ke.FocusLock=8]="FocusLock",ke[ke.RestoreFocus=16]="RestoreFocus",ke[ke.All=30]="All",ke))(Q||{});function oe(ke,ot){let ut=(0,n.useRef)(null),ht=(0,v.T)(ut,ot),fr=ke,{initialFocus:Nt,containers:Lt,features:St=30}=fr,Ft=Or(fr,["initialFocus","containers","features"]);(0,d.H)()||(St=1);let nn=re(ut);fe({ownerDocument:nn},!!(St&16));let yn=he({ownerDocument:nn,container:ut,initialFocus:Nt},!!(St&2));be({ownerDocument:nn,container:ut,containers:Lt,previousActiveElement:yn},!!(St&8));let gn=K(),Sn=(0,Z.z)(vr=>{let ir=ut.current;ir&&(Qn=>Qn())(()=>{(0,c.E)(gn.current,{[$.Forwards]:()=>{F(ir,C.First,{skipElements:[vr.relatedTarget]})},[$.Backwards]:()=>{F(ir,C.Last,{skipElements:[vr.relatedTarget]})}})})}),sn=(0,te.G)(),mn=(0,n.useRef)(!1),Pr={ref:ht,onKeyDown(vr){vr.key=="Tab"&&(mn.current=!0,sn.requestAnimationFrame(()=>{mn.current=!1}))},onBlur(vr){let ir=W(Lt);ut.current instanceof HTMLElement&&ir.add(ut.current);let Qn=vr.relatedTarget;Qn instanceof HTMLElement&&Qn.dataset.headlessuiFocusGuard!=="true"&&(ve(ir,Qn)||(mn.current?F(ut.current,(0,c.E)(gn.current,{[$.Forwards]:()=>C.Next,[$.Backwards]:()=>C.Previous})|C.WrapAround,{relativeTo:vr.target}):vr.target instanceof HTMLElement&&N(vr.target)))}};return n.default.createElement(n.default.Fragment,null,!!(St&4)&&n.default.createElement(g._,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:Sn,features:g.A.Focusable}),(0,u.sY)({ourProps:Pr,theirProps:Ft,defaultTag:z,name:"FocusTrap"}),!!(St&4)&&n.default.createElement(g._,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:Sn,features:g.A.Focusable}))}let ne=(0,u.yV)(oe),ae=Object.assign(ne,{features:Q}),le=[];ie(()=>{function ke(ot){ot.target instanceof HTMLElement&&ot.target!==document.body&&le[0]!==ot.target&&(le.unshift(ot.target),le=le.filter(ut=>ut!=null&&ut.isConnected),le.splice(10))}window.addEventListener("click",ke,{capture:!0}),window.addEventListener("mousedown",ke,{capture:!0}),window.addEventListener("focus",ke,{capture:!0}),document.body.addEventListener("click",ke,{capture:!0}),document.body.addEventListener("mousedown",ke,{capture:!0}),document.body.addEventListener("focus",ke,{capture:!0})});function ue(ke=!0){let ot=(0,n.useRef)(le.slice());return J(([ut],[ht])=>{ht===!0&&ut===!1&&(0,Y.Y)(()=>{ot.current.splice(0)}),ht===!1&&ut===!0&&(ot.current=le.slice())},[ke,le,ot]),(0,Z.z)(()=>{var ut;return(ut=ot.current.find(ht=>ht!=null&&ht.isConnected))!=null?ut:null})}function fe({ownerDocument:ke},ot){let ut=ue(ot);J(()=>{ot||(ke==null?void 0:ke.activeElement)===(ke==null?void 0:ke.body)&&N(ut())},[ot]),se(()=>{ot&&N(ut())})}function he({ownerDocument:ke,container:ot,initialFocus:ut},ht){let Nt=(0,n.useRef)(null),Lt=(0,H.t)();return J(()=>{if(!ht)return;let St=ot.current;St&&(0,Y.Y)(()=>{if(!Lt.current)return;let Ft=ke==null?void 0:ke.activeElement;if(ut!=null&&ut.current){if((ut==null?void 0:ut.current)===Ft){Nt.current=Ft;return}}else if(St.contains(Ft)){Nt.current=Ft;return}ut!=null&&ut.current?N(ut.current):F(St,C.First)===p.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),Nt.current=ke==null?void 0:ke.activeElement})},[ht]),Nt}function be({ownerDocument:ke,container:ot,containers:ut,previousActiveElement:ht},Nt){let Lt=(0,H.t)();ee(ke==null?void 0:ke.defaultView,"focus",St=>{if(!Nt||!Lt.current)return;let Ft=W(ut);ot.current instanceof HTMLElement&&Ft.add(ot.current);let nn=ht.current;if(!nn)return;let yn=St.target;yn&&yn instanceof HTMLElement?ve(Ft,yn)?(ht.current=yn,N(yn)):(St.preventDefault(),St.stopPropagation(),N(nn)):N(ht.current)},!0)}function ve(ke,ot){for(let ut of ke)if(ut.contains(ot))return!0;return!1}var Te=e(16723);let we=(0,n.createContext)(!1);function Se(){return(0,n.useContext)(we)}function We(ke){return n.default.createElement(we.Provider,{value:ke.force},ke.children)}function Ae(ke){let ot=Se(),ut=(0,n.useContext)(_e),ht=re(ke),[Nt,Lt]=(0,n.useState)(()=>{if(!ot&&ut!==null||P.O.isServer)return null;let St=ht==null?void 0:ht.getElementById("headlessui-portal-root");if(St)return St;if(ht===null)return null;let Ft=ht.createElement("div");return Ft.setAttribute("id","headlessui-portal-root"),ht.body.appendChild(Ft)});return(0,n.useEffect)(()=>{Nt!==null&&(ht!=null&&ht.body.contains(Nt)||ht==null||ht.body.appendChild(Nt))},[Nt,ht]),(0,n.useEffect)(()=>{ot||ut!==null&&Lt(ut.current)},[ut,Lt,ot]),Nt}let Be=n.Fragment;function de(ke,ot){let ut=ke,ht=(0,n.useRef)(null),Nt=(0,v.T)((0,v.h)(gn=>{ht.current=gn}),ot),Lt=re(ht),St=Ae(ht),[Ft]=(0,n.useState)(()=>{var gn;return P.O.isServer?null:(gn=Lt==null?void 0:Lt.createElement("div"))!=null?gn:null}),nn=(0,n.useContext)(Le),yn=(0,d.H)();return(0,Te.e)(()=>{!St||!Ft||St.contains(Ft)||(Ft.setAttribute("data-headlessui-portal",""),St.appendChild(Ft))},[St,Ft]),(0,Te.e)(()=>{if(Ft&&nn)return nn.register(Ft)},[nn,Ft]),se(()=>{var gn;!St||!Ft||(Ft instanceof Node&&St.contains(Ft)&&St.removeChild(Ft),St.childNodes.length<=0&&((gn=St.parentElement)==null||gn.removeChild(St)))}),yn?!St||!Ft?null:(0,n.createPortal)((0,u.sY)({ourProps:{ref:Nt},theirProps:ut,defaultTag:Be,name:"Portal"}),Ft):null}let ce=n.Fragment,_e=(0,n.createContext)(null);function Oe(ke,ot){let Lt=ke,{target:ut}=Lt,ht=Or(Lt,["target"]),Nt={ref:(0,v.T)(ot)};return n.default.createElement(_e.Provider,{value:ut},(0,u.sY)({ourProps:Nt,theirProps:ht,defaultTag:ce,name:"Popover.Group"}))}let Le=(0,n.createContext)(null);function ze(){let ke=(0,n.useContext)(Le),ot=(0,n.useRef)([]),ut=(0,Z.z)(Lt=>(ot.current.push(Lt),ke&&ke.register(Lt),()=>ht(Lt))),ht=(0,Z.z)(Lt=>{let St=ot.current.indexOf(Lt);St!==-1&&ot.current.splice(St,1),ke&&ke.unregister(Lt)}),Nt=(0,n.useMemo)(()=>({register:ut,unregister:ht,portals:ot}),[ut,ht,ot]);return[ot,(0,n.useMemo)(()=>function({children:Lt}){return n.default.createElement(Le.Provider,{value:Nt},Lt)},[Nt])]}let Je=(0,u.yV)(de),Pt=(0,u.yV)(Oe),Ve=Object.assign(Je,{Group:Pt});var pt=e(39516),$e=e(16567);let Ie=(0,n.createContext)(()=>{});Ie.displayName="StackContext";var ye=(ke=>(ke[ke.Add=0]="Add",ke[ke.Remove=1]="Remove",ke))(ye||{});function Ce(){return(0,n.useContext)(Ie)}function xe({children:ke,onUpdate:ot,type:ut,element:ht,enabled:Nt}){let Lt=Ce(),St=(0,Z.z)((...Ft)=>{ot==null||ot(...Ft),Lt(...Ft)});return(0,Te.e)(()=>{let Ft=Nt===void 0||Nt===!0;return Ft&&St(0,ut,ht),()=>{Ft&&St(1,ut,ht)}},[St,ut,ht,Nt]),n.default.createElement(Ie.Provider,{value:St},ke)}function je(ke,ot,ut){let ht=(0,V.E)(ot);(0,n.useEffect)(()=>{function Nt(Lt){ht.current(Lt)}return document.addEventListener(ke,Nt,ut),()=>document.removeEventListener(ke,Nt,ut)},[ke,ut])}function He(ke,ot,ut=!0){let ht=(0,n.useRef)(!1);(0,n.useEffect)(()=>{requestAnimationFrame(()=>{ht.current=ut})},[ut]);function Nt(St,Ft){if(!ht.current||St.defaultPrevented)return;let nn=Ft(St);if(nn===null||!nn.getRootNode().contains(nn))return;let yn=function gn(Sn){return typeof Sn=="function"?gn(Sn()):Array.isArray(Sn)||Sn instanceof Set?Sn:[Sn]}(ke);for(let gn of yn){if(gn===null)continue;let Sn=gn instanceof HTMLElement?gn:gn.current;if(Sn!=null&&Sn.contains(nn)||St.composed&&St.composedPath().includes(Sn))return}return!w(nn,_.Loose)&&nn.tabIndex!==-1&&St.preventDefault(),ot(St,nn)}let Lt=(0,n.useRef)(null);je("mousedown",St=>{var Ft,nn;ht.current&&(Lt.current=((nn=(Ft=St.composedPath)==null?void 0:Ft.call(St))==null?void 0:nn[0])||St.target)},!0),je("click",St=>{Lt.current&&(Nt(St,()=>Lt.current),Lt.current=null)},!0),G("blur",St=>Nt(St,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Ge(ke,ot){return ke===ot&&(ke!==0||1/ke===1/ot)||ke!==ke&&ot!==ot}const Qe=typeof Object.is=="function"?Object.is:Ge,{useState:ct,useEffect:dt,useLayoutEffect:it,useDebugValue:tt}=n;let vt=null,et=null;function Xe(ke,ot,ut){const ht=ot(),[{inst:Nt},Lt]=ct({inst:{value:ht,getSnapshot:ot}});return it(()=>{Nt.value=ht,Nt.getSnapshot=ot,Ne(Nt)&&Lt({inst:Nt})},[ke,ht,ot]),dt(()=>(Ne(Nt)&&Lt({inst:Nt}),ke(()=>{Ne(Nt)&&Lt({inst:Nt})})),[ke]),tt(ht),ht}function Ne(ke){const ot=ke.getSnapshot,ut=ke.value;try{const ht=ot();return!Qe(ut,ht)}catch(ht){return!0}}function ft(ke,ot,ut){return ot()}const At=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Ht=!At,rn=Ht?ft:Xe,en=(ke=>ke.useSyncExternalStore)(n);function pn(ke){return en(ke.subscribe,ke.getSnapshot,ke.getSnapshot)}var _n=e(9362);function Tn(ke,ot){let ut=ke(),ht=new Set;return{getSnapshot(){return ut},subscribe(Nt){return ht.add(Nt),()=>ht.delete(Nt)},dispatch(Nt,...Lt){let St=ot[Nt].call(ut,...Lt);St&&(ut=St,ht.forEach(Ft=>Ft()))}}}function dn(){let ke;return{before({doc:ot}){var ut;let ht=ot.documentElement;ke=((ut=ot.defaultView)!=null?ut:window).innerWidth-ht.clientWidth},after({doc:ot,d:ut}){let ht=ot.documentElement,Nt=ht.clientWidth-ht.offsetWidth,Lt=ke-Nt;ut.style(ht,"paddingRight",`${Lt}px`)}}}function fn(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function xn(){return/Android/gi.test(window.navigator.userAgent)}function Dn(){return fn()||xn()}function Wn(){if(!fn())return{};let ke;return{before(){ke=window.pageYOffset},after({doc:ot,d:ut,meta:ht}){function Nt(St){return ht.containers.flatMap(Ft=>Ft()).some(Ft=>Ft.contains(St))}ut.style(ot.body,"marginTop",`-${ke}px`),window.scrollTo(0,0);let Lt=null;ut.addEventListener(ot,"click",St=>{if(St.target instanceof HTMLElement)try{let Ft=St.target.closest("a");if(!Ft)return;let{hash:nn}=new URL(Ft.href),yn=ot.querySelector(nn);yn&&!Nt(yn)&&(Lt=yn)}catch(Ft){}},!0),ut.addEventListener(ot,"touchmove",St=>{St.target instanceof HTMLElement&&!Nt(St.target)&&St.preventDefault()},{passive:!1}),ut.add(()=>{window.scrollTo(0,window.pageYOffset+ke),Lt&&Lt.isConnected&&(Lt.scrollIntoView({block:"nearest"}),Lt=null)})}}}function Fn(){return{before({doc:ke,d:ot}){ot.style(ke.documentElement,"overflow","hidden")}}}function Cn(ke){let ot={};for(let ut of ke)Object.assign(ot,ut(ot));return ot}let bn=Tn(()=>new Map,{PUSH(ke,ot){var ut;let ht=(ut=this.get(ke))!=null?ut:{doc:ke,count:0,d:(0,_n.k)(),meta:new Set};return ht.count++,ht.meta.add(ot),this.set(ke,ht),this},POP(ke,ot){let ut=this.get(ke);return ut&&(ut.count--,ut.meta.delete(ot)),this},SCROLL_PREVENT({doc:ke,d:ot,meta:ut}){let ht={doc:ke,d:ot,meta:Cn(ut)},Nt=[Wn(),dn(),Fn()];Nt.forEach(({before:Lt})=>Lt==null?void 0:Lt(ht)),Nt.forEach(({after:Lt})=>Lt==null?void 0:Lt(ht))},SCROLL_ALLOW({d:ke}){ke.dispose()},TEARDOWN({doc:ke}){this.delete(ke)}});bn.subscribe(()=>{let ke=bn.getSnapshot(),ot=new Map;for(let[ut]of ke)ot.set(ut,ut.documentElement.style.overflow);for(let ut of ke.values()){let ht=ot.get(ut.doc)==="hidden",Nt=ut.count!==0;(Nt&&!ht||!Nt&&ht)&&bn.dispatch(ut.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",ut),ut.count===0&&bn.dispatch("TEARDOWN",ut)}});function zn(ke,ot,ut){let ht=pn(bn),Nt=ke?ht.get(ke):void 0,Lt=Nt?Nt.count>0:!1;return(0,Te.e)(()=>{if(!(!ke||!ot))return bn.dispatch("PUSH",ke,ut),()=>bn.dispatch("POP",ke,ut)},[ot,ke]),Lt}let tr=new Map,$n=new Map;function lr(ke,ot=!0){(0,Te.e)(()=>{var ut;if(!ot)return;let ht=typeof ke=="function"?ke():ke.current;if(!ht)return;function Nt(){var St;if(!ht)return;let Ft=(St=$n.get(ht))!=null?St:1;if(Ft===1?$n.delete(ht):$n.set(ht,Ft-1),Ft!==1)return;let nn=tr.get(ht);nn&&(nn["aria-hidden"]===null?ht.removeAttribute("aria-hidden"):ht.setAttribute("aria-hidden",nn["aria-hidden"]),ht.inert=nn.inert,tr.delete(ht))}let Lt=(ut=$n.get(ht))!=null?ut:0;return $n.set(ht,Lt+1),Lt!==0||(tr.set(ht,{"aria-hidden":ht.getAttribute("aria-hidden"),inert:ht.inert}),ht.setAttribute("aria-hidden","true"),ht.inert=!0),Nt},[ke,ot])}function Kn({defaultContainers:ke=[],portals:ot}={}){let ut=(0,n.useRef)(null),ht=re(ut),Nt=(0,Z.z)(()=>{var Lt;let St=[];for(let Ft of ke)Ft!==null&&(Ft instanceof HTMLElement?St.push(Ft):"current"in Ft&&Ft.current instanceof HTMLElement&&St.push(Ft.current));if(ot!=null&&ot.current)for(let Ft of ot.current)St.push(Ft);for(let Ft of(Lt=ht==null?void 0:ht.querySelectorAll("html > *, body > *"))!=null?Lt:[])Ft!==document.body&&Ft!==document.head&&Ft instanceof HTMLElement&&Ft.id!=="headlessui-portal-root"&&(Ft.contains(ut.current)||St.some(nn=>Ft.contains(nn))||St.push(Ft));return St});return{resolveContainers:Nt,contains:(0,Z.z)(Lt=>Nt().some(St=>St.contains(Lt))),mainTreeNodeRef:ut,MainTreeNode:(0,n.useMemo)(()=>function(){return n.default.createElement(g._,{features:g.A.Hidden,ref:ut})},[ut])}}var rt=(ke=>(ke[ke.Open=0]="Open",ke[ke.Closed=1]="Closed",ke))(rt||{}),lt=(ke=>(ke[ke.SetTitleId=0]="SetTitleId",ke))(lt||{});let bt={[0](ke,ot){return ke.titleId===ot.id?ke:no(or({},ke),{titleId:ot.id})}},Ut=(0,n.createContext)(null);Ut.displayName="DialogContext";function an(ke){let ot=(0,n.useContext)(Ut);if(ot===null){let ut=new Error(`<${ke} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(ut,an),ut}return ot}function wn(ke,ot,ut=()=>[document.body]){zn(ke,ot,ht=>{var Nt;return{containers:[...(Nt=ht.containers)!=null?Nt:[],ut]}})}function Hn(ke,ot){return(0,c.E)(ot.type,bt,ke,ot)}let Xn="div",ar=u.AN.RenderStrategy|u.AN.Static;function Er(ke,ot){var ut;let ht=(0,E.M)(),Io=ke,{id:Nt=`headlessui-dialog-${ht}`,open:Lt,onClose:St,initialFocus:Ft,__demoMode:nn=!1}=Io,yn=Or(Io,["id","open","onClose","initialFocus","__demoMode"]),[gn,Sn]=(0,n.useState)(0),sn=(0,$e.oJ)();Lt===void 0&&sn!==null&&(Lt=(sn&$e.ZM.Open)===$e.ZM.Open);let mn=(0,n.useRef)(null),Pr=(0,v.T)(mn,ot),fr=re(mn),vr=ke.hasOwnProperty("open")||sn!==null,ir=ke.hasOwnProperty("onClose");if(!vr&&!ir)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!vr)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!ir)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof Lt!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${Lt}`);if(typeof St!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${St}`);let Qn=Lt?0:1,[zr,Ar]=(0,n.useReducer)(Hn,{titleId:null,descriptionId:null,panelRef:(0,n.createRef)()}),Cr=(0,Z.z)(()=>St(!1)),oo=(0,Z.z)(pr=>Ar({type:0,id:pr})),Oo=(0,d.H)()?nn?!1:Qn===0:!1,po=gn>1,Yo=(0,n.useContext)(Ut)!==null,[Jo,ti]=ze(),{resolveContainers:Co,mainTreeNodeRef:wo,MainTreeNode:Ea}=Kn({portals:Jo,defaultContainers:[(ut=zr.panelRef.current)!=null?ut:mn.current]}),Oa=po?"parent":"leaf",ko=sn!==null?(sn&$e.ZM.Closing)===$e.ZM.Closing:!1,Xo=(()=>Yo||ko?!1:Oo)(),Ca=(0,n.useCallback)(()=>{var pr,Lr;return(Lr=Array.from((pr=fr==null?void 0:fr.querySelectorAll("body > *"))!=null?pr:[]).find(Wr=>Wr.id==="headlessui-portal-root"?!1:Wr.contains(wo.current)&&Wr instanceof HTMLElement))!=null?Lr:null},[wo]);lr(Ca,Xo);let Qo=(()=>po?!0:Oo)(),wa=(0,n.useCallback)(()=>{var pr,Lr;return(Lr=Array.from((pr=fr==null?void 0:fr.querySelectorAll("[data-headlessui-portal]"))!=null?pr:[]).find(Wr=>Wr.contains(wo.current)&&Wr instanceof HTMLElement))!=null?Lr:null},[wo]);lr(wa,Qo);let qo=(()=>!(!Oo||po))();He(Co,Cr,qo);let ni=(()=>!(po||Qn!==0))();ee(fr==null?void 0:fr.defaultView,"keydown",pr=>{ni&&(pr.defaultPrevented||pr.key===O.R.Escape&&(pr.preventDefault(),pr.stopPropagation(),Cr()))});let Po=(()=>!(ko||Qn!==0||Yo))();wn(fr,Po,Co),(0,n.useEffect)(()=>{if(Qn!==0||!mn.current)return;let pr=new ResizeObserver(Lr=>{for(let Wr of Lr){let Ia=Wr.target.getBoundingClientRect();Ia.x===0&&Ia.y===0&&Ia.width===0&&Ia.height===0&&Cr()}});return pr.observe(mn.current),()=>pr.disconnect()},[Qn,mn,Cr]);let[So,ea]=(0,pt.f)(),Sa=(0,n.useMemo)(()=>[{dialogState:Qn,close:Cr,setTitleId:oo},zr],[Qn,zr,Cr,oo]),Fo=(0,n.useMemo)(()=>({open:Qn===0}),[Qn]),ta={ref:Pr,id:Nt,role:"dialog","aria-modal":Qn===0?!0:void 0,"aria-labelledby":zr.titleId,"aria-describedby":So};return n.default.createElement(xe,{type:"Dialog",enabled:Qn===0,element:mn,onUpdate:(0,Z.z)((pr,Lr)=>{Lr==="Dialog"&&(0,c.E)(pr,{[ye.Add]:()=>Sn(Wr=>Wr+1),[ye.Remove]:()=>Sn(Wr=>Wr-1)})})},n.default.createElement(We,{force:!0},n.default.createElement(Ve,null,n.default.createElement(Ut.Provider,{value:Sa},n.default.createElement(Ve.Group,{target:mn},n.default.createElement(We,{force:!1},n.default.createElement(ea,{slot:Fo,name:"Dialog.Description"},n.default.createElement(ae,{initialFocus:Ft,containers:Co,features:Oo?(0,c.E)(Oa,{parent:ae.features.RestoreFocus,leaf:ae.features.All&~ae.features.FocusLock}):ae.features.None},n.default.createElement(ti,null,(0,u.sY)({ourProps:ta,theirProps:yn,slot:Fo,defaultTag:Xn,features:ar,visible:Qn===0,name:"Dialog"}))))))))),n.default.createElement(Ea,null))}let Ur="div";function kr(ke,ot){let ut=(0,E.M)(),gn=ke,{id:ht=`headlessui-dialog-overlay-${ut}`}=gn,Nt=Or(gn,["id"]),[{dialogState:Lt,close:St}]=an("Dialog.Overlay"),Ft=(0,v.T)(ot),nn=(0,Z.z)(Sn=>{if(Sn.target===Sn.currentTarget){if((0,y.P)(Sn.currentTarget))return Sn.preventDefault();Sn.preventDefault(),Sn.stopPropagation(),St()}}),yn=(0,n.useMemo)(()=>({open:Lt===0}),[Lt]);return(0,u.sY)({ourProps:{ref:Ft,id:ht,"aria-hidden":!0,onClick:nn},theirProps:Nt,slot:yn,defaultTag:Ur,name:"Dialog.Overlay"})}let yo="div";function ro(ke,ot){let ut=(0,E.M)(),yn=ke,{id:ht=`headlessui-dialog-backdrop-${ut}`}=yn,Nt=Or(yn,["id"]),[{dialogState:Lt},St]=an("Dialog.Backdrop"),Ft=(0,v.T)(ot);(0,n.useEffect)(()=>{if(St.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[St.panelRef]);let nn=(0,n.useMemo)(()=>({open:Lt===0}),[Lt]);return n.default.createElement(We,{force:!0},n.default.createElement(Ve,null,(0,u.sY)({ourProps:{ref:Ft,id:ht,"aria-hidden":!0},theirProps:Nt,slot:nn,defaultTag:yo,name:"Dialog.Backdrop"})))}let fo="div";function Fr(ke,ot){let ut=(0,E.M)(),gn=ke,{id:ht=`headlessui-dialog-panel-${ut}`}=gn,Nt=Or(gn,["id"]),[{dialogState:Lt},St]=an("Dialog.Panel"),Ft=(0,v.T)(ot,St.panelRef),nn=(0,n.useMemo)(()=>({open:Lt===0}),[Lt]),yn=(0,Z.z)(Sn=>{Sn.stopPropagation()});return(0,u.sY)({ourProps:{ref:Ft,id:ht,onClick:yn},theirProps:Nt,slot:nn,defaultTag:fo,name:"Dialog.Panel"})}let $t="h2";function Gr(ke,ot){let ut=(0,E.M)(),yn=ke,{id:ht=`headlessui-dialog-title-${ut}`}=yn,Nt=Or(yn,["id"]),[{dialogState:Lt,setTitleId:St}]=an("Dialog.Title"),Ft=(0,v.T)(ot);(0,n.useEffect)(()=>(St(ht),()=>St(null)),[ht,St]);let nn=(0,n.useMemo)(()=>({open:Lt===0}),[Lt]);return(0,u.sY)({ourProps:{ref:Ft,id:ht},theirProps:Nt,slot:nn,defaultTag:$t,name:"Dialog.Title"})}let gr=(0,u.yV)(Er),Vr=(0,u.yV)(ro),_t=(0,u.yV)(Fr),Ot=(0,u.yV)(kr),Mt=(0,u.yV)(Gr),Kt=Object.assign(gr,{Backdrop:Vr,Panel:_t,Overlay:Ot,Title:Mt,Description:pt.d})},61363:(j,l,e)=>{"use strict";e.d(l,{R:()=>n});var n=(c=>(c.Space=" ",c.Enter="Enter",c.Escape="Escape",c.Backspace="Backspace",c.Delete="Delete",c.ArrowLeft="ArrowLeft",c.ArrowUp="ArrowUp",c.ArrowRight="ArrowRight",c.ArrowDown="ArrowDown",c.Home="Home",c.End="End",c.PageUp="PageUp",c.PageDown="PageDown",c.Tab="Tab",c))(n||{})},51831:(j,l,e)=>{"use strict";e.d(l,{r:()=>re});var n=e(98661),c=e(12351),u=e(19946),v=e(61363),O=e(64103),y=e(16723),E=e(23784),d=e(73781);let g=(0,n.createContext)(null);function P(){let ee=(0,n.useContext)(g);if(ee===null){let Y=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(Y,P),Y}return ee}function S(){let[ee,Y]=(0,n.useState)([]);return[ee.length>0?ee.join(" "):void 0,(0,n.useMemo)(()=>function(J){let te=(0,d.z)(se=>(Y(W=>[...W,se]),()=>Y(W=>{let z=W.slice(),Q=z.indexOf(se);return Q!==-1&&z.splice(Q,1),z}))),ie=(0,n.useMemo)(()=>({register:te,slot:J.slot,name:J.name,props:J.props}),[te,J.slot,J.name,J.props]);return n.default.createElement(g.Provider,{value:ie},J.children)},[Y])]}let T="label";function C(ee,Y){let J=(0,u.M)(),oe=ee,{id:te=`headlessui-label-${J}`,passive:ie=!1}=oe,se=Or(oe,["id","passive"]),W=P(),z=(0,E.T)(Y);(0,y.e)(()=>W.register(te),[te,W.register]);let Q=no(or({ref:z},W.props),{id:te});return ie&&("onClick"in Q&&(delete Q.htmlFor,delete Q.onClick),"onClick"in se&&delete se.onClick),(0,c.sY)({ourProps:Q,theirProps:se,slot:W.slot||{},defaultTag:T,name:W.name||"Label"})}let p=(0,c.yV)(C),i=Object.assign(p,{});var s=e(39516);function _(ee){var Y;if(ee.type)return ee.type;let J=(Y=ee.as)!=null?Y:"button";if(typeof J=="string"&&J.toLowerCase()==="button")return"button"}function w(ee,Y){let[J,te]=(0,n.useState)(()=>_(ee));return(0,y.e)(()=>{te(_(ee))},[ee.type,ee.as]),(0,y.e)(()=>{J||Y.current&&Y.current instanceof HTMLButtonElement&&!Y.current.hasAttribute("type")&&te("button")},[J,Y]),J}var x=e(46045);function D(ee={},Y=null,J=[]){for(let[te,ie]of Object.entries(ee))I(J,N(Y,te),ie);return J}function N(ee,Y){return ee?ee+"["+Y+"]":Y}function I(ee,Y,J){if(Array.isArray(J))for(let[te,ie]of J.entries())I(ee,N(Y,te.toString()),ie);else J instanceof Date?ee.push([Y,J.toISOString()]):typeof J=="boolean"?ee.push([Y,J?"1":"0"]):typeof J=="string"?ee.push([Y,J]):typeof J=="number"?ee.push([Y,`${J}`]):J==null?ee.push([Y,""]):D(J,Y,ee)}function A(ee){var Y;let J=(Y=ee==null?void 0:ee.form)!=null?Y:ee.closest("form");if(J){for(let te of J.elements)if(te.tagName==="INPUT"&&te.type==="submit"||te.tagName==="BUTTON"&&te.type==="submit"||te.nodeName==="INPUT"&&te.type==="image"){te.click();return}}}function M(ee,Y,J){let[te,ie]=(0,n.useState)(J),se=ee!==void 0,W=(0,n.useRef)(se),z=(0,n.useRef)(!1),Q=(0,n.useRef)(!1);return se&&!W.current&&!z.current?(z.current=!0,W.current=se,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!se&&W.current&&!Q.current&&(Q.current=!0,W.current=se,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[se?ee:te,(0,d.z)(oe=>(se||ie(oe),Y==null?void 0:Y(oe)))]}var R=e(94192);let F=(0,n.createContext)(null);F.displayName="GroupContext";let Z=n.Fragment;function V(ee){var Y;let[J,te]=(0,n.useState)(null),[ie,se]=S(),[W,z]=(0,s.f)(),Q=(0,n.useMemo)(()=>({switch:J,setSwitch:te,labelledby:ie,describedby:W}),[J,te,ie,W]),oe={},ne=ee;return n.default.createElement(z,{name:"Switch.Description"},n.default.createElement(se,{name:"Switch.Label",props:{htmlFor:(Y=Q.switch)==null?void 0:Y.id,onClick(ae){J&&(ae.currentTarget.tagName==="LABEL"&&ae.preventDefault(),J.click(),J.focus({preventScroll:!0}))}}},n.default.createElement(F.Provider,{value:Q},(0,c.sY)({ourProps:oe,theirProps:ne,defaultTag:Z,name:"Switch.Group"}))))}let G="button";function $(ee,Y){let J=(0,u.M)(),Be=ee,{id:te=`headlessui-switch-${J}`,checked:ie,defaultChecked:se=!1,onChange:W,name:z,value:Q,form:oe}=Be,ne=Or(Be,["id","checked","defaultChecked","onChange","name","value","form"]),ae=(0,n.useContext)(F),le=(0,n.useRef)(null),ue=(0,E.T)(le,Y,ae===null?null:ae.setSwitch),[fe,he]=M(ie,W,se),be=(0,d.z)(()=>he==null?void 0:he(!fe)),ve=(0,d.z)(de=>{if((0,O.P)(de.currentTarget))return de.preventDefault();de.preventDefault(),be()}),Te=(0,d.z)(de=>{de.key===v.R.Space?(de.preventDefault(),be()):de.key===v.R.Enter&&A(de.currentTarget)}),we=(0,d.z)(de=>de.preventDefault()),Se=(0,n.useMemo)(()=>({checked:fe}),[fe]),We={id:te,ref:ue,role:"switch",type:w(ee,le),tabIndex:0,"aria-checked":fe,"aria-labelledby":ae==null?void 0:ae.labelledby,"aria-describedby":ae==null?void 0:ae.describedby,onClick:ve,onKeyUp:Te,onKeyPress:we},Ae=(0,R.G)();return(0,n.useEffect)(()=>{var de;let ce=(de=le.current)==null?void 0:de.closest("form");ce&&se!==void 0&&Ae.addEventListener(ce,"reset",()=>{he(se)})},[le,he]),n.default.createElement(n.default.Fragment,null,z!=null&&fe&&n.default.createElement(x._,or({features:x.A.Hidden},(0,c.oA)({as:"input",type:"checkbox",hidden:!0,readOnly:!0,form:oe,checked:fe,name:z,value:Q}))),(0,c.sY)({ourProps:We,theirProps:ne,slot:Se,defaultTag:G,name:"Switch"}))}let K=(0,c.yV)($),H=V,re=Object.assign(K,{Group:H,Label:i,Description:s.d})},5285:(j,l,e)=>{"use strict";e.d(l,{u:()=>z});var n=e(98661),c=e(12351),u=e(16567),v=e(32984),O=e(14879),y=e(16723),E=e(3855),d=e(82180),g=e(23784);function P(Q){let oe={called:!1};return(...ne)=>{if(!oe.called)return oe.called=!0,Q(...ne)}}var S=e(9362);function T(Q,...oe){Q&&oe.length>0&&Q.classList.add(...oe)}function C(Q,...oe){Q&&oe.length>0&&Q.classList.remove(...oe)}function p(Q,oe){let ne=(0,S.k)();if(!Q)return ne.dispose;let{transitionDuration:ae,transitionDelay:le}=getComputedStyle(Q),[ue,fe]=[ae,le].map(be=>{let[ve=0]=be.split(",").filter(Boolean).map(Te=>Te.includes("ms")?parseFloat(Te):parseFloat(Te)*1e3).sort((Te,we)=>we-Te);return ve}),he=ue+fe;if(he!==0){ne.group(ve=>{ve.setTimeout(()=>{oe(),ve.dispose()},he),ve.addEventListener(Q,"transitionrun",Te=>{Te.target===Te.currentTarget&&ve.dispose()})});let be=ne.addEventListener(Q,"transitionend",ve=>{ve.target===ve.currentTarget&&(oe(),be())})}else oe();return ne.add(()=>oe()),ne.dispose}function i(Q,oe,ne,ae){let le=ne?"enter":"leave",ue=(0,S.k)(),fe=ae!==void 0?P(ae):()=>{};le==="enter"&&(Q.removeAttribute("hidden"),Q.style.display="");let he=(0,v.E)(le,{enter:()=>oe.enter,leave:()=>oe.leave}),be=(0,v.E)(le,{enter:()=>oe.enterTo,leave:()=>oe.leaveTo}),ve=(0,v.E)(le,{enter:()=>oe.enterFrom,leave:()=>oe.leaveFrom});return C(Q,...oe.enter,...oe.enterTo,...oe.enterFrom,...oe.leave,...oe.leaveFrom,...oe.leaveTo,...oe.entered),T(Q,...he,...ve),ue.nextFrame(()=>{C(Q,...ve),T(Q,...be),p(Q,()=>(C(Q,...he),T(Q,...oe.entered),fe()))}),ue.dispose}var s=e(94192);function _({container:Q,direction:oe,classes:ne,onStart:ae,onStop:le}){let ue=(0,O.t)(),fe=(0,s.G)(),he=(0,E.E)(oe);(0,y.e)(()=>{let be=(0,S.k)();fe.add(be.dispose);let ve=Q.current;if(ve&&he.current!=="idle"&&ue.current)return be.dispose(),ae.current(he.current),be.add(i(ve,ne.current,he.current==="enter",()=>{be.dispose(),le.current(he.current)})),be.dispose},[oe])}var w=e(73781),x=e(44067);function D(Q=0){let[oe,ne]=(0,n.useState)(Q),ae=(0,O.t)(),le=(0,n.useCallback)(be=>{ae.current&&ne(ve=>ve|be)},[oe,ae]),ue=(0,n.useCallback)(be=>!!(oe&be),[oe]),fe=(0,n.useCallback)(be=>{ae.current&&ne(ve=>ve&~be)},[ne,ae]),he=(0,n.useCallback)(be=>{ae.current&&ne(ve=>ve^be)},[ne]);return{flags:oe,addFlag:le,hasFlag:ue,removeFlag:fe,toggleFlag:he}}function N(Q=""){return Q.split(" ").filter(oe=>oe.trim().length>1)}let I=(0,n.createContext)(null);I.displayName="TransitionContext";var A=(Q=>(Q.Visible="visible",Q.Hidden="hidden",Q))(A||{});function M(){let Q=(0,n.useContext)(I);if(Q===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return Q}function R(){let Q=(0,n.useContext)(F);if(Q===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return Q}let F=(0,n.createContext)(null);F.displayName="NestingContext";function Z(Q){return"children"in Q?Z(Q.children):Q.current.filter(({el:oe})=>oe.current!==null).filter(({state:oe})=>oe==="visible").length>0}function V(Q,oe){let ne=(0,E.E)(Q),ae=(0,n.useRef)([]),le=(0,O.t)(),ue=(0,s.G)(),fe=(0,w.z)((We,Ae=c.l4.Hidden)=>{let Be=ae.current.findIndex(({el:de})=>de===We);Be!==-1&&((0,v.E)(Ae,{[c.l4.Unmount](){ae.current.splice(Be,1)},[c.l4.Hidden](){ae.current[Be].state="hidden"}}),ue.microTask(()=>{var de;!Z(ae)&&le.current&&((de=ne.current)==null||de.call(ne))}))}),he=(0,w.z)(We=>{let Ae=ae.current.find(({el:Be})=>Be===We);return Ae?Ae.state!=="visible"&&(Ae.state="visible"):ae.current.push({el:We,state:"visible"}),()=>fe(We,c.l4.Unmount)}),be=(0,n.useRef)([]),ve=(0,n.useRef)(Promise.resolve()),Te=(0,n.useRef)({enter:[],leave:[],idle:[]}),we=(0,w.z)((We,Ae,Be)=>{be.current.splice(0),oe&&(oe.chains.current[Ae]=oe.chains.current[Ae].filter(([de])=>de!==We)),oe==null||oe.chains.current[Ae].push([We,new Promise(de=>{be.current.push(de)})]),oe==null||oe.chains.current[Ae].push([We,new Promise(de=>{Promise.all(Te.current[Ae].map(([ce,_e])=>_e)).then(()=>de())})]),Ae==="enter"?ve.current=ve.current.then(()=>oe==null?void 0:oe.wait.current).then(()=>Be(Ae)):Be(Ae)}),Se=(0,w.z)((We,Ae,Be)=>{Promise.all(Te.current[Ae].splice(0).map(([de,ce])=>ce)).then(()=>{var de;(de=be.current.shift())==null||de()}).then(()=>Be(Ae))});return(0,n.useMemo)(()=>({children:ae,register:he,unregister:fe,onStart:we,onStop:Se,wait:ve,chains:Te}),[he,fe,ae,we,Se,Te,ve])}function G(){}let $=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function K(Q){var oe;let ne={};for(let ae of $)ne[ae]=(oe=Q[ae])!=null?oe:G;return ne}function H(Q){let oe=(0,n.useRef)(K(Q));return(0,n.useEffect)(()=>{oe.current=K(Q)},[Q]),oe}let re="div",ee=c.AN.RenderStrategy;function Y(Q,oe){let it=Q,{beforeEnter:ne,afterEnter:ae,beforeLeave:le,afterLeave:ue,enter:fe,enterFrom:he,enterTo:be,entered:ve,leave:Te,leaveFrom:we,leaveTo:Se}=it,We=Or(it,["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),Ae=(0,n.useRef)(null),Be=(0,g.T)(Ae,oe),de=We.unmount?c.l4.Unmount:c.l4.Hidden,{show:ce,appear:_e,initial:Oe}=M(),[Le,ze]=(0,n.useState)(ce?"visible":"hidden"),Je=R(),{register:Pt,unregister:Ve}=Je,pt=(0,n.useRef)(null);(0,n.useEffect)(()=>Pt(Ae),[Pt,Ae]),(0,n.useEffect)(()=>{if(de===c.l4.Hidden&&Ae.current){if(ce&&Le!=="visible"){ze("visible");return}return(0,v.E)(Le,{hidden:()=>Ve(Ae),visible:()=>Pt(Ae)})}},[Le,Ae,Pt,Ve,ce,de]);let $e=(0,E.E)({enter:N(fe),enterFrom:N(he),enterTo:N(be),entered:N(ve),leave:N(Te),leaveFrom:N(we),leaveTo:N(Se)}),Ie=H({beforeEnter:ne,afterEnter:ae,beforeLeave:le,afterLeave:ue}),ye=(0,d.H)();(0,n.useEffect)(()=>{if(ye&&Le==="visible"&&Ae.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[Ae,Le,ye]);let Ce=Oe&&!_e,xe=(()=>!ye||Ce||pt.current===ce?"idle":ce?"enter":"leave")(),je=D(0),He=(0,w.z)(tt=>(0,v.E)(tt,{enter:()=>{je.addFlag(u.ZM.Opening),Ie.current.beforeEnter()},leave:()=>{je.addFlag(u.ZM.Closing),Ie.current.beforeLeave()},idle:()=>{}})),Ge=(0,w.z)(tt=>(0,v.E)(tt,{enter:()=>{je.removeFlag(u.ZM.Opening),Ie.current.afterEnter()},leave:()=>{je.removeFlag(u.ZM.Closing),Ie.current.afterLeave()},idle:()=>{}})),Qe=V(()=>{ze("hidden"),Ve(Ae)},Je);_({container:Ae,classes:$e,direction:xe,onStart:(0,E.E)(tt=>{Qe.onStart(Ae,tt,He)}),onStop:(0,E.E)(tt=>{Qe.onStop(Ae,tt,Ge),tt==="leave"&&!Z(Qe)&&(ze("hidden"),Ve(Ae))})}),(0,n.useEffect)(()=>{Ce&&(de===c.l4.Hidden?pt.current=null:pt.current=ce)},[ce,Ce,Le]);let ct=We,dt={ref:Be};return _e&&ce&&Oe&&(ct=no(or({},ct),{className:(0,x.A)(We.className,...$e.current.enter,...$e.current.enterFrom)})),n.default.createElement(F.Provider,{value:Qe},n.default.createElement(u.up,{value:(0,v.E)(Le,{visible:u.ZM.Open,hidden:u.ZM.Closed})|je.flags},(0,c.sY)({ourProps:dt,theirProps:ct,defaultTag:re,features:ee,visible:Le==="visible",name:"Transition.Child"})))}function J(Q,oe){let Oe=Q,{show:ne,appear:ae=!1,unmount:le}=Oe,ue=Or(Oe,["show","appear","unmount"]),fe=(0,n.useRef)(null),he=(0,g.T)(fe,oe);(0,d.H)();let be=(0,u.oJ)();if(ne===void 0&&be!==null&&(ne=(be&u.ZM.Open)===u.ZM.Open),![!0,!1].includes(ne))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[ve,Te]=(0,n.useState)(ne?"visible":"hidden"),we=V(()=>{Te("hidden")}),[Se,We]=(0,n.useState)(!0),Ae=(0,n.useRef)([ne]);(0,y.e)(()=>{Se!==!1&&Ae.current[Ae.current.length-1]!==ne&&(Ae.current.push(ne),We(!1))},[Ae,ne]);let Be=(0,n.useMemo)(()=>({show:ne,appear:ae,initial:Se}),[ne,ae,Se]);(0,n.useEffect)(()=>{if(ne)Te("visible");else if(!Z(we))Te("hidden");else{let Le=fe.current;if(!Le)return;let ze=Le.getBoundingClientRect();ze.x===0&&ze.y===0&&ze.width===0&&ze.height===0&&Te("hidden")}},[ne,we]);let de={unmount:le},ce=(0,w.z)(()=>{var Le;Se&&We(!1),(Le=Q.beforeEnter)==null||Le.call(Q)}),_e=(0,w.z)(()=>{var Le;Se&&We(!1),(Le=Q.beforeLeave)==null||Le.call(Q)});return n.default.createElement(F.Provider,{value:we},n.default.createElement(I.Provider,{value:Be},(0,c.sY)({ourProps:no(or({},de),{as:n.Fragment,children:n.default.createElement(se,no(or(or({ref:he},de),ue),{beforeEnter:ce,beforeLeave:_e}))}),theirProps:{},defaultTag:n.Fragment,features:ee,visible:ve==="visible",name:"Transition"})))}function te(Q,oe){let ne=(0,n.useContext)(I)!==null,ae=(0,u.oJ)()!==null;return n.default.createElement(n.default.Fragment,null,!ne&&ae?n.default.createElement(ie,or({ref:oe},Q)):n.default.createElement(se,or({ref:oe},Q)))}let ie=(0,c.yV)(J),se=(0,c.yV)(Y),W=(0,c.yV)(te),z=Object.assign(ie,{Child:W,Root:ie})},94192:(j,l,e)=>{"use strict";e.d(l,{G:()=>u});var n=e(98661),c=e(9362);function u(){let[v]=(0,n.useState)(c.k);return(0,n.useEffect)(()=>()=>v.dispose(),[v]),v}},73781:(j,l,e)=>{"use strict";e.d(l,{z:()=>u});var n=e(98661),c=e(3855);let u=function(v){let O=(0,c.E)(v);return n.default.useCallback((...y)=>O.current(...y),[O])}},19946:(j,l,e)=>{"use strict";e.d(l,{M:()=>y});var n=e(98661),c=e(16723),u=e(82180),v=e(77896),O;let y=(O=n.default.useId)!=null?O:function(){let E=(0,u.H)(),[d,g]=n.default.useState(E?()=>v.O.nextId():null);return(0,c.e)(()=>{d===null&&g(v.O.nextId())},[d]),d!=null?""+d:void 0}},14879:(j,l,e)=>{"use strict";e.d(l,{t:()=>u});var n=e(98661),c=e(16723);function u(){let v=(0,n.useRef)(!1);return(0,c.e)(()=>(v.current=!0,()=>{v.current=!1}),[]),v}},16723:(j,l,e)=>{"use strict";e.d(l,{e:()=>u});var n=e(98661),c=e(77896);let u=(v,O)=>{c.O.isServer?(0,n.useEffect)(v,O):(0,n.useLayoutEffect)(v,O)}},3855:(j,l,e)=>{"use strict";e.d(l,{E:()=>u});var n=e(98661),c=e(16723);function u(v){let O=(0,n.useRef)(v);return(0,c.e)(()=>{O.current=v},[v]),O}},82180:(j,l,e)=>{"use strict";e.d(l,{H:()=>u});var n=e(98661),c=e(77896);function u(){let[v,O]=(0,n.useState)(c.O.isHandoffComplete);return v&&c.O.isHandoffComplete===!1&&O(!1),(0,n.useEffect)(()=>{v!==!0&&O(!0)},[v]),(0,n.useEffect)(()=>c.O.handoff(),[]),v}},23784:(j,l,e)=>{"use strict";e.d(l,{T:()=>O,h:()=>v});var n=e(98661),c=e(73781);let u=Symbol();function v(y,E=!0){return Object.assign(y,{[u]:E})}function O(...y){let E=(0,n.useRef)(y);(0,n.useEffect)(()=>{E.current=y},[y]);let d=(0,c.z)(g=>{for(let P of E.current)P!=null&&(typeof P=="function"?P(g):P.current=g)});return y.every(g=>g==null||(g==null?void 0:g[u]))?void 0:d}},46045:(j,l,e)=>{"use strict";e.d(l,{A:()=>u,_:()=>O});var n=e(12351);let c="div";var u=(y=>(y[y.None=1]="None",y[y.Focusable=2]="Focusable",y[y.Hidden=4]="Hidden",y))(u||{});function v(y,E){let S=y,{features:d=1}=S,g=Or(S,["features"]),P={ref:E,"aria-hidden":(d&2)===2?!0:void 0,style:or({position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},(d&4)===4&&(d&2)!==2&&{display:"none"})};return(0,n.sY)({ourProps:P,theirProps:g,slot:{},defaultTag:c,name:"Hidden"})}let O=(0,n.yV)(v)},16567:(j,l,e)=>{"use strict";e.d(l,{ZM:()=>u,oJ:()=>v,up:()=>O});var n=e(98661);let c=(0,n.createContext)(null);c.displayName="OpenClosedContext";var u=(y=>(y[y.Open=1]="Open",y[y.Closed=2]="Closed",y[y.Closing=4]="Closing",y[y.Opening=8]="Opening",y))(u||{});function v(){return(0,n.useContext)(c)}function O({value:y,children:E}){return n.default.createElement(c.Provider,{value:y},E)}},64103:(j,l,e)=>{"use strict";e.d(l,{P:()=>n});function n(u){let v=u.parentElement,O=null;for(;v&&!(v instanceof HTMLFieldSetElement);)v instanceof HTMLLegendElement&&(O=v),v=v.parentElement;let y=(v==null?void 0:v.getAttribute("disabled"))==="";return y&&c(O)?!1:y}function c(u){if(!u)return!1;let v=u.previousElementSibling;for(;v!==null;){if(v instanceof HTMLLegendElement)return!1;v=v.previousElementSibling}return!0}},44067:(j,l,e)=>{"use strict";e.d(l,{A:()=>n});function n(...c){return c.filter(Boolean).join(" ")}},9362:(j,l,e)=>{"use strict";e.d(l,{k:()=>c});var n=e(81021);function c(){let u=[],v={addEventListener(O,y,E,d){return O.addEventListener(y,E,d),v.add(()=>O.removeEventListener(y,E,d))},requestAnimationFrame(...O){let y=requestAnimationFrame(...O);return v.add(()=>cancelAnimationFrame(y))},nextFrame(...O){return v.requestAnimationFrame(()=>v.requestAnimationFrame(...O))},setTimeout(...O){let y=setTimeout(...O);return v.add(()=>clearTimeout(y))},microTask(...O){let y={current:!0};return(0,n.Y)(()=>{y.current&&O[0]()}),v.add(()=>{y.current=!1})},style(O,y,E){let d=O.style.getPropertyValue(y);return Object.assign(O.style,{[y]:E}),this.add(()=>{Object.assign(O.style,{[y]:d})})},group(O){let y=c();return O(y),this.add(()=>y.dispose())},add(O){return u.push(O),()=>{let y=u.indexOf(O);if(y>=0)for(let E of u.splice(y,1))E()}},dispose(){for(let O of u.splice(0))O()}};return v}},77896:(j,l,e)=>{"use strict";e.d(l,{O:()=>O});var n=Object.defineProperty,c=(y,E,d)=>E in y?n(y,E,{enumerable:!0,configurable:!0,writable:!0,value:d}):y[E]=d,u=(y,E,d)=>(c(y,typeof E!="symbol"?E+"":E,d),d);class v{constructor(){u(this,"current",this.detect()),u(this,"handoffState","pending"),u(this,"currentId",0)}set(E){this.current!==E&&(this.handoffState="pending",this.currentId=0,this.current=E)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window=="undefined"||typeof document=="undefined"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}}let O=new v},32984:(j,l,e)=>{"use strict";e.d(l,{E:()=>n});function n(c,u,...v){if(c in u){let y=u[c];return typeof y=="function"?y(...v):y}let O=new Error(`Tried to handle "${c}" but there is no handler defined. Only defined handlers are: ${Object.keys(u).map(y=>`"${y}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(O,n),O}},81021:(j,l,e)=>{"use strict";e.d(l,{Y:()=>n});function n(c){typeof queueMicrotask=="function"?queueMicrotask(c):Promise.resolve().then(c).catch(u=>setTimeout(()=>{throw u}))}},12351:(j,l,e)=>{"use strict";e.d(l,{AN:()=>v,l4:()=>O,oA:()=>S,sY:()=>y,yV:()=>P});var n=e(98661),c=e(44067),u=e(32984),v=(C=>(C[C.None=0]="None",C[C.RenderStrategy=1]="RenderStrategy",C[C.Static=2]="Static",C))(v||{}),O=(C=>(C[C.Unmount=0]="Unmount",C[C.Hidden=1]="Hidden",C))(O||{});function y({ourProps:C,theirProps:p,slot:i,defaultTag:s,features:_,visible:w=!0,name:x}){let D=g(p,C);if(w)return E(D,i,s,x);let N=_!=null?_:0;if(N&2){let I=D,{static:M=!1}=I,R=Or(I,["static"]);if(M)return E(R,i,s,x)}if(N&1){let A=D,{unmount:M=!0}=A,R=Or(A,["unmount"]);return(0,u.E)(M?0:1,{[0](){return null},[1](){return E(no(or({},R),{hidden:!0,style:{display:"none"}}),i,s,x)}})}return E(D,i,s,x)}function E(C,p={},i,s){let M=T(C,["unmount","static"]),{as:_=i,children:w,refName:x="ref"}=M,D=Or(M,["as","children","refName"]),N=C.ref!==void 0?{[x]:C.ref}:{},I=typeof w=="function"?w(p):w;"className"in D&&D.className&&typeof D.className=="function"&&(D.className=D.className(p));let A={};if(p){let R=!1,F=[];for(let[Z,V]of Object.entries(p))typeof V=="boolean"&&(R=!0),V===!0&&F.push(Z);R&&(A["data-headlessui-state"]=F.join(" "))}if(_===n.Fragment&&Object.keys(S(D)).length>0){if(!(0,n.isValidElement)(I)||Array.isArray(I)&&I.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(D).map(V=>`  - ${V}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(V=>`  - ${V}`).join(`
`)].join(`
`));let R=I.props,F=typeof(R==null?void 0:R.className)=="function"?(...V)=>(0,c.A)(R==null?void 0:R.className(...V),D.className):(0,c.A)(R==null?void 0:R.className,D.className),Z=F?{className:F}:{};return(0,n.cloneElement)(I,Object.assign({},g(I.props,S(T(D,["ref"]))),A,N,d(I.ref,N.ref),Z))}return(0,n.createElement)(_,Object.assign({},T(D,["ref"]),_!==n.Fragment&&N,_!==n.Fragment&&A),I)}function d(...C){return{ref:C.every(p=>p==null)?void 0:p=>{for(let i of C)i!=null&&(typeof i=="function"?i(p):i.current=p)}}}function g(...C){var p;if(C.length===0)return{};if(C.length===1)return C[0];let i={},s={};for(let _ of C)for(let w in _)w.startsWith("on")&&typeof _[w]=="function"?((p=s[w])!=null||(s[w]=[]),s[w].push(_[w])):i[w]=_[w];if(i.disabled||i["aria-disabled"])return Object.assign(i,Object.fromEntries(Object.keys(s).map(_=>[_,void 0])));for(let _ in s)Object.assign(i,{[_](w,...x){let D=s[_];for(let N of D){if((w instanceof Event||(w==null?void 0:w.nativeEvent)instanceof Event)&&w.defaultPrevented)return;N(w,...x)}}});return i}function P(C){var p;return Object.assign((0,n.forwardRef)(C),{displayName:(p=C.displayName)!=null?p:C.name})}function S(C){let p=Object.assign({},C);for(let i in p)p[i]===void 0&&delete p[i];return p}function T(C,p=[]){let i=Object.assign({},C);for(let s of p)s in i&&delete i[s];return i}},48583:(j,l,e)=>{"use strict";e.d(l,{KO:()=>P});var n=e(98661),c=e(15103);const u=(0,n.createContext)(void 0),v=S=>{const T=(0,n.useContext)(u);return(S==null?void 0:S.store)||T||(0,c.K7)()},O=({children:S,store:T})=>{const C=useRef();return!T&&!C.current&&(C.current=createStore()),createElement(u.Provider,{value:T||C.current},S)},y=S=>S instanceof Promise,E=n.default.use||(S=>{if(S.status==="pending")throw S;if(S.status==="fulfilled")return S.value;throw S.status==="rejected"?S.reason:(S.status="pending",S.then(T=>{S.status="fulfilled",S.value=T},T=>{S.status="rejected",S.reason=T}),S)});function d(S,T){const C=v(T),[[p,i,s],_]=(0,n.useReducer)(D=>{const N=C.get(S);return Object.is(D[0],N)&&D[1]===C&&D[2]===S?D:[N,C,S]},void 0,()=>[C.get(S),C,S]);let w=p;(i!==C||s!==S)&&(_(),w=C.get(S));const x=T==null?void 0:T.delay;return(0,n.useEffect)(()=>{const D=C.sub(S,()=>{if(typeof x=="number"){setTimeout(_,x);return}_()});return _(),D},[C,S,x]),(0,n.useDebugValue)(w),y(w)?E(w):w}function g(S,T){const C=v(T);return(0,n.useCallback)((...i)=>{if(!("write"in S))throw new Error("not writable atom");return C.set(S,...i)},[C,S])}function P(S,T){return[d(S,T),g(S,T)]}},15103:(j,l,e)=>{"use strict";e.d(l,{K7:()=>s,cn:()=>c});let n=0;function c(_,w){const x=`atom${++n}`,D={toString:()=>x};return typeof _=="function"?D.read=_:(D.init=_,D.read=N=>N(D),D.write=(N,I,A)=>I(D,typeof A=="function"?A(N(D)):A)),w&&(D.write=w),D}const u=_=>"init"in _,v=_=>!!_.write,O=new WeakMap,y=(_,w)=>{O.set(_,w),_.catch(()=>{}).finally(()=>O.delete(_))},E=(_,w)=>{const x=O.get(_);x&&(O.delete(_),x(w))},d=(_,w)=>{_.status="fulfilled",_.value=w},g=(_,w)=>{_.status="rejected",_.reason=w},P=(_,w)=>"v"in _&&"v"in w&&Object.is(_.v,w.v),S=(_,w)=>"e"in _&&"e"in w&&Object.is(_.e,w.e),T=_=>"v"in _&&_.v instanceof Promise,C=_=>{if("e"in _)throw _.e;return _.v},p=()=>{const _=new WeakMap,w=new WeakMap,x=new Map;let D,N,I;D=new Set,N=new Set,I=new Set;const A=z=>_.get(z),M=(z,Q)=>{Object.freeze(Q);const oe=_.get(z);if(_.set(z,Q),x.has(z)||x.set(z,oe),oe&&T(oe)){const ne="v"in Q?Q.v instanceof Promise?Q.v:Promise.resolve(Q.v):Promise.reject(Q.e);E(oe.v,ne)}},R=(z,Q,oe)=>{const ne=new Map;let ae=!1;oe.forEach(le=>{const ue=le===z?Q:A(le);ue?(ne.set(le,ue),Q.d.get(le)!==ue&&(ae=!0)):console.warn("[Bug] atom state not found")}),(ae||Q.d.size!==ne.size)&&(Q.d=ne)},F=(z,Q,oe)=>{const ne=A(z),ae={d:(ne==null?void 0:ne.d)||new Map,v:Q};return oe&&R(z,ae,oe),ne&&P(ne,ae)&&ne.d===ae.d?ne:(M(z,ae),ae)},Z=(z,Q,oe)=>{const ne=A(z),ae={d:(ne==null?void 0:ne.d)||new Map,e:Q};return oe&&R(z,ae,oe),ne&&S(ne,ae)&&ne.d===ae.d?ne:(M(z,ae),ae)},V=z=>{const Q=A(z);if(Q&&(Q.d.forEach((he,be)=>{be!==z&&!w.has(be)&&V(be)}),Array.from(Q.d).every(([he,be])=>he===z||A(he)===be)))return Q;const oe=new Set;let ne=!0;const ae=he=>{if(oe.add(he),he===z){const ve=A(he);if(ve)return C(ve);if(u(he))return he.init;throw new Error("no atom init")}const be=V(he);return C(be)};let le,ue;const fe={get signal(){return le||(le=new AbortController),le.signal},get setSelf(){return v(z)||console.warn("setSelf function cannot be used with read-only atom"),!ue&&v(z)&&(ue=(...he)=>{if(ne&&console.warn("setSelf function cannot be called in sync"),!ne)return Y(z,...he)}),ue}};try{const he=z.read(ae,fe);if(he instanceof Promise){let be;const ve=new Promise((Te,we)=>{let Se=!1;he.then(We=>{Se||(Se=!0,F(z,ve,oe),d(ve,We),Te(We))},We=>{Se||(Se=!0,F(z,ve,oe),g(ve,We),we(We))}),be=We=>{Se||(Se=!0,We.then(Ae=>d(ve,Ae),Ae=>g(ve,Ae)),Te(We))}});return ve.status="pending",y(ve,Te=>{Te&&be(Te),le==null||le.abort()}),F(z,ve,oe)}return F(z,he,oe)}catch(he){return Z(z,he,oe)}finally{ne=!1}},G=z=>C(V(z)),$=z=>{let Q=w.get(z);return Q||(Q=J(z)),Q},K=(z,Q)=>!Q.l.size&&(!Q.t.size||Q.t.size===1&&Q.t.has(z)),H=z=>{const Q=w.get(z);Q&&K(z,Q)&&te(z)},re=z=>{const Q=w.get(z);Q==null||Q.t.forEach(oe=>{if(oe!==z){const ne=A(oe),ae=V(oe);(!ne||!P(ne,ae))&&re(oe)}})},ee=(z,...Q)=>{let oe=!0;const ne=ue=>C(V(ue)),ae=(ue,...fe)=>{let he;if(ue===z){if(!u(ue))throw new Error("atom not writable");const be=A(ue),ve=F(ue,fe[0]);(!be||!P(be,ve))&&re(ue)}else he=ee(ue,...fe);return oe||se(),he},le=z.write(ne,ae,...Q);return oe=!1,le},Y=(z,...Q)=>{const oe=ee(z,...Q);return se(),oe},J=(z,Q)=>{const oe={t:new Set(Q&&[Q]),l:new Set};if(w.set(z,oe),I.add(z),V(z).d.forEach((ne,ae)=>{const le=w.get(ae);le?le.t.add(z):ae!==z&&J(ae,z)}),V(z),v(z)&&z.onMount){const ne=z.onMount((...ae)=>Y(z,...ae));ne&&(oe.u=ne)}return oe},te=z=>{var Q;const oe=(Q=w.get(z))==null?void 0:Q.u;oe&&oe(),w.delete(z),I.delete(z);const ne=A(z);ne?(T(ne)&&E(ne.v),ne.d.forEach((ae,le)=>{if(le!==z){const ue=w.get(le);ue&&(ue.t.delete(z),K(le,ue)&&te(le))}})):console.warn("[Bug] could not find atom state to unmount",z)},ie=(z,Q,oe)=>{const ne=new Set(Q.d.keys());oe==null||oe.forEach((ae,le)=>{if(ne.has(le)){ne.delete(le);return}const ue=w.get(le);ue&&(ue.t.delete(z),K(le,ue)&&te(le))}),ne.forEach(ae=>{const le=w.get(ae);le?le.t.add(z):w.has(z)&&J(ae,z)})},se=()=>{for(;x.size;){const z=Array.from(x);x.clear(),z.forEach(([Q,oe])=>{const ne=A(Q);if(ne){ne.d!==(oe==null?void 0:oe.d)&&ie(Q,ne,oe==null?void 0:oe.d);const ae=w.get(Q);ae&&!(oe&&!T(oe)&&(P(oe,ne)||S(oe,ne)))&&ae.l.forEach(le=>le())}else console.warn("[Bug] no atom state to flush")})}D.forEach(z=>z()),N.forEach(z=>z("state"))},W=(z,Q)=>{const oe=$(z);se();const ne=oe.l;return ne.add(Q),N.forEach(ae=>ae("sub")),()=>{ne.delete(Q),H(z),N.forEach(ae=>ae("unsub"))}};return{get:G,set:Y,sub:W,dev_subscribe_state:z=>(console.warn("[DEPRECATED] dev_subscribe_state is deprecated and will be removed in the next minor version. use dev_subscribe_store instead."),D.add(z),()=>{D.delete(z)}),dev_subscribe_store:z=>(N.add(z),()=>{N.delete(z)}),dev_get_mounted_atoms:()=>I.values(),dev_get_atom_state:z=>_.get(z),dev_get_mounted:z=>w.get(z),dev_restore_atoms:z=>{for(const[Q,oe]of z)u(Q)&&(F(Q,oe),re(Q));se()}}};let i;const s=()=>(i||(i=p()),i)},95495:(j,l,e)=>{"use strict";e.d(l,{xu:()=>v});const n=Symbol();function c(te){const ie=atom(te,(se,W,z)=>{const Q=typeof z=="function"?z(se(ie)):z;W(ie,Q===n?te:Q)});return ie}function u(te,ie){const se=atom(te,(W,z,Q)=>z(se,ie(W(se),Q)));return se}function v(te,ie){let se=null;const W=new Map,z=Q=>{let oe;if(ie===void 0)oe=W.get(Q);else for(const[ae,le]of W)if(ie(ae,Q)){oe=le;break}if(oe!==void 0)if(se!=null&&se(oe[1],Q))z.remove(Q);else return oe[0];const ne=te(Q);return W.set(Q,[ne,Date.now()]),ne};return z.remove=Q=>{if(ie===void 0)W.delete(Q);else for(const[oe]of W)if(ie(oe,Q)){W.delete(oe);break}},z.setShouldRemove=Q=>{if(se=Q,!!se)for(const[oe,ne]of W)se(ne[1],oe)&&W.delete(oe)},z}const O=(te,ie,se)=>(ie.has(se)?ie:ie.set(se,te())).get(se),y=new WeakMap,E=(te,ie,se,W)=>{const z=O(()=>new WeakMap,y,ie),Q=O(()=>new WeakMap,z,se);return O(te,Q,W)};function d(te,ie,se=Object.is){return E(()=>{const W=Symbol(),z=([oe,ne])=>{if(ne===W)return ie(oe);const ae=ie(oe,ne);return se(ne,ae)?ne:ae},Q=atom(oe=>{const ne=oe(Q),ae=oe(te);return ae instanceof Promise||ne instanceof Promise?Promise.all([ae,ne]).then(z):z([ae,ne])});return Q.init=W,Q},te,ie,se)}const g=new WeakMap,P=(te,ie)=>(g.has(ie)?g:g.set(ie,te())).get(ie),S=te=>{if(typeof te!="object"||te===null)return;Object.freeze(te);const ie=Object.getOwnPropertyNames(te);for(const se of ie){const W=te[se];S(W)}return te};function T(te){return P(()=>atom(se=>S(se(te)),(se,W,z)=>W(te,z)),te)}function C(te){return(...ie)=>{const se=te(...ie),W=se.read;return se.read=(z,Q)=>S(W(z,Q)),se}}const p=(te,ie,se)=>(ie.has(se)?ie:ie.set(se,te())).get(se),i=new WeakMap,s=(te,ie,se)=>{const W=p(()=>new WeakMap,i,ie);return p(te,W,se)},_={},w=te=>!!te.write,x=te=>typeof te=="function";function D(te,ie){return s(()=>{const se=new WeakMap,W=(oe,ne)=>{let ae=se.get(oe);if(ae)return ae;const le=ne&&se.get(ne),ue=[],fe=[];return oe.forEach((he,be)=>{const ve=ie?ie(he):be;fe[be]=ve;const Te=le&&le.atomList[le.keyList.indexOf(ve)];if(Te){ue[be]=Te;return}const we=We=>{const Ae=We(z),Be=We(te),ce=W(Be,Ae==null?void 0:Ae.arr).keyList.indexOf(ve);if(ce<0||ce>=Be.length){const _e=oe[W(oe).keyList.indexOf(ve)];if(_e)return _e;throw new Error("splitAtom: index out of bounds for read")}return Be[ce]},Se=(We,Ae,Be)=>{const de=We(z),ce=We(te),Oe=W(ce,de==null?void 0:de.arr).keyList.indexOf(ve);if(Oe<0||Oe>=ce.length)throw new Error("splitAtom: index out of bounds for write");const Le=x(Be)?Be(ce[Oe]):Be;Ae(te,[...ce.slice(0,Oe),Le,...ce.slice(Oe+1)])};ue[be]=w(te)?atom(we,Se):atom(we)}),le&&le.keyList.length===fe.length&&le.keyList.every((he,be)=>he===fe[be])?ae=le:ae={arr:oe,atomList:ue,keyList:fe},se.set(oe,ae),ae},z=atom(oe=>{const ne=oe(z),ae=oe(te);return W(ae,ne==null?void 0:ne.arr)});z.debugPrivate=!0,z.init=void 0;const Q=w(te)?atom(oe=>oe(z).atomList,(oe,ne,ae)=>{switch(ae.type){case"remove":{const le=oe(Q).indexOf(ae.atom);if(le>=0){const ue=oe(te);ne(te,[...ue.slice(0,le),...ue.slice(le+1)])}break}case"insert":{const le=ae.before?oe(Q).indexOf(ae.before):oe(Q).length;if(le>=0){const ue=oe(te);ne(te,[...ue.slice(0,le),ae.value,...ue.slice(le)])}break}case"move":{const le=oe(Q).indexOf(ae.atom),ue=ae.before?oe(Q).indexOf(ae.before):oe(Q).length;if(le>=0&&ue>=0){const fe=oe(te);le<ue?ne(te,[...fe.slice(0,le),...fe.slice(le+1,ue),fe[le],...fe.slice(ue)]):ne(te,[...fe.slice(0,ue),fe[le],...fe.slice(ue,le),...fe.slice(le+1)])}break}}}):atom(oe=>oe(z).atomList);return Q},te,ie||_)}const N=(te,ie)=>typeof ie=="function"?ie(te):ie;function I(te){const ie=Symbol(),se=atom(ie);se.debugPrivate=!0;const W=atom((z,Q)=>{const oe=z(se);return oe!==ie?oe:te(z,Q)},(z,Q,oe)=>{if(oe===n)return Q(se,ie);const ne=z(W);return ne instanceof Promise?ne.then(ae=>Q(se,N(ae,oe))):Q(se,N(ne,oe))});return W}const A=Symbol();function M(te){let ie,se;const W={getItem:z=>{var Q,oe;const ne=le=>{if(le=le||"",ie!==le){try{se=JSON.parse(le)}catch(ue){return A}ie=le}return se},ae=(oe=(Q=te())==null?void 0:Q.getItem(z))!=null?oe:null;return ae instanceof Promise?ae.then(ne):ne(ae)},setItem:(z,Q)=>{var oe;return(oe=te())==null?void 0:oe.setItem(z,JSON.stringify(Q))},removeItem:z=>{var Q;return(Q=te())==null?void 0:Q.removeItem(z)}};return typeof window!="undefined"&&typeof window.addEventListener=="function"&&(W.subscribe=(z,Q)=>{const oe=ne=>{ne.storageArea===te()&&ne.key===z&&ne.newValue&&Q(JSON.parse(ne.newValue))};return window.addEventListener("storage",oe),()=>{window.removeEventListener("storage",oe)}}),W}const R=M(()=>typeof window!="undefined"?window.localStorage:void 0);function F(te,ie,se=R){const W=atom(ie);return W.debugPrivate=!0,W.onMount=Q=>{const oe=se.getItem(te);oe instanceof Promise?oe.then(ae=>Q(ae===A?ie:ae)):Q(oe===A?ie:oe);let ne;return se.subscribe&&(ne=se.subscribe(te,Q)),ne},atom(Q=>Q(W),(Q,oe,ne)=>{const ae=typeof ne=="function"?ne(Q(W)):ne;return ae===n?(oe(W,ie),se.removeItem(te)):(oe(W,ae),se.setItem(te,ae))})}function Z(te,ie){const se=Q=>{if("e"in Q)throw Q.e;return Q.d},W=atom(Q=>{var oe;let ne=te(Q);const ae=(oe=ne[Symbol.observable])==null?void 0:oe.call(ne);ae&&(ne=ae);let le;const ue=()=>new Promise(Be=>{le=Be}),fe=ie&&"initialValue"in ie?{d:typeof ie.initialValue=="function"?ie.initialValue():ie.initialValue}:ue();let he,be;const ve=Be=>{be=Be,le==null||le(Be),he==null||he(Be)};let Te,we;const Se=()=>!he,We=()=>{Te&&(clearTimeout(we),Te.unsubscribe()),Te=ne.subscribe({next:Be=>ve({d:Be}),error:Be=>ve({e:Be}),complete:()=>{}}),Se()&&(ie!=null&&ie.unstable_timeout)&&(we=setTimeout(()=>{Te&&(Te.unsubscribe(),Te=void 0)},ie.unstable_timeout))};We();const Ae=atom(be||fe);return Ae.debugPrivate=!0,Ae.onMount=Be=>(he=Be,be&&Be(be),Te?clearTimeout(we):We(),()=>{he=void 0,Te&&(Te.unsubscribe(),Te=void 0)}),[Ae,ne,ue,We,Se]});return W.debugPrivate=!0,atom(Q=>{const[oe]=Q(W),ne=Q(oe);return ne instanceof Promise?ne.then(se):se(ne)},(Q,oe,ne)=>{const[ae,le,ue,fe,he]=Q(W);if("next"in le)he()&&(oe(ae,ue()),fe()),le.next(ne);else throw new Error("observable is not subject")})}const V=new WeakMap,G=(te,ie)=>(V.has(ie)?V:V.set(ie,te())).get(ie),$={state:"loading"};function K(te){return G(()=>{const ie=new WeakMap,se=atom(0);se.debugPrivate=!0;const W=atom((z,{setSelf:Q})=>{z(se);const oe=z(te);if(!(oe instanceof Promise))return{state:"hasData",data:oe};const ne=ie.get(oe);return ne||(ie.set(oe,$),oe.then(ae=>{ie.set(oe,{state:"hasData",data:ae})},ae=>{ie.set(oe,{state:"hasError",error:ae})}).finally(Q),$)},(z,Q)=>{Q(se,oe=>oe+1)});return W.debugPrivate=!0,atom(z=>z(W))},te)}const H=(te,ie,se)=>(ie.has(se)?ie:ie.set(se,te())).get(se),re=new WeakMap,ee=(te,ie,se)=>{const W=H(()=>new WeakMap,re,ie);return H(te,W,se)},Y=()=>{};function J(te,ie=Y){return ee(()=>{const se=new WeakMap,W=new WeakMap,z=atom(0);z.debugPrivate=!0;const Q=atom((oe,{setSelf:ne})=>{oe(z);const ae=oe(Q),le=oe(te);if(le===(ae==null?void 0:ae.p)){if(se.has(le))throw se.get(le);if(W.has(le))return{p:le,v:W.get(le)}}return le!==(ae==null?void 0:ae.p)&&le.then(ue=>W.set(le,ue),ue=>se.set(le,ue)).finally(ne),ae&&"v"in ae?{p:le,f:ie(ae.v)}:{p:le,f:ie()}},(oe,ne)=>{ne(z,ae=>ae+1)});return Q.init=void 0,Q.debugPrivate=!0,atom(oe=>{const ne=oe(Q);return"v"in ne?ne.v:ne.f})},te,ie)}},11753:(j,l,e)=>{"use strict";e.d(l,{$l:()=>v,BN:()=>oe,DY:()=>T,J$:()=>we,JN:()=>x,LI:()=>H,PM:()=>E,W6:()=>$,i_:()=>u,kY:()=>de,ko:()=>Je,kw:()=>K,mf:()=>y,o8:()=>O,qC:()=>Y,s6:()=>Le,sj:()=>Q,u3:()=>te,u_:()=>be,w6:()=>G});var n=e(98661);const c=()=>{},u=c(),v=Object,O=Ve=>Ve===u,y=Ve=>typeof Ve=="function",E=(Ve,pt)=>or(or({},Ve),pt),d=Ve=>y(Ve.then),g=new WeakMap;let P=0;const S=Ve=>{const pt=typeof Ve,$e=Ve&&Ve.constructor,Ie=$e==Date;let ye,Ce;if(v(Ve)===Ve&&!Ie&&$e!=RegExp){if(ye=g.get(Ve),ye)return ye;if(ye=++P+"~",g.set(Ve,ye),$e==Array){for(ye="@",Ce=0;Ce<Ve.length;Ce++)ye+=S(Ve[Ce])+",";g.set(Ve,ye)}if($e==v){ye="#";const xe=v.keys(Ve).sort();for(;!O(Ce=xe.pop());)O(Ve[Ce])||(ye+=Ce+":"+S(Ve[Ce])+",");g.set(Ve,ye)}}else ye=Ie?Ve.toJSON():pt=="symbol"?Ve.toString():pt=="string"?JSON.stringify(Ve):""+Ve;return ye},T=new WeakMap,C={},p={},i="undefined",s=typeof window!=i,_=typeof document!=i,w=()=>s&&typeof window.requestAnimationFrame!=i,x=(Ve,pt)=>{const $e=T.get(Ve);return[()=>!O(pt)&&Ve.get(pt)||C,Ie=>{if(!O(pt)){const ye=Ve.get(pt);pt in p||(p[pt]=ye),$e[5](pt,E(ye,Ie),ye||C)}},$e[6],()=>!O(pt)&&pt in p?p[pt]:!O(pt)&&Ve.get(pt)||C]};let D=!0;const N=()=>D,[I,A]=s&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[c,c],M=()=>{const Ve=_&&document.visibilityState;return O(Ve)||Ve!=="hidden"},R=Ve=>(_&&document.addEventListener("visibilitychange",Ve),I("focus",Ve),()=>{_&&document.removeEventListener("visibilitychange",Ve),A("focus",Ve)}),F=Ve=>{const pt=()=>{D=!0,Ve()},$e=()=>{D=!1};return I("online",pt),I("offline",$e),()=>{A("online",pt),A("offline",$e)}},Z={isOnline:N,isVisible:M},V={initFocus:R,initReconnect:F},G=!n.default.useId,$=!s||"Deno"in window,K=Ve=>w()?window.requestAnimationFrame(Ve):setTimeout(Ve,1),H=$?n.useEffect:n.useLayoutEffect,re=typeof navigator!="undefined"&&navigator.connection,ee=!$&&re&&(["slow-2g","2g"].includes(re.effectiveType)||re.saveData),Y=Ve=>{if(y(Ve))try{Ve=Ve()}catch($e){Ve=""}const pt=Ve;return Ve=typeof Ve=="string"?Ve:(Array.isArray(Ve)?Ve.length:Ve)?S(Ve):"",[Ve,pt]};let J=0;const te=()=>++J,ie=0,se=1,W=2;var Q={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:ie,MUTATE_EVENT:W,RECONNECT_EVENT:se};function oe(...Ve){return Vs(this,null,function*(){const[pt,$e,Ie,ye]=Ve,Ce=E({populateCache:!0,throwOnError:!0},typeof ye=="boolean"?{revalidate:ye}:ye||{});let xe=Ce.populateCache;const je=Ce.rollbackOnError;let He=Ce.optimisticData;const Ge=Ce.revalidate!==!1,Qe=it=>typeof je=="function"?je(it):je!==!1,ct=Ce.throwOnError;if(y($e)){const it=$e,tt=[],vt=pt.keys();for(const et of vt)!/^\$(inf|sub)\$/.test(et)&&it(pt.get(et)._k)&&tt.push(et);return Promise.all(tt.map(dt))}return dt($e);function dt(it){return Vs(this,null,function*(){const[tt]=Y(it);if(!tt)return;const[vt,et]=x(pt,tt),[Xe,Ne,ft,At]=T.get(pt),Ht=Xe[tt],rn=()=>Ge&&(delete ft[tt],delete At[tt],Ht&&Ht[0])?Ht[0](W).then(()=>vt().data):vt().data;if(Ve.length<3)return rn();let en=Ie,pn;const _n=te();Ne[tt]=[_n,0];const Tn=!O(He),dn=vt(),fn=dn.data,xn=dn._c,Dn=O(xn)?fn:xn;if(Tn&&(He=y(He)?He(Dn,fn):He,et({data:He,_c:Dn})),y(en))try{en=en(Dn)}catch(Fn){pn=Fn}if(en&&d(en))if(en=yield en.catch(Fn=>{pn=Fn}),_n!==Ne[tt][0]){if(pn)throw pn;return en}else pn&&Tn&&Qe(pn)&&(xe=!0,en=Dn,et({data:en,_c:u}));xe&&(pn||(y(xe)&&(en=xe(en,Dn)),et({data:en,error:u,_c:u}))),Ne[tt][1]=te();const Wn=yield rn();if(et({_c:u}),pn){if(ct)throw pn;return}return xe?Wn:en})}})}const ne=(Ve,pt)=>{for(const $e in Ve)Ve[$e][0]&&Ve[$e][0](pt)},ae=(Ve,pt)=>{if(!T.has(Ve)){const $e=E(V,pt),Ie={},ye=oe.bind(u,Ve);let Ce=c;const xe={},je=(Qe,ct)=>{const dt=xe[Qe]||[];return xe[Qe]=dt,dt.push(ct),()=>dt.splice(dt.indexOf(ct),1)},He=(Qe,ct,dt)=>{Ve.set(Qe,ct);const it=xe[Qe];if(it)for(const tt of it)tt(ct,dt)},Ge=()=>{if(!T.has(Ve)&&(T.set(Ve,[Ie,{},{},{},ye,He,je]),!$)){const Qe=$e.initFocus(setTimeout.bind(u,ne.bind(u,Ie,ie))),ct=$e.initReconnect(setTimeout.bind(u,ne.bind(u,Ie,se)));Ce=()=>{Qe&&Qe(),ct&&ct(),T.delete(Ve)}}};return Ge(),[Ve,ye,Ge,Ce]}return[Ve,T.get(Ve)[4]]},le=(Ve,pt,$e,Ie,ye)=>{const Ce=$e.errorRetryCount,xe=ye.retryCount,je=~~((Math.random()+.5)*(1<<(xe<8?xe:8)))*$e.errorRetryInterval;!O(Ce)&&xe>Ce||setTimeout(Ie,je,ye)},ue=(Ve,pt)=>S(Ve)==S(pt),[fe,he]=ae(new Map),be=E({onLoadingSlow:c,onSuccess:c,onError:c,onErrorRetry:le,onDiscarded:c,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ee?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:ee?5e3:3e3,compare:ue,isPaused:()=>!1,cache:fe,mutate:he,fallback:{}},Z),ve=(Ve,pt)=>{const $e=E(Ve,pt);if(pt){const{use:Ie,fallback:ye}=Ve,{use:Ce,fallback:xe}=pt;Ie&&Ce&&($e.use=Ie.concat(Ce)),ye&&xe&&($e.fallback=E(ye,xe))}return $e},Te=(0,n.createContext)({}),we=Ve=>{const{value:pt}=Ve,$e=(0,n.useContext)(Te),Ie=y(pt),ye=(0,n.useMemo)(()=>Ie?pt($e):pt,[Ie,$e,pt]),Ce=(0,n.useMemo)(()=>Ie?ye:ve($e,ye),[Ie,$e,ye]),xe=ye&&ye.provider,je=(0,n.useRef)(u);xe&&!je.current&&(je.current=ae(xe(Ce.cache||fe),ye));const He=je.current;return He&&(Ce.cache=He[0],Ce.mutate=He[1]),H(()=>{if(He)return He[2]&&He[2](),He[3]},[]),(0,n.createElement)(Te.Provider,E(Ve,{value:Ce}))},Se=s&&window.__SWR_DEVTOOLS_USE__,We=Se?window.__SWR_DEVTOOLS_USE__:[],Ae=()=>{Se&&(window.__SWR_DEVTOOLS_REACT__=n.default)},Be=Ve=>y(Ve[1])?[Ve[0],Ve[1],Ve[2]||{}]:[Ve[0],null,(Ve[1]===null?Ve[2]:Ve[1])||{}],de=()=>E(be,(0,n.useContext)(Te)),ce=(Ve,pt)=>{const[$e,Ie]=Y(Ve),[,,,ye]=T.get(fe);if(ye[$e])return ye[$e];const Ce=pt(Ie);return ye[$e]=Ce,Ce},_e=Ve=>(pt,$e,Ie)=>Ve(pt,$e&&((...Ce)=>{const[xe]=Y(pt),[,,,je]=T.get(fe),He=je[xe];return O(He)?$e(...Ce):(delete je[xe],He)}),Ie),Oe=We.concat(_e),Le=Ve=>function(...$e){const Ie=de(),[ye,Ce,xe]=Be($e),je=ve(Ie,xe);let He=Ve;const{use:Ge}=je,Qe=(Ge||[]).concat(Oe);for(let ct=Qe.length;ct--;)He=Qe[ct](He);return He(ye,Ce||je.fetcher||null,je)},ze=Ve=>{const pt=useState({})[1],$e=useRef(!1),Ie=useRef(Ve),ye=useRef({data:!1,error:!1,isValidating:!1}),Ce=useCallback(xe=>{let je=!1;const He=Ie.current;for(const Ge in xe){const Qe=Ge;He[Qe]!==xe[Qe]&&(He[Qe]=xe[Qe],ye.current[Qe]&&(je=!0))}je&&!$e.current&&(G?pt({}):React.startTransition(()=>pt({})))},[pt]);return H(()=>($e.current=!1,()=>{$e.current=!0})),[Ie,ye.current,Ce]},Je=(Ve,pt,$e)=>{const Ie=pt[Ve]||(pt[Ve]=[]);return Ie.push($e),()=>{const ye=Ie.indexOf($e);ye>=0&&(Ie[ye]=Ie[Ie.length-1],Ie.pop())}},Pt=(Ve,pt)=>(...$e)=>{const[Ie,ye,Ce]=Be($e),xe=(Ce.use||[]).concat(pt);return Ve(Ie,ye,no(or({},Ce),{use:xe}))};Ae()},95591:(j,l,e)=>{"use strict";e.d(l,{ZP:()=>g,kY:()=>u.kY});var n=e(98661),c=e(61688),u=e(11753);const v=P=>serialize(P)[0],O=n.default.use||(P=>{if(P.status==="pending")throw P;if(P.status==="fulfilled")return P.value;throw P.status==="rejected"?P.reason:(P.status="pending",P.then(S=>{P.status="fulfilled",P.value=S},S=>{P.status="rejected",P.reason=S}),P)}),y={dedupe:!0},E=(P,S,T)=>{const{cache:C,compare:p,suspense:i,fallbackData:s,revalidateOnMount:_,revalidateIfStale:w,refreshInterval:x,refreshWhenHidden:D,refreshWhenOffline:N,keepPreviousData:I}=T,[A,M,R,F]=u.DY.get(C),[Z,V]=(0,u.qC)(P),G=(0,n.useRef)(!1),$=(0,n.useRef)(!1),K=(0,n.useRef)(Z),H=(0,n.useRef)(S),re=(0,n.useRef)(T),ee=()=>re.current,Y=()=>ee().isVisible()&&ee().isOnline(),[J,te,ie,se]=(0,u.JN)(C,Z),W=(0,n.useRef)({}).current,z=(0,u.o8)(s)?T.fallback[Z]:s,Q=(de,ce)=>{for(const _e in W){const Oe=_e;if(Oe==="data"){if(!p(de[Oe],ce[Oe])&&(!(0,u.o8)(de[Oe])||!p(ve,ce[Oe])))return!1}else if(ce[Oe]!==de[Oe])return!1}return!0},oe=(0,n.useMemo)(()=>{const de=(()=>!Z||!S?!1:(0,u.o8)(_)?ee().isPaused()||i?!1:(0,u.o8)(w)?!0:w:_)(),ce=Pt=>{const Ve=(0,u.PM)(Pt);return delete Ve._k,de?or({isValidating:!0,isLoading:!0},Ve):Ve},_e=J(),Oe=se(),Le=ce(_e),ze=_e===Oe?Le:ce(Oe);let Je=Le;return[()=>{const Pt=ce(J());return Q(Pt,Je)?(Je.data=Pt.data,Je.isLoading=Pt.isLoading,Je.isValidating=Pt.isValidating,Je.error=Pt.error,Je):(Je=Pt,Pt)},()=>ze]},[C,Z]),ne=(0,c.useSyncExternalStore)((0,n.useCallback)(de=>ie(Z,(ce,_e)=>{Q(_e,ce)||de()}),[C,Z]),oe[0],oe[1]),ae=!G.current,le=A[Z]&&A[Z].length>0,ue=ne.data,fe=(0,u.o8)(ue)?z:ue,he=ne.error,be=(0,n.useRef)(fe),ve=I?(0,u.o8)(ue)?be.current:ue:fe,Te=(()=>le&&!(0,u.o8)(he)?!1:ae&&!(0,u.o8)(_)?_:ee().isPaused()?!1:i?(0,u.o8)(fe)?!1:w:(0,u.o8)(fe)||w)(),we=!!(Z&&S&&ae&&Te),Se=(0,u.o8)(ne.isValidating)?we:ne.isValidating,We=(0,u.o8)(ne.isLoading)?we:ne.isLoading,Ae=(0,n.useCallback)(de=>Vs(Wf,null,function*(){const ce=H.current;if(!Z||!ce||$.current||ee().isPaused())return!1;let _e,Oe,Le=!0;const ze=de||{},Je=!R[Z]||!ze.dedupe,Pt=()=>u.w6?!$.current&&Z===K.current&&G.current:Z===K.current,Ve={isValidating:!1,isLoading:!1},pt=()=>{te(Ve)},$e=()=>{const ye=R[Z];ye&&ye[1]===Oe&&delete R[Z]},Ie={isValidating:!0};(0,u.o8)(J().data)&&(Ie.isLoading=!0);try{if(Je&&(te(Ie),T.loadingTimeout&&(0,u.o8)(J().data)&&setTimeout(()=>{Le&&Pt()&&ee().onLoadingSlow(Z,T)},T.loadingTimeout),R[Z]=[ce(V),(0,u.u3)()]),[_e,Oe]=R[Z],_e=yield _e,Je&&setTimeout($e,T.dedupingInterval),!R[Z]||R[Z][1]!==Oe)return Je&&Pt()&&ee().onDiscarded(Z),!1;Ve.error=u.i_;const ye=M[Z];if(!(0,u.o8)(ye)&&(Oe<=ye[0]||Oe<=ye[1]||ye[1]===0))return pt(),Je&&Pt()&&ee().onDiscarded(Z),!1;const Ce=J().data;Ve.data=p(Ce,_e)?Ce:_e,Je&&Pt()&&ee().onSuccess(_e,Z,T)}catch(ye){$e();const Ce=ee(),{shouldRetryOnError:xe}=Ce;Ce.isPaused()||(Ve.error=ye,Je&&Pt()&&(Ce.onError(ye,Z,Ce),(xe===!0||(0,u.mf)(xe)&&xe(ye))&&Y()&&Ce.onErrorRetry(ye,Z,Ce,je=>{const He=A[Z];He&&He[0]&&He[0](u.sj.ERROR_REVALIDATE_EVENT,je)},{retryCount:(ze.retryCount||0)+1,dedupe:!0})))}return Le=!1,pt(),!0}),[Z,C]),Be=(0,n.useCallback)((...de)=>(0,u.BN)(C,K.current,...de),[]);if((0,u.LI)(()=>{H.current=S,re.current=T,(0,u.o8)(ue)||(be.current=ue)}),(0,u.LI)(()=>{if(!Z)return;const de=Ae.bind(u.i_,y);let ce=0;const _e=(Le,ze={})=>{if(Le==u.sj.FOCUS_EVENT){const Je=Date.now();ee().revalidateOnFocus&&Je>ce&&Y()&&(ce=Je+ee().focusThrottleInterval,de())}else if(Le==u.sj.RECONNECT_EVENT)ee().revalidateOnReconnect&&Y()&&de();else{if(Le==u.sj.MUTATE_EVENT)return Ae();if(Le==u.sj.ERROR_REVALIDATE_EVENT)return Ae(ze)}},Oe=(0,u.ko)(Z,A,_e);return $.current=!1,K.current=Z,G.current=!0,te({_k:V}),Te&&((0,u.o8)(fe)||u.W6?de():(0,u.kw)(de)),()=>{$.current=!0,Oe()}},[Z]),(0,u.LI)(()=>{let de;function ce(){const Oe=(0,u.mf)(x)?x(J().data):x;Oe&&de!==-1&&(de=setTimeout(_e,Oe))}function _e(){!J().error&&(D||ee().isVisible())&&(N||ee().isOnline())?Ae(y).then(ce):ce()}return ce(),()=>{de&&(clearTimeout(de),de=-1)}},[x,D,N,Z]),(0,n.useDebugValue)(ve),i&&(0,u.o8)(fe)&&Z){if(!u.w6&&u.W6)throw new Error("Fallback data is required when using suspense in SSR.");H.current=S,re.current=T,$.current=!1;const de=F[Z];if(!(0,u.o8)(de)){const ce=Be(de);O(ce)}if((0,u.o8)(he)){const ce=Ae(y);(0,u.o8)(ve)||(ce.status="fulfilled",ce.value=!0),O(ce)}else throw he}return{mutate:Be,get data(){return W.data=!0,ve},get error(){return W.error=!0,he},get isValidating(){return W.isValidating=!0,Se},get isLoading(){return W.isLoading=!0,We}}},d=u.$l.defineProperty(u.J$,"defaultValue",{value:u.u_}),g=(0,u.s6)(E)},33600:j=>{"use strict";j.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},59323:j=>{"use strict";j.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223E","acd":"\u223F","acE":"\u223E\u0333","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","Acy":"\u0410","acy":"\u0430","AElig":"\xC6","aelig":"\xE6","af":"\u2061","Afr":"\u{1D504}","afr":"\u{1D51E}","Agrave":"\xC0","agrave":"\xE0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03B1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2A3F","amp":"&","AMP":"&","andand":"\u2A55","And":"\u2A53","and":"\u2227","andd":"\u2A5C","andslope":"\u2A58","andv":"\u2A5A","ang":"\u2220","ange":"\u29A4","angle":"\u2220","angmsdaa":"\u29A8","angmsdab":"\u29A9","angmsdac":"\u29AA","angmsdad":"\u29AB","angmsdae":"\u29AC","angmsdaf":"\u29AD","angmsdag":"\u29AE","angmsdah":"\u29AF","angmsd":"\u2221","angrt":"\u221F","angrtvb":"\u22BE","angrtvbd":"\u299D","angsph":"\u2222","angst":"\xC5","angzarr":"\u237C","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1D538}","aopf":"\u{1D552}","apacir":"\u2A6F","ap":"\u2248","apE":"\u2A70","ape":"\u224A","apid":"\u224B","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224A","Aring":"\xC5","aring":"\xE5","Ascr":"\u{1D49C}","ascr":"\u{1D4B6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224D","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","awconint":"\u2233","awint":"\u2A11","backcong":"\u224C","backepsilon":"\u03F6","backprime":"\u2035","backsim":"\u223D","backsimeq":"\u22CD","Backslash":"\u2216","Barv":"\u2AE7","barvee":"\u22BD","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23B5","bbrktbrk":"\u23B6","bcong":"\u224C","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201E","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29B0","bepsi":"\u03F6","bernou":"\u212C","Bernoullis":"\u212C","Beta":"\u0392","beta":"\u03B2","beth":"\u2136","between":"\u226C","Bfr":"\u{1D505}","bfr":"\u{1D51F}","bigcap":"\u22C2","bigcirc":"\u25EF","bigcup":"\u22C3","bigodot":"\u2A00","bigoplus":"\u2A01","bigotimes":"\u2A02","bigsqcup":"\u2A06","bigstar":"\u2605","bigtriangledown":"\u25BD","bigtriangleup":"\u25B3","biguplus":"\u2A04","bigvee":"\u22C1","bigwedge":"\u22C0","bkarow":"\u290D","blacklozenge":"\u29EB","blacksquare":"\u25AA","blacktriangle":"\u25B4","blacktriangledown":"\u25BE","blacktriangleleft":"\u25C2","blacktriangleright":"\u25B8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20E5","bnequiv":"\u2261\u20E5","bNot":"\u2AED","bnot":"\u2310","Bopf":"\u{1D539}","bopf":"\u{1D553}","bot":"\u22A5","bottom":"\u22A5","bowtie":"\u22C8","boxbox":"\u29C9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250C","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252C","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229F","boxplus":"\u229E","boxtimes":"\u22A0","boxul":"\u2518","boxuL":"\u255B","boxUl":"\u255C","boxUL":"\u255D","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255A","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253C","boxvH":"\u256A","boxVh":"\u256B","boxVH":"\u256C","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251C","boxvR":"\u255E","boxVr":"\u255F","boxVR":"\u2560","bprime":"\u2035","breve":"\u02D8","Breve":"\u02D8","brvbar":"\xA6","bscr":"\u{1D4B7}","Bscr":"\u212C","bsemi":"\u204F","bsim":"\u223D","bsime":"\u22CD","bsolb":"\u29C5","bsol":"\\\\","bsolhsub":"\u27C8","bull":"\u2022","bullet":"\u2022","bump":"\u224E","bumpE":"\u2AAE","bumpe":"\u224F","Bumpeq":"\u224E","bumpeq":"\u224F","Cacute":"\u0106","cacute":"\u0107","capand":"\u2A44","capbrcup":"\u2A49","capcap":"\u2A4B","cap":"\u2229","Cap":"\u22D2","capcup":"\u2A47","capdot":"\u2A40","CapitalDifferentialD":"\u2145","caps":"\u2229\uFE00","caret":"\u2041","caron":"\u02C7","Cayleys":"\u212D","ccaps":"\u2A4D","Ccaron":"\u010C","ccaron":"\u010D","Ccedil":"\xC7","ccedil":"\xE7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2A4C","ccupssm":"\u2A50","Cdot":"\u010A","cdot":"\u010B","cedil":"\xB8","Cedilla":"\xB8","cemptyv":"\u29B2","cent":"\xA2","centerdot":"\xB7","CenterDot":"\xB7","cfr":"\u{1D520}","Cfr":"\u212D","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03A7","chi":"\u03C7","circ":"\u02C6","circeq":"\u2257","circlearrowleft":"\u21BA","circlearrowright":"\u21BB","circledast":"\u229B","circledcirc":"\u229A","circleddash":"\u229D","CircleDot":"\u2299","circledR":"\xAE","circledS":"\u24C8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25CB","cirE":"\u29C3","cire":"\u2257","cirfnint":"\u2A10","cirmid":"\u2AEF","cirscir":"\u29C2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201D","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2A74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2A6D","Congruent":"\u2261","conint":"\u222E","Conint":"\u222F","ContourIntegral":"\u222E","copf":"\u{1D554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xA9","COPY":"\xA9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21B5","cross":"\u2717","Cross":"\u2A2F","Cscr":"\u{1D49E}","cscr":"\u{1D4B8}","csub":"\u2ACF","csube":"\u2AD1","csup":"\u2AD0","csupe":"\u2AD2","ctdot":"\u22EF","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22DE","cuesc":"\u22DF","cularr":"\u21B6","cularrp":"\u293D","cupbrcap":"\u2A48","cupcap":"\u2A46","CupCap":"\u224D","cup":"\u222A","Cup":"\u22D3","cupcup":"\u2A4A","cupdot":"\u228D","cupor":"\u2A45","cups":"\u222A\uFE00","curarr":"\u21B7","curarrm":"\u293C","curlyeqprec":"\u22DE","curlyeqsucc":"\u22DF","curlyvee":"\u22CE","curlywedge":"\u22CF","curren":"\xA4","curvearrowleft":"\u21B6","curvearrowright":"\u21B7","cuvee":"\u22CE","cuwed":"\u22CF","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232D","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21A1","dArr":"\u21D3","dash":"\u2010","Dashv":"\u2AE4","dashv":"\u22A3","dbkarow":"\u290F","dblac":"\u02DD","Dcaron":"\u010E","dcaron":"\u010F","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21CA","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2A77","deg":"\xB0","Del":"\u2207","Delta":"\u0394","delta":"\u03B4","demptyv":"\u29B1","dfisht":"\u297F","Dfr":"\u{1D507}","dfr":"\u{1D521}","dHar":"\u2965","dharl":"\u21C3","dharr":"\u21C2","DiacriticalAcute":"\xB4","DiacriticalDot":"\u02D9","DiacriticalDoubleAcute":"\u02DD","DiacriticalGrave":"`","DiacriticalTilde":"\u02DC","diam":"\u22C4","diamond":"\u22C4","Diamond":"\u22C4","diamondsuit":"\u2666","diams":"\u2666","die":"\xA8","DifferentialD":"\u2146","digamma":"\u03DD","disin":"\u22F2","div":"\xF7","divide":"\xF7","divideontimes":"\u22C7","divonx":"\u22C7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231E","dlcrop":"\u230D","dollar":"$","Dopf":"\u{1D53B}","dopf":"\u{1D555}","Dot":"\xA8","dot":"\u02D9","DotDot":"\u20DC","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22A1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222F","DoubleDot":"\xA8","DoubleDownArrow":"\u21D3","DoubleLeftArrow":"\u21D0","DoubleLeftRightArrow":"\u21D4","DoubleLeftTee":"\u2AE4","DoubleLongLeftArrow":"\u27F8","DoubleLongLeftRightArrow":"\u27FA","DoubleLongRightArrow":"\u27F9","DoubleRightArrow":"\u21D2","DoubleRightTee":"\u22A8","DoubleUpArrow":"\u21D1","DoubleUpDownArrow":"\u21D5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21D3","DownArrowUpArrow":"\u21F5","DownBreve":"\u0311","downdownarrows":"\u21CA","downharpoonleft":"\u21C3","downharpoonright":"\u21C2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295E","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21BD","DownRightTeeVector":"\u295F","DownRightVectorBar":"\u2957","DownRightVector":"\u21C1","DownTeeArrow":"\u21A7","DownTee":"\u22A4","drbkarow":"\u2910","drcorn":"\u231F","drcrop":"\u230C","Dscr":"\u{1D49F}","dscr":"\u{1D4B9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29F6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22F1","dtri":"\u25BF","dtrif":"\u25BE","duarr":"\u21F5","duhar":"\u296F","dwangle":"\u29A6","DZcy":"\u040F","dzcy":"\u045F","dzigrarr":"\u27FF","Eacute":"\xC9","eacute":"\xE9","easter":"\u2A6E","Ecaron":"\u011A","ecaron":"\u011B","Ecirc":"\xCA","ecirc":"\xEA","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042D","ecy":"\u044D","eDDot":"\u2A77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1D508}","efr":"\u{1D522}","eg":"\u2A9A","Egrave":"\xC8","egrave":"\xE8","egs":"\u2A96","egsdot":"\u2A98","el":"\u2A99","Element":"\u2208","elinters":"\u23E7","ell":"\u2113","els":"\u2A95","elsdot":"\u2A97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25FB","emptyv":"\u2205","EmptyVerySmallSquare":"\u25AB","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014A","eng":"\u014B","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1D53C}","eopf":"\u{1D556}","epar":"\u22D5","eparsl":"\u29E3","eplus":"\u2A71","epsi":"\u03B5","Epsilon":"\u0395","epsilon":"\u03B5","epsiv":"\u03F5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2A96","eqslantless":"\u2A95","Equal":"\u2A75","equals":"=","EqualTilde":"\u2242","equest":"\u225F","Equilibrium":"\u21CC","equiv":"\u2261","equivDD":"\u2A78","eqvparsl":"\u29E5","erarr":"\u2971","erDot":"\u2253","escr":"\u212F","Escr":"\u2130","esdot":"\u2250","Esim":"\u2A73","esim":"\u2242","Eta":"\u0397","eta":"\u03B7","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","euro":"\u20AC","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\uFB03","fflig":"\uFB00","ffllig":"\uFB04","Ffr":"\u{1D509}","ffr":"\u{1D523}","filig":"\uFB01","FilledSmallSquare":"\u25FC","FilledVerySmallSquare":"\u25AA","fjlig":"fj","flat":"\u266D","fllig":"\uFB02","fltns":"\u25B1","fnof":"\u0192","Fopf":"\u{1D53D}","fopf":"\u{1D557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22D4","forkv":"\u2AD9","Fouriertrf":"\u2131","fpartint":"\u2A0D","frac12":"\xBD","frac13":"\u2153","frac14":"\xBC","frac15":"\u2155","frac16":"\u2159","frac18":"\u215B","frac23":"\u2154","frac25":"\u2156","frac34":"\xBE","frac35":"\u2157","frac38":"\u215C","frac45":"\u2158","frac56":"\u215A","frac58":"\u215D","frac78":"\u215E","frasl":"\u2044","frown":"\u2322","fscr":"\u{1D4BB}","Fscr":"\u2131","gacute":"\u01F5","Gamma":"\u0393","gamma":"\u03B3","Gammad":"\u03DC","gammad":"\u03DD","gap":"\u2A86","Gbreve":"\u011E","gbreve":"\u011F","Gcedil":"\u0122","Gcirc":"\u011C","gcirc":"\u011D","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2A8C","gel":"\u22DB","geq":"\u2265","geqq":"\u2267","geqslant":"\u2A7E","gescc":"\u2AA9","ges":"\u2A7E","gesdot":"\u2A80","gesdoto":"\u2A82","gesdotol":"\u2A84","gesl":"\u22DB\uFE00","gesles":"\u2A94","Gfr":"\u{1D50A}","gfr":"\u{1D524}","gg":"\u226B","Gg":"\u22D9","ggg":"\u22D9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2AA5","gl":"\u2277","glE":"\u2A92","glj":"\u2AA4","gnap":"\u2A8A","gnapprox":"\u2A8A","gne":"\u2A88","gnE":"\u2269","gneq":"\u2A88","gneqq":"\u2269","gnsim":"\u22E7","Gopf":"\u{1D53E}","gopf":"\u{1D558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22DB","GreaterFullEqual":"\u2267","GreaterGreater":"\u2AA2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2A7E","GreaterTilde":"\u2273","Gscr":"\u{1D4A2}","gscr":"\u210A","gsim":"\u2273","gsime":"\u2A8E","gsiml":"\u2A90","gtcc":"\u2AA7","gtcir":"\u2A7A","gt":">","GT":">","Gt":"\u226B","gtdot":"\u22D7","gtlPar":"\u2995","gtquest":"\u2A7C","gtrapprox":"\u2A86","gtrarr":"\u2978","gtrdot":"\u22D7","gtreqless":"\u22DB","gtreqqless":"\u2A8C","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\uFE00","gvnE":"\u2269\uFE00","Hacek":"\u02C7","hairsp":"\u200A","half":"\xBD","hamilt":"\u210B","HARDcy":"\u042A","hardcy":"\u044A","harrcir":"\u2948","harr":"\u2194","hArr":"\u21D4","harrw":"\u21AD","Hat":"^","hbar":"\u210F","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22B9","hfr":"\u{1D525}","Hfr":"\u210C","HilbertSpace":"\u210B","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21FF","homtht":"\u223B","hookleftarrow":"\u21A9","hookrightarrow":"\u21AA","hopf":"\u{1D559}","Hopf":"\u210D","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1D4BD}","Hscr":"\u210B","hslash":"\u210F","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224E","HumpEqual":"\u224F","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xCD","iacute":"\xED","ic":"\u2063","Icirc":"\xCE","icirc":"\xEE","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xA1","iff":"\u21D4","ifr":"\u{1D526}","Ifr":"\u2111","Igrave":"\xCC","igrave":"\xEC","ii":"\u2148","iiiint":"\u2A0C","iiint":"\u222D","iinfin":"\u29DC","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012A","imacr":"\u012B","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22B7","imped":"\u01B5","Implies":"\u21D2","incare":"\u2105","in":"\u2208","infin":"\u221E","infintie":"\u29DD","inodot":"\u0131","intcal":"\u22BA","int":"\u222B","Int":"\u222C","integers":"\u2124","Integral":"\u222B","intercal":"\u22BA","Intersection":"\u22C2","intlarhk":"\u2A17","intprod":"\u2A3C","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012E","iogon":"\u012F","Iopf":"\u{1D540}","iopf":"\u{1D55A}","Iota":"\u0399","iota":"\u03B9","iprod":"\u2A3C","iquest":"\xBF","iscr":"\u{1D4BE}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22F5","isinE":"\u22F9","isins":"\u22F4","isinsv":"\u22F3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xCF","iuml":"\xEF","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1D50D}","jfr":"\u{1D527}","jmath":"\u0237","Jopf":"\u{1D541}","jopf":"\u{1D55B}","Jscr":"\u{1D4A5}","jscr":"\u{1D4BF}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039A","kappa":"\u03BA","kappav":"\u03F0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041A","kcy":"\u043A","Kfr":"\u{1D50E}","kfr":"\u{1D528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040C","kjcy":"\u045C","Kopf":"\u{1D542}","kopf":"\u{1D55C}","Kscr":"\u{1D4A6}","kscr":"\u{1D4C0}","lAarr":"\u21DA","Lacute":"\u0139","lacute":"\u013A","laemptyv":"\u29B4","lagran":"\u2112","Lambda":"\u039B","lambda":"\u03BB","lang":"\u27E8","Lang":"\u27EA","langd":"\u2991","langle":"\u27E8","lap":"\u2A85","Laplacetrf":"\u2112","laquo":"\xAB","larrb":"\u21E4","larrbfs":"\u291F","larr":"\u2190","Larr":"\u219E","lArr":"\u21D0","larrfs":"\u291D","larrhk":"\u21A9","larrlp":"\u21AB","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21A2","latail":"\u2919","lAtail":"\u291B","lat":"\u2AAB","late":"\u2AAD","lates":"\u2AAD\uFE00","lbarr":"\u290C","lBarr":"\u290E","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298B","lbrksld":"\u298F","lbrkslu":"\u298D","Lcaron":"\u013D","lcaron":"\u013E","Lcedil":"\u013B","lcedil":"\u013C","lceil":"\u2308","lcub":"{","Lcy":"\u041B","lcy":"\u043B","ldca":"\u2936","ldquo":"\u201C","ldquor":"\u201E","ldrdhar":"\u2967","ldrushar":"\u294B","ldsh":"\u21B2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27E8","LeftArrowBar":"\u21E4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21D0","LeftArrowRightArrow":"\u21C6","leftarrowtail":"\u21A2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27E6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21C3","LeftFloor":"\u230A","leftharpoondown":"\u21BD","leftharpoonup":"\u21BC","leftleftarrows":"\u21C7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21D4","leftrightarrows":"\u21C6","leftrightharpoons":"\u21CB","leftrightsquigarrow":"\u21AD","LeftRightVector":"\u294E","LeftTeeArrow":"\u21A4","LeftTee":"\u22A3","LeftTeeVector":"\u295A","leftthreetimes":"\u22CB","LeftTriangleBar":"\u29CF","LeftTriangle":"\u22B2","LeftTriangleEqual":"\u22B4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21BF","LeftVectorBar":"\u2952","LeftVector":"\u21BC","lEg":"\u2A8B","leg":"\u22DA","leq":"\u2264","leqq":"\u2266","leqslant":"\u2A7D","lescc":"\u2AA8","les":"\u2A7D","lesdot":"\u2A7F","lesdoto":"\u2A81","lesdotor":"\u2A83","lesg":"\u22DA\uFE00","lesges":"\u2A93","lessapprox":"\u2A85","lessdot":"\u22D6","lesseqgtr":"\u22DA","lesseqqgtr":"\u2A8B","LessEqualGreater":"\u22DA","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2AA1","lesssim":"\u2272","LessSlantEqual":"\u2A7D","LessTilde":"\u2272","lfisht":"\u297C","lfloor":"\u230A","Lfr":"\u{1D50F}","lfr":"\u{1D529}","lg":"\u2276","lgE":"\u2A91","lHar":"\u2962","lhard":"\u21BD","lharu":"\u21BC","lharul":"\u296A","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21C7","ll":"\u226A","Ll":"\u22D8","llcorner":"\u231E","Lleftarrow":"\u21DA","llhard":"\u296B","lltri":"\u25FA","Lmidot":"\u013F","lmidot":"\u0140","lmoustache":"\u23B0","lmoust":"\u23B0","lnap":"\u2A89","lnapprox":"\u2A89","lne":"\u2A87","lnE":"\u2268","lneq":"\u2A87","lneqq":"\u2268","lnsim":"\u22E6","loang":"\u27EC","loarr":"\u21FD","lobrk":"\u27E6","longleftarrow":"\u27F5","LongLeftArrow":"\u27F5","Longleftarrow":"\u27F8","longleftrightarrow":"\u27F7","LongLeftRightArrow":"\u27F7","Longleftrightarrow":"\u27FA","longmapsto":"\u27FC","longrightarrow":"\u27F6","LongRightArrow":"\u27F6","Longrightarrow":"\u27F9","looparrowleft":"\u21AB","looparrowright":"\u21AC","lopar":"\u2985","Lopf":"\u{1D543}","lopf":"\u{1D55D}","loplus":"\u2A2D","lotimes":"\u2A34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25CA","lozenge":"\u25CA","lozf":"\u29EB","lpar":"(","lparlt":"\u2993","lrarr":"\u21C6","lrcorner":"\u231F","lrhar":"\u21CB","lrhard":"\u296D","lrm":"\u200E","lrtri":"\u22BF","lsaquo":"\u2039","lscr":"\u{1D4C1}","Lscr":"\u2112","lsh":"\u21B0","Lsh":"\u21B0","lsim":"\u2272","lsime":"\u2A8D","lsimg":"\u2A8F","lsqb":"[","lsquo":"\u2018","lsquor":"\u201A","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2AA6","ltcir":"\u2A79","lt":"<","LT":"<","Lt":"\u226A","ltdot":"\u22D6","lthree":"\u22CB","ltimes":"\u22C9","ltlarr":"\u2976","ltquest":"\u2A7B","ltri":"\u25C3","ltrie":"\u22B4","ltrif":"\u25C2","ltrPar":"\u2996","lurdshar":"\u294A","luruhar":"\u2966","lvertneqq":"\u2268\uFE00","lvnE":"\u2268\uFE00","macr":"\xAF","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21A6","mapsto":"\u21A6","mapstodown":"\u21A7","mapstoleft":"\u21A4","mapstoup":"\u21A5","marker":"\u25AE","mcomma":"\u2A29","Mcy":"\u041C","mcy":"\u043C","mdash":"\u2014","mDDot":"\u223A","measuredangle":"\u2221","MediumSpace":"\u205F","Mellintrf":"\u2133","Mfr":"\u{1D510}","mfr":"\u{1D52A}","mho":"\u2127","micro":"\xB5","midast":"*","midcir":"\u2AF0","mid":"\u2223","middot":"\xB7","minusb":"\u229F","minus":"\u2212","minusd":"\u2238","minusdu":"\u2A2A","MinusPlus":"\u2213","mlcp":"\u2ADB","mldr":"\u2026","mnplus":"\u2213","models":"\u22A7","Mopf":"\u{1D544}","mopf":"\u{1D55E}","mp":"\u2213","mscr":"\u{1D4C2}","Mscr":"\u2133","mstpos":"\u223E","Mu":"\u039C","mu":"\u03BC","multimap":"\u22B8","mumap":"\u22B8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20D2","nap":"\u2249","napE":"\u2A70\u0338","napid":"\u224B\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266E","naturals":"\u2115","natur":"\u266E","nbsp":"\xA0","nbump":"\u224E\u0338","nbumpe":"\u224F\u0338","ncap":"\u2A43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2A6D\u0338","ncup":"\u2A42","Ncy":"\u041D","ncy":"\u043D","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21D7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200B","NegativeThickSpace":"\u200B","NegativeThinSpace":"\u200B","NegativeVeryThinSpace":"\u200B","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226B","NestedLessLess":"\u226A","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1D511}","nfr":"\u{1D52B}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2A7E\u0338","nges":"\u2A7E\u0338","nGg":"\u22D9\u0338","ngsim":"\u2275","nGt":"\u226B\u20D2","ngt":"\u226F","ngtr":"\u226F","nGtv":"\u226B\u0338","nharr":"\u21AE","nhArr":"\u21CE","nhpar":"\u2AF2","ni":"\u220B","nis":"\u22FC","nisd":"\u22FA","niv":"\u220B","NJcy":"\u040A","njcy":"\u045A","nlarr":"\u219A","nlArr":"\u21CD","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219A","nLeftarrow":"\u21CD","nleftrightarrow":"\u21AE","nLeftrightarrow":"\u21CE","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2A7D\u0338","nles":"\u2A7D\u0338","nless":"\u226E","nLl":"\u22D8\u0338","nlsim":"\u2274","nLt":"\u226A\u20D2","nlt":"\u226E","nltri":"\u22EA","nltrie":"\u22EC","nLtv":"\u226A\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xA0","nopf":"\u{1D55F}","Nopf":"\u2115","Not":"\u2AEC","not":"\xAC","NotCongruent":"\u2262","NotCupCap":"\u226D","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226F","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226B\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2A7E\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224E\u0338","NotHumpEqual":"\u224F\u0338","notin":"\u2209","notindot":"\u22F5\u0338","notinE":"\u22F9\u0338","notinva":"\u2209","notinvb":"\u22F7","notinvc":"\u22F6","NotLeftTriangleBar":"\u29CF\u0338","NotLeftTriangle":"\u22EA","NotLeftTriangleEqual":"\u22EC","NotLess":"\u226E","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226A\u0338","NotLessSlantEqual":"\u2A7D\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2AA2\u0338","NotNestedLessLess":"\u2AA1\u0338","notni":"\u220C","notniva":"\u220C","notnivb":"\u22FE","notnivc":"\u22FD","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2AAF\u0338","NotPrecedesSlantEqual":"\u22E0","NotReverseElement":"\u220C","NotRightTriangleBar":"\u29D0\u0338","NotRightTriangle":"\u22EB","NotRightTriangleEqual":"\u22ED","NotSquareSubset":"\u228F\u0338","NotSquareSubsetEqual":"\u22E2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22E3","NotSubset":"\u2282\u20D2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2AB0\u0338","NotSucceedsSlantEqual":"\u22E1","NotSucceedsTilde":"\u227F\u0338","NotSuperset":"\u2283\u20D2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2AFD\u20E5","npart":"\u2202\u0338","npolint":"\u2A14","npr":"\u2280","nprcue":"\u22E0","nprec":"\u2280","npreceq":"\u2AAF\u0338","npre":"\u2AAF\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219B","nrArr":"\u21CF","nrarrw":"\u219D\u0338","nrightarrow":"\u219B","nRightarrow":"\u21CF","nrtri":"\u22EB","nrtrie":"\u22ED","nsc":"\u2281","nsccue":"\u22E1","nsce":"\u2AB0\u0338","Nscr":"\u{1D4A9}","nscr":"\u{1D4C3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22E2","nsqsupe":"\u22E3","nsub":"\u2284","nsubE":"\u2AC5\u0338","nsube":"\u2288","nsubset":"\u2282\u20D2","nsubseteq":"\u2288","nsubseteqq":"\u2AC5\u0338","nsucc":"\u2281","nsucceq":"\u2AB0\u0338","nsup":"\u2285","nsupE":"\u2AC6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20D2","nsupseteq":"\u2289","nsupseteqq":"\u2AC6\u0338","ntgl":"\u2279","Ntilde":"\xD1","ntilde":"\xF1","ntlg":"\u2278","ntriangleleft":"\u22EA","ntrianglelefteq":"\u22EC","ntriangleright":"\u22EB","ntrianglerighteq":"\u22ED","Nu":"\u039D","nu":"\u03BD","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224D\u20D2","nvdash":"\u22AC","nvDash":"\u22AD","nVdash":"\u22AE","nVDash":"\u22AF","nvge":"\u2265\u20D2","nvgt":">\u20D2","nvHarr":"\u2904","nvinfin":"\u29DE","nvlArr":"\u2902","nvle":"\u2264\u20D2","nvlt":"<\u20D2","nvltrie":"\u22B4\u20D2","nvrArr":"\u2903","nvrtrie":"\u22B5\u20D2","nvsim":"\u223C\u20D2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21D6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xD3","oacute":"\xF3","oast":"\u229B","Ocirc":"\xD4","ocirc":"\xF4","ocir":"\u229A","Ocy":"\u041E","ocy":"\u043E","odash":"\u229D","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2A38","odot":"\u2299","odsold":"\u29BC","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29BF","Ofr":"\u{1D512}","ofr":"\u{1D52C}","ogon":"\u02DB","Ograve":"\xD2","ograve":"\xF2","ogt":"\u29C1","ohbar":"\u29B5","ohm":"\u03A9","oint":"\u222E","olarr":"\u21BA","olcir":"\u29BE","olcross":"\u29BB","oline":"\u203E","olt":"\u29C0","Omacr":"\u014C","omacr":"\u014D","Omega":"\u03A9","omega":"\u03C9","Omicron":"\u039F","omicron":"\u03BF","omid":"\u29B6","ominus":"\u2296","Oopf":"\u{1D546}","oopf":"\u{1D560}","opar":"\u29B7","OpenCurlyDoubleQuote":"\u201C","OpenCurlyQuote":"\u2018","operp":"\u29B9","oplus":"\u2295","orarr":"\u21BB","Or":"\u2A54","or":"\u2228","ord":"\u2A5D","order":"\u2134","orderof":"\u2134","ordf":"\xAA","ordm":"\xBA","origof":"\u22B6","oror":"\u2A56","orslope":"\u2A57","orv":"\u2A5B","oS":"\u24C8","Oscr":"\u{1D4AA}","oscr":"\u2134","Oslash":"\xD8","oslash":"\xF8","osol":"\u2298","Otilde":"\xD5","otilde":"\xF5","otimesas":"\u2A36","Otimes":"\u2A37","otimes":"\u2297","Ouml":"\xD6","ouml":"\xF6","ovbar":"\u233D","OverBar":"\u203E","OverBrace":"\u23DE","OverBracket":"\u23B4","OverParenthesis":"\u23DC","para":"\xB6","parallel":"\u2225","par":"\u2225","parsim":"\u2AF3","parsl":"\u2AFD","part":"\u2202","PartialD":"\u2202","Pcy":"\u041F","pcy":"\u043F","percnt":"%","period":".","permil":"\u2030","perp":"\u22A5","pertenk":"\u2031","Pfr":"\u{1D513}","pfr":"\u{1D52D}","Phi":"\u03A6","phi":"\u03C6","phiv":"\u03D5","phmmat":"\u2133","phone":"\u260E","Pi":"\u03A0","pi":"\u03C0","pitchfork":"\u22D4","piv":"\u03D6","planck":"\u210F","planckh":"\u210E","plankv":"\u210F","plusacir":"\u2A23","plusb":"\u229E","pluscir":"\u2A22","plus":"+","plusdo":"\u2214","plusdu":"\u2A25","pluse":"\u2A72","PlusMinus":"\xB1","plusmn":"\xB1","plussim":"\u2A26","plustwo":"\u2A27","pm":"\xB1","Poincareplane":"\u210C","pointint":"\u2A15","popf":"\u{1D561}","Popf":"\u2119","pound":"\xA3","prap":"\u2AB7","Pr":"\u2ABB","pr":"\u227A","prcue":"\u227C","precapprox":"\u2AB7","prec":"\u227A","preccurlyeq":"\u227C","Precedes":"\u227A","PrecedesEqual":"\u2AAF","PrecedesSlantEqual":"\u227C","PrecedesTilde":"\u227E","preceq":"\u2AAF","precnapprox":"\u2AB9","precneqq":"\u2AB5","precnsim":"\u22E8","pre":"\u2AAF","prE":"\u2AB3","precsim":"\u227E","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2AB9","prnE":"\u2AB5","prnsim":"\u22E8","prod":"\u220F","Product":"\u220F","profalar":"\u232E","profline":"\u2312","profsurf":"\u2313","prop":"\u221D","Proportional":"\u221D","Proportion":"\u2237","propto":"\u221D","prsim":"\u227E","prurel":"\u22B0","Pscr":"\u{1D4AB}","pscr":"\u{1D4C5}","Psi":"\u03A8","psi":"\u03C8","puncsp":"\u2008","Qfr":"\u{1D514}","qfr":"\u{1D52E}","qint":"\u2A0C","qopf":"\u{1D562}","Qopf":"\u211A","qprime":"\u2057","Qscr":"\u{1D4AC}","qscr":"\u{1D4C6}","quaternions":"\u210D","quatint":"\u2A16","quest":"?","questeq":"\u225F","quot":"\\"","QUOT":"\\"","rAarr":"\u21DB","race":"\u223D\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221A","raemptyv":"\u29B3","rang":"\u27E9","Rang":"\u27EB","rangd":"\u2992","range":"\u29A5","rangle":"\u27E9","raquo":"\xBB","rarrap":"\u2975","rarrb":"\u21E5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21A0","rArr":"\u21D2","rarrfs":"\u291E","rarrhk":"\u21AA","rarrlp":"\u21AC","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21A3","rarrw":"\u219D","ratail":"\u291A","rAtail":"\u291C","ratio":"\u2236","rationals":"\u211A","rbarr":"\u290D","rBarr":"\u290F","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298C","rbrksld":"\u298E","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201D","rdquor":"\u201D","rdsh":"\u21B3","real":"\u211C","realine":"\u211B","realpart":"\u211C","reals":"\u211D","Re":"\u211C","rect":"\u25AD","reg":"\xAE","REG":"\xAE","ReverseElement":"\u220B","ReverseEquilibrium":"\u21CB","ReverseUpEquilibrium":"\u296F","rfisht":"\u297D","rfloor":"\u230B","rfr":"\u{1D52F}","Rfr":"\u211C","rHar":"\u2964","rhard":"\u21C1","rharu":"\u21C0","rharul":"\u296C","Rho":"\u03A1","rho":"\u03C1","rhov":"\u03F1","RightAngleBracket":"\u27E9","RightArrowBar":"\u21E5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21D2","RightArrowLeftArrow":"\u21C4","rightarrowtail":"\u21A3","RightCeiling":"\u2309","RightDoubleBracket":"\u27E7","RightDownTeeVector":"\u295D","RightDownVectorBar":"\u2955","RightDownVector":"\u21C2","RightFloor":"\u230B","rightharpoondown":"\u21C1","rightharpoonup":"\u21C0","rightleftarrows":"\u21C4","rightleftharpoons":"\u21CC","rightrightarrows":"\u21C9","rightsquigarrow":"\u219D","RightTeeArrow":"\u21A6","RightTee":"\u22A2","RightTeeVector":"\u295B","rightthreetimes":"\u22CC","RightTriangleBar":"\u29D0","RightTriangle":"\u22B3","RightTriangleEqual":"\u22B5","RightUpDownVector":"\u294F","RightUpTeeVector":"\u295C","RightUpVectorBar":"\u2954","RightUpVector":"\u21BE","RightVectorBar":"\u2953","RightVector":"\u21C0","ring":"\u02DA","risingdotseq":"\u2253","rlarr":"\u21C4","rlhar":"\u21CC","rlm":"\u200F","rmoustache":"\u23B1","rmoust":"\u23B1","rnmid":"\u2AEE","roang":"\u27ED","roarr":"\u21FE","robrk":"\u27E7","ropar":"\u2986","ropf":"\u{1D563}","Ropf":"\u211D","roplus":"\u2A2E","rotimes":"\u2A35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2A12","rrarr":"\u21C9","Rrightarrow":"\u21DB","rsaquo":"\u203A","rscr":"\u{1D4C7}","Rscr":"\u211B","rsh":"\u21B1","Rsh":"\u21B1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22CC","rtimes":"\u22CA","rtri":"\u25B9","rtrie":"\u22B5","rtrif":"\u25B8","rtriltri":"\u29CE","RuleDelayed":"\u29F4","ruluhar":"\u2968","rx":"\u211E","Sacute":"\u015A","sacute":"\u015B","sbquo":"\u201A","scap":"\u2AB8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2ABC","sc":"\u227B","sccue":"\u227D","sce":"\u2AB0","scE":"\u2AB4","Scedil":"\u015E","scedil":"\u015F","Scirc":"\u015C","scirc":"\u015D","scnap":"\u2ABA","scnE":"\u2AB6","scnsim":"\u22E9","scpolint":"\u2A13","scsim":"\u227F","Scy":"\u0421","scy":"\u0441","sdotb":"\u22A1","sdot":"\u22C5","sdote":"\u2A66","searhk":"\u2925","searr":"\u2198","seArr":"\u21D8","searrow":"\u2198","sect":"\xA7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1D516}","sfr":"\u{1D530}","sfrown":"\u2322","sharp":"\u266F","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xAD","Sigma":"\u03A3","sigma":"\u03C3","sigmaf":"\u03C2","sigmav":"\u03C2","sim":"\u223C","simdot":"\u2A6A","sime":"\u2243","simeq":"\u2243","simg":"\u2A9E","simgE":"\u2AA0","siml":"\u2A9D","simlE":"\u2A9F","simne":"\u2246","simplus":"\u2A24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2A33","smeparsl":"\u29E4","smid":"\u2223","smile":"\u2323","smt":"\u2AAA","smte":"\u2AAC","smtes":"\u2AAC\uFE00","SOFTcy":"\u042C","softcy":"\u044C","solbar":"\u233F","solb":"\u29C4","sol":"/","Sopf":"\u{1D54A}","sopf":"\u{1D564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\uFE00","sqcup":"\u2294","sqcups":"\u2294\uFE00","Sqrt":"\u221A","sqsub":"\u228F","sqsube":"\u2291","sqsubset":"\u228F","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25A1","Square":"\u25A1","SquareIntersection":"\u2293","SquareSubset":"\u228F","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25AA","squ":"\u25A1","squf":"\u25AA","srarr":"\u2192","Sscr":"\u{1D4AE}","sscr":"\u{1D4C8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22C6","Star":"\u22C6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03F5","straightphi":"\u03D5","strns":"\xAF","sub":"\u2282","Sub":"\u22D0","subdot":"\u2ABD","subE":"\u2AC5","sube":"\u2286","subedot":"\u2AC3","submult":"\u2AC1","subnE":"\u2ACB","subne":"\u228A","subplus":"\u2ABF","subrarr":"\u2979","subset":"\u2282","Subset":"\u22D0","subseteq":"\u2286","subseteqq":"\u2AC5","SubsetEqual":"\u2286","subsetneq":"\u228A","subsetneqq":"\u2ACB","subsim":"\u2AC7","subsub":"\u2AD5","subsup":"\u2AD3","succapprox":"\u2AB8","succ":"\u227B","succcurlyeq":"\u227D","Succeeds":"\u227B","SucceedsEqual":"\u2AB0","SucceedsSlantEqual":"\u227D","SucceedsTilde":"\u227F","succeq":"\u2AB0","succnapprox":"\u2ABA","succneqq":"\u2AB6","succnsim":"\u22E9","succsim":"\u227F","SuchThat":"\u220B","sum":"\u2211","Sum":"\u2211","sung":"\u266A","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","sup":"\u2283","Sup":"\u22D1","supdot":"\u2ABE","supdsub":"\u2AD8","supE":"\u2AC6","supe":"\u2287","supedot":"\u2AC4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27C9","suphsub":"\u2AD7","suplarr":"\u297B","supmult":"\u2AC2","supnE":"\u2ACC","supne":"\u228B","supplus":"\u2AC0","supset":"\u2283","Supset":"\u22D1","supseteq":"\u2287","supseteqq":"\u2AC6","supsetneq":"\u228B","supsetneqq":"\u2ACC","supsim":"\u2AC8","supsub":"\u2AD4","supsup":"\u2AD6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21D9","swarrow":"\u2199","swnwar":"\u292A","szlig":"\xDF","Tab":"\\t","target":"\u2316","Tau":"\u03A4","tau":"\u03C4","tbrk":"\u23B4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20DB","telrec":"\u2315","Tfr":"\u{1D517}","tfr":"\u{1D531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03B8","thetasym":"\u03D1","thetav":"\u03D1","thickapprox":"\u2248","thicksim":"\u223C","ThickSpace":"\u205F\u200A","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223C","THORN":"\xDE","thorn":"\xFE","tilde":"\u02DC","Tilde":"\u223C","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2A31","timesb":"\u22A0","times":"\xD7","timesd":"\u2A30","tint":"\u222D","toea":"\u2928","topbot":"\u2336","topcir":"\u2AF1","top":"\u22A4","Topf":"\u{1D54B}","topf":"\u{1D565}","topfork":"\u2ADA","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25B5","triangledown":"\u25BF","triangleleft":"\u25C3","trianglelefteq":"\u22B4","triangleq":"\u225C","triangleright":"\u25B9","trianglerighteq":"\u22B5","tridot":"\u25EC","trie":"\u225C","triminus":"\u2A3A","TripleDot":"\u20DB","triplus":"\u2A39","trisb":"\u29CD","tritime":"\u2A3B","trpezium":"\u23E2","Tscr":"\u{1D4AF}","tscr":"\u{1D4C9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040B","tshcy":"\u045B","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226C","twoheadleftarrow":"\u219E","twoheadrightarrow":"\u21A0","Uacute":"\xDA","uacute":"\xFA","uarr":"\u2191","Uarr":"\u219F","uArr":"\u21D1","Uarrocir":"\u2949","Ubrcy":"\u040E","ubrcy":"\u045E","Ubreve":"\u016C","ubreve":"\u016D","Ucirc":"\xDB","ucirc":"\xFB","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21C5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296E","ufisht":"\u297E","Ufr":"\u{1D518}","ufr":"\u{1D532}","Ugrave":"\xD9","ugrave":"\xF9","uHar":"\u2963","uharl":"\u21BF","uharr":"\u21BE","uhblk":"\u2580","ulcorn":"\u231C","ulcorner":"\u231C","ulcrop":"\u230F","ultri":"\u25F8","Umacr":"\u016A","umacr":"\u016B","uml":"\xA8","UnderBar":"_","UnderBrace":"\u23DF","UnderBracket":"\u23B5","UnderParenthesis":"\u23DD","Union":"\u22C3","UnionPlus":"\u228E","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1D54C}","uopf":"\u{1D566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21D1","UpArrowDownArrow":"\u21C5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21D5","UpEquilibrium":"\u296E","upharpoonleft":"\u21BF","upharpoonright":"\u21BE","uplus":"\u228E","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03C5","Upsi":"\u03D2","upsih":"\u03D2","Upsilon":"\u03A5","upsilon":"\u03C5","UpTeeArrow":"\u21A5","UpTee":"\u22A5","upuparrows":"\u21C8","urcorn":"\u231D","urcorner":"\u231D","urcrop":"\u230E","Uring":"\u016E","uring":"\u016F","urtri":"\u25F9","Uscr":"\u{1D4B0}","uscr":"\u{1D4CA}","utdot":"\u22F0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25B5","utrif":"\u25B4","uuarr":"\u21C8","Uuml":"\xDC","uuml":"\xFC","uwangle":"\u29A7","vangrt":"\u299C","varepsilon":"\u03F5","varkappa":"\u03F0","varnothing":"\u2205","varphi":"\u03D5","varpi":"\u03D6","varpropto":"\u221D","varr":"\u2195","vArr":"\u21D5","varrho":"\u03F1","varsigma":"\u03C2","varsubsetneq":"\u228A\uFE00","varsubsetneqq":"\u2ACB\uFE00","varsupsetneq":"\u228B\uFE00","varsupsetneqq":"\u2ACC\uFE00","vartheta":"\u03D1","vartriangleleft":"\u22B2","vartriangleright":"\u22B3","vBar":"\u2AE8","Vbar":"\u2AEB","vBarv":"\u2AE9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22A2","vDash":"\u22A8","Vdash":"\u22A9","VDash":"\u22AB","Vdashl":"\u2AE6","veebar":"\u22BB","vee":"\u2228","Vee":"\u22C1","veeeq":"\u225A","vellip":"\u22EE","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200A","Vfr":"\u{1D519}","vfr":"\u{1D533}","vltri":"\u22B2","vnsub":"\u2282\u20D2","vnsup":"\u2283\u20D2","Vopf":"\u{1D54D}","vopf":"\u{1D567}","vprop":"\u221D","vrtri":"\u22B3","Vscr":"\u{1D4B1}","vscr":"\u{1D4CB}","vsubnE":"\u2ACB\uFE00","vsubne":"\u228A\uFE00","vsupnE":"\u2ACC\uFE00","vsupne":"\u228B\uFE00","Vvdash":"\u22AA","vzigzag":"\u299A","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2A5F","wedge":"\u2227","Wedge":"\u22C0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1D51A}","wfr":"\u{1D534}","Wopf":"\u{1D54E}","wopf":"\u{1D568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1D4B2}","wscr":"\u{1D4CC}","xcap":"\u22C2","xcirc":"\u25EF","xcup":"\u22C3","xdtri":"\u25BD","Xfr":"\u{1D51B}","xfr":"\u{1D535}","xharr":"\u27F7","xhArr":"\u27FA","Xi":"\u039E","xi":"\u03BE","xlarr":"\u27F5","xlArr":"\u27F8","xmap":"\u27FC","xnis":"\u22FB","xodot":"\u2A00","Xopf":"\u{1D54F}","xopf":"\u{1D569}","xoplus":"\u2A01","xotime":"\u2A02","xrarr":"\u27F6","xrArr":"\u27F9","Xscr":"\u{1D4B3}","xscr":"\u{1D4CD}","xsqcup":"\u2A06","xuplus":"\u2A04","xutri":"\u25B3","xvee":"\u22C1","xwedge":"\u22C0","Yacute":"\xDD","yacute":"\xFD","YAcy":"\u042F","yacy":"\u044F","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042B","ycy":"\u044B","yen":"\xA5","Yfr":"\u{1D51C}","yfr":"\u{1D536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1D550}","yopf":"\u{1D56A}","Yscr":"\u{1D4B4}","yscr":"\u{1D4CE}","YUcy":"\u042E","yucy":"\u044E","yuml":"\xFF","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017A","Zcaron":"\u017D","zcaron":"\u017E","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017B","zdot":"\u017C","zeetrf":"\u2128","ZeroWidthSpace":"\u200B","Zeta":"\u0396","zeta":"\u03B6","zfr":"\u{1D537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21DD","zopf":"\u{1D56B}","Zopf":"\u2124","Zscr":"\u{1D4B5}","zscr":"\u{1D4CF}","zwj":"\u200D","zwnj":"\u200C"}')},29591:j=>{"use strict";j.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","AElig":"\xC6","aelig":"\xE6","Agrave":"\xC0","agrave":"\xE0","amp":"&","AMP":"&","Aring":"\xC5","aring":"\xE5","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","brvbar":"\xA6","Ccedil":"\xC7","ccedil":"\xE7","cedil":"\xB8","cent":"\xA2","copy":"\xA9","COPY":"\xA9","curren":"\xA4","deg":"\xB0","divide":"\xF7","Eacute":"\xC9","eacute":"\xE9","Ecirc":"\xCA","ecirc":"\xEA","Egrave":"\xC8","egrave":"\xE8","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","frac12":"\xBD","frac14":"\xBC","frac34":"\xBE","gt":">","GT":">","Iacute":"\xCD","iacute":"\xED","Icirc":"\xCE","icirc":"\xEE","iexcl":"\xA1","Igrave":"\xCC","igrave":"\xEC","iquest":"\xBF","Iuml":"\xCF","iuml":"\xEF","laquo":"\xAB","lt":"<","LT":"<","macr":"\xAF","micro":"\xB5","middot":"\xB7","nbsp":"\xA0","not":"\xAC","Ntilde":"\xD1","ntilde":"\xF1","Oacute":"\xD3","oacute":"\xF3","Ocirc":"\xD4","ocirc":"\xF4","Ograve":"\xD2","ograve":"\xF2","ordf":"\xAA","ordm":"\xBA","Oslash":"\xD8","oslash":"\xF8","Otilde":"\xD5","otilde":"\xF5","Ouml":"\xD6","ouml":"\xF6","para":"\xB6","plusmn":"\xB1","pound":"\xA3","quot":"\\"","QUOT":"\\"","raquo":"\xBB","reg":"\xAE","REG":"\xAE","sect":"\xA7","shy":"\xAD","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","szlig":"\xDF","THORN":"\xDE","thorn":"\xFE","times":"\xD7","Uacute":"\xDA","uacute":"\xFA","Ucirc":"\xDB","ucirc":"\xFB","Ugrave":"\xD9","ugrave":"\xF9","uml":"\xA8","Uuml":"\xDC","uuml":"\xFC","Yacute":"\xDD","yacute":"\xFD","yen":"\xA5","yuml":"\xFF"}')},2586:j=>{"use strict";j.exports=JSON.parse(`{"amp":"&","apos":"'","gt":">","lt":"<","quot":"\\""}`)}},er={};function Ke(j){var l=er[j];if(l!==void 0)return l.exports;var e=er[j]={id:j,loaded:!1,exports:{}};return Jn[j].call(e.exports,e,e.exports,Ke),e.loaded=!0,e.exports}Ke.m=Jn,Ke.n=j=>{var l=j&&j.__esModule?()=>j.default:()=>j;return Ke.d(l,{a:l}),l},(()=>{var j=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l;Ke.t=function(e,n){if(n&1&&(e=this(e)),n&8||typeof e=="object"&&e&&(n&4&&e.__esModule||n&16&&typeof e.then=="function"))return e;var c=Object.create(null);Ke.r(c);var u={};l=l||[null,j({}),j([]),j(j)];for(var v=n&2&&e;typeof v=="object"&&!~l.indexOf(v);v=j(v))Object.getOwnPropertyNames(v).forEach(O=>u[O]=()=>e[O]);return u.default=()=>e,Ke.d(c,u),c}})(),Ke.d=(j,l)=>{for(var e in l)Ke.o(l,e)&&!Ke.o(j,e)&&Object.defineProperty(j,e,{enumerable:!0,get:l[e]})},Ke.f={},Ke.e=j=>Promise.all(Object.keys(Ke.f).reduce((l,e)=>(Ke.f[e](j,l),l),[])),Ke.u=j=>""+j+"."+{411:"652ca3b230d5f693c337",829:"aa89795bf88e01c5ff47",982:"6a8f6863c0f64307899b",1486:"3ad22031d78ac71e9959",1915:"cd2b72ee2fe8bcb731b4",2298:"a420a79d61d2d18a255b",2301:"dc54971022957de24b21",2372:"d125f5d48240875fb098",2728:"b281d476bf5fbf6417a9",3324:"305bf3e196a09cb75ba4",3934:"2117005623b82808901f",4125:"01bc173a72d2051f631e",4321:"966e49868b4c92b929ea",4563:"a2e8b8897bf176641b6d",4695:"47bd70cb36f05ea6a55a",5282:"fdbddfd2b6d8a72ca6fd",5661:"34ea6267b9ba9366599f",6311:"76734d5d3489a51a84ce",7631:"a96acbcb61f62a6d40f8",8437:"73ce0a618f96e4e718db",8600:"8df5b2ce444e34ea84ad",9315:"5cbab7d874ece490f6c1"}[j]+".chunk.js",Ke.miniCssF=j=>""+j+"."+{411:"6155c11039f07f8e1411",829:"620ff2ea405d85894bcf",2298:"c8548aede04f05092166",2728:"de854a52130ca675bae9",3324:"aa16c2d2367119dce359",3934:"2e367785f1455c7d6167",5661:"2e367785f1455c7d6167",8437:"377c6d2da020e39e17a1"}[j]+".css",Ke.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(j){if(typeof window=="object")return window}}(),Ke.hmd=j=>(j=Object.create(j),j.children||(j.children=[]),Object.defineProperty(j,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+j.id)}}),j),Ke.o=(j,l)=>Object.prototype.hasOwnProperty.call(j,l),(()=>{var j={},l="substack:";Ke.l=(e,n,c,u)=>{if(j[e]){j[e].push(n);return}var v,O;if(c!==void 0)for(var y=document.getElementsByTagName("script"),E=0;E<y.length;E++){var d=y[E];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==l+c){v=d;break}}v||(O=!0,v=document.createElement("script"),v.charset="utf-8",v.timeout=120,Ke.nc&&v.setAttribute("nonce",Ke.nc),v.setAttribute("data-webpack",l+c),v.src=e),j[e]=[n];var g=(S,T)=>{v.onerror=v.onload=null,clearTimeout(P);var C=j[e];if(delete j[e],v.parentNode&&v.parentNode.removeChild(v),C&&C.forEach(p=>p(T)),S)return S(T)},P=setTimeout(g.bind(null,void 0,{type:"timeout",target:v}),12e4);v.onerror=g.bind(null,v.onerror),v.onload=g.bind(null,v.onload),O&&document.head.appendChild(v)}})(),Ke.r=j=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(j,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(j,"__esModule",{value:!0})},Ke.nmd=j=>(j.paths=[],j.children||(j.children=[]),j),Ke.j=179,Ke.p="https://substackcdn.com/bundle/",(()=>{if(typeof document!="undefined"){var j=(c,u,v,O,y)=>{var E=document.createElement("link");E.rel="stylesheet",E.type="text/css";var d=g=>{if(E.onerror=E.onload=null,g.type==="load")O();else{var P=g&&(g.type==="load"?"missing":g.type),S=g&&g.target&&g.target.href||u,T=new Error("Loading CSS chunk "+c+` failed.
(`+S+")");T.code="CSS_CHUNK_LOAD_FAILED",T.type=P,T.request=S,E.parentNode&&E.parentNode.removeChild(E),y(T)}};return E.onerror=E.onload=d,E.href=u,v?v.parentNode.insertBefore(E,v.nextSibling):document.head.appendChild(E),E},l=(c,u)=>{for(var v=document.getElementsByTagName("link"),O=0;O<v.length;O++){var y=v[O],E=y.getAttribute("data-href")||y.getAttribute("href");if(y.rel==="stylesheet"&&(E===c||E===u))return y}for(var d=document.getElementsByTagName("style"),O=0;O<d.length;O++){var y=d[O],E=y.getAttribute("data-href");if(E===c||E===u)return y}},e=c=>new Promise((u,v)=>{var O=Ke.miniCssF(c),y=Ke.p+O;if(l(O,y))return u();j(c,y,null,u,v)}),n={179:0,3324:0,3934:0,5661:0,8600:0,2372:0,5282:0};Ke.f.miniCss=(c,u)=>{var v={411:1,829:1,2298:1,2728:1,3324:1,3934:1,5661:1,8437:1};n[c]?u.push(n[c]):n[c]!==0&&v[c]&&u.push(n[c]=e(c).then(()=>{n[c]=0},O=>{throw delete n[c],O}))}}})(),(()=>{var j={179:0,3324:0,3934:0,5661:0,8600:0,2372:0,5282:0};Ke.f.j=(n,c)=>{var u=Ke.o(j,n)?j[n]:void 0;if(u!==0)if(u)c.push(u[2]);else if(n!=411){var v=new Promise((d,g)=>u=j[n]=[d,g]);c.push(u[2]=v);var O=Ke.p+Ke.u(n),y=new Error,E=d=>{if(Ke.o(j,n)&&(u=j[n],u!==0&&(j[n]=void 0),u)){var g=d&&(d.type==="load"?"missing":d.type),P=d&&d.target&&d.target.src;y.message="Loading chunk "+n+` failed.
(`+g+": "+P+")",y.name="ChunkLoadError",y.type=g,y.request=P,u[1](y)}};Ke.l(O,E,"chunk-"+n,n)}else j[n]=0};var l=(n,c)=>{var[u,v,O]=c,y,E,d=0;if(u.some(P=>j[P]!==0)){for(y in v)Ke.o(v,y)&&(Ke.m[y]=v[y]);if(O)var g=O(Ke)}for(n&&n(c);d<u.length;d++)E=u[d],Ke.o(j,E)&&j[E]&&j[E][0](),j[E]=0},e=self.webpackChunksubstack=self.webpackChunksubstack||[];e.forEach(l.bind(null,0)),e.push=l.bind(null,e.push.bind(e))})();var co={};(()=>{"use strict";var j=Ke(1824),l=Ke(72496),e=Ke(6400),n=Ke(30396),c=Ke(94184),u=Ke.n(c),v=Ke(1469),O=Ke.n(v),y=Ke(20042),E=Ke(56232),d=Ke(29811),g=Ke(15045),P=Ke(3258),S=Ke(90304);const T=1e3*60*60*24,C="domain-redirect-time";class p extends e.Component{constructor(t,o){super(t,o),this.state=t.initialData||{}}componentDidMount(){const t=this.loadedWithLikelyLoggedInParam()?"param":null;t&&!this.shouldBlockLoginRedirect()?this.attemptLoginRedirect({source:t}):this.useIframe()&&window.addEventListener("message",o=>this.handleFrameMessage(o))}shouldBlockLoginRedirect(){var t;const o=parseInt((0,S.mM)(C,0));return this.state.block_auto_login||!((t=this.state.pub)!=null&&t.custom_domain)||this.state.user||typeof window=="undefined"||Date.now()-o<=T||Object.prototype.hasOwnProperty.call((0,g.parseQuery)(window.location.toString()),"triedSigningIn")}handleFrameMessage(t){var o,a,f;if(((o=t.data)==null?void 0:o.type)!=="frame-state")return;const L=!this.shouldBlockLoginRedirect()&&((a=t.data)==null?void 0:a.loggedInAtSubstack);(0,P.j)(P.FP.FRAME_MESSAGE_HANDLED,{loggedInAtSubstack:(f=t.data)==null?void 0:f.loggedInAtSubstack,loggedInAtCustomDomain:!!this.state.user,attemptRedirect:L}),L&&this.attemptLoginRedirect({source:"cookie"})}attemptLoginRedirect({source:t}={}){(0,P.j)(P.FP.CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED,{fromParam:t==="param",source:t}),(0,S.ex)(C,`${Date.now()}`),location.href=(0,g.getSigninUrl)({justTrying:!0,useOriginalUrl:!0})}loadedWithLikelyLoggedInParam(){return typeof window!="undefined"&&window._preloads.original_url&&!!Object.prototype.hasOwnProperty.call((0,g.parseQuery)(window._preloads.original_url),"lli")}useIframe(){var t,o;return!(typeof window=="undefined"||this.loadedWithLikelyLoggedInParam()||!((t=this.state.pub)!=null&&t.custom_domain)||(0,g.urlIsRegularlyShownInIframe)((o=window==null?void 0:window.location)==null?void 0:o.href))}render(){return this.useIframe()?(0,e.h)("iframe",{src:`${(0,g.getSubstackUrl)()}/channel-frame`,className:"channel-frame",width:"0",height:"0"}):null}}var i=Ke(39419),s=Ke(26059),_=Ke(81243);const w=[["global_admin","Global Admin"],["owner","Owner"],["founding_sub","Founding Sub"],["paid_sub","Paid Sub"],["free_sub","Free Sub"],["non_sub","Non Sub"]];function x(r,t,o){return!t||!r?!1:o==="owner"?r.author_id===t.id:t.email===`${o}_for_${r.subdomain}@example.com`}const D=({setExpanded:r})=>(0,e.h)("div",{style:{cursor:"pointer",width:"30px",height:"30px",opacity:.5,color:"var(--background_pop)"},onClick:()=>r(!0)},(0,e.h)(_.Z,{height:30,stroke:"var(--background_pop)",fill:"var(--background_pop)"})),N=({pub:r,user:t,setExpanded:o})=>{const[a,f]=(0,n.eJ)("");return(0,e.h)("div",{style:{padding:"10px 20px",position:"relative",backgroundColor:"var(--web_bg_color)"}},(0,e.h)("div",null,"Sign in as",(0,e.h)("div",{style:{position:"absolute",top:7,right:7,cursor:"pointer"},onClick:()=>o(!1)},(0,e.h)(s.Z,{height:20}))),w.map(([L,k])=>(0,e.h)("div",null,(0,e.h)("a",{className:u()("button",x(r,t,L)?"primary":"outline"),style:{width:"100%",marginTop:3},onClick:()=>{window.location.href=(0,g.pathWithQuery)("/api/v1/debug/log-in-as",{user_type:L,orig_url:window.location.href})}},k))),(0,e.h)("form",{onSubmit:L=>{L.preventDefault(),a&&(window.location.href=(0,g.pathWithQuery)("/api/v1/debug/log-in-as",{custom_user:a,orig_url:window.location.href}))}},(0,e.h)("input",{value:a,onChange:L=>{var k;f((k=L.target)==null?void 0:k.value)},type:"email"}),(0,e.h)("button",{type:"submit"},"Sign in as")))};class I extends e.Component{constructor(t,o){super(t,o),this.onDocumentMouseUp=a=>{!(0,i.isRootOrChild)(a.target,this.base)&&this.state.expanded&&this.setState({expanded:!1})},this.state={expanded:!1}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp)}render({pub:t,user:o},{expanded:a}){return null}}var A=Ke(28488),M=Ke(43887),R=Ke(76193),F=Ke(18597),Z=Ke(15516),V=Ke(33705),G=Ke(20501);function $(r,t){return[...Array(2*r.length-1)].map((o,a)=>a%2?t:r[a/2])}const K=({publication:r})=>{switch(r==null?void 0:r.subdomain){case"activisionblizzard":return(0,e.h)(ee,null);case"demographyunplugged":return(0,e.h)(Y,null);default:return(0,e.h)(re,null)}},H=({publication:r})=>{const{iString:t}=(0,A.M1)();if((r==null?void 0:r.subdomain)==="demographyunplugged")return(0,e.h)(e.Fragment,null,(0,e.h)(M.xv,{translated:!0,size:14,className:"tos"},"Substack's"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy"),","," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms")," ","and"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice")),(0,e.h)(M.xv,{translated:!0,size:14,className:"tos"},"Demography Unplugged's"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/privacy-policy",target:"__blank"},"Privacy")," ","and"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/terms-of-service",target:"__blank"},"Terms")));const o=[(0,e.h)("a",{href:(0,g.getPrivacyUrl)({pub:r,utm_source:""}),target:"__blank"},t("Privacy")),(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},t("Terms")),(0,e.h)("a",{href:`${(0,G.getSubstackUrl)()}/ccpa#personal-data-collected`,target:"__blank"},t("Collection notice"))];return(r==null?void 0:r.subdomain)==="activisionblizzard"&&o.push((0,e.h)(e.Fragment,null,"Activision's"," ",(0,e.h)("a",{href:"https://www.activisionblizzard.com/legal/privacy-policy",target:"__blank"},"Privacy Policy"))),(r==null?void 0:r.subdomain)==="demographyunplugged"&&(o.push((0,e.h)(e.Fragment,null,"Demography Unplugged's"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/privacy-policy",target:"__blank"},"Privacy Policy"))),o.push((0,e.h)(e.Fragment,null,"Demography Unplugged's"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/terms-of-service",target:"__blank"},"Terms")))),(0,e.h)(e.Fragment,null,$(o,(0,e.h)("span",null," \u2219 ")))},re=()=>(0,e.h)(M.xv.B3,{translated:!0,size:14,color:"tertiary",className:"tos"},"By registering you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice")),ee=()=>(0,e.h)(M.xv.B3,{translated:!0,size:14,color:"tertiary",className:"tos"},"By registering you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),", and Activision's"," ",(0,e.h)("a",{href:"https://www.activisionblizzard.com/legal/privacy-policy",target:"__blank"},"Privacy Policy")),Y=()=>(0,e.h)("div",{className:"tos"},(0,e.h)(M.xv.B3,{translated:!0,size:14,color:"tertiary"},"By registering you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),"."),(0,e.h)(M.xv.B3,{translated:!0,size:14,color:"tertiary"},"You also agree to receive marketing emails from Hedgeye Risk Management, LLC pursuant to its"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/privacy-policy",target:"__blank"},"Privacy Policy")," ","and"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/terms-of-service",target:"__blank"},"Terms of Service"),"."),(0,e.h)(M.xv.B3,{translated:!0,size:14,color:"tertiary"},"You may unsubscribe at any time by clicking the unsubscribe link in one of the emails."));var J=Object.defineProperty,te=(r,t,o)=>t in r?J(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,ie=(r,t,o)=>(te(r,typeof t!="symbol"?t+"":t,o),o),se=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});class W extends e.Component{constructor(){super(...arguments),ie(this,"checkVisibility",()=>{if(!this.ref)return;const t=this.ref.getBoundingClientRect(),o=this.props.threshold||0,a=this.props.parent?this.props.parent.clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight),f=!(t.bottom<0-o||t.top>=a+o);(0,i.stateTransaction)(this,(L,k)=>se(this,null,function*(){if(L.isVisible!==f)this.setState({isVisible:f});else if(!k.noDedupe)return;const B=f?"hadFirstVisible":"hadFirstInvisible",q=!L[B];q&&this.setState({[B]:!0}),(yield Promise.all([f&&k.onVisible&&k.onVisible(),f&&k.onFirstVisible&&q&&k.onFirstVisible(),!f&&k.onInvisible&&k.onInvisible(),!f&&k.onFirstInvisible&&q&&k.onFirstInvisible()])).reduce((ge,Pe)=>Pe===!0||ge)&&this.checkVisibility()}))})}componentDidMount(){return se(this,null,function*(){typeof window!="undefined"&&(this.ref||(yield new Promise(t=>setTimeout(t,0))),this.checkVisibility(),(this.props.parent||window).addEventListener("scroll",this.checkVisibility))})}componentWillUnmount(){typeof window!="undefined"&&(this.props.parent||window).removeEventListener("scroll",this.checkVisibility)}render({className:t,children:o}){return(0,e.h)("div",{ref:a=>this.ref=a,className:u()("visibility-check",t)},o)}}const z={modalTitle:"frontend-components-app_install_modal-module__modalTitle--HauTj",qrCode:"frontend-components-app_install_modal-module__qrCode--ri0e5",divider:"frontend-components-app_install_modal-module__divider--LMfZC",dividerLine:"frontend-components-app_install_modal-module__dividerLine--czFeZ",appBadge:"frontend-components-app_install_modal-module__appBadge--aBeVu"},Q=({publication:r,user:t,path:o,hideTerms:a,showIntrinioAttrib:f})=>{const{iString:L}=(0,A.M1)();typeof a=="undefined"&&(a=!1);const k=(0,F.Tf)(),U=(0,R.isMobile)(),B=(0,R.isIos)(),q=(0,R.isAndroid)(),pe=U&&(B||q),ge=t&&!t.reader_installed_at,Pe=pe&&ge;return(0,e.h)("div",{className:"footer-wrap publication-footer"},(0,e.h)(W,{onVisible:()=>{(0,P.j)(P.FP.PUBLICATION_FOOTER_SEEN,{publication_id:r==null?void 0:r.id,user_id:t==null?void 0:t.id,source:oe(o)})}}),(0,e.h)("div",{className:u()("footer",{"themed-background":k})},(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"footer-blurbs"},(0,e.h)("div",{className:"footer-copyright-blurb"},"\xA9 ",new Date().getFullYear()," ",r&&r.copyright||"Substack Inc"),f&&(0,e.h)(M.xv,{translated:!0,as:"div",className:"footer-copyright-blurb"},"Market data by ",(0,e.h)("a",{href:"https://intrinio.com/"},"Intrinio")),!a&&(0,e.h)("div",{className:"footer-terms-blurb"},(0,e.h)(H,{publication:r}))),(0,e.h)("div",{className:"footer-buttons"},(0,e.h)("a",{className:u()("footer-substack-cta","start-publishing",Pe&&"app-upsell"),native:!0,href:t!=null&&t.has_publication?`${(0,g.getBaseUrl)({subdomain:"your"})}/publish`:`${(0,g.getSubstackUrl)()}/signup?${(0,g.serializeQuery)({utm_source:"substack",utm_medium:"web",utm_content:"footer"})}`},(0,e.h)(Z.Z,null)," ",L("Start Writing")),!Pe&&(0,e.h)("a",{className:"footer-substack-cta get-the-app no-icon",native:!0,href:(0,g.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button"})},L("Get the app")),Pe&&B&&(0,e.h)("a",{className:z.appBadge,href:(0,g.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button",force:"ios"})},(0,e.h)("img",{className:"app-upsell",src:(0,g.imginary)("/img/app_page/app-store.png",160*2)})),Pe&&q&&(0,e.h)("a",{className:z.appBadge,href:(0,g.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button",force:"android"})},(0,e.h)("img",{className:"app-upsell",src:(0,g.imginary)("/img/app_page/google-play.png",160*2)}))),(0,e.h)(M.xv,{translated:!0,as:"div",className:"footer-slogan-blurb"},(0,e.h)("a",{href:`${(0,g.getSubstackUrl)()}`,native:!0},"Substack")," ","is the home for great writing"))))};function oe(r){return r?r==="/"?"pub-homepage":r.startsWith("/p")?"pub-post":r:"unknown"}const ne=({slug:r,categoriesMap:t,setExpandCategories:o,hide:a})=>{const{iString:f,iTemplate:L}=useI18N();return r==="collapse"?h("u",null,h("a",{onClick:()=>o(!1)},"See less categories")):r==="expand"?h("u",null,h("a",{onClick:()=>o(!0)},"See more categories")):t[r]?h("a",{href:`${getBaseUrl()}/top/${t[r].slug}`,native:!0,style:{display:a?"none":void 0}},L`Top in ${f(t[r].canonical_name)}`):null},ae=({categories:r})=>{const{iString:t,iTemplate:o}=useI18N(),[a,f]=useState(!1),L={culture:"/discover/category/culture/paid?utm_source=substack&utm_medium=web&utm_content=footer","food & drink":"/discover/category/food/paid?utm_source=substack&utm_medium=web&utm_content=footer",finance:"/discover/category/finance/paid?utm_source=substack&utm_medium=web&utm_content=footer",sports:"/discover/category/sports/paid?utm_source=substack&utm_medium=web&utm_content=footer",politics:"/discover/category/politics/paid?utm_source=substack&utm_medium=web&utm_content=footer",technology:"/discover/category/technology/paid?utm_source=substack&utm_medium=web&utm_content=footer",faith:"/discover/category/faith/paid?utm_source=substack&utm_medium=web&utm_content=footer",business:"/discover/category/business/paid?utm_source=substack&utm_medium=web&utm_content=footer"},k=["culture","food","finance","sports","politics","technology","faith","business"],U=(r==null?void 0:r.length)>0?r==null?void 0:r.map(q=>q==null?void 0:q.slug).filter(q=>!k.includes(q)):[],B={};if((r==null?void 0:r.length)>0)for(const q of r)q&&(B[q.slug]=q);return h("div",{className:"footer-wrap www-footer"},h("div",{className:"home-footer"},h("div",{className:"footer-contain"},h("div",{className:"footer-info"},h("div",{className:"footer-info-col"},h("h3",null,t("Read")),h("a",{href:"/discover?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("Discover")),h("a",{href:"/app?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("Get the app")),h("a",{href:"https://on.substack.com/s/stories?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("Featured")),h("a",{href:"https://reader.substack.com?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("Substack Reader")),h("a",{href:"/discover/category/podcast/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("Top podcasts")),(r==null?void 0:r.length)>0?k.concat(U).concat(a?"collapse":"expand").filter(q=>q!=="podcast").map(q=>h(ne,{slug:q,categoriesMap:B,setExpandCategories:f,hide:U.includes(q)&&!a})):Object.entries(L).map(([q,pe])=>h("a",{href:pe,native:!0},o`Top in ${q}`))),h("div",{className:"footer-info-col"},h("h3",null,t("Writers")),h("a",{href:"/switch?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("Switch to Substack")),h("a",{href:"/ghost?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("Switch from Ghost")),h("a",{href:"https://on.substack.com/p/start-a-substack-newsletter?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("Get started")),h("a",{href:"/going-paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("Go paid")),h("a",{href:"/podcasts?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("For podcasts")),h("a",{href:"/for-bloggers?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("For bloggers")),h("a",{href:"/investing-and-business?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("For finance writers")),h("a",{href:"/book?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("For authors")),h("a",{href:"/comic-book-creators?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("For comic creators")),h("a",{href:"/food-writers?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("For food writers")),h("a",{href:"/local-news?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("For local news"))),h("div",{className:"footer-info-col"},h("h3",null,t("Company")),h("a",{href:getAboutUrl(null,{params:{utm_source:"substack",utm_medium:"web",utm_content:"footer"}}),native:!0},t("About")),h("a",{href:getSupportUrl()},t("Help")),h("a",{href:"/jobs?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("Jobs")),h("a",{href:"https://on.substack.com?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("Blog")),h("a",{href:"/vulnerability-disclosure?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("Vulnerability Policy")),h("a",{href:"/contact?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("Contact")),h("a",{href:"/sitemap",native:!0},t("Sitemap"))),h("div",{className:"footer-info-col"},h("h3",null,t("Resources")),h("a",{href:"/resources?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("Resource center")),h("a",{href:"/going-paid-guide?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("Guide to going paid")),h("a",{href:"https://support.substack.com/hc/en-us?s=support%40substack.com",native:!0},t("Help center")),h("a",{href:"/community-and-programs?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("Community and programs")),h("a",{href:"/brand?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},t("Brand assets")))),h("div",{className:"logo-copy-wrapper"},h(SubstackIconNoPadding,{className:"navbar-logo-wordmark substack-logo-wordmark"}),h("div",{className:"slogan tw-mt-5"},t("Substack is the home for great writing"))))),h("div",{className:"footer-divider"}),h("div",{className:"footer-bottom-bar"},h("div",{className:"app-badges"},h("a",{className:"app-badge",href:getAppStoreUrl({utm_campaign:"app-marketing",utm_content:"www-footer"})},h("img",{src:imginary("/img/app_page/app-store-white.png?v=1",119*2),height:40,width:134,loading:"lazy"})),h("a",{className:"app-badge",href:getPlayStoreUrl({utm_campaign:"app-marketing",utm_content:"www-footer"})},h("img",{src:imginary("/img/app_page/google-play-white.png",119*2),height:40,width:134,loading:"lazy"}))),h("div",{className:"footer-bottom-links"},h("span",{className:"copyright bottom-item"},"\xA9 Substack Inc."),h("a",{className:"bottom-item",href:getPrivacyUrl(),native:!0},t("Privacy")),h("a",{className:"bottom-item",href:"/tos",native:!0},t("Terms")),h("a",{className:"bottom-item",href:`${getSubstackUrl()}/ccpa#personal-data-collected`,native:!0},t("Collection notice")))))};class le extends e.Component{render({html:t,children:o,metadata:a}){return(0,e.h)("div",{className:"container-border"},(0,i.setMetaData)(a),(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"page typography"},o,(0,e.h)("div",{className:"body markup",dangerouslySetInnerHTML:{__html:t}}))))}}var ue=Ke(36808);const fe="balance-text",he=100,be=10,ve=4;function Te(r){Se(r)&&(r.style.maxWidth="",we(r,r.clientHeight,0,r.clientWidth)),r.classList.add("visible")}function we(r,t,o,a){if(a-o<ve){r.clientHeight>t?r.style.maxWidth=`${a}px`:r.style.maxWidth=`${r.scrollWidth+1}px`;return}if(o>=a){r.style.maxWidth=`${a}px`;return}const f=(o+a)/2;r.style.maxWidth=`${f}px`,r.clientHeight>t?we(r,t,f,a):we(r,t,o,f)}function Se(r){var t;const o=r.innerHTML,a=r.textContent.split(" "),f=document.createElement("span");f.id="element-first-word",f.textContent=a.shift(),r.innerHTML="",r.appendChild(f),r.appendChild(document.createTextNode(` ${a.join(" ")}`));const L=((t=document.getElementById("element-first-word"))==null?void 0:t.offsetHeight)||f.offsetHeight,k=r.offsetHeight;return r.innerHTML=o,k-be>L}class We extends e.Component{constructor(t,o){super(t,o),this.debouncedRebalance=(0,i.debounce)(()=>this.rebalance(),he)}componentDidMount(){this.rebalance(),typeof window!="undefined"&&window.addEventListener("resize",this.debouncedRebalance,!0)}componentDidUpdate(){this.rebalance()}componentWillUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.debouncedRebalance,!0)}shouldComponentUpdate(t){return t.children!==this.props.children}rebalance(){typeof window!="undefined"&&this.base&&Te(this.base)}render({text:t}){return(0,e.h)("span",{"data-testid":"balanced-text",className:fe,style:{display:"inline-block"}},t)}}var Ae=Ke(7922),Be=Ke(84040),de=Ke(51126),ce=Ke(23890);const Oe=({allowAllDay:r,redirect:t,onCancel:o})=>{const[a,f]=(0,n.eJ)(!1);return(0,e.h)(ce.ZP,{className:"customer-support-mode-form",analyticsName:"Customer Support Mode Form",action:"/api/v1/customer_support_mode",onSuccess:()=>document.location.href=t||"/",autoLock:!0},(0,e.h)(de.tu,{gap:8},(0,e.h)(M.xv.Meta,{className:"danger",weight:"semibold",color:"error"},"Danger"),(0,e.h)(M.xv.H2,null,"Support Mode"),(0,e.h)(M.xv.B3,null,"Be absolutely respectful to the writers on whose behalf you are working."),r&&(0,e.h)("label",null,(0,e.h)(de.gq,{gap:8},(0,e.h)("input",{type:"checkbox",defaultChecked:!1,onInput:L=>f(L.target.checked)})," ",(0,e.h)(M.xv.B3,null,"Allow access for the day because I'm doing Customer Support"))),a&&(0,e.h)("input",{type:"hidden",name:"all_pubs",value:"true"}),(0,e.h)("input",{type:"hidden",name:"minutes",value:a?10*60:30}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(de.gq,{gap:8,paddingTop:8},(0,e.h)(Be.zx,{priority:"destructive",type:"submit",id:"enter-support-mode"},"Enter support mode"),o&&(0,e.h)(Be.zx,{priority:"secondary",onClick:o},"Cancel"))))};var Le=Ke(41406),ze=Ke(11851),Je=Ke(34755),Pt=Object.defineProperty,Ve=Object.defineProperties,pt=Object.getOwnPropertyDescriptors,$e=Object.getOwnPropertySymbols,Ie=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable,Ce=(r,t,o)=>t in r?Pt(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,xe=(r,t)=>{for(var o in t||(t={}))Ie.call(t,o)&&Ce(r,o,t[o]);if($e)for(var o of $e(t))ye.call(t,o)&&Ce(r,o,t[o]);return r},je=(r,t)=>Ve(r,pt(t));const Ge=r=>(0,e.h)(Je.l,je(xe({},r),{name:"RightArrowIcon",svgParams:{height:20,width:20}}),(0,e.h)("path",{d:"M7.5 15L12.5 10L7.5 5","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function Qe({text:r,maxLines:t,ellipsesText:o="..."}){const a=(0,n.sO)(null),[f,L]=(0,n.eJ)(r);return(0,n.d4)(()=>{(()=>{if(!a.current)return;a.current.innerText="-";const B=(a.current.clientHeight+1)*t+1;let q=0,pe=0,ge=r.length;for(;q<=ge;){if(pe=Math.floor((q+ge)/2),a.current.innerText=r.slice(0,pe),pe===r.length&&a.current.clientHeight<=B){a.current.innerText="",L(r);return}a.current.clientHeight<=B?q=pe+1:ge=pe-1}const Pe=r.slice(0,pe-o.length-2);a.current.innerText="",L(Pe+o)})()},[a,r,t,o]),(0,e.h)("div",{style:{position:"relative"}},(0,e.h)("div",null,f),(0,e.h)("div",{ref:a,style:{visibility:"hidden",position:"absolute",width:"100%"}}))}var ct=Ke(96789),dt=Ke(31471),it=Ke(32076),tt=Ke(63270),vt=Ke(80569),et=Ke.n(vt),Xe=Ke(94930),Ne=Ke(83322),ft=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const At={};function Ht(r,t,o,a,f){return ft(this,arguments,function*(L,k,U,{required:B=!1,group:q=!1,gift:pe=!1},ge){if(!U){ge(null);return}U in At||(ge({id:U,required:B,loading:!0}),At[U]=yield en(U));const Pe=At[U],Ee=Pe&&Pe.type==="FREE_TRIAL"&&k&&(yield pn(U));Ee&&Ee.length&&B?ge({id:Pe&&Pe.id||U,code:Pe&&Pe.code,name:Pe&&Pe.name,required:B,error:!0,message:"This coupon has already been redeemed by this user."}):(0,Xe.isCouponValid)(Pe,{is_group:q,is_gift:pe,paywallFreeTrialEnabled:L.paywall_free_trial_enabled})&&(L.plans||[]).filter(Me=>(0,Xe.isCouponValidForPlan)(Pe,Me)).length>0?ge(Object.assign({required:B},Pe)):ge(B?{id:Pe&&Pe.id||U,code:Pe&&Pe.code,name:Pe&&Pe.name,required:B,error:!0,message:"The coupon is not valid or has expired."}:null)})}function rn(r){return ft(this,null,function*(){let t;try{if(t=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body,t&&t.length&&r){const a=yield pn(t[0].id);if(a&&a.length)throw new AppError("User has already redeemed this free trial coupon")}}catch(o){return console.error("Failed to fetch coupons:",o),null}return t.length>0?t[0]:null})}function en(r){return ft(this,null,function*(){try{return(yield et().get(`/api/v1/coupon/${r}`)).body}catch(t){return console.error("Failed to fetch coupon:",t),null}})}function pn(r){return ft(this,null,function*(){try{return(yield et().get(`/api/v1/coupon_redemption/${r}`).query()).body}catch(t){return console.error("Failed to fetch coupon redemptions:",t),null}})}function _n(r){return ft(this,null,function*(){try{const o=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0,includeInvalid:!0})).body;if(!o||o.length===0){const a={name:"Want to keep reading?",description:"Subscribe now to get an exclusive 7-day free trial.",percent_or_trial:"on",trial_period_days:"7",percent_off:"",duration:"",duration_in_months:"",show_redeem_by:!1,redeem_by:"",show_code:!1,is_default:!1,is_group_default:!1,edu_only:!1,yearly_only:!1,group_only:!1,allowed_suffixes_checked:!1,type:"FREE_TRIAL"};yield request.post("/api/v1/coupon").send(a)}else o[0].valid===!1?yield request.put(`/api/v1/coupon/${o[0].id}`).send(Object.assign({},o[0],{is_default:!1,is_group_default:!1,valid:!0})):console.warn(`Coupon id ${o[0].id} already enabled but attempted to be enabled`);return 0}catch(t){return console.error("Failed to create free trial coupon:",t),1}})}function Tn(){return ft(this,null,function*(){try{const t=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body;!t||t.length===0?console.error("No free trial coupon exists to disable"):yield request.put(`/api/v1/coupon/${t[0].id}`).send(Object.assign({},t[0],{is_default:!1,is_group_default:!1,valid:!1}))}catch(r){return console.error("Failed to disable free trial coupon:",r),null}})}var dn=Ke(6385),fn=Ke(4190);const xn=({children:r,separator:t})=>{const o=[],a=(0,e.toChildArray)(r);return a.forEach((f,L)=>{o.push(f),L!==a.length-1&&o.push(t)}),(0,e.h)(e.Fragment,null,o)};var Dn=Ke(31845),Wn=Ke(11688),Fn=Object.defineProperty,Cn=Object.defineProperties,bn=Object.getOwnPropertyDescriptors,zn=Object.getOwnPropertySymbols,tr=Object.prototype.hasOwnProperty,$n=Object.prototype.propertyIsEnumerable,lr=(r,t,o)=>t in r?Fn(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Kn=(r,t)=>{for(var o in t||(t={}))tr.call(t,o)&&lr(r,o,t[o]);if(zn)for(var o of zn(t))$n.call(t,o)&&lr(r,o,t[o]);return r},rt=(r,t)=>Cn(r,bn(t)),lt=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const bt="intro_popup_last_hidden_at";function Ut(r,{language:t}){const o=!r.disable_monthly_subscriptions&&r.plans&&r.plans.filter(L=>L.interval==="month").sort((L,k)=>L.amount-k.amount)[0],a=!r.disable_annual_subscriptions&&r.plans&&r.plans.filter(L=>L.interval==="year").sort((L,k)=>L.amount-k.amount)[0],f=o||a;if(f)return(0,Ne.planBasePricing)(f,{language:t})}function an(r,{includePrice:t=!0,includeRankingDetail:o=!0,includeByline:a=!0,includeBadge:f=!1,rankingDetailOverrideText:L=null,language:k="en"}={}){const U=k||r.language,{iTemplate:B}=I18N.i(k||r.language),q=(0,Ne.getByLine)(r);let pe=null;return o&&(pe=L||(r.rankingDetailByLanguage&&U!=="en"&&r.rankingDetailByLanguage[U]?r.rankingDetailByLanguage[U].rankingDetail:r.rankingDetail)),(0,e.h)(xn,{separator:" \xB7 "},a&&q?(0,e.h)(de.hs,{inline:!0,gap:4},B`By ${q}`,f&&(0,e.h)(Wn.cr,{module:"../pencraft/unstable/UserBadge",resolve:ge=>ge.UserBadge,onRequest:()=>Promise.all([Ke.e(2372),Ke.e(3324)]).then(Ke.bind(Ke,33324)),size:"sm",tier:r.author_bestseller_tier,userId:r.author_id,whileLoading:(0,e.h)(de.hs,{alignItems:"center"},(0,e.h)(Dn.o,{size:"sm",tier:r.author_bestseller_tier}))})):null,pe,t&&Ut(r,{language:k}))}function wn({publication:r,user:t,post:o,onHide:a,freeSignup:f,hidden:L,alwaysShow:k,showOnMount:U,freeSignupEmail:B,coupon:q,email:pe,referralCode:ge,noBalance:Pe,blurbs:Ee,launchWelcomePage:Me}){const[De,Ue]=(0,n.eJ)(null),[Fe,Ye]=(0,n.eJ)(!1),[st,nt]=(0,n.eJ)(!!(Me||k)),{getExperimentVariant:at,exposeExperiment:yt}=(0,fn.jc)();(0,n.d4)(()=>{if(Me&&!Tt()||Ct()){if(typeof window!="undefined"&&((0,i.addClass)(document.documentElement,"has-intro-popup"),Ht(r,t,q,{required:!0},jt=>Ue(jt))),(0,g.getQueryItem)("r")){const jt=(0,g.getQueryItem)("r");(!t||(0,Ne.userReferralKey)(t)!==jt)&&(0,P.j)(P.FP.COVER_PAGE_REFERRAL_VISIT,{referral_key:jt,referring_user:(0,Ne.userFromReferralKey)(jt)})}Et()}else a&&a(),(0,j.a)({hide_intro_popup:!0}),typeof window!="undefined"&&(0,i.removeClass)(document.documentElement,"has-intro-popup"),!k&&typeof window!="undefined"&&(0,i.hasClass)(document.documentElement,"show-intro-popup")&&(0,i.removeClass)(document.documentElement,"show-intro-popup");return()=>{typeof window!="undefined"&&(0,i.removeClass)(document.documentElement,"has-intro-popup"),It(!0)}},[]);const Et=()=>{typeof window!="undefined"&&((0,i.addClass)(document.documentElement,"show-intro-popup"),(0,P.j)(P.FP.COVER_PAGE_SHOWN,{has_cover_photo:!!r.cover_photo_url,has_free_signup_email:!!B,has_free_signup:!!f,functional_version:!0,launch_welcome_page:Me,always_show:k,hidden:L,test_experiment_variant:at("test_experiment_2")}),yt("test_experiment_v2"),k||(0,P.XY)("pageview",{dl:`${document.location.origin}/welcome${document.location.search}`})),nt(!0)},Ct=()=>k?!0:L?!1:U||Fe?!0:!(Tt()||!(typeof o=="undefined"||o===null||o&&!(0,dn.isPaidAudience)(o.audience))||f||t&&(t.is_free_subscribed||t.is_subscribed)),It=jt=>{jt||(Rt(),setTimeout(()=>{(0,j.a)({hide_intro_popup:!0})},500)),a&&a(),!k&&typeof window!="undefined"&&(0,i.hasClass)(document.documentElement,"show-intro-popup")&&(0,i.removeClass)(document.documentElement,"show-intro-popup")},Tt=()=>{const jt=ue.get(bt);if(jt){const qt=new Date(jt),ln=new Date(Date.now()-24*60*60*1e3);if(qt>ln)return!0}return!1},Rt=()=>{ue.set(bt,new Date().toJSON(),{expires:365*10})},wt=jt=>lt(this,null,function*(){(0,P.j)(P.FP.COVER_PAGE_EMAIL_SUBMITTED,{is_paying_sub:!!jt.body.prompt_to_login,has_plans:!!r.plans,functional_version:!0}),Rt(),Ye(!0),(0,j.a)({freeSignup:!0,freeSignupEmail:jt.body.email});const qt=k?"/":document.location.href;jt.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,g.pathWithQuery)("/account/login",{redirect:qt,email:jt.body.email})},30):document.location.href=(0,g.pathWithQuery)("/subscribe",rt(Kn(Kn({next:qt,later:!0,just_signed_up:!0},jt.body.subscription_id&&{subscription_id:jt.body.subscription_id}),jt.body.referral_token&&{referral_token:jt.body.referral_token}),{coupon:q,requires_confirmation:jt.body.requires_confirmation?"true":"",utm_source:"cover_page",email:jt.body.email,skip_redirect_check:!0}))}),Qt=()=>{(0,P.j)(P.FP.COVER_PAGE_MAYBE_LATER_CLICKED,{functional_version:!0}),It()};return!st||!Ct()?null:(0,e.h)("div",{className:"intro-popup"},(0,e.h)("div",{className:"intro-popup-page"},(0,e.h)(Xn,{source:"cover_page",email:pe,pub:r,user:t,freeSignup:f,freeSignupEmail:B,referralCode:ge,forceSignup:(0,g.getQueryItem)("force"),coupon:De!=null?De:void 0,onMaybeLater:Qt,onFreeSignup:wt,markAsHidden:Rt,blurbs:Ee,noBalance:Pe})))}const Hn=r=>h("div",{className:"intro-inline"},h(Xn,Kn({},r))),Xn=({pub:r,user:t,email:o,freeSignup:a,freeSignupEmail:f,referralCode:L,source:k,coupon:U,forceSignup:B,submitButtonText:q,onMaybeLater:pe,onFreeSignup:ge,noBalance:Pe,markAsHidden:Ee,blurbs:Me})=>{const De=(0,n.qp)(it.vz),{iString:Ue}=(0,A.M1)(),{getExperimentVariant:Fe,exposeExperiment:Ye}=(0,fn.jc)(),st=(0,g.getQueryItem)("referralCode"),nt=(0,g.getQueryItem)("refSource"),at=Ue("Learn More"),yt=(0,g.getAboutUrl)(r,{params:Kn(Kn({utm_source:"subscribe_email",utm_content:"learn_more"},st&&{referralCode:st}),nt&&{refSource:nt})}),Et=!r.custom_domain&&!r.invite_only,Ct=Fe("welcome_page_google_button"),It=Et&&Ct==="treatment_signup",Tt=Et&&Ct==="treatment_subscribe";(0,n.d4)(()=>{k==="subscribe_page"&&(0,P.j)(P.FP.SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN,{functional_version:!0}),Et&&Ye("welcome_page_google_button"),(0,P.j)(P.FP.FULL_EMAIL_FORM_SHOWN,{source:k,functional_version:!0,google_button_variant:It||Tt?Ct:void 0})},[k]),(0,n.d4)(()=>{typeof window!="undefined"&&window.location.pathname==="/"&&Ye("welcome_page_defer_main_bundle")},[Ye]);const Rt=Me?Me.filter(wt=>wt.description!=""):[];return(0,e.h)("div",{className:"full-email-form"},(0,e.h)("div",{className:"vertically-centered"},pe&&!r.invite_only&&(0,e.h)("button",{className:"button close-welcome-modal",onClick:pe,"aria-label":"Close","data-testid":"close-welcome-modal"},(0,e.h)(s.Z,null)),(0,e.h)(Ur,{pub:r,noBalance:Pe}),U&&U.required&&(0,e.h)("p",{className:`coupon ${U.loading?"loading":""} ${U.error?"error":""}`},U.loading?Ue("Loading coupon"):U.error?Ue("Invalid coupon!"):Ue("Valid coupon!"),` ${(U.name||U.id).toUpperCase()}`),r.invite_only&&(!t||!t.is_free_subscribed)?(0,e.h)(Er,{pub:r,user:t,freeSignupEmail:f}):(0,e.h)(e.Fragment,null,(0,e.h)(de.gq,{justifyContent:"center",style:{width:"100%"}},(0,e.h)(de.tu,{gap:4,style:{width:"100%",maxWidth:"380px"}},(0,e.h)(Le.Z,{email:o,freeSignup:a,freeSignupEmail:f,markWelcomePageAsHidden:Ee,pub:r,referralCode:L,source:k,submitButtonText:q,user:t,onConfirmationRequired:r.payments_state==="enabled"?()=>null:void 0,onMaybeLater:pe,onSuccess:ge||(()=>document.location.href="/"),autoFocus:!0}),(It||Tt)&&(0,e.h)(M.xv.Meta,{className:"or-text"},"OR"),(It||Tt)&&(0,e.h)("a",{href:(0,g.pathWithQuery)("/api/v1/google/authorize",{redirect:(0,g.pathWithQuery)("/subscribe",{utm_source:"substack",utm_campaign:"google_subscribe",utm_medium:"web",just_signed_up:!0,later:!0}),for_pub:r.subdomain,signup:!0,current_referrer:l.xU,current_url:l.UE,first_referrer:l.ip,first_url:l.xY}),className:"button google-button",native:!0},It?"Sign up":"Subscribe"," with Google"))),!B&&(pe?(0,e.h)("a",{onClick:wt=>wt.preventDefault(),className:"no-styles"},(0,e.h)(Ae.Z,{className:"maybe-later",onClick:pe},De.getSettingFor("welcome_page_opt_out_text")==="No thanks"?Ue("No thanks"):De.getSettingFor("welcome_page_opt_out_text"),(0,e.h)(Ge,null))):(0,e.h)(Ae.Z,{className:"maybe-later",href:yt},at,(0,e.h)(Ge,null)))),!!(Rt!=null&&Rt.length)&&(0,e.h)("div",{className:"blurb-buffer"}),!!(Rt!=null&&Rt.length)&&(0,e.h)(de.gq,{className:"blurbs",gap:20},Rt.map(wt=>(0,e.h)(de.tu,{gap:8,className:"blurb"},(0,e.h)(M.xv.B4,{className:"blurb-text"},(0,e.h)(Qe,{maxLines:4,ellipsesText:"...\u201D",text:`\u201C${wt.description}\u201D`})),(0,e.h)(M.xv.B4,{weight:"semibold",className:"blurb-text"},wt.author_name||wt.recommendingPublication.email_from_name||wt.recommendingPublication.copyright,","," ",(0,e.h)("a",{href:(0,g.getBaseUrl)(wt.recommendingPublication)},wt.recommendingPublication.name)))))),(0,e.h)(K,{publication:r}))};class ar extends e.Component{constructor(){super(...arguments),this.emailInput=null,this.customerSupportModeModal=null,this.form=null,this.canTurnOnCustomerSupportMode=()=>{const t=this.props.user;return(t==null?void 0:t.is_global_admin)&&!(t!=null&&t.is_admin)},this.showCustomerSupportModeModal=()=>{var t;this.canTurnOnCustomerSupportMode()&&((t=this.customerSupportModeModal)==null||t.open())}}componentDidMount(){var t;const o=this.props.freeSignupEmail||this.props.user&&this.props.user.email;o&&this.emailInput?this.emailInput.value=o:!o&&!(0,i.isMobileBrowser)()&&((t=this.emailInput)==null||t.focus())}renderCustomerSupportModeModal(){if(this.canTurnOnCustomerSupportMode())return(0,e.h)(ct.p,{className:"account-info-customer-support-mode-modal",ref:t=>this.customerSupportModeModal=t},(0,e.h)(Oe,{redirect:(0,g.getQueryItem)("redirect")||"/publish/home",onCancel:t=>{var o;return(o=this.customerSupportModeModal)==null?void 0:o.close(t)},allowAllDay:!1}))}render({pub:t,user:o,freeSignupEmail:a,iString:f},{loading:L,success:k}){const U=a||o&&o.email;return(0,e.h)("div",{className:"intro-popup-invite-actions"},this.renderCustomerSupportModeModal(),(0,e.h)(ce.ZP,{className:"subscription-request-form",ref:B=>this.form=B,noInlineErrors:!0,action:(0,g.pathWithQuery)("/api/v1/subscription/request"),noJsAction:(0,g.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:B=>{this.setState({loading:!1}),alert((0,i.getNetworkErrorMessage)(B,"Failed to request a subscription"))}},(0,e.h)("input",{type:"hidden",name:"first_url",value:l.xY}),(0,e.h)("input",{type:"hidden",name:"first_referrer",value:l.ip}),(0,e.h)("input",{type:"hidden",name:"current_url",value:l.UE}),(0,e.h)("input",{type:"hidden",name:"current_referrer",value:l.xU}),!!U&&(0,i.inputPrefillHack)(),(0,e.h)(de.tu,{alignItems:"center"},(0,e.h)("input",{type:"email",name:"email",ref:B=>this.emailInput=B,readOnly:!!(U||L),disabled:!!(L||k||U),placeholder:f("Type your email...")}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(Ae.Z,{className:u()(k?"secondary":"primary"),type:"submit",disabled:!!(L||k),onClick:()=>{this.setState({loading:!0})}},(0,e.h)("b",{className:"button-text"},f(k?"Requested":"Subscribe"))))),(0,e.h)(de.tu,{gap:12,paddingBottom:12,alignItems:"center",justifyContent:"center"},(0,e.h)(ze.Z,{className:"private-lock-icon"}),(0,e.h)(de.tu,{gap:2},(0,e.h)(M.xv.B4,{translated:!0,weight:"semibold",className:"private-header"},"This Substack is private"),(0,e.h)(M.xv.B4,{translated:!0,className:"private-subtitle"},"Subscribe to see all their posts."))),this.canTurnOnCustomerSupportMode()&&(0,e.h)("p",null,(0,e.h)("a",{className:"account-info-admin",onClick:this.showCustomerSupportModeModal},(0,e.h)("b",null,"Support mode"))),(0,e.h)("a",{href:(0,g.getSigninUrl)({for_pub:t.subdomain,redirect:"/",change_user:!!(o||a)}),native:!0},(0,e.h)(M.xv,{as:"span",translated:!0},"Already a member?")," ",o||a?(0,e.h)(M.xv,{weight:"bold",as:"span",translated:!0},"Switch accounts"):(0,e.h)(M.xv,{weight:"bold",as:"span",translated:!0},"Sign in")))}}ar.state={loading:!1,success:!1};const Er=(0,A.fz)(ar),Ur=({pub:r,noBalance:t})=>{var o;const{getSettingFor:a}=(0,it.So)(),{getConfigFor:f}=(0,tt.xR)(),{language:L}=(0,A.M1)(),k=f("section_specific_welcome_pages");let U,B,q,pe,ge,Pe;k&&r.section?(U=r.section.name,B=r.section.description,q=(o=r.section.logo_url)!=null?o:r.logo_url,pe=r.section.cover_photo_url,ge=!!(pe&&r.section.hide_intro_title),Pe=!!(pe&&r.section.hide_intro_subtitle)):(U=r.name,B=r.hero_text,q=r.logo_url,pe=r.cover_photo_url,ge=!!(pe&&r.hide_intro_title),Pe=!!(pe&&r.hide_intro_subtitle));const Ee=a("display_welcome_page_details"),Me=pe&&(0,g.extractDimensionsFromImageUrl)(pe);return(0,e.h)(e.Fragment,null,pe?(0,e.h)(dt.e,{className:"publication-cover-photo",src:pe,imageProps:{quality:"auto:best"},maxWidth:1360,loading:"eager",style:Kn({},Me&&Me.width&&{height:`min(35vh, ${680*Me.height/Me.width}px)`})}):q&&(0,e.h)(dt.e,{className:"publication-logo",src:q,imageProps:{quality:"auto:best"},maxWidth:264,loading:"eager"}),!ge&&(0,e.h)("h1",{className:u()("publication-name",{"no-logo":!q,"with-cover":pe})},t?U:(0,e.h)(We,{text:U})),!Pe&&B&&(0,e.h)("p",{className:u()("publication-tagline with-cover",{verbose:!0,"with-cover":pe})},t?B:(0,e.h)(We,{text:B})),(0,e.h)("div",{className:"publication-meta"},an(r,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:r.rankingDetailFreeSubscriberCount,includeRankingDetail:!!Ee,language:L})))};function kr(r,t){for(const[o,a]of Object.entries(t))a!=null&&(r[o]=a);return r}function yo(r){return Object.fromEntries(Object.entries(r).filter(([t,o])=>o!=null))}function ro(r){var t,o,a;return r.link_title||((t=r.postTag)==null?void 0:t.name)||((o=r.section)==null?void 0:o.name)||((a=r.post)==null?void 0:a.title)||""}function fo(r){var t;return r.postTag?"tag":r.section?"section":((t=r.post)==null?void 0:t.type)==="page"?"page":r.post?"post":"link"}function Fr(r,{isPodcastActive:t,isChatActive:o,isMeetingsActive:a,hasMultipleNewsletters:f,isChatEnabled:L,isFeedEnabled:k,isReaderReferralsLeaderboardActive:U,language:B="en"}){var q;const pe=r.filter(Me=>!Me.standard_key),ge=new Map(r.filter(Me=>Me.standard_key).map(Me=>[Me.standard_key,Me])),{iString:Pe}=I18N.i(B);for(const Me of pe)(q=Me.section)!=null&&q.hide_from_navbar&&(Me.is_hidden=!0);const Ee=[k&&{standard_key:"notes",link_title:"Notes",link_url:"/notes"},L&&{standard_key:"chat",link_title:"Chat",link_url:"/chat",is_hidden:!o},a&&{standard_key:"meetings",link_title:"Meetings",link_url:"/meetings"},...pe,{standard_key:"archive",link_title:Pe("Archive"),link_url:"/archive"},f&&{standard_key:"newsletters",link_title:Pe("Newsletters"),link_url:"/newsletters",is_hidden:!0},U&&{standard_key:"leaderboard",link_title:Pe("Leaderboard"),link_url:"/leaderboard"},{standard_key:"about",link_title:Pe("About"),link_url:"/about"}].filter(Me=>!!Me);for(const Me of Ee)if(Me.standard_key){const De=ge.get(Me.standard_key);De&&kr(Me,De)}return Ee}var $t=Ke(98661),Gr=Object.defineProperty,gr=Object.defineProperties,Vr=Object.getOwnPropertyDescriptors,_t=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,Mt=Object.prototype.propertyIsEnumerable,Kt=(r,t,o)=>t in r?Gr(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,ke=(r,t)=>{for(var o in t||(t={}))Ot.call(t,o)&&Kt(r,o,t[o]);if(_t)for(var o of _t(t))Mt.call(t,o)&&Kt(r,o,t[o]);return r},ot=(r,t)=>gr(r,Vr(t)),ut;const ht=typeof window!="undefined"&&window._preloads||fn.xu,Nt=typeof window!="undefined"?(ut=window._preloads)==null?void 0:ut.siteConfigs:{},Lt=(r,t)=>ke(ke({},(0,fn.ng)(r,t)),(0,tt.Xz)(r)),St=(0,e.createContext)(Lt(Nt,ht));St.displayName="ExperimentsAndSiteConfigContext";function Ft({siteConfigs:r={},experimentInfo:t,children:o}){const a=t||ht,f=(0,n.Ye)(()=>Lt(r,a),[r,a]);return(0,e.h)(St.Provider,{value:f},o)}function nn(){return useContext(St)}const yn=r=>{const t=forwardRef((o,a)=>{const f=nn();return h(r,ot(ke(ke({},f),o),{ref:a}))});return t.displayName=`withExperimentsAndSiteConfigContext(${r.displayName||r.name||"Anonymous"})`,t};var gn=Ke(44396),Sn=Ke(85928),sn=Ke.n(Sn),mn=Ke(87021);const Pr=(0,mn.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),fr=(0,mn.Z)("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),vr=(0,mn.Z)("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);var ir=Ke(34593),Qn=Object.defineProperty,zr=Object.defineProperties,Ar=Object.getOwnPropertyDescriptors,Cr=Object.getOwnPropertySymbols,oo=Object.prototype.hasOwnProperty,Oo=Object.prototype.propertyIsEnumerable,po=(r,t,o)=>t in r?Qn(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Yo=(r,t)=>{for(var o in t||(t={}))oo.call(t,o)&&po(r,o,t[o]);if(Cr)for(var o of Cr(t))Oo.call(t,o)&&po(r,o,t[o]);return r},Jo=(r,t)=>zr(r,Ar(t));const Co=r=>(0,e.h)(Je.l,Jo(Yo({},r),{name:"LucideTabActivity",svgParams:{height:24,width:24,stroke:r.stroke,strokeWidth:r.strokeWidth}}),(0,e.h)("path",{d:"M13.73 21C13.5542 21.3031 13.3018 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21M18 8C18 6.4087 17.3679 4.88258 16.2426 3.75736C15.1174 2.63214 13.5913 2 12 2C10.4087 2 8.88258 2.63214 7.75736 3.75736C6.63214 4.88258 6 6.4087 6 8C6 15 3 17 3 17H21C21 17 18 15 18 8Z","stroke-linecap":"round","stroke-linejoin":"round"}));var wo=Object.defineProperty,Ea=Object.defineProperties,Oa=Object.getOwnPropertyDescriptors,ko=Object.getOwnPropertySymbols,Xo=Object.prototype.hasOwnProperty,Ca=Object.prototype.propertyIsEnumerable,Qo=(r,t,o)=>t in r?wo(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,wa=(r,t)=>{for(var o in t||(t={}))Xo.call(t,o)&&Qo(r,o,t[o]);if(ko)for(var o of ko(t))Ca.call(t,o)&&Qo(r,o,t[o]);return r},qo=(r,t)=>Ea(r,Oa(t));const Po=r=>(0,e.h)(Je.l,qo(wa({},r),{name:"LucideTabChat",svgParams:{height:24,width:24,stroke:r.stroke,strokeWidth:r.strokeWidth}}),(0,e.h)("path",{d:"M3 3H17C18.1046 3 19 3.89543 19 5V9.75008H11C9.89543 9.75008 9 10.6455 9 11.7501V16.7501C9 16.8314 9.00486 16.9117 9.0143 16.9905L4.65547 19.8964C4.58901 19.9407 4.5 19.893 4.5 19.8131V15H3C1.89543 15 1 14.1046 1 13V5C1 3.89543 1.89543 3 3 3Z"}),(0,e.h)("path",{d:"M11 9.75L20.5 9.75C21.6046 9.75 22.5 10.6454 22.5 11.75V16.75C22.5 17.8546 21.6046 18.75 20.5 18.75H20V22.3108C20 22.3911 19.91 22.4387 19.8437 22.3934L14.5 18.75L11 18.75C9.89543 18.75 9 17.8546 9 16.75L9 11.75C9 10.6454 9.89543 9.75 11 9.75Z"}));var So=Object.defineProperty,ea=Object.defineProperties,Sa=Object.getOwnPropertyDescriptors,Fo=Object.getOwnPropertySymbols,ta=Object.prototype.hasOwnProperty,Io=Object.prototype.propertyIsEnumerable,pr=(r,t,o)=>t in r?So(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Lr=(r,t)=>{for(var o in t||(t={}))ta.call(t,o)&&pr(r,o,t[o]);if(Fo)for(var o of Fo(t))Io.call(t,o)&&pr(r,o,t[o]);return r},Wr=(r,t)=>ea(r,Sa(t));const ki=r=>(0,e.h)(Je.l,Wr(Lr({},r),{name:"LucideTabBrowse",svgParams:{height:24,width:24,stroke:r.stroke,strokeWidth:r.strokeWidth}}),(0,e.h)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16.2398 7.75977L14.1198 14.1198L7.75977 16.2398L9.87977 9.87977L16.2398 7.75977Z","stroke-linecap":"round","stroke-linejoin":"round"}));var $s=Object.defineProperty,ju=Object.defineProperties,Ku=Object.getOwnPropertyDescriptors,Zs=Object.getOwnPropertySymbols,Hu=Object.prototype.hasOwnProperty,Vu=Object.prototype.propertyIsEnumerable,Gs=(r,t,o)=>t in r?$s(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,$u=(r,t)=>{for(var o in t||(t={}))Hu.call(t,o)&&Gs(r,o,t[o]);if(Zs)for(var o of Zs(t))Vu.call(t,o)&&Gs(r,o,t[o]);return r},Zu=(r,t)=>ju(r,Ku(t));const Gu=r=>(0,e.h)(Je.l,Zu($u({},r),{name:"LucideTabHome",svgParams:{height:24,width:24,stroke:r.stroke,strokeWidth:r.strokeWidth}}),(0,e.h)("path",{d:"M3.00034 9.4876C3.00034 9.17901 3.14281 8.88919 3.3864 8.69973L12.0003 2L20.6143 8.69973C20.8579 8.88919 21.0003 9.17923 21.0003 9.48782C21.0003 12.4545 21.0003 22 21.0003 22H15V15C15 13.3431 13.6569 12 12 12V12C10.3431 12 9 13.3431 9 15V22H3C3 22 3.00032 13.9501 3.00034 9.4876Z","stroke-linecap":"round","stroke-linejoin":"round"}));var zu=Object.defineProperty,Yu=Object.defineProperties,Ju=Object.getOwnPropertyDescriptors,Fi=Object.getOwnPropertySymbols,Xu=Object.prototype.hasOwnProperty,Qu=Object.prototype.propertyIsEnumerable,zs=(r,t,o)=>t in r?zu(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Ys=(r,t)=>{for(var o in t||(t={}))Xu.call(t,o)&&zs(r,o,t[o]);if(Fi)for(var o of Fi(t))Qu.call(t,o)&&zs(r,o,t[o]);return r},qu=(r,t)=>Yu(r,Ju(t));const ec=r=>(0,e.h)(Je.l,qu(Ys({},r),{name:"LucideTabInbox",svgParams:{height:24,width:24,stroke:r.stroke,strokeWidth:r.strokeWidth}}),(0,e.h)("path",{d:"M22 12L16 12L14 15L10 15L8 12L2 12","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M5.45 5.11L2.10583 11.7886C2.03624 11.9276 2 12.0809 2 12.2364L2 18C2 18.5304 2.21071 19.0391 2.58579 19.4142C2.96086 19.7893 3.46957 20 4 20L20 20C20.5304 20 21.0391 19.7893 21.4142 19.4142C21.7893 19.0391 22 18.5304 22 18V12.2364C22 12.0809 21.9638 11.9276 21.8942 11.7886L18.55 5.11C18.3844 4.77679 18.1292 4.49637 17.813 4.30028C17.4967 4.10419 17.1321 4.0002 16.76 4L7.24 4C6.86792 4.0002 6.50326 4.10419 6.18705 4.30028C5.87083 4.49637 5.61558 4.77679 5.45 5.11Z","stroke-linecap":"round","stroke-linejoin":"round"})),Wi=(0,e.createContext)(!1);var Ta=Ke(85065);function tc(r,t){if(r){if(!r.has_publication&&!r.subdomain)return{type:"no-dashboard",url:(0,g.getStartPublishingUrl)(t)};if(r.subdomain)return{type:"dashboard",url:(0,g.getDashboardUrlForSubdomain)(r.subdomain,{params:t})}}return null}function nc(r,t){return r!=null&&r.profile_set_up_at?(0,g.getReaderProfileUrl)(r,t):(0,g.getProfileSetupUrl)(t!=null&&t.utm_source?{utm_source:t.utm_source}:void 0)}var Da=Ke(89018),ji=Ke(47585),bo=Ke(19826);const ri={badge:"frontend-components-NavBadge-module__badge--afZUN",dotContainer:"frontend-components-NavBadge-module__dotContainer--_daQd",dot:"frontend-components-NavBadge-module__dot--CFI7y",responsive:"frontend-components-NavBadge-module__responsive--DecFZ",binary:"frontend-components-NavBadge-module__binary--nccbG"};function Js({className:r,responsive:t,count:o}){return(0,e.h)(de.hs,{alignItems:"center",justifyContent:"center",radius:12,className:u()(ri.badge,t&&ri.responsive,!o&&ri.binary,r)},o&&(0,e.h)(M.xv.Digit,{color:"bg-light"},o<100?o:"99+"))}var oi=Ke(74285),rc=Object.defineProperty,oc=Object.defineProperties,ac=Object.getOwnPropertyDescriptors,ai=Object.getOwnPropertySymbols,Ki=Object.prototype.hasOwnProperty,ii=Object.prototype.propertyIsEnumerable,Xs=(r,t,o)=>t in r?rc(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Hi=(r,t)=>{for(var o in t||(t={}))Ki.call(t,o)&&Xs(r,o,t[o]);if(ai)for(var o of ai(t))ii.call(t,o)&&Xs(r,o,t[o]);return r},Vi=(r,t)=>oc(r,ac(t)),$i=(r,t)=>{var o={};for(var a in r)Ki.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&ai)for(var a of ai(r))t.indexOf(a)<0&&ii.call(r,a)&&(o[a]=r[a]);return o};const jr="user-menu",ic=`https://support.substack.com/hc/en-us/?utm_source=${jr}`,si=40;function sc(r){var t=r,{user:o,pub:a}=t,f=$i(t,["user","pub"]);const{iString:L}=(0,A.M1)(),k=(0,n.qp)(Wi);return(0,e.h)(e.Fragment,null,o?(0,e.h)(lc,Vi(Hi({},f),{user:o,pub:a})):(0,e.h)(Ae.Z,{href:(0,g.getSigninUrl)({for_pub:a==null?void 0:a.subdomain}),native:"true",className:u()("sign-in-link outline-grayscale",{"force-desktop":k})},L("Sign in")))}function lc(r){var t=r,{className:o,user:a,pub:f,showBadge:L=!0}=t,k=$i(t,["className","user","pub","showBadge"]);const{iString:U}=(0,A.M1)(),{activityUnreadCount:B}=(0,Ta.lR)(),q=(0,n.qp)(Wi),pe=(0,gn.XA)()&&!q,{element:ge,toggle:Pe}=Qs(Vi(Hi({},k),{user:a,pub:f}));return(0,e.h)(Ae.Z,{className:u()(o,"user-indicator small-no-margin no-active-fade signed-in reader2-tappable-bg",{"force-desktop":q}),onClick:Pe},pe&&L&&B>0&&(0,e.h)(ji.in,{className:u()("user-indicator-badge",B<10&&"user-indicator-badge-circle")},(0,e.h)(d.hs,{alignItems:"center",justifyContent:"center"},B<100?B:"99+")),(0,e.h)(Pr,{className:u()("user-indicator-icon",{"force-desktop":q}),size:20,strokeWidth:2}),(0,e.h)("img",{className:u()("menu-trigger-image",{"force-desktop":q}),src:(0,g.imginary)((0,g.getUserPhotoUrl)(a),2*si,{height:2*si,crop:"fill"})}),ge)}function Hf(r){var t=r,{user:o}=t,a=$i(t,["user"]);const{element:f,toggle:L}=Qs(Vi(Hi({},a),{user:o}));return h(Fragment,null,h(UnstyledButton,{resetCss:!0,onClick:L},h(Avatar,{user:o,size:36})),f)}function Qs({user:r,pub:t,enableCustomerServiceMode:o,disableCustomerServiceMode:a,freeSignup:f,fixedTooltip:L}){const{iString:k}=(0,A.M1)(),{activityUnreadCount:U}=(0,Ta.lR)(),[B,q]=(0,bo.EJ)(),pe=(0,tt.xR)(),{getExposedVariant:ge}=(0,fn.jc)();let Pe="",Ee="";r&&(Pe=r!=null&&r.profile_set_up_at&&r.name?r.name:r.email,Ee=r!=null&&r.profile_set_up_at?r.name?r.email:null:k("Set up your profile"));const Me=({active:st})=>{(0,P.j)(st?P.FP.USER_MENU_OPENED:P.FP.USER_MENU_DISMISSED)},De=r?tc(r,{utm_source:jr}):null,Ue=t&&(f||r&&(r.is_subscribed||r.is_free_subscribed)),Fe=nc(r,{utm_source:jr});return{element:(0,e.h)(oi.h,null,(0,e.h)("div",{className:"user-indicator-dropdown-menu"},(0,e.h)(bo.ZP,{className:u()({"fixed-tooltip":L}),ref:B,useDrawerOnMobile:!0,noTail:!0,noPlace:!0,preventScrollBehindDrawer:!0,backdropDismiss:!0,onToggle:Me},(0,e.h)("div",{className:"menu-scroll-container"},(0,e.h)("a",{href:Fe,className:"profile-header",onClick:()=>(0,P.j)(P.FP.USER_MENU_PROFILE_CLICKED)},(0,e.h)("img",{className:"header-user-image",src:(0,g.imginary)((0,g.getUserPhotoUrl)(r),2*si,{height:2*si,crop:"fill"})}),(0,e.h)("div",{className:"labels"},(0,e.h)("div",{className:"h1"},Pe),Ee&&(0,e.h)("div",{className:"h2"},Ee))),(0,e.h)("hr",null),r&&(0,e.h)(e.Fragment,null,(0,e.h)(Nr,{url:(0,g.getFeedUrl)({urlParams:{utm_source:jr}}),analyticsEvent:P.FP.USER_MENU_FEED_CLICKED},(0,e.h)(na,{Icon:Gu})," ",k("Home")),(0,e.h)(Nr,{url:(0,g.getBaseReaderUrl)({utm_source:jr}),analyticsEvent:P.FP.USER_MENU_READER_CLICKED},(0,e.h)(na,{Icon:ec})," ",k("Inbox")),(0,e.h)(Nr,{url:(0,g.getDiscoverCategoryUrl)(),analyticsEvent:P.FP.USER_MENU_DISCOVER_CLICKED},(0,e.h)(na,{Icon:ki})," ",k("Explore")),(0,e.h)(Nr,{url:(0,G.getChatUrl)(),analyticsEvent:P.FP.USER_MENU_CHAT_CLICKED},(0,e.h)(na,{Icon:Po})," ",k("Chat")),(0,e.h)(Nr,{url:(0,g.getNotificationsUrl)({utm_source:jr}),analyticsEvent:P.FP.USER_MENU_ACTIVITY_CLICKED},(0,e.h)(na,{Icon:Co})," ",k("Activity"),U>0?(0,e.h)(Js,{className:"indicator-badge",count:U}):null),(0,e.h)(Nr,{url:De.url},(0,e.h)(na,{Icon:De.type==="no-dashboard"?fr:vr,className:"start-writing-icon"})," ",De.type==="no-dashboard"?k("Start writing"):k("Writer dashboard"))),(0,e.h)("hr",null),Ue&&(0,e.h)(Nr,{className:"secondary-item",url:(0,g.pathWithQuery)("/account",{utm_source:jr}),analyticsEvent:P.FP.USER_MENU_MANAGE_SUBSCRIPTION_CLICKED},k("Manage subscription")),pe.getConfigFor("credit_tokens_enabled")&&(ge("credit_tokens")==="treatment"||["treatment_invite","treatment_earn","treatment_gift"].includes(ge("credit_tokens_email_2"))||["treatment_invite_friends","treatment_copy","treatment_copy_reader_onboarding"].includes(ge("credit_tokens_reader_onboarding_2"))||ge("credit_tokens_reader_onboarding")==="treatment"||r.has_credit_token)&&(0,e.h)(Nr,{className:"secondary-item",url:(0,G.getInviteFriendsCreditPageUrl)({utm_source:jr}),analyticsEvent:P.FP.USER_MENU_INVITE_FRIENDS_CLICKED},k("Invite friends")),(0,e.h)(Nr,{className:"secondary-item",url:(0,g.getGlobalAccountSettingsUrl)({utm_source:jr}),analyticsEvent:P.FP.USER_MENU_ACCOUNT_SETTINGS_CLICKED},k("Settings")),(0,e.h)(Nr,{className:"secondary-item",url:ic},k("Support")),(0,e.h)(Nr,{className:"secondary-item",url:(0,g.getSignoutUrl)({utm_source:jr,for_pub:t==null?void 0:t.subdomain})},k("Sign out")),o&&(0,e.h)(Nr,{className:"secondary-item",onClick:()=>{var st;(st=B.current)==null||st.close(),o()}},"Enter support mode"),a&&(0,e.h)(Nr,{className:"secondary-item",onClick:a},"Exit support mode"),t&&(r==null?void 0:r.is_global_admin)&&(0,e.h)(Nr,{className:"secondary-item",url:`${(0,g.getBaseUrl)({subdomain:"admin"})}/publications/${t.id}`},"Open in underground"),!(r!=null&&r.reader_installed_at)&&(0,e.h)(e.Fragment,null,(0,e.h)("hr",null),(0,e.h)(Nr,{className:"special-item",url:(0,g.getAppMarketingUrl)({utm_campaign:"app-marketing",utm_content:"user-menu-link"})},k("Get the app")," ",(0,e.h)(V.Z,{className:"item-badge branded",color:Da.substack_color}))),(0,e.h)("hr",null),(0,e.h)("div",{className:"terms-footer"},(0,e.h)("a",{href:(0,g.getHomeUrl)({utm_source:jr})},k("About")),(0,e.h)("a",{href:(0,g.getPrivacyUrl)({pub:t,utm_source:jr})},k("Privacy")),(0,e.h)("a",{href:(0,g.getTermsUrl)({utm_source:jr})},k("Terms")),(0,e.h)("a",{href:(0,g.getInfoCollectionUrl)({utm_source:jr})},k("Collection notice"))))))),toggle:q}}function Nr({className:r,url:t,analyticsEvent:o,onClick:a,children:f}){return(0,e.h)("a",{className:`indicator-menu-item ${r}`,onClick:L=>{o&&(0,P.j)(o),a&&a(L)},href:t,native:!0},f)}const uc=20;function na({Icon:r,className:t}){return(0,e.h)(r,{className:u()(t,"indicator-item-icon"),height:uc,stroke:"var(--color-primary)",strokeWidth:2})}var cc=Object.defineProperty,dc=Object.defineProperties,fc=Object.getOwnPropertyDescriptors,li=Object.getOwnPropertySymbols,qs=Object.prototype.hasOwnProperty,el=Object.prototype.propertyIsEnumerable,tl=(r,t,o)=>t in r?cc(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,nl=(r,t)=>{for(var o in t||(t={}))qs.call(t,o)&&tl(r,o,t[o]);if(li)for(var o of li(t))el.call(t,o)&&tl(r,o,t[o]);return r},pc=(r,t)=>dc(r,fc(t)),hc=(r,t)=>{var o={};for(var a in r)qs.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&li)for(var a of li(r))t.indexOf(a)<0&&el.call(r,a)&&(o[a]=r[a]);return o};const ui=(0,e.createContext)({country:"US"});ui.displayName="LocaleContext";function mc(){return useContext(ui)}function _c(r){var t=r,{children:o}=t,a=hc(t,["children"]);const f=(0,n.Ye)(()=>a,Object.values(a));return(0,e.h)(ui.Provider,{value:f},o)}function me(r){const t=forwardRef((o,a)=>{const f=mc();return h(r,pc(nl(nl({},f),o),{ref:a}))});return t.displayName=`withLocaleContext(${r.displayName||r.name||"Anonymous"})`,t}const Re=(0,mn.Z)("Bell",[["path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9",key:"oql5b8"}],["path",{d:"M13.73 21a2 2 0 0 1-3.46 0",key:"6o5tke"}]]);var Ze=Ke(8479),qe=Ke(25752),gt=Ke(5285),Wt=Ke(27484),Vt=Ke.n(Wt),Jt=Ke(67963);const tn={alert:"frontend-reader2-NotificationsAlert-module__alert--pio6x",close:"frontend-reader2-NotificationsAlert-module__close--ca0Tb",transition:"frontend-reader2-NotificationsAlert-module__transition--YdW2_",enterFrom:"frontend-reader2-NotificationsAlert-module__enterFrom--xNnVz",enterTo:"frontend-reader2-NotificationsAlert-module__enterTo--teWcO",leaveFrom:"frontend-reader2-NotificationsAlert-module__leaveFrom--U2sE5",leaveTo:"frontend-reader2-NotificationsAlert-module__leaveTo--l0D4x"},rr=r=>{const t=["comment_audience","comment_id","community_comment_id","created_at","id","mention_id","publication_id","sender_count","target_comment_id","target_community_comment_id","target_community_post_id","target_post_id","target_user_id","type"];(0,P.j)(P.FP.NOTIFICATIONS_ALERT_SHOWN,t.reduce((o,a)=>(o[a]=r==null?void 0:r[a],o),{}))};function ao(){var r;const{activityUnreadCount:t}=(0,Ta.lR)(),{exposeExperiment:o,getExperimentVariant:a}=(0,fn.jc)(),{isLoading:f,result:L,refetch:k}=(0,Ze.ib)({pathname:"/api/v1/activity-feed-web",query:{limit:1},auto:!1});(0,n.d4)(()=>{t>0&&k()},[t]);const[U,B]=(0,n.eJ)(!1),[q,pe]=(0,n.eJ)(!1),{isLoading:ge,fetch:Pe,result:Ee}=(0,Wn.Oe)({module:"./MiniNotificationsViewer",onRequest:()=>Promise.all([Ke.e(5282),Ke.e(2728)]).then(Ke.bind(Ke,23525)),fetchImmediately:!1}),Me=Vt()(),{userSettings:De,changeSetting:Ue}=(0,Jt.SE)(),Fe=(r=L==null?void 0:L.activityItems)==null?void 0:r[0],Ye=Fe!=null&&Fe.created_at?Vt()(Fe==null?void 0:Fe.created_at):Me.subtract(100,"year"),st=De!=null&&De.last_notification_alert_shown_at?Vt()(De.last_notification_alert_shown_at):Me.subtract(100,"year"),nt=Me.diff(Ye,"day")<7&&Ye.diff(st,"hour")>2,at=(0,n.sO)(null),yt=2e3,Et=6e3,Ct=()=>{at.current&&window.clearTimeout(at.current)},It=()=>{Ct(),at.current=window.setTimeout(()=>{B(!1)},Et)};return(0,n.d4)(()=>{nt&&t>0&&(o("notification_alert_improved"),a("notification_alert_improved")==="treatment"&&(Ee&&!U?window.setTimeout(()=>{B(!0),Ue("last_notification_alert_shown_at",Vt()().toISOString()),rr(Fe),It()},yt):!Ee&&!ge&&Pe()))},[f,L,t,ge,nt,U,B]),(0,e.h)(e.Fragment,null,(U||q)&&(0,e.h)(gt.u,{style:{position:"fixed",left:"auto",right:20,top:92,zIndex:100},appear:!0,show:U,beforeEnter:()=>pe(!0),afterLeave:()=>pe(!1),enter:tn.transition,enterFrom:tn.enterFrom,enterTo:tn.enterTo,leave:tn.transition,leaveFrom:tn.leaveFrom,leaveTo:tn.leaveTo},(0,e.h)(de.hs,{radius:12,border:"detail",className:tn.alert,onMouseEnter:Ct,onMouseLeave:It,shadow:"lg",bg:"elevated"},(0,e.h)(Wn.cr,{module:"./MiniNotificationsViewer",resolve:Tt=>Tt.MiniNotificationsStack,onRequest:()=>Promise.all([Ke.e(5282),Ke.e(2728)]).then(Ke.bind(Ke,23525)),result:L,isReadOnly:!0,closeMenu:()=>{B(!1)}}))))}var nr=Ke(95042);function Ln({fill:r="outline",canShowAlerts:t=!1}){const o=(0,Ta.lR)(),a=(0,Ze.ib)({pathname:"/api/v1/activity-feed-web",query:{limit:12},auto:!1});return(0,n.d4)(()=>{o.activityUnreadCount>0&&(0,P.j)(P.FP.NOTIFICATIONS_UNREAD_SHOWN,{unreadCount:o.activityUnreadCount})},[o.activityUnreadCount]),(0,e.h)(e.Fragment,null,(0,e.h)(qe.v2,{trigger:(0,e.h)(Be.hU,{className:nr.Z.trigger,"aria-label":"View activity",size:40,fill:r,priority:"secondary",onMouseEnter:()=>Promise.all([Ke.e(5282),Ke.e(2728)]).then(Ke.bind(Ke,23525))},(0,e.h)(Re,{"aria-hidden":!0,size:20,strokeWidth:2}),o.activityUnreadCount>0&&(0,e.h)(ji.in,{className:u()(nr.Z.badge,o.activityUnreadCount<10&&nr.Z.circle)},(0,e.h)(de.hs,{alignItems:"center",justifyContent:"center"},o.activityUnreadCount<100?o.activityUnreadCount:"99+"))),onOpen:()=>a.refetch(),maxHeight:"fit-content",padding:0},(0,e.h)(Wn.cr,{module:"./activity/MiniNotificationsViewer",resolve:f=>f.MiniNotificationsViewer,onRequest:()=>Promise.all([Ke.e(5282),Ke.e(2728)]).then(Ke.bind(Ke,23525)),resource:a,whileLoading:(0,e.h)(de.hs,{style:{width:400}})})),t&&(0,e.h)(ao,null))}var On=Ke(80825),ur=Ke(75425);const Vf={menuIcon:"frontend-components-NavbarUserWidget-module__menuIcon--pfoYD"},$f=(0,mn.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}]]);var ib=Ke(94581),Wo=Ke(39936),gc=Ke(63295),vc=Ke(12650),qn=Ke(56838);const xr={searchWrapper:"frontend-components-SearchDropdown-module__searchWrapper--jiwxN",marginLeft:"frontend-components-SearchDropdown-module__marginLeft--LiyjJ",marginRight:"frontend-components-SearchDropdown-module__marginRight--Tlx3l",active:"frontend-components-SearchDropdown-module__active--hNTQl",trigger:"frontend-components-SearchDropdown-module__trigger--wXpGv",searcher:"frontend-components-SearchDropdown-module__searcher--bDFD3",dropdown:"frontend-components-SearchDropdown-module__dropdown--tuM0W",result:"frontend-components-SearchDropdown-module__result--V2s6P",loading:"frontend-components-SearchDropdown-module__loading--gQSd8",empty:"frontend-components-SearchDropdown-module__empty--TO__M",more:"frontend-components-SearchDropdown-module__more--d1sdD",seeMore:"frontend-components-SearchDropdown-module__seeMore--MOD9q",photo:"frontend-components-SearchDropdown-module__photo--uWFMi",metadata:"frontend-components-SearchDropdown-module__metadata--HrJ45",paddingRight:"frontend-components-SearchDropdown-module__paddingRight--TfT7R"};var sb=Object.defineProperty,lb=Object.defineProperties,ub=Object.getOwnPropertyDescriptors,Zf=Object.getOwnPropertySymbols,cb=Object.prototype.hasOwnProperty,db=Object.prototype.propertyIsEnumerable,Gf=(r,t,o)=>t in r?sb(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,zf=(r,t)=>{for(var o in t||(t={}))cb.call(t,o)&&Gf(r,o,t[o]);if(Zf)for(var o of Zf(t))db.call(t,o)&&Gf(r,o,t[o]);return r},Yf=(r,t)=>lb(r,ub(t));const Jf=({pub:r,isSignedIn:t})=>{const[o,a]=(0,n.eJ)(!1),{triggerProps:f,layerProps:L,renderLayer:k,isOpen:U,setOpen:B}=(0,ib.x)({layerOptions:{auto:!0,possiblePlacements:["bottom-start","bottom-end","bottom-center"],placement:"bottom-start"}}),q=(0,n.I4)(ge=>{ge==="escape"&&(a(!1),B(!1))},[B]),pe=fb({pub:r,onSearchChange:q,resultsLayerProps:L});return(0,n.d4)(()=>{B(pe.query.length>0)},[pe.query,B]),(0,e.h)(e.Fragment,null,(0,e.h)(de.gq,Yf(zf({},f),{className:u()(xr.searchWrapper,o&&xr.active,t?xr.marginLeft:xr.marginRight),style:{width:o?"400px":"40px"},paddingLeft:o?16:0,alignItems:"center",justifyContent:o?"space-between":"center",onClick:o?void 0:()=>{a(!o),pe.focus()},gap:4}),(0,e.h)($f,{className:xr.trigger,"area-hidden":!0,size:20,strokeWidth:2}),o&&pe.input),U&&k(pe.results))};function fb({pub:r,onSearchChange:t,resultsLayerProps:o}){var a;const{getConfigFor:f}=(0,tt.xR)(),L=!!((a=f("platform_searcher_enabled"))!=null&&a),{iString:k}=(0,A.M1)(),[U,B]=(0,n.eJ)(""),q=(0,n.sO)(null),pe=(0,Ze.ib)({pathname:"/api/v1/post/search",query:{query:U,focusedPublicationId:r.id,page:0,numberFocused:3,numberPlatform:2,includePlatformResults:String(L)},deps:[U],auto:!1}),ge=(0,n.I4)(Pe=>{Pe.key==="Enter"?U&&(window.location.href=(0,g.getDiscoverSearchUrl)({query:U,params:{focusedPublicationId:r.id}})):Pe.key==="Escape"&&(B(""),t==null||t("escape"))},[t,U,r]);return(0,n.d4)(()=>{q.current&&q.current.focus()},[]),(0,n.d4)(()=>{if(U.length){const Pe=setTimeout(pe.refetch,300);return()=>clearTimeout(Pe)}},[U]),{query:U,fetch:pe,focus:()=>setTimeout(()=>{var Pe;return(Pe=q.current)==null?void 0:Pe.focus()},0),input:(0,e.h)("input",{ref:q,className:u()(xr.searcher),placeholder:k("Search..."),value:U,onChange:Pe=>{B(Pe.target.value),t==null||t("input")},onKeyDown:ge,autoFocus:!0}),results:(0,e.h)(pb,{pub:r,searchQuery:U,searchFetch:pe,layerProps:o})}}const pb=({pub:r,searchQuery:t,searchFetch:o,layerProps:a})=>{var f,L,k,U,B;const{getConfigFor:q}=(0,tt.xR)(),pe=!!((f=q("platform_searcher_enabled"))!=null&&f),{iTemplate:ge}=(0,A.M1)(),Pe=(pe?(L=o.result)==null?void 0:L.focused:(k=o.result)==null?void 0:k.results)||[],Ee=pe?((U=o.result)==null?void 0:U.results)||[]:[],Me=((B=o.result)==null?void 0:B.publications)||[];return(0,e.h)(de.tu,Yf(zf({},a),{radius:12,className:xr.dropdown,border:"detail-themed"}),!o.hasLoadedOnce||o.isLoading&&!Pe.length&&!Ee.length?(0,e.h)(de.gq,{radius:12,paddingY:20,className:xr.loading,justifyContent:"center"},(0,e.h)(Wo.Sv,{size:40})):o.error?(0,e.h)(de.gq,{radius:12,className:xr.error,justifyContent:"start"},(0,e.h)(M.xv.B3,{translated:!0,color:"pub-primary-text"},"Something went wrong.")):!Pe.length&&!Ee.length?(0,e.h)(de.gq,{radius:12,padding:20,className:xr.empty,justifyContent:"start"},(0,e.h)(M.xv.B3,{translated:!0,color:"pub-primary-text"},"Search for ",(0,e.h)("b",null,'"',I18N.p(t),'"'))):(0,e.h)(e.Fragment,null,Pe.map((De,Ue)=>(0,e.h)(Xf,{key:De.id,pub:r,post:De,isFirst:Ue===0,isLast:!Ee.length&&Ue===Pe.length-1,hideBottomBorder:Ee.length>0})),Ee.length>0&&(0,e.h)(de.gq,{className:xr.more,paddingX:24,paddingY:8},(0,e.h)(M.xv.B4,{weight:"semibold",color:"pub-primary-text"},Pe.length?ge`More results from across Substack`:ge`No results found on ${r.name}. More results from across Substack`)),Ee.map((De,Ue)=>{const Fe=Me.find(Ye=>Ye.id===De.publication_id);return Fe?(0,e.h)(Xf,{key:De.id,pub:Fe,post:De,isLast:Ue===Ee.length-1,includePublication:!0}):null}),(0,e.h)(de.gq,{className:xr.seeMore,paddingX:24,paddingY:12,onClick:()=>{window.location.href=(0,g.getDiscoverSearchUrl)({query:t,params:{focusedPublicationId:r.id}})}},(0,e.h)(M.xv.B4,{translated:!0,color:"pub-primary-text",weight:"semibold"},"See more results..."))))},Xf=({pub:r,post:t,includePublication:o=!1,hideBottomBorder:a=!1,isLast:f=!1,isFirst:L=!1})=>{var k;const U=(k=t.reactions["\u2764"])!=null?k:0,{language:B}=(0,A.M1)();return(0,e.h)(de.gq,{paddingX:12,onClick:()=>{window.location.href=(0,g.getPostUrl)(r,t)},width:"100%"},(0,e.h)(de.tu,{marginHeight:4,paddingTop:L?12:8,paddingBottom:f?12:8,borderBottom:a?void 0:"detail-themed"},(0,e.h)(de.gq,{className:xr.result,gap:16,padding:12,radius:12},t.cover_image&&(0,e.h)("img",{src:(0,g.imginary)(t.cover_image,120,{height:80,smartCrop:!0}),alt:t.cover_image_alt||"",className:xr.photo}),(0,e.h)(de.tu,{gap:4,className:xr.metadata},o&&(0,e.h)(M.xv.Meta,null,r.name),(0,e.h)(M.xv.H4,{color:"pub-primary-text"},t.title),!!t.subtitle&&(0,e.h)(M.xv.B4,{color:"pub-primary-text"},t.subtitle),(0,e.h)(de.gq,{alignItems:"center",gap:4},(0,e.h)(M.xv.Meta,{color:"pub-secondary-text",className:u()(xr.paddingRight,"ufi-preamble-label","post-date")},(0,e.h)("time",{dateTime:sn()(t.post_date).toISOString()},(0,qn.fh)({post:t,showDatetime:!1,language:B}))),U>0&&(0,e.h)(e.Fragment,null,(0,e.h)(vc.Z,{stroke:"var(--color-light-secondary)",fill:"transparent",height:16}),(0,e.h)(M.xv.Meta,{color:"pub-secondary-text",className:xr.paddingRight},U)),t.comment_count>0&&(0,e.h)(e.Fragment,null,(0,e.h)(gc.Z,{stroke:"var(--color-light-secondary)",fill:"transparent",height:16}),(0,e.h)(M.xv.Meta,{color:"pub-secondary-text"},t.comment_count)))))))};var rl=Ke(96098);const hb={pubAccentTheme:"frontend-components-PubAccentTheme-module__pubAccentTheme--MukJ3"};function mb({children:r}){return(0,e.h)("div",{className:hb.pubAccentTheme},r)}var Zi=Ke(32224),ol=Ke(31131),_b=Ke(65445),gb=Ke(28596),Ma=Ke(99869),ra=Ke(91004),vb=Ke(68227),yb=Ke(17835),Pb=Ke(9e3),Qf=Ke(66839),bb=Ke(53919);const Aa={trigger:"frontend-components-NavbarShare-module__trigger--Q9Atc",divider:"frontend-components-NavbarShare-module__divider--b6jjb",offset:"frontend-components-NavbarShare-module__offset--kvTRt",shareIconContainer:"frontend-components-NavbarShare-module__shareIconContainer--TBJmh",dropdownMenu:"frontend-components-NavbarShare-module__dropdownMenu--BsGs1"};var Eb=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});function qf({pub:r,user:t}){const{iString:o}=(0,A.M1)(),[a,f]=(0,n.eJ)(!1),L=(0,G.getBaseUrl)(r),k={utm_source:"navbar",utm_medium:"web",r:t!=null&&t.id?t.id.toString(36):null},U=(0,G.pathWithQuery)(L,k),B=()=>{(0,ra.Wn)({shareUrl:U,shareName:r.name,pub:r,utm_campaign:"navbar"})},q=()=>{(0,ra.Po)({shareUrl:U,pub:r,utm_campaign:"navbar"})},pe=()=>{(0,ra.lc)({shareUrl:U,pub:r,utm_campaign:"navbar"})},ge=()=>{(0,ra.BZ)({shareUrl:U,pub:r,utm_campaign:"navbar"})},Pe=()=>{(0,ra.WZ)({shareUrl:U,shareName:`Subscribe to ${r.name}`,pub:r,utm_campaign:"navbar"})},Ee=()=>{(0,ra.Ui)({shareUrl:U,pub:r,utm_campaign:"navbar"})},Me=()=>Eb(this,null,function*(){(0,P.j)(P.FP.PUBLICATION_SHARE_BUTTON_CLICKED)}),De=(0,e.h)(Be.hU,{className:u()(Aa.trigger),"aria-label":o("Share Publication"),size:40,fill:"borderless",priority:"secondary"},(0,e.h)(ol.Z,{size:20}));return(0,e.h)(e.Fragment,null,(0,e.h)(d.v2,{trigger:De,onOpen:Me,useMobileBottomSheet:!0,layerOptions:{placement:"bottom-end",preferX:"left"},className:Aa.dropdownMenu,maxHeight:"fit-content"},(0,e.h)(d.sN,{icon:(0,e.h)(Pb.Z,{height:24}),onClick:ge},o("Share to Notes")),(0,e.h)(d.sN,{icon:(0,e.h)(Qf.Z,{height:24}),onClick:B},o("Share to Twitter")),(0,e.h)(d.sN,{icon:(0,e.h)(vb.Z,{height:24}),onClick:q},o("Share to Facebook")),(0,e.h)(d.sN,{icon:(0,e.h)(yb.Z,{height:24}),onClick:pe},o("Share to Linkedin")),(0,e.h)("div",{className:Aa.divider}),(0,e.h)(d.sN,{icon:(0,e.h)(d.hs,{className:Aa.shareIconContainer,justifyContent:"center",alignItems:"center",radius:12},(0,e.h)(_b.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:()=>{(0,P.j)(P.FP.SHARE_PUBLICATION_MODAL_OPENED),f(!0)}},o("View shareable images")),(0,e.h)(d.sN,{icon:(0,e.h)(d.hs,{className:Aa.shareIconContainer,alignItems:"center",justifyContent:"center",radius:12},(0,e.h)(gb.Z,{className:Aa.offset,size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:Pe},o("Send as email")),(0,e.h)(d.sN,{icon:(0,e.h)(d.hs,{className:Aa.shareIconContainer,justifyContent:"center",alignItems:"center",radius:12},(0,e.h)(Ma.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:Ee},o("Copy link"))),(0,e.h)(bb.i,{pub:r,isOpen:a,setOpen:f,item:{type:"pub_shareable_image"},width:718}))}var La=Ke(3313),Ob=Object.defineProperty,Cb=Object.defineProperties,wb=Object.getOwnPropertyDescriptors,al=Object.getOwnPropertySymbols,ep=Object.prototype.hasOwnProperty,tp=Object.prototype.propertyIsEnumerable,np=(r,t,o)=>t in r?Ob(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,yc=(r,t)=>{for(var o in t||(t={}))ep.call(t,o)&&np(r,o,t[o]);if(al)for(var o of al(t))tp.call(t,o)&&np(r,o,t[o]);return r},rp=(r,t)=>Cb(r,wb(t)),Sb=(r,t)=>{var o={};for(var a in r)ep.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&al)for(var a of al(r))t.indexOf(a)<0&&tp.call(r,a)&&(o[a]=r[a]);return o},il=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const jo=Ke(6378),Ib=({baseRef:r,className:t,fixedTooltip:o=!0,freeSignup:a,freeSignupEmail:f,hideCta:L,hideNotifications:k,hideSearch:U,hideShare:B,hideUserIndicator:q,hide_subscribe_cta:pe,isAccountContext:ge=!1,isMeetingsActive:Pe,isPublishContext:Ee,pub:Me,showCustomerSupportModeModal:De,user:Ue})=>{const{iString:Fe,language:Ye}=(0,A.M1)(),st=(0,n.sO)(null),{getSettingFor:nt}=(0,it.So)(),[at,yt]=(0,n.eJ)(!1),[Et,Ct]=(0,n.eJ)(!1),It=(0,ur.pm)(),Tt=(Ue==null?void 0:Ue.is_global_admin)&&!(Ue!=null&&Ue.is_admin),Rt=(Ue==null?void 0:Ue.is_global_admin)&&(Ue==null?void 0:Ue.is_admin)&&!(Ue!=null&&Ue.is_author),wt=(0,fn.jc)(),Qt=(0,n.I4)(()=>il(void 0,null,function*(){try{yield et().del("/api/v1/customer_support_mode"),document.location.href="/"}catch(Bt){alert((0,i.getNetworkErrorMessage)(Bt))}}),[]),jt=()=>il(void 0,null,function*(){yt(!0);try{yield et().post("/api/v1/subscription/reactivate").send({}),Ct(!0),It.popToast(Bt=>(0,e.h)(ur.FN,rp(yc({},Bt),{text:Fe("Your subscription has been renewed!")})))}catch(Bt){console.error("Failed to set to renew:",Bt),alert((0,i.getNetworkErrorMessage)(Bt))}finally{yt(!1)}}),qt=(0,n.I4)(()=>il(void 0,null,function*(){var Bt;(Bt=st.current)==null||Bt.open()}),[st]),ln=Ee||ge?mb:rl.h;return(0,e.h)("div",{className:u()("navbar-buttons",t),ref:r},(0,e.h)(ln,null,(0,e.h)(tt.QA.Consumer,null,Bt=>(0,e.h)(ui.Consumer,null,zt=>(0,e.h)(e.Fragment,null,!U&&!(0,i.isMobileBrowser)()&&!Ue&&(0,e.h)(Jf,{pub:Me,isSignedIn:!1}),!B&&!(0,i.isMobileBrowser)()&&!Ue&&(0,e.h)(qf,{pub:Me,user:Ue}),!L&&Db({pub:Me,user:Ue,freeSignup:a,freeSignupEmail:f,hide_subscribe_cta:pe,viralGiftsConfig:Me.viralGiftsConfig,isPublishContext:Ee,localeContext:zt,siteConfigContext:Bt,isMeetingsActive:Pe,getSettingFor:nt,renewing:at,renewed:Et,setToRenew:jt,experiments:wt,language:Ye}),!U&&!(0,i.isMobileBrowser)()&&Ue&&(0,e.h)(Jf,{pub:Me,isSignedIn:!0}),!B&&Ue&&!(0,i.isMobileBrowser)()&&(0,e.h)(qf,{pub:Me,user:Ue}),!k&&Ue&&!(0,i.isMobileBrowser)()&&(0,e.h)(Ln,{fill:"borderless",canShowAlerts:!Me||Ee}),!q&&(0,e.h)(sc,{pub:Me,user:Ue,enableCustomerServiceMode:Tt?qt:null,disableCustomerServiceMode:Rt?Qt:null,fixedTooltip:o}))))),Tt&&(0,e.h)(oi.h,null,(0,e.h)(ct.p,{className:"account-info-customer-support-mode-modal",ref:st,openByDefault:De&&Tt},(0,e.h)(Oe,{redirect:(0,g.getQueryItem)("redirect")||"/publish/home",onCancel:Bt=>{var zt;return(zt=st.current)==null?void 0:zt.close(Bt)}}))))},Tb=({pub:r,dashboardPubs:t})=>{const o=(0,gn.XA)(),{getConfigFor:a}=(0,tt.xR)(),{iString:f}=(0,A.M1)();return(0,e.h)(On.a,{priority:"primary",fill:"outline",size:o?"small":"medium",menuItems:t.map(({logo_url:L,name:k,subdomain:U})=>(0,e.h)(qe.sN,{className:Vf.menuItem,href:(0,g.getDashboardUrlForSubdomain)(U,{params:{utm_source:"substack",utm_content:"dashboard_pub_switcher"}}),icon:(0,e.h)("img",{className:Vf.menuIcon,width:20,src:(0,g.imginary)(L||"/img/substack-nomargin.png",20)}),priority:r.subdomain===U?"selected":"primary"},k)),href:(0,G.getDashboardHomeUrl)(r,{addBase:!0}),localNavigation:!1,"data-testid":"menu-dashboard-button",additionalMenuProps:{useMobileBottomSheet:!0,mobileBottomSheetTitle:f("Dashboard"),mobileBottomSheetSubtitle:f("Select a publication")}},f("Dashboard"))},op=({dashboardPubs:r,pub:t})=>{const{iString:o}=(0,A.M1)();return r.length>1?(0,e.h)(Tb,{pub:t,dashboardPubs:r}):(0,e.h)(io,{className:"outline",href:(0,G.getDashboardHomeUrl)(t,{addBase:!0}),"data-testid":"menu-dashboard-button"},o("Dashboard"))};function Db({user:r,pub:t,freeSignup:o,freeSignupEmail:a,hide_subscribe_cta:f,isPublishContext:L,isMeetingsActive:k,siteConfigContext:U,getSettingFor:B,renewing:q,renewed:pe,setToRenew:ge,experiments:Pe,language:Ee}){var Me,De,Ue,Fe,Ye,st,nt,at,yt,Et;const{iString:Ct,iPlural:It}=I18N.i(Ee);t.invite_only&&!(r!=null&&r.subscription_id||r!=null&&r.is_free_subscribed)&&(f=!0);const Tt=r==null?void 0:r.is_contributor,Rt=(r==null?void 0:r.is_subscribed)||Tt,wt=(r==null?void 0:r.is_free_subscribed)||o,{getExperimentVariant:Qt,exposeExperiment:jt}=Pe,qt=jo.paymentsAreEnabled(t)&&Rt&&["gift","comp"].includes(r.subscription_type)&&sn()(r.subscription_expiry).subtract(30,"days").isBeforeNow(),ln=jo.paymentsAreEnabled(t)&&jo.userIsFreeOnly(r)&&r.comp_expired_recently,Bt=(r==null?void 0:r.is_free_subscribed)&&(r==null?void 0:r.is_paused),zt=((Me=r==null?void 0:r.dashboard_pubs)==null?void 0:Me.length)===1,on=(r==null?void 0:r.subscription_type)==="ios_app";if(Tt){const Yt=(r==null?void 0:r.dashboard_pubs)||[];return L&&Yt.length===1?[]:!t.has_posts&&!(0,i.isMobileBrowser)()?[(0,e.h)(io,{className:"primary fill new-post-btn",onClick:()=>{(0,P.j)(P.FP.NAV_BAR_CTA_CLICKED,{type:"new-post"}),(0,i.redirect)((0,g.getCreatePostUrl)(t,{type:"newsletter"}),{local_navigation:!1})}},Ct("New post")),(0,e.h)(op,{dashboardPubs:Yt,pub:t,useNewDashLink:zt})]:(0,e.h)(op,{dashboardPubs:Yt,pub:t,useNewDashLink:zt})}else{if(Bt)return(0,e.h)(io,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,P.j)(P.FP.NAV_BAR_CTA_CLICKED,{type:"unpause-subscription"}),(0,i.redirect)((0,g.getCancelOrUncancelUrl)(t,{addBase:!0}),{local_navigation:!1})}},Ct("Unpause my subscription"));if(qt||ln){if(!f)return(0,e.h)(io,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,P.j)(P.FP.NAV_BAR_CTA_CLICKED,{type:"continue-support"}),(0,i.redirect)((0,g.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,g.getQueryItem)("referring_pub_ids"),addBase:!0,selectedPlanId:qt&&(r!=null&&r.is_founding)?t.plans.find(Yt=>Yt.metadata.founding).id:null}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},Ct("Subscribe")),(0,e.h)("span",{className:"desktop-only"},Ct("Continue your support")))}else if(jo.paymentsAreEnabled(t)&&wt&&!Rt&&!["thebulwark"].includes(t.subdomain)){if(!f)return(0,e.h)(io,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,P.j)(P.FP.NAV_BAR_CTA_CLICKED,{type:"upgrade-subscription"}),(0,i.redirect)((0,g.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,g.getQueryItem)("referring_pub_ids"),addBase:!0}),{local_navigation:!1})}},(0,Ne.getSubscribeText)(t,{isFreeSubscribed:!0,isMobile:(0,i.isMobileBrowser)(),language:Ee}))}else if(jo.paymentsAreEnabled(t)?!Rt:!(wt||Rt)){if(!f){const Yt=(Fe=(Ue=(De=(0,g.getQueryItem)("referring_pub_ids"))==null?void 0:De.split)==null?void 0:Ue.call(De,","))==null?void 0:Fe[0],Zt=(nt=(st=(Ye=(0,g.getQueryItem)("referring_pub_ids"))==null?void 0:Ye.split)==null?void 0:st.call(Ye,","))==null?void 0:nt.slice(1);return(0,e.h)(io,{"data-testid":"noncontributor-cta-button",onClick:()=>il(this,null,function*(){const xt=r&&!r.is_magic&&r.email||a;if((0,P.j)(P.FP.NAV_BAR_CTA_CLICKED,{type:"free-subscription"}),xt){let Dt;try{Dt=(yield et().post("/api/v1/free").send({source:"menu",email:xt,first_url:l.xY,first_referrer:l.ip,current_url:l.UE,current_referrer:l.xU,referring_pub_id:Yt,additional_referring_pub_ids:Zt})).body.referral_token,(0,P.IU)()}catch(kt){(0,P.j)(P.FP.FREE_SIGNUP_FAILED,{reason:kt.message,source:"menu"})}window.location.href=(0,g.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,skip_redirect_check:!0,just_signed_up:!0,addBase:!0,referral_token:Dt})}else window.location.href=(0,g.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,g.getQueryItem)("referring_pub_ids"),addBase:!0})})},(0,e.h)(d.gq,{alignItems:"center",gap:8},(0,e.h)(Zi.Z,{size:20}),(0,Ne.getSubscribeText)(t,{isFreeSubscribed:wt,isMobile:(0,i.isMobileBrowser)(),language:Ee})))}}else{if(t.invite_only&&Rt&&r.invites<t.subscriber_invites)return(0,e.h)(io,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{(0,P.j)(P.FP.NAV_BAR_CTA_CLICKED,{type:"invite"}),(0,i.redirect)((0,g.getInviteUrl)(t),{local_navigation:!1})}},(0,e.h)("span",null,It("1 invite left","%1 invites left",t.subscriber_invites-r.invites)));if(jo.paymentsAreEnabled(t)&&k&&!U.getConfigFor("hide_book_a_meeting_button"))return(0,e.h)(io,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{(0,P.j)(P.FP.NAV_BAR_CTA_CLICKED,{type:"book-meeting"}),(0,i.redirect)((0,G.getMeetingsUrl)(t,{params:{source:"navbar-cta"},referrer:typeof window!="undefined"&&window.location.href}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},Ct("Book meeting")),(0,e.h)("span",{className:"desktop-only"},Ct("Book a meeting")));if(jo.paymentsAreEnabled(t)&&r.is_subscribed&&!on&&r.subscription_unsubscribed_at&&!["gift","comp"].includes(r.subscription_type))return(0,e.h)(io,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{(0,P.j)(P.FP.NAV_BAR_CTA_CLICKED,{type:"renew"}),ge()},disabled:q||pe,style:{visibility:pe?"hidden":"visible"}},(0,e.h)("span",{className:"mobile-only"},Ct("Renew")),(0,e.h)("span",{className:"desktop-only"},Ct("Renew subscription")));if(jo.paymentsAreEnabled(t)&&r.is_subscribed&&!r.subscription_unsubscribed_at&&!(0,La.isTheBulwark)({pub:t})){const Yt=(0,g.getSubscribeUrl)(t,{utm_source:"menu",next:document.location.href,addBase:!0,gift:!0});return(0,e.h)(io,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{(0,P.j)(P.FP.NAV_BAR_CTA_CLICKED,{type:"gift"}),(0,i.redirect)(Yt,{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},Ct("Gift sub")),(0,e.h)("span",{className:"desktop-only"},Ct("Gift a subscription")))}else if(jo.paymentsAreEnabled(t)&&((0,La.isTheBulwark)({pub:t})||!r.is_founding)&&!on&&sn()(r.subscription_first_payment_at).isBefore(sn()().subtract(48,"hours"))&&((0,La.isTheBulwark)({pub:t})||t.subdomain==="pinespayments"||((Et=(yt=(at=t==null?void 0:t.plans)==null?void 0:at.find(Yt=>Yt.metadata.founding))==null?void 0:yt.metadata)==null?void 0:Et.short_description)==="Founding Member")){const Yt=(0,g.getSubscribeUrl)(t,yc({utm_source:"menu",next:document.location.href,addBase:!0},(0,La.isTheBulwark)({pub:t})?{plan:"yearly300usd",upgrade_to_founding:!0}:{selectedPlanId:t.plans.find(Zt=>Zt.metadata.founding).id}));return(0,e.h)(io,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{(0,P.j)(P.FP.NAV_BAR_CTA_CLICKED,{type:"founding-upgrade"}),(0,i.redirect)(Yt,{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},Ct("Upgrade")),(0,e.h)("span",{className:"desktop-only"},Ct("Upgrade to founding")))}else{if(t.payments_state==="disabled"&&!t.invite_only&&B("payment_pledges_enabled")&&wt&&!(r!=null&&r.is_pledged))return(0,e.h)(io,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,P.j)(P.FP.NAV_BAR_CTA_CLICKED,{type:"pledge-subscription"}),(0,i.redirect)((0,g.getSubscribeUrl)(t,{utm_source:"menu",next:document.location.href,addBase:!0}),{local_navigation:!1})}},Ct("Pledge your support"));if(t.is_on_substack&&!(r!=null&&r.has_publication))return(0,e.h)(io,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,P.j)(P.FP.NAV_BAR_CTA_CLICKED,{type:"start-publishing"}),(0,i.redirect)((0,g.getStartPublishingUrl)({utm_source:"menu"}),{local_navigation:!1})}},Ct("Start publishing"))}}}return null}function io(r){var t=r,{className:o="primary subscribe-cta subscribe-btn"}=t,a=Sb(t,["className"]);const f=(0,n.qp)(Wi),L=!1;return(0,e.h)(Ae.Z,rp(yc({},a),{className:u()(o,{"rounded-btn":L,"force-desktop":f})}))}const Mb=Ib;var ap=Ke(49336),Ab=Ke(56743),Gi=Ke(2564),zi=Ke(65726);const Yi={subMenuTrigger:"frontend-components-overflow_menu-module__subMenuTrigger--JlX0X",subMenuItem:"frontend-components-overflow_menu-module__subMenuItem--qQKuE",disabled:"frontend-components-overflow_menu-module__disabled--vUsqk",logo:"frontend-components-overflow_menu-module__logo--t5DOx",chevron:"frontend-components-overflow_menu-module__chevron--sly1d"},ip=10,Lb=250;function Nb({className:r,items:t,menuItemClassName:o,selectedMenuItemClassName:a,selectedSlug:f,pub:L}){const k=(0,n.sO)(null),[U,B]=(0,n.eJ)(!1),[q,pe]=(0,n.eJ)(!1);function ge(Me){const{scrollLeft:De,scrollWidth:Ue,clientWidth:Fe}=Me;B(De>ip),pe(Ue-(Fe+De)>ip)}const Pe=Me=>ge(Me.target),Ee=Me=>()=>{const{current:De}=k;De&&De.scrollBy({left:Me*Lb,behavior:"smooth"})};return(0,n.d4)(()=>{ge(k.current)},[]),(0,e.h)("div",{className:u()("overflow-list-container",r)},(0,e.h)("div",{className:u()("section-bar",{scroll:!0,"overflow-left":U,"overflow-right":q})},(0,e.h)("div",{className:"overflow-items",ref:k,onScroll:Pe},t.map(({label:Me,href:De,slug:Ue,isNative:Fe,onClick:Ye,noFollow:st,subItems:nt})=>nt?(0,e.h)(qe.v2,{trigger:(0,e.h)("div",{className:u()("menu-item",{selected:Ue===f},o,a&&{[a]:Ue===f})},(0,e.h)(zi.Z,{className:Yi.subMenuTrigger,onClick:Ye,native:Fe,rel:st?"nofollow":null},(0,e.h)("span",{className:"overflow-item-text"},Me),(0,e.h)(ap.Z,{className:Yi.chevron,size:16}))),layerOptions:{placement:"bottom-start",triggerOffset:6},hideOnScroll:!0,useMobileBottomSheet:!0,mobileBottomSheetTitle:Me},nt.map(({label:at,href:yt,slug:Et,isNative:Ct,onClick:It,noFollow:Tt,logoUrl:Rt})=>{const wt=parseInt(Et)===(L==null?void 0:L.id);return(0,e.h)(qe.sN,{icon:(0,e.h)("img",{className:Yi.logo,width:20,src:(0,g.imginary)(Rt||"/img/substack-nomargin.png",40)}),href:yt,onClick:It,native:Ct,rel:Tt?"nofollow":void 0,priority:"primary",disabled:wt,className:u()(Yi.subMenuItem,{[Yi.disabled]:wt})},at)})):(0,e.h)("div",{className:u()("menu-item",{selected:Ue===f},o,a&&{[a]:Ue===f})},(0,e.h)(zi.Z,{href:De,onClick:Ye,native:Fe,rel:st?"nofollow":null},(0,e.h)("span",{className:"overflow-item-text"},Me))))),(0,e.h)("div",{className:"left-button"},(0,e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:Ee(-1)},(0,e.h)(Ab.Z,{strokeWidth:1.5}))),(0,e.h)("div",{className:"right-button"},(0,e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:Ee(1)},(0,e.h)(Gi.Z,{strokeWidth:1.5})))))}const sp=(r,t)=>r.subItems?new kb(r,t):r.base_url?new xb(r):r.name&&r.id&&r.url?new Ub(r,t):r.isPodcast?new Rb(r):new Bb(r,t);class Ji{constructor(t,o){this._obj=t,this._pub=o}truncatedName(){return(0,Ne.truncateText)(this._obj.name,30)}isNewsletter(){throw new Error("not implemented")}isPodcast(){throw new Error("not implemented")}isSelected(t,o){throw new Error("not implemented")}isNative(){throw new Error("not implemented")}homepageUrl(){throw new Error("not implemented")}noFollow(){return!1}subItems(){return null}get item(){return this._obj}}class xb extends Ji{isNewsletter(){return this._obj.type==="newsletter"}isPodcast(){return this._obj.type==="podcast"}isSelected(t){return this._obj.id===t.id}isNative(){return!0}logoUrl(){return this._obj.logo_url}homepageUrl(){return(0,G.getBaseUrl)(this._obj)}}class Rb extends Ji{isPodcast(){return!0}isSelected(t,o){return this._obj.id===o}isNative(){return!0}homepageUrl(){return(0,G.getBaseUrl)(this._obj)}}class Bb extends Ji{constructor(t,o){super(t,o),this._homepageUrl=(0,G.getSectionUrl)(o,{section:t})}isPodcast(){return this._obj.is_podcast}isSelected(t,o){return this._obj.id===o}isNative(){return!0}homepageUrl(){return this._homepageUrl}logoUrl(){var t,o,a;if(this._obj.is_podcast){const f=(t=this._pub.sections)==null?void 0:t.find(L=>L.id===this._obj.id);return(a=(o=f==null?void 0:f.podcastSettings)==null?void 0:o.podcast_art_url)!=null?a:this._obj.logo_url}return this._obj.logo_url}}class Ub extends Ji{constructor(t,o){super(t,o),this._maybeNoFollow=t.noFollow,this._pubTier=(o==null?void 0:o.tier)||0}isNewsletter(){return!1}isPodcast(){return!1}isSelected(t,o){return[this._obj.id,this._obj.url].includes(o)}isNative(){return!0}noFollow(){return this._maybeNoFollow&&this._pubTier<2}homepageUrl(){return this._obj.url}}class kb extends Ji{isNewsletter(){return!1}isPodcast(){return!1}isSelected(t,o){return[this._obj.id,this._obj.url].includes(o)}isNative(){return!1}homepageUrl(){return null}subItems(){return this._obj.subItems.map(t=>sp(t,this._pub))}}const Fb=({pub:r,selectedSectionId:t,sectionRawItems:o,isPublishContext:a})=>{const f=o.map(k=>sp(k,r)),L=k=>{var U,B;return{label:k.truncatedName(),href:k.homepageUrl(),slug:k.item.id,isNative:k.isNative(),noFollow:k.noFollow(),logoUrl:(U=k.logoUrl)==null?void 0:U.call(k),subItems:(B=k.subItems())==null?void 0:B.map(L)}};return(0,e.h)(Nb,{items:f.map(L),className:u()("sections-overflow",{"publish-menu":a}),selectedSlug:t,useHorizontalScrolling:a,pub:r})};var Wb=Object.defineProperty,lp=Object.getOwnPropertySymbols,jb=Object.prototype.hasOwnProperty,Kb=Object.prototype.propertyIsEnumerable,Pc=(r,t,o)=>t in r?Wb(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Hb=(r,t)=>{for(var o in t||(t={}))jb.call(t,o)&&Pc(r,o,t[o]);if(lp)for(var o of lp(t))Kb.call(t,o)&&Pc(r,o,t[o]);return r},oa=(r,t,o)=>(Pc(r,typeof t!="symbol"?t+"":t,o),o),bc,up,Ec,cp;const dp=Ke(6378);class sl extends e.Component{constructor(){super(...arguments),oa(this,"menuHeight",0),oa(this,"state",{animated:!0,hiding:!!(typeof window!="undefined"&&((up=(bc=window.location.hash)==null?void 0:bc.startsWith)!=null&&up.call(bc,"#footnote")||(cp=(Ec=window.location.hash)==null?void 0:Ec.startsWith)!=null&&cp.call(Ec,"#tiktok")))}),oa(this,"onClick",t=>{var o,a;((o=t.target)!=null&&o.classList.contains("footnote-number")||(a=t.target)!=null&&a.classList.contains("footnote-anchor"))&&(this.setState({hiding:!0}),setTimeout(this.hide,0))}),oa(this,"onResize",()=>{if(this.menuHeight=this.menuContent?this.menuContent.getBoundingClientRect().height:0,!this.buttonsContainer)return;const t=this.largeMenuPubTitle?this.largeMenuPubTitle.getBoundingClientRect().width:0,o=document.body.clientWidth,a=this.buttonsContainer.getBoundingClientRect().width,f=o>630,L=f?24*2:12*2,k=f&&.5*o-a-L>.5*t;this.setState({buttonsContainerWidth:k?`${a}px`:"auto",centerTitle:k})}),oa(this,"onScroll",()=>{if(this.props.always_show){this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";return}if(this.state.hiding)return;const t=this.scrollTop;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop;const o=Math.max(this.scrollTop,0);if(this.scrollTop<=0||(0,i.maxScroll)()<=0)this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";else if(!(this.scrollTop>=(0,i.maxScroll)()))if(this.scrollTop<t){const a=Math.max(this.scrollTop-this.menuHeight,0);this.menuTop>o?(this.menuTop=o,this.menuContent.style.position="fixed",this.menuContent.style.top=""):(!this.menuTop||this.menuTop<a)&&(this.menuTop=a,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="")}else this.scrollTop>t&&(this.menuContent.style.position==="fixed"&&this.menuTop>=0?(this.menuTop=o,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position=""):this.menuTop<o-this.menuHeight&&this.menuContent.style.position!=="fixed"&&(this.menuTop=-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="fixed"))}),oa(this,"onHeadlineClick",t=>{(0,P.j)(P.FP.NAV_BAR_HOME_LINK_CLICKED)}),oa(this,"hide",()=>{const t=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0);this.menuTop=t-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="",this.setState({hiding:!1})})}componentDidMount(){typeof window!="undefined"&&(window.addEventListener("scroll",this.onScroll),window.addEventListener("click",this.onClick),window.addEventListener("resize",this.onResize),this.onResize(),this.onScroll())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("scroll",this.onScroll),window.removeEventListener("click",this.onClick),window.removeEventListener("resize",this.onResize))}shouldShowSectionsNavBar(){return!this.props.isPostView&&!this.props.lowChrome&&!this.props.hideSections}isContributor(){return this.props.user&&this.props.user.is_contributor}isSubscribed(){return dp.userIsPaidSubscriber(this.props.user)||this.isContributor()}isFreeSubscribed(){return this.props.user&&this.props.user.is_free_subscribed||this.props.freeSignup}render({className:t,freeSignup:o,freeSignupEmail:a,hideNavbarSearch:f,hideTitle:L,hide_subscribe_cta:k,isAccountContext:U,isMeetingsActive:B,isPublishContext:q,lowChrome:pe,pub:ge,showCustomerSupportModeModal:Pe,signupForFreeVariant:Ee,user:Me},{animated:De,buttonsContainerWidth:Ue,centerTitle:Fe}){const Ye=ge,st=typeof window=="undefined";return(0,e.h)("div",{"data-testid":"navbar",className:u()("main-menu",t,{animated:De,"with-nav":this.shouldShowSectionsNavBar(),"low-chrome":pe})},(0,e.h)("div",{className:"main-menu-content",ref:nt=>this.menuContent=nt},(0,e.h)("div",{className:"topbar"},(0,e.h)("div",{className:"topbar-content"},!pe&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:u()("navbar-logo-container",Ye.logo_url?"":"no-logo"),style:{width:Ue}},Ye.logo_url&&(0,e.h)("a",{href:U||q?(0,G.getBaseUrl)(Ye):"/",onClick:this.onHeadlineClick},(0,e.h)("img",{className:"navbar-logo",src:(0,G.imginary)(Ye.logo_url,96)}))),!L&&(0,e.h)("h1",{className:u()("navbar-title",{"left-align":!Fe,loading:st})},(0,e.h)("a",{className:"navbar-title-link",href:U||q?(0,G.getBaseUrl)(Ye):"/",ref:nt=>this.largeMenuPubTitle=nt},Ye.logo_url_wide?(0,e.h)("img",{className:`navbar-logo-wordmark ${Ye?"":"substack-logo-wordmark"}`,src:(0,G.imginary)(Ye?Ye.logo_url_wide:"/img/substack_wordmark.png?v=2",null,{height:28*2,crop:"limit",leadingSegments:["e_trim:10:white","e_trim:10:transparent"]}),alt:Ye?Ye.name:"Substack"}):Ye.name)),(0,e.h)(Mb,{baseRef:nt=>this.buttonsContainer=nt,freeSignup:o,freeSignupEmail:a,hideSearch:q||!!f,hide_subscribe_cta:k,isAccountContext:U,isMeetingsActive:B,isPublishContext:q,pub:ge,showCustomerSupportModeModal:Pe,signupForFreeVariant:Ee,user:Me}))),this.shouldShowSectionsNavBar()&&(0,e.h)(Vb,Hb({},this.props)))),(0,e.h)("div",{className:"topbar-spacer"}))}}oa(sl,"contextType",St);const FF=({title:r})=>{const t=useMobile();return h(Text,{size:t?14:24,weight:"light",as:"span"},h("span",null," | "),r)};function Vb({isPublishContext:r,pub:t,user:o,isChatActive:a,isMeetingsActive:f,hasMeetingsBooked:L,selectedSectionId:k}){const{language:U}=(0,A.M1)(),{getSettingFor:B}=(0,it.So)(),q=B("notes_feed_enabled"),pe=!!(B("reader_referrals_enabled")&&B("reader_referrals_leaderboard_enabled")),ge=B("group_sections_and_podcasts_in_menu_enabled"),Pe=Fr(t.navigationBarItems||[],{isFeedEnabled:q,isPodcastActive:t.podcast_enabled&&t.show_pub_podcast_tab,isChatActive:a,isChatEnabled:!!t.threads_v2_enabled,isMeetingsActive:f,hasMultipleNewsletters:t.sections&&t.sections.length>0,isReaderReferralsLeaderboardActive:pe,language:U}).filter(Me=>!Me.is_hidden),Ee=r?$b({isAdmin:!!(o!=null&&o.is_admin),pub:t,showMeetings:f||L,language:U}):Zb({groupNewsletters:ge,navBarItems:Pe,pub:t,language:U});return(0,e.h)(Fb,{pub:t,selectedSectionId:k,sectionRawItems:Ee,isPublishContext:r})}const $b=({isAdmin:r,pub:t,showMeetings:o,language:a})=>{const{iString:f}=I18N.i(a),L=[];return L.push({id:"/publish/home",url:(0,G.getDashboardHomeUrl)(t,{addBase:!0}),name:f("Home")}),L.push({id:"/publish/posts",url:"/publish/posts",name:f("Posts")},{id:"/publish/podcasting",url:(0,g.getPodcastingUrl)(t,{addBase:!0}),name:f("Podcast")},{id:"/publish/subscribers",url:(0,g.getSubscriberStatsUrl)(t,{addBase:!0}),name:f("Subscribers")}),r&&(L.push({id:"/publish/stats",url:"/publish/stats",name:f("Stats")}),L.push({id:"/publish/recommendations",url:"/publish/recommendations",name:f("Recommendations")}),o&&L.push({id:"/publish/meetings",url:"/publish/meetings",name:f("Meetings")}),L.push({id:"/publish/settings",url:(0,G.getPublishSettingsUrl)(t,{addBase:!0}),name:f("Settings")})),L},Zb=({groupNewsletters:r=!1,navBarItems:t,pub:o,language:a})=>{const{iString:f}=I18N.i(a),L=[];let k=[];L.push({id:"/home",url:"/",name:f("Home")}),o.podcast_enabled&&o.show_pub_podcast_tab&&k.push({id:"/podcast",url:"/podcast",name:f("Podcast"),isPodcast:!0});for(const U of t){const B=fo(U);U.section?k.push(U.section):k.push({id:(0,G.getNavigationBarItemUrl)(o,U,{addBase:!1}),url:(0,G.getNavigationBarItemUrl)(o,U,{addBase:!U.standard_key}),name:ro(U),noFollow:!U.standard_key&&B==="link"})}return r?k=fp({items:k,groups:[{name:f("Newsletters"),condition:U=>Gb({item:U,pub:o})},{name:f("Podcasts"),condition:U=>zb(U)}]}):dp.isBulwarkPub(o)&&(k=fp({items:k,groups:[{name:f("Newsletters"),condition:U=>U.type==="newsletter"},{name:f("Podcasts"),condition:U=>U.type==="podcast"}]})),[...L,...k]},Gb=({item:r,pub:t})=>(0,Ne.sectionIsSpecificallyMarkedAsNewsletter)({section:r,pub:t})?!0:!r.subItems&&!r.base_url&&!(r.name&&r.id&&r.url)&&!r.is_podcast,zb=r=>r.isPodcast||!r.subItems&&!r.base_url&&!(r.name&&r.id&&r.url)&&r.is_podcast,fp=({items:r,groups:t})=>{const o=[];let a=r;for(const f of t){const L=r.filter(f.condition);L.length>0&&(o.push({name:f.name,subItems:L}),a=a.filter(k=>!f.condition(k)))}return[...o,...a]};var ll=Ke(11322),Yb=Object.defineProperty,Jb=Object.defineProperties,Xb=Object.getOwnPropertyDescriptors,pp=Object.getOwnPropertySymbols,Qb=Object.prototype.hasOwnProperty,qb=Object.prototype.propertyIsEnumerable,hp=(r,t,o)=>t in r?Yb(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,eE=(r,t)=>{for(var o in t||(t={}))Qb.call(t,o)&&hp(r,o,t[o]);if(pp)for(var o of pp(t))qb.call(t,o)&&hp(r,o,t[o]);return r},tE=(r,t)=>Jb(r,Xb(t));const mp=r=>(0,e.h)(Je.l,tE(eE({},r),{name:"FilledCircleCheckmarkIcon",svgParams:{height:24,width:24}}),(0,e.h)("circle",{className:"filled-checkmark-icon-circle",cx:"12",cy:"12",r:"12",fill:"#419E4E",stroke:"none"}),(0,e.h)("path",{d:"M7 11.7222L10.8462 16L17 9",stroke:r.stroke||"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}));var cr=Ke(25018);const Sr={img:"frontend-components-newsletter_item-module__img--bS4yt",container:"frontend-components-newsletter_item-module__container--Og_JT",selectableContainer:"frontend-components-newsletter_item-module__selectableContainer--OyGeq",selectedContainer:"frontend-components-newsletter_item-module__selectedContainer--itkCr",clickableContainer:"frontend-components-newsletter_item-module__clickableContainer--NsLAs",containerMobile:"frontend-components-newsletter_item-module__containerMobile--C2ytw",imgMobile:"frontend-components-newsletter_item-module__imgMobile--yC2u_",selector:"frontend-components-newsletter_item-module__selector--IAwcD",unselected:"frontend-components-newsletter_item-module__unselected--PYQqC",seeLatest:"frontend-components-newsletter_item-module__seeLatest--hTMpM"},nE=({newsletter:r,hideLink:t=!1,onToggle:o,onClick:a})=>{const{isMobile:f}=(0,cr.v9)();a&&o&&console.error("you cannot pass both onToggle and onClick");const L=U=>{U.stopPropagation(),o==null||o({sectionId:r.sectionId,isSelected:!r.selected})},k=!!o;return f?(0,e.h)(rE,{newsletter:r,hideLink:t,onClick:a,onToggle:o}):(0,e.h)(d.tu,{className:u()(Sr.container,{[Sr.selectedContainer]:k&&r.selected,[Sr.selectableContainer]:k,[Sr.clickableContainer]:!!a}),justifyContent:"space-between",radius:12,padding:16,onClick:k?L:a!=null?a:void 0},k&&r.selected?(0,e.h)(mp,{className:u()(Sr.selector)}):k?(0,e.h)("div",{className:u()(Sr.unselected,Sr.selector)}):null,(0,e.h)(d.tu,{gap:24},r.logoUrl&&(0,e.h)("div",{className:Sr.img},r.logoUrl&&(0,e.h)("img",{className:Sr.img,src:(0,g.imginary)(r.logoUrl,64)})),(0,e.h)(d.tu,{gap:8},(0,e.h)(d.xv.H3,{paddingRight:r.logoUrl?0:32,weight:"semibold",color:"pub-primary-text",clamp:2},r.name),(0,e.h)(d.xv.B4,{color:"pub-secondary-text",clamp:4},r.description))),!t&&(0,e.h)(d.xv,{translated:!0,size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{className:Sr.seeLatest,href:r.linkUrl,native:!0},"See the latest")))},rE=({newsletter:r,hideLink:t,onClick:o,onToggle:a})=>{const f=!!a,L=k=>{k.stopPropagation(),a==null||a({sectionId:r.sectionId,isSelected:!r.selected})};return(0,e.h)(d.tu,{className:u()(Sr.containerMobile,{[Sr.selectedContainer]:f&&r.selected,[Sr.selectableContainer]:f,[Sr.clickableContainer]:!!L}),justifyContent:"space-between",radius:12,padding:16,onClick:f?L:o!=null?o:void 0},f&&r.selected?(0,e.h)(mp,{className:u()(Sr.selector)}):f?(0,e.h)("div",{className:u()(Sr.unselected,Sr.selector)}):null,(0,e.h)(d.tu,{gap:8},(0,e.h)(d.gq,{gap:8},r.logoUrl&&(0,e.h)("img",{className:Sr.imgMobile,src:(0,g.imginary)(r.logoUrl,64)}),(0,e.h)(d.xv,{paddingRight:32,size:16,weight:"semibold",color:"primary",font:"text",clamp:2},r.name)),(0,e.h)(d.xv.B4,{color:"secondary",clamp:2,font:"text"},r.description)),!t&&(0,e.h)(d.xv,{translated:!0,size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{href:r.linkUrl,native:!0},"See the latest")))},oE={container:"frontend-components-newsletter_item_list-module__container--UOq1t"},aE=({newsletters:r,hideLinks:t,onNewsletterClick:o,justifyItems:a})=>{const{iString:f}=(0,A.M1)();return(0,e.h)(de.gq,{className:oE.container,wrap:"wrap",justifyContent:a,gap:24},r.length===0&&(0,e.h)("div",null,f("No additional newsletters")),r.map((L,k)=>(0,e.h)(nE,{newsletter:L,key:k,hideLink:t,onToggle:o?({sectionId:U,isSelected:B})=>{o({sectionId:U,isSelected:B})}:void 0,onClick:t?void 0:()=>{(0,i.redirect)(L.linkUrl,{local_navigation:!1})}})))},Oc={container:"frontend-components-newsletters_page-module__container--VhY3a",newsletterList:"frontend-components-newsletters_page-module__newsletterList--zmZNt",accountLink:"frontend-components-newsletters_page-module__accountLink--TyIAl"};var iE=Object.defineProperty,sE=Object.defineProperties,lE=Object.getOwnPropertyDescriptors,_p=Object.getOwnPropertySymbols,uE=Object.prototype.hasOwnProperty,cE=Object.prototype.propertyIsEnumerable,gp=(r,t,o)=>t in r?iE(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,dE=(r,t)=>{for(var o in t||(t={}))uE.call(t,o)&&gp(r,o,t[o]);if(_p)for(var o of _p(t))cE.call(t,o)&&gp(r,o,t[o]);return r},fE=(r,t)=>sE(r,lE(t));const pE=({pub:r,user:t})=>{const o=(0,ll.getNewslettersForSubscribeFromPub)({pub:r,includeMainPub:!0}).map(a=>fE(dE({},a),{linkUrl:(0,g.updateQuery)(a.linkUrl,{utm_source:"newsletter_page"}),selected:a.defaultOn}));return o.length===0?(typeof window!="undefined"&&(window.location.href=(0,G.getBaseUrl)(r)),(0,e.h)("div",null,"loading...")):(0,e.h)("div",{className:u()("page","typography",Oc.container)},(0,e.h)(d.tu,null,(0,e.h)(d.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(d.tu,{gap:8,paddingBottom:40,paddingTop:48},(0,e.h)(d.xv.H1,{size:32,lineHeight:40,color:"pub-primary-text"},"Newsletters"),(0,e.h)(d.xv.B3,{size:16,lineHeight:20,color:"pub-secondary-text"},"Get the best of ",r.name," in your inbox.",t!=null&&t.is_subscribed?(0,e.h)(e.Fragment,null," ","You can manage your subscription in your ",(0,e.h)("a",{className:Oc.accountLink,href:(0,g.getPubAccountSettingsUrl)(r),native:!0},"account settings"),"."):"")),(!t||!t.is_subscribed)&&(0,e.h)(d.zx,{priority:"primary-theme",href:(0,g.getSubscribeUrl)(r,{addBase:!0,utm_source:"newsletter_page"}),localNavigation:!1},"Subscribe")),(0,e.h)(d.iz,{weight:1,priority:"detail-themed"}),(0,e.h)("div",{className:Oc.newsletterList},(0,e.h)(aE,{newsletters:o,hideLinks:!1,justifyItems:"start"}))))};var hE=Ke(92643),Cc=Ke(71720),mE=Object.defineProperty,_E=Object.defineProperties,gE=Object.getOwnPropertyDescriptors,vp=Object.getOwnPropertySymbols,vE=Object.prototype.hasOwnProperty,yE=Object.prototype.propertyIsEnumerable,yp=(r,t,o)=>t in r?mE(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Xi=(r,t)=>{for(var o in t||(t={}))vE.call(t,o)&&yp(r,o,t[o]);if(vp)for(var o of vp(t))yE.call(t,o)&&yp(r,o,t[o]);return r},ul=(r,t)=>_E(r,gE(t)),PE=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())}),Pp;const bE=typeof window!="undefined"?(Pp=window._preloads)==null?void 0:Pp.publicationUserSettings:{},bp=r=>({getSettingForPubUser:o=>{if(!o||!r)return null;const a=r[o];return a===void 0?null:a}}),wc=(0,e.createContext)(ul(Xi({},bp(bE)),{changeUserSetting:()=>Promise.resolve(void 0)}));wc.displayName="PublicationUserSettingsContext";const jF=r=>{const t=forwardRef((o,a)=>{const f=OE();return h(r,ul(Xi(Xi({},f),o),{ref:a}))});return t.displayName=`withPubUserSettingsContext(${r.displayName||r.name||"Anonymous"})`,t};function EE({preloadPubUserSettings:r={},children:t}){const[o,a]=(0,n.eJ)(r),f=(0,n.I4)((k,U)=>PE(this,null,function*(){a(B=>ul(Xi({},B),{[k]:U}));try{yield(0,Ze.rd)("/api/v1/publication_user_settings/user",{method:"PUT",json:{type:k,value:U}})}catch(B){console.error(B)}}),[a]),L=(0,n.Ye)(()=>ul(Xi({},bp(o)),{changeUserSetting:f}),[o,f]);return(0,e.h)(wc.Provider,{value:L},t)}function OE(){return useContext(wc)}var Qi=Ke(10174),Sc=Ke(72307);function CE({user:r=null,pub:t=null,children:o=void 0,siteConfigs:a={},hasThemedBackground:f=!1,language:L="en",preferredLanguage:k=null,country:U=void 0,experimentInfo:B={variantOverrides:{},experimentFeatures:{},experimentExposures:{}},portalRoot:q=void 0,shouldLoad:pe=void 0,shouldPollNotifications:ge=!1,publicationSettings:Pe={},userSettings:Ee=void 0,publicationUserSettings:Me={},activityToken:De}){pe===void 0&&(pe=!!r);const Ue=(0,Sc.lV)(!!r);return(0,e.h)(_c,{country:U||"US"},(0,e.h)(A._7,{language:L||"en",preferredLanguage:k||"en"},(0,e.h)(F.ze,{value:{hasThemedBackground:f}},(0,e.h)(tt.vC,{siteConfigs:a},(0,e.h)(fn.Vt,{siteConfigs:a,experimentInfo:B},(0,e.h)(Ft,{siteConfigs:a,experimentInfo:B},(0,e.h)(it.Iz,{settings:Pe},(0,e.h)(EE,{preloadPubUserSettings:Me},(0,e.h)(Ta.N$,{shouldLoad:pe,shouldPoll:ge,activityToken:De},(0,e.h)(oi.X,{root:q},(0,e.h)(Jt.dr,{defaultValue:r,userSettings:Ee},(0,e.h)(hE.am,null,(0,e.h)(ur.VW,null,(0,e.h)(Sc.e.Provider,{value:Ue},(0,e.h)(Qi.Au,null,(0,e.h)(Cc.G.Provider,{value:t},o))))))))))))))))}var aa=Ke(4605);function wE(){return(0,e.h)(Wn.cr,{module:"../feed/PublicationPage",onRequest:()=>Ke.e(8437).then(Ke.bind(Ke,48437)),resolve:r=>r.PublicationFeedPage,whileLoading:(0,e.h)(SE,null)})}function SE(){return(0,e.h)(rl.h,null,(0,e.h)(de.hs,{bg:"primary",style:{minHeight:800}}))}var IE=Object.defineProperty,TE=Object.defineProperties,DE=Object.getOwnPropertyDescriptors,Ep=Object.getOwnPropertySymbols,ME=Object.prototype.hasOwnProperty,AE=Object.prototype.propertyIsEnumerable,Op=(r,t,o)=>t in r?IE(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,LE=(r,t)=>{for(var o in t||(t={}))ME.call(t,o)&&Op(r,o,t[o]);if(Ep)for(var o of Ep(t))AE.call(t,o)&&Op(r,o,t[o]);return r},NE=(r,t)=>TE(r,DE(t));function xE(){const r=(0,ur.pm)();return(0,n.d4)(()=>{const t=new URL(location.toString());t.searchParams.get("founding-member-confirmation")&&(t.searchParams.delete("founding-member-confirmation"),history.replaceState({},"",t),r.popToast(a=>(0,e.h)(ur.FN,NE(LE({},a),{text:"You upgraded to a founding tier subscription. Thank you!"}))))},[]),null}var qi=Ke(63030),es=Ke(71375),Cp=Ke(16527),ho=Ke(92271);const Ic={wrapper:"frontend-lib-ProfileSetupToast-module__wrapper--C8ueg",headerRow:"frontend-lib-ProfileSetupToast-module__headerRow--oL8ne",header:"frontend-lib-ProfileSetupToast-module__header--uTXIc"};var RE=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const BE=(r,t,o,a,f)=>{if(!t)return null;switch(r){case"post-login":return t.profile_set_up_at?{title:"Your account is now set up",body:"You now have a profile and are able to leave comments on all of your subscriptions.",ctaText:"Check out profile",ctaLink:(0,g.getReaderProfileUrl)(t,{utm_source:"profile_toast",noBase:o}),ctaVariant:"secondary"}:null;case"post-subscribe-prompt":return a?{title:"Finish setting up your account",body:"Tell us more about yourself and find more things to read, so you can participate in the community",ctaText:"Finish setting up",ctaLink:(0,g.getReaderOnboardingUrl)({isAbbreviated:!0,redirect:document.location.href,postRedirectToast:"post-subscribe-success",pubId:a?a.id:null}),ctaVariant:"themed-primary"}:null;case"post-subscribe-success":return!a||!t.profile_set_up_at?null:{title:`Welcome to ${a?a.name:""}`,body:(0,e.h)("span",null,"You will start receiving updates in your inbox. You can also read the"," ",(0,e.h)("a",{href:a?(0,g.getArchiveUrl)(a):null},"full archives")," in the website or check out your profile."),ctaText:"Check out profile",ctaLink:(0,g.getReaderProfileUrl)(t,{utm_source:"profile_toast",noBase:o}),ctaVariant:"secondary"};case"start-writing":return{title:(0,e.h)(de.tu,{alignItems:"center"},(0,e.h)("img",{width:195,src:(0,G.imginary)("/img/reader_onboarding/jobpage_penholder.png",195)}),(0,e.h)(M.xv.H3,{align:"center"},"Want to start writing on Substack?")),body:(0,e.h)(M.xv.B3,{align:"center",paddingBottom:20},(0,e.h)("span",null,"Congrats on subscribing to your ",(0,Ne.numberToOrdinal)(f)," Substack! Start your own"," ",(0,e.h)("b",null,"in 5 minutes or less"))),ctaText:"Start Writing",ctaLink:(0,g.getStartPublishingUrl)({utm_source:"profile_toast"}),ctaVariant:"themed-primary"};default:return null}};function UE({user:r,pub:t=null,noBase:o=!1}){const a=(0,ur.pm)();return(0,n.d4)(()=>{function f(){return RE(this,null,function*(){yield et().put("/api/v1/user-setting").send({type:"has_seen_reader_to_writer_upsell",value_bool:!0})})}const L=new URL(location.toString()),k=L.searchParams.get("profile-setup-message");if(!k)return;const U=k==="start-writing"?Number(L.searchParams.get("nthPub")):void 0;if(L.searchParams.delete("nthPub"),L.searchParams.delete("profile-setup-message"),history.replaceState({},"",L),!(k!=="post-subscribe-prompt"))return;const q=BE(k,r,o,t,U);q&&(k==="start-writing"&&f(),a.popToast(({onClose:pe})=>(0,e.h)(de.tu,{className:Ic.wrapper,justifyContent:"space-between"},(0,e.h)(de.tu,{gap:8},(0,e.h)(de.gq,{className:Ic.headerRow,justifyContent:"space-between",alignItems:"center"},(0,e.h)(ho.z,{look:"flex",onClick:pe},(0,e.h)(es.Z,{size:20}))),(0,e.h)(M.xv.H3,{className:Ic.header},q.title),q.body),(0,e.h)(ho.z,{variant:q.ctaVariant,fill:"filled",onClick:ge=>{(0,Cp.Q)(ge,q.ctaLink,{native:!0}),pe()}},q.ctaText)),{ttl:null}))},[]),null}const kE=["sort"],FE=["sort","selection"];function wp(r,t){let o;try{o=new URL(`${location.protocol}//${location.host}${r}`)}catch(a){o=new URL(r)}for(const a of o.searchParams.keys())(t?FE:kE).includes(a)||o.searchParams.delete(a);return o.toString()}function WE({previous:r,url:t}){var o,a;if(typeof window=="undefined")return;const f=wp(t,!1),L=wp(t,!0),{head:k}=document;(o=k.querySelector("link[rel=canonical]"))==null||o.setAttribute("href",f),(a=k.querySelector('meta[property="og:url"]'))==null||a.setAttribute("content",L),(0,P.jA)({previous:r,url:t})}var Sp=Ke(35225),jE=Ke(3312),Tc=Ke.n(jE),KE=Ke(92592),HE=Object.defineProperty,VE=Object.defineProperties,$E=Object.getOwnPropertyDescriptors,Ip=Object.getOwnPropertySymbols,ZE=Object.prototype.hasOwnProperty,GE=Object.prototype.propertyIsEnumerable,Tp=(r,t,o)=>t in r?HE(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Ko=(r,t)=>{for(var o in t||(t={}))ZE.call(t,o)&&Tp(r,o,t[o]);if(Ip)for(var o of Ip(t))GE.call(t,o)&&Tp(r,o,t[o]);return r},Dp=(r,t)=>VE(r,$E(t));function Mp(r,{name:t,url:o,description:a,potentialAction:f}={}){return f===void 0&&(f={"@type":"SearchAction",name:`Search ${r.name}`,target:`${r.base_url}${(0,g.getBaseArchiveUrl)(r)}?utm_source=google&sort=search&search={search_term_string}`,"query-input":"required name=search_term_string"}),{"@context":"https://schema.org","@type":"WebSite",name:t||r.name,publisher:Ko(Ko({"@type":"Organization",name:r.name,url:r.base_url},r.logo_url?{logo:{"@type":"ImageObject",url:r.logo_url}}:{}),r.twitter_screen_name?{sameAs:[`https://twitter.com/${r.twitter_screen_name}`]}:{}),url:o||r.base_url,mainEntityOfPage:{"@type":"WebPage",url:o||r.base_url},description:a||r.hero_text,potentialAction:f}}function zE(r,t){var o,a,f,L;const k=(0,Ne.getBylineUsers)(t),U=Ko(Ko(Dp(Ko({"@type":"Organization",name:r.name,url:(0,g.getBaseUrl)(r),description:r.hero_text},r.rankingDetailFreeIncludedOrderOfMagnitude&&{interactionStatistic:{"@type":"InteractionCounter",name:"Subscribers",interactionType:"https://schema.org/SubscribeAction",userInteractionCount:r.rankingDetailFreeIncludedOrderOfMagnitude}}),{identifier:`pub:${r.id}`}),r.logo_url&&{logo:{"@type":"ImageObject",url:r.logo_url,contentUrl:(0,g.imginary)((o=r.logo_url)!=null?o:""),thumbnailUrl:(0,g.imginary)((a=r.logo_url)!=null?a:"",128,{height:128})},image:{"@type":"ImageObject",url:r.logo_url,contentUrl:(0,g.imginary)((f=r.logo_url)!=null?f:""),thumbnailUrl:(0,g.imginary)((L=r.logo_url)!=null?L:"",128,{height:128})}}),r.twitter_screen_name&&{sameAs:[`https://twitter.com/${r.twitter_screen_name}`]});return Dp(Ko({"@context":"https://schema.org","@type":"NewsArticle",url:(0,g.getPostUrl)(r,t),mainEntityOfPage:(0,g.getPostUrl)(r,t),headline:t.search_engine_title||t.social_title||t.title,description:t.search_engine_description||t.description,image:t.cover_image?[{"@type":"ImageObject",url:t.cover_image}]:[],datePublished:sn()(t.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),dateModified:sn()(t.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),isAccessibleForFree:!(0,dn.isPaidAudience)(t.audience)},t.post_paywall_content_for_google&&{hasPart:[{"@type":"WebPageElement",isAccessibleForFree:!0,cssSelector:".available-content"},{"@type":"WebPageElement",isAccessibleForFree:!1,cssSelector:".paywall-content"}]}),{author:k.length>0?k.map(B=>Ko(Ko({"@type":"Person",name:B.name,url:(0,g.getReaderProfileUrl)(B),description:B.bio,identifier:`user:${B.id}`},B.twitter_screen_name&&{sameAs:[`https://twitter.com/${B.twitter_screen_name}`]}),B.photo_url&&{image:{"@type":"ImageObject",contentUrl:(0,g.imginary)(B.photo_url),thumbnailUrl:(0,g.imginary)(B.photo_url,128,{height:128})}})):U,publisher:U})}function KF(r){return Ko({"@context":"https://schema.org","@type":"Person",image:(r==null?void 0:r.photo_url)&&imginary(r.photo_url),name:`${r==null?void 0:r.name}`,url:r&&getReaderProfileUrl(r),jobTitle:r==null?void 0:r.bio,description:r==null?void 0:r.bio},r!=null&&r.twitter_screen_name?{sameAs:[`https://twitter.com/${r.twitter_screen_name}`]}:{})}var YE=Ke(28175),Ap=Ke.n(YE),Lp=Ke(80587);const JE=(0,mn.Z)("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),XE=(0,mn.Z)("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),Dc=(0,mn.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Np=(0,mn.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),QE=(0,mn.Z)("CircleSlash2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}]]);var xp=Ke(5149),qE=Ke(49770),Rp=Ke(17048);const e2=(0,mn.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var cl=Ke(13639),mo=Ke(80332);const t2=(0,mn.Z)("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]);var n2=Object.defineProperty,r2=Object.defineProperties,o2=Object.getOwnPropertyDescriptors,Bp=Object.getOwnPropertySymbols,a2=Object.prototype.hasOwnProperty,i2=Object.prototype.propertyIsEnumerable,Up=(r,t,o)=>t in r?n2(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,s2=(r,t)=>{for(var o in t||(t={}))a2.call(t,o)&&Up(r,o,t[o]);if(Bp)for(var o of Bp(t))i2.call(t,o)&&Up(r,o,t[o]);return r},l2=(r,t)=>r2(r,o2(t));const u2=r=>(0,e.h)(Je.l,l2(s2({},r),{name:"LucideCornerDownRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(t2,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));var kp=Ke(16495),Mc=Ke(86602),Fp=Ke(15748),c2=Ke(62372);const d2={popoverBase:"frontend-pencraft-Popover-module__popoverBase--Nykv6"};var f2=Object.defineProperty,p2=Object.defineProperties,h2=Object.getOwnPropertyDescriptors,dl=Object.getOwnPropertySymbols,Wp=Object.prototype.hasOwnProperty,jp=Object.prototype.propertyIsEnumerable,Kp=(r,t,o)=>t in r?f2(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,ci=(r,t)=>{for(var o in t||(t={}))Wp.call(t,o)&&Kp(r,o,t[o]);if(dl)for(var o of dl(t))jp.call(t,o)&&Kp(r,o,t[o]);return r},m2=(r,t)=>p2(r,h2(t)),_2=(r,t)=>{var o={};for(var a in r)Wp.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&dl)for(var a of dl(r))t.indexOf(a)<0&&jp.call(r,a)&&(o[a]=r[a]);return o};const Hp=r=>{var t=r,{className:o="",children:a,layerClassName:f,hideOnScroll:L=!1,onClose:k}=t,U=_2(t,["className","children","layerClassName","hideOnScroll","onClose"]);const[B,q]=(0,n.eJ)(!1),pe=v2(ci({open:B,onClose:()=>{q(!1),k==null||k()},hideOnScroll:L,className:f},U));return g2({hideOnScroll:L,setOpen:q,open:B}),(0,e.h)("div",m2(ci({className:o},pe.triggerProps),{onClick:ge=>{q(!B),ge.stopPropagation()}}),typeof a=="function"?a({isOpen:B}):a,pe.layer)};function g2({hideOnScroll:r,setOpen:t,open:o}){const a=(0,n.I4)(f=>{requestAnimationFrame(()=>{var L;const U=(L=f.target.classList)==null?void 0:L.contains("popoverLayerForScrollDetection");o&&r&&!U&&t(!1)})},[r,t,o]);(0,n.d4)(()=>{if(r)return window.addEventListener("scroll",a,!0),()=>{window.removeEventListener("scroll",a,!0)}},[a,r])}function v2({open:r,onClose:t,disabled:o,possiblePlacements:a=["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],preferPlacement:f,snap:L=!1,onOpen:k,content:U,className:B,layerOptions:q,closeOnOutsideClick:pe=!0}){const ge=(0,n.sO)(!1);(0,n.d4)(()=>{r&&!ge.current&&k&&(ge.current=!0,k())},[r,k]);const{triggerProps:Pe,layerProps:Ee,renderLayer:Me}=(0,c2.sJ)(ci(ci(ci({isOpen:o?!1:r,overflowContainer:!1,auto:!0,snap:L,possiblePlacements:a,placement:f,containerOffset:10,triggerOffset:8},pe&&{onOutsideClick:()=>t()}),f&&{placement:f}),q));return{triggerProps:Pe,layer:r&&Me((0,e.h)("div",ci({className:u()("popoverLayerForScrollDetection",d2.popoverBase,B)},Ee),typeof U=="function"?U({closePopover:t}):U))}}const y2=(0,e.createContext)({dispatch:()=>Promise.resolve()});function Na(){var r;return(r=(0,n.qp)(y2))==null?void 0:r.dispatch}var P2=Ke(23279),fl=Ke.n(P2);const Ac={searchContainer:"frontend-components-Search-module__searchContainer--OJHUw",medium:"frontend-components-Search-module__medium--Sri_d",small:"frontend-components-Search-module__small--tPvnS",searchInput:"frontend-components-Search-module__searchInput--w1uCz"};var b2=Object.defineProperty,pl=Object.getOwnPropertySymbols,Vp=Object.prototype.hasOwnProperty,$p=Object.prototype.propertyIsEnumerable,Zp=(r,t,o)=>t in r?b2(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,E2=(r,t)=>{for(var o in t||(t={}))Vp.call(t,o)&&Zp(r,o,t[o]);if(pl)for(var o of pl(t))$p.call(t,o)&&Zp(r,o,t[o]);return r},O2=(r,t)=>{var o={};for(var a in r)Vp.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&pl)for(var a of pl(r))t.indexOf(a)<0&&$p.call(r,a)&&(o[a]=r[a]);return o};function C2({items:r,getKeys:t,sort:o=!0,sortFunc:a,deps:f}){const L=(ge,Pe)=>{const Ee=t(ge),Me=t(Pe);for(let De=0;De<Math.min(Ee.length,Me.length);De++){const Ue=Ee[De].localeCompare(Me[De]);if(Ue!==0)return Ue}return Ee.length-Me.length},[k,U]=(0,n.eJ)(""),B=(0,n.Ye)(()=>fl()(U,100),[U]),q=k.trim(),pe=(0,n.Ye)(()=>{if(!q)return r;let ge=r.filter(Pe=>t(Pe).some(Me=>Me.toLowerCase().includes(q.toLowerCase())));if(o||a){const Pe=a||L;ge=ge.sort(Pe)}return ge},f?[q,...f]:[q,r]);return{setQuery:B,filteredItems:pe,hasFiltered:q!==""}}function w2(r){var t=r,{setQuery:o,placeholder:a="Search...",size:f="medium",value:L=void 0}=t,k=O2(t,["setQuery","placeholder","size","value"]);const U=q=>{o(q.currentTarget.value)},B=(0,n.sO)(null);return(0,e.h)(de.hs,E2({className:u()(Ac.searchContainer,Ac[f]),bg:"secondary",paddingX:f==="small"?12:16,gap:8,alignItems:"center",onClick:()=>{var q;return(q=B.current)==null?void 0:q.focus()}},k),(0,e.h)($f,{size:f==="small"?16:20,color:"var(--color-secondary)"}),(0,e.h)("input",{type:"search",className:Ac.searchInput,ref:B,placeholder:a,onInput:U,value:L}))}var S2=Object.defineProperty,I2=Object.defineProperties,T2=Object.getOwnPropertyDescriptors,Gp=Object.getOwnPropertySymbols,D2=Object.prototype.hasOwnProperty,M2=Object.prototype.propertyIsEnumerable,zp=(r,t,o)=>t in r?S2(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,A2=(r,t)=>{for(var o in t||(t={}))D2.call(t,o)&&zp(r,o,t[o]);if(Gp)for(var o of Gp(t))M2.call(t,o)&&zp(r,o,t[o]);return r},L2=(r,t)=>I2(r,T2(t));const N2=r=>(0,e.h)(Je.l,L2(A2({},r),{name:"EmojiPickerIcon",svgParams:{height:15,width:14,viewBox:"0 0 15 14",fill:"none",stroke:"none"}}),(0,e.h)("path",{d:"M12.7474 7.25708C12.3309 7.37462 11.8916 7.4375 11.4375 7.4375C8.77963 7.4375 6.625 5.28287 6.625 2.625C6.625 2.17094 6.68788 1.73156 6.80542 1.31511C6.74549 1.31337 6.68535 1.3125 6.625 1.3125C3.24226 1.3125 0.5 4.05476 0.5 7.4375C0.5 10.8202 3.24226 13.5625 6.625 13.5625C10.0077 13.5625 12.75 10.8202 12.75 7.4375C12.75 7.37715 12.7491 7.31701 12.7474 7.25708ZM5.75 5.25C5.75 5.97487 5.16237 6.5625 4.4375 6.5625C3.71263 6.5625 3.125 5.97487 3.125 5.25C3.125 4.52513 3.71263 3.9375 4.4375 3.9375C5.16237 3.9375 5.75 4.52513 5.75 5.25ZM10.125 8.3125C10.125 10.2455 8.558 11.8125 6.625 11.8125C4.692 11.8125 3.125 10.2455 3.125 8.3125H10.125Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}),(0,e.h)("path",{d:"M12.0938 0H10.7812V1.96875L8.8125 1.96875V3.28125H10.7812V5.25H12.0938V3.28125H14.0625V1.96875L12.0938 1.96875V0Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}));var Lc=Ke(26300),Yp=Ke(15822);const Yr={avatarContainer:"frontend-community-Reaction-module__avatarContainer--_8l4V",reactionsContainer:"frontend-community-Reaction-module__reactionsContainer--D3hey",reaction:"frontend-community-Reaction-module__reaction--M5tw0",blue:"frontend-community-Reaction-module__blue--yS6Ze",nameCard:"frontend-community-Reaction-module__nameCard--apX_i",reactionToPick:"frontend-community-Reaction-module__reactionToPick--TqIpF",pickIcon:"frontend-community-Reaction-module__pickIcon--JZeFU",emojiPicker:"frontend-community-Reaction-module__emojiPicker--Oaakq",emojiPickerLayer:"frontend-community-Reaction-module__emojiPickerLayer--vLED_",reactionSection:"frontend-community-Reaction-module__reactionSection--RlOnV",count:"frontend-community-Reaction-module__count--POp7r",show:"frontend-community-Reaction-module__show--n7AZ5"},x2=3,Jp=6;function R2({context:r,reactions:t,currentReaction:o,onReactionClick:a,isReadOnly:f}){const L=t&&Object.keys(t).some(q=>t[q]>0),{result:k,isLoading:U}=(0,Ze.ib)({pathname:"/api/v1/threads/reactions",method:"GET",cacheTtl:1e3*60*10,auto:!0}),B=(0,n.Ye)(()=>!t||!(k!=null&&k.reactionTypes)?[]:Object.entries(t).sort((pe,ge)=>ge[1]===pe[1]?pe[0].localeCompare(ge[0]):ge[1]-pe[1]).filter(([pe,ge])=>ge>0&&k.reactionTypes[pe]).slice(0,x2),[t,k]);return k!=null&&k.reactionTypes?(0,e.h)(d.tu,null,(0,e.h)(d.gq,{onClick:xc,className:u()(Yr.reactionsContainer,{[Yr.show]:L})},B.map(([q,pe])=>(0,e.h)(Lc.z,{layerClassName:Yr.nameCard,content:(0,e.h)(k2,{context:r,reaction:q}),layerOptions:{placement:"bottom-center"}},(0,e.h)(d.gq,{key:q,className:u()(Yr.reaction,{[Yr.blue]:q===o}),shadow:"sm",bg:"primary",gap:4,alignItems:"center",paddingX:6,onClick:()=>a&&a(q)},(0,e.h)(K2,{reaction:k.reactionTypes[q]}),(0,e.h)(j2,{count:pe,textColor:q===o?"bg-light":"primary"})))),!f&&(0,e.h)(Hp,{content:({closePopover:q})=>(0,e.h)(U2,{emojis:k,isLoading:U,currentReaction:o,onPick:pe=>{a&&a(pe),q()}}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:Yr.emojiPickerLayer},(0,e.h)(B2,null)))):null}function B2(){return(0,e.h)(d.hs,{className:Yr.pickIcon,shadow:"sm",bg:"primary",paddingX:4,alignItems:"center"},(0,e.h)(N2,null))}function U2({emojis:r,isLoading:t,currentReaction:o,onPick:a}){var f;const L=(0,n.Ye)(()=>!(r!=null&&r.reactionTypes)||t?[]:Object.keys(r.reactionTypes),[r==null?void 0:r.reactionTypes,t]),{result:k,isLoading:U}=(0,Ze.Wf)(()=>Ke.e(4695).then(Ke.t.bind(Ke,64695,19)),[],{auto:!0}),B=(0,n.I4)(Pe=>[Pe,...(k==null?void 0:k[Pe])||[]],[k]),{filteredItems:q,setQuery:pe,hasFiltered:ge}=C2({items:L,getKeys:B,deps:[L,B]});return t||U?(0,e.h)(Yp.S,null):(0,e.h)(d.tu,{gap:12,className:Yr.emojiPicker,onClick:xc,overflowY:"auto"},(0,e.h)(w2,{setQuery:pe,placeholder:"Search emoji...",size:"small"}),ge&&(q&&q.length>0?(0,e.h)(Nc,{reactions:q,currentReaction:o,onPick:a,emojiMap:r.reactionTypes,title:null}):(0,e.h)(d.xv,{size:12,lineHeight:20,color:"secondary",weight:"semibold",font:"text",alignSelf:"center"},"No emoji match your search")),!ge&&(0,e.h)(e.Fragment,null,(0,e.h)(Nc,{reactions:r.suggestedReactionTypes,currentReaction:o,onPick:a,emojiMap:r.reactionTypes,title:"Suggested Reactions"}),(f=r.categories)==null?void 0:f.map(Pe=>(0,e.h)(Nc,{reactions:Pe.reactionTypes,currentReaction:o,onPick:a,emojiMap:r.reactionTypes,title:Pe.title}))))}function k2({reaction:r,context:t}){var o;const a=t.type==="posts"?`/api/v1/community/posts/${t.id}/reactions`:`/api/v1/community/comments/${t.id}/reactions`,{result:f,isLoading:L}=(0,Ze.ib)({pathname:a,method:"GET",auto:!0});if(L)return(0,e.h)(Yp.S,null);const U=((o=f==null?void 0:f.reactions.filter(pe=>pe.reaction===r))!=null?o:[]).map(pe=>pe.user.name),B=U.slice(0,Jp),q=Math.max(0,U.length-Jp);return(0,e.h)(d.tu,{gap:2,className:Yr.emojiPicker,onClick:xc,overflowY:"auto"},B.map(pe=>(0,e.h)(Xp,{text:pe})),q>0&&(0,e.h)(Xp,{text:`+ ${q} ${q===1?"other":"others"}`}))}function F2({title:r}){return(0,e.h)(d.xv,{size:12,lineHeight:20,color:"secondary",weight:"semibold",font:"text"},r)}function W2({reactions:r,currentReaction:t,onPick:o,emojiMap:a}){return(0,e.h)(d.gq,{className:Yr.reactionSection,gap:8},r==null?void 0:r.map(f=>(0,e.h)(d.hs,{key:f,onClick:()=>o(f),className:u()(Yr.reactionToPick,{[Yr.blue]:f===t}),bg:"primary",alignItems:"center"},(0,e.h)(H2,{reaction:a[f]}))))}function Nc({reactions:r,currentReaction:t,onPick:o,emojiMap:a,title:f}){return(0,e.h)(d.tu,{gap:12},f&&(0,e.h)(F2,{title:f}),(0,e.h)(W2,{reactions:r,currentReaction:t,onPick:o,emojiMap:a}))}function j2({count:r,textColor:t}){return(0,e.h)(d.xv,{className:Yr.count,color:t,lineHeight:20},r)}function Xp({text:r}){return(0,e.h)(d.xv,{size:12,color:"primary",weight:"medium",font:"text"},r)}function K2({reaction:r}){return(0,e.h)(d.xv,{size:14,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},r)}function H2({reaction:r}){return(0,e.h)(d.xv,{size:20,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},r)}const xc=r=>{r.stopPropagation(),r.preventDefault()},sr={bubbleStack:"frontend-community-CommunityPostView-module__bubbleStack--nNlkK",bubble:"frontend-community-CommunityPostView-module__bubble--Qb0nJ",linkBubble:"frontend-community-CommunityPostView-module__linkBubble--A99mW",imageGroup:"frontend-community-CommunityPostView-module__imageGroup--ttj6D",replyContainer:"frontend-community-CommunityPostView-module__replyContainer--QXsEJ",bubbleText:"frontend-community-CommunityPostView-module__bubbleText--DlNG6",authorName:"frontend-community-CommunityPostView-module__authorName--D3nZg",facepileAvatar:"frontend-community-CommunityPostView-module__facepileAvatar--Ae4J2",facepile:"frontend-community-CommunityPostView-module__facepile--LsZV8",readMore:"frontend-community-CommunityPostView-module__readMore--KuojM",paywallBubble:"frontend-community-CommunityPostView-module__paywallBubble--pQYha",pixels:"frontend-community-CommunityPostView-module__pixels--iHfsp",linkImg:"frontend-community-CommunityPostView-module__linkImg--BGinm",linkUrl:"frontend-community-CommunityPostView-module__linkUrl--Z_NGs",linkTitle:"frontend-community-CommunityPostView-module__linkTitle--REE0t",ctaButton:"frontend-community-CommunityPostView-module__ctaButton--_ybr_",reactionsWrapper:"frontend-community-CommunityPostView-module__reactionsWrapper--ude0p",actions:"frontend-community-CommunityPostView-module__actions--Iu1iz",actionButton:"frontend-community-CommunityPostView-module__actionButton--utP6e",actionMenu:"frontend-community-CommunityPostView-module__actionMenu--Mtz5B",actionMenuLayer:"frontend-community-CommunityPostView-module__actionMenuLayer--exM2E",avatarContainer:"frontend-community-CommunityPostView-module__avatarContainer--_sDjD",targetedAnimation:"frontend-community-CommunityPostView-module__targetedAnimation--hs4QE",fade:"frontend-community-CommunityPostView-module__fade--mcazB",quoteBox:"frontend-community-CommunityPostView-module__quoteBox--keJ32"};var V2=Object.defineProperty,$2=Object.defineProperties,Z2=Object.getOwnPropertyDescriptors,hl=Object.getOwnPropertySymbols,Qp=Object.prototype.hasOwnProperty,qp=Object.prototype.propertyIsEnumerable,eh=(r,t,o)=>t in r?V2(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,xa=(r,t)=>{for(var o in t||(t={}))Qp.call(t,o)&&eh(r,o,t[o]);if(hl)for(var o of hl(t))qp.call(t,o)&&eh(r,o,t[o]);return r},G2=(r,t)=>$2(r,Z2(t)),th=(r,t)=>{var o={};for(var a in r)Qp.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&hl)for(var a of hl(r))t.indexOf(a)<0&&qp.call(r,a)&&(o[a]=r[a]);return o},dr=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const z2="ffe5d072-ae52-11ed-afa1-0242ac120002";function nh({communityPost:r,author:t,extras:o,withAttribution:a,flex:f,hideReply:L,isReadOnly:k,onReply:U,onDelete:B}){const q=(0,n.sO)(null),pe={type:"posts",id:r.id},ge=Na(),Pe=!(r.type==="media"&&r.media_assets);return(0,e.h)(ml,{user:t,flex:f,containerRef:q},a&&(0,e.h)(kc,{text:`From ${t.name}\u2019s subscriber chat`}),(0,e.h)(rh,{actionMenuProps:{communityEntity:r,publicationId:r.publication_id,onReply:U,onDelete:B,isReadOnly:k,isFlagged:r.reported_by_user},flex:f},(0,e.h)(_l,null,r.type==="media"&&r.media_assets&&(0,e.h)(ts,{context:pe,reactions:r.reactions,currentReaction:r.reaction,onReactionClick:ns(r.id,"posts",ge,r.reaction),isReadOnly:k},(0,e.h)(kp.q,{assets:r.media_assets.map(Ee=>Ee.url),className:sr.imageGroup,readOnly:k})),r.link_url&&(0,e.h)(ts,{context:pe,reactions:r.reactions,currentReaction:r.reaction,onReactionClick:ns(r.id,"posts",ge,r.reaction),setReactions:Pe,isReadOnly:k},(0,e.h)(UO,{linkUrl:r.link_url,linkMetadata:r.link_metadata,postId:r.id})),r.body&&(0,e.h)(ts,{context:pe,reactions:r.reactions,currentReaction:r.reaction,onReactionClick:ns(r.id,"posts",ge,r.reaction),setReactions:Pe&&!r.link_url,isReadOnly:k},(0,e.h)(ih,{authorName:t.name,communityEntity:r})))),!L&&(0,e.h)(ah,null,(0,e.h)(gl,{commenters:r.recent_commenters,count:r.comment_count,audience:r.audience})),o)}function rh({children:r,actionMenuProps:t,flex:o="grow"}){return(0,e.h)(de.gq,{alignItems:"start",gap:12,flex:o},(0,e.h)(de.tu,null,r),(0,e.h)(CO,xa({},t)))}function ts({children:r,context:t,reactions:o,currentReaction:a,setReactions:f=!0,onReactionClick:L,isReadOnly:k}){return f?(0,e.h)(de.gq,{className:sr.reactionsWrapper},r,(0,e.h)(R2,{context:t,reactions:o,currentReaction:a,onReactionClick:L,isReadOnly:k})):(0,e.h)(e.Fragment,null,r)}const ns=(r,t,o,a)=>f=>dr(void 0,null,function*(){o(a===f?J2(f,r,t):Y2(f,r,t,a))}),Y2=(r,t,o,a)=>(f,L)=>dr(void 0,null,function*(){f({type:`${o}-new_reaction`,payload:{id:t,reaction:r}}),(yield pO(r,t,o))instanceof Error&&f(a?{type:`${o}-new_reaction`,payload:{id:t,reaction:a}}:{type:`${o}-remove_reaction`,payload:{id:t,reaction:r}})}),J2=(r,t,o)=>(a,f)=>dr(void 0,null,function*(){a({type:`${o}-remove_reaction`,payload:{id:t,reaction:r}}),(yield hO(r,t,o))instanceof Error&&a({type:`${o}-new_reaction`,payload:{id:t,reaction:r}})}),X2=(r,t)=>(o,a)=>dr(void 0,null,function*(){o({type:"posts-delete_post",payload:{id:r,publication_id:t}});const f=yield fO(r);f instanceof Error&&console.warn("error deleting thread",f)}),Q2=(r,t,o)=>(a,f)=>dr(void 0,null,function*(){a({type:"comments-delete_comment",payload:{id:r,postId:t}});const L=yield uO(r);if(L instanceof Error&&console.warn("error deleting comment",L),o){const U=yield cO(o);U instanceof Error||a({type:"comments-update_comment",payload:{id:o,comment:U.comment}})}const k=yield dO(t);k instanceof Error||a({type:"posts-update_post",payload:{id:t,post:k.communityPost}})}),q2=(r,t)=>(o,a)=>dr(void 0,null,function*(){o({type:"posts-lock_replies",payload:{id:r,isLocked:t}});const f=yield oO(r,t);f instanceof Error&&(console.warn("error locking post",f),alert(`There was an error ${t?"locking":"unlocking"} replies to this post. Please try again later.`),o({type:"posts-lock_replies",payload:{id:r,isLocked:!t}}))}),eO=(r,t)=>(o,a)=>dr(void 0,null,function*(){o({type:"comments-lock_replies",payload:{id:r,isLocked:t}});const f=yield aO(r,t);f instanceof Error&&(console.warn("error locking comment",f),alert(`There was an error ${t?"locking":"unlocking"} replies to this comment. Please try again later.`),o({type:"comments-lock_replies",payload:{id:r,isLocked:!t}}))}),tO=r=>(t,o)=>dr(void 0,null,function*(){t({type:"posts-flag_post",payload:{id:r}});const a=yield sO(r);a instanceof Error&&console.warn("error flagging post",a)}),nO=r=>(t,o)=>dr(void 0,null,function*(){t({type:"comments-flag_comment",payload:{id:r}});const a=yield lO(r);a instanceof Error&&console.warn("error flagging comment",a)}),rO=(r,t)=>(o,a)=>dr(void 0,null,function*(){o({type:"comments-ban_author",payload:{id:r,ban:t}});const f=yield iO(r,t);f instanceof Error&&(console.warn("error toggling ban for comment author",f),alert(`There was an error ${t?"banning":"unbanning"} this user. Please try again later.`),o({type:"comments-ban_author",payload:{id:r,ban:!t}}))});function oO(r,t){return dr(this,null,function*(){try{return yield fetch(`/api/v1/community/posts/${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:t})})}catch(o){return o}})}function aO(r,t){return dr(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:t})})}catch(o){return o}})}function iO(r,t){return dr(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${r}/publication_bans?ban=${t.toString()}`,{method:"POST"})}catch(o){return o}})}function sO(r){return dr(this,null,function*(){try{return yield(0,Ze.rd)(`/api/v1/community/posts/${r}/reports`,{method:"POST",json:{postId:r}})}catch(t){return t}})}function lO(r){return dr(this,null,function*(){try{return yield(0,Ze.rd)(`/api/v1/community/comments/${r}/reports`,{method:"POST",json:{commentId:r}})}catch(t){return t}})}function uO(r){return dr(this,null,function*(){try{return yield(0,Ze.rd)(`/api/v1/community/comments/${r}`,{method:"DELETE",json:{commentId:r}})}catch(t){return t}})}function cO(r){return dr(this,null,function*(){try{return yield(0,Ze.rd)(`/api/v1/community/comments/${r}`,{method:"GET"})}catch(t){return console.warn(t),t}})}function dO(r){return dr(this,null,function*(){try{return yield(0,Ze.rd)(`/api/v1/community/posts/${r}`,{method:"GET"})}catch(t){return console.warn(t),t}})}function fO(r){return dr(this,null,function*(){try{return yield(0,Ze.rd)(`/api/v1/community/posts/${r}`,{method:"DELETE",json:{postId:r}})}catch(t){return t}})}function pO(r,t,o){return dr(this,null,function*(){try{return yield(0,Ze.rd)(`/api/v1/community/${o}/${t}/reaction`,{method:"POST",json:{reaction:r}})}catch(a){return a}})}function hO(r,t,o){return dr(this,null,function*(){try{return yield(0,Ze.rd)(`/api/v1/community/${o}/${t}/reaction`,{method:"DELETE",query:{reaction:r}})}catch(a){return a}})}function Rc({author:r,extras:t,showReply:o=!0,analyticsParams:a,commenters:f,count:L,audience:k}){return(0,n.d4)(()=>{a&&(0,P.j)(P.FP.THREAD_PAYWALL_SCREEN_VIEWED,a)},[]),(0,e.h)(ml,{user:r},(0,e.h)(_l,null,(0,e.h)(RO,{audience:k}),o&&(0,e.h)(gl,{isLocked:!0,commenters:f,count:L})),t)}function mO({author:r,extras:t,showReply:o=!0,commenters:a,count:f}){return(0,e.h)(ml,{user:r},(0,e.h)(_l,null,(0,e.h)(BO,null),o&&(0,e.h)(gl,{isLocked:!0,commenters:a,count:f})),t)}function Bc(r){return typeof r.message=="string"}function _O({text:r,rawText:t,specialText:o,mentionMap:a,limit:f=600}){const[L,k]=(0,n.eJ)(!1);if(o)return(0,e.h)("em",null,o);if(!r)return(0,e.h)(e.Fragment,null);let U=[{characters:r.length,message:r}];t&&a&&(U=vO(t,a));const{alwaysShow:B,afterExpansion:q}=gO(U,f),pe=q.length>0;return(0,e.h)(e.Fragment,null,B.map(ge=>Bc(ge)?(0,e.h)(oh,null,ge.message):ge.message),pe&&!L&&(0,e.h)(e.Fragment,null,(0,e.h)("span",null," "),(0,e.h)(Be.kG,{resetCss:!0,className:sr.readMore,onClick:ge=>{ge.preventDefault(),k(!0)}},"Read more")),pe&&L&&(0,e.h)(e.Fragment,null,q.map(ge=>Bc(ge)?(0,e.h)(oh,null,ge.message):ge.message)))}function oh({children:r}){return(0,e.h)(Ap(),{options:{attributes:{rel:"nofollow ugc",onClick:t=>t.stopPropagation()}}},r)}function gO(r,t){let o=0;const a=[],f=[];for(const L of r){let k=L;if(o<t){if(o+k.characters>t&&Bc(k)){const U=t-o,B={characters:U,message:k.message.slice(0,U)},q={characters:k.characters-U,message:k.message.slice(U)};k=B,f.push(q)}o+=k.characters,a.push(k)}else f.push(k)}return{alwaysShow:a,afterExpansion:f}}function vO(r,t){const o=/\$\{(\d+)\}/g;let a=o.exec(r);const f=r,L=[];let k=0;for(;a;){const U=Number(a[1]),B=t[U];B?(a.index>k&&L.push({characters:a.index-k,message:f.slice(k,a.index)}),L.push({characters:B.text.length,message:PO(B.user_id,yO(B.text),B.text)})):L.push({characters:o.lastIndex-k,message:f.slice(k,o.lastIndex)}),k=o.lastIndex,a=o.exec(r)}return k<f.length&&L.push({characters:f.length-k,message:f.slice(k)}),L}function yO(r){return r.slice(1)}function PO(r,t,o){return(0,e.h)(Mc.default,{name:t,id:r,mentionText:o,type:"user",uuid:z2,isStatic:!1,isEditorContext:!1})}function bO(r){var t=r,{communityComment:o,quoteReply:a,isTargeted:f,isBanned:L,pubRole:k}=t,U=th(t,["communityComment","quoteReply","isTargeted","isBanned","pubRole"]);return(0,e.h)(EO,xa({isTargeted:f,commentInfoArr:[{communityComment:o,quoteReply:a,isBanned:L,pubRole:k}]},U))}function EO({commentInfoArr:r,author:t,chatPublicationId:o,hideReply:a,onReply:f,onNewQuote:L,onQuoteReplyClick:k,onDelete:U,commentRef:B,isTargeted:q,isReadOnly:pe,chatAuthorNameAttribution:ge,extras:Pe,flex:Ee}){const Me=Na(),De=r[r.length-1].communityComment,{reply_count:Ue=0,recent_commenters:Fe=[]}=De!=null?De:{};return(0,e.h)(ml,{user:t,pubRole:r[0].pubRole,containerRef:B,id:`comment-${De==null?void 0:De.id}`,flex:Ee},ge&&(0,e.h)(kc,{text:`Comment from ${ge}\u2019s subscriber chat`}),(0,e.h)(rh,{actionMenuProps:{communityEntity:r[0].communityComment,isBanned:r[0].isBanned,isFlagged:r[0].communityComment.reported_by_user,onReply:f,onDelete:U,onNewQuote:L,isReadOnly:pe,publicationId:o},flex:Ee},(0,e.h)(_l,null,r.map(({communityComment:{id:Ye,body:st,quote_id:nt,media_uploads:at,reactions:yt,reaction:Et,reported_by_user:Ct},quoteReply:It},Tt)=>{var Rt;return(0,e.h)(e.Fragment,{key:Ye},!Ct&&at&&at.length>0&&nt===null&&(0,e.h)(ts,{context:{type:"comments",id:Ye},reactions:yt,currentReaction:Et,onReactionClick:ns(Ye,"comments",Me,Et),isReadOnly:pe},(0,e.h)(kp.q,{assets:at.map(wt=>wt.url),className:sr.imageGroup,readOnly:pe})),nt&&It&&(0,e.h)(xO,{authorName:(Rt=It.user.name)!=null?Rt:"Substack User",communityEntity:It.comment,onClick:k}),st&&(0,e.h)(ts,{context:{type:"comments",id:Ye},reactions:yt,currentReaction:Et,onReactionClick:ns(Ye,"comments",Me,Et),setReactions:!at||at.length===0,isReadOnly:pe},(0,e.h)(ih,{authorName:t.name,communityEntity:r[Tt].communityComment,isTargeted:q})))}))),!a&&Ue>0&&(0,e.h)(ah,null,(0,e.h)(gl,{commenters:Fe,count:Ue})),Pe)}function Ra(r){return r.post_id===void 0}function ml({user:r,children:t,flex:o="grow",containerRef:a,id:f,pubRole:L}){return(0,e.h)(de.hs,{id:f,alignItems:"start",gap:12,flex:o,ref:a,className:u()(Yr.avatarContainer,sr.avatarContainer)},(0,e.h)(de.hs,{paddingTop:4},r?(0,e.h)(uh,{user:r,pubRole:L,size:40}):(0,e.h)(Wo.Vm,{type:"circle",size:40})),(0,e.h)(de.tu,{flex:"grow",gap:4},t))}function OO(){return(0,e.h)(de.hs,{className:sr.actionButton,paddingX:4,alignItems:"center"},(0,e.h)(Lp.Z,null))}function CO({communityEntity:r,onReply:t,onDelete:o,isReadOnly:a,publicationId:f,isBanned:L,isFlagged:k,onNewQuote:U}){const B=(0,n.sO)(!1),q=pe=>{B.current=pe};return(0,e.h)(de.hs,{alignItems:"center",className:sr.actions},(0,e.h)(Hp,{content:({closePopover:pe})=>(0,e.h)(wO,{communityEntity:r,onReply:t,onDelete:o,closePopover:pe,isReadOnly:a,publicationId:f,isBanned:L,isFlagged:k,onNewQuote:U}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:sr.actionMenuLayer,onOpen:()=>q&&q(!0),onClose:()=>q&&q(!1)},(0,e.h)(OO,null)))}function wO({communityEntity:r,onReply:t,onDelete:o,isReadOnly:a,publicationId:f,isBanned:L,isFlagged:k,closePopover:U,onNewQuote:B}){const q=(0,Jt.aF)(),{isAuthor:pe}=(0,Sc.Y0)(f!=null?f:0),ge=f&&pe,Pe=r&&q&&r.user_id===q.id,Ee=r&&!Ra(r),Me=Ee&&"parent_id"in r&&r.parent_id!==null,De=Pe||ge,Ue=Pe||ge,Fe=!Pe&&!k,Ye=ge&&Ee&&!Pe;return(0,e.h)(de.tu,{className:sr.actionMenu,bg:"primary",gap:12,overflowY:"auto"},!a&&t&&(0,e.h)(IO,{disabled:!!(r!=null&&r.is_locked),onReply:t}),!a&&B&&Ee&&(0,e.h)(SO,{onNewQuote:B,communityComment:r,closePopover:U}),r&&r.body&&(0,e.h)(TO,{communityEntity:r,closePopover:U}),r&&(0,e.h)(DO,{communityEntity:r,closePopover:U}),!a&&r&&!Me&&Ue&&(0,e.h)(MO,{communityEntity:r,closePopover:U}),!a&&r&&De&&(0,e.h)(NO,{communityEntity:r,closePopover:U,onDelete:o}),!a&&r&&Fe&&(0,e.h)(AO,{communityEntity:r,closePopover:U}),!a&&r&&L!==void 0&&Ye&&(0,e.h)(LO,{communityEntity:r,closePopover:U,isBanned:L}))}function SO({onNewQuote:r,communityComment:t,closePopover:o}){return(0,e.h)(qe.sN,{icon:(0,e.h)(JE,null),onClick:()=>{r(t),o()}},"Quote")}function IO({disabled:r,onReply:t}){return(0,e.h)(qe.sN,{icon:(0,e.h)(XE,null),onClick:t,disabled:r},"Reply")}function TO({communityEntity:r,closePopover:t}){const o=(0,ur.pm)(),a=()=>{if(r){const{body:f}=r;(0,i.copyToClipboard)(f),o.popToast(L=>(0,e.h)(ur.FN,G2(xa({},L),{text:"Text copied",Icon:Dc})))}t()};return(0,e.h)(qe.sN,{icon:(0,e.h)(Dc,null),onClick:a},"Copy Text")}function DO({communityEntity:r,closePopover:t}){const o=(0,Fp.g)(),{id:a}=r,f=Ra(r),L=()=>{var k;let U;f?U=(0,G.getCommunityPostAppLinkUrl)({postId:a}):U=(0,G.getCommunityCommentAppLinkUrl)({commentId:(k=r.parent_id)!=null?k:a,targetReplyId:r.parent_id?a:void 0}),o(U),t()};return(0,e.h)(qe.sN,{icon:(0,e.h)(Ma.Z,null),onClick:L},"Copy Link")}function MO({communityEntity:r,closePopover:t}){const o=Na(),{id:a,is_locked:f}=r,L=Ra(r),k=()=>dr(this,null,function*(){o(L?q2(a,!f):eO(a,!f)),t()});return(0,e.h)(qe.sN,{icon:f?(0,e.h)(Np,null):(0,e.h)(QE,null),onClick:k,priority:f?"primary":"destructive"},f?"Turn on replies":"Turn off replies")}function AO({communityEntity:r,closePopover:t}){const o=Na(),a=Ra(r),f=()=>dr(this,null,function*(){if(confirm(`Are you sure you want to flag this ${a?"thread":"reply"}?`)){const{id:k}=r;o(a?tO(k):nO(k)),t()}});return(0,e.h)(qe.sN,{icon:(0,e.h)(xp.Z,null),onClick:f,priority:"destructive"},a?"Flag thread":"Flag reply")}function LO({communityEntity:r,closePopover:t,isBanned:o}){const a=Na(),f=()=>dr(this,null,function*(){if(confirm("Are you sure you want to ban this user?")){const{id:k}=r;a(rO(k,!o)),t()}});return(0,e.h)(qe.sN,{icon:o?(0,e.h)(qE.Z,null):(0,e.h)(Rp.Z,null),onClick:f,priority:"destructive"},o?"Unban user":"Ban user")}function NO({communityEntity:r,closePopover:t,onDelete:o}){const a=Na(),f=Ra(r),L=()=>dr(this,null,function*(){if(confirm(`Are you sure you want to delete this ${f?"thread":"comment"}?`)){const{id:U}=r;if(f){const{publication_id:B}=r;a(X2(U,B))}else{const{post_id:B,parent_id:q}=r;a(Q2(U,B,q))}o&&setTimeout(o,500)}t()});return(0,e.h)(qe.sN,{icon:(0,e.h)(e2,null),onClick:L,priority:"destructive"},f?"Delete thread":"Delete reply")}function ah(r){return(0,e.h)(de.tu,xa({className:sr.replyContainer,alignItems:"start"},r))}function _l(r){return(0,e.h)(de.tu,xa({className:sr.bubbleStack,gap:4,alignItems:"start"},r))}function Uc(r){var t=r,{isTargeted:o}=t,a=th(t,["isTargeted"]);return(0,e.h)(de.hs,xa({className:u()(sr.bubble,o&&sr.targetedAnimation),padding:12,bg:"secondary",minWidth:0},a))}function ih({authorName:r,communityEntity:t,isTargeted:o}){return(0,e.h)(Uc,{isTargeted:o},(0,e.h)(sh,{authorName:r,communityEntity:t}))}function xO({authorName:r,communityEntity:t,onClick:o}){return(0,e.h)(de.hs,{className:u()(sr.bubble,sr.quoteBox),onClick:o,padding:12,minWidth:0},(0,e.h)(sh,{authorName:r,communityEntity:t}))}function sh({authorName:r,communityEntity:t}){var o,a,f,L;let k=null;const U=Ra(t)?"thread":"reply";return t.reported_by_user&&(k=`You flagged this ${U}`),(t.status==="deleted"||!t.body)&&(k=`This ${U} is not available`),t.body||(Ra(t)?(o=t.media_assets)!=null&&o.length?k=`${t.media_assets.length} ${t.media_assets.length>1?"photos":"photo"}.`:t.link_url&&(k=`Link: ${t.link_url}`,(a=t.link_metadata)!=null&&a.title&&(k=`Link: "${t.link_metadata.title}"`)):(f=t.media_uploads)!=null&&f.length&&(k=`${t.media_uploads.length} ${t.media_uploads.length>1?"photos":"photo"}.`)),(0,e.h)(M.Zx,{isParagraph:!0,className:sr.bubbleText},(0,e.h)(M.Zx,{weight:"semibold",className:sr.authorName},r||"Substack user")," ",(t.body||k)&&(0,e.h)(_O,{text:(L=t.raw_body)!=null?L:t.body,rawText:t.raw_body,specialText:k,mentionMap:t.mentions}))}function gl({isLocked:r,count:t=0,commenters:o,audience:a}){const f=r?cl.Z:Gi.Z;return(0,e.h)(Uc,{alignSelf:"stretch"},(0,e.h)(de.hs,{flex:"grow",justifyContent:"space-between",alignItems:"center",gap:12},(0,e.h)(de.hs,{alignItems:"center",gap:8},o&&(0,e.h)(de.hs,{className:sr.facepile,alignItems:"center"},o.map(L=>(0,e.h)(uh,{className:sr.facepileAvatar,user:L,size:24}))),(0,e.h)(M.Zx,{color:"secondary"},t>0?`${t.toLocaleString()} replies...`:"Reply...")),(0,e.h)(de.hs,{gap:4,alignItems:"center"},r||!a||a==="all_subscribers"?void 0:(0,e.h)(M.Zx,{color:"secondary"},a==="only_founding"?"Founding":"Paid"),(0,e.h)(f,{size:20,stroke:"var(--color-secondary)"}))))}function RO({audience:r}){const t=r==="only_founding"?"FOUNDING MEMBERS ONLY":"PAID SUBSCRIBERS ONLY";return(0,e.h)(de.tu,{className:sr.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},(0,e.h)(de.hs,{alignItems:"center",gap:4},(0,e.h)(cl.Z,{size:12,stroke:"var(--color-secondary)"}),(0,e.h)(M.xv.Meta,{weight:"semibold"},t)))}function BO(){return(0,e.h)(de.tu,{className:sr.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},(0,e.h)(de.hs,{alignItems:"center",gap:4},(0,e.h)(cl.Z,{size:12,stroke:"var(--color-secondary)"}),(0,e.h)(M.xv.Meta,{weight:"semibold"},"SUBSCRIBERS ONLY")))}function UO({linkUrl:r,linkMetadata:t,postId:o}){var a,f,L;const k=Na();let U;try{const Ee=new URL((a=t==null?void 0:t.url)!=null?a:r);U=`${Ee.host}${Ee.pathname}${Ee.search}${Ee.hash}`}catch(Ee){U=r}const{result:B,isLoading:q,error:pe}=(0,Ze.ib)({pathname:"/api/v1/link-metadata",query:{url:r},auto:!t,deps:[r]});B&&!t&&o&&k({type:"posts-link_metadata",payload:{id:o,link_metadata:B}});const ge=(f=t==null?void 0:t.title)!=null?f:B==null?void 0:B.title,Pe=(L=t==null?void 0:t.image)!=null?L:B==null?void 0:B.image;return(0,e.h)(Uc,null,(0,e.h)(de.hs,{as:"a",href:r,target:"_blank",justifyContent:"space-between",gap:12,className:sr.linkBubble,onClick:Ee=>Ee.stopPropagation()},(0,e.h)(de.tu,{gap:4},ge&&(0,e.h)(M.xv,{font:"serif",weight:"semibold",className:sr.linkTitle},ge),(0,e.h)(M.xv.Detail,{ellipsis:!0,className:sr.linkUrl},U)),Pe&&(0,e.h)(dt.e,{className:sr.linkImg,src:Pe,maxWidth:72*2})))}function lh(r){return(0,e.h)(Be.zx,xa({className:sr.ctaButton,priority:"primary-theme"},r))}function kc({text:r,isStatic:t}){return(0,e.h)(de.hs,{paddingX:8,paddingY:4},(0,e.h)(M.xv.Detail,{weight:"semibold"},(0,e.h)(u2,{strokeWidth:2,height:12,stroke:"#808080",fill:"transparent",isStatic:t})," ",r))}function uh({user:r,size:t,pubRole:o,className:a}){let f;(o==null?void 0:o.role)==="admin"||(o==null?void 0:o.role)==="contributor"?f="author":o!=null&&o.is_founding?f="founding":(o==null?void 0:o.membership_state)==="subscribed"&&(f="paid");const L=(0,mo.L0)(r);return(0,e.h)(de.hs,{as:"a",flex:"auto",alignSelf:"start",href:(0,G.getReaderProfileUrl)(r,{noBase:!0}),target:"_blank"},(0,e.h)(ir.YY,{showProfileHovercard:L,className:a,size:t,user:r,subscriptionType:f}))}function*$F(r,t,o=1){for(let a=r;a<t;a+=o)yield a}function ZF(){const[r,t]=useState(()=>typeof window!="undefined"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1);return useEffect(()=>{const o=f=>{t(f.matches)},a=window.matchMedia("(prefers-color-scheme: dark)");return a.addEventListener("change",o),()=>{a.removeEventListener("change",o)}},[]),{darkMode:r}}var Jr=Ke(62246);function GF({utm_campaign:r,utm_source:t,utm_content:o,abTestingId:a}={}){const[f,L]=useState(!1);return{open:()=>{L(!0),track(EVENTS.APP_INSTALL_MODAL_OPENED,{utm_campaign:r,utm_source:t,utm_content:o})},modal:h(WO,{isOpen:f,onClose:()=>L(!1),utm_campaign:r,utm_source:t,utm_content:o,abTestingId:a})}}function ch({label:r}){return(0,e.h)(de.hs,{gap:16,alignItems:"center",className:z.divider},(0,e.h)("hr",{className:z.dividerLine}),r&&(0,e.h)(e.Fragment,null,(0,e.h)(M.xv.Meta,null,r),(0,e.h)("hr",{className:z.dividerLine})))}function kO({utm_campaign:r,utm_source:t,utm_content:o,hideQrInstructions:a=!0,darkMode:f=!1,abTestingId:L,size:k,gap:U=32,padding:B=32}){const{iString:q}=useI18N();return h(FlexColumn,{justifyContent:"center",alignItems:"center",gap:U,padding:B},!isMobile()&&h(Fragment,null,!a&&h(Text.B3,{weight:"semibold",translated:!0},"Scan the QR code below"),h(FlexBox,{className:css.qrCode,padding:20},h(jO,{size:k,utm_campaign:r,utm_source:t,utm_content:o,abTestingId:L})),h(ch,{label:q("OR")})),h(FO,{utm_campaign:r,utm_source:t,darkMode:f}))}function FO({utm_campaign:r,utm_source:t,darkMode:o=!1}){return h(FlexBox,{gap:16,justifyContent:"center"},h("a",{className:css.appBadge,href:getAppStoreUrl({utm_campaign:r,utm_source:t})},h("img",{src:imginary(o?"/img/app_page/app-store-white.png":"/img/app_page/app-store.png",160*2),height:48})),h("a",{className:css.appBadge,href:getPlayStoreUrl({utm_campaign:r,utm_source:t})},h("img",{src:imginary(o?"/img/app_page/google-play-white.png":"/img/app_page/google-play.png",160*2),height:48})))}function WO({isOpen:r,onClose:t,utm_campaign:o,utm_content:a,utm_source:f,abTestingId:L}){return h(Modal,{isOpen:r,onClose:t,width:500},h(FlexColumn,null,h(FlexBox,{padding:24,borderBottom:"detail",justifyContent:"space-between",alignItems:"center",className:css.modalHeader},h(Text.H2,{translated:!0},"Download the Substack app"),h(IconButton,{size:40,onClick:t,rounded:!0,fill:"borderless","aria-label":"Close"},h(X,{size:20}))),h(kO,{utm_campaign:o,utm_source:f,utm_content:a,abTestingId:L})))}function jO({utm_campaign:r,utm_source:t,utm_content:o,abTestingId:a,size:f=240,width:L,height:k}){const U=useRef(null),B=getAppStoreRedirectUrl({utm_campaign:r,utm_source:t,utm_content:o,abti:a}),{darkMode:q}=useDarkMode(),pe=KO(ge=>{const Pe=ge.devicePixelRatio,Ee=getComputedStyle(document.body),Me=Ee.getPropertyValue("--color-primary"),De=Ee.getPropertyValue("--color-bg-elevated");return{width:(L!=null?L:f)*Pe,height:(k!=null?k:f)*Pe,type:"canvas",data:B,dotsOptions:{color:Me,type:"dots"},backgroundOptions:{color:De},cornersSquareOptions:{color:Me,type:"extra-rounded"},cornersDotOptions:{color:Me,type:"dot"},qrOptions:{errorCorrectionLevel:"L"}}},[L,k,B,q]);return useEffect(()=>{const{current:ge}=U;if(!ge||!pe||!pe._canvas)return;const Pe=pe._canvas;return Pe.style.width=`${L!=null?L:f}px`,Pe.style.height=`${k!=null?k:f}px`,ge.appendChild(Pe),()=>{ge.removeChild(Pe)}},[pe,L,k]),h("div",{ref:U})}function KO(r,t){const{result:o}=useResource(()=>Ke.e(1915).then(Ke.t.bind(Ke,91915,23)),[],{auto:!0}),a=o==null?void 0:o.default;return useMemo(()=>a&&typeof window!="undefined"?new a(r(window)):null,[a,...t])}var HO=Ke(30058),dh=Object.getOwnPropertySymbols,VO=Object.prototype.hasOwnProperty,$O=Object.prototype.propertyIsEnumerable,ZO=(r,t)=>{var o={};for(var a in r)VO.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&dh)for(var a of dh(r))t.indexOf(a)<0&&$O.call(r,a)&&(o[a]=r[a]);return o};const rs=r=>{var t=r,{size:o="md",shape:a="circle",badgePosition:f="top-right",badge:L,imageUrl:k,onClick:U,className:B,border:q}=t,pe=ZO(t,["size","shape","badgePosition","badge","imageUrl","onClick","className","border"]);const ge=u()("tw-inline-block","tw-object-cover",a==="circle"?"tw-rounded-full":"tw-rounded",{"tw-h-6 tw-w-6":o==="sm","tw-h-8 tw-w-8":o==="md","tw-h-10 tw-w-10":o==="lg","tw-h-[64px] tw-w-[64px]":o==="xl","tw-h-[88px] tw-w-[88px]":o==="xxl","tw-border-4 tw-border-substack-bg tw-shadow-md":q},U?"tw-cursor-pointer hover:tw-opacity-90 active:tw-opacity-100":null);return(0,e.h)(HO.e,{className:B},(0,e.h)("div",{onClick:U,className:u()("tw-relative","tw-inline-block")},k?(0,e.h)(dt.e,{className:ge,src:k,maxWidth:88,loading:"lazy"}):(0,e.h)("img",{className:ge,src:void 0}),L!=null?(0,e.h)("span",{className:u()("tw-absolute",{"tw-top-0 tw-right-0":f==="top-right","tw-top-0 tw-left-0":f==="top-left","tw-bottom-0 tw-right-0":f==="bottom-right","tw-bottom-0 tw-left-0":f==="bottom-left"})},L):null))},Xr={pageContainer:"frontend-substack-PublicationThreadAppLinkPage-module__pageContainer--Dy3AB",layoutTop:"frontend-substack-PublicationThreadAppLinkPage-module__layoutTop--VZxW0",layoutCentered:"frontend-substack-PublicationThreadAppLinkPage-module__layoutCentered--S7flk",header:"frontend-substack-PublicationThreadAppLinkPage-module__header--hDVhk",logo:"frontend-substack-PublicationThreadAppLinkPage-module__logo--tGZpx",footer:"frontend-substack-PublicationThreadAppLinkPage-module__footer--eZ5qt",threadsLinkContainer:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkContainer--HyiPj",threadsLinkFallback:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkFallback--oC97h",qrCode:"frontend-substack-PublicationThreadAppLinkPage-module__qrCode--ynSCW",avatarContainer:"frontend-substack-PublicationThreadAppLinkPage-module__avatarContainer--X5YS7",activityBadge:"frontend-substack-PublicationThreadAppLinkPage-module__activityBadge--LorrD",mobile:"frontend-substack-PublicationThreadAppLinkPage-module__mobile--a_a5G",appBadge:"frontend-substack-PublicationThreadAppLinkPage-module__appBadge--ZcSET",webChatLink:"frontend-substack-PublicationThreadAppLinkPage-module__webChatLink--k60XF"};var GO=Object.defineProperty,vl=Object.getOwnPropertySymbols,fh=Object.prototype.hasOwnProperty,ph=Object.prototype.propertyIsEnumerable,hh=(r,t,o)=>t in r?GO(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,zO=(r,t)=>{for(var o in t||(t={}))fh.call(t,o)&&hh(r,o,t[o]);if(vl)for(var o of vl(t))ph.call(t,o)&&hh(r,o,t[o]);return r},YO=(r,t)=>{var o={};for(var a in r)fh.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&vl)for(var a of vl(r))t.indexOf(a)<0&&ph.call(r,a)&&(o[a]=r[a]);return o};function Fc({children:r,pub:t,user:o,showHeader:a,layoutTop:f}){return(0,e.h)("div",{className:u()(Xr.pageContainer,f?Xr.layoutTop:Xr.layoutCentered)},(0,e.h)("div",{className:Xr.header},a&&t&&o&&(0,e.h)(sl,{pub:t,user:o,hideSections:!0,hideTitle:!0})),r)}function JO({pub:r,utm_campaign:t}){return(0,e.h)(de.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(gh,{utm_campaign:t}),(0,e.h)(M.xv.B4,{translated:!0,size:12,color:"secondary",className:Xr.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,g.getThreadDeepLinkUrl)(r)},"Open now")))}function XO({pub:r,utm_campaign:t}){return(0,e.h)(de.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(vh,{utm_campaign:t}),(0,e.h)(M.xv.B4,{translated:!0,size:12,color:"secondary",className:Xr.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,g.getThreadDeepLinkUrl)(r)},"Open now")))}function mh({pub:r,communityAction:t}){var o,a;const{iString:f,iTemplate:L}=(0,A.M1)(),k=t?L`${t.author.name||f("Someone")} started a thread`:L`Join ${(0,Ne.possessive)(r.author_name)} subscriber chat `,U=t!=null&&t.communityPost?(o=t.communityPost.body)==null?void 0:o.slice(0,128):`Subscribe to ${r.name} and join the conversation.`,B=((a=t==null?void 0:t.communityPost)==null?void 0:a.type)==="media"&&!!(t!=null&&t.communityPost.media_assets),q=B?t.communityPost.media_assets[0].url:r.logo_url,pe=(0,G.getPublicationChatAppLinkUrl)({pubKey:r.subdomain});return(0,e.h)(e.Fragment,null,(0,i.setMetaData)({title:k,socialTitle:k,description:U,image:q,isLargeImage:B}),(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:Tc()(Mp(r,{name:k,url:pe,description:U,potentialAction:null}),{json:!0,isScriptContext:!0})}}))}function QO({publication:r,communityAction:t,user:o,showHeader:a}){return(0,e.h)(Fc,{pub:r,user:o,showHeader:a},(0,e.h)(de.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(de.hs,{flex:"grow",justifyContent:"center",paddingBottom:56},(0,e.h)(tC,{publication:r,communityAction:t,publicationAuthor:r.author||{id:r.author_id||0,name:r.author_name||"",photo_url:r.author_photo_url},utm_campaign:"threads-page"}))))}function qO({publication:r,communityAction:t,user:o,layoutTop:a,appModalOpenByDefault:f}){const L=(0,gn.XA)(),[k,U]=(0,n.eJ)(!L&&f),B="thread-page",{iString:q,iTemplate:pe}=(0,A.M1)(),ge=(0,e.h)(de.tu,{gap:8},(0,e.h)(lh,{href:(0,G.getCommunityPostAppLinkUrl)({postId:t.communityPost.id,utm_source:"chat-post-landing",redirect:"app-store",utm_campaign:B}),onClick:L?null:Pe=>{Pe.preventDefault(),U(!0)}},q("Open in app")),(0,e.h)(Wc,{publication:r,postId:t.communityPost.id,text:q("Or join the conversation on web"),source:"post-permalink"}));return(0,e.h)(Fc,{pub:r,user:o,layoutTop:a},(0,e.h)(de.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(de.hs,{flex:"grow",justifyContent:"center",paddingBottom:16},(0,e.h)(de.tu,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},t.status==="open"?(0,e.h)(nh,{communityPost:t.communityPost,author:t.author,withAttribution:!0,extras:L?null:ge,flex:"auto",isReadOnly:!0}):(0,e.h)(de.tu,null,(0,e.h)(Rc,{author:t.author,extras:L?null:ge,commenters:t.communityPost.recent_commenters,count:t.communityPost.comment_count,audience:t.communityPost.audience})))),L&&(0,e.h)(de.tu,{className:Xr.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},ge),(0,e.h)(mh,{pub:r,communityAction:t})),(0,e.h)(yh,{utm_campaign:B,isOpen:k,postId:t.communityPost.id,onClose:()=>U(!1),subdomain:r.subdomain}))}function eC({publication:r,communityAction:t,user:o,layoutTop:a,appModalOpenByDefault:f}){var L;const{iString:k}=(0,A.M1)(),U=(0,gn.XA)(),[B,q]=(0,n.eJ)(!U&&f),pe="comment-page",ge=(L=t.communityComment.parent_id)!=null?L:t.communityComment.id,Pe=t.communityComment.parent_id?t.communityComment.id:void 0,Ee=t.communityComment.post_id,Me=(0,e.h)(de.tu,{gap:8},(0,e.h)(lh,{href:(0,G.getCommunityCommentAppLinkUrl)({commentId:ge,targetReplyId:Pe,utm_source:"chat-post-landing",redirect:"app-store",utm_campaign:pe}),onClick:U?null:De=>{De.preventDefault(),q(!0)}},k("Open in app")),(0,e.h)(Wc,{publication:r,postId:Ee,commentId:ge,targetReplyId:Pe,showTarget:Pe?!0:void 0,text:k("Or join the conversation on web"),source:"post-permalink"}));return(0,e.h)(Fc,{pub:r,user:o,layoutTop:a},(0,e.h)(de.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(de.hs,{flex:"grow",justifyContent:"center",paddingBottom:16},(0,e.h)(de.tu,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},t.status==="VISIBLE"||!t.status?(0,e.h)(bO,{chatPublicationId:r.id,communityComment:t.communityComment,author:t.author,extras:U?null:Me,isReadOnly:!0,isBanned:!1,quoteReply:t.quote,chatAuthorNameAttribution:r.author_name,flex:"auto"}):t.status==="PAID_SUBSCRIPTION_REQUIRED"||t.status==="FOUNDING_SUBSCRIPTION_REQUIRED"?(0,e.h)(de.tu,null,(0,e.h)(Rc,{author:t.author,extras:U?null:Me,commenters:t.communityComment.recent_commenters,count:t.communityComment.reply_count,audience:t.status==="FOUNDING_SUBSCRIPTION_REQUIRED"?"only_founding":"only_paid"})):(0,e.h)(de.tu,null,(0,e.h)(mO,{author:t.author,extras:U?null:Me,commenters:t.communityComment.recent_commenters,count:t.communityComment.reply_count})))),U&&(0,e.h)(de.tu,{className:Xr.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},Me)),(0,e.h)(yh,{utm_campaign:pe,isOpen:B,postId:Ee,commentId:ge,targetReplyId:Pe,onClose:()=>q(!1),subdomain:r.subdomain}))}function tC({publication:r,communityAction:t,publicationAuthor:o,noFallback:a,utm_campaign:f}){const L=(0,R.isMobile)(),k=(0,R.isAndroid)();return(0,e.h)(de.tu,{gap:L?20:24,justifyContent:"center",alignItems:"center"},(0,e.h)(rs,{imageUrl:(0,g.getUserPhotoUrl)(o),size:"xxl",border:!0,badge:(0,e.h)("div",{className:u()(Xr.activityBadge)}),badgePosition:"bottom-right"}),(0,e.h)(de.tu,{gap:8},(0,e.h)(M.xv.H2,{translated:!0,size:24,align:"center",weight:"bold",color:"pub-primary-text"},"Join ",I18N.p(o.name||"Substack user"),"'s subscriber chat")),!L&&(0,e.h)("div",{className:Xr.threadsLinkContainer},(0,e.h)(_h,{utm_campaign:f,subdomain:r.subdomain})),L&&(k?(0,e.h)(XO,{pub:r,utm_campaign:f}):(0,e.h)(JO,{pub:r,utm_campaign:f})),(0,e.h)(Wc,{publication:r,source:"pub-nav-bar"}),(0,e.h)(mh,{pub:r,communityAction:t}))}function Wc({publication:r,source:t,postId:o,commentId:a,targetReplyId:f,showTarget:L,text:k}){const{iString:U}=(0,A.M1)();return k||(k=U("Or open on web")),(0,e.h)("a",{href:(0,G.getWebChatUrl)({pubId:r.id,postId:o,commentId:a,params:{utm_source:t,targetReplyId:f,showTarget:L}}),className:Xr.webChatLink},(0,e.h)(M.xv.B3,{size:16,weight:"semibold",align:"center",as:"p",color:"pub-secondary-text"},k))}function _h({utm_campaign:r,postId:t,subdomain:o,commentId:a,targetReplyId:f}){return(0,e.h)(de.tu,{gap:24,alignItems:"center"},(0,e.h)(de.hs,{justifyContent:"center"},(0,e.h)(M.xv.B4,{translated:!0,as:"span",weight:"bold"},"Scan the QR code below")),(0,e.h)(de.hs,{flex:"auto",justifyContent:"center",border:"detail",radius:6,className:Xr.qrCode},(0,e.h)(nC,{utm_campaign:r,postId:t,subdomain:o,commentId:a,targetReplyId:f})),(0,e.h)(ch,{label:"OR"}),(0,e.h)(de.hs,{gap:16,justifyContent:"center"},(0,e.h)(gh,{utm_campaign:r}),(0,e.h)(vh,{utm_campaign:r})))}function nC({utm_campaign:r,postId:t,subdomain:o,commentId:a,targetReplyId:f}){const L=(0,n.sO)(),k=a?(0,G.getCommunityCommentAppLinkUrl)({commentId:a,targetReplyId:f,utm_campaign:r}):t?(0,G.getCommunityPostAppLinkUrl)({postId:t,utm_campaign:r}):(0,G.getPublicationChatAppLinkUrl)({pubKey:o,redirect:"app-store",utm_campaign:r});return(0,n.d4)(()=>{const{current:U}=L;U&&KE.toCanvas(U,k,{width:180,margin:2})},[]),(0,e.h)("canvas",{ref:L})}function gh({utm_campaign:r}){return(0,e.h)("a",{className:Xr.appBadge,href:(0,g.getAppStoreUrl)({utm_campaign:r,utm_source:"substack"})},(0,e.h)("img",{src:(0,g.imginary)("/img/app_page/app-store.png",400),height:40}))}function vh({utm_campaign:r}){return(0,e.h)("a",{className:Xr.appBadge,href:(0,g.getPlayStoreUrl)({utm_campaign:r,utm_source:"substack"})},(0,e.h)("img",{src:(0,g.imginary)("/img/app_page/google-play.png",400),height:40}))}function yh(r){var t=r,{postId:o,utm_campaign:a,subdomain:f,commentId:L,targetReplyId:k}=t,U=YO(t,["postId","utm_campaign","subdomain","commentId","targetReplyId"]);const{iString:B}=(0,A.M1)();return(0,e.h)(Jr.u_,zO({},U),(0,e.h)(Jr.xB,{title:B("Open in the Substack app"),includeClose:!0,onClose:U.onClose,bottomBorder:!0}),(0,e.h)(de.tu,{paddingY:32,paddingX:40},(0,e.h)(_h,{utm_campaign:a,postId:o,subdomain:f,commentId:L,targetReplyId:k})))}var di=Ke(23237),Ph=Ke(1852),jc=function(){return(jc=Object.assign||function(r){for(var t,o=1,a=arguments.length;o<a;o++)for(var f in t=arguments[o])Object.prototype.hasOwnProperty.call(t,f)&&(r[f]=t[f]);return r}).apply(this,arguments)},os,as,Kc=(0,$t.createContext)(void 0),bh="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML",Eh="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js",rC=function(pe){var t=pe.config,o=pe.version,o=o===void 0?3:o,a=pe.src,a=a===void 0?o===2?bh:Eh:a,f=pe.onStartup,L=pe.onLoad,k=pe.onError,U=pe.typesettingOptions,B=pe.renderMode,B=B===void 0?"post":B,q=pe.hideUntilTypeset,pe=pe.children,Pe=(0,$t.useContext)(Kc);if((Pe==null?void 0:Pe.version)!==void 0&&(Pe==null?void 0:Pe.version)!==o)throw Error("Cannot nest MathJaxContexts with different versions. MathJaxContexts should not be nested at all but if they are, they cannot have different versions. Stick with one version of MathJax in your app and avoid using more than one MathJaxContext.");if(o===2&&as!==void 0||o===3&&os!==void 0)throw Error("Cannot use MathJax versions 2 and 3 simultaneously in the same app due to how MathJax is set up in the browser; either you have multiple MathJaxContexts with different versions or you have mounted and unmounted MathJaxContexts with different versions. Please stick with one version of MathJax in your app. File an issue in the project Github page if you need this feature.");var ge=(0,$t.useRef)(Pe),Pe=(0,$t.useRef)((Pe==null?void 0:Pe.version)||null);if(Pe.current===null)Pe.current=o;else if(Pe.current!==o)throw Error("Cannot change version of MathJax in a MathJaxContext after it has mounted. Reload the page with a new version when this must happen.");var Ee=a||(o===2?bh:Eh);function Me(De,Ue){t&&(window.MathJax=t);var Fe=document.createElement("script");Fe.type="text/javascript",Fe.src=Ee,Fe.async=!1,Fe.addEventListener("load",function(){var Ye=window.MathJax;f&&f(Ye),De(Ye),L&&L()}),Fe.addEventListener("error",function(Ye){return Ue(Ye)}),document.getElementsByTagName("head")[0].appendChild(Fe)}return ge.current===void 0&&(Pe={typesettingOptions:U,renderMode:B,hideUntilTypeset:q},o===2?os===void 0&&(typeof window!="undefined"?(os=new Promise(Me)).catch(function(De){if(!k)throw Error("Failed to download MathJax version 2 from '".concat(Ee,"' due to: ").concat(De));k(De)}):(os=Promise.reject()).catch(function(De){})):as===void 0&&(typeof window!="undefined"?(as=new Promise(Me)).catch(function(De){if(!k)throw Error("Failed to download MathJax version 3 from '".concat(Ee,"' due to: ").concat(De));k(De)}):(as=Promise.reject()).catch(function(De){})),ge.current=jc(jc({},Pe),o===2?{version:2,promise:os}:{version:3,promise:as})),$t.default.createElement(Kc.Provider,{value:ge.current},pe)};const oC=rC;var ia=function(){return(ia=Object.assign||function(r){for(var t,o=1,a=arguments.length;o<a;o++)for(var f in t=arguments[o])Object.prototype.hasOwnProperty.call(t,f)&&(r[f]=t[f]);return r}).apply(this,arguments)},aC=function(r,t){var o={};for(f in r)Object.prototype.hasOwnProperty.call(r,f)&&t.indexOf(f)<0&&(o[f]=r[f]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,f=Object.getOwnPropertySymbols(r);a<f.length;a++)t.indexOf(f[a])<0&&Object.prototype.propertyIsEnumerable.call(r,f[a])&&(o[f[a]]=r[f[a]]);return o},is=function(r){return"Typesetting failed: ".concat(r.message!==void 0?r.message:r.toString())},iC=function(r){function t(){var at;De==="every"&&Ye&&Ue==="post"&&Ee.current!==null&&(Ee.current.style.visibility=(at=(at=ge.style)==null?void 0:at.visibility)!=null?at:"visible"),st.current||(De==="first"&&Ee.current!==null&&(Ee.current.style.visibility="visible"),f&&f(),st.current=!0),L&&L(),nt.current=!1}var a=r.inline,o=a!==void 0&&a,a=r.hideUntilTypeset,f=r.onInitTypeset,L=r.onTypeset,k=r.text,U=r.dynamic,B=r.typesettingOptions,q=r.renderMode,pe=r.children,ge=aC(r,["inline","hideUntilTypeset","onInitTypeset","onTypeset","text","dynamic","typesettingOptions","renderMode","children"]),Pe=(0,$t.useRef)(""),Ee=(0,$t.useRef)(null),Me=(0,$t.useContext)(Kc),De=a!=null?a:Me==null?void 0:Me.hideUntilTypeset,Ue=q!=null?q:Me==null?void 0:Me.renderMode,Fe=B!=null?B:Me==null?void 0:Me.typesettingOptions,Ye=U!==!1&&(U||!1),st=(0,$t.useRef)(!1),nt=(0,$t.useRef)(!1);return!nt.current&&Ee.current!==null&&Ye&&De==="every"&&Ue==="post"&&(Ee.current.style.visibility="hidden"),(typeof window!="undefined"?$t.useLayoutEffect:$t.useEffect)(function(){if((Ye||!st.current)&&Ee.current!==null){if(!Me)throw Error("MathJax was not loaded, did you use the MathJax component outside of a MathJaxContext?");if(Ue==="pre"){if(!(typeof(at=k)=="string"&&0<at.length))throw Error(`Render mode 'pre' requires text prop to be set and non-empty, which was currently "`.concat(k,'"'));if(!B||!B.fn)throw Error("Render mode 'pre' requires 'typesettingOptions' prop with 'fn' property to be set on MathJax element or in the MathJaxContext");if(Me.version===2)throw Error("Render mode 'pre' only available with MathJax 3, and version 2 is currently in use")}Ue!=="post"&&k===Pe.current||nt.current||(nt.current=!0,Me.version===3?Me.promise.then(function(yt){var Et;Ue==="pre"?(Et=function(Ct){Pe.current=k,yt.startup.document.clear(),yt.startup.document.updateDocument(),Ee.current!==null&&(Ee.current.innerHTML=Ct.outerHTML),t()},B.fn.endsWith("Promise")?yt.startup.promise.then(function(){return yt[Fe.fn](k,ia(ia({},(Fe==null?void 0:Fe.options)||{}),{display:!o}))}).then(Et).catch(function(Ct){throw t(),Error(is(Ct))}):yt.startup.promise.then(function(){var Ct=yt[Fe.fn](k,ia(ia({},(Fe==null?void 0:Fe.options)||{}),{display:!o}));Et(Ct)}).catch(function(Ct){throw t(),Error(is(Ct))})):yt.startup.promise.then(function(){return yt.typesetClear([Ee.current]),yt.typesetPromise([Ee.current])}).then(t).catch(function(Ct){throw t(),Error(is(Ct))})}).catch(function(yt){throw t(),Error(is(yt))}):Me.promise.then(function(yt){yt.Hub.Queue(["Typeset",yt.Hub,Ee.current]),yt.Hub.Queue(t)}).catch(function(yt){throw t(),Error(is(yt))}))}var at}),$t.default.createElement("span",ia({},ge,{style:ia(ia({display:o?"inline":"block"},ge.style),{visibility:De?"hidden":(r=ge.style)==null?void 0:r.visibility}),ref:Ee}),pe)};const sC=iC,lC='!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();';var Ir=Ke(82626),uC=Ke(42395),Tr=Ke.n(uC),Rn=Ke(18492);const fi={webContainer:"frontend-community-CommunityChatEmbed-module__webContainer--yvB6N",container:"frontend-community-CommunityChatEmbed-module__container--Rxuxg",emailWrapper:"frontend-community-CommunityChatEmbed-module__emailWrapper--s2WXp",text:"frontend-community-CommunityChatEmbed-module__text--OkWnB",title:"frontend-community-CommunityChatEmbed-module__title--MzrVh",button:"frontend-community-CommunityChatEmbed-module__button--sD_5W"};function cC({pub:r,subdomain:t}){const{iString:o}=(0,A.M1)();return(0,e.h)(de.tu,{className:fi.webContainer,alignItems:"center",border:"detail-themed",radius:12,padding:20,gap:16,as:"a",href:Hc(t),target:"_blank","data-component-name":"CommunityChatEmbed"},(0,e.h)(rs,{size:"xl",imageUrl:(0,G.imginary)(r.author_photo_url),border:!0}),(0,e.h)(de.tu,{gap:4,alignItems:"center"},(0,e.h)(M.xv.H3,{translated:!0,as:"div",color:"pub-primary-text"},"Join ",I18N.p(r.author_name),"\u2019s subscriber chat"),(0,e.h)(M.xv.B4,{translated:!0,color:"pub-secondary-text"},"Available in the Substack app and on web")),(0,e.h)(de.tu,{alignSelf:"stretch"},(0,e.h)(Be.zx,{priority:"primary-theme",href:Hc(t)},o("Join chat"))))}function dC({pub:r,subdomain:t}){const{iString:o}=(0,A.M1)();return(0,e.h)("a",{className:fi.emailWrapper,href:Hc(t),"data-component-name":"EmailCommunityChatEmbed"},(0,e.h)("div",{className:fi.container},(0,e.h)(Rn.NS,{size:64,src:(0,G.imginary)(r.author_photo_url),framed:!0}),(0,e.h)("div",{className:fi.text},(0,e.h)(M.xv.H3,{translated:!0,className:fi.title,as:"div",color:"pub-primary-text"},"Join ",I18N.p(r.author_name),"\u2019s subscriber chat"),(0,e.h)(M.xv.B4,{translated:!0,color:"pub-secondary-text"},"Available in the Substack app and on web")),(0,e.h)(Rn.Bj,{tableClassName:fi.button},o("Join chat"))))}function Hc(r){return(0,G.getPublicationChatAppLinkUrl)({pubKey:r,utm_source:"chat_embed"})}const yl={bubbleStack:"frontend-community-EmailCommunityPostView-module__bubbleStack--WvrT_",bubble:"frontend-community-EmailCommunityPostView-module__bubble--QZBFA",img:"frontend-community-EmailCommunityPostView-module__img--sDJg2",linkImg:"frontend-community-EmailCommunityPostView-module__linkImg--k71Si",paywallBubble:"frontend-community-EmailCommunityPostView-module__paywallBubble--fIVSc frontend-community-EmailCommunityPostView-module__bubble--QZBFA"};var fC=Object.defineProperty,Oh=Object.getOwnPropertySymbols,pC=Object.prototype.hasOwnProperty,hC=Object.prototype.propertyIsEnumerable,Ch=(r,t,o)=>t in r?fC(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,mC=(r,t)=>{for(var o in t||(t={}))pC.call(t,o)&&Ch(r,o,t[o]);if(Oh)for(var o of Oh(t))hC.call(t,o)&&Ch(r,o,t[o]);return r};function _C({communityPost:r,is_freemail:t,author:o,cta:a,withAttribution:f,attributionText:L,hideReply:k,truncateBodyAt:U}){var B;const q=!r||t&&r.audience==="only_paid";let pe=null;return!q&&r.body&&(pe=U?(0,Ne.truncateText)(r.body,U):r.body),(0,e.h)(Rn.zK,{gap:12,verticalAlign:"top"},(0,e.h)(Rn.NS,{src:(B=o==null?void 0:o.photo_url)!=null?B:"",size:40}),(0,e.h)(Rn.i$,{gap:4,style:{lineHeight:0}},f&&(0,e.h)(kc,{isStatic:!0,text:L||`From ${o!=null&&o.name?(0,Ne.possessive)(o.name):"Substack user"} subscriber chat`}),q?(0,e.h)(gC,null):[r.type==="media"&&r.media_assets?r.media_assets.slice(0,1).map(ge=>(0,e.h)(vC,{key:ge.url,asset:ge})):r.type==="link"&&(0,e.h)(yC,{communityPost:r}),pe&&(0,e.h)(Vc,null,(0,e.h)("span",null,(0,e.h)(M.Zx,{weight:"bold"},o?o.name:"Substack writer")," ",pe))],!k&&(0,e.h)(Vc,null,(0,e.h)(Rn.YF,null,(0,e.h)("tr",null,(0,e.h)("td",{align:"left"},(0,e.h)(M.Zx,{color:"secondary"},"Reply...")),(0,e.h)("td",{align:"right"},(0,e.h)(Gi.Z,{size:20,stroke:"var(--color-secondary}"}))))),a&&(0,e.h)(Rn.b9,{fullWidth:!0,href:a.url},a.text),a&&a.blurb&&(0,e.h)("div",null,(0,e.h)(M.xv,{color:"secondary",align:"center",size:14,lineHeight:20},a.blurb))))}function Vc(r){return(0,e.h)("div",mC({className:yl.bubble},r))}function gC(){return(0,e.h)("div",{className:yl.paywallBubble,style:{backgroundImage:`url(${(0,G.imginary)("/img/community/paywall-pixels-light.png")})`}},(0,e.h)(M.xv.Meta,null,"SUBSCRIBERS ONLY"))}function vC({asset:r}){return(0,e.h)("img",{className:yl.img,width:400,src:(0,G.imginary)(r.url,400*2,{crop:"limit",height:400*2})})}function yC({communityPost:r}){var t,o;const{link_metadata:a,link_url:f}=r,L=(o=(t=a==null?void 0:a.url)!=null?t:f)!=null?o:"";let k;try{const U=new URL(L);k=`${U.host}${U.pathname}${U.search}${U.hash}`}catch(U){k=L}return(0,e.h)(Vc,null,(0,e.h)(Rn.YF,{style:{width:"400px"}},(0,e.h)("tr",null,(0,e.h)("td",{align:"left",style:{verticalAlign:"top"}},(a==null?void 0:a.title)&&(0,e.h)(M.xv,{font:"serif",lineHeight:24},a.title),(0,e.h)(M.xv.Meta,{color:"secondary"},k)),(0,e.h)("td",{width:"16"}),(0,e.h)("td",{align:"right"},(a==null?void 0:a.image)&&(0,e.h)("img",{className:yl.linkImg,src:(0,G.imginary)(a.image,72*2,{height:72*2,smartCrop:!0})})))))}function zF({utm_campaign:r,utm_source:t,style:o}){const a="Chat is a place to hang out with your favorite writers. Every week we\u2019ll send a roundup of Chats you missed from writers you subscribe to.",f=getGlobalAccountSettingsUrl({utm_source:t,section:"notifications",highlightNotification:null}),L=getChatAppLinkUrl({utm_source:t,utm_campaign:r});return h(Box,{padding:12,border:"detail",bg:"secondary",radius:12,style:o},h(Text.H3,null,"Why am I getting this?"),h(Text.B4,{size:14,color:"secondary",style:{marginTop:8}},a,h("br",null),h("br",null),"You can change your notification settings on web ",h("a",{href:f}," here"),"."),h(EmailHStack,{gap:8,style:{marginTop:20}},h(ThemedEmailButtonMod,{priority:"primary",href:L},"Open App"),h(ThemedEmailButtonMod,{priority:"secondary",href:f},"Visit Settings")))}const $c={container:"frontend-community-CommunityPostEmbed-module__container--PgwcB",emailWrapper:"frontend-community-CommunityPostEmbed-module__emailWrapper--HkNYU"};var PC=Object.defineProperty,bC=Object.defineProperties,EC=Object.getOwnPropertyDescriptors,wh=Object.getOwnPropertySymbols,OC=Object.prototype.hasOwnProperty,CC=Object.prototype.propertyIsEnumerable,Sh=(r,t,o)=>t in r?PC(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,wC=(r,t)=>{for(var o in t||(t={}))OC.call(t,o)&&Sh(r,o,t[o]);if(wh)for(var o of wh(t))CC.call(t,o)&&Sh(r,o,t[o]);return r},SC=(r,t)=>bC(r,EC(t));function IC({postId:r}){var t;const{error:o,result:a}=(0,Ze.ib)({pathname:`/api/v1/community/posts/${r}`,auto:!0,deps:[r]}),f=o instanceof Ze.kp&&o.response.status===402&&((t=o.body)==null?void 0:t.status)==="PAID_SUBSCRIPTION_REQUIRED"?o.body:null;return(0,e.h)(de.hs,{as:"a",className:$c.container,target:"_blank",href:(0,G.getCommunityPostAppLinkUrl)({postId:r,utm_source:"thread_embed"}),"data-component-name":"CommunityPostEmbed"},f?(0,e.h)(Rc,{author:f.user}):o?"Error":a&&(0,e.h)(nh,{author:a.user,communityPost:a.communityPost,withAttribution:!0,isReadOnly:!0}))}function TC(r){const{postId:t}=r;return(0,e.h)("a",{className:$c.emailWrapper,href:(0,G.getCommunityPostAppLinkUrl)({postId:t,utm_source:"thread_embed",modal:"1"}),"data-component-name":"EmailCommunityPostEmbed"},(0,e.h)("div",{className:$c.container},(0,e.h)(_C,SC(wC({},r),{withAttribution:!0}))))}var pi=Ke(31517),Ih=Ke(26240),Th=Ke(65024),DC=Ke(52543),Pl=Ke(50670),MC=Ke(95406),Dh=Ke(6742),Mh=Ke(41474),Ah=Ke(55687);const Zc={container:"frontend-feed-CommentEmbed-module__container--IBfEM",note:"frontend-feed-CommentEmbed-module__note--NPgVz"};function AC({commentId:r}){const{isLoading:t,error:o,result:a}=(0,Ze.ib)({pathname:`/api/v1/reader/comment/${r}`,auto:!0,deps:[r]});return o instanceof Ze.kp?o.getMessage():!a||t?(0,e.h)(NC,null):(0,e.h)(LC,{feedItem:a.item})}function LC({feedItem:r}){var t,o,a,f,L;const{comment:k,parentComments:U}=r,{truncatedBodyJson:B}=(0,MC.Z)(k),q=U[U.length-1],pe=(t=k.attachments)==null?void 0:t.find(Ee=>Ee.type!=="image"),ge=(o=k.attachments)==null?void 0:o.filter(Ee=>Ee.type==="image"),Pe=(0,n.sO)(null);return(0,Dh.UM)(Pe,()=>(0,Mh.zi)(r,"post-embed"),{threshold:.2}),(0,e.h)(de.tu,{justifyContent:"center",alignItems:"center",paddingX:20,className:Zc.container},(0,e.h)(rl.h,null,(0,e.h)(de.hs,{as:"a",target:"_blank",href:(0,G.getFeedCommentUrl)(k),gap:12,border:"detail",bg:"elevated",radius:12,padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},className:Zc.note,ref:Pe},(0,e.h)(de.hs,{flex:"auto"},(0,e.h)(Pl.Zb,{user:k})),(0,e.h)(de.tu,{minWidth:0,gap:8,flex:"grow"},(0,e.h)(de.tu,{minWidth:0,flex:"grow"},(0,e.h)(Pl.KF,null,(0,e.h)(M.Zx,{weight:"semibold"},k.name),(0,e.h)(Dn.o,{tier:k.user_bestseller_tier}),(0,e.h)(Pl.Ku,{timestamp:k.date})),q&&(0,e.h)(M.xv.Detail,null,"Replying to ",q.name),(0,e.h)(de.tu,{gap:12,flex:"grow"},(0,e.h)(Pl.sP,null,B&&(0,e.h)(DC.x,{content:B})),(0,e.h)(Th.y,{attachments:pe?[pe]:ge||[],readOnly:!0,onAttachmentClick:({commentId:Ee}={})=>(0,Mh.rw)(r,"post-embed","attachment",{extraEventProps:{commentId:Ee}}),utm_content:r.entity_key}))),(0,e.h)(de.hs,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(bl,{icon:(0,e.h)(vc.Z,{height:16,fill:"none",strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(a=k.reaction_count)!=null?a:0}),(0,e.h)(bl,{icon:(0,e.h)(Ih.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(f=k.children_count)!=null?f:0}),(0,e.h)(bl,{icon:(0,e.h)(pi.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(L=k.restacks)!=null?L:0}),(0,e.h)(bl,{icon:(0,e.h)(ol.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:0}))))))}function bl({icon:r,count:t}){return(0,e.h)(de.hs,{gap:8,paddingTop:6,flex:"grow",alignItems:"center"},r,(0,e.h)(M.xv.Digit,{color:"secondary"},t>0&&(0,Ah.u)(t)))}function NC(){return(0,e.h)(rl.h,null,(0,e.h)(de.tu,{justifyContent:"center",alignItems:"center",paddingX:20,style:{margin:"20px 0"},"data-component-name":"CommentViewPlacehodder"},(0,e.h)(de.hs,{gap:12,border:"detail",bg:"primary",radius:12,padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},flex:"grow",className:Zc.note},(0,e.h)(Wo.Vm,{type:"circle",size:48}),(0,e.h)(de.tu,{gap:12,flex:"grow"},(0,e.h)(Wo.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Wo.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Wo.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Wo.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`})))))}var xC=Object.defineProperty,RC=Object.defineProperties,BC=Object.getOwnPropertyDescriptors,Lh=Object.getOwnPropertySymbols,UC=Object.prototype.hasOwnProperty,kC=Object.prototype.propertyIsEnumerable,Nh=(r,t,o)=>t in r?xC(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,FC=(r,t)=>{for(var o in t||(t={}))UC.call(t,o)&&Nh(r,o,t[o]);if(Lh)for(var o of Lh(t))kC.call(t,o)&&Nh(r,o,t[o]);return r},WC=(r,t)=>RC(r,BC(t));const jC=r=>(0,e.h)(Je.l,WC(FC({},r),{name:"MoreIcon",svgParams:{height:24,width:24,fill:r.fill,stroke:r.stroke,strokeWidth:r.strokeWidth}}),(0,e.h)("path",{d:"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z"}),(0,e.h)("path",{d:"M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z"}),(0,e.h)("path",{d:"M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z"}));var hi=Ke(84606);const KC={note:"frontend-feed-EmailFeedItem-module__note--vNa7N"};function JF({item:r,utmSource:t,hideUfi:o}){const{comment:a}=r;return h(xh,{comment:a,utmSource:t,hideUfi:o})}function xh({comment:r,utmSource:t,hideUfi:o,commentLinkUrl:a}){var f,L,k,U,B,q,pe,ge;if(!r)return(0,e.h)(M.xv.B3,{"data-component-name":"EmailCommentEmbedError"},"Could not load comment");const Pe=(f=r.attachments)==null?void 0:f.find(Fe=>Fe.type==="image"),Ee=(L=r.attachments)==null?void 0:L.find(Fe=>Fe.type==="post"),Me=Ee==null?void 0:Ee.postSelection,De=(k=r.attachments)==null?void 0:k.find(Fe=>Fe.type!=="image"),Ue=De&&(0,Th.k)(De);return(0,e.h)(hi.xu,{as:"a",href:a!=null?a:(0,G.getFeedCommentUrl)(r,{urlParams:{utm_source:t}}),padding:16,radius:12,border:"detail",className:KC.note,"data-component-name":"EmailCommentEmbed"},(0,e.h)(Rn.zK,{style:{width:"100%"},verticalAlign:"top",gap:12,growLastChild:!0},(0,e.h)(Rn.NS,{src:(B=r.photo_url)!=null?B:(0,g.getDefaultUserPhotoById)((U=r.user_id)!=null?U:0),size:48}),(0,e.h)(Rn.i$,{gap:12,style:{lineHeight:0,width:"100%"}},(0,e.h)(hi.xu,null,(0,e.h)(M.xv.B3,null,(0,e.h)(M.Zx,{weight:"semibold"},r.name)," ",(0,e.h)(M.Zx,{color:"secondary"},sn()(r.date).fromNowShort())),(0,e.h)(M.xv.B3,null,(0,Ne.truncateWords)(r.body,420))),Ee&&Me&&(0,e.h)(M.xv.B3,null,(0,e.h)(HC,{attachment:Ee,selection:Me})),Ue&&!Ee&&(0,e.h)(M.xv.B4,{color:"accent-blue"},Ue),Pe&&(0,e.h)(VC,{attachment:Pe}),!o&&(0,e.h)(Rn.YF,{width:"100%",style:{width:"100%"}},(0,e.h)("tr",null,(0,e.h)("td",{width:"20%"},(0,e.h)(vc.Z,{width:16,height:16,strokeWidth:1.5,stroke:ss,style:El,fill:"none",isStatic:!0}),(0,e.h)(Gc,{count:(q=r.reaction_count)!=null?q:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(Ih.Z,{height:16,width:16,strokeWidth:1.5,stroke:ss,style:El,isStatic:!0}),(0,e.h)(Gc,{count:(pe=r.children_count)!=null?pe:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(pi.Z,{height:16,width:16,strokeWidth:1.5,stroke:ss,style:El,isStatic:!0}),(0,e.h)(Gc,{count:(ge=r.restacks)!=null?ge:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(jC,{height:16,width:16,strokeWidth:2,stroke:ss,fill:ss,style:El,isStatic:!0})))))))}const El={display:"inline-block",verticalAlign:"middle"};function Gc({count:r}){return(0,e.h)(M.xv.B4,{size:12,as:"span",weight:"semibold",color:"secondary",style:{marginLeft:4}},r>0?(0,Ah.u)(r):" ")}const ss="#808080";function HC({attachment:r,selection:t}){return(0,e.h)(hi.xu,{padding:12,radius:12,bg:"secondary"},(0,e.h)(M.xv,{color:"secondary",font:"serif",fontStyle:"italic",lineHeight:24},(0,Ne.truncateWords)(t.text.replaceAll("\u201C","\u2018").replaceAll("\u201D","\u2019"),180),"\u201D \u2014 ",(0,dn.getPostAuthor)(r.publication,r.post).name))}function VC({attachment:r}){return(0,e.h)(hi.xu,{as:"img",src:(0,G.imginary)(r.imageUrl,400*2,{crop:"limit",height:400*2}),width:400,radius:12,style:{maxHeight:600,objectFit:"cover",margin:0}})}const $C=(0,mn.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),mi={avatar:"frontend-main-meetings-Embed-module__avatar--I1maB",badge:"frontend-main-meetings-Embed-module__badge--wg1nn",container:"frontend-main-meetings-Embed-module__container--Gbf2M",header:"frontend-main-meetings-Embed-module__header--U1aau",emailButton:"frontend-main-meetings-Embed-module__emailButton--_wEaP",cta:"frontend-main-meetings-Embed-module__cta--AKskK"},ZC=({avatarUrl:r,name:t,url:o})=>{const{iString:a}=(0,A.M1)();return(0,e.h)(Rn.i$,{gap:12,style:{padding:"16px",border:"1px solid #E0E0E0",borderRadius:"8px",margin:"0 auto 20px"}},(0,e.h)(Rn.zK,{gap:12},(0,e.h)(Rn.NS,{src:r,size:40}),(0,e.h)(Rn.i$,null,(0,e.h)(M.xv.H4,{translated:!0,size:14,paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",I18N.p(t)),(0,e.h)(M.xv.B4,{translated:!0,color:"pub-secondary-text"},"Schedule a meeting"))),(0,e.h)(Rn.Bj,{tableClassName:mi.emailButton,href:o},a("Book meeting")))},GC=({avatarUrl:r,name:t,url:o})=>{const{iString:a}=(0,A.M1)();return(0,e.h)(de.hs,{direction:{mobile:"column",desktop:"row"},radius:12,padding:24,alignItems:"center",className:mi.container,justifyContent:"space-between","data-component-name":"MeetingEmbed"},(0,e.h)(de.gq,{className:mi.header,gap:16,paddingBottom:{mobile:20,desktop:0}},(0,e.h)(rs,{className:mi.avatar,imageUrl:r,size:"lg",badge:(0,e.h)("div",{className:mi.badge},(0,e.h)($C,{color:"white",size:12})),badgePosition:"bottom-right"}),(0,e.h)("div",null,(0,e.h)(M.xv.H4,{translated:!0,paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",I18N.p(t)),(0,e.h)(M.xv.B4,{translated:!0,color:"pub-secondary-text"},"Schedule a meeting"))),(0,e.h)(Be.zx,{className:mi.cta,priority:"primary-theme",onClick:()=>{(0,i.redirect)(o,{newTab:!0})}},a("Book meeting")))};var sa=Ke(58592),zC=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const YC=r=>parseFloat(r).toFixed(2),JC=({symbol:r,prependSymbol:t=!1,isStatic:o=!1})=>{const a=`/api/v1/price/${r}`,[f,L]=(0,n.eJ)(null),[k,U]=(0,n.eJ)(null),[B,q]=(0,n.eJ)(!1);return(0,n.d4)(()=>{(()=>zC(void 0,null,function*(){try{const ge=yield et().get(a);if(ge.body){if(ge.body.status==="not_found"){q(!0);return}L(ge.body.price),U(ge.body.change_pct)}}catch(ge){q(!0)}}))()},[a]),!t&&r.startsWith("$")&&(r=r.slice(1)),o?(0,e.h)("span",null,(0,e.h)("a",{"data-component-name":"CashtagStatic",href:`${(0,g.getStockLandingUrl)(r)}`},r," ")):B?(0,e.h)("span",null,r," "):(0,e.h)("a",{className:u()("cashtag",{neutral:k==0,positive:k&&parseFloat(k)>0,negative:k&&parseFloat(k)<0}),target:"_blank",rel:"noopener",href:`${(0,g.getStockLandingUrl)(r)}`,"data-attrs":JSON.stringify({symbol:r}),"data-component-name":"Cashtag"},`${r.toUpperCase()} `,(0,e.h)("span",null,(0,e.h)("span",null,(0,e.h)("span",{className:u()("delta")},`${YC(k||0)}%`,!k||parseFloat(k)>0?String.fromCharCode(8593):String.fromCharCode(8595)))))},XC=({href:r,children:t})=>r?(0,e.h)("a",{href:r,target:"_blank",rel:"noopener",style:{textDecoration:"none"}},t):t,_o={mediaNodeView:"frontend-components-document_body-image3-Image3-module__mediaNodeView--rijH5","align-left":"frontend-components-document_body-image3-Image3-module__align-left--JsrTP","align-center":"frontend-components-document_body-image3-Image3-module__align-center--kADok","align-right":"frontend-components-document_body-image3-Image3-module__align-right--SJAgQ",staticView:"frontend-components-document_body-image3-Image3-module__staticView--E5km_",staticImageWrap:"frontend-components-document_body-image3-Image3-module__staticImageWrap--g566A",left:"frontend-components-document_body-image3-Image3-module__left--CzulB",right:"frontend-components-document_body-image3-Image3-module__right--ru3Z2",imageContainer:"frontend-components-document_body-image3-Image3-module__imageContainer--CwR5q",large:"frontend-components-document_body-image3-Image3-module__large--jyLyc",full:"frontend-components-document_body-image3-Image3-module__full--H9NKo",caption:"frontend-components-document_body-image3-Image3-module__caption--C2TrT",static:"frontend-components-document_body-image3-Image3-module__static--OsmFP",horizontalResizeHandle:"frontend-components-document_body-image3-Image3-module__horizontalResizeHandle--bEUFj",mediaControlButtons:"frontend-components-document_body-image3-Image3-module__mediaControlButtons--lVxEL",inlineCaptionEditor:"frontend-components-document_body-image3-Image3-module__inlineCaptionEditor--vOSDN",active:"frontend-components-document_body-image3-Image3-module__active--bsRqv",captionEditor:"frontend-components-document_body-image3-Image3-module__captionEditor--fu4ZT",captionContent:"frontend-components-document_body-image3-Image3-module__captionContent--uVtTa",hasCaption:"frontend-components-document_body-image3-Image3-module__hasCaption--Osk42",zoom:"frontend-components-document_body-image3-Image3-module__zoom--ZILtz",pointer:"frontend-components-document_body-image3-Image3-module__pointer--u_ynD"},QC=({align:r,width:t})=>{const o={};if(r==="center"||t==="100%"||t>=g.EMAIL_CONTENT_WIDTH)return o;const a=r==="left"?"paddingRight":"paddingLeft";return o[a]=g.EMAIL_CONTENT_WIDTH-t,o},qC=({src:r,alt:t,title:o,width:a,height:f,align:L,href:k})=>{const U=a==="100%"?g.EMAIL_CONTENT_WIDTH:a;return(0,e.h)("div",{className:u()(_o.staticView),"data-component-name":"Image3Static"},(0,e.h)(XC,{href:k},(0,e.h)("div",{style:QC({align:L,width:a}),className:u()(_o.staticImageWrap)},(0,e.h)("img",{width:U,height:f,src:(0,g.imginary)(r,2*g.EMAIL_CONTENT_WIDTH),alt:t}),o&&(0,e.h)("div",{className:u()(_o.caption,_o.static)},o))))};var zc=Ke(55661);const ew=({src:r,alt:t,title:o,width:a,size:f,align:L,href:k})=>{const U=(0,ll.hasCustomThemeContext)("post"),B=k||(U?r:null),[q,pe]=(0,n.eJ)(!1),[ge,Pe]=(0,n.eJ)(0),Ee=(0,n.sO)(null),Me=()=>{Ee.current&&(Ee.current.onload=()=>{Pe(Ee.current.naturalWidth/Ee.current.naturalHeight)})};(0,n.d4)(()=>{Me()});const De=()=>{k?window.open(k,"_blank"):U&&B?window.open(B,"_blank"):pe(!0)},Ue=()=>{switch(f){case"large":return g.LARGE_IMAGE_WIDTH;case"full":return typeof window!="undefined"?window.innerWidth:g.MAX_REASONABLE_SCREEN_WIDTH;default:return a==="100%"?g.WEB_CONTENT_WIDTH:a}};return(0,e.h)("figure",{className:u()(_o.mediaNodeView,L&&_o[`align-${L}`||""]),"data-component-name":"Image3Dynamic"},(0,e.h)(de.gq,{className:u()(_o.imageContainer,_o[f],{[_o.pointer]:B,[_o.zoom]:!B}),onClick:De},(0,e.h)(de.tu,{gap:8},(0,e.h)(dt.e,{className:_o[f],src:r,alt:t,title:o,maxWidth:2*Ue(),imageRef:Ee,useRetinaSizing:!0}),o&&(0,e.h)("figcaption",{className:_o.caption},o))),(0,e.h)(zc.ImageViewerModal,{showModal:q,modalContent:[{attrs:{src:r,alt:t,title:o}}],onClose:()=>pe(!1),step:0}))},Qr={imageGallery:"frontend-components-ImageGallery-module__imageGallery--shoTe",static:"frontend-components-ImageGallery-module__static--gQ9AX",canEdit:"frontend-components-ImageGallery-module__canEdit--XIs4R",editGalleryWrap:"frontend-components-ImageGallery-module__editGalleryWrap--eipH6",editGallery:"frontend-components-ImageGallery-module__editGallery--pSUAH",imageCaption:"frontend-components-ImageGallery-module__imageCaption--JESLj",image:"frontend-components-ImageGallery-module__image--g2yvp",zoom:"frontend-components-ImageGallery-module__zoom--eQKQQ",imageRow:"frontend-components-ImageGallery-module__imageRow--RFMqP","length-2":"frontend-components-ImageGallery-module__length-2--F3EXK",inbox:"frontend-components-ImageGallery-module__inbox--uMAJy",imageGalleryWrap:"frontend-components-ImageGallery-module__imageGalleryWrap--OpzQK",imageWrap:"frontend-components-ImageGallery-module__imageWrap--odWNd",small:"frontend-components-ImageGallery-module__small--Muz63",medium:"frontend-components-ImageGallery-module__medium--uFsr6"};var tw=Object.defineProperty,nw=Object.defineProperties,rw=Object.getOwnPropertyDescriptors,Rh=Object.getOwnPropertySymbols,ow=Object.prototype.hasOwnProperty,aw=Object.prototype.propertyIsEnumerable,Bh=(r,t,o)=>t in r?tw(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,iw=(r,t)=>{for(var o in t||(t={}))ow.call(t,o)&&Bh(r,o,t[o]);if(Rh)for(var o of Rh(t))aw.call(t,o)&&Bh(r,o,t[o]);return r},sw=(r,t)=>nw(r,rw(t));const Uh=(r,t)=>t===1?"large":t===2||t===4?"medium":t%3===0?"small":t===5||t===7?r<=2?"small":"medium":r<=5?"small":"medium",kh={small:237,medium:360,large:728},Fh=({src:r,size:t,onSelectImage:o,useViewer:a=!1,alt:f})=>{const L=()=>{a&&o()};return(0,e.h)(dt.e,{src:r,alt:f,maxWidth:2*kh[t],className:u()(Qr.image,Qr[t],a&&Qr.zoom),onClick:L})},lw=(r,t="",o="")=>{const a=[];for(const f in r){const L=r[f],{height:k=0,width:U=0}=(0,G.extractDimensionsFromImageUrl)(L.src)||{},B=`(${Number(f)+1} of ${r.length})`,q={src:L.src,height:k,width:U,alt:`${o} ${B}`,title:`${t} ${B}`};a.push({attrs:q})}return a},uw=({onEditGallery:r,editGalleryRef:t})=>(0,e.h)(de.hs,{justifyContent:"center",alignItems:"center",className:Qr.editGalleryWrap},(0,e.h)(bo.Fx,{ref:t,noList:!0},(0,e.h)(de.tu,{onClick:r,justifyContent:"center",alignItems:"center",className:Qr.editGallery},(0,e.h)(di.Z,{height:20})))),cw=({node:r,editor:t})=>{const{gallery:o}=r.attrs,a=r.attrs.isEditor||t,{caption:f,alt:L}=o,k=o.images.map((st,nt)=>sw(iw({},st),{idx:nt})),U=typeof window!="undefined"&&!window.location.pathname.startsWith("/publish"),[B,q]=(0,n.eJ)(!1),[pe,ge]=(0,n.eJ)(0),Pe=(0,n.sO)(null),Ee=k.length===1,Me=lw(k,f),De=st=>{ge(st),q(!0)},Ue=()=>{document.dispatchEvent(new Event("editSelectedImageGallery"))};if(k.length===0)return null;const Fe=st=>{var nt,at;a&&(st?(nt=Pe.current)==null||nt.open():(at=Pe.current)==null||at.close())},Ye=Wh(k);return(0,e.h)("figure",{className:u()(Qr.imageGallery,a&&Qr.canEdit),onMouseEnter:()=>Fe(!0),onMouseLeave:()=>Fe(!1),"data-drag-handle":!0,"data-component-name":"ImageGallery"},a&&o&&(0,e.h)(uw,{onEditGallery:Ue,editGalleryRef:Pe}),(0,e.h)(de.tu,{gap:8},Ee?(0,e.h)(Fh,{src:k[0].src,alt:L,caption:f,size:Uh(0,1),onSelectImage:()=>De(0),useViewer:U}):Ye.map(st=>(0,e.h)(de.hs,{className:u()(Qr.imageRow,Qr[`length-${st.length}`]),gap:8},st.map(nt=>(0,e.h)(Fh,{src:nt.src,alt:L,caption:f,size:Uh(nt.idx,k.length),onSelectImage:()=>De(nt.idx),useViewer:U})))),f&&(0,e.h)("figcaption",{className:Qr.imageCaption},f)),(0,e.h)(zc.ImageViewerModal,{showModal:B,modalContent:Me,onClose:()=>q(!1),step:pe}))},dw=({node:r})=>{const{gallery:t}=r.attrs;if(!t)return null;const{alt:o,staticGalleryImage:a,caption:f}=t;return a?(0,e.h)("div",{className:u()(Qr.static,Qr.imageGallery),"data-component-name":"ImageGalleryStatic"},(0,e.h)("img",{src:(0,G.imginary)(a.src,2*kh.large),alt:o}),f&&(0,e.h)("div",{className:u()(Qr.imageCaption,Qr.static)},f)):null};function Wh(r){const t=r.length===4?2:3;let o=[r.slice(0,t)];const a=r.slice(t);return a.length>0&&(o=o.concat(Wh(a))),o}var Ba=(r=>(r.CompOneMonth="comp_one_month",r.CompThreeMonths="comp_three_months",r.CompSixMonths="comp_six_months",r.CompNineMonths="comp_nine_months",r.CompTwelveMonths="comp_twelve_months",r.Custom="custom",r))(Ba||{});const fw={comp_one_month:"1 month comp",comp_three_months:"3 month comp",comp_six_months:"6 month comp",comp_nine_months:"9 month comp",comp_twelve_months:"12 month comp",custom:"Custom"},QF={comp_one_month:30,comp_three_months:90,comp_six_months:180,comp_nine_months:270,comp_twelve_months:365};var pw=Object.defineProperty,hw=Object.defineProperties,mw=Object.getOwnPropertyDescriptors,jh=Object.getOwnPropertySymbols,_w=Object.prototype.hasOwnProperty,gw=Object.prototype.propertyIsEnumerable,Kh=(r,t,o)=>t in r?pw(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,vw=(r,t)=>{for(var o in t||(t={}))_w.call(t,o)&&Kh(r,o,t[o]);if(jh)for(var o of jh(t))gw.call(t,o)&&Kh(r,o,t[o]);return r},yw=(r,t)=>hw(r,mw(t));const Hh=r=>(0,e.h)(Je.l,yw(vw({strokeLinecap:"round",strokeLinejoin:"round"},r),{name:"LucideStarIcon",svgParams:{height:24,width:24}}),(0,e.h)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}));var la=Ke(81671);const Pw={referralsTierCard:"frontend-components-referrals-ReferralsTierCard-module__referralsTierCard--fLx1c"};var bw=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const Ew=({tierNumber:r,rewardDescription:t,numReferralsRequired:o,pub:a})=>{const[f,L]=(0,n.eJ)([]),k=()=>bw(void 0,null,function*(){const{body:ge}=yield et().get("/api/v1/reader_referrals/tiers");L(ge.tiers)}),{iString:U}=(0,A.M1)();if((0,n.d4)(()=>{k()},[]),!r||!t||!a.id)return(0,e.h)("div",{"data-component-name":"ReferralsTierCardError"});const B=f[r-1],q=B?B.reward_type==="custom"?B.reward_description:U(fw[B.reward_type]):t,pe=B?B.num_referrals_required:o;return pe?(0,e.h)(de.tu,{"data-component-name":"ReferralsTierCard",className:"milestone-tier-card",justifyContent:"start",border:"detail-themed",radius:12,padding:20,gap:16,target:"_blank"},(0,e.h)("div",{className:"tier-stars-container"},Array(r).fill(0).map((ge,Pe)=>(0,e.h)(Hh,{width:20,height:20,strokeWidth:2,stroke:a.theme_var_background_pop||"#FF6719",fill:a.theme_var_background_pop||"#FF6719",key:Pe}))),(0,e.h)(de.tu,{gap:4},(0,e.h)(M.xv.H4,null,q),(0,e.h)(M.xv.Meta,{translated:!0},"Tier ",I18N.p(r)," reward - ",I18N.p(pe)," Referrals")),(0,e.h)(de.gq,{alignItems:"center"},(0,e.h)(la.Z,{pub:a,logo_url:a.logo_url,size:24}),(0,e.h)(M.xv.Meta,{color:"primary",as:"a",href:(0,g.getBaseUrl)(a),decoration:"none",weight:"bold"},a.name))):(0,e.h)("div",{"data-component-name":"ReferralsTierCardError"})},Ow=({tierNumber:r,pub:t})=>!r||!t.id?(0,e.h)("div",null):(0,e.h)("a",{href:`${Ir.Substitutions.LEADERBOARD_URL}&utm_source=reward_email`,className:Pw.referralsTierCard},(0,e.h)(Rn.i$,{gap:16},(0,e.h)(Rn.zK,{style:{lineHeight:0},gap:4},Array(r).fill(0).map((o,a)=>(0,e.h)(Hh,{width:20,height:20,strokeWidth:2,key:a,stroke:t.theme_var_background_pop||"#FF6719",fill:t.theme_var_background_pop||"#FF6719",isStatic:!0}))),(0,e.h)(Rn.i$,{gap:4},(0,e.h)(M.xv.H4,null,Ir.Substitutions.REWARD_DESCRIPTION),(0,e.h)(M.xv.Meta,{translated:!0},"Tier ",I18N.p(r)," reward - ",I18N.p(Ir.Substitutions.NUM_REFERRALS_REQUIRED)," Referrals")),(0,e.h)(Rn.zK,{verticalAlign:"middle"},(0,e.h)(la.Z,{isStatic:!0,pub:t,logo_url:t.logo_url,size:24}),(0,e.h)(M.xv.Meta,{color:"primary",as:"a",href:(0,g.getBaseUrl)(t),decoration:"none",weight:"bold"},t.name))));var Cw=Ke(66219),Ua=Ke(25346);const ka={videoEmbed:"frontend-components-video_embed_player-module__videoEmbed--c8Rt0",canEdit:"frontend-components-video_embed_player-module__canEdit--JuBgP",editVideoEmbedWrap:"frontend-components-video_embed_player-module__editVideoEmbedWrap--Leli9",editVideoEmbed:"frontend-components-video_embed_player-module__editVideoEmbed--UVfno",imageGallery:"frontend-components-video_embed_player-module__imageGallery--_vwgz",videoPlaceholder:"frontend-components-video_embed_player-module__videoPlaceholder--Tl9mB",videoScrollTarget:"frontend-components-video_embed_player-module__videoScrollTarget--d5irI"},ww=({mediaUploadId:r,post:t,pub:o,isEditor:a=!1})=>{const[f,L]=(0,n.eJ)(null),k=(0,n.sO)(null),{iString:U}=(0,A.M1)(),B=Ee=>{var Me,De;a&&(Ee?(Me=k.current)==null||Me.open():(De=k.current)==null||De.close())},{mediaUpload:q,loading:pe,error:ge}=(0,Cw.z)({mediaUploadId:r});r&&!f&&q&&L(q);const Pe=(0,n.I4)(()=>{document.dispatchEvent(new Event("editSelectedVideoEmbed"))},[]);return(0,e.h)("div",{"data-component-name":"VideoEmbedPlayer",id:(0,G.getLinkableElementIdForVideo)({mediaUploadId:r}),className:ka.videoScrollTarget},pe?(0,e.h)("div",{className:ka.videoPlaceholder},U("Loading video")):ge||!f?(0,e.h)("div",{className:ka.videoPlaceholder},U("Could not load video.")):(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:u()(ka.videoEmbed,a&&ka.canEdit),onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1)},a&&(0,e.h)(Sw,{onEditVideoEmbed:Pe,menuRef:k}),(0,e.h)(Ua.Z,{mediaUpload:f,isStatic:!1,pub:o}))))},Sw=({onEditVideoEmbed:r,menuRef:t})=>(0,e.h)(de.hs,{justifyContent:"center",alignItems:"center",className:ka.editVideoEmbedWrap},(0,e.h)(bo.Fx,{ref:t,noList:!0},(0,e.h)(de.tu,{onClick:r,justifyContent:"center",alignItems:"center",className:ka.editVideoEmbed},(0,e.h)(di.Z,{height:20}))));var Iw=Ke(91036),Vh=Ke.n(Iw);const Zn={digestPostEmbed:"frontend-components-document_body-digest_post-index-module__digestPostEmbed--sMA_c",menu:"frontend-components-document_body-digest_post-index-module__menu--NYCdz",caption:"frontend-components-document_body-digest_post-index-module__caption--WOwgk",captionEditor:"frontend-components-document_body-digest_post-index-module__captionEditor--Bjh6s",smSquare:"frontend-components-document_body-digest_post-index-module__smSquare--UVy3Q",mdSquare:"frontend-components-document_body-digest_post-index-module__mdSquare--Vjq_V",fullWidth:"frontend-components-document_body-digest_post-index-module__fullWidth--IqMXj",inheritColor:"frontend-components-document_body-digest_post-index-module__inheritColor--nZC_y",link:"frontend-components-document_body-digest_post-index-module__link--_wMsT",disableLink:"frontend-components-document_body-digest_post-index-module__disableLink--wRVkl"};var Tw=Object.defineProperty,Dw=Object.defineProperties,Mw=Object.getOwnPropertyDescriptors,$h=Object.getOwnPropertySymbols,Aw=Object.prototype.hasOwnProperty,Lw=Object.prototype.propertyIsEnumerable,Zh=(r,t,o)=>t in r?Tw(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Nw=(r,t)=>{for(var o in t||(t={}))Aw.call(t,o)&&Zh(r,o,t[o]);if($h)for(var o of $h(t))Lw.call(t,o)&&Zh(r,o,t[o]);return r},xw=(r,t)=>Dw(r,Mw(t));const Ol=r=>{r.stopPropagation()},Rw=({editing:r,caption:t,onFocus:o,onSave:a,onCancel:f})=>{const L=t.replace(/<br\s*\/?>/gi,`
`),[k,U]=(0,n.eJ)(L);return r?(0,e.h)(d.tu,{flex:"grow"},(0,e.h)(d.gx,{name:"description",value:k,onChange:B=>{U(B.target.value)},className:Zn.captionEditor,rows:6,maxLength:5e3,placeholder:"Enter a caption...",onKeyPress:Ol,onKeyDown:Ol,onCopy:Ol,onPaste:Ol}),(0,e.h)(d.hE,{paddingY:8,justifyContent:"end"},(0,e.h)(d.zx,{priority:"secondary-theme",onClick:f},"Cancel"),(0,e.h)(d.zx,{priority:"primary-theme",onClick:()=>{const B=k.replace(/\n/g,"<br>"),q=Vh()(B,xw(Nw({},Vh().defaults),{allowedTags:["br"]}));a(q)}},"Save"))):(0,e.h)("p",{onClick:o,className:Zn.caption,dangerouslySetInnerHTML:{__html:t}})};var Gh=Ke(80131);const Bw=({size:r,onOpen:t,onClose:o,onEditCaption:a,onSetLayout:f,onConvertToLink:L,onConvertToEmbeddedPost:k,onDelete:U})=>{const{iString:B}=(0,A.M1)();return(0,e.h)(d.hs,{className:Zn.menu,justifyContent:"end"},(0,e.h)(qe.v2,{trigger:(0,e.h)(d.hU,{priority:"secondary-theme",rounded:!1,fill:"outline"},(0,e.h)(Pr,{className:Zn.menuIcon,height:20})),onOpen:t,onClose:o,layerOptions:{placement:"bottom-end"}},(0,e.h)(qe.sN,{disabled:r==="sm",onClick:()=>f("sm")},B("Small display")),(0,e.h)(qe.sN,{disabled:r==="md",onClick:()=>f("md")},B("Medium display")),(0,e.h)(qe.sN,{disabled:r==="lg",onClick:()=>f("lg")},B("Large display")),(0,e.h)(Gh.i,null),(r==="lg"||r==="md")&&(0,e.h)(qe.sN,{onClick:a},B("Edit caption")),(0,e.h)(qe.sN,{onClick:()=>k()},B("Convert to default")),(0,e.h)(qe.sN,{onClick:L},B("Convert to link")),(0,e.h)(qe.sN,{priority:"destructive",onClick:U},B("Remove"))))},zh=(0,mn.Z)("ArrowRight",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["polyline",{points:"12 5 19 12 12 19",key:"sfr3i6"}]]),Yc=({post:r,href:t,isEditor:o,includeUfi:a=!1,paddingTop:f=0,paddingBottom:L=0})=>{const k=(0,Jt.aF)(),U=(0,Cc.I)();return(0,e.h)(de.gq,{gap:16,paddingTop:f,paddingBottom:L,alignItems:"center"},a&&U&&k&&r&&(0,e.h)(de.gq,{gap:8,className:"post-ufi"},(0,e.h)(qn.RY,{post:r,pub:U,user:k}),(0,e.h)(qn.L9,{post:r,pub:U}),(0,e.h)(qn.pD,{post:r,pub:U,user:k,style:"button",labelStyle:"cta"})),(0,e.h)(d.xv.Button,{className:u()({[Zn.disableLink]:o}),as:"a",href:t,align:"center"},(0,e.h)(de.gq,{gap:8,alignItems:"center",className:Zn.link},(0,e.h)(d.xv.B4,{color:"pub-accent",weight:"semibold",as:"span",size:14},"Read full story"),(0,e.h)(zh,{size:16}))))},Yh=({href:r,includeUfi:t=!1,paddingTop:o=0,paddingBottom:a=0})=>(0,e.h)(Rn.zK,{gap:16,style:{paddingTop:o,paddingBottom:a}},(0,e.h)(d.xv.Button,{as:"a",href:r,align:"center"},(0,e.h)(Rn.zK,{gap:8},(0,e.h)(d.xv.B4,{color:"pub-accent",as:"span",size:14,className:Zn.link},"Read full story"))));var Jc=Ke(45809);const Xc=({bylines:r,date:t,isEditor:o})=>(0,e.h)(de.gq,{alignItems:"center",gap:4},r!=null&&r.length?(0,e.h)(e.Fragment,null,(0,e.h)(d.xv.Meta,{className:u()({[Zn.disableLink]:o}),color:"pub-secondary-text"},(0,e.h)(Jc.M,{array:r||[],limit:3,formatter:({id:a,name:f})=>(0,e.h)("a",{className:Zn.inheritColor,href:(0,G.getProfileUrlById)(a,f)},f)})),(0,e.h)(d.xv,{color:"pub-secondary-text"},"\xB7")):null,(0,e.h)(d.xv.Meta,{color:"pub-secondary-text"},(0,i.formatPostDate)(t))),Jh=({bylines:r,date:t})=>(0,e.h)(Rn.zK,{gap:4},r!=null&&r.length?(0,e.h)(Rn.zK,{gap:4},(0,e.h)(d.xv.Meta,{color:"pub-secondary-text"},(0,e.h)(Jc.M,{array:r||[],limit:3,formatter:({id:o,name:a})=>(0,e.h)("a",{className:Zn.inheritColor,href:(0,G.getProfileUrlById)(o,a)},a)})),(0,e.h)(d.xv,{color:"pub-secondary-text"},"\xB7")):null,(0,e.h)(d.xv.Meta,{color:"pub-secondary-text"},(0,i.formatPostDate)(t))),Uw=({post:r,isEditor:t,children:o})=>{const{publishedBylines:a,title:f,canonical_url:L,post_date:k,section_name:U,cover_image:B,cover_image_alt:q}=r;return(0,e.h)(de.tu,null,U&&(0,e.h)("a",{href:L,className:u()({[Zn.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(d.xv.Meta,{color:"pub-primary-text",paddingBottom:8},U)),(0,e.h)("a",{href:L,className:u()({[Zn.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(d.xv.H2,{color:"pub-primary-text"},f)),(0,e.h)(Xc,{bylines:a,date:k,isEditor:t}),B&&(0,e.h)(d.xu,{paddingTop:24},(0,e.h)("a",{href:L,className:u()({[Zn.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(dt.e,{className:Zn.fullWidth,src:B,alt:q!=null?q:f,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}}))),(0,e.h)(d.hs,{paddingTop:16,flex:"grow"},t?o:(0,e.h)("a",{href:L,className:u()({[Zn.disableLink]:t}),target:"_blank",rel:"noopener"},o)),(0,e.h)(Yc,{post:r,href:L,includeUfi:!1,isEditor:t}))},Xh=({post:r,children:t})=>{const{publishedBylines:o,title:a,canonical_url:f,post_date:L,section_name:k,cover_image:U,cover_image_alt:B}=r;return(0,e.h)(Rn.i$,null,k&&(0,e.h)("a",{href:f},(0,e.h)(d.xv.Meta,{color:"pub-primary-text",paddingBottom:8},k)),(0,e.h)("a",{href:f},(0,e.h)(d.xv.H2,{color:"pub-primary-text"},a)),(0,e.h)(Jh,{bylines:o,date:L}),U&&(0,e.h)(d.xu,{paddingTop:24},(0,e.h)("a",{href:f},(0,e.h)(dt.e,{className:Zn.fullWidth,src:U,alt:B!=null?B:a,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}}))),(0,e.h)("a",{href:f},(0,e.h)(d.xu,{as:"p"},t)),(0,e.h)(Yh,{href:f}))},kw=({post:r,isEditor:t,children:o})=>{const{publishedBylines:a,title:f,canonical_url:L,post_date:k,section_name:U,cover_image:B,cover_image_alt:q}=r,pe=(0,gn.XA)();return(0,e.h)(de.tu,null,U&&(0,e.h)("a",{href:L,className:u()({[Zn.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(d.xv.Meta,{color:"pub-primary-text",paddingBottom:8},U)),(0,e.h)("a",{href:L,className:u()({[Zn.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(d.xv.H2,{color:"pub-primary-text"},f)),(0,e.h)(Xc,{bylines:a,date:k,isEditor:t}),(0,e.h)(d.hs,{direction:{mobile:"column",desktop:"row"},gap:16,paddingTop:16},B&&(0,e.h)(d.xu,{style:{width:pe?"unset":140}},(0,e.h)("a",{href:L,className:u()({[Zn.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(dt.e,{className:pe?Zn.fullWidth:Zn.mdSquare,src:B,alt:q!=null?q:f,maxWidth:pe?1300:280,imageProps:{height:Math.round(pe?1300:280),smartCrop:!0}}))),(0,e.h)(de.tu,{flex:"grow"},t?o:(0,e.h)("a",{href:L,className:u()({[Zn.disableLink]:t}),target:"_blank",rel:"noopener"},o),(0,e.h)(Yc,{post:r,href:L,isEditor:t}))))},Fw=({post:r,children:t})=>(0,e.h)(Xh,{post:r,children:t}),Ww=({post:r,isEditor:t})=>{const{publishedBylines:o,title:a,canonical_url:f,post_date:L,cover_image:k,cover_image_alt:U}=r;return(0,e.h)("a",{href:f,className:u()({[Zn.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(de.gq,{gap:16},k&&(0,e.h)(d.xu,{style:{width:70,height:70}},(0,e.h)(dt.e,{className:Zn.smSquare,src:k,alt:U!=null?U:a,maxWidth:140,imageProps:{height:Math.round(140),smartCrop:!0}})),(0,e.h)(de.tu,null,(0,e.h)(d.xv.H4,{color:"pub-primary-text"},a),(0,e.h)(Xc,{bylines:o,date:L,isEditor:t}),(0,e.h)(Yc,{post:r,href:f,includeUfi:!1,isEditor:t}))))},jw=({post:r})=>{const{publishedBylines:t,title:o,canonical_url:a,post_date:f,cover_image:L,cover_image_alt:k}=r;return(0,e.h)(Rn.zK,{gap:16},L&&(0,e.h)(d.xu,{style:{width:70}},(0,e.h)("a",{href:a},(0,e.h)(dt.e,{className:Zn.smSquare,src:L,alt:k!=null?k:o,maxWidth:140,imageProps:{height:140,smartCrop:!0}}))),(0,e.h)(Rn.i$,null,(0,e.h)(d.xv.H4,{color:"pub-primary-text"},(0,e.h)("a",{href:a},o)),(0,e.h)(Jh,{bylines:t,date:f}),(0,e.h)(Yh,{href:a})))};var Kw=Object.defineProperty,Qh=Object.getOwnPropertySymbols,Hw=Object.prototype.hasOwnProperty,Vw=Object.prototype.propertyIsEnumerable,qh=(r,t,o)=>t in r?Kw(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,em=(r,t)=>{for(var o in t||(t={}))Hw.call(t,o)&&qh(r,o,t[o]);if(Qh)for(var o of Qh(t))Vw.call(t,o)&&qh(r,o,t[o]);return r};const Cl=r=>{document.dispatchEvent(new CustomEvent("updateDigestPostEmbed",{detail:r,bubbles:!0}))},$w=r=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToLink",{detail:r,bubbles:!0}))},Zw=r=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToEmbeddedPost",{detail:r,bubbles:!0}))},Gw=()=>{document.dispatchEvent(new CustomEvent("deleteDigestPostEmbed",{bubbles:!0}))},zw=({nodeId:r,caption:t,size:o="lg",isEditor:a,title:f,publishedBylines:L,post_date:k,cover_image:U,cover_image_alt:B,canonical_url:q,section_name:pe,id:ge,type:Pe,reaction_count:Ee,comment_count:Me,publication_name:De,publication_logo_url:Ue,editor:Fe,updateAttributes:Ye,deleteNode:st,getPos:nt})=>{const[at,yt]=(0,n.eJ)(!1),[Et,Ct]=(0,n.eJ)(!1),[It,Tt]=(0,n.eJ)(!1),Rt={title:f,publishedBylines:L,post_date:k,cover_image:U,cover_image_alt:B,canonical_url:q,section_name:pe,id:ge,type:Pe,reaction_count:Ee,comment_count:Me,publication_name:De,publication_logo_url:Ue},wt=()=>{Ct(!0),yt(!1),Cl({nodeId:r,shouldDisableDrag:!0})},Qt=(0,e.h)(Rw,{editing:Et,caption:t,onFocus:wt,onSave:jt=>{Ct(!1),Ye?Ye({caption:jt}):Cl({nodeId:r,caption:jt,shouldDisableDrag:!1})},onCancel:()=>{Ct(!1),Cl({nodeId:r,shouldDisableDrag:!1})}});return(0,e.h)("div",{className:u()(Zn.digestPostEmbed),onMouseEnter:()=>!Et&&yt(!0),onMouseLeave:()=>!It&&yt(!1),"data-component-name":"DigestPostEmbed"},(0,e.h)(e.Fragment,null,a&&at&&(0,e.h)(Bw,{size:o,onOpen:()=>Tt(!0),onClose:()=>Tt(!1),onEditCaption:wt,onSetLayout:jt=>{Ye?Ye({size:jt}):Cl(em({nodeId:r,caption:t,size:jt},Rt))},onConvertToEmbeddedPost:()=>{Fe&&nt?Fe.commands.convertDigestPostEmbedToEmbeddedPostV2({pos:nt(),attrs:em({url:q},Rt)}):Zw({url:q})},onConvertToLink:()=>{Fe&&nt?Fe.commands.convertDigestPostEmbedToLinkV2({pos:nt(),url:q}):$w({url:q})},onDelete:()=>{st?st():Gw()}}),o==="sm"&&(0,e.h)(Ww,{post:Rt,isEditor:a}),o==="md"&&(0,e.h)(kw,{post:Rt,isEditor:a},a?Qt:(0,e.h)("p",{className:Zn.caption,dangerouslySetInnerHTML:{__html:t}})),o==="lg"&&(0,e.h)(Uw,{post:Rt,isEditor:a},a?Qt:(0,e.h)("p",{className:Zn.caption,dangerouslySetInnerHTML:{__html:t}}))))};var tm=Ke(14531),nm=Object.getOwnPropertySymbols,Yw=Object.prototype.hasOwnProperty,Jw=Object.prototype.propertyIsEnumerable,Xw=(r,t)=>{var o={};for(var a in r)Yw.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&nm)for(var a of nm(r))t.indexOf(a)<0&&Jw.call(r,a)&&(o[a]=r[a]);return o};const Qw=r=>{var t=r,{caption:o,size:a}=t,f=Xw(t,["caption","size"]);return f?(0,e.h)("div",{className:u()(Zn.digestPostEmbed,tm.A.digestPostEmbed),"data-component-name":"DigestPostEmbedStatic"},a==="sm"&&(0,e.h)(jw,{post:f}),a==="md"&&(0,e.h)(Fw,{post:f},(0,e.h)("p",{className:Zn.caption,dangerouslySetInnerHTML:{__html:o}})),a==="lg"&&(0,e.h)(Xh,{post:f},(0,e.h)("p",{className:Zn.caption,dangerouslySetInnerHTML:{__html:o}}))):null},qw=({mediaUpload:r,post:t,pub:o})=>{if(!r)return(0,e.h)("div",{"data-testid":"video-embed-player-static-missing-media"},"Did not find video");const a=(0,G.getLinkToVideo)({pub:o,post:t,mediaUploadId:r.id});return(0,e.h)(Ua.Z,{mediaUpload:r,isStatic:!0,pub:o,href:a})};var eS=Object.defineProperty,tS=Object.defineProperties,nS=Object.getOwnPropertyDescriptors,rm=Object.getOwnPropertySymbols,rS=Object.prototype.hasOwnProperty,oS=Object.prototype.propertyIsEnumerable,om=(r,t,o)=>t in r?eS(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Ho=(r,t)=>{for(var o in t||(t={}))rS.call(t,o)&&om(r,o,t[o]);if(rm)for(var o of rm(t))oS.call(t,o)&&om(r,o,t[o]);return r},ls=(r,t)=>tS(r,nS(t));const aS=(r,{pub:t,props:{isStatic:o,post:a,dataForEmailRender:f}})=>{var L,k;try{const U=r.getAttribute("data-attrs");if(U){const{mediaUploadId:B}=JSON.parse(Tr()(U));return o?(0,e.h)(qw,{pub:t,post:a,mediaUpload:(k=(L=f.idToMediaUpload)==null?void 0:L[B])!=null?k:null}):(0,e.h)(ww,{pub:t,post:a,mediaUploadId:B})}}catch(U){console.error("Failed to parse video:",U)}return(0,e.h)(e.Fragment,null)},iS=(r,{pub:t,props:{isStatic:o}})=>{try{const a=r.getAttribute("data-attrs");if(a){const f=JSON.parse(Tr()(a));return o?(0,e.h)(Qw,ls(Ho({},f),{isEditor:!1})):(0,e.h)(zw,ls(Ho({},f),{isEditor:!1}))}}catch(a){console.error("Failed to parse digest post embed:",a)}return(0,e.h)(e.Fragment,null)},sS=(r,{pub:t,props:{isStatic:o}})=>{try{const a=r.getAttribute("data-attrs"),f=JSON.parse(Tr()(a));return o?(0,e.h)(Ow,ls(Ho({},f),{pub:t})):(0,e.h)(Ew,ls(Ho({},f),{pub:t}))}catch(a){console.error("Failed to parse referrals card:",a)}return(0,e.h)(e.Fragment,null)},lS=(r,{props:{isStatic:t}})=>{var o;try{const a=r.getAttribute("data-attrs");if(a){const L=(o=JSON.parse(a))!=null?o:{};return t?(0,e.h)(qC,Ho({},L)):(0,e.h)(ew,Ho({},L))}}catch(a){console.error("Failed to parse image3:",a)}return(0,e.h)(e.Fragment,null)},uS=(r,{pub:t,props:{isStatic:o,post:a}})=>{try{const f=r.getAttribute("data-attrs");if(f){const L=JSON.parse(f),U={node:{attrs:ls(Ho({},L),{isEditor:!1})}};return o?(0,e.h)(dw,Ho({},U)):(0,e.h)(cw,Ho({},U))}}catch(f){console.error("Failed to parse image gallery embed:",f)}return(0,e.h)(e.Fragment,null)};var am=Ke(72985),Qc=Ke(46505);function im(r,t){return(0,am.cleanSlug)((0,Ne.truncateText)(r,500,{ellipsis:""}),{allowUnicode:t})}function cS({text:r,post:t,pub:o,offsetTop:a,isAboutPage:f}){const{isStatic:L}=(0,n.qp)(Qc.E),k=im(r,!0),U=im(r,!1),B=(0,Fp.g)();if(!t&&!f||!o||L)return null;const q=f?`${(0,g.getAboutUrl)(o,{addBase:!0})}#\xA7${k}`:`${(0,g.getBaseUrl)(o)}/i/${t.id}/${k}`,pe=ge=>{location!=null&&location.href&&(ge.preventDefault(),(0,P.j)(P.FP.HEADER_ANCHOR_WIDGET_CLICKED,{destination:q}),B(q))};return(0,e.h)("div",{id:`\xA7${k}`,className:u()("header-anchor-widget",{"offset-top":a})},(t==null?void 0:t.id)<66696300&&k!==U&&(0,e.h)("div",{id:`\xA7${U}`}),(0,e.h)("div",{className:"header-anchor-widget-button-container"},(0,e.h)("div",{className:"header-anchor-widget-button",href:q,onClick:pe},(0,e.h)(Ma.Z,{className:"header-anchor-widget-icon",size:20}))))}var dS=Ke(47641),sm;const fS=typeof window!="undefined"?(sm=window._preloads)==null?void 0:sm.freeSignup:!1,lm=(0,e.createContext)(fS);lm.displayName="FreeSignupContext";function pS(){return(0,n.qp)(lm)}var um=Ke(35291),hS=Object.defineProperty,mS=Object.defineProperties,_S=Object.getOwnPropertyDescriptors,cm=Object.getOwnPropertySymbols,gS=Object.prototype.hasOwnProperty,vS=Object.prototype.propertyIsEnumerable,dm=(r,t,o)=>t in r?hS(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,fm=(r,t)=>{for(var o in t||(t={}))gS.call(t,o)&&dm(r,o,t[o]);if(cm)for(var o of cm(t))vS.call(t,o)&&dm(r,o,t[o]);return r},yS=(r,t)=>mS(r,_S(t));class PS extends ct.p{constructor(t,o){var a,f;super(t,o),this.state.email=(f=(a=this.props.user)==null?void 0:a.email)!=null?f:null}onOpen(){(0,P.j)(P.FP.POLL_SIGNUP_DIALOG_PRESENTED,{poll_id:this.props.pollId,post_id:this.props.post.id})}onClose(){(0,P.j)(P.FP.POLL_SIGNUP_DIALOG_CLOSED,{poll_id:this.props.pollId,post_id:this.props.post.id})}renderChildren(){const{pub:t,post:o,user:a,audience:f,pollId:L}=this.props,{email:k}=this.state,U=f==="only_paid"?"paid subscribers":"subscribers";return(0,e.h)("div",null,(0,e.h)("div",{className:"poll-signup-header"},(0,e.h)("div",{className:"poll-signup-title"},`Subscribe to ${t.name} to vote on this poll`),(0,e.h)("div",{className:"poll-signup-audience"},"Only ",U," can vote on this poll.")),(0,e.h)(ce.ZP,{method:"post",action:(0,g.pathWithQuery)("/api/v1/free"),loading:!1,autoLock:!0,onSuccess:B=>{(0,P.IU)(),(0,P.j)(P.FP.POLL_SIGNUP_DIALOG_SUBMITTED,{poll_id:L,post_id:o.id}),t.plans||t.has_recommendations?document.location.href=(0,g.getSubscribeUrl)(this.props.pub,yS(fm(fm({utm_medium:"web",utm_source:"poll-subscribe-modal",utm_content:o&&o.id,just_signed_up:!0,requires_confirmation:B.body.requires_confirmation?"true":""},B.body.subscription_id&&{subscription_id:B.body.subscription_id}),B.body.referral_token&&{referral_token:B.body.referral_token}),{next:(0,g.getPostUrl)(t,o)})):document.location.reload()}},(0,e.h)("div",{className:"poll-signup"},(0,e.h)("input",{placeholder:"Type your email...",type:"email",name:"email","aria-label":"Email",value:k,disabled:!!a.email,tabIndex:0,onChange:B=>{this.setState({email:B.target.value})}}),(0,e.h)("input",{type:"hidden",name:"source",value:"poll-subscribe-modal"})),(0,e.h)("div",{id:"error-container"}),(0,e.h)("button",{className:"button primary",type:"submit"},"Subscribe")),!a.email&&(0,e.h)("div",{className:"poll-signin-prompt"},"Already a subscriber?"," ",(0,e.h)("a",{className:"poll-signin-link",href:(0,g.getSigninUrl)({for_pub:t.subdomain,redirect:(0,g.getPostUrl)(t,o)})},"Sign in")))}}var bS=Ke(30105);function ES(r){if(r.sheet)return r.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===r)return document.styleSheets[t]}function OS(r){var t=document.createElement("style");return t.setAttribute("data-emotion",r.key),r.nonce!==void 0&&t.setAttribute("nonce",r.nonce),t.appendChild(document.createTextNode("")),t}var CS=function(){function r(o){this.isSpeedy=o.speedy===void 0?!0:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.before=null}var t=r.prototype;return t.insert=function(a){if(this.ctr%(this.isSpeedy?65e3:1)===0){var f=OS(this),L;this.tags.length===0?L=this.before:L=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(f,L),this.tags.push(f)}var k=this.tags[this.tags.length-1];if(this.isSpeedy){var U=ES(k);try{var B=a.charCodeAt(1)===105&&a.charCodeAt(0)===64;U.insertRule(a,B?0:U.cssRules.length)}catch(q){}}else k.appendChild(document.createTextNode(a));this.ctr++},t.flush=function(){this.tags.forEach(function(a){return a.parentNode.removeChild(a)}),this.tags=[],this.ctr=0},r}();function wS(r){function t(xt,Dt,kt,Gt,mt){for(var hn=0,Xt=0,vn=0,Nn=0,jn,En,Un=0,Pn=0,un,In=un=jn=0,Mn=0,Vn=0,hr=0,Yn=0,mr=kt.length,eo=mr-1,yr,An="",_r="",Bi="",ba="",Uo;Mn<mr;){if(En=kt.charCodeAt(Mn),Mn===eo&&Xt+Nn+vn+hn!==0&&(Xt!==0&&(En=Xt===47?10:47),Nn=vn=hn=0,mr++,eo++),Xt+Nn+vn+hn===0){if(Mn===eo&&(0<Vn&&(An=An.replace(Pe,"")),0<An.trim().length)){switch(En){case 32:case 9:case 59:case 13:case 10:break;default:An+=kt.charAt(Mn)}En=59}switch(En){case 123:for(An=An.trim(),jn=An.charCodeAt(0),un=1,Yn=++Mn;Mn<mr;){switch(En=kt.charCodeAt(Mn)){case 123:un++;break;case 125:un--;break;case 47:switch(En=kt.charCodeAt(Mn+1)){case 42:case 47:e:{for(In=Mn+1;In<eo;++In)switch(kt.charCodeAt(In)){case 47:if(En===42&&kt.charCodeAt(In-1)===42&&Mn+2!==In){Mn=In+1;break e}break;case 10:if(En===47){Mn=In+1;break e}}Mn=In}}break;case 91:En++;case 40:En++;case 34:case 39:for(;Mn++<eo&&kt.charCodeAt(Mn)!==En;);}if(un===0)break;Mn++}switch(un=kt.substring(Yn,Mn),jn===0&&(jn=(An=An.replace(ge,"").trim()).charCodeAt(0)),jn){case 64:switch(0<Vn&&(An=An.replace(Pe,"")),En=An.charCodeAt(1),En){case 100:case 109:case 115:case 45:Vn=Dt;break;default:Vn=ln}if(un=t(Dt,Vn,un,En,mt+1),Yn=un.length,0<zt&&(Vn=o(ln,An,hr),Uo=U(3,un,Vn,Dt,Qt,wt,Yn,En,mt,Gt),An=Vn.join(""),Uo!==void 0&&(Yn=(un=Uo.trim()).length)===0&&(En=0,un="")),0<Yn)switch(En){case 115:An=An.replace(yt,k);case 100:case 109:case 45:un=An+"{"+un+"}";break;case 107:An=An.replace(Ye,"$1 $2"),un=An+"{"+un+"}",un=qt===1||qt===2&&L("@"+un,3)?"@-webkit-"+un+"@"+un:"@"+un;break;default:un=An+un,Gt===112&&(un=(_r+=un,""))}else un="";break;default:un=t(Dt,o(Dt,An,hr),un,Gt,mt+1)}Bi+=un,un=hr=Vn=In=jn=0,An="",En=kt.charCodeAt(++Mn);break;case 125:case 59:if(An=(0<Vn?An.replace(Pe,""):An).trim(),1<(Yn=An.length))switch(In===0&&(jn=An.charCodeAt(0),jn===45||96<jn&&123>jn)&&(Yn=(An=An.replace(" ",":")).length),0<zt&&(Uo=U(1,An,Dt,xt,Qt,wt,_r.length,Gt,mt,Gt))!==void 0&&(Yn=(An=Uo.trim()).length)===0&&(An="\0\0"),jn=An.charCodeAt(0),En=An.charCodeAt(1),jn){case 0:break;case 64:if(En===105||En===99){ba+=An+kt.charAt(Mn);break}default:An.charCodeAt(Yn-1)!==58&&(_r+=f(An,jn,En,An.charCodeAt(2)))}hr=Vn=In=jn=0,An="",En=kt.charCodeAt(++Mn)}}switch(En){case 13:case 10:Xt===47?Xt=0:1+jn===0&&Gt!==107&&0<An.length&&(Vn=1,An+="\0"),0<zt*Yt&&U(0,An,Dt,xt,Qt,wt,_r.length,Gt,mt,Gt),wt=1,Qt++;break;case 59:case 125:if(Xt+Nn+vn+hn===0){wt++;break}default:switch(wt++,yr=kt.charAt(Mn),En){case 9:case 32:if(Nn+hn+Xt===0)switch(Un){case 44:case 58:case 9:case 32:yr="";break;default:En!==32&&(yr=" ")}break;case 0:yr="\\0";break;case 12:yr="\\f";break;case 11:yr="\\v";break;case 38:Nn+Xt+hn===0&&(Vn=hr=1,yr="\f"+yr);break;case 108:if(Nn+Xt+hn+jt===0&&0<In)switch(Mn-In){case 2:Un===112&&kt.charCodeAt(Mn-3)===58&&(jt=Un);case 8:Pn===111&&(jt=Pn)}break;case 58:Nn+Xt+hn===0&&(In=Mn);break;case 44:Xt+vn+Nn+hn===0&&(Vn=1,yr+="\r");break;case 34:case 39:Xt===0&&(Nn=Nn===En?0:Nn===0?En:Nn);break;case 91:Nn+Xt+vn===0&&hn++;break;case 93:Nn+Xt+vn===0&&hn--;break;case 41:Nn+Xt+hn===0&&vn--;break;case 40:if(Nn+Xt+hn===0){if(jn===0)switch(2*Un+3*Pn){case 533:break;default:jn=1}vn++}break;case 64:Xt+vn+Nn+hn+In+un===0&&(un=1);break;case 42:case 47:if(!(0<Nn+hn+vn))switch(Xt){case 0:switch(2*En+3*kt.charCodeAt(Mn+1)){case 235:Xt=47;break;case 220:Yn=Mn,Xt=42}break;case 42:En===47&&Un===42&&Yn+2!==Mn&&(kt.charCodeAt(Yn+2)===33&&(_r+=kt.substring(Yn,Mn+1)),yr="",Xt=0)}}Xt===0&&(An+=yr)}Pn=Un,Un=En,Mn++}if(Yn=_r.length,0<Yn){if(Vn=Dt,0<zt&&(Uo=U(2,_r,Vn,xt,Qt,wt,Yn,Gt,mt,Gt),Uo!==void 0&&(_r=Uo).length===0))return ba+_r+Bi;if(_r=Vn.join(",")+"{"+_r+"}",qt*jt!==0){switch(qt!==2||L(_r,2)||(jt=0),jt){case 111:_r=_r.replace(nt,":-moz-$1")+_r;break;case 112:_r=_r.replace(st,"::-webkit-input-$1")+_r.replace(st,"::-moz-$1")+_r.replace(st,":-ms-input-$1")+_r}jt=0}}return ba+_r+Bi}function o(xt,Dt,kt){var Gt=Dt.trim().split(Ue);Dt=Gt;var mt=Gt.length,hn=xt.length;switch(hn){case 0:case 1:var Xt=0;for(xt=hn===0?"":xt[0]+" ";Xt<mt;++Xt)Dt[Xt]=a(xt,Dt[Xt],kt).trim();break;default:var vn=Xt=0;for(Dt=[];Xt<mt;++Xt)for(var Nn=0;Nn<hn;++Nn)Dt[vn++]=a(xt[Nn]+" ",Gt[Xt],kt).trim()}return Dt}function a(xt,Dt,kt){var Gt=Dt.charCodeAt(0);switch(33>Gt&&(Gt=(Dt=Dt.trim()).charCodeAt(0)),Gt){case 38:return Dt.replace(Fe,"$1"+xt.trim());case 58:return xt.trim()+Dt.replace(Fe,"$1"+xt.trim());default:if(0<1*kt&&0<Dt.indexOf("\f"))return Dt.replace(Fe,(xt.charCodeAt(0)===58?"":"$1")+xt.trim())}return xt+Dt}function f(xt,Dt,kt,Gt){var mt=xt+";",hn=2*Dt+3*kt+4*Gt;if(hn===944){xt=mt.indexOf(":",9)+1;var Xt=mt.substring(xt,mt.length-1).trim();return Xt=mt.substring(0,xt).trim()+Xt+";",qt===1||qt===2&&L(Xt,1)?"-webkit-"+Xt+Xt:Xt}if(qt===0||qt===2&&!L(mt,1))return mt;switch(hn){case 1015:return mt.charCodeAt(10)===97?"-webkit-"+mt+mt:mt;case 951:return mt.charCodeAt(3)===116?"-webkit-"+mt+mt:mt;case 963:return mt.charCodeAt(5)===110?"-webkit-"+mt+mt:mt;case 1009:if(mt.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+mt+mt;case 978:return"-webkit-"+mt+"-moz-"+mt+mt;case 1019:case 983:return"-webkit-"+mt+"-moz-"+mt+"-ms-"+mt+mt;case 883:if(mt.charCodeAt(8)===45)return"-webkit-"+mt+mt;if(0<mt.indexOf("image-set(",11))return mt.replace(Rt,"$1-webkit-$2")+mt;break;case 932:if(mt.charCodeAt(4)===45)switch(mt.charCodeAt(5)){case 103:return"-webkit-box-"+mt.replace("-grow","")+"-webkit-"+mt+"-ms-"+mt.replace("grow","positive")+mt;case 115:return"-webkit-"+mt+"-ms-"+mt.replace("shrink","negative")+mt;case 98:return"-webkit-"+mt+"-ms-"+mt.replace("basis","preferred-size")+mt}return"-webkit-"+mt+"-ms-"+mt+mt;case 964:return"-webkit-"+mt+"-ms-flex-"+mt+mt;case 1023:if(mt.charCodeAt(8)!==99)break;return Xt=mt.substring(mt.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Xt+"-webkit-"+mt+"-ms-flex-pack"+Xt+mt;case 1005:return Me.test(mt)?mt.replace(Ee,":-webkit-")+mt.replace(Ee,":-moz-")+mt:mt;case 1e3:switch(Xt=mt.substring(13).trim(),Dt=Xt.indexOf("-")+1,Xt.charCodeAt(0)+Xt.charCodeAt(Dt)){case 226:Xt=mt.replace(at,"tb");break;case 232:Xt=mt.replace(at,"tb-rl");break;case 220:Xt=mt.replace(at,"lr");break;default:return mt}return"-webkit-"+mt+"-ms-"+Xt+mt;case 1017:if(mt.indexOf("sticky",9)===-1)break;case 975:switch(Dt=(mt=xt).length-10,Xt=(mt.charCodeAt(Dt)===33?mt.substring(0,Dt):mt).substring(xt.indexOf(":",7)+1).trim(),hn=Xt.charCodeAt(0)+(Xt.charCodeAt(7)|0)){case 203:if(111>Xt.charCodeAt(8))break;case 115:mt=mt.replace(Xt,"-webkit-"+Xt)+";"+mt;break;case 207:case 102:mt=mt.replace(Xt,"-webkit-"+(102<hn?"inline-":"")+"box")+";"+mt.replace(Xt,"-webkit-"+Xt)+";"+mt.replace(Xt,"-ms-"+Xt+"box")+";"+mt}return mt+";";case 938:if(mt.charCodeAt(5)===45)switch(mt.charCodeAt(6)){case 105:return Xt=mt.replace("-items",""),"-webkit-"+mt+"-webkit-box-"+Xt+"-ms-flex-"+Xt+mt;case 115:return"-webkit-"+mt+"-ms-flex-item-"+mt.replace(Ct,"")+mt;default:return"-webkit-"+mt+"-ms-flex-line-pack"+mt.replace("align-content","").replace(Ct,"")+mt}break;case 973:case 989:if(mt.charCodeAt(3)!==45||mt.charCodeAt(4)===122)break;case 931:case 953:if(Tt.test(xt)===!0)return(Xt=xt.substring(xt.indexOf(":")+1)).charCodeAt(0)===115?f(xt.replace("stretch","fill-available"),Dt,kt,Gt).replace(":fill-available",":stretch"):mt.replace(Xt,"-webkit-"+Xt)+mt.replace(Xt,"-moz-"+Xt.replace("fill-",""))+mt;break;case 962:if(mt="-webkit-"+mt+(mt.charCodeAt(5)===102?"-ms-"+mt:"")+mt,kt+Gt===211&&mt.charCodeAt(13)===105&&0<mt.indexOf("transform",10))return mt.substring(0,mt.indexOf(";",27)+1).replace(De,"$1-webkit-$2")+mt}return mt}function L(xt,Dt){var kt=xt.indexOf(Dt===1?":":"{"),Gt=xt.substring(0,Dt!==3?kt:10);return kt=xt.substring(kt+1,xt.length-1),on(Dt!==2?Gt:Gt.replace(It,"$1"),kt,Dt)}function k(xt,Dt){var kt=f(Dt,Dt.charCodeAt(0),Dt.charCodeAt(1),Dt.charCodeAt(2));return kt!==Dt+";"?kt.replace(Et," or ($1)").substring(4):"("+Dt+")"}function U(xt,Dt,kt,Gt,mt,hn,Xt,vn,Nn,jn){for(var En=0,Un=Dt,Pn;En<zt;++En)switch(Pn=Bt[En].call(pe,xt,Un,kt,Gt,mt,hn,Xt,vn,Nn,jn)){case void 0:case!1:case!0:case null:break;default:Un=Pn}if(Un!==Dt)return Un}function B(xt){switch(xt){case void 0:case null:zt=Bt.length=0;break;default:if(typeof xt=="function")Bt[zt++]=xt;else if(typeof xt=="object")for(var Dt=0,kt=xt.length;Dt<kt;++Dt)B(xt[Dt]);else Yt=!!xt|0}return B}function q(xt){return xt=xt.prefix,xt!==void 0&&(on=null,xt?typeof xt!="function"?qt=1:(qt=2,on=xt):qt=0),q}function pe(xt,Dt){var kt=xt;if(33>kt.charCodeAt(0)&&(kt=kt.trim()),Zt=kt,kt=[Zt],0<zt){var Gt=U(-1,Dt,kt,kt,Qt,wt,0,0,0,0);Gt!==void 0&&typeof Gt=="string"&&(Dt=Gt)}var mt=t(ln,kt,Dt,0,0);return 0<zt&&(Gt=U(-2,mt,kt,kt,Qt,wt,mt.length,0,0,0),Gt!==void 0&&(mt=Gt)),Zt="",jt=0,wt=Qt=1,mt}var ge=/^\0+/g,Pe=/[\0\r\f]/g,Ee=/: */g,Me=/zoo|gra/,De=/([,: ])(transform)/g,Ue=/,\r+?/g,Fe=/([\t\r\n ])*\f?&/g,Ye=/@(k\w+)\s*(\S*)\s*/,st=/::(place)/g,nt=/:(read-only)/g,at=/[svh]\w+-[tblr]{2}/,yt=/\(\s*(.*)\s*\)/g,Et=/([\s\S]*?);/g,Ct=/-self|flex-/g,It=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Tt=/stretch|:\s*\w+\-(?:conte|avail)/,Rt=/([^-])(image-set\()/,wt=1,Qt=1,jt=0,qt=1,ln=[],Bt=[],zt=0,on=null,Yt=0,Zt="";return pe.use=B,pe.set=q,r!==void 0&&q(r),pe}const SS=wS;var qc="/*|*/",IS=qc+"}";function TS(r){r&&wl.current.insert(r+"}")}var wl={current:null},DS=function(t,o,a,f,L,k,U,B,q,pe){switch(t){case 1:{switch(o.charCodeAt(0)){case 64:return wl.current.insert(o+";"),"";case 108:if(o.charCodeAt(2)===98)return""}break}case 2:{if(B===0)return o+qc;break}case 3:switch(B){case 102:case 112:return wl.current.insert(a[0]+o),"";default:return o+(pe===0?qc:"")}case-2:o.split(IS).forEach(TS)}},MS=function(t){t===void 0&&(t={});var o=t.key||"css",a;t.prefix!==void 0&&(a={prefix:t.prefix});var f=new SS(a),L={},k;{k=t.container||document.head;var U=document.querySelectorAll("style[data-emotion-"+o+"]");Array.prototype.forEach.call(U,function(Pe){var Ee=Pe.getAttribute("data-emotion-"+o);Ee.split(" ").forEach(function(Me){L[Me]=!0}),Pe.parentNode!==k&&k.appendChild(Pe)})}var B;if(f.use(t.stylisPlugins)(DS),B=function(Ee,Me,De,Ue){var Fe=Me.name;if(wl.current=De,!1)var Ye;f(Ee,Me.styles),Ue&&(ge.inserted[Fe]=!0)},!1)var q,pe;var ge={key:o,sheet:new CS({key:o,container:k,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:L,registered:{},insert:B};return ge};const AS=MS;var LS=!0;function pm(r,t,o){var a="";return o.split(" ").forEach(function(f){r[f]!==void 0?t.push(r[f]):a+=f+" "}),a}var hm=function(t,o,a){var f=t.key+"-"+o.name;if((a===!1||LS===!1&&t.compat!==void 0)&&t.registered[f]===void 0&&(t.registered[f]=o.styles),t.inserted[o.name]===void 0){var L=o;do{var k=t.insert("."+f,L,t.sheet,!0);L=L.next}while(L!==void 0)}};function NS(r){for(var t=0,o,a=0,f=r.length;f>=4;++a,f-=4)o=r.charCodeAt(a)&255|(r.charCodeAt(++a)&255)<<8|(r.charCodeAt(++a)&255)<<16|(r.charCodeAt(++a)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,t=(o&65535)*1540483477+((o>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(f){case 3:t^=(r.charCodeAt(a+2)&255)<<16;case 2:t^=(r.charCodeAt(a+1)&255)<<8;case 1:t^=r.charCodeAt(a)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}const xS=NS;var RS={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};const BS=RS;function US(r){var t={};return function(o){return t[o]===void 0&&(t[o]=r(o)),t[o]}}const kS=US;var eW=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,tW="You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).",FS=/[A-Z]|^ms/g,WS=/_EMO_([^_]+?)_([^]*?)_EMO_/g,mm=function(t){return t.charCodeAt(1)===45},_m=function(t){return t!=null&&typeof t!="boolean"},ed=kS(function(r){return mm(r)?r:r.replace(FS,"-$&").toLowerCase()}),gm=function(t,o){switch(t){case"animation":case"animationName":if(typeof o=="string")return o.replace(WS,function(a,f,L){return To={name:f,styles:L,next:To},f})}return BS[t]!==1&&!mm(t)&&typeof o=="number"&&o!==0?o+"px":o};if(!1)var nW,rW,oW,aW,iW,sW;var lW=!0;function us(r,t,o,a){if(o==null)return"";if(o.__emotion_styles!==void 0)return o;switch(typeof o){case"boolean":return"";case"object":{if(o.anim===1)return To={name:o.name,styles:o.styles,next:To},o.name;if(o.styles!==void 0){var f=o.next;if(f!==void 0)for(;f!==void 0;)To={name:f.name,styles:f.styles,next:To},f=f.next;var L=o.styles+";";return L}return jS(r,t,o)}case"function":{if(r!==void 0){var k=To,U=o(r);return To=k,us(r,t,U,a)}break}case"string":if(!1)var B,q;break}if(t==null)return o;var pe=t[o];return pe!==void 0&&!a?pe:o}function jS(r,t,o){var a="";if(Array.isArray(o))for(var f=0;f<o.length;f++)a+=us(r,t,o[f],!1);else for(var L in o){var k=o[L];if(typeof k!="object")t!=null&&t[k]!==void 0?a+=L+"{"+t[k]+"}":_m(k)&&(a+=ed(L)+":"+gm(L,k)+";");else if(Array.isArray(k)&&typeof k[0]=="string"&&(t==null||t[k[0]]===void 0))for(var U=0;U<k.length;U++)_m(k[U])&&(a+=ed(L)+":"+gm(L,k[U])+";");else{var B=us(r,t,k,!1);switch(L){case"animation":case"animationName":{a+=ed(L)+":"+B+";";break}default:a+=L+"{"+B+"}"}}}return a}var vm=/label:\s*([^\s;\n{]+)\s*;/g,uW,To,td=function(t,o,a){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var f=!0,L="";To=void 0;var k=t[0];k==null||k.raw===void 0?(f=!1,L+=us(a,o,k,!1)):L+=k[0];for(var U=1;U<t.length;U++)L+=us(a,o,t[U],L.charCodeAt(L.length-1)===46),f&&(L+=k[U]);var B;vm.lastIndex=0;for(var q="",pe;(pe=vm.exec(L))!==null;)q+="-"+pe[1];var ge=xS(L)+q;return{name:ge,styles:L,next:To}},nd=Object.prototype.hasOwnProperty,ym=(0,$t.createContext)(typeof HTMLElement!="undefined"?AS():null),Pm=(0,$t.createContext)({}),cW=ym.Provider,bm=function(t){var o=function(f,L){return(0,$t.createElement)(ym.Consumer,null,function(k){return t(f,k,L)})};return(0,$t.forwardRef)(o)},dW=function(t){return t.replace(/\$/g,"-")},rd="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",fW="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",KS=function(t,o){var a={};for(var f in o)nd.call(o,f)&&(a[f]=o[f]);if(a[rd]=t,!1)var L,k;return a},Em=function(t,o,a,f){var L=a===null?o.css:o.css(a);typeof L=="string"&&t.registered[L]!==void 0&&(L=t.registered[L]);var k=o[rd],U=[L],B="";typeof o.className=="string"?B=pm(t.registered,U,o.className):o.className!=null&&(B=o.className+" ");var q=td(U);if(!1)var pe;var ge=hm(t,q,typeof k=="string");B+=t.key+"-"+q.name;var Pe={};for(var Ee in o)nd.call(o,Ee)&&Ee!=="css"&&Ee!==rd&&(Pe[Ee]=o[Ee]);Pe.ref=f,Pe.className=B;var Me=(0,$t.createElement)(k,Pe);return Me},HS=bm(function(r,t,o){return typeof r.css=="function"?(0,$t.createElement)(Pm.Consumer,null,function(a){return Em(t,r,a,o)}):Em(t,r,null,o)});function VS(){for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return td(t)}const od=VS;var Bn=function(t,o){var a=arguments;if(o==null||!nd.call(o,"css"))return $t.createElement.apply(void 0,a);var f=a.length,L=new Array(f);L[0]=HS,L[1]=KS(t,o);for(var k=2;k<f;k++)L[k]=a[k];return $t.createElement.apply(null,L)},pW=!1,hW=null,mW=null,$S=function(){var t=od.apply(void 0,arguments),o="animation-"+t.name;return{name:o,styles:"@keyframes "+o+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},ZS=function r(t){for(var o=t.length,a=0,f="";a<o;a++){var L=t[a];if(L!=null){var k=void 0;switch(typeof L){case"boolean":break;case"object":{if(Array.isArray(L))k=r(L);else{k="";for(var U in L)L[U]&&U&&(k&&(k+=" "),k+=U)}break}default:k=L}k&&(f&&(f+=" "),f+=k)}}return f};function GS(r,t,o){var a=[],f=pm(r,a,o);return a.length<2?o:f+t(a)}var zS=bm(function(r,t){return(0,$t.createElement)(Pm.Consumer,null,function(o){var a=!1,f=function(){for(var q=arguments.length,pe=new Array(q),ge=0;ge<q;ge++)pe[ge]=arguments[ge];var Pe=td(pe,t.registered);return hm(t,Pe,!1),t.key+"-"+Pe.name},L=function(){for(var q=arguments.length,pe=new Array(q),ge=0;ge<q;ge++)pe[ge]=arguments[ge];return GS(t.registered,f,ZS(pe))},k={css:f,cx:L,theme:o},U=r.children(k);return a=!0,U})});function YS(r,t){if(r==null)return{};var o={},a=Object.keys(r),f,L;for(L=0;L<a.length;L++)f=a[L],!(t.indexOf(f)>=0)&&(o[f]=r[f]);return o}function Fa(r,t){if(r==null)return{};var o=YS(r,t),a,f;if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(r);for(f=0;f<L.length;f++)a=L[f],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(o[a]=r[a])}return o}function kn(){return kn=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])}return r},kn.apply(this,arguments)}function JS(r){if(Array.isArray(r))return r}function XS(r,t){var o=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(o!=null){var a,f,L,k,U=[],B=!0,q=!1;try{if(L=(o=o.call(r)).next,t===0){if(Object(o)!==o)return;B=!1}else for(;!(B=(a=L.call(o)).done)&&(U.push(a.value),U.length!==t);B=!0);}catch(pe){q=!0,f=pe}finally{try{if(!B&&o.return!=null&&(k=o.return(),Object(k)!==k))return}finally{if(q)throw f}}return U}}function ad(r,t){(t==null||t>r.length)&&(t=r.length);for(var o=0,a=new Array(t);o<t;o++)a[o]=r[o];return a}function Om(r,t){if(r){if(typeof r=="string")return ad(r,t);var o=Object.prototype.toString.call(r).slice(8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return Array.from(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ad(r,t)}}function QS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cm(r,t){return JS(r)||XS(r,t)||Om(r,t)||QS()}function qS(r){if(Array.isArray(r))return ad(r)}function e5(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function t5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n5(r){return qS(r)||e5(r)||Om(r)||t5()}function Vo(r){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(r)}function r5(r,t){if(Vo(r)!=="object"||r===null)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var a=o.call(r,t||"default");if(Vo(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function wm(r){var t=r5(r,"string");return Vo(t)==="symbol"?t:String(t)}function Kr(r,t,o){return t=wm(t),t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o,r}function ua(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Sm(r,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,wm(a.key),a)}}function ca(r,t,o){return t&&Sm(r.prototype,t),o&&Sm(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r}function id(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function sd(r,t){return sd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,f){return a.__proto__=f,a},sd(r,t)}function da(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&sd(r,t)}function Wa(r,t){if(t&&(Vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return id(r)}function Hr(r){return Hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},Hr(r)}function o5(r,t){if(r.length!==t.length)return!1;for(var o=0;o<r.length;o++)if(r[o]!==t[o])return!1;return!0}function a5(r,t){t===void 0&&(t=o5);var o,a=[],f,L=!1;function k(){for(var U=[],B=0;B<arguments.length;B++)U[B]=arguments[B];return L&&o===this&&t(U,a)||(f=r.apply(this,U),L=!0,o=this,a=U),f}return k}const Im=a5;function i5(r,t){return t||(t=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(t)}}))}var s5=Ke(35639),Tm=function(){};function l5(r,t){return t?t[0]==="-"?r+t:r+"__"+t:r}function u5(r,t,o){var a=[o];if(t&&r)for(var f in t)t.hasOwnProperty(f)&&t[f]&&a.push("".concat(l5(r,f)));return a.filter(function(L){return L}).map(function(L){return String(L).trim()}).join(" ")}var Dm=function(t){return Array.isArray(t)?t.filter(Boolean):Vo(t)==="object"&&t!==null?[t]:[]};function _W(r,t,o){if(o){var a=o(r,t);if(typeof a=="string")return a}return r}function ld(r){return[document.documentElement,document.body,window].indexOf(r)>-1}function Mm(r){return ld(r)?window.pageYOffset:r.scrollTop}function Sl(r,t){if(ld(r)){window.scrollTo(0,t);return}r.scrollTop=t}function c5(r){var t=getComputedStyle(r),o=t.position==="absolute",a=/(auto|scroll)/,f=document.documentElement;if(t.position==="fixed")return f;for(var L=r;L=L.parentElement;)if(t=getComputedStyle(L),!(o&&t.position==="static")&&a.test(t.overflow+t.overflowY+t.overflowX))return L;return f}function d5(r,t,o,a){return o*((r=r/a-1)*r*r+1)+t}function Il(r,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Tm,f=Mm(r),L=t-f,k=10,U=0;function B(){U+=k;var q=d5(U,f,L,o);Sl(r,q),U<o?window.requestAnimationFrame(B):a(r)}B()}function f5(r,t){var o=r.getBoundingClientRect(),a=t.getBoundingClientRect(),f=t.offsetHeight/3;a.bottom+f>o.bottom?Sl(r,Math.min(t.offsetTop+t.clientHeight-r.offsetHeight+f,r.scrollHeight)):a.top-f<o.top&&Sl(r,Math.max(t.offsetTop-f,0))}function p5(r){var t=r.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function Am(){try{return document.createEvent("TouchEvent"),!0}catch(r){return!1}}function h5(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(r){return!1}}function Lm(r,t){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),o.push.apply(o,a)}return o}function Nm(r){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?Lm(Object(o),!0).forEach(function(a){Kr(r,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Lm(Object(o)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(o,a))})}return r}function xm(r){var t=m5();return function(){var a=Hr(r),f;if(t){var L=Hr(this).constructor;f=Reflect.construct(a,arguments,L)}else f=a.apply(this,arguments);return Wa(this,f)}}function m5(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(r){return!1}}function _5(r){var t=r.maxHeight,o=r.menuEl,a=r.minHeight,f=r.placement,L=r.shouldScroll,k=r.isFixedPosition,U=r.theme,B=U.spacing,q=c5(o),pe={placement:"bottom",maxHeight:t};if(!o||!o.offsetParent)return pe;var ge=q.getBoundingClientRect(),Pe=ge.height,Ee=o.getBoundingClientRect(),Me=Ee.bottom,De=Ee.height,Ue=Ee.top,Fe=o.offsetParent.getBoundingClientRect(),Ye=Fe.top,st=window.innerHeight,nt=Mm(q),at=parseInt(getComputedStyle(o).marginBottom,10),yt=parseInt(getComputedStyle(o).marginTop,10),Et=Ye-yt,Ct=st-Ue,It=Et+nt,Tt=Pe-nt-Ue,Rt=Me-st+nt+at,wt=nt+Ue-yt,Qt=160;switch(f){case"auto":case"bottom":if(Ct>=De)return{placement:"bottom",maxHeight:t};if(Tt>=De&&!k)return L&&Il(q,Rt,Qt),{placement:"bottom",maxHeight:t};if(!k&&Tt>=a||k&&Ct>=a){L&&Il(q,Rt,Qt);var jt=k?Ct-at:Tt-at;return{placement:"bottom",maxHeight:jt}}if(f==="auto"||k){var qt=t,ln=k?Et:It;return ln>=a&&(qt=Math.min(ln-at-B.controlHeight,t)),{placement:"top",maxHeight:qt}}if(f==="bottom")return Sl(q,Rt),{placement:"bottom",maxHeight:t};break;case"top":if(Et>=De)return{placement:"top",maxHeight:t};if(It>=De&&!k)return L&&Il(q,wt,Qt),{placement:"top",maxHeight:t};if(!k&&It>=a||k&&Et>=a){var Bt=t;return(!k&&It>=a||k&&Et>=a)&&(Bt=k?Et-yt:It-yt),L&&Il(q,wt,Qt),{placement:"top",maxHeight:Bt}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(f,'".'))}return pe}function g5(r){var t={bottom:"top",top:"bottom"};return r?t[r]:"bottom"}var ud=function(t){return t==="auto"?"bottom":t},v5=function(t){var o,a=t.placement,f=t.theme,L=f.borderRadius,k=f.spacing,U=f.colors;return o={label:"menu"},Kr(o,g5(a),"100%"),Kr(o,"backgroundColor",U.neutral0),Kr(o,"borderRadius",L),Kr(o,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Kr(o,"marginBottom",k.menuGutter),Kr(o,"marginTop",k.menuGutter),Kr(o,"position","absolute"),Kr(o,"width","100%"),Kr(o,"zIndex",1),o},Rm=(0,$t.createContext)({getPortalPlacement:null}),Bm=function(r){da(o,r);var t=xm(o);function o(){var a;ua(this,o);for(var f=arguments.length,L=new Array(f),k=0;k<f;k++)L[k]=arguments[k];return a=t.call.apply(t,[this].concat(L)),a.state={maxHeight:a.props.maxMenuHeight,placement:null},a.getPlacement=function(U){var B=a.props,q=B.minMenuHeight,pe=B.maxMenuHeight,ge=B.menuPlacement,Pe=B.menuPosition,Ee=B.menuShouldScrollIntoView,Me=B.theme;if(U){var De=Pe==="fixed",Ue=Ee&&!De,Fe=_5({maxHeight:pe,menuEl:U,minHeight:q,placement:ge,shouldScroll:Ue,isFixedPosition:De,theme:Me}),Ye=a.context.getPortalPlacement;Ye&&Ye(Fe),a.setState(Fe)}},a.getUpdatedProps=function(){var U=a.props.menuPlacement,B=a.state.placement||ud(U);return Nm(Nm({},a.props),{},{placement:B,maxHeight:a.state.maxHeight})},a}return ca(o,[{key:"render",value:function(){var f=this.props.children;return f({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),o}($t.Component);Bm.contextType=Rm;var y5=function(t){var o=t.children,a=t.className,f=t.cx,L=t.getStyles,k=t.innerRef,U=t.innerProps;return Bn("div",kn({css:L("menu",t),className:f({menu:!0},a)},U,{ref:k}),o)},P5=function(t){var o=t.maxHeight,a=t.theme.spacing.baseUnit;return{maxHeight:o,overflowY:"auto",paddingBottom:a,paddingTop:a,position:"relative",WebkitOverflowScrolling:"touch"}},b5=function(t){var o=t.children,a=t.className,f=t.cx,L=t.getStyles,k=t.isMulti,U=t.innerRef,B=t.innerProps;return Bn("div",kn({css:L("menuList",t),className:f({"menu-list":!0,"menu-list--is-multi":k},a),ref:U},B),o)},Um=function(t){var o=t.theme,a=o.spacing.baseUnit,f=o.colors;return{color:f.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px"),textAlign:"center"}},E5=Um,O5=Um,km=function(t){var o=t.children,a=t.className,f=t.cx,L=t.getStyles,k=t.innerProps;return Bn("div",kn({css:L("noOptionsMessage",t),className:f({"menu-notice":!0,"menu-notice--no-options":!0},a)},k),o)};km.defaultProps={children:"No options"};var Fm=function(t){var o=t.children,a=t.className,f=t.cx,L=t.getStyles,k=t.innerProps;return Bn("div",kn({css:L("loadingMessage",t),className:f({"menu-notice":!0,"menu-notice--loading":!0},a)},k),o)};Fm.defaultProps={children:"Loading..."};var C5=function(t){var o=t.rect,a=t.offset,f=t.position;return{left:o.left,position:f,top:a,width:o.width,zIndex:1}},w5=function(r){da(o,r);var t=xm(o);function o(){var a;ua(this,o);for(var f=arguments.length,L=new Array(f),k=0;k<f;k++)L[k]=arguments[k];return a=t.call.apply(t,[this].concat(L)),a.state={placement:null},a.getPortalPlacement=function(U){var B=U.placement,q=ud(a.props.menuPlacement);B!==q&&a.setState({placement:B})},a}return ca(o,[{key:"render",value:function(){var f=this.props,L=f.appendTo,k=f.children,U=f.controlElement,B=f.menuPlacement,q=f.menuPosition,pe=f.getStyles,ge=q==="fixed";if(!L&&!ge||!U)return null;var Pe=this.state.placement||ud(B),Ee=p5(U),Me=ge?0:window.pageYOffset,De=Ee[Pe]+Me,Ue={offset:De,position:q,rect:Ee},Fe=Bn("div",{css:pe("menuPortal",Ue)},k);return Bn(Rm.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},L?(0,$t.createPortal)(Fe,L):Fe)}}]),o}($t.Component),Wm=Array.isArray,jm=Object.keys,S5=Object.prototype.hasOwnProperty;function cd(r,t){if(r===t)return!0;if(r&&t&&Vo(r)=="object"&&Vo(t)=="object"){var o=Wm(r),a=Wm(t),f,L,k;if(o&&a){if(L=r.length,L!=t.length)return!1;for(f=L;f--!==0;)if(!cd(r[f],t[f]))return!1;return!0}if(o!=a)return!1;var U=r instanceof Date,B=t instanceof Date;if(U!=B)return!1;if(U&&B)return r.getTime()==t.getTime();var q=r instanceof RegExp,pe=t instanceof RegExp;if(q!=pe)return!1;if(q&&pe)return r.toString()==t.toString();var ge=jm(r);if(L=ge.length,L!==jm(t).length)return!1;for(f=L;f--!==0;)if(!S5.call(t,ge[f]))return!1;for(f=L;f--!==0;)if(k=ge[f],!(k==="_owner"&&r.$$typeof)&&!cd(r[k],t[k]))return!1;return!0}return r!==r&&t!==t}function I5(r,t){try{return cd(r,t)}catch(o){if(o.message&&o.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",o.name,o.message),!1;throw o}}var T5=function(t){var o=t.isDisabled,a=t.isRtl;return{label:"container",direction:a?"rtl":null,pointerEvents:o?"none":null,position:"relative"}},D5=function(t){var o=t.children,a=t.className,f=t.cx,L=t.getStyles,k=t.innerProps,U=t.isDisabled,B=t.isRtl;return Bn("div",kn({css:L("container",t),className:f({"--is-disabled":U,"--is-rtl":B},a)},k),o)},M5=function(t){var o=t.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(o.baseUnit/2,"px ").concat(o.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},A5=function(t){var o=t.children,a=t.className,f=t.cx,L=t.isMulti,k=t.getStyles,U=t.hasValue;return Bn("div",{css:k("valueContainer",t),className:f({"value-container":!0,"value-container--is-multi":L,"value-container--has-value":U},a)},o)},L5=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},N5=function(t){var o=t.children,a=t.className,f=t.cx,L=t.getStyles;return Bn("div",{css:L("indicatorsContainer",t),className:f({indicators:!0},a)},o)};function Km(){var r=i5([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]);return Km=function(){return r},r}function gW(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var x5={name:"19bqh2r",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;"},Hm=function(t){var o=t.size,a=Fa(t,["size"]);return Bn("svg",kn({height:o,width:o,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:x5},a))},dd=function(t){return Bn(Hm,kn({size:20},t),Bn("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Vm=function(t){return Bn(Hm,kn({size:20},t),Bn("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},$m=function(t){var o=t.isFocused,a=t.theme,f=a.spacing.baseUnit,L=a.colors;return{label:"indicatorContainer",color:o?L.neutral60:L.neutral20,display:"flex",padding:f*2,transition:"color 150ms",":hover":{color:o?L.neutral80:L.neutral40}}},R5=$m,B5=function(t){var o=t.children,a=t.className,f=t.cx,L=t.getStyles,k=t.innerProps;return Bn("div",kn({},k,{css:L("dropdownIndicator",t),className:f({indicator:!0,"dropdown-indicator":!0},a)}),o||Bn(Vm,null))},U5=$m,k5=function(t){var o=t.children,a=t.className,f=t.cx,L=t.getStyles,k=t.innerProps;return Bn("div",kn({},k,{css:L("clearIndicator",t),className:f({indicator:!0,"clear-indicator":!0},a)}),o||Bn(dd,null))},F5=function(t){var o=t.isDisabled,a=t.theme,f=a.spacing.baseUnit,L=a.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:o?L.neutral10:L.neutral20,marginBottom:f*2,marginTop:f*2,width:1}},W5=function(t){var o=t.className,a=t.cx,f=t.getStyles,L=t.innerProps;return Bn("span",kn({},L,{css:f("indicatorSeparator",t),className:a({"indicator-separator":!0},o)}))},j5=$S(Km()),K5=function(t){var o=t.isFocused,a=t.size,f=t.theme,L=f.colors,k=f.spacing.baseUnit;return{label:"loadingIndicator",color:o?L.neutral60:L.neutral20,display:"flex",padding:k*2,transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"}},fd=function(t){var o=t.delay,a=t.offset;return Bn("span",{css:od({animation:"".concat(j5," 1s ease-in-out ").concat(o,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:a?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"")})},Zm=function(t){var o=t.className,a=t.cx,f=t.getStyles,L=t.innerProps,k=t.isRtl;return Bn("div",kn({},L,{css:f("loadingIndicator",t),className:a({indicator:!0,"loading-indicator":!0},o)}),Bn(fd,{delay:0,offset:k}),Bn(fd,{delay:160,offset:!0}),Bn(fd,{delay:320,offset:!k}))};Zm.defaultProps={size:4};var H5=function(t){var o=t.isDisabled,a=t.isFocused,f=t.theme,L=f.colors,k=f.borderRadius,U=f.spacing;return{label:"control",alignItems:"center",backgroundColor:o?L.neutral5:L.neutral0,borderColor:o?L.neutral10:a?L.primary:L.neutral20,borderRadius:k,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(L.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:U.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:a?L.primary:L.neutral30}}},V5=function(t){var o=t.children,a=t.cx,f=t.getStyles,L=t.className,k=t.isDisabled,U=t.isFocused,B=t.innerRef,q=t.innerProps,pe=t.menuIsOpen;return Bn("div",kn({ref:B,css:f("control",t),className:a({control:!0,"control--is-disabled":k,"control--is-focused":U,"control--menu-is-open":pe},L)},q),o)};function Gm(r,t){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),o.push.apply(o,a)}return o}function $5(r){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?Gm(Object(o),!0).forEach(function(a){Kr(r,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Gm(Object(o)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(o,a))})}return r}var Z5=function(t){var o=t.theme.spacing;return{paddingBottom:o.baseUnit*2,paddingTop:o.baseUnit*2}},G5=function(t){var o=t.children,a=t.className,f=t.cx,L=t.getStyles,k=t.Heading,U=t.headingProps,B=t.label,q=t.theme,pe=t.selectProps;return Bn("div",{css:L("group",t),className:f({group:!0},a)},Bn(k,kn({},U,{selectProps:pe,theme:q,getStyles:L,cx:f}),B),Bn("div",null,o))},z5=function(t){var o=t.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"}},Y5=function(t){var o=t.className,a=t.cx,f=t.getStyles,L=t.theme,k=t.selectProps,U=Fa(t,["className","cx","getStyles","theme","selectProps"]);return Bn("div",kn({css:f("groupHeading",$5({theme:L},U)),className:a({"group-heading":!0},o)},U))};function zm(r,t){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),o.push.apply(o,a)}return o}function J5(r){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?zm(Object(o),!0).forEach(function(a){Kr(r,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):zm(Object(o)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(o,a))})}return r}var X5=function(t){var o=t.isDisabled,a=t.theme,f=a.spacing,L=a.colors;return{margin:f.baseUnit/2,paddingBottom:f.baseUnit/2,paddingTop:f.baseUnit/2,visibility:o?"hidden":"visible",color:L.neutral80}},Q5=function(t){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:t?0:1,outline:0,padding:0,color:"inherit"}},q5=function(t){var o=t.className,a=t.cx,f=t.getStyles,L=t.innerRef,k=t.isHidden,U=t.isDisabled,B=t.theme,q=t.selectProps,pe=Fa(t,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]);return Bn("div",{css:f("input",J5({theme:B},pe))},Bn(s5.Z,kn({className:a({input:!0},o),inputRef:L,inputStyle:Q5(k),disabled:U},pe)))};function Ym(r,t){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),o.push.apply(o,a)}return o}function pd(r){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?Ym(Object(o),!0).forEach(function(a){Kr(r,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Ym(Object(o)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(o,a))})}return r}var eI=function(t){var o=t.theme,a=o.spacing,f=o.borderRadius,L=o.colors;return{label:"multiValue",backgroundColor:L.neutral10,borderRadius:f/2,display:"flex",margin:a.baseUnit/2,minWidth:0}},tI=function(t){var o=t.theme,a=o.borderRadius,f=o.colors,L=t.cropWithEllipsis;return{borderRadius:a/2,color:f.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:L?"ellipsis":null,whiteSpace:"nowrap"}},nI=function(t){var o=t.theme,a=o.spacing,f=o.borderRadius,L=o.colors,k=t.isFocused;return{alignItems:"center",borderRadius:f/2,backgroundColor:k&&L.dangerLight,display:"flex",paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:L.dangerLight,color:L.danger}}},Jm=function(t){var o=t.children,a=t.innerProps;return Bn("div",a,o)},rI=Jm,oI=Jm;function aI(r){var t=r.children,o=r.innerProps;return Bn("div",o,t||Bn(dd,{size:14}))}var Xm=function(t){var o=t.children,a=t.className,f=t.components,L=t.cx,k=t.data,U=t.getStyles,B=t.innerProps,q=t.isDisabled,pe=t.removeProps,ge=t.selectProps,Pe=f.Container,Ee=f.Label,Me=f.Remove;return Bn(zS,null,function(De){var Ue=De.css,Fe=De.cx;return Bn(Pe,{data:k,innerProps:pd(pd({},B),{},{className:Fe(Ue(U("multiValue",t)),L({"multi-value":!0,"multi-value--is-disabled":q},a))}),selectProps:ge},Bn(Ee,{data:k,innerProps:{className:Fe(Ue(U("multiValueLabel",t)),L({"multi-value__label":!0},a))},selectProps:ge},o),Bn(Me,{data:k,innerProps:pd({className:Fe(Ue(U("multiValueRemove",t)),L({"multi-value__remove":!0},a))},pe),selectProps:ge}))})};Xm.defaultProps={cropWithEllipsis:!0};var iI=function(t){var o=t.isDisabled,a=t.isFocused,f=t.isSelected,L=t.theme,k=L.spacing,U=L.colors;return{label:"option",backgroundColor:f?U.primary:a?U.primary25:"transparent",color:o?U.neutral20:f?U.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(k.baseUnit*2,"px ").concat(k.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!o&&(f?U.primary:U.primary50)}}},sI=function(t){var o=t.children,a=t.className,f=t.cx,L=t.getStyles,k=t.isDisabled,U=t.isFocused,B=t.isSelected,q=t.innerRef,pe=t.innerProps;return Bn("div",kn({css:L("option",t),className:f({option:!0,"option--is-disabled":k,"option--is-focused":U,"option--is-selected":B},a),ref:q},pe),o)},lI=function(t){var o=t.theme,a=o.spacing,f=o.colors;return{label:"placeholder",color:f.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},uI=function(t){var o=t.children,a=t.className,f=t.cx,L=t.getStyles,k=t.innerProps;return Bn("div",kn({css:L("placeholder",t),className:f({placeholder:!0},a)},k),o)},cI=function(t){var o=t.isDisabled,a=t.theme,f=a.spacing,L=a.colors;return{label:"singleValue",color:o?L.neutral40:L.neutral80,marginLeft:f.baseUnit/2,marginRight:f.baseUnit/2,maxWidth:"calc(100% - ".concat(f.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},dI=function(t){var o=t.children,a=t.className,f=t.cx,L=t.getStyles,k=t.isDisabled,U=t.innerProps;return Bn("div",kn({css:L("singleValue",t),className:f({"single-value":!0,"single-value--is-disabled":k},a)},U),o)};function Qm(r,t){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),o.push.apply(o,a)}return o}function qm(r){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?Qm(Object(o),!0).forEach(function(a){Kr(r,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Qm(Object(o)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(o,a))})}return r}for(var fI={ClearIndicator:k5,Control:V5,DropdownIndicator:B5,DownChevron:Vm,CrossIcon:dd,Group:G5,GroupHeading:Y5,IndicatorsContainer:N5,IndicatorSeparator:W5,Input:q5,LoadingIndicator:Zm,Menu:y5,MenuList:b5,MenuPortal:w5,LoadingMessage:Fm,NoOptionsMessage:km,MultiValue:Xm,MultiValueContainer:rI,MultiValueLabel:oI,MultiValueRemove:aI,Option:sI,Placeholder:uI,SelectContainer:D5,SingleValue:dI,ValueContainer:A5},pI=function(t){return qm(qm({},fI),t.components)},hd=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],hI=new RegExp("["+hd.map(function(r){return r.letters}).join("")+"]","g"),e_={},md=0;md<hd.length;md++)for(var _d=hd[md],gd=0;gd<_d.letters.length;gd++)e_[_d.letters[gd]]=_d.base;var t_=function(t){return t.replace(hI,function(o){return e_[o]})};function n_(r,t){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),o.push.apply(o,a)}return o}function mI(r){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(o),!0).forEach(function(a){Kr(r,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):n_(Object(o)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(o,a))})}return r}var r_=function(t){return t.replace(/^\s+|\s+$/g,"")},_I=function(t){return"".concat(t.label," ").concat(t.value)},gI=function(t){return function(o,a){var f=mI({ignoreCase:!0,ignoreAccents:!0,stringify:_I,trim:!0,matchFrom:"any"},t),L=f.ignoreCase,k=f.ignoreAccents,U=f.stringify,B=f.trim,q=f.matchFrom,pe=B?r_(a):a,ge=B?r_(U(o)):U(o);return L&&(pe=pe.toLowerCase(),ge=ge.toLowerCase()),k&&(pe=t_(pe),ge=t_(ge)),q==="start"?ge.substr(0,pe.length)===pe:ge.indexOf(pe)>-1}};function vW(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var vI={name:"1laao21-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;"},yI=function(t){return Bn("span",kn({css:vI},t))};function PI(r){var t=r.in,o=r.out,a=r.onExited,f=r.appear,L=r.enter,k=r.exit,U=r.innerRef,B=r.emotion,q=Fa(r,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return Bn("input",kn({ref:U},q,{css:od({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"")}))}function bI(r){var t=EI();return function(){var a=Hr(r),f;if(t){var L=Hr(this).constructor;f=Reflect.construct(a,arguments,L)}else f=a.apply(this,arguments);return Wa(this,f)}}function EI(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(r){return!1}}var o_=function(r){da(o,r);var t=bI(o);function o(){return ua(this,o),t.apply(this,arguments)}return ca(o,[{key:"componentDidMount",value:function(){this.props.innerRef((0,$t.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),o}($t.Component),a_=["boxSizing","height","overflow","paddingRight","position"],i_={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function s_(r){r.preventDefault()}function l_(r){r.stopPropagation()}function u_(){var r=this.scrollTop,t=this.scrollHeight,o=r+this.offsetHeight;r===0?this.scrollTop=1:o===t&&(this.scrollTop=r-1)}function c_(){return"ontouchstart"in window||navigator.maxTouchPoints}function OI(r){var t=CI();return function(){var a=Hr(r),f;if(t){var L=Hr(this).constructor;f=Reflect.construct(a,arguments,L)}else f=a.apply(this,arguments);return Wa(this,f)}}function CI(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(r){return!1}}var d_=!!(window.document&&window.document.createElement),cs=0,f_=function(r){da(o,r);var t=OI(o);function o(){var a;ua(this,o);for(var f=arguments.length,L=new Array(f),k=0;k<f;k++)L[k]=arguments[k];return a=t.call.apply(t,[this].concat(L)),a.originalStyles={},a.listenerOptions={capture:!1,passive:!1},a}return ca(o,[{key:"componentDidMount",value:function(){var f=this;if(d_){var L=this.props,k=L.accountForScrollbars,U=L.touchScrollTarget,B=document.body,q=B&&B.style;if(k&&a_.forEach(function(Ee){var Me=q&&q[Ee];f.originalStyles[Ee]=Me}),k&&cs<1){var pe=parseInt(this.originalStyles.paddingRight,10)||0,ge=document.body?document.body.clientWidth:0,Pe=window.innerWidth-ge+pe||0;Object.keys(i_).forEach(function(Ee){var Me=i_[Ee];q&&(q[Ee]=Me)}),q&&(q.paddingRight="".concat(Pe,"px"))}B&&c_()&&(B.addEventListener("touchmove",s_,this.listenerOptions),U&&(U.addEventListener("touchstart",u_,this.listenerOptions),U.addEventListener("touchmove",l_,this.listenerOptions))),cs+=1}}},{key:"componentWillUnmount",value:function(){var f=this;if(d_){var L=this.props,k=L.accountForScrollbars,U=L.touchScrollTarget,B=document.body,q=B&&B.style;cs=Math.max(cs-1,0),k&&cs<1&&a_.forEach(function(pe){var ge=f.originalStyles[pe];q&&(q[pe]=ge)}),B&&c_()&&(B.removeEventListener("touchmove",s_,this.listenerOptions),U&&(U.removeEventListener("touchstart",u_,this.listenerOptions),U.removeEventListener("touchmove",l_,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),o}($t.Component);f_.defaultProps={accountForScrollbars:!0};function yW(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}function wI(r){var t=SI();return function(){var a=Hr(r),f;if(t){var L=Hr(this).constructor;f=Reflect.construct(a,arguments,L)}else f=a.apply(this,arguments);return Wa(this,f)}}function SI(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(r){return!1}}var II={name:"1dsbpcp",styles:"position:fixed;left:0;bottom:0;right:0;top:0;"},TI=function(r){da(o,r);var t=wI(o);function o(){var a;ua(this,o);for(var f=arguments.length,L=new Array(f),k=0;k<f;k++)L[k]=arguments[k];return a=t.call.apply(t,[this].concat(L)),a.state={touchScrollTarget:null},a.getScrollTarget=function(U){U!==a.state.touchScrollTarget&&a.setState({touchScrollTarget:U})},a.blurSelectInput=function(){document.activeElement&&document.activeElement.blur()},a}return ca(o,[{key:"render",value:function(){var f=this.props,L=f.children,k=f.isEnabled,U=this.state.touchScrollTarget;return k?Bn("div",null,Bn("div",{onClick:this.blurSelectInput,css:II}),Bn(o_,{innerRef:this.getScrollTarget},L),U?Bn(f_,{touchScrollTarget:U}):null):L}}]),o}($t.PureComponent);function DI(r){var t=MI();return function(){var a=Hr(r),f;if(t){var L=Hr(this).constructor;f=Reflect.construct(a,arguments,L)}else f=a.apply(this,arguments);return Wa(this,f)}}function MI(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(r){return!1}}var AI=function(r){da(o,r);var t=DI(o);function o(){var a;ua(this,o);for(var f=arguments.length,L=new Array(f),k=0;k<f;k++)L[k]=arguments[k];return a=t.call.apply(t,[this].concat(L)),a.isBottom=!1,a.isTop=!1,a.scrollTarget=void 0,a.touchStart=void 0,a.cancelScroll=function(U){U.preventDefault(),U.stopPropagation()},a.handleEventDelta=function(U,B){var q=a.props,pe=q.onBottomArrive,ge=q.onBottomLeave,Pe=q.onTopArrive,Ee=q.onTopLeave,Me=a.scrollTarget,De=Me.scrollTop,Ue=Me.scrollHeight,Fe=Me.clientHeight,Ye=a.scrollTarget,st=B>0,nt=Ue-Fe-De,at=!1;nt>B&&a.isBottom&&(ge&&ge(U),a.isBottom=!1),st&&a.isTop&&(Ee&&Ee(U),a.isTop=!1),st&&B>nt?(pe&&!a.isBottom&&pe(U),Ye.scrollTop=Ue,at=!0,a.isBottom=!0):!st&&-B>De&&(Pe&&!a.isTop&&Pe(U),Ye.scrollTop=0,at=!0,a.isTop=!0),at&&a.cancelScroll(U)},a.onWheel=function(U){a.handleEventDelta(U,U.deltaY)},a.onTouchStart=function(U){a.touchStart=U.changedTouches[0].clientY},a.onTouchMove=function(U){var B=a.touchStart-U.changedTouches[0].clientY;a.handleEventDelta(U,B)},a.getScrollTarget=function(U){a.scrollTarget=U},a}return ca(o,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(f){f&&(typeof f.addEventListener=="function"&&f.addEventListener("wheel",this.onWheel,!1),typeof f.addEventListener=="function"&&f.addEventListener("touchstart",this.onTouchStart,!1),typeof f.addEventListener=="function"&&f.addEventListener("touchmove",this.onTouchMove,!1))}},{key:"stopListening",value:function(f){f&&(typeof f.removeEventListener=="function"&&f.removeEventListener("wheel",this.onWheel,!1),typeof f.removeEventListener=="function"&&f.removeEventListener("touchstart",this.onTouchStart,!1),typeof f.removeEventListener=="function"&&f.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return $t.default.createElement(o_,{innerRef:this.getScrollTarget},this.props.children)}}]),o}($t.Component);function LI(r){var t=r.isEnabled,o=t===void 0?!0:t,a=Fa(r,["isEnabled"]);return o?$t.default.createElement(AI,a):a.children}var NI=function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.isSearchable,f=o.isMulti,L=o.label,k=o.isDisabled,U=o.tabSelectsValue;switch(t){case"menu":return"Use Up and Down to choose options".concat(k?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(U?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(L||"Select"," is focused ").concat(a?",type to refine list":"",", press Down to open the menu, ").concat(f?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},xI=function(t,o){var a=o.value,f=o.isDisabled;if(a)switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"select-option":return f?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.")}},RI=function(t){var o=t.focusedValue,a=t.getOptionLabel,f=t.selectValue;return"value ".concat(a(o)," focused, ").concat(f.indexOf(o)+1," of ").concat(f.length,".")},BI=function(t){var o=t.focusedOption,a=t.getOptionLabel,f=t.options;return"option ".concat(a(o)," focused").concat(o.isDisabled?" disabled":"",", ").concat(f.indexOf(o)+1," of ").concat(f.length,".")},UI=function(t){var o=t.inputValue,a=t.screenReaderMessage;return"".concat(a).concat(o?" for search term "+o:"",".")},kI=function(t){return t.label},FI=function(t){return t.label},WI=function(t){return t.value},p_=function(t){return!!t.isDisabled};function h_(r,t){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),o.push.apply(o,a)}return o}function jI(r){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(o),!0).forEach(function(a){_defineProperty(r,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):h_(Object(o)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(o,a))})}return r}var KI={clearIndicator:U5,container:T5,control:H5,dropdownIndicator:R5,group:Z5,groupHeading:z5,indicatorsContainer:L5,indicatorSeparator:F5,input:X5,loadingIndicator:K5,loadingMessage:O5,menu:v5,menuList:P5,menuPortal:C5,multiValue:eI,multiValueLabel:tI,multiValueRemove:nI,noOptionsMessage:E5,option:iI,placeholder:lI,singleValue:cI,valueContainer:M5};function PW(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=jI({},r);return Object.keys(t).forEach(function(a){r[a]?o[a]=function(f,L){return t[a](r[a](f,L),L)}:o[a]=t[a]}),o}var HI={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},VI=4,m_=4,$I=38,ZI=m_*2,GI={baseUnit:m_,controlHeight:$I,menuGutter:ZI},vd={borderRadius:VI,colors:HI,spacing:GI};function __(r,t){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),o.push.apply(o,a)}return o}function _i(r){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?__(Object(o),!0).forEach(function(a){Kr(r,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):__(Object(o)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(o,a))})}return r}function zI(r){var t=YI();return function(){var a=Hr(r),f;if(t){var L=Hr(this).constructor;f=Reflect.construct(a,arguments,L)}else f=a.apply(this,arguments);return Wa(this,f)}}function YI(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(r){return!1}}var JI={backspaceRemovesValue:!0,blurInputOnSelect:Am(),captureMenuScroll:!Am(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:gI(),formatGroupLabel:kI,getOptionLabel:FI,getOptionValue:WI,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:p_,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!h5(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var o=t.count;return"".concat(o," result").concat(o!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},XI=1,g_=function(r){da(o,r);var t=zI(o);function o(a){var f;ua(this,o),f=t.call(this,a),f.state={ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},f.blockOptionHover=!1,f.isComposing=!1,f.clearFocusValueOnUpdate=!1,f.commonProps=void 0,f.components=void 0,f.hasGroups=!1,f.initialTouchX=0,f.initialTouchY=0,f.inputIsHiddenAfterUpdate=void 0,f.instancePrefix="",f.openAfterFocus=!1,f.scrollToFocusedOptionOnUpdate=!1,f.userIsDragging=void 0,f.controlRef=null,f.getControlRef=function(B){f.controlRef=B},f.focusedOptionRef=null,f.getFocusedOptionRef=function(B){f.focusedOptionRef=B},f.menuListRef=null,f.getMenuListRef=function(B){f.menuListRef=B},f.inputRef=null,f.getInputRef=function(B){f.inputRef=B},f.cacheComponents=function(B){f.components=pI({components:B})},f.focus=f.focusInput,f.blur=f.blurInput,f.onChange=function(B,q){var pe=f.props,ge=pe.onChange,Pe=pe.name;ge(B,_i(_i({},q),{},{name:Pe}))},f.setValue=function(B){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",pe=arguments.length>2?arguments[2]:void 0,ge=f.props,Pe=ge.closeMenuOnSelect,Ee=ge.isMulti;f.onInputChange("",{action:"set-value"}),Pe&&(f.inputIsHiddenAfterUpdate=!Ee,f.onMenuClose()),f.clearFocusValueOnUpdate=!0,f.onChange(B,{action:q,option:pe})},f.selectOption=function(B){var q=f.props,pe=q.blurInputOnSelect,ge=q.isMulti,Pe=f.state.selectValue;if(ge)if(f.isOptionSelected(B,Pe)){var Ee=f.getOptionValue(B);f.setValue(Pe.filter(function(Me){return f.getOptionValue(Me)!==Ee}),"deselect-option",B),f.announceAriaLiveSelection({event:"deselect-option",context:{value:f.getOptionLabel(B)}})}else f.isOptionDisabled(B,Pe)?f.announceAriaLiveSelection({event:"select-option",context:{value:f.getOptionLabel(B),isDisabled:!0}}):(f.setValue([].concat(n5(Pe),[B]),"select-option",B),f.announceAriaLiveSelection({event:"select-option",context:{value:f.getOptionLabel(B)}}));else f.isOptionDisabled(B,Pe)?f.announceAriaLiveSelection({event:"select-option",context:{value:f.getOptionLabel(B),isDisabled:!0}}):(f.setValue(B,"select-option"),f.announceAriaLiveSelection({event:"select-option",context:{value:f.getOptionLabel(B)}}));pe&&f.blurInput()},f.removeValue=function(B){var q=f.state.selectValue,pe=f.getOptionValue(B),ge=q.filter(function(Pe){return f.getOptionValue(Pe)!==pe});f.onChange(ge.length?ge:null,{action:"remove-value",removedValue:B}),f.announceAriaLiveSelection({event:"remove-value",context:{value:B?f.getOptionLabel(B):""}}),f.focusInput()},f.clearValue=function(){f.onChange(null,{action:"clear"})},f.popValue=function(){var B=f.state.selectValue,q=B[B.length-1],pe=B.slice(0,B.length-1);f.announceAriaLiveSelection({event:"pop-value",context:{value:q?f.getOptionLabel(q):""}}),f.onChange(pe.length?pe:null,{action:"pop-value",removedValue:q})},f.getValue=function(){return f.state.selectValue},f.cx=function(){for(var B=arguments.length,q=new Array(B),pe=0;pe<B;pe++)q[pe]=arguments[pe];return u5.apply(void 0,[f.props.classNamePrefix].concat(q))},f.getOptionLabel=function(B){return f.props.getOptionLabel(B)},f.getOptionValue=function(B){return f.props.getOptionValue(B)},f.getStyles=function(B,q){var pe=KI[B](q);pe.boxSizing="border-box";var ge=f.props.styles[B];return ge?ge(pe,q):pe},f.getElementId=function(B){return"".concat(f.instancePrefix,"-").concat(B)},f.getActiveDescendentId=function(){var B=f.props.menuIsOpen,q=f.state,pe=q.menuOptions,ge=q.focusedOption;if(!(!ge||!B)){var Pe=pe.focusable.indexOf(ge),Ee=pe.render[Pe];return Ee&&Ee.key}},f.announceAriaLiveSelection=function(B){var q=B.event,pe=B.context;f.setState({ariaLiveSelection:xI(q,pe)})},f.announceAriaLiveContext=function(B){var q=B.event,pe=B.context;f.setState({ariaLiveContext:NI(q,_i(_i({},pe),{},{label:f.props["aria-label"]}))})},f.onMenuMouseDown=function(B){B.button===0&&(B.stopPropagation(),B.preventDefault(),f.focusInput())},f.onMenuMouseMove=function(B){f.blockOptionHover=!1},f.onControlMouseDown=function(B){var q=f.props.openMenuOnClick;f.state.isFocused?f.props.menuIsOpen?B.target.tagName!=="INPUT"&&B.target.tagName!=="TEXTAREA"&&f.onMenuClose():q&&f.openMenu("first"):(q&&(f.openAfterFocus=!0),f.focusInput()),B.target.tagName!=="INPUT"&&B.target.tagName!=="TEXTAREA"&&B.preventDefault()},f.onDropdownIndicatorMouseDown=function(B){if(!(B&&B.type==="mousedown"&&B.button!==0)&&!f.props.isDisabled){var q=f.props,pe=q.isMulti,ge=q.menuIsOpen;f.focusInput(),ge?(f.inputIsHiddenAfterUpdate=!pe,f.onMenuClose()):f.openMenu("first"),B.preventDefault(),B.stopPropagation()}},f.onClearIndicatorMouseDown=function(B){B&&B.type==="mousedown"&&B.button!==0||(f.clearValue(),B.stopPropagation(),f.openAfterFocus=!1,B.type==="touchend"?f.focusInput():setTimeout(function(){return f.focusInput()}))},f.onScroll=function(B){typeof f.props.closeMenuOnScroll=="boolean"?B.target instanceof HTMLElement&&ld(B.target)&&f.props.onMenuClose():typeof f.props.closeMenuOnScroll=="function"&&f.props.closeMenuOnScroll(B)&&f.props.onMenuClose()},f.onCompositionStart=function(){f.isComposing=!0},f.onCompositionEnd=function(){f.isComposing=!1},f.onTouchStart=function(B){var q=B.touches,pe=q&&q.item(0);pe&&(f.initialTouchX=pe.clientX,f.initialTouchY=pe.clientY,f.userIsDragging=!1)},f.onTouchMove=function(B){var q=B.touches,pe=q&&q.item(0);if(pe){var ge=Math.abs(pe.clientX-f.initialTouchX),Pe=Math.abs(pe.clientY-f.initialTouchY),Ee=5;f.userIsDragging=ge>Ee||Pe>Ee}},f.onTouchEnd=function(B){f.userIsDragging||(f.controlRef&&!f.controlRef.contains(B.target)&&f.menuListRef&&!f.menuListRef.contains(B.target)&&f.blurInput(),f.initialTouchX=0,f.initialTouchY=0)},f.onControlTouchEnd=function(B){f.userIsDragging||f.onControlMouseDown(B)},f.onClearIndicatorTouchEnd=function(B){f.userIsDragging||f.onClearIndicatorMouseDown(B)},f.onDropdownIndicatorTouchEnd=function(B){f.userIsDragging||f.onDropdownIndicatorMouseDown(B)},f.handleInputChange=function(B){var q=B.currentTarget.value;f.inputIsHiddenAfterUpdate=!1,f.onInputChange(q,{action:"input-change"}),f.props.menuIsOpen||f.onMenuOpen()},f.onInputFocus=function(B){var q=f.props,pe=q.isSearchable,ge=q.isMulti;f.props.onFocus&&f.props.onFocus(B),f.inputIsHiddenAfterUpdate=!1,f.announceAriaLiveContext({event:"input",context:{isSearchable:pe,isMulti:ge}}),f.setState({isFocused:!0}),(f.openAfterFocus||f.props.openMenuOnFocus)&&f.openMenu("first"),f.openAfterFocus=!1},f.onInputBlur=function(B){if(f.menuListRef&&f.menuListRef.contains(document.activeElement)){f.inputRef.focus();return}f.props.onBlur&&f.props.onBlur(B),f.onInputChange("",{action:"input-blur"}),f.onMenuClose(),f.setState({focusedValue:null,isFocused:!1})},f.onOptionHover=function(B){f.blockOptionHover||f.state.focusedOption===B||f.setState({focusedOption:B})},f.shouldHideSelectedOptions=function(){var B=f.props,q=B.hideSelectedOptions,pe=B.isMulti;return q===void 0?pe:q},f.onKeyDown=function(B){var q=f.props,pe=q.isMulti,ge=q.backspaceRemovesValue,Pe=q.escapeClearsValue,Ee=q.inputValue,Me=q.isClearable,De=q.isDisabled,Ue=q.menuIsOpen,Fe=q.onKeyDown,Ye=q.tabSelectsValue,st=q.openMenuOnFocus,nt=f.state,at=nt.focusedOption,yt=nt.focusedValue,Et=nt.selectValue;if(!De&&!(typeof Fe=="function"&&(Fe(B),B.defaultPrevented))){switch(f.blockOptionHover=!0,B.key){case"ArrowLeft":if(!pe||Ee)return;f.focusValue("previous");break;case"ArrowRight":if(!pe||Ee)return;f.focusValue("next");break;case"Delete":case"Backspace":if(Ee)return;if(yt)f.removeValue(yt);else{if(!ge)return;pe?f.popValue():Me&&f.clearValue()}break;case"Tab":if(f.isComposing||B.shiftKey||!Ue||!Ye||!at||st&&f.isOptionSelected(at,Et))return;f.selectOption(at);break;case"Enter":if(B.keyCode===229)break;if(Ue){if(!at||f.isComposing)return;f.selectOption(at);break}return;case"Escape":Ue?(f.inputIsHiddenAfterUpdate=!1,f.onInputChange("",{action:"menu-close"}),f.onMenuClose()):Me&&Pe&&f.clearValue();break;case" ":if(Ee)return;if(!Ue){f.openMenu("first");break}if(!at)return;f.selectOption(at);break;case"ArrowUp":Ue?f.focusOption("up"):f.openMenu("last");break;case"ArrowDown":Ue?f.focusOption("down"):f.openMenu("first");break;case"PageUp":if(!Ue)return;f.focusOption("pageup");break;case"PageDown":if(!Ue)return;f.focusOption("pagedown");break;case"Home":if(!Ue)return;f.focusOption("first");break;case"End":if(!Ue)return;f.focusOption("last");break;default:return}B.preventDefault()}},f.buildMenuOptions=function(B,q){var pe=B.inputValue,ge=pe===void 0?"":pe,Pe=B.options,Ee=function(De,Ue){var Fe=f.isOptionDisabled(De,q),Ye=f.isOptionSelected(De,q),st=f.getOptionLabel(De),nt=f.getOptionValue(De);if(!(f.shouldHideSelectedOptions()&&Ye||!f.filterOption({label:st,value:nt,data:De},ge))){var at=Fe?void 0:function(){return f.onOptionHover(De)},yt=Fe?void 0:function(){return f.selectOption(De)},Et="".concat(f.getElementId("option"),"-").concat(Ue);return{innerProps:{id:Et,onClick:yt,onMouseMove:at,onMouseOver:at,tabIndex:-1},data:De,isDisabled:Fe,isSelected:Ye,key:Et,label:st,type:"option",value:nt}}};return Pe.reduce(function(Me,De,Ue){if(De.options){f.hasGroups||(f.hasGroups=!0);var Fe=De.options,Ye=Fe.map(function(at,yt){var Et=Ee(at,"".concat(Ue,"-").concat(yt));return Et&&Me.focusable.push(at),Et}).filter(Boolean);if(Ye.length){var st="".concat(f.getElementId("group"),"-").concat(Ue);Me.render.push({type:"group",key:st,data:De,options:Ye})}}else{var nt=Ee(De,"".concat(Ue));nt&&(Me.render.push(nt),Me.focusable.push(De))}return Me},{render:[],focusable:[]})};var L=a.value;f.cacheComponents=Im(f.cacheComponents,I5).bind(id(f)),f.cacheComponents(a.components),f.instancePrefix="react-select-"+(f.props.instanceId||++XI);var k=Dm(L);f.buildMenuOptions=Im(f.buildMenuOptions,function(B,q){var pe=B,ge=Cm(pe,2),Pe=ge[0],Ee=ge[1],Me=q,De=Cm(Me,2),Ue=De[0],Fe=De[1];return Ee===Fe&&Pe.inputValue===Ue.inputValue&&Pe.options===Ue.options}).bind(id(f));var U=a.menuIsOpen?f.buildMenuOptions(a,k):{render:[],focusable:[]};return f.state.menuOptions=U,f.state.selectValue=k,f}return ca(o,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"UNSAFE_componentWillReceiveProps",value:function(f){var L=this.props,k=L.options,U=L.value,B=L.menuIsOpen,q=L.inputValue;if(this.cacheComponents(f.components),f.value!==U||f.options!==k||f.menuIsOpen!==B||f.inputValue!==q){var pe=Dm(f.value),ge=f.menuIsOpen?this.buildMenuOptions(f,pe):{render:[],focusable:[]},Pe=this.getNextFocusedValue(pe),Ee=this.getNextFocusedOption(ge.focusable);this.setState({menuOptions:ge,selectValue:pe,focusedOption:Ee,focusedValue:Pe})}this.inputIsHiddenAfterUpdate!=null&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(f){var L=this.props,k=L.isDisabled,U=L.menuIsOpen,B=this.state.isFocused;(B&&!k&&f.isDisabled||B&&U&&!f.menuIsOpen)&&this.focusInput(),B&&k&&!f.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(f5(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var f=this.props,L=f.isSearchable,k=f.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:L,isMulti:k}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(f,L){this.props.onInputChange(f,L)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(f){var L=this,k=this.state,U=k.selectValue,B=k.isFocused,q=this.buildMenuOptions(this.props,U),pe=this.props,ge=pe.isMulti,Pe=pe.tabSelectsValue,Ee=f==="first"?0:q.focusable.length-1;if(!ge){var Me=q.focusable.indexOf(U[0]);Me>-1&&(Ee=Me)}this.scrollToFocusedOptionOnUpdate=!(B&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.setState({menuOptions:q,focusedValue:null,focusedOption:q.focusable[Ee]},function(){L.onMenuOpen(),L.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:Pe}})})}},{key:"focusValue",value:function(f){var L=this.props,k=L.isMulti,U=L.isSearchable,B=this.state,q=B.selectValue,pe=B.focusedValue;if(k){this.setState({focusedOption:null});var ge=q.indexOf(pe);pe||(ge=-1,this.announceAriaLiveContext({event:"value"}));var Pe=q.length-1,Ee=-1;if(q.length){switch(f){case"previous":ge===0?Ee=0:ge===-1?Ee=Pe:Ee=ge-1;break;case"next":ge>-1&&ge<Pe&&(Ee=ge+1);break}Ee===-1&&this.announceAriaLiveContext({event:"input",context:{isSearchable:U,isMulti:k}}),this.setState({inputIsHidden:Ee!==-1,focusedValue:q[Ee]})}}}},{key:"focusOption",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",L=this.props,k=L.pageSize,U=L.tabSelectsValue,B=this.state,q=B.focusedOption,pe=B.menuOptions,ge=pe.focusable;if(ge.length){var Pe=0,Ee=ge.indexOf(q);q||(Ee=-1,this.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:U}})),f==="up"?Pe=Ee>0?Ee-1:ge.length-1:f==="down"?Pe=(Ee+1)%ge.length:f==="pageup"?(Pe=Ee-k,Pe<0&&(Pe=0)):f==="pagedown"?(Pe=Ee+k,Pe>ge.length-1&&(Pe=ge.length-1)):f==="last"&&(Pe=ge.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:ge[Pe],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:p_(ge[Pe]),tabSelectsValue:U}})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(vd):_i(_i({},vd),this.props.theme):vd}},{key:"getCommonProps",value:function(){var f=this.clearValue,L=this.cx,k=this.getStyles,U=this.getValue,B=this.setValue,q=this.selectOption,pe=this.props,ge=pe.isMulti,Pe=pe.isRtl,Ee=pe.options,Me=this.hasValue();return{cx:L,clearValue:f,getStyles:k,getValue:U,hasValue:Me,isMulti:ge,isRtl:Pe,options:Ee,selectOption:q,setValue:B,selectProps:pe,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(f){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var L=this.state,k=L.focusedValue,U=L.selectValue,B=U.indexOf(k);if(B>-1){var q=f.indexOf(k);if(q>-1)return k;if(B<f.length)return f[B]}return null}},{key:"getNextFocusedOption",value:function(f){var L=this.state.focusedOption;return L&&f.indexOf(L)>-1?L:f[0]}},{key:"hasValue",value:function(){var f=this.state.selectValue;return f.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var f=this.props,L=f.isClearable,k=f.isMulti;return L===void 0?k:L}},{key:"isOptionDisabled",value:function(f,L){return typeof this.props.isOptionDisabled=="function"?this.props.isOptionDisabled(f,L):!1}},{key:"isOptionSelected",value:function(f,L){var k=this;if(L.indexOf(f)>-1)return!0;if(typeof this.props.isOptionSelected=="function")return this.props.isOptionSelected(f,L);var U=this.getOptionValue(f);return L.some(function(B){return k.getOptionValue(B)===U})}},{key:"filterOption",value:function(f,L){return this.props.filterOption?this.props.filterOption(f,L):!0}},{key:"formatOptionLabel",value:function(f,L){if(typeof this.props.formatOptionLabel=="function"){var k=this.props.inputValue,U=this.state.selectValue;return this.props.formatOptionLabel(f,{context:L,inputValue:k,selectValue:U})}else return this.getOptionLabel(f)}},{key:"formatGroupLabel",value:function(f){return this.props.formatGroupLabel(f)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"constructAriaLiveMessage",value:function(){var f=this.state,L=f.ariaLiveContext,k=f.selectValue,U=f.focusedValue,B=f.focusedOption,q=this.props,pe=q.options,ge=q.menuIsOpen,Pe=q.inputValue,Ee=q.screenReaderStatus,Me=U?RI({focusedValue:U,getOptionLabel:this.getOptionLabel,selectValue:k}):"",De=B&&ge?BI({focusedOption:B,getOptionLabel:this.getOptionLabel,options:pe}):"",Ue=UI({inputValue:Pe,screenReaderMessage:Ee({count:this.countOptions()})});return"".concat(Me," ").concat(De," ").concat(Ue," ").concat(L)}},{key:"renderInput",value:function(){var f=this.props,L=f.isDisabled,k=f.isSearchable,U=f.inputId,B=f.inputValue,q=f.tabIndex,pe=f.form,ge=this.components.Input,Pe=this.state.inputIsHidden,Ee=U||this.getElementId("input"),Me={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};if(!k)return $t.default.createElement(PI,kn({id:Ee,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Tm,onFocus:this.onInputFocus,readOnly:!0,disabled:L,tabIndex:q,form:pe,value:""},Me));var De=this.commonProps,Ue=De.cx,Fe=De.theme,Ye=De.selectProps;return $t.default.createElement(ge,kn({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:Ue,getStyles:this.getStyles,id:Ee,innerRef:this.getInputRef,isDisabled:L,isHidden:Pe,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:Ye,spellCheck:"false",tabIndex:q,form:pe,theme:Fe,type:"text",value:B},Me))}},{key:"renderPlaceholderOrValue",value:function(){var f=this,L=this.components,k=L.MultiValue,U=L.MultiValueContainer,B=L.MultiValueLabel,q=L.MultiValueRemove,pe=L.SingleValue,ge=L.Placeholder,Pe=this.commonProps,Ee=this.props,Me=Ee.controlShouldRenderValue,De=Ee.isDisabled,Ue=Ee.isMulti,Fe=Ee.inputValue,Ye=Ee.placeholder,st=this.state,nt=st.selectValue,at=st.focusedValue,yt=st.isFocused;if(!this.hasValue()||!Me)return Fe?null:$t.default.createElement(ge,kn({},Pe,{key:"placeholder",isDisabled:De,isFocused:yt}),Ye);if(Ue){var Et=nt.map(function(It,Tt){var Rt=It===at;return $t.default.createElement(k,kn({},Pe,{components:{Container:U,Label:B,Remove:q},isFocused:Rt,isDisabled:De,key:"".concat(f.getOptionValue(It)).concat(Tt),index:Tt,removeProps:{onClick:function(){return f.removeValue(It)},onTouchEnd:function(){return f.removeValue(It)},onMouseDown:function(Qt){Qt.preventDefault(),Qt.stopPropagation()}},data:It}),f.formatOptionLabel(It,"value"))});return Et}if(Fe)return null;var Ct=nt[0];return $t.default.createElement(pe,kn({},Pe,{data:Ct,isDisabled:De}),this.formatOptionLabel(Ct,"value"))}},{key:"renderClearIndicator",value:function(){var f=this.components.ClearIndicator,L=this.commonProps,k=this.props,U=k.isDisabled,B=k.isLoading,q=this.state.isFocused;if(!this.isClearable()||!f||U||!this.hasValue()||B)return null;var pe={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return $t.default.createElement(f,kn({},L,{innerProps:pe,isFocused:q}))}},{key:"renderLoadingIndicator",value:function(){var f=this.components.LoadingIndicator,L=this.commonProps,k=this.props,U=k.isDisabled,B=k.isLoading,q=this.state.isFocused;if(!f||!B)return null;var pe={"aria-hidden":"true"};return $t.default.createElement(f,kn({},L,{innerProps:pe,isDisabled:U,isFocused:q}))}},{key:"renderIndicatorSeparator",value:function(){var f=this.components,L=f.DropdownIndicator,k=f.IndicatorSeparator;if(!L||!k)return null;var U=this.commonProps,B=this.props.isDisabled,q=this.state.isFocused;return $t.default.createElement(k,kn({},U,{isDisabled:B,isFocused:q}))}},{key:"renderDropdownIndicator",value:function(){var f=this.components.DropdownIndicator;if(!f)return null;var L=this.commonProps,k=this.props.isDisabled,U=this.state.isFocused,B={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return $t.default.createElement(f,kn({},L,{innerProps:B,isDisabled:k,isFocused:U}))}},{key:"renderMenu",value:function(){var f=this,L=this.components,k=L.Group,U=L.GroupHeading,B=L.Menu,q=L.MenuList,pe=L.MenuPortal,ge=L.LoadingMessage,Pe=L.NoOptionsMessage,Ee=L.Option,Me=this.commonProps,De=this.state,Ue=De.focusedOption,Fe=De.menuOptions,Ye=this.props,st=Ye.captureMenuScroll,nt=Ye.inputValue,at=Ye.isLoading,yt=Ye.loadingMessage,Et=Ye.minMenuHeight,Ct=Ye.maxMenuHeight,It=Ye.menuIsOpen,Tt=Ye.menuPlacement,Rt=Ye.menuPosition,wt=Ye.menuPortalTarget,Qt=Ye.menuShouldBlockScroll,jt=Ye.menuShouldScrollIntoView,qt=Ye.noOptionsMessage,ln=Ye.onMenuScrollToTop,Bt=Ye.onMenuScrollToBottom;if(!It)return null;var zt=function(Gt){var mt=Ue===Gt.data;return Gt.innerRef=mt?f.getFocusedOptionRef:void 0,$t.default.createElement(Ee,kn({},Me,Gt,{isFocused:mt}),f.formatOptionLabel(Gt.data,"menu"))},on;if(this.hasOptions())on=Fe.render.map(function(kt){if(kt.type==="group"){var Gt=kt.type,mt=Fa(kt,["type"]),hn="".concat(kt.key,"-heading");return $t.default.createElement(k,kn({},Me,mt,{Heading:U,headingProps:{id:hn,data:kt.data},label:f.formatGroupLabel(kt.data)}),kt.options.map(function(Xt){return zt(Xt)}))}else if(kt.type==="option")return zt(kt)});else if(at){var Yt=yt({inputValue:nt});if(Yt===null)return null;on=$t.default.createElement(ge,Me,Yt)}else{var Zt=qt({inputValue:nt});if(Zt===null)return null;on=$t.default.createElement(Pe,Me,Zt)}var xt={minMenuHeight:Et,maxMenuHeight:Ct,menuPlacement:Tt,menuPosition:Rt,menuShouldScrollIntoView:jt},Dt=$t.default.createElement(Bm,kn({},Me,xt),function(kt){var Gt=kt.ref,mt=kt.placerProps,hn=mt.placement,Xt=mt.maxHeight;return $t.default.createElement(B,kn({},Me,xt,{innerRef:Gt,innerProps:{onMouseDown:f.onMenuMouseDown,onMouseMove:f.onMenuMouseMove},isLoading:at,placement:hn}),$t.default.createElement(LI,{isEnabled:st,onTopArrive:ln,onBottomArrive:Bt},$t.default.createElement(TI,{isEnabled:Qt},$t.default.createElement(q,kn({},Me,{innerRef:f.getMenuListRef,isLoading:at,maxHeight:Xt}),on))))});return wt||Rt==="fixed"?$t.default.createElement(pe,kn({},Me,{appendTo:wt,controlElement:this.controlRef,menuPlacement:Tt,menuPosition:Rt}),Dt):Dt}},{key:"renderFormField",value:function(){var f=this,L=this.props,k=L.delimiter,U=L.isDisabled,B=L.isMulti,q=L.name,pe=this.state.selectValue;if(!(!q||U))if(B)if(k){var ge=pe.map(function(Me){return f.getOptionValue(Me)}).join(k);return $t.default.createElement("input",{name:q,type:"hidden",value:ge})}else{var Pe=pe.length>0?pe.map(function(Me,De){return $t.default.createElement("input",{key:"i-".concat(De),name:q,type:"hidden",value:f.getOptionValue(Me)})}):$t.default.createElement("input",{name:q,type:"hidden"});return $t.default.createElement("div",null,Pe)}else{var Ee=pe[0]?this.getOptionValue(pe[0]):"";return $t.default.createElement("input",{name:q,type:"hidden",value:Ee})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?$t.default.createElement(yI,{"aria-live":"polite"},$t.default.createElement("span",{id:"aria-selection-event"},"\xA0",this.state.ariaLiveSelection),$t.default.createElement("span",{id:"aria-context"},"\xA0",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var f=this.components,L=f.Control,k=f.IndicatorsContainer,U=f.SelectContainer,B=f.ValueContainer,q=this.props,pe=q.className,ge=q.id,Pe=q.isDisabled,Ee=q.menuIsOpen,Me=this.state.isFocused,De=this.commonProps=this.getCommonProps();return $t.default.createElement(U,kn({},De,{className:pe,innerProps:{id:ge,onKeyDown:this.onKeyDown},isDisabled:Pe,isFocused:Me}),this.renderLiveRegion(),$t.default.createElement(L,kn({},De,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:Pe,isFocused:Me,menuIsOpen:Ee}),$t.default.createElement(B,kn({},De,{isDisabled:Pe}),this.renderPlaceholderOrValue(),this.renderInput()),$t.default.createElement(k,kn({},De,{isDisabled:Pe}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),o}($t.Component);g_.defaultProps=JI;function QI(r){var t=qI();return function(){var a=Hr(r),f;if(t){var L=Hr(this).constructor;f=Reflect.construct(a,arguments,L)}else f=a.apply(this,arguments);return Wa(this,f)}}function qI(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(r){return!1}}var e4={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},t4=function(t){var o,a;return a=o=function(f){da(k,f);var L=QI(k);function k(){var U;ua(this,k);for(var B=arguments.length,q=new Array(B),pe=0;pe<B;pe++)q[pe]=arguments[pe];return U=L.call.apply(L,[this].concat(q)),U.select=void 0,U.state={inputValue:U.props.inputValue!==void 0?U.props.inputValue:U.props.defaultInputValue,menuIsOpen:U.props.menuIsOpen!==void 0?U.props.menuIsOpen:U.props.defaultMenuIsOpen,value:U.props.value!==void 0?U.props.value:U.props.defaultValue},U.onChange=function(ge,Pe){U.callProp("onChange",ge,Pe),U.setState({value:ge})},U.onInputChange=function(ge,Pe){var Ee=U.callProp("onInputChange",ge,Pe);U.setState({inputValue:Ee!==void 0?Ee:ge})},U.onMenuOpen=function(){U.callProp("onMenuOpen"),U.setState({menuIsOpen:!0})},U.onMenuClose=function(){U.callProp("onMenuClose"),U.setState({menuIsOpen:!1})},U}return ca(k,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(B){return this.props[B]!==void 0?this.props[B]:this.state[B]}},{key:"callProp",value:function(B){if(typeof this.props[B]=="function"){for(var q,pe=arguments.length,ge=new Array(pe>1?pe-1:0),Pe=1;Pe<pe;Pe++)ge[Pe-1]=arguments[Pe];return(q=this.props)[B].apply(q,ge)}}},{key:"render",value:function(){var B=this,q=this.props,pe=q.defaultInputValue,ge=q.defaultMenuIsOpen,Pe=q.defaultValue,Ee=Fa(q,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return $t.default.createElement(t,kn({},Ee,{ref:function(De){B.select=De},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),k}($t.Component),o.defaultProps=e4,a};function bW(r){var t=n4();return function(){var a=_getPrototypeOf(r),f;if(t){var L=_getPrototypeOf(this).constructor;f=Reflect.construct(a,arguments,L)}else f=a.apply(this,arguments);return _possibleConstructorReturn(this,f)}}function n4(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(r){return!1}}var EW=null,r4=t4(g_);const o4=r4;var a4=Object.defineProperty,v_=Object.getOwnPropertySymbols,i4=Object.prototype.hasOwnProperty,s4=Object.prototype.propertyIsEnumerable,y_=(r,t,o)=>t in r?a4(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,P_=(r,t)=>{for(var o in t||(t={}))i4.call(t,o)&&y_(r,o,t[o]);if(v_)for(var o of v_(t))s4.call(t,o)&&y_(r,o,t[o]);return r};const b_=(0,e.createContext)({publication:{},pub:{},setPublication:({pub:r,publication:t})=>{}});b_.displayName="PublishContext";const OW=r=>{const t=o=>{const a=E_();return h(r,P_(P_({},a),o))};return t.displayName=`withPublishContext(${r.name||r.displayName||"Anonymous"})`,t},E_=()=>(0,n.qp)(b_);var l4=Object.defineProperty,u4=Object.defineProperties,c4=Object.getOwnPropertyDescriptors,Tl=Object.getOwnPropertySymbols,O_=Object.prototype.hasOwnProperty,C_=Object.prototype.propertyIsEnumerable,w_=(r,t,o)=>t in r?l4(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,ja=(r,t)=>{for(var o in t||(t={}))O_.call(t,o)&&w_(r,o,t[o]);if(Tl)for(var o of Tl(t))C_.call(t,o)&&w_(r,o,t[o]);return r},Dl=(r,t)=>u4(r,c4(t)),d4=(r,t)=>{var o={};for(var a in r)O_.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&Tl)for(var a of Tl(r))t.indexOf(a)<0&&C_.call(r,a)&&(o[a]=r[a]);return o};const f4=()=>null,S_=r=>{var t=r,{variant:o="default",isSearchable:a=!1,className:f}=t,L=d4(t,["variant","isSearchable","className"]),k,U;const{pub:B}=E_();return(0,e.h)(o4,Dl(ja({},L),{isDisabled:L.isDisabled,className:u()("themed-select",f),components:ja({IndicatorSeparator:f4},L.components),theme:(0,i.getSelectTheme)({primary:((k=B.theme)==null?void 0:k.background_pop_color)||B.theme_var_background_pop||"#1a1a1a",neutral0:o==="light"?"white":(U=B.theme)==null?void 0:U.web_bg_color}),isSearchable:a,styles:ja(ja({container:q=>Dl(ja({},q),{flex:1}),dropdownIndicator:q=>Dl(ja({},q),{color:"#1a1a1a"})},L.showOnlyIndicator&&{valueContainer:q=>Dl(ja({},q),{width:0,padding:0})}),L.styles)}))};var p4=Object.defineProperty,h4=Object.defineProperties,m4=Object.getOwnPropertyDescriptors,I_=Object.getOwnPropertySymbols,_4=Object.prototype.hasOwnProperty,g4=Object.prototype.propertyIsEnumerable,T_=(r,t,o)=>t in r?p4(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,D_=(r,t)=>{for(var o in t||(t={}))_4.call(t,o)&&T_(r,o,t[o]);if(I_)for(var o of I_(t))g4.call(t,o)&&T_(r,o,t[o]);return r},v4=(r,t)=>h4(r,m4(t)),ds=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const M_=2,A_=5,y4=35,P4=255,b4=({isExpired:r,isPublished:t,remainingHours:o,language:a})=>{const{iString:f,iTemplate:L}=I18N.i(a);if(r)return f("POLL CLOSED");if(!t)return f("NOT PUBLISHED");if(o>=168)return"";if(o>=48){const k=Math.floor(o/24);return L`${k} DAYS REMAINING`}return o>=24?L`1 DAY REMAINING`:o>=2?L`${o} HOURS REMAINING`:o==1?f("1 HOUR REMAINING"):f("LESS THAN 1 HOUR REMAINING")},yd=(r,t)=>{const{iTemplate:o}=I18N.i(t);return r>1?o`Choice ${r+1} (optional)`:o`Choice ${r+1}`},E4=({question:r,expiry:t,audience:o,options:a},f)=>{const{iString:L}=I18N.i(f),k=a.filter(Boolean);if(r.length<1||r.length>255)return L("The question must be between 1 and 255 characters long.");if(k.length<2||k.length>5)return L("Your poll must have 2 to 5 options.");if(k.some(U=>U.length<1||U.length>50))return L("Each option must be between 1 and 50 characters long.");if(["all_subscribers","only_paid"].includes(o)){if(![1,24,72,168,999999].includes(t))return L("The length of your poll is invalid.")}else return L("Your poll audience is invalid.");return null},O4=({index:r,text:t,onChange:o,onDelete:a,showDeleteButton:f,disabled:L})=>{const{language:k}=(0,A.M1)();return(0,e.h)("div",{className:"poll-option-editor"},(0,e.h)("input",{type:"text",onChange:U=>{o(r,U.currentTarget.value)},value:t,disabled:L,placeholder:yd(r,k),maxLength:y4}),(0,e.h)("button",{className:u()("poll-remove-option",{"is-hidden":!f}),onClick:()=>a(r),disabled:L,tabIndex:f?void 0:-1},(0,e.h)(es.Z,null)))},C4=({poll:r,isOpen:t,onClose:o,onSave:a,isPublished:f,totalVotes:L,shouldShowAudiencePicker:k})=>{let U=r.options.map(Zt=>Zt.label);U.length>1?U.length<A_&&U.push(""):U=["",""];const{iString:B,language:q,iPlural:pe}=(0,A.M1)(),{payments_state:ge}=(0,Cc.I)()||{},Pe=k&&ge==="enabled"?"only_paid":"all_subscribers",[Ee,Me]=(0,n.eJ)(r.question||""),[De,Ue]=(0,n.eJ)(U),[Fe,Ye]=(0,n.eJ)(r.expiry||24),[st,nt]=(0,n.eJ)(r.audience||Pe),[at,yt]=(0,n.eJ)(!1),[Et,Ct]=(0,n.eJ)(r.votes_hidden||!1),[It,Tt]=(0,n.eJ)(null),Rt=E4({question:Ee,options:De,expiry:Fe,audience:st,votes_hidden:Et},q),wt=(0,n.I4)(()=>{var Zt;Me(r.question||""),Ue(((Zt=r.options)==null?void 0:Zt.map(xt=>xt.label))||["",""]),Ye(r.expiry||24),nt(r.audience||Pe),Ct(r.votes_hidden||!1),Tt(null),o()},[Me,Ue,Ye,nt,r,o]),Qt=(0,n.I4)(({value:Zt})=>{["only_paid","all_subscribers"].includes(Zt)&&nt(Zt)},[nt]),jt=B(st==="only_paid"?"Only paid subscribers":"All subscribers who can see this post"),qt=(0,n.I4)(({value:Zt})=>{const xt=Number(Zt);[1,24,72,168,999999].includes(xt)&&Ye(xt)},[Ye]),ln=B(Fe===1?"1 hour":Fe===24?"1 day":Fe===72?"3 days":Fe===168?"1 week":"Forever"),Bt=(0,n.I4)((Zt,xt)=>{const Dt=[...De];Dt.splice(Zt,1,xt),Zt===Dt.length-1&&Dt.length<A_&&Dt.push(""),Ue(Dt)},[De,Ue]),zt=(0,n.I4)(Zt=>{if(De.length<=M_||Zt>=De.length)return;const xt=[...De];xt.splice(Zt,1),xt[xt.length-1].length&&xt.push(""),Ue(xt)},[De,Ue]),on=Array(Math.max(2,De.length||0)).fill("").map((Zt,xt)=>De.length>xt?De[xt]:Zt),Yt=It||f&&pe("This poll is part of a post that has already been published. If you modify it, 1 existing vote will be removed.","This poll is part of a post that has already been published. If you modify it, %1 existing votes will be removed.",L);return(0,e.h)(Jr.u_,{className:"poll-editor-modal",isOpen:t,onClose:o},(0,e.h)("div",{className:"poll-editor"},(0,e.h)("div",{className:"poll-editor-section question-section"},(0,e.h)("input",{className:"poll-question-editor",type:"text",value:Ee,onChange:Zt=>Me(Zt.currentTarget.value),placeholder:B("Enter your question..."),disabled:at,maxLength:P4})),(0,e.h)("div",{className:"poll-editor-section options-section"},(0,e.h)("div",{className:"poll-options-editor"},on.map((Zt,xt)=>(0,e.h)(O4,{index:xt,text:Zt,onChange:Bt,onDelete:zt,disabled:at,showDeleteButton:on.length>M_&&(xt<on.length-1||Zt.length>0)})))),(0,e.h)("div",{className:"poll-editor-section length-section"},(0,e.h)("div",{className:"poll-section-title"},B("Length")),(0,e.h)(S_,{options:[{label:B("1 hour"),value:"1"},{label:B("1 day"),value:"24"},{label:B("3 days"),value:"72"},{label:B("1 week"),value:"168"},{label:B("Forever"),value:"999999"}],isDisabled:at,value:{label:ln,value:String(Fe)},onChange:qt})),k&&ge==="enabled"&&(0,e.h)("div",{className:"poll-editor-section audience-section"},(0,e.h)("div",{className:"poll-section-title"},B("Who can vote?")),(0,e.h)(S_,{options:[{label:B("Only paid subscribers"),value:"only_paid"},{label:B("All subscribers who can see this post"),value:"all_subscribers"}],isDisabled:at,value:{label:jt,value:st},onChange:Qt})),(0,e.h)("div",{className:"poll-editor-section vote-visibility-section"},(0,e.h)(um.p,{checked:Et,onChange:()=>Ct(!Et),label:B("Hide the total vote count from readers?"),name:"votes-hidden"})),(0,e.h)("div",{className:"poll-editor-section action-section"},Yt&&(0,e.h)("div",{className:"edit-warning"},Yt),(0,e.h)("div",{className:"action-buttons"},(0,e.h)(ho.z,{className:"button btn btn-secondary poll-editor-cancel-button",variant:"secondary",look:"button",onClick:wt,disabled:at},B("Cancel")),(0,e.h)(bS.L,{content:Rt,className:u()("inverse",{disabled:Rt===null})},(0,e.h)(ho.z,{className:"button btn btn-primary poll-editor-confirm-button",variant:"primary",look:"button",onClick:()=>ds(void 0,null,function*(){yt(!0);try{yield a({audience:st,question:Ee,options:De.filter(Boolean),expiry:Fe,votes_hidden:Et})}catch(Zt){Tt(B("An error occurred while saving this poll."))}yt(!1)}),disabled:Rt!==null||at},B("Save")))))))},w4=({id:r,text:t,onVote:o,showVotes:a,currentVotes:f,totalVotes:L,myVote:k,canVote:U})=>{const B=(0,n.I4)(()=>ds(void 0,null,function*(){r&&(yield o(r))}),[r,o]),q=Math.round(100*(L===0?0:f/L));return(0,e.h)("div",{className:u()("poll-option",{"show-votes":a,"hide-votes":!a,"can-vote":U,"my-vote":k}),onClick:B},a&&(0,e.h)("div",{className:"poll-vote-background",style:{width:`${q}%`}}),(0,e.h)("div",{className:"poll-option-background"},(0,e.h)("div",{className:"poll-option-text"},t,a&&k&&(0,e.h)(Np,{className:"vote-icon"}))),a&&(0,e.h)("div",{className:"poll-percentage-text"},q,"%"))},S4=({id:r,isEditor:t,post:o,pub:a,isVersionView:f})=>{var L,k,U;const[B,q]=(0,n.eJ)(!1),[pe,ge]=(0,n.eJ)(!0),[Pe,Ee]=(0,n.eJ)(null),[Me,De]=(0,n.eJ)(null),[Ue,Fe]=(0,n.eJ)(!0),[Ye,st]=(0,n.eJ)(f!=null?f:!1),{iString:nt,iPlural:at,language:yt}=(0,A.M1)(),Et=(0,ur.pm)(),Ct={token:void 0,uuid:void 0};if(typeof window!="undefined"&&!t){const un=(0,g.parseQuery)(window.location.href);if(un&&un.token&&(Ct.token=un.token),!Ct.token&&((L=window._preloads)!=null&&L.original_url)){const In=(0,g.parseQuery)(window._preloads.original_url);In&&In.token&&(Ct.token=In.token)}}if(typeof window!="undefined"&&!t&&o.is_draft){const un=(0,g.getPostSlug)(window.location.href);un&&(0,Ne.isUUID)(un)&&(Ct.uuid=un)}const It=(0,Jt.aF)()||{},Tt=D_({is_subscribed:!1,is_free_subscribed:!1,is_contributor:!1,is_author:!1,is_admin:!1},It),{is_subscribed:Rt,is_admin:wt,is_contributor:Qt,is_author:jt}=Tt;let{is_free_subscribed:qt}=Tt;pS()&&(qt=!0);const ln=Qt||wt||jt,Bt=sn()(),zt=Pe&&Pe.published_at&&sn()(Pe.published_at).add(Pe.expiry,"hour"),on=zt&&zt.diff(Bt,"hour"),Zt=(Pe==null?void 0:Pe.audience)==="only_paid"?Rt:qt,xt=Pe&&Pe.options.some(un=>un.my_vote),Dt=!!(Pe!=null&&Pe.is_published),kt=Dt&&zt&&zt.isBefore(Bt),Gt=t&&((Pe==null?void 0:Pe.post_type)!=="adhoc_email"||!Dt),mt=(0,n.sO)(null),hn=!xt&&Dt&&!kt&&Zt,Xt=at("%1 VOTE","%1 VOTES",(Pe==null?void 0:Pe.total_votes)||0),vn=b4({isExpired:kt,isPublished:Dt,remainingHours:on,language:yt}),Nn=(0,n.I4)((...un)=>ds(void 0,[...un],function*({shouldNotSetLoading:In}={shouldNotSetLoading:!1}){In||ge(!0);try{const Mn=yield et()(`/api/v1/poll/${r}`).query(Ct);Ee(Mn.body),De(null)}catch(Mn){De(nt("We were unable to load this poll. Please refresh the page."))}ge(!1)}),[r,ge,Ee]);(0,n.d4)(()=>{Nn()},[Nn]);const jn=(0,n.I4)(un=>ds(void 0,null,function*(){try{yield et().put(`/api/v1/poll/${r}`).send(un)}catch(In){return In}return q(!1),ge(!0),yield Nn(),null}),[r,ge,Nn]),En=(0,n.I4)(un=>ds(void 0,null,function*(){var In;if(!Zt&&Dt&&!kt&&!Gt){(In=mt.current)==null||In.open();return}if(!(Gt||!hn||Ye)){st(!0);try{yield et().post(`/api/v1/poll/${r}/vote`).send({poll_option_id:un}).query(Ct),De(null)}catch(Mn){De(nt("We were unable to record your vote. Please refresh the page and try again.")),st(!1);return}yield Nn({shouldNotSetLoading:!0}),st(!1)}}),[Gt,hn,Ye,st,r,Nn,Zt,Dt,kt]),Un=Gt?Array(Math.max(2,((k=Pe==null?void 0:Pe.options)==null?void 0:k.length)||0)).fill("").map((un,In)=>{var Mn;return Pe&&((Mn=Pe.options)==null?void 0:Mn.length)>In?Pe.options[In].label:yd(In,yt)}):(U=Pe==null?void 0:Pe.options)==null?void 0:U.map(un=>un.label);if(Me!==null&&!Pe)return(0,e.h)("div",{className:"poll-wrapper poll-web"},(0,e.h)("div",{className:"poll-error"},Me));const Pn=t?null:`${(0,g.getPostUrl)(a,o)}#poll-${r}`;return(0,e.h)(de.tu,{className:"poll-wrapper poll-web",gap:24,"data-component-name":"Poll"},Pn&&(0,e.h)("div",{className:"poll-anchor-target",id:`poll-${r}`},(0,e.h)("div",{className:"poll-anchor-copy-button",onClick:un=>{location!=null&&location.href&&(un.preventDefault(),(0,i.copyToClipboard)(Pn),Et.popToast(In=>(0,e.h)(ur.FN,v4(D_({},In),{text:nt("Link copied"),Icon:Ma.Z}))))}},(0,e.h)("a",{href:Pn},(0,e.h)(Ma.Z,{size:20})))),Gt&&Pe&&(0,e.h)(C4,{poll:Pe,isOpen:B,onClose:()=>{q(!1)},isPublished:Dt,totalVotes:(Pe==null?void 0:Pe.total_votes)||0,onSave:jn,shouldShowAudiencePicker:(Pe==null?void 0:Pe.post_type)!=="adhoc_email"}),!t&&Pe&&(0,e.h)(PS,{ref:mt,noCloseButton:!0,className:"poll-dialog",pub:a,post:o,user:It,pollId:Pe.id,audience:Pe.audience}),pe?(0,e.h)(de.tu,{gap:8,paddingY:48,alignItems:"center",justifyContent:"center"},(0,e.h)(M.xv.Meta,{translated:!0},"Loading...")):(0,e.h)(e.Fragment,null,Gt&&(0,e.h)("button",{className:"poll-edit",onClick:()=>{q(!0)},disabled:pe},(0,e.h)(dS.Z,{height:20})),(0,e.h)(de.tu,{gap:4},(0,e.h)(de.gq,{className:"poll-title",alignItems:"baseline",gap:4},(Pe==null?void 0:Pe.audience)==="only_paid"?(0,e.h)(e.Fragment,null,(0,e.h)(cl.Z,{size:16}),(0,e.h)(M.xv.Meta,{translated:!0,className:"subscriber-only-poll"},"SUBSCRIBER-ONLY POLL")):(0,e.h)(M.xv.Meta,{translated:!0},"POLL")),(0,e.h)(M.xv.H3,{className:"poll-question",color:"pub-primary-text"},(Pe==null?void 0:Pe.question)||nt("New Poll"))),Me!==null&&(0,e.h)("div",{className:"poll-error"},Me),(0,e.h)(de.tu,{gap:12,className:u()("poll-options",{"no-margins":!Dt})},Un.map((un,In)=>{var Mn,Vn,hr;return(0,e.h)(w4,{id:((Mn=Pe==null?void 0:Pe.options[In])==null?void 0:Mn.id)||null,text:un,canVote:!xt&&Dt&&!kt&&(!t||(Pe==null?void 0:Pe.post_type)==="adhoc_email"),onVote:En,showVotes:xt||kt||ln&&Ue,totalVotes:(Pe==null?void 0:Pe.total_votes)||0,currentVotes:((Vn=Pe==null?void 0:Pe.options[In])==null?void 0:Vn.votes)||0,myVote:((hr=Pe==null?void 0:Pe.options[In])==null?void 0:hr.my_vote)||!1})})),Dt&&(0,e.h)(M.xv.Meta,{className:"poll-status"},(ln||!Pe.votes_hidden)&&`${Xt} \xB7 `,vn,ln&&!xt&&!kt&&(0,e.h)(e.Fragment,null," \xB7 ",(0,e.h)("span",{className:"poll-author-visibility-toggle",title:nt("Only the author, contributors, and admins may view results before voting."),onClick:()=>{Fe(!Ue)}},nt(Ue?"SHOW OPTIONS":"SHOW RESULTS"))))))},I4=({id:r,embeddedPolls:t})=>{const o=t.find(L=>L.id===r),{iString:a,language:f}=(0,A.M1)();return o?(0,e.h)(Rn.YF,{className:"poll-email-wrapper","data-component-name":"StaticPoll"},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(Rn.YF,{width:"100%"},(0,e.h)("tr",null,(0,e.h)("td",{className:"poll-header"},(o==null?void 0:o.audience)==="only_paid"?a("SUBSCRIBER-ONLY POLL"):a("POLL"))),(0,e.h)("tr",{className:"poll-question",width:"100%"},(0,e.h)("td",null,o.question||a("New Poll"))),(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(Rn.YF,{className:"poll-options",width:"100%"},o.options.map(({label:L,id:k},U)=>(0,e.h)("tr",null,(0,e.h)("td",{className:"poll-option",width:"100%"},(0,e.h)("a",{className:"poll-vote-link",href:`%%poll_vote_option_${k}_url%%`,width:"100%"},(0,e.h)("div",{className:"poll-vote-contents"},L||yd(U,f))))))))))))):(0,e.h)("table",{className:"poll-wrapper","data-component-name":"StaticPollError"},a("Something went wrong."))};var fs=Ke(25380),T4=Object.defineProperty,D4=Object.defineProperties,M4=Object.getOwnPropertyDescriptors,L_=Object.getOwnPropertySymbols,A4=Object.prototype.hasOwnProperty,L4=Object.prototype.propertyIsEnumerable,N_=(r,t,o)=>t in r?T4(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,N4=(r,t)=>{for(var o in t||(t={}))A4.call(t,o)&&N_(r,o,t[o]);if(L_)for(var o of L_(t))L4.call(t,o)&&N_(r,o,t[o]);return r},x4=(r,t)=>D4(r,M4(t));const R4=r=>(0,e.h)(Je.l,x4(N4({},r),{name:"LucideCheck",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(fs.Z,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));var B4=Ke(29910),U4=Object.defineProperty,k4=Object.defineProperties,F4=Object.getOwnPropertyDescriptors,x_=Object.getOwnPropertySymbols,W4=Object.prototype.hasOwnProperty,j4=Object.prototype.propertyIsEnumerable,Pd=(r,t,o)=>t in r?U4(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,bd=(r,t)=>{for(var o in t||(t={}))W4.call(t,o)&&Pd(r,o,t[o]);if(x_)for(var o of x_(t))j4.call(t,o)&&Pd(r,o,t[o]);return r},K4=(r,t)=>k4(r,F4(t)),H4=(r,t,o)=>(Pd(r,typeof t!="symbol"?t+"":t,o),o);const V4=["Subscribe","Subscribe now","Sign up","Sign up now"];function R_({isStatic:r,pub:t,user:o,freeSignup:a,children:f,pledgesEnabled:L}){if(r)return(0,e.h)(Qc.E.Consumer,null,({isFreemail:q,isFreeSubscribed:pe,isPledged:ge})=>f({isFreeSubscribed:pe,isSubscribed:!q,isFullySubscribed:t.plans?!q:!L||ge,isForPaidSubscription:!!t.plans&&q,isPledged:ge}));const k=a||(o==null?void 0:o.is_free_subscribed),U=o==null?void 0:o.is_subscribed,B=o==null?void 0:o.is_pledged;return f({isFreeSubscribed:k,isSubscribed:U,isFullySubscribed:t.plans?U:k&&(!L||B),isForPaidSubscription:!!t.plans&&k&&!U,isPledged:B})}function Ed({pub:r,user:t,now:o,isStatic:a}){const{getExperimentVariant:f,exposeExperiment:L}=(0,fn.jc)(),{language:k}=(0,A.M1)();return(0,e.h)(it.vz.Consumer,null,({getSettingFor:U})=>{const B=r.payments_state==="disabled"&&!r.invite_only&&U("payment_pledges_enabled");return(0,e.h)(R_,{isStatic:a,user:t,pub:r,pledgesEnabled:B},({isFreeSubscribed:q,isPledged:pe})=>a?(0,Ne.getSubscribeText)(r,{now:o,isFreeSubscribed:q,isPledged:pe,pledgesEnabled:B,language:k}):(0,e.h)(d.gq,{alignItems:"center",gap:8},q?null:(0,e.h)(Zi.Z,{size:20}),(0,Ne.getSubscribeText)(r,{now:o,isFreeSubscribed:q,isPledged:pe,pledgesEnabled:B,language:k})))})}class Do extends e.Component{onSignup(t){this.setState({loading:!0}),this.props.onSignup?this.props.onSignup(t):!this.props.forceEmailInput&&(this.props.pub.plans||this.props.pub.has_recommendations)?document.location.href=(0,g.getSubscribeUrl)(this.props.pub,K4(bd(bd({addBase:!0,utm_medium:"web",utm_source:this.props.source||"subscribe-widget",utm_content:this.props.post&&this.props.post.id,just_signed_up:!0,requires_confirmation:t.body.requires_confirmation?"true":""},t.body.subscription_id&&{subscription_id:t.body.subscription_id}),t.body.referral_token&&{referral_token:t.body.referral_token}),{next:this.props.next||document.location.href})):document.location.reload()}getHref(t){const{pub:o,subscribeButtonAttrs:a,isStatic:f,source:L,post:k,next:U}=this.props,B={utm_medium:f?"email":"web",utm_source:L||"subscribe-widget",utm_content:k&&k.id,next:U,referring_pub_ids:f?void 0:(0,g.getQueryItem)("referring_pub_ids")};return t?f?Ir.Substitutions.ACCOUNT_URL:(0,g.getPubAccountSettingsUrl)(o,{params:B}):(0,g.getSubscribeUrl)(o,bd({addBase:!0,root:a?a.url:f&&Ir.Substitutions.CHECKOUT_URL},B))}getButtonLabel(t,o,{isPledged:a,pledgesEnabled:f}){const{pub:L,subscribeButtonAttrs:k}=this.props,{iString:U}=I18N.i({pub:L});if(t||a)return U("Subscribed");const B=k&&k.text;if(B&&!V4.includes(B))return B;const q=o;return(0,Ne.getSubscribeText)(L,{now:!q,isFreeSubscribed:q,isPledged:a,pledgesEnabled:f,language:this.context.language})}render({pub:t,user:o,freeSignup:a,freeSignupEmail:f,source:L,isStatic:k,forceEmailInput:U,expectTruncation:B,onPrepareData:q,onError:pe},{loading:ge}){const Pe=typeof window!="undefined"&&t.hostname!==window.location.hostname.replace(/[.]localhost$/,"");return(0,e.h)(it.vz.Consumer,null,({getSettingFor:Ee})=>(0,e.h)(B4._j.Consumer,null,Me=>(0,e.h)(R_,{pub:t,user:o,isStatic:k,freeSignup:a,pledgesEnabled:t.payments_state==="disabled"&&!t.invite_only&&Ee("payment_pledges_enabled")},({isFreeSubscribed:De,isSubscribed:Ue,isFullySubscribed:Fe,isPledged:Ye})=>{var st;const nt=this.getButtonLabel(Ue,De,{isPledged:Ye,pledgesEnabled:t.payments_state==="disabled"&&!t.invite_only&&Ee("payment_pledges_enabled")}),at=De||Ue;return(0,e.h)("div",{className:u()("subscribe-widget",{"is-signed-up":at,"is-fully-subscribed":Fe}),"data-component-name":"SubscribeWidget"},!U&&(at||k)?(0,e.h)("p",{className:"button-wrapper"},k?(0,e.h)("a",{className:u()("button subscribe-btn",Fe?"outline":"primary"),href:this.getHref(Fe),native:!k},Fe&&(0,e.h)(R4,{stroke:((st=t==null?void 0:t.theme)==null?void 0:st.background_pop_color)||(t==null?void 0:t.theme_var_background_pop)||Da.substack_color,fill:"transparent",isStatic:!0,className:"check-icon static",height:20}),(0,e.h)("span",null,nt)):(0,e.h)(ho.z,{className:"subscribe-btn",href:this.getHref(Fe),localNavigation:!1,variant:Fe?"themed-secondary":"themed-primary",leftIcon:Fe?(0,e.h)(fs.Z,{size:20}):null},(0,e.h)("span",null,nt))):(0,e.h)(d.gq,{justifyContent:"center"},(0,e.h)(Le.Z,{disabled:at||ge,freeSignup:a,freeSignupEmail:f,expectTruncation:B,next:Pe?window.location.href:null,pub:t,source:L||"subscribe-widget",submitButtonText:at?"\u2713":(0,Ne.getSubscribeText)(t,{language:this.context.language}),useSubscribeLink:(Me==null?void 0:Me.isSubstack)||Pe,user:o,utm_campaign:Me!=null&&Me.isSubstack?"reader2":Pe?"cross-post":null,onConfirmationRequired:(t==null?void 0:t.payments_state)==="enabled"?()=>null:void 0,onError:pe,onPrepareData:q,onSuccess:yt=>this.onSignup(yt)})))})))}}H4(Do,"contextType",A.wj);var $4=Object.defineProperty,Z4=Object.defineProperties,G4=Object.getOwnPropertyDescriptors,B_=Object.getOwnPropertySymbols,z4=Object.prototype.hasOwnProperty,Y4=Object.prototype.propertyIsEnumerable,U_=(r,t,o)=>t in r?$4(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Mo=(r,t)=>{for(var o in t||(t={}))z4.call(t,o)&&U_(r,o,t[o]);if(B_)for(var o of B_(t))Y4.call(t,o)&&U_(r,o,t[o]);return r},Od=(r,t)=>Z4(r,G4(t));const J4=(r,t)=>(0,e.h)("div",{className:"subscription-widget-wrap"},(0,e.h)("div",{className:"subscription-widget show-subscribe"},(0,e.h)("div",{className:"preamble"},(0,e.h)("p",{dangerouslySetInnerHTML:{__html:r.children[0].children[0].children[0].innerHTML}})),(0,e.h)(Do,Mo({pub:t.pub,subscribeButtonAttrs:null,source:"subscribe-widget-preamble"},t.props)))),X4=(r,t)=>{try{const o=JSON.parse(Tr()(r.getAttribute("data-attrs")));if([`${t.pub.base_url}/subscribe?`,`${t.pub.base_url}/subscribe?plan=founding`,Ir.Substitutions.CHECKOUT_URL,Ir.Substitutions.FOUNDING_CHECKOUT_URL].includes(o.url)){const a=JSON.parse(Tr()(r.getAttribute("data-attrs")));return(0,e.h)(Do,Mo({pub:t.pub,subscribeButtonAttrs:a},t.props))}}catch(o){console.error("Failed to parse button:",o)}},Q4=(r,{pub:t,props:{isStatic:o,post:a}})=>{try{const f=r.getAttribute("data-attrs");if(f){const L=JSON.parse(Tr()(f));return o?(0,e.h)(sa.AudioEmbedPlayerStatic,{label:L.label,pub:t,post:a,duration:L.duration}):(0,e.h)(sa.AudioEmbedPlayer,{label:L.label,pub:t,post:a,src:`/api/v1/audio/upload/${L.mediaUploadId}/src`,duration:L.duration,autoPlay:!1})}}catch(f){console.error("Failed to parse audio:",f)}},q4=(r,{pub:t,props:{isStatic:o,post:a}})=>{try{const f=r.getAttribute("data-attrs");if(f){const L=JSON.parse(Tr()(f));return o?(0,e.h)(sa.AudioEmbedPlayerStatic,{label:L.label,pub:t,post:a,duration:L.duration}):(0,e.h)(sa.AudioEmbedPlayer,{label:L.label,pub:t,post:a,src:L.url,duration:L.duration,autoPlay:!1})}}catch(f){console.error("Failed to parse audio:",f)}},eT=(r,{props:{isStatic:t}})=>{try{const o=r.getAttribute("data-attrs");if(o){const{name:a,avatarUrl:f,url:L}=JSON.parse(Tr()(o));return t?(0,e.h)(ZC,{name:a,avatarUrl:f,url:L}):(0,e.h)(GC,{name:a,avatarUrl:f,url:L})}}catch(o){console.error("Failed to parse audio:",o)}},tT=r=>{try{const t=JSON.parse(r.dataset.attrs).symbol;return t?(0,e.h)(JC,{symbol:t,prependSymbol:JSON.parse(r.dataset.attrs).prependSymbol,isStatic:JSON.parse(r.dataset.attrs).isStatic}):(0,e.h)(e.Fragment,null)}catch(t){return(0,e.h)(e.Fragment,null)}},nT=(r,{pub:t,props:{isStatic:o,post:a}})=>{const{iString:f}=I18N.i({pub:t});try{if(o){const L=r.getAttribute("data-attrs");if(L){const k=JSON.parse(Tr()(L)),U=k==null?void 0:k.persistentExpression;return U?(0,e.h)("img",{src:(0,g.getLatexUrl)(U),style:{transform:"scale(0.5)"},"data-component-name":"LatexImg"}):(0,e.h)("p",null,f("Failed to render LaTeX expression \u2014 no expression found in email"))}else return(0,e.h)("p",null,f("Failed to render LaTeX expression \u2014 data attributes not found"))}else{const L=r.getAttribute("data-attrs"),k=JSON.parse(Tr()(L)),U=k==null?void 0:k.persistentExpression;return U?(0,e.h)(de.gq,{className:"latex-rendered",justifyContent:"center",flex:"grow",paddingBottom:"4px",paddingTop:"4px","data-component-name":"Latex"},(0,e.h)(de.tu,{justifyContent:"center"},(0,e.h)(sC,{inline:!1},`\\(${U}\\)`))):(0,e.h)("p",null,f("Failed to render LaTeX expression \u2014 no expression found"))}}catch(L){return console.error("failed to render mathjax",L),(0,e.h)("p",null,f("Failed to render LaTeX expression \u2014 error"))}},rT=r=>{try{const t=JSON.parse(r.dataset.attrs),{name:o,id:a,type:f,url:L,photo_url:k,uuid:U,isStatic:B}=t;return o?(0,e.h)(Mc.default,{name:o,id:a,type:f,url:L,photo_url:k,uuid:U,isStatic:B}):(0,e.h)(e.Fragment,null)}catch(t){return(0,e.h)(e.Fragment,null)}},oT=(r,t)=>{var o;try{const a=JSON.parse(Tr()(r.getAttribute("data-attrs")));return a!=null&&a.isEmail?(0,e.h)("table",{className:"poll-embed poll-email",cellSpacing:"16px",width:"100%"},(0,e.h)("tbody",null,(0,e.h)("tr",null,(0,e.h)("td",{align:"center"},(0,e.h)(I4,{id:a.id,embeddedPolls:(o=t.props.dataForEmailRender)==null?void 0:o.embeddedPolls}))))):(0,e.h)("div",{className:"poll-embed",dataAttrs:r.getAttribute("data-attrs")},(0,e.h)(S4,{id:a.id,isEditor:!1,post:t.props.post,pub:t.pub,isVersionView:!!t.props.isVersionView}))}catch(a){return console.log("Failed to parse poll:",a),(0,e.h)(e.Fragment,null)}};function aT(r,{props:{isStatic:t}}){try{const o=r.getAttribute("data-attrs"),a=JSON.parse(Tr()(o));return!a.pub||!a.subdomain?(console.error("could not deepPrepare communityChat, subdomain or pub missing from node"),(0,e.h)(e.Fragment,null)):(0,e.h)("div",{className:"community-chat",dataAttrs:o},t?(0,e.h)(dC,Mo({},a)):(0,e.h)(cC,{pub:a.pub,subdomain:a.subdomain}))}catch(o){return console.error("Failed to parse chat embed:",o),(0,e.h)(e.Fragment,null)}}function iT(r,t){const{props:{isStatic:o,is_freemail:a}}=t;try{const f=r.getAttribute("data-attrs"),L=JSON.parse(Tr()(f));return o?(0,e.h)(TC,Mo({is_freemail:a},L)):(0,e.h)(IC,Mo({},L))}catch(f){return console.error("Failed to parse chat post embed:",f),(0,e.h)(e.Fragment,null)}}function sT(r,{props:{isStatic:t}}){try{const o=r.getAttribute("data-attrs"),a=JSON.parse(Tr()(o));return t?(0,e.h)(xh,Mo({},a)):(0,e.h)(AC,Mo({},a))}catch(o){return console.error("Failed to parse chat post embed:",o),(0,e.h)(e.Fragment,null)}}const lT=(r,t,o)=>{var a;const f=r.id,[L,,k]=f.split("-"),U=(a=o.wrapper.querySelector(`#${L}-${k}`))==null?void 0:a.nextElementSibling;return U?((0,R.isMobile)()&&(r.href="javascript:void(0)"),(0,e.h)(Lc.z,{content:(0,e.h)("div",{className:"markup"},ps(U,t,o)),className:"footnote-hovercard-target",layerClassName:"typography footnote-hovercard",as:"span"},ps(r,t,o))):ps(r,t,o)},Rr=(r,t)=>(0,e.h)(A._7,{language:t},r),Ml=(r,t,{shallow:o}={})=>{var a,f,L,k;if(r.nodeName==="A"&&(r.getAttribute("rel")||r.setAttribute("rel",(a=t.pub)!=null&&a.no_follow?"nofollow ugc noopener":"")),t.pub&&r.nodeName==="P"&&(0,i.hasClass)(r,"button-wrapper")){const B=X4(r,t);if(B)return B}const U=((f=t.pub)==null?void 0:f.language)||"en";return(0,i.hasClass)(r,"subscription-widget-wrap")?Rr(J4(r,t),U):(0,i.hasClass)(r,"cashtag-wrap")?Rr(tT(r),U):(0,i.hasClass)(r,"mention-wrap")?Rr(rT(r),U):t.pub&&(0,i.hasClass)(r,"native-audio-url-embed")?Rr(q4(r,t),U):t.pub&&(0,i.hasClass)(r,"native-audio-embed")?Rr(Q4(r,t),U):t.pub&&(0,i.hasClass)(r,"native-video-embed")?Rr(aS(r,t),U):t.pub&&(0,i.hasClass)(r,"meeting-embed")?Rr(eT(r,t),U):(0,i.hasClass)(r,"poll-embed")?Rr(oT(r,t),U):(0,i.hasClass)(r,"image-gallery-embed")?Rr(uS(r,t),U):(0,i.hasClass)(r,"image3")?Rr(lS(r,t),U):(0,i.hasClass)(r,"latex-rendered")?Rr(nT(r,t)):(0,i.hasClass)(r,"community-chat")?Rr(aT(r,t),U):(0,i.hasClass)(r,"community-post")?Rr(iT(r,t),U):(0,i.hasClass)(r,"digest-post-embed")?Rr(iS(r,t),U):(0,i.hasClass)(r,"comment")&&!(0,i.hasClass)(r,"template-comment")?Rr(sT(r,t),U):(0,i.hasClass)(r,"referrals-tier-card")?Rr(sS(r,t),U):((k=(L=t.props)==null?void 0:L.post)!=null&&k.id&&(0,i.hasClass)(r,"footnote")&&(r.id&&(r.id+=`-${t.props.post.id}`),r.href&&(r.href+=`-${t.props.post.id}`)),(0,i.hasClass)(r,"footnote-anchor")?Rr(lT(r,Ml,t),U):o?null:ps(r,Ml,t))},uT=function(r){const t={},o=Array.prototype.slice.call(r);for(const{name:a,value:f}of o)t[a]=f;return t},cT=(r,t)=>{let o=0;return function(){const a=[].slice.call(arguments,0),f=++o>t;f&&console.error("Too many post nodes to recurse",{postId:a[2].props.post.id,depth:o});const L=r.apply(null,[...a,...f?[!0]:[]]);return o--,L}};function dT(r,t,o,a){var f,L,k;const U=u()("header-with-anchor-widget",t.className),B=o.children.length?Array.prototype.map.call(o.childNodes,q=>Ml(q,a)):[o.textContent];return(0,e.h)(r,Od(Mo({},t),{className:U}),...B,(0,e.h)(cS,{text:o.textContent,pub:a==null?void 0:a.pub,post:(f=a==null?void 0:a.props)==null?void 0:f.post,offsetTop:!0,isAboutPage:(k=(L=a==null?void 0:a.props)==null?void 0:L.isAboutPage)!=null?k:!1}))}const ps=cT((r,t,o,a)=>{var f,L;if(!r)throw new Error("Empty node, cannot preactify!");const k=r.nodeType===3?"span":r.nodeType===8?"x_preact_compatible_html_comment_x":r.tagName.toLowerCase(),U=r.nodeType!==1?{}:uT(r.attributes),B=r.children&&r.children.length>0?null:r.textContent;if(a)return(0,e.h)(k,Od(Mo({},U),{dangerouslySetInnerHTML:{__html:r.innerHTML}}));if(k==="script"&&r.innerHTML===lC)return(0,e.h)(k,Od(Mo({},U),{dangerouslySetInnerHTML:{__html:r.innerHTML}}));const q=!!((f=r.parentElement)!=null&&f.getAttribute("data-prose-mirror-wrapper"));if(((L=o==null?void 0:o.pub)==null?void 0:L.type)!=="rss"&&q&&["h1","h2","h3","h4"].includes(k)&&!r.className)return dT(k,U,r,o);if(B)return(0,e.h)(k,U,B);const pe=t(r,o,{shallow:!0});return pe||(0,e.h)(k,U,...Array.prototype.map.call(r.childNodes,ge=>t(ge,o)))},2500);function fT(r,t,o={}){const a=document.createElement("div");return a.setAttribute("data-prose-mirror-wrapper",1),a.innerHTML=r,Array.prototype.map.call(a.childNodes,f=>ps(f,Ml,{wrapper:a,pub:t,props:o}))}var Al=Ke(62017);const k_=typeof window!="undefined";function F_(r,t,o=k_?localStorage:void 0){var a;const[f,L]=(0,n.eJ)(typeof o!="undefined"&&(a=o.getItem(r))!=null?a:t);return[f,U=>{L(B=>{const q=typeof U=="function"?U(B):U;return o&&o.setItem(r,q),q})}]}function IW(r,t,o=k_?localStorage:void 0){const a=useMemo(()=>JSON.stringify(t),[t]),[f,L]=F_(r,a,o);return[useMemo(()=>{try{return JSON.parse(f)}catch(B){return console.error("Failed to parse stored value:",B),t}},[f,t]),B=>L(JSON.stringify(B))]}var W_=Ke(16742);const Dr={button:"frontend-components-selection_popover-module__button--lynvl",popover:"frontend-components-selection_popover-module__popover--rjfPU",popoverButtons:"frontend-components-selection_popover-module__popoverButtons--Jlk3U",icon:"frontend-components-selection_popover-module__icon--fJlTy",disabled:"frontend-components-selection_popover-module__disabled--q2o7U",explainer:"frontend-components-selection_popover-module__explainer--PBsHq",dismissExplainer:"frontend-components-selection_popover-module__dismissExplainer--SCSfS",mobileFooter:"frontend-components-selection_popover-module__mobileFooter--gk9tq"};var pT=Object.defineProperty,hT=Object.defineProperties,mT=Object.getOwnPropertyDescriptors,Ll=Object.getOwnPropertySymbols,j_=Object.prototype.hasOwnProperty,K_=Object.prototype.propertyIsEnumerable,H_=(r,t,o)=>t in r?pT(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Ka=(r,t)=>{for(var o in t||(t={}))j_.call(t,o)&&H_(r,o,t[o]);if(Ll)for(var o of Ll(t))K_.call(t,o)&&H_(r,o,t[o]);return r},hs=(r,t)=>hT(r,mT(t)),_T=(r,t)=>{var o={};for(var a in r)j_.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&Ll)for(var a of Ll(r))t.indexOf(a)<0&&K_.call(r,a)&&(o[a]=r[a]);return o},gi=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const V_=2048;function gT(r){var t,o,a,f;const{nuxModal:L,showRestackNux:k}=(0,W_.y)("post");return(0,e.h)(e.Fragment,null,L,((f=(a=(o=(t=r.selection)==null?void 0:t.text)==null?void 0:o.split)==null?void 0:a.call(o," "))==null?void 0:f.length)>=3&&(0,e.h)(vT,Ka({onShare:k},r)))}function vT({pub:r,post:t,selection:o,onShare:a,onClose:f,userInteractionDisabled:L,selectingTextForQuote:k}){var U,B,q;const pe=(0,Jt.aF)(),ge=(0,ur.pm)(),Pe=(0,Qi.i3)(),Ee=(0,gn.XA)(),Me="has_dismissed_restack_selection_explainer",[De]=F_(Me),Ue=(0,Jt.SE)();(0,n.d4)(()=>{De==="true"&&(Ue!=null&&Ue.userSettings)&&!Ue.userSettings.has_seen_select_to_restack_tooltip_nux&&Ue.changeSetting("has_seen_select_to_restack_tooltip_nux",!0)},[]);const Fe=!t.is_draft&&!!pe,Ye=!t.is_draft,st=()=>gi(this,null,function*(){const wt=yield(0,Ze.rd)("/api/v1/post_selection",{method:"PUT",json:{postId:t.id,publication_id:r.id,startParagraph:o.startParagraph,endParagraph:o.endParagraph,startOffset:o.startOffset,endOffset:o.endOffset}});if(wt instanceof Error)throw wt;return wt.selection.id}),nt=()=>gi(this,null,function*(){const wt=yield st();return(0,g.getPostUrl)(r,t,{urlParams:{r:pe?pe.id.toString(36):null,selection:wt,utm_campaign:"post_selection",utm_medium:"web"}})}),at=()=>gi(this,null,function*(){if(!Fe)return;f(),(0,P.j)(P.FP.RESTACK_SELECTION_CLICKED,{post_id:t.id});let wt;try{wt=yield nt()}catch(jt){ge.popToast(qt=>(0,e.h)(ur.FN,hs(Ka({},qt),{text:"Failed to generate quote"})));return}const Qt=yield Pe.open({restackUrl:wt});Qt instanceof Error?(console.error(Qt),ge.popToast(jt=>(0,e.h)(ur.FN,hs(Ka({},jt),{text:"Failed to post"})))):(a(),ge.popToast(jt=>(0,e.h)(ur.FN,hs(Ka({},jt),{text:"Note sent",cta:"View",href:(0,G.getFeedUrl)()}))))}),yt=()=>gi(this,null,function*(){(0,P.j)(P.FP.VIDEO_QUOTE_TEXT_SELECTED,{post_id:t.id,selection_id:o.id}),(0,i.redirect)((0,G.getPostDetailsShareCenterUrl)(r,t.id,{selectionForQuote:o.text}),{local_navigation:!1})}),Et=()=>gi(this,null,function*(){if(!Ye)return;f();let wt;try{wt=yield nt()}catch(Qt){ge.popToast(jt=>(0,e.h)(ur.FN,hs(Ka({},jt),{text:"Failed to copy link to quote"})));return}(0,i.copyToClipboard)(wt),ge.popToast(Qt=>(0,e.h)(ur.FN,hs(Ka({},Qt),{text:"Link copied to clipboard"})))}),Ct=wt=>gi(this,null,function*(){if(pe)return;f(),(0,P.j)(P.FP.RESTACK_SELECTION_CLICKED,{post_id:t.id});let Qt;try{Qt=yield st()}catch(ln){}const jt=(0,g.updateQuery)(document.location.href,{selection:Qt}),qt=(0,g.getSigninUrl)({redirect:jt});(0,i.redirect)(qt,{local_navigation:!1,event:wt})});(0,n.d4)(()=>(window.addEventListener("scroll",f,{passive:!0,capture:!0,once:!0}),()=>{window.removeEventListener("scroll",f,{capture:!0,once:!0})}),[f]);const It=(Ue==null?void 0:Ue.userSettings)&&!((U=Ue.userSettings)!=null&&U.has_seen_select_to_restack_tooltip_nux)&&!k,Tt=It?156:40,Rt=()=>{Ue.changeSetting("has_seen_select_to_restack_tooltip_nux",!0)};return(0,e.h)(de.tu,{style:{top:(0,Ne.isTouchDevice)()?o.y+o.height+8:o.y-Tt-8,left:o.rect.x+o.rect.width/2,transform:"translateX(-50%)",pointerEvents:L?"none":"auto",maxWidth:240},justifyContent:"center",className:Dr.popover,shadow:"md",radius:12},(0,e.h)(de.tu,{className:u()(Dr.popoverButtons,Ee&&Dr.isMobile),radius:12,padding:It?8:4,gap:8},It&&(0,e.h)(yT,{onDismiss:Rt}),(0,e.h)(Nl,{onClick:k?yt:pe?at:Ct,disabled:!Fe&&!!pe||k&&((B=o.text)==null?void 0:B.length)>V_,isExplainer:It},!k&&(0,e.h)(pi.Z,{className:u()(Dr.icon,!Fe&&Dr.disabled)}),(0,e.h)(M.xv.B4,{color:Fe?"bg-light":"secondary",weight:"medium"},k?((q=o.text)==null?void 0:q.length)>V_?"Selection too long":"Use this text":Fe?"Restack quote":pe?t.is_draft?"Cannot quote a draft":r!=null&&r.invite_only?"Cannot quote on invite-only publication":["only_paid","founding"].includes(t==null?void 0:t.audience)?"Cannot quote paid post":"Cannot quote this post":"Sign in to restack quote"))))}function Nl(r){var t=r,{isExplainer:o}=t,a=_T(t,["isExplainer"]);return(0,e.h)(Be.kG,Ka({className:u()(Dr.button,o&&Dr.explainerButton),resetCss:!0},a))}function yT({onDismiss:r}){return(0,e.h)(de.tu,{className:Dr.explainer,radius:6,paddingX:16,paddingY:8,gap:4},(0,e.h)(Be.kG,{resetCss:!0,className:Dr.dismissExplainer,onClick:r},(0,e.h)(es.Z,{size:16,stroke:"var(--color-secondary)"})),(0,e.h)(M.xv.B4,{color:"bg-light",weight:"medium"},"New: Quote this post"),(0,e.h)(M.xv.Detail,{size:14,color:"secondary"},"Share your favorite part of this post as"," ",(0,e.h)(Al.hh,{color:"secondary",decoration:"underline",href:(0,G.getFeedUrl)(),target:"_blank"},"a note"),"."))}var xl=Ke(71212);const PT=(r,t=500)=>{const o=(0,n.sO)(null),a=(0,n.sO)({x:0,y:0}),f=(0,n.sO)(!1),L=(0,n.I4)(B=>{a.current={x:B.touches[0].clientX,y:B.touches[0].clientY},o.current=window.setTimeout(()=>{f.current=!0,r()},t)},[r,t]),k=(0,n.I4)(()=>{o.current!==null&&clearTimeout(o.current),f.current=!1},[]),U=(0,n.I4)(B=>{const q={x:B.touches[0].clientX,y:B.touches[0].clientY},pe=Math.abs(q.x-a.current.x),ge=Math.abs(q.y-a.current.y),Pe=10;(pe>Pe||ge>Pe)&&(o.current!==null&&clearTimeout(o.current),f.current=!1)},[]);return(0,n.d4)(()=>()=>{o.current!==null&&clearTimeout(o.current)},[]),{onTouchStart:L,onTouchEnd:k,onTouchMove:U,longPressActivated:f}};var bT=Ke(41487),ET=Ke(40946);const Ao={root:"frontend-components-ShareSelectionImage-module__root--pmZjU",large:"frontend-components-ShareSelectionImage-module__large--KtLJ0",image:"frontend-components-ShareSelectionImage-module__image--A2mIB",imageLoading:"frontend-components-ShareSelectionImage-module__imageLoading--CWfsY",stories:"frontend-components-ShareSelectionImage-module__stories--GtFB9",small:"frontend-components-ShareSelectionImage-module__small--xwYwM",square:"frontend-components-ShareSelectionImage-module__square--ahhUC",link:"frontend-components-ShareSelectionImage-module__link--RAXSX",download:"frontend-components-ShareSelectionImage-module__download--d6vx_",secondaryBorder:"frontend-components-ShareSelectionImage-module__secondaryBorder--GZZF_",spinner:"frontend-components-ShareSelectionImage-module__spinner--Cngzw",text:"frontend-components-ShareSelectionImage-module__text--WP_9Y"};var OT=Object.defineProperty,$_=Object.getOwnPropertySymbols,CT=Object.prototype.hasOwnProperty,wT=Object.prototype.propertyIsEnumerable,Z_=(r,t,o)=>t in r?OT(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,ST=(r,t)=>{for(var o in t||(t={}))CT.call(t,o)&&Z_(r,o,t[o]);if($_)for(var o of $_(t))wT.call(t,o)&&Z_(r,o,t[o]);return r},IT=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const TT=({pub:r,post:t,style:o,text:a,selectionId:f,size:L,editButton:k,wrapperClassName:U})=>{const{img:B,imgDownload:q,shareData:pe,useNativeShare:ge}=(0,bT.Q)({shareTitle:"Share this post",shareText:t.title,shareUrl:(0,g.getPostUrl)(r,t),imageDownloadUrl:(0,g.getPostSelectionMediaUrl)(r,t,f,o,`${a}${o.aspectRatio?` - ${o.aspectRatio}`:""}`),imageUrl:(0,g.getPostSelectionMediaUrl)(r,t,f,o),imageUrlSameOrigin:(0,g.getPostSelectionMediaImageUrl)(r,t,f,o)}),Pe=(0,n.I4)(()=>{(0,P.j)(P.FP.SHARE_SELECTION_IMAGE_DOWNLOADED,{post_id:t.id,selection_id:f,type:a,aspect_ratio:o.aspectRatio,interaction:"longpress"})},[t.id,f,a,o.aspectRatio]),Ee=PT(Pe),Me=(0,n.I4)(Ue=>IT(void 0,null,function*(){if(Ee.longPressActivated.current){Ue.preventDefault();return}if((0,P.j)(P.FP.SHARE_SELECTION_IMAGE_DOWNLOADED,{post_id:t.id,selection_id:f,type:a,aspect_ratio:o.aspectRatio,interaction:"click"}),ge&&pe)try{yield navigator.share(pe)}catch(Fe){}}),[Ee.longPressActivated,t.id,f,a,o.aspectRatio,ge,pe]),De=(0,n.I4)(()=>{(0,P.j)(P.FP.IMAGE_CONTEXT_MENU_CLICKED,{post_id:t.id,clicked_from:"share_selection",selection_id:f,type:a,aspect_ratio:o.aspectRatio,interaction:"click"})},[t.id,f,a,o.aspectRatio]);return(0,e.h)("a",ST({href:(0,R.isMobile)()?void 0:q,alt:"Download Image",download:!0,className:u()(Ao.link,U),target:"_blank",onClick:Me,onContextMenu:De},Ee),(0,e.h)("div",{className:u()(Ao.root,o.aspectRatio==="stories"?Ao.stories:Ao.square,L&&Ao[L])},(0,R.isMobile)()&&k,!(0,R.isMobile)()&&(0,e.h)("div",{className:Ao.download},(0,e.h)(ET.Z,{stroke:"white",fill:"none"})),!B&&(0,e.h)("div",{className:u()(Ao.image,Ao.imageLoading),alt:"Loading"},(0,e.h)(Wo.Sv,{className:Ao.spinner})),B&&(0,e.h)("img",{src:B,className:Ao.image})))};var DT=Ke(71765),MT=Ke(64484),Rl=Ke(48042);const Lo={root:"frontend-components-SelectionV2Modal-module__root--xQnU9",imageSmall:"frontend-components-SelectionV2Modal-module__imageSmall--R16_y",imageWrapper:"frontend-components-SelectionV2Modal-module__imageWrapper--KI6MA",modalWithFooter:"frontend-components-SelectionV2Modal-module__modalWithFooter--DhxFS",actionSheetMenu:"frontend-components-SelectionV2Modal-module__actionSheetMenu--ji2CC",actionSheetBody:"frontend-components-SelectionV2Modal-module__actionSheetBody--VAUMt",modalBody:"frontend-components-SelectionV2Modal-module__modalBody--KAht0",mediaAssetContainer:"frontend-components-SelectionV2Modal-module__mediaAssetContainer--ZwVNu",safeAreaInsetPaddingBottom:"frontend-components-SelectionV2Modal-module__safeAreaInsetPaddingBottom--RH4Gf",actionSheetContainer:"frontend-components-SelectionV2Modal-module__actionSheetContainer--BaWcS",actionSheetItems:"frontend-components-SelectionV2Modal-module__actionSheetItems--LLOEr",edit:"frontend-components-SelectionV2Modal-module__edit--PbhOl"};var AT=Object.defineProperty,LT=Object.defineProperties,NT=Object.getOwnPropertyDescriptors,G_=Object.getOwnPropertySymbols,xT=Object.prototype.hasOwnProperty,RT=Object.prototype.propertyIsEnumerable,z_=(r,t,o)=>t in r?AT(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,BT=(r,t)=>{for(var o in t||(t={}))xT.call(t,o)&&z_(r,o,t[o]);if(G_)for(var o of G_(t))RT.call(t,o)&&z_(r,o,t[o]);return r},UT=(r,t)=>LT(r,NT(t)),vi=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const kT=({pub:r,post:t,selectionId:o,style:a,showText:f=!1,size:L,editButton:k})=>{const U=(0,Rl.fQ)(a.aspectRatio);return(0,e.h)("div",{className:u()(Lo.root,Lo.imageWrapper,L&&Lo[L])},(0,e.h)(TT,{pub:r,post:t,style:a,text:U,selectionId:o,size:L,editButton:k,wrapperClassName:Lo.imageWrapper}),f&&U&&(0,e.h)(d.xv.Meta,{paddingTop:L==="small"?8:16},U))},FT=({pub:r,post:t,isOpen:o,onClose:a,selection:f,selectionId:L,setSelectionId:k,themeVariables:U})=>{const{iString:B}=(0,A.M1)(),[q,pe]=(0,n.eJ)(!1),[ge,Pe]=(0,n.eJ)("stories"),Ee=(t==null?void 0:t.cover_image)||(r==null?void 0:r.cover_photo_url),[Me,De]=(0,n.eJ)(Ee?"image":"accent"),[Ue,Fe]=(0,n.eJ)(!1),Ye=(0,Jt.aF)(),st=(0,d.pm)(),nt=(0,R.isMobile)({checkFirst4:!0}),{result:at}=(0,Ze.ib)({pathname:`/api/v1/publication/${r.id}/theme`,auto:f&&t&&o&&!U,cacheTtl:1/0,initialResult:U,deps:[f,t,o,U]}),yt=o&&(!!L||q)&&!!at;(0,n.d4)(()=>{yt&&(t!=null&&t.id)&&(0,P.j)(P.FP.SHARE_SELECTION_MODAL_OPENED,{post_id:t.id})},[yt,t]),(0,n.d4)(()=>{if(!f||!t||!o)return;(()=>vi(void 0,null,function*(){pe(!0);try{const zt=yield(0,Ze.rd)("/api/v1/post_selection",{method:"PUT",json:{postId:t.id,publication_id:r.id,startParagraph:f.startParagraph,endParagraph:f.endParagraph,startOffset:f.startOffset,endOffset:f.endOffset}});if(pe(!1),zt instanceof Error)throw zt;k(zt.selection.id.toString())}catch(zt){alert((0,Ze.i)(zt)),pe(!1),a()}}))()},[r,t,f,o,k,a]);const Et=(Bt,zt)=>{const on=(0,ra.O1)(null,{pub:r,post:t,selectionId:L,user:Ye||void 0,medium:"web",utm_campaign:"post-share-selection"});(0,ra.I)(Bt,zt,{shareUrl:on,post:t,pub:r,selectionId:L,utm_campaign:"post-share-selection"})},Ct=()=>vi(void 0,null,function*(){Et("copy",Bt=>((0,i.copyToClipboard)(Bt),st.popToast(zt=>(0,e.h)(d.FN,UT(BT({},zt),{text:B("Link copied to clipboard")}))),!1))}),It=()=>vi(void 0,null,function*(){Et("facebook",Bt=>(0,G.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:Bt}))}),Tt=()=>vi(void 0,null,function*(){t&&Et("twitter",Bt=>(0,G.pathWithQuery)("https://twitter.com/share",{url:Bt,text:t.title}))}),Rt=()=>vi(void 0,null,function*(){Et("linkedin",Bt=>(0,G.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:Bt}))}),wt=()=>{if(!at)return{aspectRatio:ge};switch(Me){case"image":return{aspectRatio:ge,textColor:"#ffffff",bgImage:!0};case"accent":return{aspectRatio:ge,bgColor:at.background_pop,textColor:at.print_on_pop};case"primary":default:return{aspectRatio:ge,bgColor:at.web_bg_color||at.cover_bg_color,textColor:at.print_on_web_bg_color||at.cover_print_primary||"#1a1a1a"}}},Qt=()=>vi(void 0,null,function*(){const Bt=wt(),zt=`Share Selection - ${Bt.aspectRatio}`;(0,P.j)(P.FP.SHARE_SELECTION_IMAGE_DOWNLOADED,{post_id:t==null?void 0:t.id,selection_id:L,type:zt,aspect_ratio:ge,interaction:"click"});const on=document.createElement("a");on.href=(0,g.getPostSelectionMediaUrl)(r,t,L,Bt,zt),on.download=`Share Selection - ${ge}`,on.target="_blank",on.rel="noopener noreferrer",on.style.display="none",document.body.appendChild(on),on.click(),document.body.removeChild(on)}),jt=()=>{Fe(!1)},qt=(0,e.h)(d.u_,{className:Lo.actionSheetMenu,overflow:"hidden",renderOverReactLaagPortal:!0,fullscreenMobile:!0,isOpen:Ue,position:"bottom",onClose:jt},(0,e.h)(d.xB,{title:B("Edit image"),includeClose:!0,onClose:jt}),(0,e.h)(d.fe,{className:Lo.actionSheetBody},(0,e.h)(Y_,{assetStyle:wt(),aspectRatio:ge,loadingSelection:q,post:t,pub:r,themeVariables:at,setAspectRatio:Pe,assetTheme:Me,setAssetTheme:De,selectionId:L,setSelectionId:k}))),ln=(0,e.h)(d.zx,{rounded:!0,priority:"secondary",className:Lo.edit,onClick:Bt=>{Bt.stopPropagation(),Fe(!0),(0,P.j)(P.FP.SHARE_SELECTION_EDIT_MODAL_OPENED,{post_id:t==null?void 0:t.id})}},B("Edit"));return(0,e.h)(d.u_,{isOpen:yt,onClose:a,width:630,fullscreenMobile:!0,className:Lo.modalWithFooter},qt,(0,e.h)(d.xB,{title:B("Share quote"),includeClose:!0,onClose:a}),(0,e.h)(d.xu,null,(0,e.h)(d.iz,{paddingY:20})),(0,e.h)(Y_,{assetStyle:wt(),aspectRatio:ge,loadingSelection:q,post:t,pub:r,themeVariables:at,setAspectRatio:Pe,assetTheme:Me,setAssetTheme:De,selectionId:L,setSelectionId:k,editActionSheet:ln}),(0,e.h)(d.xu,null,(0,e.h)(d.iz,null)),(0,e.h)(d.xu,{className:Lo.safeAreaInsetPaddingBottom},(0,e.h)(d.gq,{padding:16,gap:8,justifyContent:"center"},(0,e.h)(d.hU,{fill:"outline",rounded:!1,onClick:Ct,disabled:!L},(0,e.h)(Ma.Z,{height:20,width:20})),(0,e.h)(d.hU,{fill:"outline",rounded:!1,onClick:Tt,disabled:!L},(0,e.h)(Qf.Z,{height:20,width:20})),(0,e.h)(d.hU,{fill:"outline",rounded:!1,onClick:It,disabled:!L},(0,e.h)(DT.Z,{height:20,width:20})),(0,e.h)(d.hU,{fill:"outline",rounded:!1,onClick:Rt,disabled:!L},(0,e.h)(MT.Z,{height:20,width:20})),!nt&&(0,e.h)(d.zx,{grow:!0,disabled:!L,onClick:Qt,leftIcon:(0,e.h)(xl.Z,{stroke:"#404040",size:20})},B("Download")))))},Y_=({assetStyle:r,aspectRatio:t,loadingSelection:o,post:a,pub:f,themeVariables:L,setAspectRatio:k,assetTheme:U,setAssetTheme:B,selectionId:q,editActionSheet:pe})=>{const{iString:ge}=(0,A.M1)(),Pe=[],Ee=(a==null?void 0:a.cover_image)||(f==null?void 0:f.cover_photo_url);Ee&&Pe.push("image"),L.background_pop&&Pe.push("accent"),Pe.push("primary");const Me=(0,R.isMobile)({checkFirst4:!0});return(0,e.h)(e.Fragment,null,Me&&(0,e.h)(d.gq,{justifyContent:"center",alignItems:"center",paddingTop:pe?8:0,paddingBottom:8},(0,e.h)(d.xv.B4,{color:"secondary"},ge("Long press to download image"))),(0,e.h)(d.tu,{justifyContent:"center",flex:"grow",className:Lo.mediaAssetContainer,paddingBottom:16},a&&q&&!o&&(0,e.h)(kT,{pub:f,post:a,selectionId:q,style:r,size:"large",editButton:pe})),(!Me||!pe)&&(0,e.h)(d.gq,{gap:24,paddingX:{desktop:24,mobile:0},paddingBottom:{desktop:24,mobile:0}},(0,e.h)(d.tu,null,(0,e.h)(d.xv.Detail,{weight:"bold",color:"primary"},ge("Background")),(0,e.h)(d.gq,{paddingY:8},(0,e.h)(d.gq,{gap:8},Pe.map(De=>(0,e.h)(Rl.rn,{value:De,isSelected:De===U,onClick:()=>B(De),coverImageUrl:Ee,themeVariables:L}))))),(0,e.h)(d.tu,null,(0,e.h)(d.xv.Detail,{weight:"bold",color:"primary"},ge("Aspect ratio")),(0,e.h)(d.gq,{paddingY:8},(0,e.h)(d.gq,{gap:8},Rl.sl.map(De=>(0,e.h)(Rl.ar,{value:De,isSelected:De===t,onClick:()=>k(De)})))))))},WT=FT;var jT=Object.defineProperty,KT=Object.defineProperties,HT=Object.getOwnPropertyDescriptors,J_=Object.getOwnPropertySymbols,VT=Object.prototype.hasOwnProperty,$T=Object.prototype.propertyIsEnumerable,X_=(r,t,o)=>t in r?jT(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Q_=(r,t)=>{for(var o in t||(t={}))VT.call(t,o)&&X_(r,o,t[o]);if(J_)for(var o of J_(t))$T.call(t,o)&&X_(r,o,t[o]);return r},q_=(r,t)=>KT(r,HT(t)),e0=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});function ZT({post:r,pub:t,selection:o,onClose:a,themeVariables:f,userInteractionDisabled:L}){var k,U,B;const[q,pe]=(0,n.eJ)(!1),[ge,Pe]=(0,n.eJ)(),Ee=((B=(U=(k=o==null?void 0:o.text)==null?void 0:k.split)==null?void 0:U.call(k," "))==null?void 0:B.length)||0,De=o&&Ee>=3&&!r.is_draft&&!(t!=null&&t.invite_only)?(0,e.h)(GT,{selection:o,onClose:a,userInteractionDisabled:L,onShowSelectionModal:pe,post:r,pub:t}):null;return(0,e.h)(e.Fragment,null,De,(0,e.h)(WT,{selection:o,pub:t,post:r,isOpen:q,onClose:()=>pe(!1),selectionId:ge,setSelectionId:Pe,themeVariables:f}))}function GT({selection:r,onClose:t,userInteractionDisabled:o,onShowSelectionModal:a,post:f,pub:L}){const{iString:k}=(0,A.M1)(),U=(0,gn.XA)(),B=(0,Jt.aF)(),q=(0,Qi.i3)(),pe=(0,d.pm)(),ge=!f.is_draft&&!!B,[Pe,Ee]=(0,n.eJ)(!1),[Me,De]=(0,n.eJ)(-1);(0,n.d4)(()=>(window.addEventListener("scroll",t,{passive:!0,capture:!0,once:!0}),()=>{window.removeEventListener("scroll",t,{capture:!0})}),[t,a]),(0,n.d4)(()=>{const nt=()=>{const yt=window.innerHeight-(r.y+r.height)-(U?57:0),Et=96,Ct=yt<Et;De(Ct?r.y-Et-12:r.y+r.height+12)};return window.addEventListener("resize",nt),nt(),()=>{window.removeEventListener("resize",nt)}},[r,U]);const Ue=()=>{a(!0)},Fe=()=>e0(this,null,function*(){Ee(!0);try{const nt=yield(0,Ze.rd)("/api/v1/post_selection",{method:"PUT",json:{postId:f.id,publication_id:L.id,startParagraph:r.startParagraph,endParagraph:r.endParagraph,startOffset:r.startOffset,endOffset:r.endOffset}});if(Ee(!1),nt instanceof Error)throw nt;return nt.selection.id}catch(nt){alert((0,Ze.i)(nt)),Ee(!1)}}),Ye=()=>e0(this,null,function*(){const nt=yield Fe();if((0,P.j)(P.FP.RESTACK_SELECTION_CLICKED,{post_id:f.id}),!B){const Et=(0,g.updateQuery)(document.location.href,{action:"restack-comment",selection:nt}),Ct=(0,g.getSigninUrl)({redirect:Et});(0,i.redirect)(Ct,{local_navigation:!1,event});return}const at=(0,g.getPostUrl)(L,f,{urlParams:{r:B?B.id.toString(36):null,selection:nt,utm_campaign:"post-share-selection",utm_medium:"web"}});(yield q.open({restackUrl:at}))instanceof Error?pe.popToast(Et=>(0,e.h)(d.FN,q_(Q_({},Et),{text:"Failed to post"}))):pe.popToast(Et=>(0,e.h)(d.FN,q_(Q_({},Et),{text:"Note sent",cta:"View",href:(0,G.getFeedUrl)()})))}),st=!ge&&!Pe&&!!B;return Me<0?null:(0,e.h)(d.tu,{style:{top:Me,left:r.rect.x+r.rect.width/2,transform:"translateX(-50%)",pointerEvents:o?"none":"auto",maxWidth:240},justifyContent:"center",className:Dr.popover,shadow:"md",radius:12},(0,e.h)(d.tu,{className:u()(Dr.popoverButtons,U&&Dr.isMobile),radius:12,padding:4,gap:8},(0,e.h)(Nl,{onClick:Ue,isExplainer:!1},(0,e.h)(ol.Z,{className:Dr.icon}),(0,e.h)(d.xv.B4,{color:"bg-light",weight:"medium"},k("Share quote"))),(0,e.h)(Nl,{onClick:Ye,isExplainer:!1,disabled:st},(0,e.h)(pi.Z,{className:u()(Dr.icon,!ge&&Dr.disabled)}),(0,e.h)(d.xv.B4,{color:ge?"bg-light":"secondary",weight:"medium"},ge?k("Restack quote"):B?f.is_draft?k("Cannot quote a draft"):L!=null&&L.invite_only?k("Cannot quote on invite-only publication"):["only_paid","founding"].includes(f==null?void 0:f.audience)?k("Cannot quote paid post"):k("Cannot quote this post"):k("Sign in to restack quote")))))}var zT=Object.defineProperty,YT=Object.defineProperties,JT=Object.getOwnPropertyDescriptors,Bl=Object.getOwnPropertySymbols,t0=Object.prototype.hasOwnProperty,n0=Object.prototype.propertyIsEnumerable,Cd=(r,t,o)=>t in r?zT(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,XT=(r,t)=>{for(var o in t||(t={}))t0.call(t,o)&&Cd(r,o,t[o]);if(Bl)for(var o of Bl(t))n0.call(t,o)&&Cd(r,o,t[o]);return r},QT=(r,t)=>YT(r,JT(t)),qT=(r,t)=>{var o={};for(var a in r)t0.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&Bl)for(var a of Bl(r))t.indexOf(a)<0&&n0.call(r,a)&&(o[a]=r[a]);return o},$o=(r,t,o)=>(Cd(r,typeof t!="symbol"?t+"":t,o),o),e3=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const r0=`
:is(
  div.body.markup, .pullquote, blockquote, li, caption, .footnote-content
) > :is(
  h1, h2, h3, h4, h5, h6, p:not(.button-wrapper)
)
`,t3=".image-link.image2";class ms extends e.Component{constructor(t,o){super(t,o),$o(this,"state",{selection:null,urlSelection:null,selectedImgIndex:null,selectionUserInteractionDisabled:!1,shouldUseSelectionV2Popover:!1}),$o(this,"onBodyMouseDown",()=>{this.setState({selectionUserInteractionDisabled:!0})}),$o(this,"onMouseUp",()=>{this.setState((a,f)=>a.selectionUserInteractionDisabled?(a.selection&&f.trackSelection&&(0,P.j)(P.FP.POST_TEXT_SELECTED,{post_id:f.post.id,post_audience:f.post.audience,post_type:f.post.type}),{selectionUserInteractionDisabled:!1}):null)}),$o(this,"onSelectionChange",fl()(()=>{const a=this.getSelectionState();if(a){const f=this.shouldShowShareSelectionPopover();this.setState({selection:a,shouldUseSelectionV2Popover:f})}else this.state.selection&&this.setState({selection:null})},100)),$o(this,"onDocumentClick",a=>{const f=a.target.closest(".image-link.image2");if(f&&this.originalImageState){const L=f.querySelector("img"),k=this.originalImageState.findIndex(U=>U.src===L.src);if(k>=0){a.preventDefault(),this.setState({selectedImgIndex:k});return}}if(!this.props.skipTrackClick)this.onLinkClick(a);else return null}),$o(this,"clearActiveSelection",()=>{this.setState({selection:null})}),$o(this,"closeImageViewerModal",()=>{this.setState({selectedImgIndex:null})}),$o(this,"shouldShowShareSelectionPopover",()=>{let a;return typeof window!="undefined"&&(a=new URLSearchParams(window.location.search).get("selectQuote")==="true"),!a}),this.body=(0,e.createRef)()}componentDidMount(){return e3(this,null,function*(){const t=Array.from(this.body.current.querySelectorAll(r0));this.originalParagraphState=t.map(U=>({text:U.textContent}));const o=new URL(window.location).searchParams.get("img");let a=Array.from(this.body.current.querySelectorAll(t3));a=a.map(U=>{const B=U.querySelector("img"),q=JSON.parse(B.getAttribute("data-attrs")),pe=q.width/q.height,ge=q.resizeWidth?q.resizeWidth/pe:q.height,Pe=q.resizeWidth?q.resizeWidth/ge:pe;return{element:U,image:B,attrs:q,extraAttrs:{imageRatio:pe,resizeHeight:ge,resizeRatio:Pe}}});let f=0;if(o){const U=a.find(B=>B.attrs.src===o);U&&(f=U.image.getBoundingClientRect().top-65)}const L=240,k=4;if(a=a.filter(U=>(0,g.unimginary)(U.image.src)===(0,g.unimginary)(U.element.href)),a=a.filter(U=>U.attrs.height>L&&U.extraAttrs.resizeHeight>L),a=a.filter(U=>U.extraAttrs.imageRatio<k&&U.extraAttrs.resizeRatio<k),this.originalImageState=a.map(U=>{var B;const q=U.image.src;let pe=null;const ge=U.element.parentElement;return ge.tagName==="FIGURE"&&(pe=(B=ge.querySelector(":scope > figcaption"))==null?void 0:B.textContent),{src:q,attrs:U.attrs,caption:pe}}),o){window.scrollTo({top:f});const U=this.originalImageState.findIndex(B=>B.attrs.src===o);U>=0&&this.setState({selectedImgIndex:U})}typeof window!="undefined"&&(document.addEventListener("selectionchange",this.onSelectionChange),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mouseup",this.onMouseUp))})}componentWillUnmount(){typeof window!="undefined"&&(document.removeEventListener("selectionchange",this.onSelectionChange),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mouseup",this.onMouseUp))}shouldComponentUpdate(t,o){return this.props.html!==t.html||this.state.selectedImgIndex!==o.selectedImgIndex||this.state.selection!==o.selection||this.state.selectionUserInteractionDisabled!==o.selectionUserInteractionDisabled||this.state.selectingTextForQuote!==o.selectingTextForQuote}onLinkClick(t){if(!t.target.nodeName||t.target.nodeName!=="A"&&t.target.parentNode.nodeName!=="A")return;const o=t.target.nodeName==="A"?t.target:t.target.parentNode;if((0,P.j)(P.FP.POST_LINK_CLICKED,{post_id:this.props.post.id,publication_id:this.props.post.publication_id,url:o.href}),window.location.host===o.host){const a=(0,Ne.transformDocumentLink)(o.href);a!==o.href&&(0,i.redirect)(a,{local_navigation:!1,event:t});return}t.preventDefault(),(0,Ne.handleDocumentLinkClick)(o.href)}getSelectionState(){if(this.props.trackSelection&&window.getSelection)try{const t=window.getSelection();if(!t||t.isCollapsed||t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset)return;const o=this.findParentParagraph(t.anchorNode);if(!o)return;const a=this.findParentParagraph(t.focusNode);if(!a)return;const f=Array.from(this.body.current.querySelectorAll(r0)),L=f.findIndex(ge=>ge.isSameNode(o));if(L===-1)return;const k=f.findIndex(ge=>ge.isSameNode(a));if(k===-1)return;const U=this.getCharacterOffsetParagraph(o,t.anchorNode,t.anchorOffset);if(U===null)return;const B=this.getCharacterOffsetParagraph(a,t.focusNode,t.focusOffset);if(B===null)return;const q=L>k||L===k&&U>B,pe=t.getRangeAt(0).getBoundingClientRect();return{startParagraph:q?k:L,endParagraph:q?L:k,startOffset:q?B:U,endOffset:q?U:B,y:pe.y,height:pe.height,rect:pe,text:t.toString()}}catch(t){console.error("Failed to parse selection:",t)}}findParentParagraph(t){return t?["P","H1","H2","H3","H4","H5","H6"].includes(t.nodeName)?t:this.findParentParagraph(t.parentNode):null}isAncestorOf(t,o){return t===null?!1:t.isSameNode(o)?!0:this.isAncestorOf(t.parentNode,o)}getCharacterOffsetParagraph(t,o,a){var f;let L=a;for(let k=0;k<t.childNodes.length;k++){const U=t.childNodes[k];if(this.isAncestorOf(o,U))return L;U.className!=="footnote-anchor"&&(L+=((f=U.textContent)==null?void 0:f.length)||0)}return L}shouldShowImageViewerModal(){const{selectedImgIndex:t}=this.state;return t!=null}render(t){var o=t,{children:a,html:f,pub:L,skipTrackClick:k,trackSelection:U,paywall:B,isAboutPage:q}=o,pe=qT(o,["children","html","pub","skipTrackClick","trackSelection","paywall","isAboutPage"]);const{selection:ge,selectedImgIndex:Pe,shouldUseSelectionV2Popover:Ee,selectingTextForQuote:Me}=this.state;typeof window!="undefined"&&!Me&&new URLSearchParams(window.location.search).get("selectQuote")==="true"&&this.setState({selectingTextForQuote:!0}),f&&(a=fT(f,L,QT(XT({},pe),{isAboutPage:q})),a&&(f=null));const De=a?Array.from(a).some(Fe=>{var Ye,st,nt,at;return((Ye=Fe.props)==null?void 0:Ye.className)==="latex-rendered"||((at=(nt=(st=Fe.props)==null?void 0:st.children)==null?void 0:nt.props)==null?void 0:at.className)==="latex-rendered"}):!1,Ue=(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"body markup",dangerouslySetInnerHTML:f?{__html:f}:null,ref:this.body,onClick:this.onDocumentClick,onMouseDown:this.onBodyMouseDown,onMouseUp:this.onMouseUp,dir:"auto"},a),Ee&&!Me?(0,e.h)(ZT,{pub:L,post:this.props.post,selection:ge,onClose:this.clearActiveSelection,userInteractionDisabled:this.state.selectionUserInteractionDisabled,themeVariables:this.props.themeVariables}):(0,e.h)(gT,{pub:L,post:this.props.post,selection:ge,onClose:this.clearActiveSelection,userInteractionDisabled:this.state.selectionUserInteractionDisabled,selectingTextForQuote:Me}),(0,e.h)(zc.ImageViewerModal,{showModal:this.shouldShowImageViewerModal(),modalContent:this.originalImageState,onClose:this.closeImageViewerModal,step:Pe}));return De&&!pe.isStatic?(0,e.h)(oC,null,Ue):Ue}}$o(ms,"contextType",fn.kx);const n3=({tabs:r,tab:t,onTabClick:o})=>(0,e.h)("div",{className:"ui-tabs"},r.map(({id:a,title:f})=>(0,e.h)("a",{className:`ui-tab ${a}-tab ${t===a?"active":""}`,onClick:()=>o&&o(a)},f)));var wd=Ke(36868);const fa={childPublication:"frontend-main-pub_or_section_list-module__childPublication--zPmyV",details:"frontend-main-pub_or_section_list-module__details--oUx97",subscribe:"frontend-main-pub_or_section_list-module__subscribe--tRHIu",logo:"frontend-main-pub_or_section_list-module__logo--tBlg5",info:"frontend-main-pub_or_section_list-module__info--AS8uz",title:"frontend-main-pub_or_section_list-module__title--pK0QU",link:"frontend-main-pub_or_section_list-module__link--yIfBi",description:"frontend-main-pub_or_section_list-module__description--UKfMu"},r3=(r,t)=>({logoUrl:r.podcast_art_url||r.logo_url||(0,g.getDefaultPodcastArtUrl)(),mainClickUrl:(0,g.getPodcastLandingUrl)({pub:r,section:null,addBase:!0}),buttonClickUrl:t,name:r.podcast_title||r.name,description:r.podcast_description||r.hero_text}),o3=({logoUrl:r,mainClickUrl:t,buttonClickUrl:o,name:a,description:f,showButton:L,buttonText:k,openInNewTab:U=!1})=>(0,e.h)("div",{className:fa.childPublication},r&&(0,e.h)("img",{className:fa.logo,src:(0,g.imginary)(r,144),alt:`${a} logo`}),(0,e.h)("div",{className:fa.details},(0,e.h)("div",{className:fa.info},(0,e.h)("div",{className:fa.title},(0,e.h)("a",{className:fa.link,href:t},a)),(0,e.h)("div",{className:fa.description},f)),L&&(0,e.h)(Be.zx,{priority:"primary",className:fa.subscribe,href:o,newTab:U},k))),Ul=({showButton:r,items:t,openInNewTab:o=!1,buttonText:a})=>(0,e.h)("div",{"data-testid":"child-pub-container"},t.map(f=>(0,e.h)(o3,{logoUrl:f.logoUrl,mainClickUrl:f.mainClickUrl,buttonClickUrl:f.buttonClickUrl,name:f.name,description:f.description,buttonText:a,openInNewTab:o,showButton:r}))),Sd={authorPic:"frontend-main-about_page-module__authorPic--UbtRf",heroText:"frontend-main-about_page-module__heroText--DMzgi",container:"frontend-main-about_page-module__container--IFzcg"};var a3=Object.defineProperty,i3=(r,t,o)=>t in r?a3(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,s3=(r,t,o)=>(i3(r,typeof t!="symbol"?t+"":t,o),o),kl=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});function l3(r){if(typeof window=="undefined")return!0;const t=document.createElement("div");t.innerHTML=r;for(let o=t.childNodes.length-1;o>=0;o--){const a=t.childNodes[o];if((0,i.hasClass)(a,"button-wrapper")||(0,i.hasClass)(a,"subscription-widget-wrap"))return!1}return!0}const u3=({pub:r,user:t,freeSignup:o,freeSignupEmail:a})=>{const f=r.payments_state==="enabled"&&(t!=null&&t.is_free_subscribed)&&!(t!=null&&t.is_subscribed)?"paid_upsell":"free_upsell";return(0,n.d4)(()=>{(0,P.j)(P.FP.ABOUT_PAGE_END_CTA_RENDERED,{pub_id:r.id,type:f})},[]),(0,e.h)(e.Fragment,null,(0,e.h)(W,{onVisible:()=>{(0,P.j)(P.FP.ABOUT_PAGE_END_CTA_SEEN,{pub_id:r.id,type:f})}}),(0,e.h)(de.tu,{alignItems:"center",gap:16,padding:24,className:u()(Sd.container,"end-cta-container")},(0,e.h)("img",{src:(0,g.imginary)(r.author_photo_url||r.logo_url,64),className:Sd.authorPic}),(0,e.h)(de.tu,{alignItems:"center"},(0,e.h)(M.xv.H2,{lineHeight:30,align:"center",color:"pub-primary-text"},"Subscribe to ",r.name),r.hero_text&&(0,e.h)(M.xv.Meta,{size:12,className:Sd.heroText,align:"center",color:"pub-secondary-text"},r.hero_text)),(0,e.h)(Do,{pub:r,user:t,freeSignup:o,freeSignupEmail:a,isStatic:!1,source:"about-page-end-cta"})))};function c3({pub:r,user:t,freeSignup:o,freeSignupEmail:a,subscribeContent:f}){return typeof f!="string"?(0,e.h)("div",{className:"content-about-silhouette"},(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"})):(0,e.h)("div",{className:"content-about"},(0,e.h)(ms,{html:f,pub:r,user:t,freeSignup:o,freeSignupEmail:a,isAboutPage:!0}))}function d3({pub:r,people:t}){const o=(0,Ph.useMediaQuery)({maxWidth:540}),a=o?[[]]:[[],[]];for(let f=0;f<t.length;++f)a[o?0:f%2].push(t[f]);return(0,e.h)("div",{className:"content-people"},a.map(f=>(0,e.h)("div",{className:"people-column"},f.map(L=>(0,e.h)("div",{className:"content-person",onclick:k=>(0,Cp.Q)(k,(0,g.getProfileUrl)(L,r,{utm_source:"about-page"}),{native:!0})},(0,e.h)(mo.PP,{subject:L,profile:L,themed:!0,hideSubscribeButtons:!0,utmSource:"about-page"}))))))}class f3 extends e.Component{constructor(t,o){super(t,o),s3(this,"onTabClick",a=>{this.loadTab({tabId:a})}),this.state={subscribeContent:t.subscribeContent,people:t.people,tabs:[]}}componentDidMount(){return kl(this,null,function*(){this.loadPeople(),this.loadAbout()})}loadAbout(){return kl(this,null,function*(){if(this.state.subscribeContent!=="")try{const{body:t}=yield et().get("/api/v1/publication/subscribe_content");this.setState({subscribeContent:t})}catch(t){console.error("Failed to load about content:",t)}})}loadPeople(){return kl(this,null,function*(){if(!this.state.people)try{const{body:t}=yield et().get("/api/v1/publication/users/ranked").query({public:!0});this.setState({people:t})}catch(t){console.error("Failed to load people:",t)}})}loadTab(){return kl(this,arguments,function*({tabId:t}={}){const o=t?this.state.tabs.find(a=>a.id===t):this.state.tab;this.state.tab.id!==o.id&&(this.setState({tab:o}),typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,g.updateQuery)({sort:o.id})))})}renderChildPublications({pub:t,user:o,freeSignup:a},{tab:f}){let L,k;if(t.plans?(k=o&&o.is_subscribed,L=k):(L=a||o&&o.is_free_subscribed,k=o&&o.is_free_subscribed),f.id==="podcast")if(k){const B=[];return(0,e.h)(Ul,{pub:t,showButton:!0,buttonText:"Set up podcast",items:B})}else{const B=[];return(0,e.h)(Ul,{pub:t,showButton:!L,buttonText:"Subscribe",items:B})}const U=[];return(0,e.h)(Ul,{pub:t,showButton:!L,buttonText:"Subscribe",items:U})}render({pub:t,user:o,freeSignup:a,freeSignupEmail:f,metadata:L},{subscribeContent:k,people:U,tabs:B,tab:q}){const pe=B.length>0&&(q==null?void 0:q.id),ge=!pe||(q==null?void 0:q.id)==="about",Pe=(!o||!(0,wd.P)(o,t))&&l3(k);return(0,e.h)("div",{className:"page typography about-page typography"},L&&(0,i.setMetaData)(L),(0,e.h)("div",{className:"container"},(o==null?void 0:o.is_contributor)&&ge&&(0,e.h)(ho.z,{variant:"themed-secondary",href:(0,g.pathWithQuery)("/publish/settings/edit",{title:"About page",bodyField:"subscribe_content",redirect:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)(di.Z,{size:20})},(0,e.h)(M.xv,null,"Edit")),pe&&(0,e.h)(n3,{tabs:B,tab:q.id,onTabClick:this.onTabClick}),ge&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"about-content-wrap"},(0,e.h)(c3,{pub:t,user:o,freeSignup:a,freeSignupEmail:f,subscribeContent:k})),Pe?(0,e.h)(u3,{pub:t,user:o,freeSignup:a,freeSignupEmail:f}):null,(U!=null?U:[]).length>0&&(0,e.h)(de.tu,{gap:24},(0,e.h)("h3",{className:"about-page-section-title"},"People"),(0,e.h)(d3,{pub:t,people:U}))),pe&&["podcast","newsletter"].includes(q.id)&&this.renderChildPublications({pub:t,user:o,freeSignup:a},{tab:q})))}}var p3=Object.defineProperty,h3=Object.defineProperties,m3=Object.getOwnPropertyDescriptors,Fl=Object.getOwnPropertySymbols,o0=Object.prototype.hasOwnProperty,a0=Object.prototype.propertyIsEnumerable,i0=(r,t,o)=>t in r?p3(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,_3=(r,t)=>{for(var o in t||(t={}))o0.call(t,o)&&i0(r,o,t[o]);if(Fl)for(var o of Fl(t))a0.call(t,o)&&i0(r,o,t[o]);return r},g3=(r,t)=>h3(r,m3(t)),v3=(r,t)=>{var o={};for(var a in r)o0.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&Fl)for(var a of Fl(r))t.indexOf(a)<0&&a0.call(r,a)&&(o[a]=r[a]);return o};const Wl=r=>{var t=r,{stroke:o}=t,a=v3(t,["stroke"]);return(0,e.h)(Je.l,g3(_3({},a),{name:"SearchIcon",svgParams:{height:24,width:24}}),(0,e.h)("path",{d:"M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z",stroke:o||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M21.0004 21.0004L16.6504 16.6504",stroke:o||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))};var y3=Ke(18029),P3=Ke.n(y3),b3=Ke(44908),E3=Ke.n(b3);const O3=(0,mn.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),C3=(0,mn.Z)("Clapperboard",[["path",{d:"M4 11v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8H4Z",key:"1hxvyx"}],["path",{d:"m4 11-.88-2.87a2 2 0 0 1 1.33-2.5l11.48-3.5a2 2 0 0 1 2.5 1.32l.87 2.87L4 11.01Z",key:"1vz1k2"}],["path",{d:"m6.6 4.99 3.38 4.2",key:"192ida"}],["path",{d:"m11.86 3.38 3.38 4.2",key:"hhucvz"}]]);var w3=Ke(922);const S3=(0,mn.Z)("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),s0=r=>{const[t,o]=(0,n.eJ)(0),[a,f]=(0,n.eJ)(!1);return(0,n.d4)(()=>{var L;const k=(L=r.current)==null?void 0:L.player;if(k){const U=ge=>{typeof ge.target.currentTime=="number"&&o(ge.target.currentTime)},B=()=>f(!0),q=()=>f(!1),pe=()=>f(!1);return k.addEventListener("timeupdate",U),k.addEventListener("play",B),k.addEventListener("pause",q),k.addEventListener("ended",pe),k.paused||f(!0),()=>{k.removeEventListener("timeupdate",U),k.removeEventListener("play",B),k.removeEventListener("pause",q),k.removeEventListener("ended",pe)}}},[r]),{currentTime:t,isPlaying:a}},jl={container:"frontend-pencraft-unstable-Silhouette-module__container--Z3aFA",containerAnimated:"frontend-pencraft-unstable-Silhouette-module__containerAnimated--bFndg","silhouette-scroll":"frontend-pencraft-unstable-Silhouette-module__silhouette-scroll--LoRab"},go=({animated:r=!0,width:t,height:o,aspectRatio:a,className:f})=>a?(0,e.h)("div",{style:`aspect-ratio:${a}`},(0,e.h)("div",{className:u()(jl.container,f,{[jl.containerAnimated]:r}),style:{width:t,height:o!=null?o:"100%"}})):(0,e.h)("div",{className:u()(jl.container,f,{[jl.containerAnimated]:r}),style:{width:t,height:o}});var l0=Ke(34518);const Br={transcriptionStatus:"frontend-components-TranscriptionText-module__transcriptionStatus--xwFBI",transcriptionChunk:"frontend-components-TranscriptionText-module__transcriptionChunk--EGTI3",hoverChunk:"frontend-components-TranscriptionText-module__hoverChunk--taY2G",rowIndicator:"frontend-components-TranscriptionText-module__rowIndicator--qPF6l",hoverRow:"frontend-components-TranscriptionText-module__hoverRow--p30tM",activeRow:"frontend-components-TranscriptionText-module__activeRow--JGmX3",rowText:"frontend-components-TranscriptionText-module__rowText--uiBoy",speakerText:"frontend-components-TranscriptionText-module__speakerText--XxjIF",rowEditableText:"frontend-components-TranscriptionText-module__rowEditableText--njdfk",activeWord:"frontend-components-TranscriptionText-module__activeWord--gq5t5",loadingSilhouette:"frontend-components-TranscriptionText-module__loadingSilhouette--TnTGs",playCircle:"frontend-components-TranscriptionText-module__playCircle--YrnqH"};var I3=Object.defineProperty,T3=Object.defineProperties,D3=Object.getOwnPropertyDescriptors,u0=Object.getOwnPropertySymbols,M3=Object.prototype.hasOwnProperty,A3=Object.prototype.propertyIsEnumerable,c0=(r,t,o)=>t in r?I3(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Id=(r,t)=>{for(var o in t||(t={}))M3.call(t,o)&&c0(r,o,t[o]);if(u0)for(var o of u0(t))A3.call(t,o)&&c0(r,o,t[o]);return r},Td=(r,t)=>T3(r,D3(t));function d0({editable:r,forPublisherDash:t=!1,player:o,postId:a,renderTranscriptionChunk:f,transcription:L,onEdit:k,onUpdate:U,onUpdateActiveRowIndex:B}){var q,pe;const[ge,Pe]=(0,n.eJ)(!1),[Ee,Me]=(0,n.eJ)(),[De,Ue]=(0,n.eJ)(),[Fe,Ye]=(0,n.eJ)({}),[st,nt]=(0,n.eJ)(!1),[at,yt]=(0,n.eJ)(!1),[Et,Ct]=(0,n.eJ)(),[It,Tt]=(0,n.eJ)(),{currentTime:Rt,isPlaying:wt}=s0(o),[Qt,jt]=(0,n.eJ)(),qt=Ee==null?void 0:Ee.findIndex(Yt=>Yt.start<=Rt&&Yt.end>Rt);(0,n.d4)(()=>{B&&qt!==void 0&&qt!==-1&&B(qt)},[qt,B]),(0,n.d4)(()=>{L.cdn_url?(Pe(!0),et().get(L.cdn_url).then(Yt=>{if(Yt.text){const Zt=JSON.parse(Yt.text);Me(Zt);const xt=E3()(Zt.map(Dt=>Dt.speaker)).filter(Dt=>Dt).sort();xt.length&&Ue(xt)}}).finally(()=>Pe(!1))):Me(void 0),L.speaker_map&&Object.values(L.speaker_map).length&&Ye(L.speaker_map)},[L]);const ln=Fe?Object.values(Fe).filter(Yt=>Yt):[],Bt=!!(De!=null&&De.length&&De.length===ln.length);if((0,n.d4)(()=>{const Yt=()=>{setTimeout(()=>{var Zt,xt,Dt,kt,Gt;const mt=window.getSelection();if(!mt||mt.rangeCount===0||mt.isCollapsed){jt(void 0),Tt(void 0);return}const hn=mt.getRangeAt(0),Xt=hn.startContainer.parentNode,vn=hn.endContainer.parentNode,Nn=(Zt=Xt==null?void 0:Xt.dataset)==null?void 0:Zt.chunkIndex,jn=(xt=vn==null?void 0:vn.dataset)==null?void 0:xt.chunkIndex;if(Nn&&jn){let En=parseInt(Nn,10),Un=parseInt(jn,10);hn.startOffset===((Dt=Xt==null?void 0:Xt.textContent)==null?void 0:Dt.length)&&(En+=1),hn.endOffset===0&&(Un-=1),(Gt=(kt=o.current)==null?void 0:kt.player)==null||Gt.pause(),jt(mt),Tt([En,Un])}else jt(void 0),Tt(void 0)},0)};return document.addEventListener("mouseup",Yt),()=>{document.removeEventListener("mouseup",Yt)}},[]),ge)return(0,e.h)(f0,null);if(!(Ee!=null&&Ee.length))return(0,e.h)("div",{className:Br.transcriptionStatus},(0,e.h)("p",null,(L==null?void 0:L.status)==="in_progress"?"Transcription in progress...":"No transcript..."),(0,e.h)(f0,null));const zt=((pe=(q=o==null?void 0:o.current)==null?void 0:q.player)==null?void 0:pe.tagName)==="VIDEO"?"videogram":"audiogram";function on(Yt){return(0,P.j)(P.FP.AUDIOGRAM_DOWNLOAD_CLICKED,{post_id:a,audiogram_id:Et==null?void 0:Et.id,media_upload_id:L.media_upload_id}),fetch(Yt,{method:"GET"}).then(Zt=>Zt.blob()).then(Zt=>{var xt;const Dt=(xt=Et==null?void 0:Et.video_url)==null?void 0:xt.split("/").pop(),kt=Dt==null?void 0:Dt.match(/^([^-]+-[^_]+)_/),Gt=(kt==null?void 0:kt[1])||"",mt=URL.createObjectURL(Zt),hn=document.createElement("a");hn.href=mt,hn.download=`substack-${zt}-${a}-${Gt}.mp4`,document.body.appendChild(hn),hn.click(),URL.revokeObjectURL(mt),hn.remove()})}return(0,e.h)(e.Fragment,null,!r&&Qt&&It&&(0,e.h)(L3,{noun:zt,selection:Qt,onMakeAudiogram:()=>{if(It){const[Yt,Zt]=It;nt(!0),et().post("/api/v1/audiogram").send({post_id:a,start_idx:Yt,end_idx:Zt,use_draft:t}).then(xt=>{var Dt,kt;(Dt=xt.body)!=null&&Dt.data&&(Ct(xt.body.data),jt(void 0),Tt(void 0),(kt=o.current)!=null&&kt.player&&o.current.player.pause())}).finally(()=>nt(!1))}}}),Ee.map((Yt,Zt)=>f?f({isPlaying:wt,row:Yt,rowIndex:Zt,words:Yt.words,onPause:()=>{var xt;(xt=o.current)!=null&&xt.player&&o.current.player.pause()},onPlay:()=>{var xt;(xt=o.current)!=null&&xt.player&&(o.current.player.currentTime=Yt.start+1e-4,o.current.player.play())}}):(0,e.h)(N3,{key:Zt,idx:Zt,row:Yt,rows:Ee,speakerName:t?Yt.speaker&&`${p0(Yt.speaker)}${Fe[Yt.speaker]?`: ${Fe[Yt.speaker]}`:""}`:Bt&&Yt.speaker?Fe[Yt.speaker]:void 0,onReassign:()=>yt(!0),currentTime:Rt,isPlaying:wt,isSelected:!!(It&&Zt>=It[0]&&Zt<=It[1]),onClick:()=>{jt(void 0),Tt(void 0)},onPause:()=>{var xt;(xt=o.current)!=null&&xt.player&&o.current.player.pause()},onPlay:()=>{var xt;(xt=o.current)!=null&&xt.player&&(o.current.player.currentTime=Yt.start+1e-4,o.current.player.play())},editable:r,onEdit:k})),!!(st||Et)&&(0,e.h)(l0.Yy,{isPopup:!0,hasClosePill:!0,onClose:()=>{Ct(void 0)}},(0,e.h)(M.xv.H3,{style:{marginTop:22,paddingLeft:16}},st?`Generating ${zt}...`:`Shareable ${zt}...`),(0,e.h)(d.tu,{padding:16},Et?(0,e.h)(e.Fragment,null,(0,e.h)("video",{src:Et.cdn_url,style:{borderRadius:12,alignSelf:"center",marginBottom:12},controls:!0,download:!0,width:512}),(0,e.h)(d.zx,{priority:"secondary",leftIcon:(0,e.h)(xl.Z,{height:18}),onClick:()=>on(Et.cdn_url)},"Download")):(0,e.h)(d.tu,{alignItems:"center",justifyContent:"center",style:{flex:1,minHeight:280}},(0,e.h)("div",{className:"embed-loader"})))),De&&!!De.length&&!!at&&(0,e.h)(l0.Yy,{isPopup:!0,hasClosePill:!0,onClose:()=>{yt(!1)}},(0,e.h)(M.xv.H3,{style:{marginTop:22,paddingLeft:16}},"Assign Speakers"),(0,e.h)("p",{style:{padding:"0 16px",fontSize:14,marginTop:4,marginBottom:4}},"To have speaker names shown to readers, assign a name to each of the identified speakers. If we've identified too many speakers, you may have to duplicate a speaker's name."),(0,e.h)(d.tu,{padding:16},De.map(Yt=>(0,e.h)(d.tu,{style:{marginBottom:12}},(0,e.h)("span",{style:{fontSize:14,marginBottom:6}},p0(Yt)),(0,e.h)(Wo.II,{onChange:Zt=>Ye(xt=>{var Dt;return Td(Id({},xt),{[Yt]:(Dt=Zt.target)==null?void 0:Dt.value})}),value:(Fe==null?void 0:Fe[Yt])||"",placeholder:"Speaker name..."}))),(0,e.h)(d.zx,{style:{marginTop:8},priority:"secondary",leftIcon:(0,e.h)(O3,{height:18}),onClick:()=>{Fe&&Object.keys(Fe).length>0&&et().put(`/api/v1/drafts/${a}/transcript`).send({speaker_map:Fe}).then(Yt=>{Yt.body.data&&(U==null||U(Yt.body.data),yt(!1))})}},"Assign"))))}function L3({selection:r,onMakeAudiogram:t,noun:o}){var a,f;const L=(0,gn.XA)(),k=(f=(a=r.anchorNode)==null?void 0:a.parentElement)==null?void 0:f.getBoundingClientRect();return k?(0,e.h)(d.tu,{style:{top:(0,Ne.isTouchDevice)()?Math.max(k.y,0)+k.height+12:Math.max(k.y,0)-48,left:"50vw",transform:"translateX(-50%)",pointerEvents:"auto",maxWidth:240},justifyContent:"center",className:Dr.popover},(0,e.h)(d.tu,{className:u()(Dr.popoverButtons,L&&Dr.isMobile),radius:12,padding:4,gap:8,shadow:"md"},(0,e.h)(Nl,{onClick:t,disabled:!1,isExplainer:!1},(0,e.h)(C3,{color:"white"}),(0,e.h)(M.xv.B4,{color:"bg-light",weight:"medium"},"Make ",o)))):null}function f0(){return(0,e.h)(e.Fragment,null,(0,e.h)(go,{width:"80%",height:"24px",className:Br.loadingSilhouette}),(0,e.h)(go,{width:"34%",height:"24px",className:Br.loadingSilhouette}),(0,e.h)(go,{width:"75%",height:"24px",className:Br.loadingSilhouette}),(0,e.h)(go,{width:"100%",height:"24px",className:Br.loadingSilhouette}),(0,e.h)(go,{width:"68%",height:"24px",className:Br.loadingSilhouette}))}function p0(r){const t=r.split("_"),o=parseInt(t[1]);return`${P3()(t[0])} ${o+1}`}function N3({row:r,currentTime:t,onPlay:o,isPlaying:a,onPause:f,isSelected:L,onClick:k,idx:U,editable:B,onEdit:q,rows:pe,onReassign:ge,speakerName:Pe}){var Ee;const[Me,De]=(0,n.eJ)(!1),Ue=(0,n.sO)(null),Fe=r.start<=t&&r.end>=t,Ye=r.words.map(at=>at.word).join(" "),st=B?Ye:r.words.map(at=>at.start<=t&&at.end>=t?(0,e.h)(e.Fragment,null,(0,e.h)("span",{className:Br.activeWord},at.word)," "):`${at.word} `);let nt=null;if(r.speaker&&Pe){const at=U===0||(Ee=pe[U-1])==null?void 0:Ee.speaker;r.speaker!==at&&(nt=(0,e.h)("div",{className:Br.speakerText,onClick:ge},Pe))}return(0,e.h)("div",{ref:Ue,onClick:k,onMouseEnter:()=>De(!0),onMouseLeave:()=>De(!1),style:{display:"flex",width:"100%",alignItems:"center"}},!a||Me&&!Fe?(0,e.h)(w3.Z,{onClick:o,size:24,className:Br.playCircle,style:Td(Id({},Me&&{color:"var(--color-accent-themed)"}),{visibility:Fe||Me?"visible":"hidden"})}):(0,e.h)(S3,{onClick:f,size:24,className:Br.playCircle,style:Td(Id({},Me&&{color:"var(--color-accent-themed)"}),{visibility:Fe||Me?"visible":"hidden"})}),(0,e.h)("div",{className:u()(Br.transcriptionChunk,{[Br.activeRow]:Fe||L,[Br.hoverChunk]:Me}),"data-chunk-index":U},(0,e.h)("div",{className:u()(Br.rowIndicator,{[Br.hoverRow]:Me})}),(0,e.h)("div",{style:{display:"flex",flexDirection:"column",flex:1,padding:"5px 0"}},nt,B?(0,e.h)("div",{className:Br.rowEditableText,"data-chunk-index":U,contentEditable:!0,onInput:at=>{var yt;const Et=(yt=at.target)==null?void 0:yt.innerHTML;typeof Et=="string"&&(Et===Ye?q==null||q({[String(U)]:void 0}):q==null||q({[String(U)]:Et}))}},st):(0,e.h)("div",{className:Br.rowText,"data-chunk-index":U},st))))}var wr=Ke(6378),x3=Object.defineProperty,Kl=Object.getOwnPropertySymbols,h0=Object.prototype.hasOwnProperty,m0=Object.prototype.propertyIsEnumerable,Dd=(r,t,o)=>t in r?x3(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,R3=(r,t)=>{for(var o in t||(t={}))h0.call(t,o)&&Dd(r,o,t[o]);if(Kl)for(var o of Kl(t))m0.call(t,o)&&Dd(r,o,t[o]);return r},B3=(r,t)=>{var o={};for(var a in r)h0.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&Kl)for(var a of Kl(r))t.indexOf(a)<0&&m0.call(r,a)&&(o[a]=r[a]);return o},Md=(r,t,o)=>(Dd(r,typeof t!="symbol"?t+"":t,o),o),U3=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const _s=({className:r=null,title:t,subtitle:o=null,reauthenticationTitle:a,publication:f,post:L,user:k,freeSignup:U=null,freeSignupEmail:B=null,email_form:q=!1,autoFocus:pe=!1,isStatic:ge=!1,coupon:Pe=null})=>{const{iString:Ee,iTemplate:Me}=(0,A.M1)(),De=k&&k.email||B||null,Ue=!!(k!=null&&k.is_subscribed&&(k!=null&&k.is_magic)),Fe=(L==null?void 0:L.audience)==="founding",Ye=!!(k!=null&&k.is_free_subscribed||U),st=(0,g.getPostUrl)(f,L),nt=Pe&&Pe.id&&!Fe;let at;return nt?(L==null?void 0:L.type)==="podcast"?at=Ee("Listen to this episode with a 7-day free trial"):(L==null?void 0:L.type)==="video"?at=Ee("Watch with a 7-day free trial"):at=Ee("Keep reading with a 7-day free trial"):Ue?at=a:at=t,(0,e.h)("div",{className:u()("paywall",r),"data-testid":"paywall","data-component-name":"Paywall"},De&&(0,e.h)(M.xv,{translated:!0,as:"div",className:"paywall-intro"},"Hi ",(0,e.h)("b",null,I18N.p(De))),(0,e.h)("h2",{className:"paywall-title"},at),o&&!nt&&(0,e.h)("p",{className:"paywall-subtitle"},o),nt&&(0,e.h)("div",{className:"paywall-free-trial-subtitle"},(L==null?void 0:L.type)==="podcast"&&(0,e.h)(M.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(M.xv,{as:"span",weight:"bold",fontStyle:"italic"},I18N.p(f.name))," ","to listen to this episode and get 7 days of free access to the full post archives."),(L==null?void 0:L.type)==="video"&&(0,e.h)(M.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(M.xv,{as:"span",weight:"bold",fontStyle:"italic"},I18N.p(f.name))," ","to watch this video and get 7 days of free access to the full post archives."),(L==null?void 0:L.type)==="newsletter"&&(0,e.h)(M.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(M.xv,{as:"span",weight:"bold",fontStyle:"italic"},I18N.p(f.name))," ","to keep reading this post and get 7 days of free access to the full post archives."),(L==null?void 0:L.type)==="adhoc_email"&&(0,e.h)(M.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(M.xv,{weight:"bold",fontStyle:"italic"},I18N.p(f.name))," ","to keep reading this email and get 7 days of free access to the full post archives.")),q?!Ye&&(0,e.h)(d.gq,{paddingTop:24,justifyContent:"center"},(0,e.h)(Le.Z,{autoFocus:pe!=null?pe:!0,email:De,freeSignup:U,freeSignupEmail:B,onAccentBackground:!0,pub:f,source:"post-unlock",submitButtonText:(L==null?void 0:L.type)==="podcast"?Ee("Start listening"):(L==null?void 0:L.type)==="video"?Ee("Start watching"):Ee("Start reading"),user:k,onSuccess:()=>document.location.reload()})):(0,e.h)(k3,{coupon:Pe,email:De,isStatic:ge,post:L,postUrl:st,publication:f,useCoupon:nt,user:k}),!Ue&&!ge&&(0,e.h)("div",{className:"paywall-login"},(0,e.h)("a",{href:(0,g.getSigninUrl)({for_pub:f.subdomain,change_user:!!De}),native:!0},j3({post:L,publication:f,isPaid:!q})," ",(0,e.h)("b",null,Ee(De?"Switch accounts":"Sign in")))))},k3=({coupon:r,email:t,isStatic:o,post:a,postUrl:f,publication:L,useCoupon:k,user:U})=>{const B=!!(U!=null&&U.is_founding),q=!!(U!=null&&U.is_subscribed),pe=!!(U!=null&&U.is_subscribed&&(U!=null&&U.is_magic)),ge=(a==null?void 0:a.audience)==="founding",{exposeExperiment:Pe,getExperimentVariant:Ee}=(0,fn.jc)(),Me=Ee("autosubscribe_from_paywall")==="treatment",{iString:De,iTemplate:Ue}=(0,A.M1)();if(o){if(!L.plans)return null;const Fe=ge?Ir.Substitutions.FOUNDING_CHECKOUT_URL:Ir.Substitutions.CHECKOUT_URL,Ye=k?`&coupon=${r.id}`:"",st=ge?Ue`Upgrade to ${(0,wr.getFoundingTierName)(L)}`:k?De("Start trial"):(0,e.h)(Ed,{pub:L,user:U,isStatic:o});return(0,e.h)(F3,{href:`${Fe}simple=true&utm_source=paywall&utm_medium=email&utm_content=${a.id}&next=${f}${Ye}`},st)}return!B&&ge?L.plans?(0,e.h)(Hl,{href:(0,g.getCheckoutUrl)(L,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:a?a.id:null,plan:"founding"})},Ue`Upgrade to ${(0,wr.getFoundingTierName)(L)}`):null:q?pe?(0,e.h)(Hl,{href:(0,g.getSigninUrl)({for_pub:L.subdomain,email:t})},De("Click here to sign in")):null:L.plans?U!=null&&U.email&&!k?(0,e.h)(Hl,{onClick:()=>U3(void 0,null,function*(){yield Pe("autosubscribe_from_paywall");let Fe;if(Me)try{Fe=(yield et().post("/api/v1/free").send({source:"paywall",email:t,first_url:l.xY,first_referrer:l.ip,current_url:l.UE,current_referrer:l.xU})).body.referral_token,(0,P.IU)()}catch(Ye){(0,P.j)(P.FP.PAYWALL_FREE_SIGNUP_FAILED,{reason:Ye.message})}window.location.href=(0,g.getCheckoutUrl)(L,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:o?"email":"web",utm_content:a?a.id:null,just_signed_up:Me,referral_token:Fe})})},(0,e.h)(Ed,{pub:L,user:U,isStatic:o})):(0,e.h)(Hl,{href:(0,g.getCheckoutUrl)(L,{simple:!0,next:document.location.href,utm_source:k?"paywall-free-trial":"paywall",utm_medium:o?"email":"web",utm_content:a?a.id:null,coupon:k?r.id:null})},k?De("Start trial"):(0,e.h)(Ed,{pub:L,user:U,isStatic:o})):null},F3=({children:r,href:t})=>(0,e.h)("div",{className:"paywall-cta"},(0,e.h)("a",{className:"button primary subscribe-btn",href:t},(0,e.h)("span",null,r))),Hl=({children:r,href:t,onClick:o})=>(0,e.h)("div",{className:"paywall-cta"},(0,e.h)("a",{href:t,onClick:o,native:!0},(0,e.h)(Ae.Z,{className:"subscribe-btn"},r)));class W3 extends ct.p{renderChildren(){const t=this.props,{ref:o}=t,a=B3(t,["ref"]);return(0,e.h)(_s,R3({className:"modal-paywall"},a))}}class _0 extends Ua.Z{constructor(){super(...arguments),Md(this,"playbackEnabled",()=>this.props.mediaUpload.preview_duration>0),Md(this,"cta",()=>{const{iString:t}=I18N.i({pub:this.props.pub});return this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?"":this.playbackEnabled()?t("Subscribe for full video"):t("Subscribe and watch")}),Md(this,"href",()=>this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?this.props.href:this.props.href||(0,g.getCheckoutUrl)(this.props.pub,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:this.props.mediaUpload.post_id}))}}function j3({post:r,publication:t,isPaid:o=!0}={}){const{iString:a,iTemplate:f}=I18N.i({pub:t});return o?(r==null?void 0:r.audience)==="founding"?(0,wr.getFoundingTierName)(t)?f`Already in the ${(0,wr.getFoundingTierName)(t)} plan?`:f`Already in the Founding Member plan?`:a("Already a paid subscriber?"):a("Already a subscriber?")}const g0=({post:r,pub:t,user:o,playerRef:a})=>{var f,L;const k=!(0,Ne.canSeeTranscription)(o,r),U=((f=r==null?void 0:r.podcastUpload)==null?void 0:f.transcription)||((L=r==null?void 0:r.videoUpload)==null?void 0:L.transcription),{iString:B}=(0,A.M1)();return(0,n.d4)(()=>{(0,P.j)(P.FP.TRANSCRIPTION_PAGE_VIEWED,{post_id:r.id})},[r.id]),U?k?(0,e.h)(_s,{user:o,publication:t,post:r,title:B("Transcriptions on this episode are for paid subscribers"),reauthenticationTitle:B("To see the transcription, please re-authenticate.")}):(0,e.h)(d0,{transcription:U,player:a,postId:r.id}):null};var gs=Ke(11429),Mr=Ke(39776);const Vl=(0,e.createContext)({alwaysShowActions:!1,cropGravity:"center"});var K3=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const H3=({pub:r,magicToken:t,sectionId:o,user:a})=>{const[f,L]=(0,n.eJ)((0,g.getPodcastRssUrl)({pub:r,token:t}));return(0,n.d4)(()=>{if(!a||!a.is_subscribed&&!a.is_free_subscribed)return;(()=>K3(void 0,null,function*(){const U=yield et().get("/api/v1/subscription/podcast_rss_url").query({token:t,section_id:o});U.body.podcast_rss_url&&L(U.body.podcast_rss_url)}))()},[t,o,a==null?void 0:a.is_free_subscribed,a==null?void 0:a.is_subscribed]),{feedUrl:f}},V3=r=>{const[t,o]=(0,n.eJ)(!1),a=()=>{o(!0)},f=()=>{o(!1)};return(0,n.d4)(()=>{const L=r.current;if(L)return L.addEventListener("mouseenter",a),L.addEventListener("mouseleave",f),()=>{L.removeEventListener("mouseenter",a),L.removeEventListener("mouseleave",f)}},[]),[t]},Ad={gifPreview:"frontend-main-home-PostPreview-PostPreviewGifAnimation-module__gifPreview--Q_gZG",visible:"frontend-main-home-PostPreview-PostPreviewGifAnimation-module__visible--CDDZi",image:"frontend-main-home-PostPreview-PostPreviewGifAnimation-module__image--qjVzM"},v0=({post:r,containerRef:t,aspectRatio:o,size:a="small"})=>{var f;const[L]=V3(t),k=a==="small"?320:a==="medium"?480:640;return(f=r.videoUpload)!=null&&f.is_mux?(0,e.h)("div",{className:u()(Ad.gifPreview,{[Ad.visible]:L})},(0,e.h)("img",{className:Ad.image,style:`aspect-ratio: ${o}`,type:"image/gif",src:`/api/v1/video/upload/${r.videoUpload.id}/preview.gif?height=${k}`})):null},No={container:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__container--Wg_Ug",image:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image--rPbBU","image-square-legacy":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-legacy--_GME6",containerSquare:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__containerSquare--FzVt2","inner-wrapper":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper--ygG2h","inner-wrapper-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-small--OSiYt","inner-wrapper-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-medium--VWRZy","inner-wrapper-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-large--t45Cv","image-square":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square--hVSXS","image-square-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-small--GS7r4","image-square-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-medium--SzURN","image-square-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-large--QbhB7"},pa=({className:r,hidePlaceholder:t,imageAspectRatio:o,imageWidth:a,isBelowTheFold:f,post:L,squareImageSize:k})=>{const{cropGravity:U}=(0,n.qp)(Vl),{getConfigFor:B}=(0,tt.xR)(),{isMobile:q}=(0,cr.v9)(),pe=B("show_entire_square_image"),ge=(0,dn.getCoverImageUrl)(L),Pe=(0,n.sO)(null),Ee=a<=640;if(!ge&&t)return null;const Me=!a&&!o?1.32:o,De=a||336,Ue=!!ge&&L.cover_image_is_square&&pe,Fe=Ue&&!!k&&!q,Ye=f?"lazy":void 0;return Fe?(0,e.h)($3,{aspectRatio:Me,className:r,imageUrl:ge,loading:Ye,size:k,width:De}):(0,e.h)("div",{ref:Pe,className:u()(r,No.container,{"post-preview-cover-image-container--empty":!ge}),style:`aspect-ratio: ${Me}`},Ee&&(0,e.h)(v0,{containerRef:Pe,post:L,aspectRatio:Me,size:a>320?"large":"medium"}),ge?(0,e.h)(dt.e,{className:u()(No.image,{[No["image-square-legacy"]]:Ue}),src:ge,alt:"",maxWidth:De,imageProps:Me?{height:Math.round(De/Me),smartCrop:!0,gravity:U}:{},loading:Ye,style:`aspect-ratio: ${Me}`,imageSizingCss:"(min-width:768px) 50vw, 100vw"}):null)},$3=({aspectRatio:r,className:t,imageUrl:o,width:a,loading:f,size:L})=>(0,e.h)("div",{className:u()(t,No.container,No.containerSquare),style:`aspect-ratio: ${r}`},(0,e.h)("div",{className:u()(No["inner-wrapper"],No[`inner-wrapper-${L}`])},(0,e.h)(dt.e,{className:u()(No.image,No["image-square"],No[`image-square-${L}`]),src:o,alt:"",maxWidth:a,imageProps:{height:a,smartCrop:!0,gravity:"center"},loading:f})));var $l=Ke(33324),Z3=Ke(98913),G3=Ke.n(Z3),Ha=Ke(69427),z3=Ke(84017),y0=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const Y3={"1m":"one minute","1h":"one hour","24h":"24 hours","7d":"one week","30d":"one month","100y":"all time"},J3=({ban:r,onReply:t,showReplyLink:o,name:a})=>{const f=sn()(r.expiry).standardDatetimeWithYear();return(0,e.h)("div",{className:"banned"},a," is banned until ",f,"."," ",o&&(0,e.h)("span",null,(0,e.h)("a",{onClick:t,href:"javascript:void(0)"},"Leave a comment")," ","to let them know why."))};function Ld({pub:r,sub:t,children:o,tab:a}){return!t||!t.email?o:(0,e.h)("a",{target:"_blank",href:(0,g.getSubscriberDetailsUrl)(r,t.email,{tab:a})},o)}const X3=({sub:r})=>r?r.is_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Paid)"):r.is_free_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Free)"):(0,e.h)("span",{className:"not-subscribed"},"Not Subscribed"):null,Q3=({bans:r,activeBans:t})=>r.length===0?(0,e.h)("span",null,"No previous bans"):t.length>0?(0,e.h)("span",{className:"banned status"},"Banned"):(0,e.h)("span",{className:"status"},"Banned previously from ",sn()(r[0].start).standardDatetimeWithYear()," to"," ",sn()(r[0].expiry).standardDatetimeWithYear()),q3=({comment:r,pub:t,onReply:o,onBan:a,onClose:f})=>{const[L,k]=(0,n.eJ)(null),[U,B]=(0,n.eJ)(!1),[q,pe]=(0,n.eJ)([]),[ge,Pe]=(0,n.eJ)(!1),[Ee,Me]=(0,n.eJ)("24h"),[De,Ue]=(0,n.eJ)(null),[Fe,Ye]=(0,n.eJ)(!0),st=(0,n.sO)(null),nt=!!r||U,at=Tt=>{const Rt=Tt;Tt.forEach(wt=>{Rt.findIndex(Qt=>Qt.id===wt.id)==-1&&Rt.push(wt)}),pe(Rt)},yt=()=>{o(r.id),st.current.close()};(0,n.d4)(()=>{st!=null&&st.current&&(nt?st.current.state.open||st.current.open():st.current.state.open&&st.current.close())},[r,U]),(0,n.d4)(()=>y0(void 0,null,function*(){if(r){Pe(!1),B(!0),pe([]),Ue(null),k(null);try{const Tt=yield et().get(`/api/v1/user/${r.user_id}/bans`);pe(Tt.body.bans),k(Tt.body.sub)}catch(Tt){console.error("Failed to get bans:",Tt),Ue(!0)}B(!1)}}),[r]);const Et=()=>y0(void 0,null,function*(){B(!0);try{const Tt=yield et().post(`/api/v1/comment_ban/${r.id}`,{pub:t}).send({user_id:r.user_id,expiry:Ee,removeAllComments:Fe});Fe&&document.location.reload(),at(Tt.body.bans),Pe(!0),B(!1),a(r,q)}catch(Tt){console.error("Failed to submit ban",Tt),Ue(!0)}B(!1)});if(!r)return null;const Ct=Y3[Ee],It=q.filter(Tt=>sn()(Tt.expiry).isAfter(sn()()));return(0,e.h)(ct.p,{ref:st,noExitOnClick:!0,onClose:f},(0,e.h)("div",{className:"ban-dialog comment"},(0,e.h)("div",{className:"profile"},(0,e.h)("div",{className:"photo"},(0,e.h)(Ld,{pub:t,sub:L},(0,e.h)(z3.fi,{photo_url:r.photo_url,size:80,banned:It.length>0}))),(0,e.h)("div",{className:"info"},(0,e.h)(Ld,{pub:t,sub:L},(0,e.h)("span",{className:"name"},r.name)),(0,e.h)(X3,{sub:L}),(0,e.h)(Q3,{bans:q,activeBans:It}))),De&&(0,e.h)("div",{className:"error"},"Sorry, an error occurred."),U?"Loading...":(0,e.h)("form",{className:"form"},It.length===0&&(0,e.h)("div",null,(0,e.h)("label",null,"Ban from commenting for",(0,e.h)("select",{onInput:Tt=>Me(Tt.target.value),value:Ee},(0,e.h)("option",{value:"1h"},"one hour"),(0,e.h)("option",{value:"24h"},"24 hours"),(0,e.h)("option",{value:"7d"},"one week"),(0,e.h)("option",{value:"30d"},"one month"),(0,e.h)("option",{value:"100y"},"indefinitely"))),(0,e.h)("label",null,(0,e.h)("input",{type:"checkbox",checked:Fe,onInput:Tt=>Ye(Tt.target.checked)}),"Remove ",(0,Ne.guessFirstName)(r.name),"'s"," ",(0,e.h)(Ld,{pub:t,sub:L,tab:"comments"},"previous comments on your publication")," ","(this action cannot be reversed)"),(0,e.h)("div",{className:"button-wrapper"},(0,e.h)(Ae.Z,{className:"button primary",onClick:Et},"Ban for ",Ct))),It.length>0&&q.filter(Tt=>Tt.user_id).map(Tt=>(0,e.h)(J3,{ban:Tt,showReplyLink:ge,onReply:yt,name:r.name})))))},NW=null;var $r=Ke(82622),Zl=Ke(38441),eD=Ke(7617);const P0=(0,mn.Z)("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]),tD=(0,mn.Z)("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]),nD=(0,mn.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12",key:"1y1yb1"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8",key:"110wyk"}]]);var rD=Ke(66440),oD=Ke(81108),aD=Object.defineProperty,iD=Object.defineProperties,sD=Object.getOwnPropertyDescriptors,b0=Object.getOwnPropertySymbols,lD=Object.prototype.hasOwnProperty,uD=Object.prototype.propertyIsEnumerable,E0=(r,t,o)=>t in r?aD(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,cD=(r,t)=>{for(var o in t||(t={}))lD.call(t,o)&&E0(r,o,t[o]);if(b0)for(var o of b0(t))uD.call(t,o)&&E0(r,o,t[o]);return r},dD=(r,t)=>iD(r,sD(t));const fD=r=>(0,e.h)(Je.l,dD(cD({},r),{name:"LinearIcon",svgParams:{height:50,width:50,fill:"#5E6AD2"}}),(0,e.h)("path",{d:"M41.3,44c0.5-0.4,0.9-0.8,1.3-1.3c9.8-9.8,9.8-25.6,0-35.4c-9.8-9.8-25.6-9.8-35.4,0C6.8,7.8,6.4,8.2,6,8.7   L41.3,44z"}),(0,e.h)("path",{d:"M38.3,46.2L3.8,11.7c-0.7,1.1-1.3,2.2-1.8,3.4L34.9,48C36.1,47.5,37.2,46.9,38.3,46.2z"}),(0,e.h)("path",{d:"M31.1,49.3L0.7,18.9c-0.4,1.5-0.6,3-0.7,4.5L26.6,50C28.1,49.9,29.6,49.7,31.1,49.3z"}),(0,e.h)("path",{d:"M21.1,49.8L0.2,28.9c0.8,5.1,3.1,9.9,7,13.9C11.2,46.6,16.1,49,21.1,49.8z"}));var Va=Ke(31533),yi=Ke(36250);const O0="comment-collapse-state",C0=250,Zo=vD(),pD=()=>{if(typeof window!="undefined"&&window.location.hash){const r=/^#comment-(\d+)/.exec(window.location.hash);if(r)return Number(r[1])}return null},hD=()=>typeof window!="undefined"&&window.location.hash==="#input",w0=(r,t)=>{if(!r||!t||!t.length)return null;for(const o of t){if(o.id===r)return o;if(o.children&&o.children.length){const a=w0(r,o.children);if(a)return a}}return null};function vs(r,t){return r.map(o=>o.id===t.id?t:(o.children=vs(o.children,t),o)).filter(o=>o)}function mD(r,t,{recurse:o=!0}={}){var a,f,L,k;return!!(r.id!==t.id||((a=r==null?void 0:r.metadata)==null?void 0:a.is_author)!==((f=t==null?void 0:t.metadata)==null?void 0:f.is_author)||((L=r==null?void 0:r.metadata)==null?void 0:L.founding)!==((k=t==null?void 0:t.metadata)==null?void 0:k.founding)||(r==null?void 0:r.body)!==(t==null?void 0:t.body)||(r==null?void 0:r.status)!==(t==null?void 0:t.status)||r.reaction!==t.reaction||r.user_banned!==t.user_banned||r.reported_by_user!==t.reported_by_user||(r.reactor_names?r.reactor_names.length:0)!==(t.reactor_names?t.reactor_names.length:0)||Object.values(r.reactions).reduce((U,B)=>U+B,0)!==Object.values(t.reactions).reduce((U,B)=>U+B,0)||o&&_D(r.children,t.children,{recurse:o}))}function _D(r,t,{recurse:o=!0}={}){if((r?r.length:0)!==(t?t.length:0))return!0;if(r)for(const a of r){const f=t.find(L=>L.id===a.id);if(!f||o&&mD(a,f,{recurse:o}))return!0}return!1}function ys(r,t,o){return(0,g.pathWithQuery)((0,g.getPostUrl)(t,r,{comments:!(0,Ne.shouldUseInlineComments)(t,r)}),o)}function gD(r){return(r||"").split(`
`).filter(t=>t.trim()).map(t=>(0,e.h)("p",null,(0,e.h)(Ap(),{options:{validate:{url:o=>o&&!o.startsWith("/")},attributes:{rel:"nofollow ugc noopener"}}},t)))}const Gl=r=>{var t,o,a,f;return{id:r.user_id,photo_url:r.photo_url,name:r.name,bestseller_tier:r.user_bestseller_tier,primary_publication:r.user_primary_publication,is_free_subscribed:["free_signup, subscribed"].includes((t=r.metadata)==null?void 0:t.membership_state),is_subscribed:((o=r.metadata)==null?void 0:o.membership_state)==="subscribed",is_founding:(a=r.metadata)==null?void 0:a.founding,is_author:(f=r.metadata)==null?void 0:f.is_author}};function vD(){try{return(0,S.mM)(O0,[])}catch(r){return console.error("Failed to load comment collapse state:",r),[]}}function yD(r,t){let o=!1;if(t)Zo.includes(r)||(o=!0,Zo.push(r),Zo.length>C0&&Zo.splice(0,Zo.length-C0));else{const a=Zo.indexOf(r);a>=0&&(o=!0,Zo.splice(a,1))}if(o)try{(0,S.ex)(O0,Zo)}catch(a){console.error("Failed to store comment collapse state:",a)}}function PD(r){return Zo.includes(r)}const Nd={link:"frontend-main-comments-CommentActions-module__link--yWV0t",withShareButton:"frontend-main-comments-CommentActions-module__withShareButton--ftFtT"};var zl=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const bD=({comment:r,pub:t,user:o,post:a,reaction_token:f,commentsEnabledForPost:L,hideContextMenu:k,noRestack:U,onChange:B,startReply:q,startEdit:pe,startReport:ge,openBan:Pe,shareComment:Ee,updateCommentReacted:Me})=>{var De;const{pinned_by_user_id:Ue}=r,Fe=!!Ue,Ye=(0,n.sO)(),[st,nt]=(0,n.eJ)(!1),[at,yt]=(0,n.eJ)(!1),[Et,Ct]=(0,n.eJ)(!1),{iString:It,iTemplate:Tt}=(0,A.M1)(),Rt=()=>zl(void 0,null,function*(){if(!Et&&window.confirm(Fe?Tt`Are you sure you want to unpin this comment?`:Tt`Are you sure you want to pin this comment?`)&&!Et){Ct(!0);try{yield et().patch(`/api/v1/comment/${r.id}/pin`).send({pinned:!Fe}),B({pinned:!Fe}),document.location.reload()}catch(Un){alert((0,i.getNetworkErrorMessage)(Un)),Ct(!1)}}}),wt=()=>zl(void 0,null,function*(){var Un;if(!st&&window.confirm(It("Are you sure you want to remove this comment?"))&&!st){nt(!0);try{yield et().patch(`/api/v1/comment/${r.id}/status`).send({status:$r.COMMENT_STATUS.moderator_removed}),B({suppressed:!0,status:$r.COMMENT_STATUS.moderator_removed,body:null}),(Un=Ye.current)==null||Un.close()}catch(Pn){alert((0,i.getNetworkErrorMessage)(Pn))}nt(!1)}}),Qt=()=>zl(void 0,null,function*(){var Un;if(!at&&window.confirm(It("Are you sure you want to delete this comment?"))&&!at){yt(!0);try{yield et().delete(`/api/v1/comment/${r.id}`).send(),B({status:$r.COMMENT_STATUS.deleted,deleted:!0,user_id:null,name:null,body:null}),(Un=Ye.current)==null||Un.close()}catch(Pn){alert((0,i.getNetworkErrorMessage)(Pn))}yt(!1)}}),jt=()=>zl(void 0,null,function*(){const Un=(0,yi.getCommentUrl)(a,r,t),Pn=`https://linear.app/substackinc/team/TPT/new?description=${r.body}%0A%0AComment%20author:%20[${r.name}](https://admin.substack.com/users/${r.user_id})%0A%0ALink:%20${Un}&status=Triage`;window.open(Pn,"_blank")}),qt=!!(o&&o.id===r.user_id),ln=(o==null?void 0:o.is_contributor)&&(0,$r.Ng)(r)&&r.ancestor_path==="",Bt=(0,Ne.canEditComment)(o,r),zt=(o==null?void 0:o.is_contributor)&&(0,$r.Ng)(r)&&r.ancestor_path==="",on=!qt&&r.metadata.eligibleForGift&&!r.metadata.is_author,Yt=(o==null?void 0:o.is_contributor)&&(0,$r.Ng)(r),Zt=!qt&&t.moderation_enabled&&!r.reported_by_user&&!r.hidden&&!r.suppressed,xt=qt,Dt=Yt&&!qt,kt=Yt&&o.is_global_admin,Gt=o==null?void 0:o.is_global_admin,mt=Yt&&!r.user_banned&&!qt,hn=Yt&&r.email&&!qt,Xt=Bt||zt||on||hn,vn=mt||Zt||Dt||xt||kt,Nn=(0,Mr.default)("like_comments_enabled"),jn=!k&&(Xt||vn),En=`${t.base_url}/subscribe?gift=true&recipient=${r.user_id}-${(0,am.cleanSlug)(r.name,{hashIfEmpty:!0})}&comment_id=${r.id}}`;return(0,e.h)(de.hs,{gap:16,alignItems:"center",justifyContent:"start",paddingTop:8,className:u()("comment-actions",{[Nd.withShareButton]:!!Ee})},!r.deleted&&[Nn&&(0,e.h)(Va.dJ,{user:o,pub:t,post:a,comment:r,height:16,countInParenthesesStyle:!0,token:f,onChange:({comment:Un})=>B(Un),onReactedChange:Un=>{Me&&Me(r.id,Un)},noSelfUpdate:!!Me}),L&&(0,e.h)(Al.hh,{onClick:()=>q(),className:Nd.link},(0,e.h)(de.hs,{gap:6,alignItems:"center"},(0,e.h)(eD.Z,{stroke:"var(--color-secondary-themed)",size:16}),(0,e.h)(M.xv.Meta,{color:"pub-secondary-text"},It("Reply"),((De=r.children)==null?void 0:De.length)>0&&` (${r.children.length})`))),!!Ee&&(0,e.h)(Al.hh,{onClick:()=>Ee(r.id),className:Nd.link},(0,e.h)(de.hs,{gap:6,alignItems:"center"},(0,e.h)(ol.Z,{stroke:"var(--color-secondary-themed)",size:16}),(0,e.h)(M.xv.Meta,{color:"pub-secondary-text"},It("Share")))),!U&&(0,e.h)(OD,{pub:t,post:a,comment:r,onChange:B}),jn&&(0,e.h)(qe.v2,{trigger:(0,e.h)(Be.hU,{priority:"secondary-theme",rounded:!1,size:20},(0,e.h)(Lp.Z,{size:16})),useMobileBottomSheet:!0,mobileBottomSheetTitle:It("More")},ln&&(0,e.h)(ED,{pub:t,post:a,comment:r}),Bt&&(0,e.h)(qe.sN,{icon:(0,e.h)(di.Z,null),onClick:pe},It("Edit")),zt&&(0,e.h)(qe.sN,{icon:(0,e.h)(P0,null),onClick:Rt},It(Et?Fe?"Unpinning...":"Pinning...":Fe?"Unpin":"Pin")),on&&(0,e.h)(qe.sN,{icon:(0,e.h)(tD,null),href:En},It("Gift a subscription")),Gt&&(0,e.h)(qe.sN,{icon:(0,e.h)(fD,{strokeWidth:0,height:24,width:24}),onClick:jt},It("Add comment to Linear")),hn&&(0,e.h)(qe.sN,{icon:(0,e.h)(nD,null),onClick:()=>window.open((0,g.getSubscriberDetailsUrl)(t,r.email),"_blank")},It("Subscriber details")),Xt&&vn&&(0,e.h)(Gh.i,null),xt&&(0,e.h)(qe.sN,{icon:(0,e.h)(rD.Z,null),onClick:Qt,priority:"destructive"},It(at?"Deleting...":"Delete")),Dt&&(0,e.h)(qe.sN,{icon:(0,e.h)(oD.Z,null),onClick:wt,priority:"destructive"},It(st?"Removing...":"Remove")),Zt&&(0,e.h)(qe.sN,{icon:(0,e.h)(xp.Z,null),onClick:ge,priority:"destructive"},It("Report")),mt&&(0,e.h)(qe.sN,{icon:(0,e.h)(Rp.Z,null),onClick:Pe,priority:"destructive"},It("Ban or suspend user")))])};function ED({pub:r,post:t,comment:o}){const a=(0,Qi.i3)(),{iString:f}=(0,A.M1)();return(0,e.h)(qe.sN,{icon:(0,e.h)(pi.Z,null),onClick:()=>{a.open({restackUrl:(0,yi.getCommentUrl)(t,o,r)})}},f("Restack"))}function OD({pub:r,post:t,comment:o,onChange:a}){const{iString:f}=(0,A.M1)(),{canRestack:L,isRestacked:k,restacks:U,menuItems:B,nuxModal:q}=(0,W_.K)({pub:r,post:t,comment:o,onRestack:pe=>{a({restacked:pe,restacks:U+(pe?1:-1)})}});if(L)return(0,e.h)("span",null,q,(0,e.h)(qe.v2,{layerClassName:"comment-restack-menu",useMobileBottomSheet:!0,mobileBottomSheetTitle:"Restack",trigger:(0,e.h)("a",{className:u()("restack-button",k&&"restacked"),href:"javascript:void(0)"},(0,e.h)(pi.Z,null),f("Restack"),U>0&&` (${U})`)},B))}const CD=bD,wD=({comment:r,bodyRef:t,expandToggleClicked:o})=>{const[a,f]=(0,n.eJ)(!1),L=(r.user_banned_for_comment||r.reported_by_user)&&!a;return(0,e.h)("div",{className:"comment-body",ref:t},(0,e.h)(SD,{comment:r,showHiddenComment:a,setShowHiddenComment:f}),r.hidden?(0,e.h)("i",null,"Comment hidden"):r.deleted?(0,e.h)("i",null,"Comment deleted"):L?(0,e.h)("i",null):r.suppressed&&!a?(0,e.h)("i",null,"Comment removed"):r.type==="reply"?(0,e.h)(ID,{comment:r}):gD(r.body),(0,e.h)("div",{role:"button",className:"show-all-toggle",onClick:()=>o()},(0,e.h)("div",{className:"show-all-toggle-label"},"Expand full comment")))},SD=({comment:r,showHiddenComment:t,setShowHiddenComment:o})=>{const a=(0,$r.Ng)(r)&&(r.user_banned_for_comment||r.reported_by_user),f=r.user_banned_for_comment?"User was banned for this comment. ":"You reported this comment. ";return a&&(0,e.h)("div",{className:"comment_notice"},(0,e.h)("i",null,f,(0,e.h)("a",{href:"javascript:void(0)",onClick:()=>o(!t)},t?"Hide":"Show")))},ID=({comment:r})=>{const{title:t,truncated_body_text:o,date:a,bylines:f,like_count:L,comment_count:k,url:U}=r.reply;return(0,e.h)("a",{className:"reply-comment",href:(0,g.pathWithQuery)(U,{utm_source:"substack",utm_campaign:"post_reply_comment",utm_medium:"web"}),native:!0},(0,e.h)("div",{className:"reply-comment-title"},t),o&&(0,e.h)("div",{className:"reply-comment-body"},(0,Ne.formatEllipsis)(o)),(0,e.h)("button",{className:"reply-comment-read-more"},"Read more"),(0,e.h)("div",{className:"reply-comment-meta"},(0,Ne.getPostEmbedMeta)({date:a,bylines:f,like_count:L,comment_count:k})))},TD=wD;var xd=Ke(95847),S0=Ke(61152),DD=Object.defineProperty,MD=Object.defineProperties,AD=Object.getOwnPropertyDescriptors,I0=Object.getOwnPropertySymbols,LD=Object.prototype.hasOwnProperty,ND=Object.prototype.propertyIsEnumerable,T0=(r,t,o)=>t in r?DD(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,xD=(r,t)=>{for(var o in t||(t={}))LD.call(t,o)&&T0(r,o,t[o]);if(I0)for(var o of I0(t))ND.call(t,o)&&T0(r,o,t[o]);return r},RD=(r,t)=>MD(r,AD(t));const BD=r=>(0,e.h)(Je.l,RD(xD({},r),{name:"CommentBadgeHeartIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{d:"M20.4134 4.58753C19.9121 4.08434 19.3164 3.68508 18.6606 3.41266C18.0047 3.14023 17.3015 3 16.5914 3C15.8812 3 15.178 3.14023 14.5222 3.41266C13.8663 3.68508 13.2707 4.08434 12.7694 4.58753L12 5.36717L11.2306 4.58753C10.7293 4.08434 10.1337 3.68508 9.47781 3.41266C8.82195 3.14023 8.11878 3 7.40863 3C6.69847 3 5.9953 3.14023 5.33944 3.41266C4.68358 3.68508 4.08793 4.08434 3.58665 4.58753C1.46832 6.70656 1.33842 10.2849 4.00631 13.0037L12 21L19.9937 13.0037C22.6616 10.2849 22.5317 6.70656 20.4134 4.58753Z"}));var UD=Object.defineProperty,kD=Object.defineProperties,FD=Object.getOwnPropertyDescriptors,D0=Object.getOwnPropertySymbols,WD=Object.prototype.hasOwnProperty,jD=Object.prototype.propertyIsEnumerable,M0=(r,t,o)=>t in r?UD(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,KD=(r,t)=>{for(var o in t||(t={}))WD.call(t,o)&&M0(r,o,t[o]);if(D0)for(var o of D0(t))jD.call(t,o)&&M0(r,o,t[o]);return r},HD=(r,t)=>kD(r,FD(t));const VD=r=>(0,e.h)(Je.l,HD(KD({},r),{name:"CommentBadgePinIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{d:"M5 14.4709C5 15.3204 5.57723 15.8867 6.45681 15.8867H11.0196V20.0246C11.0196 21.1024 11.7251 22.5 12 22.5C12.2657 22.5 12.9712 21.1024 12.9712 20.0246V15.8867H17.5432C18.4136 15.8867 19 15.3204 19 14.4709C19 12.5709 17.4882 10.6709 15.0236 9.74837L14.7487 5.66529C16.0772 4.91627 17.0759 4.11244 17.5249 3.55524C17.7723 3.23554 17.9005 2.89756 17.9005 2.58699C17.9005 1.96585 17.4149 1.5 16.7094 1.5H7.28141C6.57592 1.5 6.09031 1.96585 6.09031 2.58699C6.09031 2.89756 6.21859 3.23554 6.47513 3.55524C6.91492 4.11244 7.91361 4.91627 9.25131 5.66529L8.96728 9.74837C6.50262 10.6709 5 12.5709 5 14.4709Z"}));var $D=Object.defineProperty,ZD=Object.defineProperties,GD=Object.getOwnPropertyDescriptors,A0=Object.getOwnPropertySymbols,zD=Object.prototype.hasOwnProperty,YD=Object.prototype.propertyIsEnumerable,L0=(r,t,o)=>t in r?$D(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,JD=(r,t)=>{for(var o in t||(t={}))zD.call(t,o)&&L0(r,o,t[o]);if(A0)for(var o of A0(t))YD.call(t,o)&&L0(r,o,t[o]);return r},XD=(r,t)=>ZD(r,GD(t));const QD=r=>(0,e.h)(Je.l,XD(JD({},r),{name:"CommentBadgePenIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.58889 3.9704L6.25332 2.32056C6.16709 1.89657 6.49112 1.5 6.92378 1.5H16.9301C17.442 1.5 17.8255 1.96925 17.7234 2.47094L17.4389 3.87C17.3621 4.2472 17.0304 4.51823 16.6455 4.51823H7.25935C6.93405 4.51823 6.65372 4.28918 6.58889 3.9704ZM4.67357 12.2151C6.5326 10.2165 7.65784 7.75994 8.04929 6.22991C8.12323 5.94092 8.37629 5.72559 8.67459 5.72559H15.3334C15.6317 5.72559 15.8847 5.94092 15.9587 6.22991C16.3501 7.75993 17.4754 10.2164 19.3344 12.215C19.5386 12.4346 19.5681 12.7681 19.3936 13.012L12.6044 22.4985V14.098C13.6219 13.8276 14.373 12.8839 14.373 11.7613C14.373 10.4277 13.3133 9.34668 12.0061 9.34668C10.6989 9.34668 9.63916 10.4277 9.63916 11.7613C9.63916 12.8827 10.3886 13.8256 11.4044 14.0971L11.4044 22.5L4.61435 13.012C4.43985 12.7681 4.46936 12.4346 4.67357 12.2151ZM11.1162 11.7619C11.1162 11.2618 11.5136 10.8564 12.0038 10.8564C12.494 10.8564 12.8914 11.2618 12.8914 11.7619C12.8914 12.262 12.494 12.6674 12.0038 12.6674C11.5136 12.6674 11.1162 12.262 11.1162 11.7619Z"}));var qD=Ke(18446),Ps=Ke.n(qD),eM=Object.defineProperty,N0=Object.getOwnPropertySymbols,tM=Object.prototype.hasOwnProperty,nM=Object.prototype.propertyIsEnumerable,Rd=(r,t,o)=>t in r?eM(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,rM=(r,t)=>{for(var o in t||(t={}))tM.call(t,o)&&Rd(r,o,t[o]);if(N0)for(var o of N0(t))nM.call(t,o)&&Rd(r,o,t[o]);return r},Yl=(r,t,o)=>(Rd(r,typeof t!="symbol"?t+"":t,o),o);class x0 extends e.Component{constructor(t,o){super(t,o),Yl(this,"open",()=>{this.updateCoords(),this.createScrollListeners(),document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),this.props.onOpen&&this.props.onOpen()}),Yl(this,"close",()=>{this.removeScrollListeners(),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),this.props.onClose&&this.props.onClose()}),Yl(this,"onDocumentMouseUp",a=>{var f;!(0,i.isRootOrChild)(a.target,this.portalRef.current,((f=this.props.baseRef)==null?void 0:f.current)||this.props.baseRef)&&this.state.open&&(this.close(),this.setState({open:!1}))}),Yl(this,"onDocumentKeyDown",a=>{a.key==="Escape"&&this.state.open&&(this.close(),this.setState({open:!1}))}),this.onResize=fl()(this.updateCoords.bind(this)),this.scrollListenersToRemove=[],this.state={coords:{},open:!1},this.portalRef=(0,e.createRef)()}toggle(){const t=!this.state.open;t?(this.removeScrollListeners(),this.open()):this.close(),this.setState({open:t})}updateCoords(){var t,o,a,f,L,k,U;const B=(f=(o=((t=this.props.baseRef)==null?void 0:t.current)||this.props.baseRef)==null?void 0:o.getBoundingClientRect)==null?void 0:f.call(((a=this.props.baseRef)==null?void 0:a.current)||this.props.baseRef);if(B){let q=0,pe=((L=this.props.baseRef)==null?void 0:L.current)||this.props.baseRef;for(;pe=pe==null?void 0:pe.parentElement;)q+=pe.scrollTop;this.setState({coords:{left:B.x+(this.props.rightAlign?B.width:0)+(typeof window!="undefined"?window.scrollX:0)+(((k=this.props.offset)==null?void 0:k.x)||0),top:B.y+q+(((U=this.props.offset)==null?void 0:U.y)||0),width:B.width,height:B.height}})}}componentDidMount(){typeof window!="undefined"&&window.addEventListener("resize",this.onResize),this.updateCoords(),this.props.hoverToggle&&this.createMouseListeners()}createMouseListeners(){var t,o,a,f;(o=((t=this.props.baseRef)==null?void 0:t.current)||this.props.baseRef)==null||o.addEventListener("mouseenter",this.open),(f=((a=this.props.baseRef)==null?void 0:a.current)||this.props.baseRef)==null||f.addEventListener("mouseleave",this.close)}removeMouseListeners(){var t,o,a,f;(o=((t=this.props.baseRef)==null?void 0:t.current)||this.props.baseRef)==null||o.removeEventListener("mouseenter",this.open),(f=((a=this.props.baseRef)==null?void 0:a.current)||this.props.baseRef)==null||f.removeEventListener("mouseleave",this.close)}componentDidUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.onResize),this.removeScrollListeners(),this.removeMouseListeners()}onScroll(t){var o,a;const f=t==null?void 0:t.getBoundingClientRect(),L=(a=((o=this.props.baseRef)==null?void 0:o.current)||this.props.baseRef)==null?void 0:a.getBoundingClientRect();if(!f||!L)return;const k=({x:ge,y:Pe})=>q<=ge&&ge<=pe&&U<=Pe&&Pe<=B,{top:U,bottom:B,left:q,right:pe}=f;k({x:L.left,y:L.top})||k({x:L.right,y:L.top})||k({x:L.left,y:L.bottom})||k({x:L.right,y:L.bottom})?(this.updateCoords(),this.props.hoverToggle?this.createMouseListeners():this.state.open&&this.props.onOpen&&this.props.onOpen()):(this.removeMouseListeners(),this.props.onClose&&this.props.onClose())}removeScrollListeners(){this.scrollListenersToRemove.forEach(t=>t())}createScrollListeners(){this.scrollListenersToRemove=this.props.scrollContainers.map(t=>{const o=(t==null?void 0:t.current)||t,a=fl()(()=>this.onScroll(o),10);return o==null||o.addEventListener("scroll",a),()=>o==null?void 0:o.removeEventListener("scroll",a)})}componentShouldUpdate(t,o){return!Ps()(this.props,t)||!Ps()(this.state,o)}componentDidUpdate(t){var o,a,f,L;!Ps()(t.scrollContainers,this.props.scrollContainers)&&this.scrollListenersToRemove.length>0&&(this.removeScrollListeners(),this.createScrollListeners()),Ps()(t.baseRef,this.props.baseRef)||((a=((o=t.baseRef)==null?void 0:o.current)||t.baseRef)==null||a.removeEventListener("mouseenter",this.open),(L=((f=t.baseRef)==null?void 0:f.current)||t.baseRef)==null||L.removeEventListener("mouseleave",this.close),this.props.hoverToggle&&this.createMouseListeners())}render({children:t,rootElement:o,className:a},{coords:f}){return typeof window=="undefined"?null:(0,$t.createPortal)((0,e.h)("div",{style:rM({},f),className:u()("tooltip-portal",a),ref:this.portalRef},t),o||document.body)}}x0.defaultProps={scrollContainers:[]};const R0=x0;var oM=Ke(48403),aM=Ke.n(oM),iM=Object.defineProperty,sM=Object.defineProperties,lM=Object.getOwnPropertyDescriptors,B0=Object.getOwnPropertySymbols,uM=Object.prototype.hasOwnProperty,cM=Object.prototype.propertyIsEnumerable,U0=(r,t,o)=>t in r?iM(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,dM=(r,t)=>{for(var o in t||(t={}))uM.call(t,o)&&U0(r,o,t[o]);if(B0)for(var o of B0(t))cM.call(t,o)&&U0(r,o,t[o]);return r},fM=(r,t)=>sM(r,lM(t));const k0=r=>(0,e.h)(Je.l,fM(dM({},r),{name:"FoundingBadgeIconInCircle",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("circle",{cx:"9",cy:"9",r:"9",stroke:"none"}),(0,e.h)("circle",{cx:"6.37499",cy:"8.125",r:"2.875",fill:"none"}),(0,e.h)("path",{d:"M10.125 11.1366C10.125 12.7245 8.83782 14.0116 7.25 14.0116C5.66218 14.0116 4.375 12.7245 4.375 11.1366C4.375 9.54881 5.66218 8.26163 7.25 8.26163C8.83782 8.26163 10.125 9.54881 10.125 11.1366Z",fill:"none"}),(0,e.h)("path",{d:"M13.625 11.1366C13.625 12.7245 12.3379 14.0116 10.75 14.0116C9.16223 14.0116 7.87504 12.7245 7.87504 11.1366C7.87504 9.54881 9.16223 8.26163 10.75 8.26163C12.3379 8.26163 13.625 9.54881 13.625 11.1366Z",fill:"none"}),(0,e.h)("circle",{cx:"9",cy:"6.375",r:"2.875",fill:"none"}),(0,e.h)("circle",{cx:"11.625",cy:"8.125",r:"2.875",fill:"none"}));var pM=Object.defineProperty,hM=Object.defineProperties,mM=Object.getOwnPropertyDescriptors,F0=Object.getOwnPropertySymbols,_M=Object.prototype.hasOwnProperty,gM=Object.prototype.propertyIsEnumerable,W0=(r,t,o)=>t in r?pM(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,vM=(r,t)=>{for(var o in t||(t={}))_M.call(t,o)&&W0(r,o,t[o]);if(F0)for(var o of F0(t))gM.call(t,o)&&W0(r,o,t[o]);return r},yM=(r,t)=>hM(r,mM(t));const j0=r=>(0,e.h)(Je.l,yM(vM({},r),{name:"SubscriberBadgeIconInCircle",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("circle",{cx:"9",cy:"9",r:"9",stroke:"none"}),(0,e.h)("circle",{cx:"7.08219",cy:"7.08219",r:"2.58219",fill:"none"}),(0,e.h)("circle",{cx:"7.08219",cy:"10.9178",r:"2.58219",fill:"none"}),(0,e.h)("circle",{cx:"10.9178",cy:"7.08219",r:"2.58219",fill:"none"}),(0,e.h)("circle",{cx:"10.9178",cy:"10.9178",r:"2.58219",fill:"none"})),Pi={"hover-card-button":"frontend-components-SubscriberBadge-module__hover-card-button--uoeNv","hover-card-icon-section":"frontend-components-SubscriberBadge-module__hover-card-icon-section--eHOQJ","hover-card-icon":"frontend-components-SubscriberBadge-module__hover-card-icon--Hl0xm","hover-card-layer":"frontend-components-SubscriberBadge-module__hover-card-layer--xv2xd",badgeContainter:"frontend-components-SubscriberBadge-module__badgeContainter--GjZmD",badgeSVG:"frontend-components-SubscriberBadge-module__badgeSVG--jGAAs"};var PM=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});function bM({status:r,pub:t,user:o,freeSignup:a,freeSignupEmail:f}){const[L,k]=r==="paid"?[j0,EM]:[k0,OM];return(0,e.h)(Lc.z,{content:(0,e.h)(k,{pub:t,user:o,freeSignup:a,freeSignupEmail:f}),layerClassName:Pi["hover-card-layer"],layerOptions:{placement:"bottom-start"},onFetch:()=>{(0,P.j)(P.FP.SUBSCRIBER_BADGE_INFO_SHOWN,{status:r})}},(0,e.h)(de.gq,{className:Pi.badgeContainter},(0,e.h)(L,{className:Pi.badgeSVG,height:16,strokeWidth:1,stroke:"var(--print_on_pop)",fill:"none"})))}const K0=({Icon:r,heading:t,body:o,buttonText:a,href:f,user:L,pub:k,freeSignupEmail:U})=>(0,e.h)(de.tu,{alignItems:"center"},(0,e.h)(de.gq,{alignItems:"center",className:Pi["hover-card-icon-section"]},(0,e.h)(r,{className:Pi["hover-card-icon"],strokeWidth:1,stroke:"var(--print_on_pop)",fill:"none",height:50})),(0,e.h)(de.tu,{alignItems:"center",gap:20,paddingBottom:20,paddingX:20},(0,e.h)(de.tu,{alignItems:"center",gap:6},(0,e.h)(M.xv.H3,{weight:"semibold"},t),(0,e.h)(M.xv.B3,{align:"center",color:"secondary"},o)),a&&(0,e.h)(Be.zx,{className:Pi["hover-card-button"],grow:!0,onClick:L&&!L.is_magic&&L.email||U?B=>PM(void 0,null,function*(){B.preventDefault();const q=L&&!L.is_magic&&L.email||U;let pe;try{pe=(yield et().post("/api/v1/free").send({source:"subscriber_badge",email:q,first_url:l.xY,first_referrer:l.ip,current_url:l.UE,current_referrer:l.xU})).body.referral_token,(0,P.IU)()}catch(ge){(0,P.j)(P.FP.FREE_SIGNUP_FAILED,{reason:ge==null?void 0:ge.message,source:"subscriber_badge"})}window.location.href=(0,G.getSubscribeUrl)(k,{addBase:!0,params:{next:document.location.href,utm_source:"subscriber_badge",simple:!0,just_signed_up:!0,skip_redirect_check:!0,referral_token:pe}})}):void 0,href:f,localNavigation:!1,priority:"primary-theme"},a)));function EM({pub:r,user:t,freeSignup:o,freeSignupEmail:a}){const f=!(t!=null&&t.is_subscribed)&&(0,wr.paymentsAreEnabled)(r);return(0,e.h)(K0,{Icon:j0,heading:`Paid ${(0,Ne.getSubscriptionWord)(r,"subscriber")}`,body:f?`This badge is only available to paid members \u2014 ${t!=null&&t.is_free_subscribed||o?"upgrade":"subscribe"} to claim your own.`:"This badge is available to paid members.",buttonText:f?(0,Ne.getSubscribeText)(r,{isFreeSubscribed:(t==null?void 0:t.is_free_subscribed)||o}):void 0,href:f?(0,G.getSubscribeUrl)(r,{params:{next:window.location.href,utm_source:"subscriber_badge"}}):void 0,user:t,pub:r,freeSignupEmail:a})}function OM({pub:r,user:t,freeSignup:o,freeSignupEmail:a}){var f;const L=!(t!=null&&t.is_founding)&&(0,wr.paymentsAreEnabled)(r)&&(0,wr.getFoundingTierPlan)(r),k=(f=(0,wr.getFoundingTierName)(r))!=null?f:"Founding Member";return(0,e.h)(K0,{Icon:k0,heading:k,body:`This badge is${L?" only":""} available to paid ${(0,Ne.getSubscriptionWord)(r,"subscriber")}s under the "${k}" plan${L?` \u2014 ${t!=null&&t.is_free_subscribed||o?"upgrade":"subscribe"} to claim your own.`:"."}`,buttonText:L?t!=null&&t.is_free_subscribed||o?aM()((0,Ne.getSubscriptionWord)(r,"upgrade")):(0,Ne.getSubscribeText)(r):void 0,href:L?(0,G.getSubscribeUrl)(r,{params:{next:window.location.href,plan:"founding",utm_source:"subscriber_badge"}}):void 0,user:t,pub:r,freeSignupEmail:a})}function CM({subject:r,pub:t,user:o,freeSignup:a,freeSignupEmail:f,hoverDisabled:L=!1,onClick:k}){var U;const{exposeExperiment:B,getExperimentVariant:q}=(0,fn.jc)(),pe=(U=q("subscriber_badges_2"))!=null?U:"control",ge=r.is_founding&&!r.is_author?"founding":r.is_subscribed&&!r.is_author?"paid":null;return(0,e.h)(e.Fragment,null,(0,e.h)(W,{onVisible:()=>{ge&&B("subscriber_badges_2")}}),(0,e.h)(de.gq,{inline:!0,gap:4,alignItems:"center"},(0,e.h)(mo.Ct,{subject:r,disabled:L,utmSource:"comment"},(0,e.h)("a",{onClick:k,href:k?"javascript:void(0)":(0,G.getReaderProfileUrl)(r)},(0,e.h)(M.xv.B4,{color:"pub-primary-text",weight:"semibold"},r.name))),(0,e.h)($l.UserBadge,{size:"sm",tier:r.bestseller_tier,userId:r.id}),ge&&pe!=="control"&&(0,e.h)(bM,{status:ge,pub:t,user:o,freeSignup:a,freeSignupEmail:f})))}var wM=Ke(44695);const H0=({post:r,pub:t,user:o,freeSignup:a,freeSignupEmail:f,comment:L,isCollapsed:k,onProfileClick:U,userBanned:B,toggleCollapse:q,noHoverProfile:pe,userPendingApproval:ge})=>{var Pe,Ee;const{iString:Me,iTemplate:De,language:Ue,iPlural:Fe}=(0,A.M1)(),Ye=yt=>yt.children.length+yt.children.reduce((Et,Ct)=>Et+Ye(Ct),0),st=Ye(L),nt=!!L.edited_at,at=!L.hidden&&((Pe=L.metadata.author_on_other_pub)==null?void 0:Pe.id)!=null;return[(0,e.h)("div",{className:"comment-meta"},(0,e.h)("span",{className:"commenter-name"},L.name?(0,e.h)(CM,{subject:Gl(L),pub:t,user:o,freeSignup:a,freeSignupEmail:f,hoverDisabled:pe||!(0,$r.Ng)(L)||L.hidden||k,onClick:U?()=>U(L):null}):L.hidden?(0,e.h)("i",null,Me("hidden")):L.deleted?(0,e.h)("i",null,Me("deleted")):(0,$r.Ng)(L)?Me("Anonymous"):Me("Removed"),B&&(0,e.h)("span",{className:"ban-status"}," (Banned)"),ge&&(0,e.h)("a",{className:"pending-approval",href:`/publish/moderation/new-commenters?user=${L.user_id}`,target:"_blank",rel:"noopener"}," ","(",Me("Awaiting New Commenter Approval"),")")),L.metadata.author_on_other_pub&&!L.metadata.is_author&&(at?(0,e.h)(wM.Sm,{publication_id:(Ee=L.metadata.author_on_other_pub)==null?void 0:Ee.id},(0,e.h)(V0,{comment:L})):(0,e.h)(V0,{comment:L})),(0,e.h)("a",{className:"comment-timestamp",href:(0,yi.getCommentUrl)(r,L,t),onClick:yt=>(void 0).onDateClick(yt),rel:"nofollow",native:!0},sn()(L.date).locale(Ue).standardDateOrTime()),nt&&[(0,e.h)("span",{className:"comment-publication-name-separator"},"\xB7"),(0,e.h)("span",{className:"edited-indicator"},(0,e.h)("em",null,De`edited ${sn()(L.edited_at).locale(Ue).standardDateOrTime()}`))],(0,e.h)(SM,{comment:L})),k&&(0,e.h)("div",{className:"tags-row"},(0,e.h)(Ae.Z,{className:"outline comment-collapse-toggle",onClick:q},Fe("Expand comment reply","Expand comment replies",st)))]};function V0({comment:r}){const{iTemplate:t}=(0,A.M1)();return(0,e.h)("a",{className:"commenter-publication",href:(0,g.updateQuery)(r.metadata.author_on_other_pub.base_url,{utm_source:"substack",utm_medium:"web",utm_content:"comment_metadata"}),rel:"nofollow",target:"_blank"},(0,e.h)("span",null,t`Writes ${(0,Ne.truncateText)(r.metadata.author_on_other_pub.name,32)}`," "))}const SM=({comment:r})=>{const[t,o]=(0,n.eJ)(!1),a=(0,n.sO)(null),f=(0,n.sO)(null),{iString:L,iTemplate:k}=(0,A.M1)(),U=r.pinned_by_user_id?"pinned":r.metadata.is_author?"author":r.reactor_names.length>0?"liked":null;if(!U)return null;const B={pinned:(0,e.h)(VD,null),author:(0,e.h)(QD,null),liked:(0,e.h)(BD,null)},q={pinned:L("Pinned"),author:L("Author"),liked:k`Liked by ${r.reactor_names.join(", ")}`},pe=U==="pinned"&&r.pinned_by_name;return(0,e.h)("span",{ref:a,className:u()("highlight",{hover:t}),onMouseEnter:()=>pe&&o(!0),onMouseLeave:()=>pe&&o(!1)},B[U],(0,e.h)("span",{className:"highlight-text"},q[U]),pe&&(0,e.h)(R0,{baseRef:a,hoverToggle:!0,onOpen:()=>{var ge;return(ge=f.current)==null?void 0:ge.open()},onClose:()=>{var ge;return(ge=f.current)==null?void 0:ge.close()}},(0,e.h)(bo.Fx,{ref:f,noList:!0,className:"explanation above small thin"},(0,e.h)(M.xv,{as:"span",translated:!0},"Pinned by ",(0,e.h)("span",{className:"bold"},I18N.p(r.pinned_by_name))))))};var IM=Object.defineProperty,TM=Object.defineProperties,DM=Object.getOwnPropertyDescriptors,$0=Object.getOwnPropertySymbols,MM=Object.prototype.hasOwnProperty,AM=Object.prototype.propertyIsEnumerable,Z0=(r,t,o)=>t in r?IM(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,G0=(r,t)=>{for(var o in t||(t={}))MM.call(t,o)&&Z0(r,o,t[o]);if($0)for(var o of $0(t))AM.call(t,o)&&Z0(r,o,t[o]);return r},LM=(r,t)=>TM(r,DM(t)),bs=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const Jl="commentInput";class NM extends e.Component{constructor(t){var o;super(t),this.state={value:(o=t.commentBeingEdited)==null?void 0:o.body,alsoShareToNotes:!1}}componentWillMount(){if(typeof localStorage!="undefined"){const t=JSON.parse(localStorage.getItem(Jl)||"{}");t.postId===this.props.post.id&&this.setState({value:t.value,alsoShareToNotes:!!t.alsoShareToNotes}),localStorage.removeItem(Jl)}}componentDidMount(){var t;this.props.autoFocus&&((t=this.bodyInput)==null||t.focus())}needsProfile(){const{user:t}=this.props;return!t||!t.name}onKeyDown(t){var o;if((o=this.props.user)!=null&&o.is_magic){t&&t.preventDefault(),this.showFinishMagicLoginModal();return}if(!(0,Ne.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){t&&t.preventDefault(),this.showPaywall();return}t.key==="Escape"&&this.bodyInput.value.trim()===""?this.props.onCancel&&this.props.onCancel():t.key==="Enter"&&t.metaKey&&this.form.handleSubmit(t)}maybeSaveComment(){typeof localStorage!="undefined"&&localStorage.setItem(Jl,JSON.stringify({postId:this.props.post.id,value:this.state.value,alsoShareToNotes:this.state.alsoShareToNotes}))}onInput(t){if(!(0,Ne.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){t&&t.preventDefault(),this.showPaywall();return}this.setState({value:this.bodyInput.value||""})}postComment(){return bs(this,arguments,function*({profileUpdated:t}={}){const{user:o,pub:a,post:f,parent:L,token:k,iString:U}=this.props,{alsoShareToNotes:B}=this.state;if(!(0,Ne.canPostComments)(o,f,a).canReply)throw this.maybeSaveComment(),yield this.showPaywall(),yield new Promise(pe=>setTimeout(pe,600)),new ce.ew(U("Please sign in"));if(this.needsProfile()&&!t)throw this.maybeSaveComment(),yield this.showProfileUpdate(),yield new Promise(pe=>setTimeout(pe,600)),new ce.ew(U("Please update your profile"));const q={body:this.bodyInput.value,token:k};try{let pe;if(B){const Pe=yield et().post("/api/v1/comment/attachment").send({type:"link",url:(0,g.getPostUrl)(a,f)});if(!(Pe!=null&&Pe.body))console.log("Error creating attachment");else{const Ee=G0({},q);Ee.attachmentIds=[Pe.body.id],pe=yield et().post("/api/v1/comment/feed").send(Ee)}}L&&(q.parent_id=L.id);const ge=yield et().post(`/api/v1/post/${f.id}/comment`).send(q);if(typeof localStorage!="undefined"&&localStorage.removeItem(Jl),!(o!=null&&o.profile_set_up_at)){const{body:{count:Pe}}=yield et().get("/api/v1/user/profile_role_count");if(Pe>=2)return window.location=(0,g.pathWithQuery)(`${(0,g.getSubstackUrl)()}/profile/start`,{commentProfileFlow:!0,next:(0,yi.getCommentUrl)(f,ge.body,a)}),!1}return{notesComment:pe,res:ge}}catch(pe){throw pe.response&&pe.response.statusCode===403&&(o&&o.is_magic?yield this.showFinishMagicLoginModal():yield this.showPaywall()),pe}})}onSuccess(t){const{res:o,notesComment:a}=t,{iString:f,getConfigFor:L}=this.props;if(o!==!1)if(this.props.onSuccess&&!this.needsProfile()){if(this.state.alsoShareToNotes&&a){const k=(0,G.getFeedCommentUrl)(a.body);this.props.popToast(U=>(0,e.h)(d.FN,LM(G0({},U),{icon:fs.Z,text:L("unified_home_emabled_web")?f("Note shared"):f("Shared to Notes"),cta:f("View Now"),href:k})))}this.setState({value:""}),this.props.onSuccess(o.body)}else{const k=ys(this.props.post,this.props.pub);window.location.pathname===k?window.location.reload():window.location.href=ys(this.props.post,this.props.pub,this.state.alsoShareToNotes?{feedCommentUrl:(0,G.getFeedCommentUrl)(o.body)}:{})}}showFinishMagicLoginModal(){return bs(this,null,function*(){this.finishMagicLoginModalShown||(this.finishMagicLoginModalShown=!0,(0,P.j)(P.FP.FINISH_MAGIC_LOGIN_MODAL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.finishMagicLoginModal&&(this.sendLoginEmail(),yield this.finishMagicLoginModal.open())})}showPaywall(){return bs(this,null,function*(){this.paywallShown||(this.paywallShown=!0,(0,P.j)(P.FP.COMMENT_PAYWALL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.modalPaywall&&this.modalPaywall.open&&(yield this.modalPaywall.open())})}showProfileUpdate(){return bs(this,null,function*(){this.profileUpdaterShown||(this.profileUpdaterShown=!0,(0,P.j)(P.FP.PROFILE_UPDATER_SHOWN,{post_id:this.props.post.id,parent_id:this.props.parent&&this.props.parent.id})),this.profileUpdater&&(yield this.profileUpdater.open())})}sendLoginEmail(){return bs(this,null,function*(){if(!this.loginEmailSent){this.loginEmailSent=!0;try{yield et().post("/api/v1/email-login").send({email:this.props.user.email,redirect:document.location.href.split("?")[0].split("#")[0]})}catch(t){alert((0,i.getNetworkErrorMessage)(t))}}})}focus(){this.bodyInput.focus()}render({user:t,freeSignup:o,freeSignupEmail:a,pub:f,post:L,token:k,onCancel:U,autoFocus:B,commentBeingEdited:q,saveEdit:pe,formClassName:ge,bannedFromNotes:Pe,iString:Ee,iTemplate:Me},{value:De,alsoShareToNotes:Ue}){return(0,e.h)(de.hs,{"data-test-id":"comment-input",flex:"grow",className:u()("comment-input-wrap",{comment:q})},(0,e.h)(ce.ZP,{ref:Fe=>this.form=Fe,className:u()("comment-input",ge),performSubmit:Fe=>q?pe(De):this.postComment(Fe),onSuccess:Fe=>this.onSuccess(Fe),noInlineErrors:!0,autoLock:!0},(0,e.h)(ir.qE,{user:t,size:32}),(0,e.h)(de.tu,{flex:"grow",className:"comment-input-right"},q&&(0,e.h)(H0,{post:L,pub:f,user:t,freeSignup:o,freeSignupEmail:a,comment:q,isCollapsed:!1,userBanned:!1}),(0,e.h)(S0.Z,{ref:Fe=>this.bodyInput=Fe&&Fe.base,name:"body",placeholder:Ee("Write a comment..."),autoHeight:!0,maxLines:8,value:De||"",onInput:Fe=>this.onInput(Fe),onKeyDown:Fe=>this.onKeyDown(Fe)}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(de.hs,{alignItems:"center",justifyContent:"space-between",paddingTop:8},!!De&&!U&&(0,e.h)(de.hs,{gap:8,alignItems:"center",justifyContent:"center"},!Pe&&(0,e.h)(d.XZ,{name:"also_feed",size:"medium",as:"div",checked:Ue,onChange:()=>{this.setState({alsoShareToNotes:!Ue})},withTheme:!0}),!Pe&&(0,e.h)(M.xv.B4,{color:"pub-secondary-text",translated:!0},"Also share a"," ",(0,e.h)(Al.hh,{color:"pub-secondary-text",decoration:"underline",target:"_blank",href:(0,G.getFeedUrl)({urlParams:{utm_content:"comment-share-checkbox"}})},"note"))),(U||!!De)&&(0,e.h)(Ae.Z,{className:"primary",type:"submit"},Ee(q?"Save":"Post")),U&&(0,e.h)(Ae.Z,{className:"cancel",onClick:U},Ee("Cancel"))))),(0,e.h)(oi.h,null,(0,e.h)(xd.EB,{ref:Fe=>this.profileUpdater=Fe,user:t,freeSignup:o,freeSignupEmail:a,optionalPhoto:!0,token:k,text:Ee("Save & Post Comment"),onBeforeClose:Fe=>Fe&&this.form.handleSubmitAsync(null,{profileUpdated:!0})}),(0,e.h)(W3,{ref:Fe=>this.modalPaywall=Fe,user:t,freeSignup:o,freeSignupEmail:a,publication:f,post:L,title:Me`Only ${(0,dn.isFoundingAudience)(L.audience)?"founding":"paid"} subscribers can comment on this post`,reauthenticationTitle:Ee("To post a comment, please re-authenticate.")}),(0,e.h)(ct.p,{ref:Fe=>this.finishMagicLoginModal=Fe,className:"finish-magic-login-modal"},(0,e.h)("h4",null,Ee("Check your email")),(0,e.h)("p",null,Ee("For your security, we need to re-authenticate you.")),(0,e.h)(M.xv,{as:"p",translated:!0},"Click the link we sent to ",I18N.p(t==null?void 0:t.email),", or"," ",(0,e.h)("a",{href:(0,g.getSigninUrl)({for_pub:f.subdomain,with_password:!0}),native:!0},"click here to sign in"),"."))))}}const Es=(0,tt.xY)((0,d.dd)((0,A.fz)(NM)));var xM=Ke(702),RM=Object.defineProperty,BM=Object.defineProperties,UM=Object.getOwnPropertyDescriptors,z0=Object.getOwnPropertySymbols,kM=Object.prototype.hasOwnProperty,FM=Object.prototype.propertyIsEnumerable,Bd=(r,t,o)=>t in r?RM(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,bi=(r,t)=>{for(var o in t||(t={}))kM.call(t,o)&&Bd(r,o,t[o]);if(z0)for(var o of z0(t))FM.call(t,o)&&Bd(r,o,t[o]);return r},Y0=(r,t)=>BM(r,UM(t)),Zr=(r,t,o)=>(Bd(r,typeof t!="symbol"?t+"":t,o),o),J0=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const X0=200,WM=50,jM=140,KM=728,HM=80;function VM(){const t=Math.min(KM,document.body.clientWidth)-jM;return Math.ceil(t/WM)}const Q0=VM();class q0 extends e.Component{constructor(t,o){super(t,o),Zr(this,"bodyRef",(0,e.createRef)(null)),Zr(this,"headContainerRef",(0,e.createRef)(null)),Zr(this,"openBan",()=>{this.props.banComment()}),Zr(this,"setSelectedHighlight",()=>{const f=pD()===this.props.comment.id;this.setState({isSelected:f})}),Zr(this,"startEdit",()=>{this.setState({editing:!0})}),Zr(this,"saveEdit",a=>J0(this,null,function*(){return this.state.editing?{res:yield et().patch(`/api/v1/comment/${this.props.comment.id}`).send({body:a})}:void 0})),Zr(this,"onSaveEditSuccess",({edited:a})=>{this.setState({editing:!1}),this.props.onChange(bi(bi({},this.props.comment),a))}),Zr(this,"startReport",()=>{this.setState({reporting:!0})}),Zr(this,"cancelReport",()=>{this.setState({reporting:!1})}),Zr(this,"onReportSuccess",()=>{this.props.onChange(Y0(bi({},this.props.comment),{reported_by_user:!0}))}),Zr(this,"expandToggleClicked",()=>{const a=this.bodyRef.current;a&&(a.classList.remove("long"),a.classList.add("expanded"),(0,P.j)(P.FP.COMMENT_EXPAND_TOGGLE_CLICKED,{hiddenHeight:a.getAttribute("data-hidden-height")}))}),Zr(this,"onChange",a=>{this.props.onChange?this.props.onChange(bi(bi({},this.props.comment),a)):document.location.href=ys(this.props.post,this.props.pub)}),Zr(this,"setComment",a=>{this.setState({comment:a})}),Zr(this,"setCollapsed",a=>{var f,L;if(this.setState({isCollapsed:a}),a&&((L=(f=this.headContainerRef)==null?void 0:f.current)!=null&&L.scrollIntoView)){const k=this.headContainerRef.current.getBoundingClientRect();k.top<0&&(document.documentElement.scrollTop+=k.top-HM)}this.props.retainUserCollapseState&&yD(this.props.comment.id,a)}),this.state={editing:!1,replying:!1,reporting:!1,hideAnchors:!1,isSelected:!1,isCollapsed:this.props.retainUserCollapseState&&PD(this.props.comment.id)}}componentDidMount(){this.setSelectedHighlight(),this.setReplyStateFromHash(),typeof window!="undefined"&&(window.addEventListener("hashchange",this.setSelectedHighlight,!1),window.addEventListener("popstate",this.setSelectedHighlight,!1),this.updateOverflows())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("hashchange",this.setSelectedHighlight,!1),window.removeEventListener("popstate",this.setSelectedHighlight,!1))}componentDidUpdate(t){var o,a;((o=t.comment)==null?void 0:o.id)!==((a=this.props.comment)==null?void 0:a.id)&&this.setSelectedHighlight(),t.replying!==this.props.replying&&this.props.replying&&this.startReply()}setReplyStateFromHash(){if(this.props.comment.deleted||typeof window=="undefined"||!window.location.hash)return;const t=/^#comment-(\d+)-reply$/.exec(window.location.hash);!t||Number(t[1])!==this.props.comment.id||(window.location.hash=window.location.hash.replace(/-reply$/,""),this.startReply())}startReply(){return J0(this,null,function*(){this.props.onStartReply?this.props.onStartReply(this.props.comment):(yield new Promise(t=>this.setState({replying:!0},t)),this.commentInput&&this.commentInput.bodyInput&&this.commentInput.bodyInput.focus&&this.commentInput.bodyInput.focus())})}onDateClick(t){const[o,a]=t.target.href.split("?")[0].split("#");o===window.location.href.split("?")[0].split("#")[0]&&a&&(t.preventDefault(),this.setState({hideAnchors:!0},()=>{window.location.hash=`#${a}`,this.setState({hideAnchors:!1})}))}updateOverflows(){const t=this.bodyRef.current;if(!t)return;const o=t.scrollHeight-t.clientHeight;o>0&&o<X0?t.classList.add("expanded"):o>=X0&&(t.classList.add("long"),t.setAttribute("data-hidden-height",o))}render({user:t,comment:o,freeSignup:a,freeSignupEmail:f,pub:L,post:k,reaction_token:U,depth:B,collapseAtDepth:q,onChange:pe,scrollRef:ge,retainUserCollapseState:Pe,onStartReply:Ee,noHoverProfile:Me,onProfileClick:De,onShareComment:Ue,hideContextMenu:Fe,noRestack:Ye,updateCommentReacted:st,iString:nt},{isSelected:at,replying:yt,editing:Et,reporting:Ct,hideAnchors:It,isCollapsed:Tt}){var Rt,wt,Qt,jt;const qt=L.community_enabled&&k&&k.write_comment_permissions!=="none",{user_banned:ln}=o;let Bt=!1;return((Rt=this.context.getExperimentVariant("subscriber_badges_2"))!=null?Rt:"control")==="control"&&((wt=o.metadata)!=null&&wt.is_author?Bt="author":(Qt=o.metadata)!=null&&Qt.founding&&(Bt="founding")),Et?(0,e.h)(Es,{autoFocus:!0,user:t,freeSignup:a,freeSignupEmail:f,pub:L,post:k,commentBeingEdited:o,saveEdit:this.saveEdit,token:U,onCancel:()=>this.setState({editing:!1}),onSuccess:pe?this.onSaveEditSuccess:null}):(0,e.h)("div",{className:u()("comment",{selected:at,"post-reply":o.type==="reply",collapsed:Tt}),key:`comment-${o.id}`},!It&&[(0,e.h)("div",{id:`comment-${o.id}`,className:"comment-anchor"}),(0,e.h)("div",{id:`comment-${o.id}-reply`,className:"comment-anchor"})],(0,e.h)("table",{className:"comment-content"},(0,e.h)("tr",null,(0,e.h)("td",{className:"comment-head",ref:this.headContainerRef},(0,e.h)(mo.Ct,{subject:Gl(o),disabled:Me||!(0,$r.Ng)(o)||o.hidden||Tt,utmSource:"comment"},(0,e.h)(Zl.ZP,{subject:Gl(o),pub:L,user:t,freeSignup:a,freeSignupEmail:f,token:U,isBanned:ln,tooltip:{founding:(0,Ne.foundingMemberDescription)(L),author_ons_other_pub:nt("Author of another publication")}[Bt],badge:Bt,isAuthor:o.metadata.is_author,onClick:De?()=>De(o):null,lazy:!0}))),(0,e.h)("td",{className:"comment-rest"},(0,e.h)(H0,{post:k,pub:L,user:t,freeSignup:a,freeSignupEmail:f,comment:o,commentUser:Gl,isCollapsed:Tt,toggleCollapse:()=>this.setCollapsed(!this.state.isCollapsed),onProfileClick:De,userBanned:ln,noHoverProfile:Me,userPendingApproval:o.status===$r.COMMENT_STATUS.new_commenter_approval_required&&t.is_admin}),(0,e.h)(TD,{comment:o,bodyRef:this.bodyRef,expandToggleClicked:this.expandToggleClicked}),!yt&&(0,e.h)(CD,{comment:o,pub:L,user:t,post:k,reaction_token:U,commentsEnabledForPost:qt,hideContextMenu:Fe,noRestack:Ye,onChange:this.onChange,startReply:()=>this.startReply(),startEdit:()=>this.startEdit(),startReport:()=>this.startReport(),openBan:this.openBan,updateCommentReacted:st,shareComment:Ue})))),yt&&qt&&(0,e.h)(Es,{ref:zt=>this.commentInput=zt,user:t,freeSignup:a,freeSignupEmail:f,pub:L,post:k,parent:o,token:U,onCancel:()=>this.setState({replying:!1}),onSuccess:pe?zt=>{this.setState({replying:!1});const on=Y0(bi({},o),{children:[zt].concat(o.children)});pe(on)}:null}),o.childrenSummary&&(0,e.h)("div",{className:"more-replies-container"},(0,e.h)("a",{className:"more-replies",href:(0,yi.getCommentUrl)(k,o,L)},o.childrenSummary)),!o.childrenSummary&&B>=Q0&&!!o.children.length&&(0,e.h)(Ae.Z,{className:"outline continue-thread-button",href:(0,yi.getCommentUrl)(k,o,L)},nt("Continue Thread \u2192")),!o.childrenSummary&&B<Q0&&(0,e.h)(Xl,{key:`comment:${o.id}`,user:t,freeSignup:a,freeSignupEmail:f,pub:L,post:k,comments:(jt=o.children)!=null?jt:[],parent:o,reaction_token:U,depth:(B||0)+1,collapseAtDepth:q,onChange:pe,isChild:!0,scrollRef:ge,retainUserCollapseState:Pe,onStartReply:Ee,noHoverProfile:Me,onProfileClick:De,hideContextMenu:Fe,updateCommentReacted:st,noRestack:!0}),!Tt&&(0,e.h)("div",{className:"comment-list-collapser",onClick:()=>this.setCollapsed(!0)},(0,e.h)("div",{className:"comment-list-collapser-line"})),Ct&&(0,e.h)(xM.Z,{pub:L,comment:o,onClose:this.cancelReport,onReportSuccess:this.onReportSuccess}))}}Zr(q0,"contextType",fn.kx);const $M=(0,A.fz)(q0);var ZM=Object.defineProperty,GM=Object.defineProperties,zM=Object.getOwnPropertyDescriptors,eg=Object.getOwnPropertySymbols,YM=Object.prototype.hasOwnProperty,JM=Object.prototype.propertyIsEnumerable,tg=(r,t,o)=>t in r?ZM(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,XM=(r,t)=>{for(var o in t||(t={}))YM.call(t,o)&&tg(r,o,t[o]);if(eg)for(var o of eg(t))JM.call(t,o)&&tg(r,o,t[o]);return r},QM=(r,t)=>GM(r,zM(t));const qM=Ke(43174),e9=5,t9=1,ng=16,n9=50,r9=200;function rg(r){return r.reduce((t,o)=>t+1+rg(o.children||[]),0)}function Xl({user:r,freeSignup:t,freeSignupEmail:o,pub:a,post:f,comments:L,reaction_token:k,depth:U,collapseAtDepth:B,onChange:q,pageSize:pe,retainUserCollapseState:ge,updateCommentReacted:Pe,parent:Ee,scrollRef:Me,className:De,onStartReply:Ue,noHoverProfile:Fe,onProfileClick:Ye,hideContextMenu:st,noRestack:nt}){const at=pe||ng,[yt,Et]=(0,n.eJ)(at),[Ct,It]=(0,n.eJ)(-1),[Tt,Rt]=(0,n.eJ)(null),[wt,Qt]=(0,n.eJ)(null),[jt,qt]=(0,n.eJ)(null),[ln,Bt]=(0,n.eJ)(new Set(L.map(({id:Gt})=>Gt))),{iString:zt,iPlural:on}=(0,A.M1)(),Yt=(0,n.sO)();if((0,n.d4)(()=>{Ct>=0&&window.scrollTo(window.scrollX,Ct)},[Ct]),(L||[]).length===0)return;const[Zt,xt]=qM(L,({id:Gt,user_id:mt})=>ln.has(Gt)||mt===(r==null?void 0:r.id)),Dt=Zt.slice(0,yt),kt=Gt=>{var mt;qt(Gt),(mt=Yt.current)==null||mt.open()};return(0,e.h)("div",{className:u()("comment-list",De,{"has-new-comments":xt.length>0})},(0,e.h)(q3,{pub:a,comment:Tt,onClose:()=>Rt(null),onReply:Gt=>{Qt(Gt),Rt(null)},onBan:(Gt,mt)=>{q?q(QM(XM({},Gt),{user_banned:!0,bans:mt.concat(Gt.bans)})):document.location.href=ys(f,a)}}),(0,e.h)(Ha.ZP,{ref:Yt,pub:a,post:f,commentId:jt,utm_campaign:"comment-list-share-cta",comments:L,user:r}),xt.length>0&&(0,e.h)(Ae.Z,{className:"collapsed-reply outline",onClick:()=>Bt(new Set(L.map(({id:Gt})=>Gt)))},on("1 new reply","%1 new replies",rg(xt))),(0,e.h)("div",{className:"comment-list-items"},Dt.map(Gt=>(0,e.h)($M,{banComment:()=>Rt(Gt),key:`cmt-${Gt.id}`,user:r,freeSignup:t,freeSignupEmail:o,pub:a,post:f,comment:Gt,parent:Ee,reaction_token:k,collapseAtDepth:B,depth:U||0,onChange:q,replying:wt===Gt.id,scrollRef:Me,retainUserCollapseState:ge,onStartReply:Ue,noHoverProfile:Fe,onShareComment:kt,onProfileClick:Ye,hideContextMenu:st,noRestack:nt,updateCommentReacted:Pe}))),Zt.length>Dt.length&&(0,e.h)(Ae.Z,{className:"collapsed-reply outline",onClick:()=>{It(window.scrollY),Et(yt+at)}},zt("Load More")))}var Ud=Ke(11628),og=Ke(70444),o9=Ke(35442),kd=Ke(31163),Os=Ke(85200);function a9({publication:r,siteConfigs:t={},twitterCardUrl:o=null}){var a;const{title:f,description:L}=Ql(r);let k,U;return o?(k=o,U=!0):[k,U]=eu(r,null),(0,i.setMetaData)({title:f,description:L,image:k,isLargeImage:U,pub:r,siteConfigs:t,themeColor:(a=r.theme)==null?void 0:a.web_bg_color})}function Ql(r,t,o){var a,f;let L;const k=!!(0,Mr.default)("publication_author_display_override")&&String((0,Mr.default)("publication_author_display_override"))||((a=(0,Os.Im)(r.contributors))==null?void 0:a.owner),U=k&&!((f=r.name)!=null&&f.toLowerCase().includes(k==null?void 0:k.toLowerCase())),B=t!=null?t:r.name;return U?L=`${B} | ${k} | Substack`:L=`${B} | Substack`,{title:L,description:Tr()(ag(r,o))}}function ag(r,t){var o,a,f;const L=(o=r.name)==null?void 0:o.trim();let k=L;(0,Ne.endsWithPunctuation)(L)&&(k=`"${L}"`);const U=(0,Os.Im)(r.contributors);let B,q;return r.invite_only?(B=null,q=null):(B=(a=r.rankingDetailFreeIncluded)!=null&&a.toLowerCase().includes("subscribers")?r.rankingDetailFreeIncluded.toLowerCase():null,q=r.rankingDetailFreeIncluded||r.rankingDetail),(0,Os.ab)(t!=null?t:(f=r.hero_text)==null?void 0:f.trim(),U,B,k,q)}function ql({publication:r,post:t,clip:o,siteConfigs:a={},twitterCardUrl:f=null,isCommentPage:L=!1,selection:k=null}){var U,B;const q=(t==null?void 0:t.social_title)||(t==null?void 0:t.title)||r.name,{title:pe,description:ge}=ig(t,r,{isCommentPage:L});let Pe,Ee,Me=null;f?(Pe=f,Ee=!0):k?(Pe=(0,g.getPostSelectionPreviewUrl)(r,t,k),Ee=!0):([Pe,Ee]=eu(r,t),Me=sg(r,t));const De=L&&t&&t.type!=="thread"&&t.comment_count===0||(t==null?void 0:t.type)==="restack";return(0,i.setMetaData)({title:pe,socialTitle:o?`\u2702\uFE0F ${(0,kd.UB)((U=o.duration)!=null?U:0)} | ${q}`:q,searchDescription:t==null?void 0:t.search_engine_description,description:ge,image:o&&(B=(0,g.getMediaUploadThumbnailUrl)(o))!=null?B:Pe,twitterImage:!o&&Me,isLargeImage:Ee,imageHeight:k&&564,imageWidth:k&&1128,seoProps:{noindex:De,noarchive:!!(t&&t.post_paywall_content_for_google)},isPodcast:(t==null?void 0:t.type)==="podcast",isVideo:(t==null?void 0:t.type)==="video",slug:t==null?void 0:t.slug,pub:r,post:t,siteConfigs:a})}function ig(r,t,{isCommentPage:o=!1}={}){var a,f;const L=(r==null?void 0:r.social_title)||(r==null?void 0:r.title)||t.name;let k,U;r?U=(0,Ne.getPrintedByline)(t,r):U=(0,Mr.default)("publication_author_display_override")||((a=(0,Os.Im)(t.contributors))==null?void 0:a.owner);const B=U&&!((f=t.name)!=null&&f.toLowerCase().includes(U==null?void 0:U.toLowerCase()));r!=null&&r.title?(k=(r==null?void 0:r.search_engine_title)||L,o&&r.type!=="thread"&&(k=`Comments - ${k}`),`${k} - by ${U}`.length<60&&(U&&B&&(k+=` - by ${U}`),`${k} - ${t.name}`.length<60&&(k+=` - ${t.name}`))):B?k=`${t.name} | ${U} | Substack`:k=`${t.name} | Substack`;let q;return r?q=(0,Ne.postSocialDescription)(r,t):q=ag(t),q=Tr()(q),{title:k,description:q}}function eu(r,t){let o,a;return t!=null&&t.cover_image?(o=(0,g.imginary)(t.cover_image,1200,{height:600,smartCrop:!0,format:"jpg"}),a=!0):r.subdomain==="numlock"?(o=(0,g.imginary)("/img/numlock_square.png?v=2",840),a=!1):(o=(0,g.getTwitterSubscribeCardUrl)(r),a=!0),[o,a]}function sg(r,t){return t!=null&&t.cover_image?(0,g.getTwitterPreviewUrl)(r,t):null}var i9=Object.defineProperty,lg=Object.getOwnPropertySymbols,s9=Object.prototype.hasOwnProperty,l9=Object.prototype.propertyIsEnumerable,ug=(r,t,o)=>t in r?i9(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,u9=(r,t)=>{for(var o in t||(t={}))s9.call(t,o)&&ug(r,o,t[o]);if(lg)for(var o of lg(t))l9.call(t,o)&&ug(r,o,t[o]);return r};function c9({comment:r,post:t,publication:o}){var a,f,L;let k="Note on Substack";o&&r.name?k=`Comment by ${r.name} on ${o.name}`:r.name?k=`Note by ${r.name} on Substack`:o&&(k=`Comment on ${o.name}`);const U=t&&o?ig(t,o,{isCommentPage:!0}).title:`${k}: "${(0,Ne.truncateText)(r.body,280)}"`,B=(a=r.attachments)==null?void 0:a.find(De=>De.type==="image"),q=B==null?void 0:B.imageUrl,pe=!1,ge=pe?680:void 0,Pe=pe?680:void 0,Ee=q!=null?q:pe?(0,G.imginary)((0,og.getNoteCommentPreviewUrl)(r.id),Pe,{height:ge}):t&&o?eu(o,t)[0]:null,Me=!pe||q?r.body:"Subscribe to see all their notes.";return(0,e.h)(o9.Metadata,u9({},{title:U,socialTitle:k,description:Me,image:Ee,imageHeight:ge,imageWidth:Pe,isLargeImage:Ee?!0:void 0,siteName:o?o.name:"Substack",publishedTime:r.date.toString(),meta:[{name:"twitter:label1",content:"Likes"},{name:"twitter:data1",content:String((f=r.reaction_count)!=null?f:0)},{name:"twitter:label2",content:"Replies"},{name:"twitter:data2",content:String((L=r.children_count)!=null?L:0)}]}))}var cg=Ke(49786),d9=Object.defineProperty,f9=(r,t,o)=>t in r?d9(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,p9=(r,t,o)=>(f9(r,typeof t!="symbol"?t+"":t,o),o),h9=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});class dg extends e.Component{onTopReached(){this.state.topReached||(this.setState({topReached:!0}),(0,P.j)(P.FP.POST_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}onBottomReached(){this.state.bottomReached||(this.setState({bottomReached:!0}),(0,P.j)(P.FP.POST_BOTTOM_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}enableEmailNotifications(){return h9(this,null,function*(){try{yield et().post(`/api/v1/post/${this.props.post.id}/subscribe`),window.location.reload()}catch(t){console.error("Failed to subscribe to email notifications:",t),alert((0,i.getNetworkErrorMessage)(t))}})}render({className:t,pub:o,post:a,user:f,freeSignup:L,freeSignupEmail:k,isStatic:U,hidden:B,truncated:q,invisible:pe,post_reaction_token:ge,onChange:Pe,showCta:Ee=q,showUnsubscribeNotice:Me,dataForEmailRender:De={},showReactions:Ue=!0,gap:Fe=16,iString:Ye,iTemplate:st,iPlural:nt,language:at,showShare:yt}){typeof B!="boolean"&&(B=a.hidden);let Et,Ct;B?(Et=Ye("Subscribe to view"),Ct=(0,g.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:"thread",utm_medium:"web",utm_content:a.id})):(Ct=(0,g.getPostUrl)(o,a,{noBase:!0}),a.type!=="thread"||q?Et=(0,Ne.getPostCtaText)(a,at):a.comment_count?Et=nt("View 1 comment","View %1 comments",a.comment_count):Et=Ye("Reply"));const It=U&&!this.context.isAmp;return(0,e.h)(Rn.YF,{className:`thread-head typography ${t||""}`},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(Rn.i$,{width:"100%"},!pe&&!B&&(0,e.h)(W,{onVisible:()=>this.onTopReached()}),(0,e.h)(Rn.i$,{gap:Fe,width:"100%"},(0,e.h)(gu,{pub:o,post:a,user:f,isStatic:U,freeSignup:L,freeSignupEmail:k,reaction_token:ge,allowEdit:!0,allowTruncate:q,showReactions:!!Ee||Ue,showShare:yt,showComments:!!a.comment_count,small:!0,inThreadHead:!0,showActiveBadge:!0,onChange:Pe,showLabel:!0}),(0,e.h)(ms,{user:f,freeSignup:L,freeSignupEmail:k,pub:o,post:a,html:!B&&!q&&a.body_html,isStatic:U,dataForEmailRender:De},B?(0,e.h)("p",null,(0,e.h)("i",null,st`This thread is only visible to ${(0,dn.isFoundingAudience)(a.audience)?"founding":"paid"} subscribers of ${o.name}`)):q?(0,e.h)("p",null,a.description):null),Ee?(0,e.h)("a",{className:"thread-head-cta",href:Ct,native:!0},Et," \u2192"):B&&(0,e.h)("p",{className:"thread-head-cta"},(0,e.h)("a",{href:(0,g.getSubscribeUrl)(o,{simple:!0,next:document.location.href,utm_source:"thread",utm_medium:"web",utm_content:a.id}),className:"button primary subscribe-btn",native:!U},(0,Ne.getSubscribeText)(o)),(0,e.h)("a",{href:(0,g.getSigninUrl)({for_pub:o.subdomain}),className:"button",native:!0},Ye("Sign in")))),It&&(0,e.h)(Rn.i$,{gap:Fe,style:{width:"100%"}},(0,e.h)(Rn.i$,{style:{width:"100%",textAlign:"center"}},(0,e.h)("a",{role:"button",className:"button primary",style:{margin:"0 auto"},href:Ir.Substitutions.HALF_MAGIC_COMMENTS_URL},Ye("See the discussion"))),(0,e.h)(qn.yT,{isFooter:!0,customization:{showShare:!0,showComments:!0,showReactions:{showReactions:Ue},showRestack:!1,showLabels:!0,showCommentRestack:!0}})),Me&&a.unsubscribed&&(0,e.h)("div",{className:"notifications-alert"},Ye("Email notifications are disabled for this thread.")," ",(0,e.h)("a",{href:"javascript:void(0)",onClick:()=>this.enableEmailNotifications()},Ye("Re-enable"))),!pe&&!B&&(0,e.h)(W,{onVisible:()=>this.onBottomReached()})))))}}p9(dg,"contextType",Qc.E);const fg=(0,A.fz)(dg);class m9 extends e.Component{render(){return(0,e.h)("div",{className:"thread-head-silhouette"},(0,e.h)("div",{className:"thread-head-silhouette-head"}),(0,e.h)("div",{className:"thread-head-silhouette-content"},(0,e.h)("div",{className:"thread-head-silhouette-title"}),(0,e.h)("div",{className:"thread-head-silhouette-meta"}),(0,e.h)("div",{className:"thread-head-silhouette-body"},(0,e.h)("div",{className:"thread-head-silhouette-body-line"}),(0,e.h)("div",{className:"thread-head-silhouette-body-line"}),(0,e.h)("div",{className:"thread-head-silhouette-body-line"}))))}}const Fd=()=>(0,e.h)("div",{className:"comment-silhouette"},(0,e.h)("div",{className:"comment-silhouette-head"}),(0,e.h)("div",{className:"comment-silhouette-content"},(0,e.h)("div",{className:"comment-silhouette-meta"}),(0,e.h)("div",{className:"comment-silhouette-body"}),(0,e.h)("div",{className:"comment-silhouette-actions"})));var _9=Object.defineProperty,g9=Object.defineProperties,v9=Object.getOwnPropertyDescriptors,pg=Object.getOwnPropertySymbols,y9=Object.prototype.hasOwnProperty,P9=Object.prototype.propertyIsEnumerable,hg=(r,t,o)=>t in r?_9(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,b9=(r,t)=>{for(var o in t||(t={}))y9.call(t,o)&&hg(r,o,t[o]);if(pg)for(var o of pg(t))P9.call(t,o)&&hg(r,o,t[o]);return r},E9=(r,t)=>g9(r,v9(t));const O9=r=>(0,e.h)(Je.l,E9(b9({},r),{name:"MenuIcon",svgParams:{height:10,width:18}}),(0,e.h)("path",{d:"M1 1L9 9L17 1",stroke:"#999","stroke-width":"1"}));var C9=Object.defineProperty,w9=(r,t,o)=>t in r?C9(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,S9=(r,t,o)=>(w9(r,typeof t!="symbol"?t+"":t,o),o);class I9 extends e.Component{constructor(){super(...arguments),S9(this,"onSortCommentsClicked",t=>{this.sortMenuRef.toggle(),this.props.onSortSelected(t)})}render({sort:t,loading:o,pub:a}){const f=(0,Mr.default)("like_comments_enabled");return(0,e.h)("div",{className:u()("comments-page-sort-controls",{loading:o})},(0,e.h)("div",{className:"comments-page-sort-menu"},(0,e.h)("button",{className:"comments-page-sort-menu-button",onClick:()=>this.sortMenuRef.toggle()},(0,e.h)("span",{className:"comments-page-sort-menu-button-label"},(0,$r.Sh)(t,a.language)),(0,e.h)(O9,{height:"6"})),(0,e.h)(bo.ZP,{className:"comments-page-sort-menu-dropdown",ref:L=>this.sortMenuRef=L},(0,$r.Hz)({likesEnabled:f,language:a.language}).map(({key:L,text:k})=>(0,e.h)(zi.Z,{className:t===L?"selected":"",onClick:()=>this.onSortCommentsClicked(L)},k)))))}}const mg=I9;var T9=Object.defineProperty,D9=Object.defineProperties,M9=Object.getOwnPropertyDescriptors,_g=Object.getOwnPropertySymbols,A9=Object.prototype.hasOwnProperty,L9=Object.prototype.propertyIsEnumerable,Wd=(r,t,o)=>t in r?T9(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,jd=(r,t)=>{for(var o in t||(t={}))A9.call(t,o)&&Wd(r,o,t[o]);if(_g)for(var o of _g(t))L9.call(t,o)&&Wd(r,o,t[o]);return r},N9=(r,t)=>D9(r,M9(t)),gg=(r,t,o)=>(Wd(r,typeof t!="symbol"?t+"":t,o),o),Cs=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const x9=30*1e3;class R9 extends e.Component{constructor(t,o){super(t,o),gg(this,"modalRef",(0,e.createRef)(null)),gg(this,"onWindowVisibilityChange",()=>{(0,i.isWindowVisible)()?this.loadPost():clearTimeout(this.loadTimeout)}),this.state={},t.post&&t.post.slug===t.slug&&(this.state.post=t.post),this.state.sort=t.sort||this.state.post&&this.state.post.default_comment_sort||t.publication.default_comment_sort||"best_first",this.state.comments=t.initialComments,this.scrollRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.state.loading=!1,this.state.reactionSigninComment=null}componentDidMount(){return Cs(this,null,function*(){var t;const{iString:o,inline:a,user:f}=this.props;if((0,i.onWindowVisibilityChange)(this.onWindowVisibilityChange),!this.props.publication.community_enabled&&!this.props.inline?document.location.href="./":yield this.loadPost(),(t=this.props.matches)!=null&&t.feedCommentUrl){const L=this.props.matches.feedCommentUrl,k=new URL(location.toString());k.searchParams.delete("feedCommentUrl"),history.replaceState({},"",k),this.props.popToast(U=>(0,e.h)(d.FN,N9(jd({},U),{text:o("Note Shared."),cta:o("View Now"),href:L})),{ttl:1e4})}})}componentWillUnmount(){(0,i.offWindowVisibilityChange)(this.onWindowVisibilityChange),clearInterval(this.loadTimeout)}componentDidUpdate(t,o){return Cs(this,null,function*(){if(t.slug!==this.props.slug||o.sort!==this.state.sort){const a=this.props.post&&this.props.post.slug===this.props.slug;yield(0,i.setState)(this,{post:a?this.props.post:null,comments:null}),yield this.loadPost()}else if(this.state.post&&this.state.comments&&!this.commentsViewed&&!this.state.loading){let a=0;(0,$r.hO)(this.state.comments,()=>a++),this.state.post.comment_count!==a&&(this.state.post.comment_count=a,this.setState({post:this.state.post}),this.props.onChange&&this.props.onChange({post:this.state.post}))}})}queueRefresh(){if(!this.commentsViewed&&this.state.comments){this.commentsViewed=!0;const{post:t}=this.state;(0,P.j)(P.FP.COMMENTS_VIEWED,{post_id:t.id,comment_count:this.state.comments.length}),this.props.publication.community_enabled&&!(t.type==="thread"||(0,Ne.canSeeComments)(this.props.user,t))&&(0,P.j)(P.FP.COMMENT_PAYWALL_SHOWN,{post_id:t.id,post_type:t.type}),t.type==="thread"&&this.props.user&&Promise.resolve(et().post(`/api/v1/posts/${t.id}/seen`))}clearTimeout(this.loadTimeout),this.loadTimeout=setTimeout(()=>this.loadPost(),x9)}loadPost(){return Cs(this,null,function*(){if(this.state.comments&&!(0,i.isWindowVisible)())return;clearTimeout(this.loadTimeout),this.setState({loading:!0});const t=this.state.comments&&this.state.comments.length>0;let o;this.state.comments&&(o=null,(0,$r.hO)(this.state.comments,a=>{!a.deleted&&a.date&&(!o||a.date>o)&&(o=a.date)}));try{const a=this.props.slug,f=this.state.sort,L={token:this.props.post_reaction_token||"",all_comments:!0,sort:f,last_comment_at:o};this.state.post&&this.props.commentId&&(L.comment_id=this.props.commentId);const k=yield et().get(this.state.post?`/api/v1/post/${this.state.post.id}/comments`:`/api/v1/posts/${a}`).query(L);if(this.setState({loading:!1}),a!==this.props.slug||f!==this.state.sort)return;let U=this.state.sort;!this.state.post&&k.body.default_comment_sort&&(U=k.body.default_comment_sort),(!this.state.post||!this.state.comments||k.body.comments)&&(yield(0,i.setState)(this,{post:this.state.post||k.body,comments:k.body.comments||[],sort:U}))}catch(a){console.error("Failed to load post:",a),a.statusCode===400&&(yield(0,i.setState)(this,{notAllowedToFetchComments:!0})),this.setState({loading:!1})}!t&&this.state.comments&&this.state.comments.length>0&&(0,i.scrollToHash)(),(0,i.isWindowVisible)()&&this.queueRefresh(),this.triggerShareOnLoad()})}onChange(t){this.setState({comments:vs(this.state.comments,t)})}onSortSelected(t){this.setState({sort:t}),(0,P.j)(P.FP.COMMENTS_SORTED,{post_id:this.state.post.id,post_type:this.state.post.type,sort:t})}triggerShareOnLoad(){var t;(t=this.shareDialogRef)!=null&&t.current&&(0,g.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,g.updateQuery)({action:null})),this.shareDialogRef.current.fromEmail())}_isPub(t){const{publication:o}=this.props;return(o==null?void 0:o.subdomain)===t}render({slug:t,user:o,freeSignup:a,freeSignupEmail:f,publication:L,post_reaction_token:k,inline:U,commentId:B,selectionFromQuery:q,freeTrialCoupon:pe,show_reaction_upsell:ge,bannedFromNotes:Pe,iString:Ee,iPlural:Me,iTemplate:De},{sort:Ue,post:Fe,comments:Ye,notAllowedToFetchComments:st,reactionSigninComment:nt}){if(!Fe||!L.community_enabled)return!U&&(0,e.h)("div",{className:"comments-page"},(0,e.h)("div",{className:"container"},(0,e.h)(m9,null)));const at=L.community_enabled&&Fe&&Fe.write_comment_permissions!=="none",yt=st||at&&!(0,Ne.canSeeComments)(o,Fe),Et=(Ct,It)=>Cs(this,null,function*(){return yg({user:o,reactionToken:k,comments:Ye,id:Ct,reacted:It,setComments:Tt=>this.setState({comments:Tt}),onNeedsSignin:Tt=>new Promise(Rt=>this.setState({reactionSigninComment:Tt},()=>this.modalRef.current.open(Rt)))})});return(0,e.h)("div",{className:"comments-page"},B&&(Ye==null?void 0:Ye.length)>0?(0,e.h)(c9,{comment:Ye[0],post:Fe,publication:L}):(0,e.h)(ql,{post:Fe,publication:L,isCommentPage:!this.props.inline,selection:q}),(0,e.h)(Ha.ZP,{ref:this.shareDialogRef,user:o,pub:L,post:Fe,reaction_token:k,comments:Ye,commentId:B}),!U&&!B&&(0,e.h)("div",{className:"container"},(0,e.h)(fg,{pub:L,post:Object.assign({},Fe,{comment_url_override:(0,g.getPostUrl)(L,Fe,{comments:!0})}),user:o,freeSignup:a,freeSignupEmail:f,hidden:!(0,Ne.isUUID)(t)&&Fe.hidden,truncated:Fe.type!=="thread",post_reaction_token:k,onChange:Ct=>this.setState(Ct),showUnsubscribeNotice:!0,gap:0,showShare:!1},(0,e.h)("div",{className:"full-container-border"}))),yt&&(0,e.h)("div",{className:"container"},(0,e.h)(_s,{user:o,freeSignupEmail:f,freeSignup:a,publication:L,post:Fe,title:De`Comments on this ${Fe.type==="podcast"?"episode":"post"} are for ${(0,dn.isFoundingAudience)(Fe.audience)?"founding":"paid"} subscribers`,reauthenticationTitle:Ee("To see the comments, please re-authenticate."),coupon:pe})),Fe.type==="thread"||(0,Ne.canSeeComments)(o,Fe)?(0,e.h)("div",{className:"container"},Ye&&(0,e.h)(d.gq,{alignItems:"center",justifyContent:"space-between",paddingY:8},(0,e.h)("div",{className:"comments-heading"},Me("1 Comment","%1 Comments",Fe.comment_count)),!U&&!L.invite_only&&(0,Ne.canSeeComments)(o,Fe)&&(0,e.h)(d.zx,{priority:"secondary-theme",leftIcon:(0,e.h)(Ud.Z,null),onClick:()=>{var Ct;(Ct=this.shareDialogRef.current)==null||Ct.open()}},Ee("Share"))),Ye&&Ye.length>0&&!at&&(0,e.h)(vg,{post:Fe}),at&&(0,e.h)(Es,{user:o,freeSignup:a,freeSignupEmail:f,pub:L,post:Fe,token:k,autoFocus:hD(),onSuccess:Ct=>this.setState({comments:[Ct].concat(Ye)}),bannedFromNotes:Pe}),(!Ye||Ye.length>0)&&!st&&!B&&(0,e.h)(mg,{sort:Ue,loading:!Ye,onSortSelected:Ct=>this.onSortSelected(Ct),pub:L}),B&&Ye&&(0,e.h)("a",{className:"return-to-thread-link",href:(0,g.getPostUrl)(L,Fe,{comments:!0,commentId:B,highlightComment:!0})},Ee("\u2B60 Return to thread")),!Ye&&!st?[(0,e.h)(Fd,null),(0,e.h)(Fd,null)]:Ye.length>0?[(0,e.h)("div",{className:"comment-list-container",ref:this.scrollRef},(0,e.h)(Xl,{key:`post:${Fe.id}`,user:o,freeSignup:a,freeSignupEmail:f,pub:L,post:Fe,comments:Ye,reaction_token:k,depth:0,collapseAtDepth:U?10:Ye.length>3&&Ue==="most_recent_first"?t9:e9,onChange:Ct=>this.onChange(Ct),pageSize:U||this._isPub("astralcodexten")?r9:Fe.type==="thread"?n9:ng,scrollRef:this.scrollRef,retainUserCollapseState:!0,updateCommentReacted:Et,noRestack:!0}))]:null):null,nt&&(0,e.h)(Va.oq,{comment:nt,pub:L,user:o,react:()=>Et(nt.id,!0),modalRef:this.modalRef}),ge?(0,e.h)(cg.hF,{user:o,pub:L,post:Fe}):null)}}const Kd=(0,d.dd)((0,A.fz)(R9)),vg=({post:r})=>{const{iString:t}=(0,A.M1)();return(0,e.h)("div",{className:"locked-comments"},r.type==="podcast"?t("Commenting has been turned off for this episode"):r.type==="adhoc_email"?t("Commenting has been turned off for this email"):t("Commenting has been turned off for this post"))};function yg(r){return Cs(this,arguments,function*({user:t,reactionToken:o,comments:a,id:f,reacted:L,setComments:k,onNeedsSignin:U}){var B;const q=w0(f,a);if(!q)return;const pe=jd({},q);(0,Va.E6)(t,pe,L),k(vs(a.slice(0),pe));try{yield(0,Va.xl)(pe,!0,L,o)}catch(ge){if((0,Va.E6)(t,pe,!L),k(vs(a.slice(0),jd({},pe))),((B=ge.response)==null?void 0:B.statusCode)!==401){alert((0,i.getNetworkErrorMessage)(ge));return}yield U({comment:pe})}})}const B9=({comments:r,expectedCommentCount:t,inputRef:o,post:a,pub:f,sort:L,token:k,user:U,onAddComment:B,onUpdateComment:q,onUpdateSort:pe})=>{const ge=!(0,Ne.canSeeComments)(U,a),{iString:Pe}=(0,A.M1)();return ge?(0,e.h)(_s,{user:U,publication:f,post:a,title:Pe("Comments on this episode are for paid subscribers"),reauthenticationTitle:Pe("To see the comments, please re-authenticate.")}):(0,e.h)("div",null,(0,e.h)(Es,{ref:o,formClassName:"tw-m-0",user:U,pub:f,post:a,token:k,onSuccess:B}),t>0&&(0,e.h)(mg,{sort:L,loading:!r,onSortSelected:pe,pub:f}),r?(0,e.h)(Xl,{comments:r,post:a,pub:f,reaction_token:k,user:U,onChange:q,noRestack:!0}):(0,e.h)("div",{className:"tw-mt-4"},G3()(Math.min(t,5),()=>(0,e.h)(Fd,null))))},tu={facepile:"frontend-podcast_post_page-PodcastPostHeader-module__facepile--_7Aou",backdrop:"frontend-podcast_post_page-PodcastPostHeader-module__backdrop--jaZvB",backdropHidden:"frontend-podcast_post_page-PodcastPostHeader-module__backdropHidden--Ebi0K",backdropVisible:"frontend-podcast_post_page-PodcastPostHeader-module__backdropVisible--ZT26O"};var U9=Object.defineProperty,Pg=Object.getOwnPropertySymbols,k9=Object.prototype.hasOwnProperty,F9=Object.prototype.propertyIsEnumerable,bg=(r,t,o)=>t in r?U9(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,W9=(r,t)=>{for(var o in t||(t={}))k9.call(t,o)&&bg(r,o,t[o]);if(Pg)for(var o of Pg(t))F9.call(t,o)&&bg(r,o,t[o]);return r};const Eg=({bylines:r,variant:t})=>(0,e.h)(d.hs,W9({},t==="shows"?{direction:"row",gap:16,wrap:"wrap"}:{direction:"column",gap:24}),r.map(o=>(0,e.h)(d.gq,{alignItems:"center",gap:16},(0,e.h)(d.hs,null,(0,e.h)(gs.ZP,{className:tu.facepile,maximum:1,hoverProfiles:!0,faces:[o],faceUtmSource:"author-byline-face-podcast"})),(0,e.h)(d.tu,null,(0,e.h)(d.gq,{gap:4,alignItems:"center"},(0,e.h)(d.xv.B4,{color:"pub-primary-text",weight:"bold"},o.name),(0,e.h)($l.UserBadge,{userId:o.id,tier:o.bestseller_tier,size:"sm"})),o.primaryPublicationName&&(o.primaryPublicationUrl?(0,e.h)(d.xv.B4,{color:"pub-secondary-text",translated:!0},"Writes"," ",(0,e.h)("a",{style:{textDecoration:"none"},href:o.primaryPublicationUrl},I18N.p(o.primaryPublicationName))," ",(0,e.h)("a",{href:`${o.primaryPublicationUrl}/subscribe`},"Subscribe")):(0,e.h)(d.xv.B4,{color:"pub-secondary-text",translated:!0},"Writes ",I18N.p(o.primaryPublicationName)))))));var j9=Ke(91613),Og=Ke(25597),K9=Object.defineProperty,H9=Object.defineProperties,V9=Object.getOwnPropertyDescriptors,Cg=Object.getOwnPropertySymbols,$9=Object.prototype.hasOwnProperty,Z9=Object.prototype.propertyIsEnumerable,wg=(r,t,o)=>t in r?K9(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,G9=(r,t)=>{for(var o in t||(t={}))$9.call(t,o)&&wg(r,o,t[o]);if(Cg)for(var o of Cg(t))Z9.call(t,o)&&wg(r,o,t[o]);return r},z9=(r,t)=>H9(r,V9(t));const Sg=r=>(0,e.h)(Je.l,z9(G9({},r),{name:"UsersIcon",svgParams:{height:14,width:15,stroke:"#B6B6B6"}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.91732 12.249V11.0824C9.91732 9.79369 8.87265 8.74902 7.58398 8.74902H2.91732C1.62865 8.74902 0.583984 9.79369 0.583984 11.0824V12.249",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.24935 6.41423C6.53801 6.41423 7.58268 5.36956 7.58268 4.08089C7.58268 2.79223 6.53801 1.74756 5.24935 1.74756C3.96068 1.74756 2.91602 2.79223 2.91602 4.08089C2.91602 5.36956 3.96068 6.41423 5.24935 6.41423Z",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8118 12.2659H13.563C13.5622 11.2025 14.0005 8.82373 11.666 8.82373",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.33398 1.82227C10.3664 2.08661 11.0886 3.01693 11.0886 4.08268C11.0886 5.14844 10.3664 6.07875 9.33398 6.3431",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}));function Ig({post:r,pub:t,user:o,showDate:a,showDatetime:f,isStatic:L,className:k,postReactionToken:U,onChange:B,allowEdit:q,hidePinning:pe,showEmailSent:ge,allowSendEmail:Pe,allowMobileFooter:Ee,reactors:Me,onCommentsClick:De,onClipClick:Ue,useWashBackground:Fe,showRestackModal:Ye,setFooterShown:st}){const nt=(0,R.isMobile)({checkFirst4:!0}),at=typeof window=="undefined",yt=(0,tt.xR)(),Et=(0,Ne.getBylineUsers)(r),{language:Ct}=(0,A.M1)(),It=f?sn()(r.post_date).locale(Ct).standardDatetime():L?sn()(r.post_date).locale(Ct).standardDate():sn()(r.post_date).locale(Ct).standardDateOrTime(),{getSettingFor:Tt}=(0,it.So)(),Rt=t.bylines_enabled&&(0,Ne.getPrintedByline)(t,r)&&r.type!=="podcast",wt=Rt&&t.byline_images_enabled&&Et.some(({photo_url:on})=>!!on),Qt=r.type!=="page",jt=nt&&wt&&Et.length>2,qt=(t==null?void 0:t.community_enabled)&&r.slug&&!r.is_draft&&(0,Ne.showCommentsOnPost)({publication:t,post:r}),ln=Rt&&Et.length===1&&Et[0].is_guest&&Et[0].primaryPublicationSubscribeUrl&&Et[0].primaryPublicationId!==t.id&&!r.is_draft&&!(0,Mr.default)("dont_show_guest_byline"),Bt=(0,Ne.oxfordComma)(Et.map(on=>L?(0,e.h)("a",{className:"byline-profile-link",href:(0,g.getProfileUrl)(on,t,{base:L}),onClick:Yt=>Yt.stopPropagation()},on.name):(0,e.h)(de.gq,{inline:!0,gap:4,alignItems:"center"},(0,e.h)(mo.Ct,{subject:on,utmSource:"byline"},(0,e.h)("a",{className:"byline-profile-link",href:(0,g.getProfileUrl)(on,t,{base:L}),onClick:Yt=>Yt.stopPropagation()},on.name)),!L&&(0,e.h)($l.UserBadge,{tier:on.bestseller_tier,size:"sm",userId:on.id})))),zt=!r.is_draft&&(0,j9.x)(o,{enable_restacking:!!Tt("enable_restacking")},r,t,L);return(0,e.h)("div",{className:u()("post-subheader",k)},(0,e.h)("div",{className:u()("left",{vertical:jt})},wt&&(L?(0,e.h)(gs.Pn,{pub:t,post:r}):(0,e.h)(gs.ZP,{className:"bylines-facepile",maximum:5,hoverProfiles:!0,faces:Et.map(({id:on,name:Yt,photo_url:Zt})=>({id:on,name:Yt,photo_url:Zt})),faceUtmSource:"author-byline-face",elevated:Fe})),(0,e.h)("div",{className:"label-stack"},Rt&&(0,e.h)("div",{className:"bylines"},(0,e.h)("span",{className:"byline-names"},Bt)),ln&&(0,e.h)("div",{className:"guest-author-publication"},"Writes\xA0",(0,e.h)("a",{className:"guest-author-publication-name",href:Et[0].primaryPublicationUrl,title:Et[0].primaryPublicationName},Et[0].primaryPublicationName),"\xA0\xB7\xA0",(0,e.h)("a",{className:"guest-author-publication-subscribe",href:Et[0].primaryPublicationSubscribeUrl},"Subscribe")),(0,e.h)("div",{className:"publish-context"},r.type==="adhoc_email"?(0,e.h)(Sg,{className:"audience-icon adhoc-email-icon",height:16,isStatic:L}):Qt&&(0,dn.isPaidAudience)(r.audience)&&!(0,La.hidePaidPostUI)({post:r})&&(0,e.h)(Og.Z,{audience:r.audience,className:"audience-icon audience-lock-icon",size:16,isStatic:L,thin:!0}),(a||f)&&r.post_date&&!r.is_draft&&(0,e.h)("time",{dateTime:sn()(r.post_date).toISOString()},It),r.is_draft&&(a||f)&&"Draft"))),(0,e.h)("div",{className:"right"},nt&&!at&&Ee&&(0,e.h)(qn.mt,{post:r,pub:t,user:o,isStatic:L,onChange:B,allowEdit:q,hidePinning:pe,showEmailSent:ge,allowSendEmail:Pe,hideComments:!qt,onCommentsClick:De,showRestackButton:zt,showRestackModal:Ye,setFooterShown:st,postReactionToken:U}),!nt&&(0,e.h)(qn._2,{post:r,pub:t,user:o,isStatic:L,style:"button",onChange:B,allowEdit:q,hidePinning:pe,showEmailSent:ge,allowSendEmail:Pe,labelStyle:"counts-or-none",hideComments:!qt,onCommentsClick:De,onClipClick:Ue,position:"post-header",showRestackButton:zt,showRestackModal:Ye,showClipping:r.type==="podcast",editButtonIsLast:!0,postReactionToken:U})))}var Go=Ke(42208),Tg=Ke(22939),Y9=Ke(99758),J9=Object.defineProperty,X9=Object.defineProperties,Q9=Object.getOwnPropertyDescriptors,Dg=Object.getOwnPropertySymbols,q9=Object.prototype.hasOwnProperty,eA=Object.prototype.propertyIsEnumerable,Mg=(r,t,o)=>t in r?J9(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,tA=(r,t)=>{for(var o in t||(t={}))q9.call(t,o)&&Mg(r,o,t[o]);if(Dg)for(var o of Dg(t))eA.call(t,o)&&Mg(r,o,t[o]);return r},nA=(r,t)=>X9(r,Q9(t));const Ag=r=>(0,e.h)(Je.l,nA(tA({},r),{name:"CopyIcon",svgParams:{height:15,width:15}}),(0,e.h)("rect",{x:"4",y:"1",width:"10.2862",height:"10.2862",rx:"1"}),(0,e.h)("rect",{x:"1",y:"4",width:"10.2862",height:"10.2862",rx:"1"}));var rA=Object.defineProperty,oA=Object.defineProperties,aA=Object.getOwnPropertyDescriptors,nu=Object.getOwnPropertySymbols,Lg=Object.prototype.hasOwnProperty,Ng=Object.prototype.propertyIsEnumerable,xg=(r,t,o)=>t in r?rA(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,iA=(r,t)=>{for(var o in t||(t={}))Lg.call(t,o)&&xg(r,o,t[o]);if(nu)for(var o of nu(t))Ng.call(t,o)&&xg(r,o,t[o]);return r},sA=(r,t)=>oA(r,aA(t)),lA=(r,t)=>{var o={};for(var a in r)Lg.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&nu)for(var a of nu(r))t.indexOf(a)<0&&Ng.call(r,a)&&(o[a]=r[a]);return o};const uA=r=>{var t=r,{strokeWidth:o=1.5}=t,a=lA(t,["strokeWidth"]);return(0,e.h)(Je.l,sA(iA({},a),{strokeWidth:o,name:"SendIcon",svgParams:{height:20,width:20,viewBox:"0 0 20 20"}}),(0,e.h)("path",{d:"M18.3332 1.66699L12.4998 18.3337L9.1665 10.8337L1.6665 7.50033L18.3332 1.66699Z","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.3332 1.66699L9.1665 10.8337","stroke-linecap":"round","stroke-linejoin":"round"}))};var Rg=Ke(46209);const Bg=[{name:"Choose installed player",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/generic-orange-microphone.svg?v=1",onClick:r=>{document.location.href=`itpc://${(0,g.stripProtocol)(r)}`}},{name:"Apple Podcasts",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/apple-podcasts.svg?v=1",onClick:r=>{document.location.href=`podcast://${(0,g.stripProtocol)(r)}`}},{name:"Google Podcasts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/google-podcasts.svg?v=1",onClick:r=>{document.location.href=`googlepodcasts://subscribe-by-rss-feed?feed=${Buffer.from(r).toString("base64")}`}},{name:"Overcast",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/overcast.svg?v=1",onClick:r=>{document.location.href=`overcast://x-callback-url/add?url=${encodeURIComponent(r)}`}},{name:"Pocket Casts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/pocketcasts.svg?v=1",onClick:r=>{document.location.href=`pktc://subscribe/${(0,g.stripProtocol)(r)}`}},{name:"Downcast",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/downcast.svg?v=1",onClick:r=>{document.location.href=`downcast://${(0,g.stripProtocol)(r)}`}},{name:"Podcast Addict",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/podcast-addict.svg?v=1",onClick:r=>{document.location.href=`podcastaddict://${(0,g.stripProtocol)(r)}`}},{name:"Castro",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/castro.svg?v=1",onClick:r=>{(0,i.copyToClipboard)(r),document.location.href=`castros://subscribe/${(0,g.stripProtocol)(r)}`}},{name:"Radio Public",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/radiopublic.svg?v=1",onClick:r=>{document.location.href=`https://radiopublic.com/${encodeURIComponent(r)}`}}],Ug=({className:r,pub:t,utmSource:o})=>{const a=typeof window!="undefined"?window.location.href:"",f=(0,G.getSubscribeUrl)(t,{params:{utm_source:o,simple:!0,next:a}});return(0,e.h)(Ae.Z,{className:u()("primary tw-text-sm tw-font-semibold",r),href:f},(0,Ne.getSubscribeText)(t))};var cA=Object.defineProperty,ru=Object.getOwnPropertySymbols,kg=Object.prototype.hasOwnProperty,Fg=Object.prototype.propertyIsEnumerable,Wg=(r,t,o)=>t in r?cA(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,jg=(r,t)=>{for(var o in t||(t={}))kg.call(t,o)&&Wg(r,o,t[o]);if(ru)for(var o of ru(t))Fg.call(t,o)&&Wg(r,o,t[o]);return r},dA=(r,t)=>{var o={};for(var a in r)kg.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&ru)for(var a of ru(r))t.indexOf(a)<0&&Fg.call(r,a)&&(o[a]=r[a]);return o},fA=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const pA=Ke(39776),hA="hide_media_download_option",Hd=({feedUrl:r,post:t,pub:o,sectionId:a,hasAccessToPrivatePodcastFeed:f,fileSrc:L,icon:k})=>{const[U,B]=(0,n.eJ)(!1),[q,pe]=(0,Tg.E)(),{iString:ge}=(0,A.M1)();return(0,e.h)("div",{className:"tw-relative"},(0,e.h)("div",{className:u()("tw-font-sans audio-button tw-flex tw-cursor-pointer tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-border tw-border-solid tw-px-5 tw-py-3 tw-text-sm tw-font-semibold tw-text-pub-secondary-text tw-transition-colors sm:tw-py-2",U?"tw-border-pub-detail-dark":"tw-border-pub-detail-light hover:tw-border-pub-detail"),role:"button",onClick:pe},k,(0,e.h)("span",{className:"sm:tw-hidden"},ge("Open in player")),(0,e.h)("span",{className:"tw-hidden sm:tw-block"},ge("Listen on")),(0,e.h)(Y9.Z,{className:"tw-hidden tw-fill-pub-secondary-text tw-stroke-pub-secondary-text sm:tw-block",height:4})),(0,e.h)(mA,{feedUrl:r,menuRef:q,post:t,pub:o,sectionId:a,onToggle:B,hasAccessToPrivatePodcastFeed:f,fileSrc:L}))},ou=({feedUrl:r,pub:t,post:o})=>{(0,P.j)(P.FP.PODCAST_APP_LINK_CLICK,{appName:"Substack App",feedUrl:r}),document.location.href=(0,g.getPostAppLinkUrl)(t==null?void 0:t.subdomain,o==null?void 0:o.slug,{redirect:"app-marketing",source:"podcast-dropdown"})},mA=({feedUrl:r,menuRef:t,post:o,pub:a,sectionId:f,onToggle:L,hasAccessToPrivatePodcastFeed:k,fileSrc:U})=>{const B=(0,i.isMobileBrowser)(),q=()=>{(0,P.j)(P.FP.PODCAST_FEED_URL_COPIED),(0,i.copyToClipboard)(r),alert("Copied")};return(0,e.h)(bo.ZP,{ref:t,noTail:!0,noList:!0,noPlace:!0,useDrawerOnMobile:!0,className:"tw-right-0 tw-border-pub-wash tw-bg-pub-background tw-p-0 tw-font-sans tw-transition sm:tw-max-w-none",wrapperClassName:"tw-max-h-[90vh]",onToggle:({active:pe})=>{(0,P.j)(P.FP.PODCAST_LISTEN_ON_CLICKED),L(pe)}},B?(0,e.h)(vA,{feedUrl:r,pub:a,onCopyFeed:q,onClickSubstackApp:()=>ou({feedUrl:r,pub:a,post:o}),hasAccessToPrivatePodcastFeed:k,fileSrc:U}):(0,e.h)(yA,{feedUrl:r,pub:a,sectionId:f,onCopyFeed:q,onClickSubstackApp:()=>ou({feedUrl:r,pub:a,post:o}),hasAccessToPrivatePodcastFeed:k,fileSrc:U}))},Kg=({fileSrc:r})=>pA.getConfigFor(hA)?null:(0,e.h)(ws,{onClick:()=>{(0,i.downloadSrc)((0,g.updateQuery)(r,{download:!0}))}},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(xl.Z,null)),(0,e.h)("span",null,"Download MP3")),_A=()=>{const r=["Podcast Addict"],t=["Apple Podcasts"];return Bg.filter(o=>(0,i.isIOs)()?t.includes(o.name):r.includes(o.name))},gA=()=>{const r=["Apple Podcasts"],t=[];return Bg.filter(o=>(0,i.isMac)()?r.includes(o.name):t.includes(o.name))},vA=({feedUrl:r,pub:t,onCopyFeed:o,onClickSubstackApp:a,hasAccessToPrivatePodcastFeed:f,fileSrc:L})=>{var k;const{iString:U}=(0,A.M1)();return(0,e.h)("div",{className:"tw-px-2 tw-pt-5 tw-pb-6"},(0,e.h)("div",{className:"tw-mb-2 tw-px-2 tw-text-xl tw-font-bold tw-text-pub-primary-text"},U("Listen in app")),(0,e.h)(ws,{onClick:a},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(Rg.Z,null)),(0,e.h)("span",null,U("Substack App"))),r&&_A().map(({name:B,icon:q,onClick:pe})=>(0,e.h)(ws,{key:B,onClick:()=>{(0,P.j)(P.FP.PODCAST_APP_LINK_CLICK,{appName:B,feedUrl:r}),pe(r)}},(0,e.h)("img",{src:q,alt:`${B} logo`,className:"tw-w-6"}),(0,e.h)("span",{className:"tw-whitespace-nowrap"},B))),L&&(0,e.h)(Kg,{fileSrc:L}),r?(0,e.h)("div",{className:"tw-px-2 tw-pt-2"},(0,e.h)("div",{className:"tw-mb-4 tw-text-base tw-font-bold"},U("Private RSS feed")),(0,e.h)("div",{className:"tw-mb-6 tw-text-sm tw-text-pub-secondary-text"},U("Listen to paid episodes on your favorite podcast app with your private RSS feed.")," ",(0,e.h)(iu,null)),(0,e.h)("div",null,(0,e.h)(au,{className:"tw-w-full",onClick:o},(0,e.h)(Ag,{className:"tw-stroke-pub-secondary-text"}),(0,e.h)("span",null,U("Copy link"))))):f?(0,e.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},U("Private RSS feed")),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},U("Listen to paid episodes on your favorite podcast app with your private RSS feed.")),(0,e.h)("div",null,(0,e.h)(Hg,{pub:t}))):(0,e.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Subscribe to ",(k=t.podcast_title)!=null?k:"this podcast"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},U("Subscribe now to get a private link for listening in your favorite podcast player or listen in the Substack app.")," ",(0,e.h)(iu,null)),(0,e.h)(Ug,{className:"tw-w-full",pub:t,utmSource:"podcast_post_listen_on"})))},yA=({feedUrl:r,pub:t,sectionId:o,onCopyFeed:a,onClickSubstackApp:f,hasAccessToPrivatePodcastFeed:L,fileSrc:k})=>{const[U,B]=(0,n.eJ)(!1),[q,pe]=(0,n.eJ)(null),{iString:ge,iTemplate:Pe}=(0,A.M1)(),Ee=()=>fA(void 0,null,function*(){try{(0,P.j)(P.FP.PODCAST_EMAIL_LINK_CLICKED),yield et().post("/api/v1/subscription/send_podcast_email").send({section_id:o}),alert(ge("Email sent")),B(!0)}catch(Me){console.error("Failed to send podcast setup email:",Me),pe(Me)}});return(0,e.h)("div",{className:"tw-min-w-[280px] tw-px-2 tw-py-2"},(0,e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-pub-detail-light tw-pb-2"},(0,e.h)(ws,{onClick:f},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(Rg.Z,null)),(0,e.h)("span",null,"Substack App")),r&&gA().map(({name:Me,icon:De,onClick:Ue})=>(0,e.h)(ws,{key:Me,onClick:()=>{(0,P.j)(P.FP.PODCAST_APP_LINK_CLICK,{appName:Me,feedUrl:r}),Ue(r)}},(0,e.h)("img",{src:De,alt:`${Me} logo`,className:"tw-w-6"}),(0,e.h)("span",{className:"tw-whitespace-nowrap"},Me))),k&&(0,e.h)(Kg,{fileSrc:k})),(0,e.h)("div",{className:"tw-p-2 tw-pt-4 tw-text-sm"},r?(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},ge("Your private RSS feed")),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},ge("Copy your RSS link and paste it in your podcast app.")," ",(0,e.h)(iu,null)),(0,e.h)("div",{className:"tw-flex tw-gap-2"},(0,e.h)(au,{onClick:a},(0,e.h)(Ag,{className:"tw-stroke-pub-secondary-text",strokeWidth:1.5}),(0,e.h)("span",null,ge("Copy link"))),(0,e.h)(au,{onClick:Ee,disabled:U},(0,e.h)(uA,{className:"tw-stroke-pub-secondary-text"}),(0,e.h)("span",null,ge("Email link")))),q&&(0,e.h)("div",{className:"tw-mt-2 tw-text-red-600"},(0,i.getNetworkErrorMessage)(q))):L?(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},ge("Your private RSS feed")),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},ge("Listen to paid episodes on your favorite podcast app with your private RSS feed.")),(0,e.h)("div",null,(0,e.h)(Hg,{pub:t}))):(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},ge("Get a private RSS link for listening")),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},t.podcast_title?Pe`Subscribe to ${t.podcast_title} to get a private link for listening in your favorite podcast player.`:ge("Subscribe to this podcast to get a private link for listening in your favorite podcast player.")," ",(0,e.h)(iu,null)),(0,e.h)(Ug,{pub:t,utmSource:"podcast_post_listen_on"}))))},ws=r=>{var t=r,{children:o,href:a}=t,f=dA(t,["children","href"]);const L="tw-box-border tw-flex tw-items-center tw-gap-3 tw-whitespace-nowrap tw-rounded tw-py-3 tw-px-2 tw-text-base tw-font-bold tw-text-pub-primary-text tw-transition-colors hover:tw-bg-pub-wash sm:tw-gap-2 sm:tw-py-2 sm:tw-text-sm sm:tw-font-medium";return a?(0,e.h)("a",jg({className:u()("tw-no-underline",L),href:a},f),o):(0,e.h)("div",jg({className:u()("tw-cursor-pointer",L),role:"button"},f),o)},au=({children:r,className:t="",disabled:o=!1,onClick:a})=>(0,e.h)(Ae.Z,{className:u()("outline-grayscale tw-flex tw-items-center tw-justify-center tw-gap-3 tw-border-pub-detail-light tw-text-sm tw-font-medium tw-text-pub-secondary-text hover:tw-border-pub-detail",t),onClick:a,disabled:o},r),iu=()=>{const{iString:r}=(0,A.M1)();return(0,e.h)("a",{href:Go.ty,target:"_blank",rel:"noopener",className:"tw-text-pub-accent"},r("Learn about RSS."))},Hg=({pub:r})=>{const{iString:t}=(0,A.M1)();return(0,e.h)(au,{className:"tw-w-full",onClick:()=>{}},(0,e.h)(zi.Z,{className:"tw-stroke-pub-secondary-text tw-no-underline",href:(0,g.getPodcatcherSetupUrl)(r),onClick:()=>{}},t("Set up feed")))};var PA=Ke(97864);const bA=({post:r})=>(0,e.h)("a",{className:"tw-no-underline hover:tw-underline",href:(0,g.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:r.id}),native:!0},(0,e.h)("div",{className:"podcast-embed tw-flex tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-font-sans tw-text-base tw-shadow"},(0,e.h)(PA.Z,{className:"tw-fill-pub-accent tw-stroke-0"}),(0,e.h)("span",{className:"tw-text-sm tw-font-semibold tw-text-pub-accent"},"Upgrade to listen")));var Vg=Ke(18165);const EA=({isFreeSubscribed:r,isSubscribed:t,pub:o,post:a,onGetDuration:f,isPreview:L,playerRef:k,feedUrl:U})=>(0,e.h)(Vg.Z,{ref:k,feature:"Podcast",pub:o,src:a.podcast_url,duration:a.podcast_duration,autoPlay:!1,metricsPost:a,addToPodcastLink:null,onGetDuration:f,render:({currentTime:B,isPlaying:q,progress:pe,progressBarRef:ge,progressBarOnMouseDown:Pe,remainingTime:Ee,playbackRate:Me,setPlaybackRate:De,skipBack:Ue,skipForward:Fe,togglePlayback:Ye})=>(0,e.h)("div",{className:"podcast-embed tw-select-none tw-items-center tw-space-y-4 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-shadow sm:tw-flex sm:tw-gap-4 sm:tw-space-y-0"},(0,e.h)("div",{className:"tw-flex tw-items-center tw-justify-between tw-gap-4"},(0,e.h)("div",{className:"tw-w-16 sm:tw-hidden"},"\xA0"),(0,e.h)(sa.PlayerControls,{isPlaying:q,onSkipBack:Ue,onSkipForward:Fe,onTogglePlayback:Ye}),(0,e.h)("div",{className:"tw-flex tw-w-16 tw-justify-end sm:tw-w-auto"},(0,e.h)(sa.PlaybackRateToggle,{onSetPlaybackRate:De,playbackRate:Me,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border-0 tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-primary-text hover:tw-border-pub-detail sm:tw-border sm:tw-text-pub-secondary-text"}))),(0,e.h)(sa.ProgressBar,{currentTime:B,remainingTime:Ee,containerRef:ge,progress:pe,onMouseDown:Pe}),L&&!(0,La.hidePaidPostUI)({post:a})?(0,e.h)("div",{className:"tw-m-auto tw-w-min tw-whitespace-nowrap tw-rounded-full tw-bg-pub-detail-light tw-py-1 tw-px-3 tw-font-meta tw-text-xs tw-font-medium tw-leading-5 tw-text-pub-secondary-text"},"FREE PREVIEW"):(0,e.h)(Hd,{feedUrl:U,post:a,pub:o,sectionId:a.section_id,hasAccessToPrivatePodcastFeed:t||r,fileSrc:a.podcast_url}))}),OA=({expiry:r,podcastName:t,pub:o,postId:a})=>{const f=sn()(r).calendar(null,{sameDay:"[today]",nextDay:"[tomorrow]",nextWeek:"MMMM D",sameElse:"MMMM D"});return(0,e.h)("div",{className:"tw-co tw-mt-12 tw-flex tw-flex-col tw-items-center tw-rounded-md tw-text-center"},(0,e.h)("div",{className:"tw-leading-5 md:tw-w-3/4"},(0,e.h)("p",{className:"tw-mb-2 tw-font-sans tw-text-lg tw-font-bold"},"Set up your subscription"),(0,e.h)("p",{className:"podcast-description tw-mb-4 tw-font-sans tw-text-base tw-text-pub-secondary-text"},"Your complimentary subscription to ",t," ends ",f,". To keep access and continue your support, finish setting up your subscription.")),(0,e.h)(ho.z,{look:"button",variant:"themed-primary",size:"medium",onClick:()=>{(0,i.redirect)((0,g.getSubscribeUrl)(o,{utm_source:"continue_your_support",utm_medium:"web",utm_content:a,simple:!0,next:document.location.href,addBase:!0}),{local_navigation:!1})}},"Continue your support"))},CA=({freeSignupEmail:r,pub:t,source:o,user:a,onSuccess:f})=>{const L=typeof window!="undefined"&&t.hostname!==window.location.hostname.replace(/[.]localhost$/,"");return(0,e.h)("div",{className:"inline-free-email-form"},(0,e.h)(Le.Z,{user:a,pub:t,freeSignupEmail:r,source:o,onSuccess:f,useSubscribeLink:L,submitButtonText:(0,Ne.getSubscribeText)(t)}))},Vd="podcast_post_header",wA=({freeSignupEmail:r,isFreeSubscribed:t,pub:o,user:a})=>{const[f,L]=(0,n.eJ)(!1),[k,U]=(0,n.eJ)(!1),B=(0,n.sO)(null),q=o.section?o.section.description:o.podcast_description,pe=Pe=>{if(o.plans){let Ee=(0,g.getSubscribeUrl)(o,{just_signed_up:!0,referral_token:Pe.body.referral_token});Pe.body.prompt_to_login&&(Ee=`/account/login?redirect=${encodeURIComponent(Ee)}&email=${encodeURIComponent(Pe.body.email)}`),document.location.href=Ee}else window.location.reload()},ge=(0,n.I4)(()=>{L(!f)},[L,f]);return(0,n.bt)(()=>{const Pe=()=>{const Me=B.current&&B.current.scrollHeight>B.current.clientHeight;U(f||Me)};Pe();const Ee=(0,i.debounce)(Pe);return window.addEventListener("resize",Ee),()=>{window.removeEventListener("resize",Ee)}},[U,B,f]),(0,e.h)("div",{className:"tw-mt-6 tw-text-center"},q&&(0,e.h)("div",{className:"podcast-description tw-mb-6 tw-font-sans tw-text-base tw-text-pub-secondary-text"},(0,e.h)("span",{ref:B,"data-testid":"podcast-description",className:u()({"podcast-description--clamped":!f})},q),k&&(0,e.h)("span",{className:"tw-cursor-pointer tw-font-bold",onClick:ge},!f&&(0,e.h)("span",null,"show more"),f&&(0,e.h)("span",null," show less"))),t?(0,e.h)(Ae.Z,{href:(0,g.getSubscribeUrl)(o,{utm_source:Vd}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},(0,Ne.getSubscribeText)(o,{isFreeSubscribed:!0})):(0,i.isMobileBrowser)()?(0,e.h)(Ae.Z,{href:(0,g.getSubscribeUrl)(o,{utm_source:Vd,simple:!0,next:document.location.href}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},(0,Ne.getSubscribeText)(o)):(0,e.h)(de.gq,{justifyContent:"center"},(0,e.h)(CA,{freeSignupEmail:r,pub:o,source:Vd,user:a,onSuccess:pe})))};var $g=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const $d=({visible:r,className:t=void 0,style:o={}})=>{const[a,f]=(0,n.eJ)(!1),[L,k]=(0,n.eJ)(r);(0,n.d4)(()=>{r?(k(!0),requestAnimationFrame(()=>{requestAnimationFrame(()=>{f(!0)})})):f(!1)},[r]),(0,n.d4)(()=>{r&&k(!0)},[r]);function U(){r||k(!1)}return L?(0,e.h)("div",{className:`${tu.backdrop} ${a?tu.backdropVisible:tu.backdropHidden} ${t}`,onTransitionEnd:U,style:o}):null},SA=({freeSignupEmail:r,isFreeSignup:t,isPaywall:o,post:a,pub:f,magicToken:L,user:k,onChange:U,onClickCommentButton:B,onTopReached:q,playerRef:pe,onFeedChange:ge,videoPlayerRef:Pe,reaction_token:Ee})=>{var Me;const De=(0,R.isMobile)({checkFirst4:!0}),Ue=!!(k!=null&&k.is_subscribed),Fe=!!(t||k!=null&&k.is_free_subscribed),[Ye,st]=(0,n.eJ)((Me=a.podcast_duration)!=null?Me:0),[nt,at]=(0,n.eJ)(null),[yt,Et]=(0,n.eJ)(!1);(0,n.d4)(()=>{if(!Ue&&!Fe)return;(()=>$g(void 0,null,function*(){const ln=yield et().get("/api/v1/subscription/podcast_rss_url").query({token:L,section_id:a.section_id});ln.body.podcast_rss_url&&(at(ln.body.podcast_rss_url),ge(ln.body.podcast_rss_url))}))()},[Fe,Ue,L]);const Ct=qt=>{st(qt)},It=!Fe||!Ue&&!!f.plans,Tt=Ue&&(k==null?void 0:k.subscription_type)==="comp"&&sn()(k==null?void 0:k.subscription_expiry).subtract(30,"days").isBeforeNow(),Rt=Fe&&!Ue&&(k==null?void 0:k.comp_expired_recently),wt=(0,Ne.getBylineUsers)(a).sort((qt,ln)=>qt.id===f.author_id?-1:ln.id===f.author_id?1:qt.is_guest&&!ln.is_guest?-1:!qt.is_guest&&ln.is_guest?1:(qt.name||"").localeCompare(ln.name||"")),Qt=()=>{(0,P.j)(P.FP.VIDEO_CLIP_BUTTON_CLICKED,{post_id:a.id,type:a.type}),Et(!0)},jt=o?_0:Ua.Z;return(0,e.h)("div",{className:"tw-bg-pub-wash tw-py-8 sm:tw-pb-16"},(0,e.h)($d,{visible:yt,style:{zIndex:1}}),(0,e.h)("div",{className:"container"},(0,e.h)(W,{onVisible:q}),a.videoUpload&&(0,e.h)(jt,{mediaUpload:a.videoUpload,pub:f,post:a,autoPlay:!1,restorePlaybackLocation:!0,reaction_token:Ee,ref:Pe,clippingMode:yt,onClippingModeCancel:()=>Et(!1)}),(0,e.h)(IA,{post:a,podcastDuration:Ye,hideEpisodeImage:!!a.videoUpload}),(0,e.h)(Ig,{allowEdit:k==null?void 0:k.is_contributor,allowMobileFooter:!0,isStatic:!1,post:a,postReactionToken:L,pub:f,showDate:!0,showDatetime:!1,user:k,onChange:U,onCommentsClick:B,onClipClick:Qt,useWashBackground:!0}),a.videoUpload?null:o&&!(0,wr.podcastPostIsFreePreview)(a)?(0,e.h)(bA,{post:a}):(0,e.h)(EA,{isFreeSubscribed:Fe,isSubscribed:Ue,post:a,pub:f,magicToken:L,onGetDuration:Ct,isPreview:(0,wr.podcastPostIsFreePreview)(a),playerRef:pe,feedUrl:nt}),De&&(0,e.h)(Hd,{feedUrl:nt,post:a,pub:f,sectionId:a.section_id,hasAccessToPrivatePodcastFeed:Ue||Fe,fileSrc:a.podcast_url}),f.bylines_enabled&&wt&&wt.length?(0,e.h)(d.hs,{direction:"column",gap:24,paddingTop:a.videoUpload&&!De?0:24},(0,e.h)(d.xv.H4,{translated:!0,color:"pub-primary-text"},"Appears in this episode"),(0,e.h)(Eg,{bylines:wt,variant:"podcast"})):null,Tt||Rt?(0,e.h)(OA,{expiry:k.subscription_expiry,postId:a.id,podcastName:f.podcast_title,pub:f}):It?(0,e.h)(wA,{freeSignupEmail:r,isFreeSubscribed:Fe,pub:f,user:k}):null))};function IA({post:r,podcastDuration:t,hideEpisodeImage:o}){const{language:a}=(0,A.M1)();return(0,e.h)("div",{className:"tw-items-end tw-gap-8 sm:tw-flex"},!o&&r.podcast_episode_image_url&&(0,e.h)("div",{className:"tw-mx-auto tw-mb-6 tw-box-border tw-h-32 tw-w-32 tw-shrink-0 tw-overflow-hidden tw-rounded-lg tw-border-4 tw-border-solid tw-border-white tw-bg-gray-400 tw-shadow-md sm:tw-mx-0 sm:tw-mb-0 sm:tw-h-56 sm:tw-w-56"},(0,e.h)("img",{className:"tw-h-full tw-w-full tw-object-cover",src:(0,G.imginary)(r.podcast_episode_image_url,512,{height:512,crop:"fill"})})),(0,e.h)("div",{className:"tw-text-center sm:tw-text-left"},(0,e.h)("div",{className:"tw-mb-1 tw-font-sans tw-text-sm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},r.post_date?sn()(r.post_date).locale(a).standardDate():sn()().locale(a).standardDate(),t>0&&` \u2022 ${(0,Ne.formatPodcastDuration)(t)}`),r.title&&(0,e.h)("h1",{className:u()("tw-mt-0 tw-mb-2 tw-leading-tight sm:tw-mb-1",{"tw-text-3xl sm:tw-text-4xl":r.title.length<60,"tw-text-3xl sm:tw-text-3xl":r.title.length>=60&&r.title.length<110,"tw-text-2xl sm:tw-text-2xl":r.title.length>=110&&r.title.length<140,"tw-text-xl sm:tw-text-xl":r.title.length>=140})},r.title),r.subtitle&&(0,e.h)("h3",{className:u()("tw-my-0 tw-font-sans tw-font-normal tw-text-pub-secondary-text",{"tw-text-lg":r.subtitle.length<110,"tw-text-base":r.subtitle.length>=110})},r.subtitle)))}function QW({post:r,pub:t,user:o,isPaywall:a}){const f=!!(o!=null&&o.is_subscribed),L=!!(o.is_subscribed||o.is_free_subscribed),k="",[U,B]=useState(null);return useEffect(()=>{if(r.videoUpload||!f&&!L)return;(()=>$g(this,null,function*(){const pe=yield request.get("/api/v1/subscription/podcast_rss_url").query({token:k,section_id:r.section_id});pe.body.podcast_rss_url&&B(pe.body.podcast_rss_url)}))()},[L,f,k]),r.videoUpload?h(VideoPlayer,{mediaUpload:r.videoUpload,pub:t,autoPlay:!1,restorePlaybackLocation:!0}):a&&!podcastPostIsFreePreview(r)?h(PodcastAudioPaywall,{post:r}):h(PodcastPostAudioPlayer,{isFreeSubscribed:L,isSubscribed:f,post:r,pub:t,magicToken:k,isPreview:podcastPostIsFreePreview(r),feedUrl:U})}const Zg=(0,mn.Z)("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);var TA=Ke(77951);const DA=(0,mn.Z)("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),MA={small:"tw-py-2 tw-px-3",medium:"tw-py-3 tw-px-4",large:"tw-py-6 tw-px-4"},AA=({label:r,icon:t,isActive:o=!1,size:a,onClick:f,useSubstackTheme:L=!1,isDisabled:k=!1})=>{const U=MA[a];return(0,e.h)("div",{className:u()("tw-flex tw-items-center tw-gap-2 tw-border-y-2 tw-border-x-0 tw-border-solid tw-border-y-transparent tw-font-sans tw-text-sm tw-font-semibold tw-transition-colors ",U,{"tw-cursor-pointer":!k||o,"tw-cursor-not-allowed tw-opacity-50":k&&!o,"tw-border-b-pub-primary-text tw-text-pub-primary-text":o&&!L,"tw-text-pub-secondary-text":!o&&!L,"tw-border-b-substack-primary tw-text-substack-primary":o&&L,"tw-text-substack-secondary":!o&&L,"hover:tw-bg-pub-wash":!L&&!o&&!k,"hover:tw-bg-substack-wash":L&&!o&&!k}),disabled:k,onClick:k?()=>{}:f,role:"button"},typeof t=="function"?t({active:o}):t,(0,e.h)("span",null,r))},LA=({items:r,size:t="large",onSelect:o,activeTab:a,useSubstackTheme:f=!1,className:L})=>(0,e.h)("div",{className:u()("tw-flex",L)},r.map(({key:k,icon:U,label:B,isDisabled:q})=>(0,e.h)(AA,{isActive:k==a,icon:U,onClick:()=>{o(k)},size:t,label:B,useSubstackTheme:f,isDisabled:q}))),NA=({activeTab:r,commentCount:t,onClickTab:o,loadedWithHeaderLink:a,transcription:f,hideComments:L,showPlayers:k,feedUrl:U,pub:B,post:q})=>{const{iString:pe,iPlural:ge}=(0,A.M1)(),[Pe,Ee]=(0,n.eJ)(a);return(0,n.d4)(()=>{if(typeof window=="undefined"||Pe){Ee(!1);return}window.history.replaceState?window.history.replaceState(null,null,`#${r}`):window.location.hash=`#${r}`},[r]),(0,e.h)("div",{className:"tw-border tw-border-solid tw-border-pub-detail-light"},(0,e.h)("div",{className:"container tw-flex tw-justify-between tw-items-center"},(0,e.h)(LA,{items:[{key:"details",icon:(0,e.h)(Zg,{height:18}),label:pe("Episode details")},...L?[]:[{key:"comments",icon:({active:Me})=>(0,e.h)(gc.Z,{className:u()("tw-fill-transparent",Me?"tw-stroke-pub-primary-text":"tw-stroke-pub-secondary-text"),height:18,strokeWidth:1.5}),label:t===0?pe("Comments"):ge("%1 comment","%1 comments",t)}],...f?[{key:"transcription",icon:(0,e.h)(TA.Z,{height:18}),label:pe("Transcript")}]:[]],onSelect:o,activeTab:r}),k&&U&&(0,e.h)(Hd,{feedUrl:U,post:q,pub:B,icon:(0,e.h)(DA,{size:16}),fileSrc:q.podcast_url})))},xA=({children:r,href:t})=>(0,e.h)(e.Fragment,null,(0,e.h)("table",{cellSpacing:"0",cellPadding:"8",border:"0",width:"100%"},(0,e.h)("tr",null,(0,e.h)("td",{align:"center"},(0,e.h)("a",{href:t,className:"tw-font-sans tw-text-[13px] tw-font-semibold tw-text-error"},r))))),RA=({post:r,compAlreadyExpired:t=!1})=>{const o=`${Ir.Substitutions.CHECKOUT_URL}&utm_medium=email&utm_campaign=continue_your_support&utm_content=${r.id}`;return(0,e.h)("table",{width:"100%",cellSpacing:"0",cellPadding:"0",border:"0",className:"tw-bg-error-wash",bgcolor:"#FFFAFA"},(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})),(0,e.h)("tr",null,(0,e.h)("td",{align:"center",className:"tw-leading-5"},(0,e.h)("span",{className:"tw-font-sans tw-text-base tw-font-bold tw-text-error"},"Continue your support"),(0,e.h)("br",null),t?(0,e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Your free trial has ended!",(0,e.h)("br",null),"Continue your support to access paid-only content."):(0,e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Subscribe now to keep your paid status. You won't be",(0,e.h)("br",null),"charged until your free trial ends on ",Ir.Substitutions.SUBSCRIPTION_EXPIRY_DATE,"."))),(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})),(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(xA,{href:o},"Subscribe now"))),(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})))};var su=Ke(43498);const Ss={container:"frontend-components-CrossPostBlurb-module__container--U8kba",podcastContainer:"frontend-components-CrossPostBlurb-module__podcastContainer--w0Cjq",attribution:"frontend-components-CrossPostBlurb-module__attribution--EmzLg",icon:"frontend-components-CrossPostBlurb-module__icon--BXDY0",pub:"frontend-components-CrossPostBlurb-module__pub--NCtMB"};var BA=Object.defineProperty,UA=Object.defineProperties,kA=Object.getOwnPropertyDescriptors,Gg=Object.getOwnPropertySymbols,FA=Object.prototype.hasOwnProperty,WA=Object.prototype.propertyIsEnumerable,zg=(r,t,o)=>t in r?BA(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,jA=(r,t)=>{for(var o in t||(t={}))FA.call(t,o)&&zg(r,o,t[o]);if(Gg)for(var o of Gg(t))WA.call(t,o)&&zg(r,o,t[o]);return r},KA=(r,t)=>UA(r,kA(t));const HA=({postType:r,crossPostInfo:{introText:t,crossPostedPub:o,crossPostingByLine:a}})=>{const f=a[0];return(0,e.h)(de.tu,{className:u()(Ss.container,r==="podcast"&&Ss.podcastContainer),paddingLeft:16,gap:20,paddingTop:12,paddingBottom:20},(0,e.h)(de.hs,{className:Ss.attribution,gap:4,alignItems:"center"},(0,e.h)(su.Z,{className:Ss.icon,height:16})," ",(0,e.h)(M.xv.Meta,{translated:!0,color:"pub-accent"},"Cross-post from"," ",(0,e.h)("a",{className:Ss.pub,href:(0,G.getBaseUrl)(o)},I18N.p(o.name)))),(0,e.h)(M.xv.B2,{color:"pub-primary-text"},t," - ",(0,e.h)(Mc.default,KA(jA({},f),{type:"user",uuid:"",isStatic:!1,isEditorContext:!1}))))};var VA=Object.defineProperty,$A=Object.defineProperties,ZA=Object.getOwnPropertyDescriptors,Yg=Object.getOwnPropertySymbols,GA=Object.prototype.hasOwnProperty,zA=Object.prototype.propertyIsEnumerable,Jg=(r,t,o)=>t in r?VA(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,YA=(r,t)=>{for(var o in t||(t={}))GA.call(t,o)&&Jg(r,o,t[o]);if(Yg)for(var o of Yg(t))zA.call(t,o)&&Jg(r,o,t[o]);return r},JA=(r,t)=>$A(r,ZA(t));const Zd=r=>(0,e.h)(Je.l,JA(YA({},r),{name:"PodcastIcon",svgParams:{height:19,width:19}}),(0,e.h)("path",{d:"M10.1505 3H8.61291C6.06527 3 4 4.9401 4 7.33333V10","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M8.89246 3H10.4301C12.9778 3 15.043 4.9401 15.043 7.33333V10.5","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3 12.1429V13.3571C3 14.5406 3.81359 15.5 4.81721 15.5H6.42473V10H4.81721C3.81359 10 3 10.9594 3 12.1429Z","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16 12.1429V13.3571C16 14.5406 15.1864 15.5 14.1828 15.5H12.5753V10H14.1828C15.1864 10 16 10.9594 16 12.1429Z","stroke-linejoin":"round"}));var XA=Object.defineProperty,QA=Object.defineProperties,qA=Object.getOwnPropertyDescriptors,lu=Object.getOwnPropertySymbols,Xg=Object.prototype.hasOwnProperty,Qg=Object.prototype.propertyIsEnumerable,qg=(r,t,o)=>t in r?XA(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,e6=(r,t)=>{for(var o in t||(t={}))Xg.call(t,o)&&qg(r,o,t[o]);if(lu)for(var o of lu(t))Qg.call(t,o)&&qg(r,o,t[o]);return r},t6=(r,t)=>QA(r,qA(t)),n6=(r,t)=>{var o={};for(var a in r)Xg.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&lu)for(var a of lu(r))t.indexOf(a)<0&&Qg.call(r,a)&&(o[a]=r[a]);return o};const Gd=r=>{var t=r,{stroke:o="black"}=t,a=n6(t,["stroke"]);return(0,e.h)(Je.l,t6(e6({},a),{name:"ThreadIcon",svgParams:{height:19,width:19}}),(0,e.h)("path",{d:"M10.4286 3H8.57143C5.49441 3 3 5.49441 3 8.57143C3 10.2355 4.16477 12.1934 5.32143 13.2143V16L11.3571 14.1429C14.6071 13.067 16 10.9973 16 8.57143C16 5.49441 13.5056 3 10.4286 3Z",stroke:o,"stroke-linejoin":"round"}))};var r6=Object.defineProperty,o6=Object.defineProperties,a6=Object.getOwnPropertyDescriptors,uu=Object.getOwnPropertySymbols,ev=Object.prototype.hasOwnProperty,tv=Object.prototype.propertyIsEnumerable,nv=(r,t,o)=>t in r?r6(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,i6=(r,t)=>{for(var o in t||(t={}))ev.call(t,o)&&nv(r,o,t[o]);if(uu)for(var o of uu(t))tv.call(t,o)&&nv(r,o,t[o]);return r},s6=(r,t)=>o6(r,a6(t)),l6=(r,t)=>{var o={};for(var a in r)ev.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&uu)for(var a of uu(r))t.indexOf(a)<0&&tv.call(r,a)&&(o[a]=r[a]);return o};const rv=r=>{var t=r,{stroke:o="black",height:a=19,width:f=19}=t,L=l6(t,["stroke","height","width"]);return(0,e.h)(Je.l,s6(i6({},L),{name:"VideoIcon",svgParams:{height:a,width:f,viewBox:"2 2 15 15"}}),(0,e.h)("g",{fill:"transparent"},(0,e.h)("path",{d:"M15.5 15H3.5V4H15.5V15Z",stroke:o,"stroke-linejoin":"round"}),(0,e.h)("path",{d:"M11.5 11L8.5 9V12.5L11.5 11Z",stroke:o,"stroke-linejoin":"round"}),(0,e.h)("path",{d:"M4 7H15",stroke:o}),(0,e.h)("path",{d:"M4.5 4L7.5 7",stroke:o}),(0,e.h)("path",{d:"M8 4L11 7",stroke:o}),(0,e.h)("path",{d:"M11.5 4L14.5 7",stroke:o})))};var zd=Ke(50615),u6=Ke(12297),c6=Ke.n(u6),d6=Object.defineProperty,f6=Object.defineProperties,p6=Object.getOwnPropertyDescriptors,ov=Object.getOwnPropertySymbols,h6=Object.prototype.hasOwnProperty,m6=Object.prototype.propertyIsEnumerable,av=(r,t,o)=>t in r?d6(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,_6=(r,t)=>{for(var o in t||(t={}))h6.call(t,o)&&av(r,o,t[o]);if(ov)for(var o of ov(t))m6.call(t,o)&&av(r,o,t[o]);return r},g6=(r,t)=>f6(r,p6(t));const iv=r=>(0,e.h)(Je.l,g6(_6({},r),{name:"EmailIcon",svgParams:{height:25,width:25,strokeWidth:0,fill:"#000Z"}}),(0,e.h)("g",null,(0,e.h)("path",{d:"M22.93,7a2.43,2.43,0,0,0-.41-.93A2.61,2.61,0,0,0,20.39,5H4.61A2.61,2.61,0,0,0,2.48,6.1,2.43,2.43,0,0,0,2.07,7h0A2.78,2.78,0,0,0,2,7.61v9.78A2.61,2.61,0,0,0,4.61,20H20.39A2.61,2.61,0,0,0,23,17.39V7.61A2.25,2.25,0,0,0,22.93,7ZM4.61,6H20.39a1.58,1.58,0,0,1,1.26.62l-8.91,5.31a.49.49,0,0,1-.47,0L3.35,6.62A1.58,1.58,0,0,1,4.61,6ZM22,17.39A1.61,1.61,0,0,1,20.39,19H4.61A1.61,1.61,0,0,1,3,17.39V7.58l8.77,5.22a1.48,1.48,0,0,0,1.47,0L22,7.58Z"})));var v6=Object.defineProperty,y6=Object.defineProperties,P6=Object.getOwnPropertyDescriptors,cu=Object.getOwnPropertySymbols,sv=Object.prototype.hasOwnProperty,lv=Object.prototype.propertyIsEnumerable,uv=(r,t,o)=>t in r?v6(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,b6=(r,t)=>{for(var o in t||(t={}))sv.call(t,o)&&uv(r,o,t[o]);if(cu)for(var o of cu(t))lv.call(t,o)&&uv(r,o,t[o]);return r},E6=(r,t)=>y6(r,P6(t)),O6=(r,t)=>{var o={};for(var a in r)sv.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&cu)for(var a of cu(r))t.indexOf(a)<0&&lv.call(r,a)&&(o[a]=r[a]);return o};const C6=r=>{var t=r,{color:o="#B6B6B6",height:a=18}=t,f=O6(t,["color","height"]);return(0,e.h)(Je.l,E6(b6({},f),{height:a,name:"LockFullIcon",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("rect",{x:"5.5",y:"2.5",width:"7",height:"13",rx:"3.5",stroke:o,fill:"none"}),(0,e.h)("rect",{x:"3.5",y:"8.5",width:"11",height:"8",rx:"0.5",fill:o,stroke:o}))};var w6=Ke(15440);const cv=(0,mn.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var S6=Object.defineProperty,I6=Object.defineProperties,T6=Object.getOwnPropertyDescriptors,dv=Object.getOwnPropertySymbols,D6=Object.prototype.hasOwnProperty,M6=Object.prototype.propertyIsEnumerable,fv=(r,t,o)=>t in r?S6(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,A6=(r,t)=>{for(var o in t||(t={}))D6.call(t,o)&&fv(r,o,t[o]);if(dv)for(var o of dv(t))M6.call(t,o)&&fv(r,o,t[o]);return r},L6=(r,t)=>I6(r,T6(t));const N6=r=>(0,e.h)(Je.l,L6(A6({},r),{name:"LucideRecommend",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(cv,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));var x6=Ke(11762);class R6 extends e.Component{onShare(t){this.props.position&&(0,P.j)(P.FP.POST_SHARE_BUTTON_CLICKED,{position:this.props.position}),!this.props.isStatic&&(t&&t.stopPropagation(),this.props.sharedShareDialog?t.target.dispatchEvent(new CustomEvent("share-post",{bubbles:!0})):this.modal.open())}render({className:t,linkClassName:o,user:a,pub:f,post:L,reaction_token:k,height:U,onChange:B,isStatic:q,children:pe,sharedShareDialog:ge,noIcon:Pe}){let Ee;return L.share_url_override?Ee=L.share_url_override:q?L?Ee=Ir.Substitutions.SHARE_URL:Ee=Ir.Substitutions.SHARE_PUB_URL:Ee="javascript:void(0)",(0,e.h)("span",{className:t},(0,e.h)("a",{href:Ee,onClick:Me=>this.onShare(Me),className:o},!Pe&&(0,e.h)(Ud.Z,{className:"recommend-icon post-meta-icon",isStatic:q,height:U,alt:"Share",stroke:"#757575",fill:"transparent",strokeWidth:q?1:1.5}),pe),!q&&!ge&&(0,e.h)(Ha.ZP,{ref:Me=>this.modal=Me,user:a,pub:f,post:L,reaction_token:k,onChange:B}))}}const B6=({children:r,content:t,baseRef:o=void 0,portalClass:a="",className:f="",style:L=void 0})=>{const k=(0,n.sO)(null),U=(0,n.sO)(null);return t?(0,e.h)("div",{ref:k,className:f,style:L},r,(0,e.h)(R0,{baseRef:o||k,hoverToggle:!0,onOpen:()=>{var B;return(B=U.current)==null?void 0:B.open()},onClose:()=>{var B;return(B=U.current)==null?void 0:B.close()},className:a},(0,e.h)(bo.Fx,{ref:U,noList:!0,className:"explanation"},t))):r};var U6=Ke(73413),k6=Object.defineProperty,F6=Object.defineProperties,W6=Object.getOwnPropertyDescriptors,pv=Object.getOwnPropertySymbols,j6=Object.prototype.hasOwnProperty,K6=Object.prototype.propertyIsEnumerable,Yd=(r,t,o)=>t in r?k6(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Jd=(r,t)=>{for(var o in t||(t={}))j6.call(t,o)&&Yd(r,o,t[o]);if(pv)for(var o of pv(t))K6.call(t,o)&&Yd(r,o,t[o]);return r},hv=(r,t)=>F6(r,W6(t)),H6=(r,t,o)=>(Yd(r,typeof t!="symbol"?t+"":t,o),o);const{getPaidOrFoundingTierNameForPost:V6}=Ke(6378),$6=46438;class Z6 extends e.Component{constructor(t,o){if(super(t,o),H6(this,"withAuthorLine",(a,f)=>{const{pub:L,post:k,showAuthor:U,showPhoto:B}=a,q=k.type==="adhoc_email",pe=(0,Ne.getBylineUsers)(k).length,ge=pe===1,Pe=ge&&(0,Ne.getBylineUsers)(k)[0],Ee=ge&&Pe.is_guest&&!(0,Mr.default)("dont_show_guest_byline")&&!q,Me=a.showDate||a.showDatetime,De=!k.is_published&&!a.inThreadHead&&Me&&!q,Ue=a.isFreePreview&&a.showAudience&&Me&&!q,Fe=(0,dn.isFoundingAudience)(k.audience)&&a.showAudience&&!Ue&&Me&&!q,Ye=(0,dn.isPaidAudience)(k.audience)&&a.showAudience&&!Fe&&!Ue&&Me&&!q,st=(0,qn.F6)({pub:L,post:k,showAuthor:U,showPhoto:B});return(0,e.h)(Rn.YF,{width:"100%",className:u()("post-meta")},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(Rn.i$,null,(0,e.h)(Rn.zK,{gap:4},(0,e.h)(M.xv.Meta,{color:"primary",className:tm.A.postAuthor},pe>0?(0,Ne.oxfordComma)((0,Ne.getBylineUsers)(k).map(nt=>(0,e.h)(M.xv.Meta,{as:"a",href:(0,g.getProfileUrl)(nt,L,{base:a.isStatic}),color:"primary",style:"text-decoration: none"},nt.name))):(0,Ne.getPrintedByline)(L,k))),(0,e.h)(Rn.zK,{gap:4},(0,e.h)(M.xv.Meta,null,(a.showDate||a.showDatetime)&&k.post_date&&(0,e.h)("time",{dateTime:sn()(k.post_date).toISOString()},sn()(k.post_date).standardDate())),Ye&&(0,e.h)(Rn.zK,{gap:4},(0,e.h)(M.xv.Meta,null,"\u2219"),(0,e.h)(M.xv.Meta,{color:"accent-purple"},"Paid")),Fe&&(0,e.h)(Rn.zK,{gap:4},(0,e.h)(M.xv.Meta,null,"\u2219"),(0,e.h)(M.xv.Meta,{color:"accent-purple"},V6(L,k))),Ue&&(0,e.h)(Rn.zK,{gap:4},(0,e.h)(M.xv.Meta,null,"\u2219"),(0,e.h)(M.xv.Meta,{color:"accent-purple"},"Preview")),Ee&&(0,e.h)(Rn.zK,{gap:4},(0,e.h)(M.xv.Meta,null,"\u2219"),(0,e.h)(M.xv.Meta,null,"Guest post")),De&&(0,e.h)(Rn.zK,{gap:4},(0,e.h)(M.xv.Meta,null,"\u2219"),(0,e.h)(M.xv.Meta,null,"Draft"))))),st&&(0,e.h)("td",{align:"right"},(0,e.h)(Rn.zK,{gap:4},pe>0&&(0,Ne.getBylineUsers)(k).map((nt,at)=>at<4&&(0,e.h)("a",{href:(0,g.getProfileUrl)(nt,L,{base:a.isStatic})},(0,e.h)(Rn.NS,{src:nt.photo_url,size:pe>1?32:40})))))))}),typeof window!="undefined"&&(window!=null&&window.matchMedia)){const a=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:a.matches};const f=L=>{this.unmounted||this.setState({isMobileWidth:L.matches})};a.addEventListener?a.addEventListener("change",f):a.addListener&&a.addListener(f)}}componentWillUnmount(){this.unmounted=!0}render({pub:t,post:o,showAuthor:a,showPhoto:f,fromPostPage:L}){return(0,qn.F6)({pub:t,post:o,showAuthor:a,showPhoto:f})||(0,qn.Cz)({pub:t,post:o,showAuthor:a})||(0,qn.z5)({pub:t,post:o,showAuthor:a})?this.withAuthorLine(this.props,this.state):(0,e.h)(z6,hv(Jd({},this.props),{editOnRightSide:this.props.showUpdatedIcons,className:this.props.showUpdatedIcons?"alternative-meta":this.props.className,isMobileWidth:this.state.isMobileWidth,actionBarStyle:L?"post-header-compact":"post-preview"}))}}const G6=({shouldShowFullWidthUfi:r,isMobileWidth:t,children:o})=>r?h(FlexColumn,{style:{width:"100%"},gap:{desktop:16,mobile:0}},o):t?o:h(FlexRow,{style:{width:"100%"},justifyContent:"space-between",direction:"row-reverse"},o),lj=({additionalCommentCount:r,user:t,pub:o,post:a,showReactions:f,showComments:L,reaction_token:k,onChange:U,shareTooltipText:B,fromPostPage:q,onClickCommentButton:pe,reactors:ge,isStatic:Pe,base_url:Ee,className:Me,showShare:De})=>{f=f&&o.community_enabled&&a.slug&&!a.is_draft;const Ue=useMediaQuery({maxWidth:540}),{getSettingFor:Fe}=usePublicationSettings(),Ye=!Pe&&(a==null?void 0:a.id)&&o.community_enabled&&!a.is_draft&&a.slug,st=sum(Object.values((a==null?void 0:a.reactions)||{})),nt=Ye&&!!st&&f,at=!a.is_draft&&canPostBeRestacked(t,{enable_restacking:!!Fe("enable_restacking")},a,o,!1),yt=at;return h(G6,{shouldShowFullWidthUfi:yt,isMobileWidth:Ue},h(PostUfi,{style:"button",post:a,pub:o,user:t,postReactionToken:k,hideReactions:!f||Ue&&at,hideComments:!L||Ue&&at,hideSavePost:Ue&&at,hideShare:!De||Ue&&at,useShareLabel:Ue&&!yt,labelStyle:Ue&&!yt?"labels":"counts-or-none",onChange:U,additionalCommentCount:r,showShare:De,onCommentsClick:pe,position:yt?"post-footer-full-width":"post-footer",showRestackButton:at}),nt&&h(Fragment,null,(yt||Ue)&&h("hr",{className:"footer-facepile-separator"}),h("div",{className:"footer-facepile-container"},h(Xd,{postId:a.id,totalLikes:st,reactors:Ei(ge,t,!!a.reaction,o),loading:!ge,hoverProfiles:!0,enableModal:!0,showFaces:o.post_reaction_faces_enabled}))))};function mv({pub:r,post:t,user:o,reactors:a,secondaryFaces:f}){var L;return(0,e.h)(Xd,{postId:t.id,totalLikes:Math.max((L=t.reactions["\u2764"])!=null?L:0,(a!=null?a:[]).length),reactors:Ei(a,o,!!t.reaction,r),secondaryFaces:Ei(f,o,!!t.restacked,r),totalRestacks:t.restacks||0,loading:!a,hoverProfiles:!0,enableModal:!0,showFaces:r.post_reaction_faces_enabled})}function uj(r){const{post:t,user:o,pub:a}=r,{result:f,isLoading:L}=useFetch({pathname:`/api/v1/post/${t.id}/reactors`,auto:!0,deps:[t.id]}),{result:k,isLoading:U}=useFetch({pathname:`/api/v1/post/${t.id}/restackers`,auto:!0,deps:[t.id]});return h(mv,Jd({reactors:Ei(f,o,!!t.reaction,a),secondaryFaces:Ei(k,o,!!t.restacked,a)},r))}function Ei(r,t,o,a){if(!r)return[];if(t){const f=r.findIndex(L=>L.id===t.id);o&&(t.subscription_visibility!=="private"||a.id===$6)&&t.activity_likes_enabled&&f<0?r.splice(0,0,{id:t.id,name:t.name,photo_url:t.photo_url}):!o&&f>=0&&r.splice(f,1)}return r}function z6({additionalCommentCount:r=0,className:t,user:o,pub:a,post:f,showAudience:L=!1,showDate:k=!1,showEmailSent:U=!1,showDatetime:B=!1,showReactions:q=!0,showComments:pe=!0,showShare:ge=!1,showRestack:Pe=!1,showPublicationName:Ee=!1,hidePinning:Me=!1,reaction_token:De,onClick:Ue,onChange:Fe,isStatic:Ye=!1,isFreePreview:st=!1,allowSendEmail:nt=!1,allowEdit:at=!1,shareTooltipText:yt,showPins:Et,sharedShareDialog:Ct,showUpdatedIcons:It,editOnRightSide:Tt=!1,onClickCommentButton:Rt,reactors:wt,showAuthor:Qt,showPhoto:jt,fromPostPage:qt,isMobileWidth:ln,actionBarStyle:Bt="post-header-compact"}){var zt;const on=a.id===f.publication_id?a:void 0,Yt=Ei(wt,o,!!f.reaction,a),Zt=Bt==="post-footer",xt=Zt?20:Bt==="post-preview"?14:18,Dt=Bt==="post-header-large"?20:Bt==="post-preview"?16:Bt==="thread-head"||Zt?14:18;let kt;f.comment_url_override?kt=f.comment_url_override:Ye?kt=`${Ir.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`:kt=(0,g.getPostUrl)(a,f,{comments:!0});const Gt=r+((zt=f.comment_count)!=null?zt:0),mt=pe&&!st&&(0,Ne.showCommentsOnPost)({publication:a,post:f})&&f.type!=="restack",hn=q&&!st&&!["adhoc_email","restack"].includes(f.type),Xt=(k||B)&&f.post_date&&!f.is_draft,vn=U?!!f.email_sent_at:null,Nn=(0,Sp.S)({user:o,noBase:!1}),jn=Pn=>{var un;(un=Pn.post)!=null&&un.reaction&&o&&Nn({user:o}),Fe(Pn)},En=(0,e.h)(Va.dJ,{user:o,pub:a,post:f,token:De,onChange:jn,height:Dt,isStatic:Ye,isFreePreview:st,alt:"Like",buttonStyle:Zt,className:"post-meta-icon like-reaction-button",hideReactionCount:Zt&&!Ye}),Un=[U&&vn&&{className:"email-sent",title:"This post was sent as an email",content:(0,e.h)(iv,{className:"post-meta-icon",height:xt,isStatic:Ye})},Et&&f.is_section_pinned&&{className:"icon pinned",content:(0,e.h)(x6.Z,{className:"post-meta-icon",isStatic:Ye})},f.type==="adhoc_email"?{className:"audience-adhoc",content:(0,e.h)(Sg,{className:"post-meta-icon",isStatic:Ye})}:L&&(0,dn.isPaidAudience)(f.audience)&&{className:"audience-lock",content:(0,e.h)(C6,{color:"#666666",height:xt,isStatic:Ye})},(0,qn.Er)({pub:a,post:f,showAuthor:Qt,showPhoto:jt,isMobileWidth:ln})&&{className:"author",content:(0,Ne.getBylineUsers)(f).length>0?(0,Ne.oxfordComma)((0,Ne.getBylineUsers)(f).map(Pn=>(0,e.h)(mo.Ct,{disabled:Ye,subject:Pn,utmSource:"byline"},(0,e.h)("a",{href:(0,g.getProfileUrl)(Pn,a,{base:Ye}),onClick:un=>un.stopPropagation()},Pn.name)))):(0,Ne.getPrintedByline)(a,f)},Ee&&{className:"post-publication-name",content:a.name},It&&!Tt&&at&&!Ye&&o&&o.is_contributor&&{className:"post-meta-item icon edit-icon",onClick:Pn=>Pn.stopPropagation(),content:(0,e.h)(zd.l,{pub:a,post:f,iconHeight:xt,hidePinning:Me,user:o,emailSent:vn,allowSendEmail:nt,showUpdatedIcons:It})},Xt&&{className:"post-date",title:sn()(f.post_date).toISOString(),content:(0,e.h)(M.xv.Meta,null,(0,e.h)("time",{dateTime:sn()(f.post_date).toISOString()},(0,qn.fh)({post:f,showDatetime:B,isStatic:Ye,fromPostPage:qt,showReactions:hn})))},(on==null?void 0:on.community_enabled)&&f.slug&&hn&&!f.is_draft&&{className:"icon",onClick:Pn=>Pn.stopPropagation(),content:!Zt&&!Ye&&Yt.length?(0,e.h)(B6,{portalClass:"facepile-tooltip",content:(0,e.h)(Xd,{postId:f.id,totalLikes:c6()(Object.values(f.reactions)),reactors:Yt,loading:!wt})},En):En},o&&{className:"icon",onClick:Pn=>Pn.stopPropagation(),content:(0,e.h)(Y6,{post:f,isPostFooter:Zt,isStatic:Ye,lucideIconHeight:Dt,onChange:Fe})},(on==null?void 0:on.community_enabled)&&f.slug&&mt&&!f.is_draft&&{className:"icon",onClick:Pn=>Pn.stopPropagation(),content:(0,e.h)("a",{className:Zt?"post-meta-button button":"",href:kt,native:on&&(0,g.isPublishPath)(document.location.pathname,on),onClick:Rt},(0,e.h)(gc.Z,{className:"comment-icon post-meta-icon",isStatic:Ye,height:Dt,alt:"Comment",stroke:"#757575",fill:"transparent",strokeWidth:Ye?1:1.5,ampProps:{layout:"fixed"}}),!Gt&&Zt&&(0,e.h)("span",{className:"meta-button-label"},"Comment"),Gt>0&&(0,e.h)("span",{className:"comment-count"},(0,Ne.numberToString)(Gt)))},Pe&&!Zt&&{className:"icon",onClick:Pn=>Pn.stopPropagation(),content:(0,e.h)("a",{href:Ir.Substitutions.RESTACK_URL,className:Zt?"button post-meta-button":void 0},(0,e.h)(N6,{className:"recommend-icon post-meta-icon",isStatic:Ye,height:Dt,alt:"Recommend",stroke:"#757575",fill:"transparent",strokeWidth:Ye?1:1.5,ampProps:{layout:"fixed"}}),Zt&&(0,e.h)("span",{className:"meta-button-label"},"Recommend"))},ge&&f.audience!=="only_free"&&!f.is_draft&&!st&&{className:"icon",onClick:Pn=>Pn.stopPropagation(),content:(0,e.h)(R6,{user:o,pub:on,post:f,reaction_token:De,height:Dt,onChange:Fe,isStatic:Ye,sharedShareDialog:Ct,position:Bt==="post-footer"?"post-footer":"post-header",linkClassName:Zt?"button post-meta-button":void 0},Zt&&(0,e.h)("span",{className:"meta-button-label"},"Share"),yt&&(0,e.h)("div",{className:"share-tooltip-wrap"},(0,e.h)("div",{className:"share-tooltip"},yt)))},(!It||Tt)&&at&&!Ye&&o&&o.is_contributor&&{className:"icon edit-icon",onClick:Pn=>Pn.stopPropagation(),content:(0,e.h)(zd.l,{pub:a,post:f,iconHeight:xt,hidePinning:Me,user:o,emailSent:vn,allowSendEmail:nt,showUpdatedIcons:It})}].filter(Pn=>!!Pn);return Ye?(0,e.h)("table",{className:u()("post-meta custom",{big:Zt},t),cellpadding:"0",cellspacing:"0",onClick:Ue},(0,e.h)("tr",null,Un.map(({className:Pn,title:un,onClick:In,content:Mn})=>(0,e.h)("td",{className:u()("post-meta-item",Pn),title:un,onClick:In},Mn)))):(0,e.h)("div",{className:u()("post-meta post-meta-actions-web custom",{big:Zt},t),onClick:Ue},Un.map(({className:Pn,title:un,onClick:In,content:Mn})=>(0,e.h)("div",{className:u()("post-meta-item",Pn),title:un,onClick:In},Mn)))}function Xd({className:r,postId:t,reactors:o,secondaryFaces:a,totalLikes:f,totalRestacks:L,loading:k,hoverProfiles:U,enableModal:B,showFaces:q}){const pe=f>0?(0,Ne.pluralize)(f,"Like"):"";let ge="";return L>0&&(ge=`${(0,Ne.pluralize)(L,"Restack")}`),(0,e.h)(gs.ZP,{className:r,loading:k,faces:o,secondaryFaces:a,pileLabel:pe,modalLabel:pe,secondaryLabel:ge,secondaryHref:(0,og.getFeedPostRestacksUrl)(t,{noBase:U6.L,urlParams:{utm_source:"substack",utm_content:"facepile-restacks"}}),totalCount:f,totalRestacks:L,hoverProfiles:U,enableModal:B,faceUtmSource:"post-reactions-face",detailUtmSource:"post-reactions-modal",onDialogOpen:()=>{(0,P.j)(P.FP.POST_REACTIONS_MODAL_VIEWED,{post_id:t})},showFaces:q})}function Y6({post:r,isPostFooter:t,isStatic:o,isSaved:a,lucideIconHeight:f,onChange:L}){const{onSave:k,isSaved:U}=(0,qn.vk)({post:r,isSaved:r.is_saved}),B=()=>{const q=k();L({post:hv(Jd({},r),{is_saved:q})})};return(0,e.h)("a",{className:u()("post-meta-save-button",t?"post-meta-button button":"",{isSaved:U}),href:o&&Ir.Substitutions.SAVE_POST_URL,onClick:B},(0,e.h)(w6.Z,{isStatic:o,height:f,stroke:"#757575",strokeWidth:o?1:1.5}),t&&(0,e.h)("span",{className:"meta-button-label"},"Save"))}const J6=(0,mn.Z)("ArrowLeft",[["line",{x1:"19",x2:"5",y1:"12",y2:"12",key:"9fu2vq"}],["polyline",{points:"12 19 5 12 12 5",key:"1ksm0z"}]]);var X6=Object.defineProperty,Q6=Object.defineProperties,q6=Object.getOwnPropertyDescriptors,_v=Object.getOwnPropertySymbols,e8=Object.prototype.hasOwnProperty,t8=Object.prototype.propertyIsEnumerable,gv=(r,t,o)=>t in r?X6(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,n8=(r,t)=>{for(var o in t||(t={}))e8.call(t,o)&&gv(r,o,t[o]);if(_v)for(var o of _v(t))t8.call(t,o)&&gv(r,o,t[o]);return r},r8=(r,t)=>Q6(r,q6(t));const o8=r=>(0,e.h)(Je.l,r8(n8({},r),{name:"LudiceArrowLeft",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(J6,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));var a8=Object.defineProperty,i8=Object.defineProperties,s8=Object.getOwnPropertyDescriptors,vv=Object.getOwnPropertySymbols,l8=Object.prototype.hasOwnProperty,u8=Object.prototype.propertyIsEnumerable,yv=(r,t,o)=>t in r?a8(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,c8=(r,t)=>{for(var o in t||(t={}))l8.call(t,o)&&yv(r,o,t[o]);if(vv)for(var o of vv(t))u8.call(t,o)&&yv(r,o,t[o]);return r},d8=(r,t)=>i8(r,s8(t));const f8=r=>(0,e.h)(Je.l,d8(c8({},r),{name:"LucideArrowRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(zh,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth})),Pv=({post:r})=>{const t=(0,it.So)().getSettingFor("enable_prev_next_nav"),o=(0,gn.XA)(),{iString:a}=(0,A.M1)();return!t||!(r!=null&&r.previous_post_slug)&&!(r!=null&&r.next_post_slug)?null:(0,e.h)("div",{className:"post-footer use-separators post-ufi themed next-prev"},(0,e.h)("div",null,r.previous_post_slug&&(0,e.h)(qn.Ng,{icon:(0,e.h)(o8,{className:"icon",strokeWidth:1.5,height:20}),noLabel:!1,style:"button",noBorder:o,onClick:()=>{(0,P.j)(P.FP.PREVIOUS_POST_LINK_CLICKED,{post_id:r.id}),(0,y.route)(`/p/${r.previous_post_slug}`)}},(0,e.h)("div",{className:"tw-flex tw-items-center"},a("Previous")))),(0,e.h)("div",null,r.next_post_slug&&(0,e.h)(qn.Ng,{icon:(0,e.h)(f8,{className:"icon",strokeWidth:1.5,height:20}),iconPosition:"right",noLabel:!1,style:"button",noBorder:o,onClick:()=>{(0,P.j)(P.FP.NEXT_POST_LINK_CLICKED,{post_id:r.id}),(0,y.route)(`/p/${r.next_post_slug}`)}},(0,e.h)("div",{className:"tw-flex tw-items-center"},a("Next")))))};var p8=Object.defineProperty,h8=Object.defineProperties,m8=Object.getOwnPropertyDescriptors,du=Object.getOwnPropertySymbols,bv=Object.prototype.hasOwnProperty,Ev=Object.prototype.propertyIsEnumerable,Ov=(r,t,o)=>t in r?p8(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,_8=(r,t)=>{for(var o in t||(t={}))bv.call(t,o)&&Ov(r,o,t[o]);if(du)for(var o of du(t))Ev.call(t,o)&&Ov(r,o,t[o]);return r},g8=(r,t)=>h8(r,m8(t)),v8=(r,t)=>{var o={};for(var a in r)bv.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&du)for(var a of du(r))t.indexOf(a)<0&&Ev.call(r,a)&&(o[a]=r[a]);return o};const y8=r=>{var t=r,{stroke:o="black",height:a=19,width:f=19}=t,L=v8(t,["stroke","height","width"]);return(0,e.h)(Je.l,g8(_8({},L),{name:"AdhocEmailIcon",svgParams:{height:a,width:f,viewBox:"0 0 19 19"}}),(0,e.h)("path",{d:"M3 4C3 3.72386 3.22386 3.5 3.5 3.5H13C13.2761 3.5 13.5 3.72386 13.5 4V12.5C13.5 12.7761 13.2761 13 13 13H3.5C3.22386 13 3 12.7761 3 12.5V4Z",stroke:o}),(0,e.h)("path",{d:"M3.5 4L8.25 9.02499L13 4",stroke:o,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M5 13.5V15C5 15.2761 5.22386 15.5 5.5 15.5H15.3151C15.5913 15.5 15.8151 15.2761 15.8151 15V7C15.8151 6.72386 15.5913 6.5 15.3151 6.5H14",stroke:o}))};var P8=Object.defineProperty,b8=Object.defineProperties,E8=Object.getOwnPropertyDescriptors,fu=Object.getOwnPropertySymbols,Cv=Object.prototype.hasOwnProperty,wv=Object.prototype.propertyIsEnumerable,Sv=(r,t,o)=>t in r?P8(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,O8=(r,t)=>{for(var o in t||(t={}))Cv.call(t,o)&&Sv(r,o,t[o]);if(fu)for(var o of fu(t))wv.call(t,o)&&Sv(r,o,t[o]);return r},C8=(r,t)=>b8(r,E8(t)),w8=(r,t)=>{var o={};for(var a in r)Cv.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&fu)for(var a of fu(r))t.indexOf(a)<0&&wv.call(r,a)&&(o[a]=r[a]);return o};const S8=r=>{var t=r,{stroke:o="black",height:a=19,width:f=19}=t,L=w8(t,["stroke","height","width"]);return(0,e.h)(Je.l,C8(O8({},L),{name:"NewsletterIcon",svgParams:{height:a,width:f,viewBox:"0 0 19 19"}}),(0,e.h)("path",{d:"M3.5 3.5H15.5",stroke:o,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 7.5H15.5",stroke:o,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 11.5H15.5",stroke:o,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 15.5H12",stroke:o,"stroke-linecap":"round","stroke-linejoin":"round"}))};var I8=Object.defineProperty,pu=Object.getOwnPropertySymbols,Iv=Object.prototype.hasOwnProperty,Tv=Object.prototype.propertyIsEnumerable,Dv=(r,t,o)=>t in r?I8(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Oi=(r,t)=>{for(var o in t||(t={}))Iv.call(t,o)&&Dv(r,o,t[o]);if(pu)for(var o of pu(t))Tv.call(t,o)&&Dv(r,o,t[o]);return r},T8=(r,t)=>{var o={};for(var a in r)Iv.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&pu)for(var a of pu(r))t.indexOf(a)<0&&Tv.call(r,a)&&(o[a]=r[a]);return o};const D8=r=>{var t=r,{postType:o}=t,a=T8(t,["postType"]);switch(o){case"newsletter":return(0,e.h)(S8,Oi({},a));case"adhoc_email":return(0,e.h)(y8,Oi({},a));case"thread":return(0,e.h)(Gd,Oi({},a));case"podcast":return(0,e.h)(Zd,Oi({},a));case"video":return(0,e.h)(rv,Oi({},a));case"restack":return(0,e.h)(su.Z,Oi({},a));default:return console.warn(`Unrecognized post type: [${o}]`),null}};var M8=Object.defineProperty,Mv=Object.getOwnPropertySymbols,A8=Object.prototype.hasOwnProperty,L8=Object.prototype.propertyIsEnumerable,Av=(r,t,o)=>t in r?M8(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Lv=(r,t)=>{for(var o in t||(t={}))A8.call(t,o)&&Av(r,o,t[o]);if(Mv)for(var o of Mv(t))L8.call(t,o)&&Av(r,o,t[o]);return r},N8=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const hu=500,x8={PUBLICATION:"publication",CHOOSE:"choose"},R8=({pubToRecommendBack:r,recommendingPub:t,recommendedPubs:o,setStep:a,close:f,setLoading:L,source:k})=>{const{iString:U,iTemplate:B}=(0,A.M1)(),[q,pe]=(0,n.eJ)(null);(0,n.d4)(()=>{var Pe;q==null&&(o!=null&&o.find(({id:Ee})=>Ee===r.id))&&pe((Pe=o==null?void 0:o.find(({id:Ee})=>Ee===r.id))==null?void 0:Pe.blurb)},[q,o,r.id]);const ge=(0,Ne.getByLine)(r);return(0,e.h)("div",{className:"add-recommending-pub-modal-container"},(0,e.h)(la.Z,{pub:r,logo_url:r.logo_url,size:84}),(0,e.h)("h2",null,B`Recommend ${r.name}`),r.hero_text&&(0,e.h)("p",{className:"pub-hero-text"},r.hero_text),(0,e.h)("p",{className:"pub-author-subs"},ge?B`By ${ge}`:null,ge&&r.rankingDetail?"\xA0\xA0\xB7\xA0\xA0":null,r.rankingDetail),(0,e.h)("p",{className:"why-recommend"},B`Why are you recommending ${r.name}? (optional)`),(0,e.h)("textarea",Lv({placeholder:U("Share why your readers might enjoy it..."),onChange:Pe=>{pe(Pe.target.value)},value:q},S0.J)),(0,e.h)("div",{className:"footer"},(0,e.h)("p",{className:"learn-more"},U("Recommendations are shown to readers after they subscribe to your publication.")," ",(0,e.h)("a",{href:"https://support.substack.com/hc/en-us/articles/5036794583828-How-can-I-recommend-other-publications-on-Substack-",onClick:()=>{(0,P.j)(P.FP.MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED,{source:"modal-recommend-pub"})}},(0,e.h)("u",null,U("Learn more")))),(0,e.h)("button",{className:u()("continue-button button primary",{disabled:((q==null?void 0:q.length)||0)>hu}),disabled:((q==null?void 0:q.length)||0)>hu,title:((q==null?void 0:q.length)||0)>hu?B`Please enter a description shorter than ${hu} characters`:"",onClick:()=>N8(void 0,null,function*(){yield et().put("/api/v1/recommendations").send(Lv({recommended_publication_id:r.id,recommending_publication_id:t.id,source:k||"recommendation_notification_email",suggested:!1},!!q&&{description:q.length>=2?q:null})),o!=null&&o.filter(({id:Pe})=>Pe!==r.id).length?f():a(x8.CHOOSE),L?(L(!0),f()):((0,i.redirect)("/publish/settings/recommendations"),(0,aa.ZP)(B`Started recommending ${r.name}`,{timeout:1500}))})},U("Continue"))))};var B8=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const U8=({pub:r})=>{const[t,o]=(0,n.eJ)(!0),[a,f]=(0,n.eJ)(null),[L,k]=(0,n.eJ)(!1),U=(0,n.sO)(null),B=()=>{U.current.close()};if((0,n.d4)(()=>{!a&&t&&(()=>B8(void 0,null,function*(){try{const ge=(yield et().get("/api/v1/publication_user/default")).body;if(f(ge),!ge||ge.id===r.id){k(!0),o(!1);return}const Pe=yield et().get(`/api/v1/recommendations/from/${ge.id}/to/${r.id}`);k(!!Pe.body),o(!1)}catch(pe){console.error("Failed to load recommend cta: ",pe)}}))()},[r,t,o,a,f]),!(t||L||a&&a.invite_only))return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"end-of-post-recommend-cta-container"},(0,e.h)(la.Z,{pub:r,size:54,openInNewTab:!0,logo_url:r.logo_url}),(0,e.h)("h3",{className:"publication-name"},"Recommend ",r.name," to the readers of ",a.name),(0,e.h)("p",{className:"publication-hero-text"},r.hero_text),(0,e.h)(Ae.Z,{className:u()({primary:!0,"subscribe-button":!0}),onClick:()=>{(0,P.j)(P.FP.END_OF_POST_RECOMMEND_CTA_CLICKED,{pub:r,recommending_pub_id:a==null?void 0:a.id}),U.current.isOpen()?U.current.close():U.current.open()}},"Recommend")),(0,e.h)(k8,{pubToRecommend:r,recommendingPub:a,setLoading:o,setStep:B,ref:U}))};class k8 extends ct.p{getClassName(){return"settings-add-pub-modal-wrapper"}renderChildren(){return(0,e.h)(R8,{pubToRecommendBack:this.props.pubToRecommend,recommendingPub:this.props.recommendingPub,setStep:this.props.setStep,close:this.close,setLoading:t=>{this.props.setLoading(t),(0,aa.ZP)(`Started recommending ${this.props.pubToRecommend.name}`,{timeout:1500})},source:"end-of-post-recommend-cta"})}}var F8=Ke(55886);const xo={subscribeDialog:"frontend-components-SubscribePrompt-module__subscribeDialog--Yce7g",form:"frontend-components-SubscribePrompt-module__form--HqYBK",dismissButton:"frontend-components-SubscribePrompt-module__dismissButton--E1_n0",emailInput:"frontend-components-SubscribePrompt-module__emailInput--rslUF",pictureBox:"frontend-components-SubscribePrompt-module__pictureBox--OPDpP",authorIcon:"frontend-components-SubscribePrompt-module__authorIcon--BGgpW",childPublicationIcon:"frontend-components-SubscribePrompt-module__childPublicationIcon--eAS5i",signInLink:"frontend-components-SubscribePrompt-module__signInLink--zy99q",background:"frontend-components-SubscribePrompt-module__background--WF3cB",error:"frontend-components-SubscribePrompt-module__error--ZTiN5"};var W8=Object.defineProperty,Nv=Object.getOwnPropertySymbols,j8=Object.prototype.hasOwnProperty,K8=Object.prototype.propertyIsEnumerable,xv=(r,t,o)=>t in r?W8(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Rv=(r,t)=>{for(var o in t||(t={}))j8.call(t,o)&&xv(r,o,t[o]);if(Nv)for(var o of Nv(t))K8.call(t,o)&&xv(r,o,t[o]);return r},H8=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const V8=300,$8=({pub:r,post:t,isTest:o})=>{const[a,f]=(0,n.eJ)(!1),[L,k]=(0,n.eJ)(!1),[U,B]=(0,n.eJ)(!1),[q,pe]=(0,n.eJ)(""),[ge,Pe]=(0,n.eJ)([]),[Ee,Me]=(0,n.eJ)(200),[De,Ue]=(0,n.eJ)(0),Fe=(0,n.sO)(null),Ye=(0,gn.XA)(),st=`pub-${r.id}-subscribe-prompt-next-shown-at`,nt=`pub-${r.id}-takeover-next-shown-at`,at=typeof window!="undefined"&&(window!=null&&window.innerHeight)?window.innerHeight:700,yt=document.getElementsByClassName("available-content"),Et=yt.length>0?yt[0].scrollHeight:0;let Ct=600;Ct=Math.max(Math.min(Ct,Et-at),600),(()=>{var Dt;const{height:kt,width:Gt}=((Dt=Fe.current)==null?void 0:Dt.getBoundingClientRect())||{height:0,width:0};Me(typeof window!="undefined"&&window&&Fe.current?(window.innerHeight-kt)/2:200),Ue(typeof window!="undefined"&&window&&Fe.current?(window.innerWidth-Gt)/2:0)})();const[Tt,Rt]=(0,n.eJ)(at+Math.max(Ee,Ct)),[wt,Qt]=(0,n.eJ)(Math.max(document.documentElement.scrollTop||document.body.scrollTop,0)),[jt,qt]=(0,n.eJ)("absolute"),[ln,Bt]=(0,n.eJ)(jt==="fixed"||wt>Tt-at),zt=jt==="fixed"?60:Math.min(Math.max((wt-Tt+at)/(at-Ee)*60,0),60),on=(0,n.I4)(()=>{!Ye&&wt>=Tt-V8&&k(!0)},[wt,Ye,Tt,Ee,k]);(0,n.d4)(()=>{if(o)return;let Dt=!0;Et<=1.5*at&&(f(!0),Dt=!1);let kt=null;if(document!=null&&document.referrer){try{kt=new URL(document.referrer)}catch(Gt){}((kt==null?void 0:kt.hostname)==="news.ycombinator.com"||(kt==null?void 0:kt.hostname)==="hckrnews.com")&&(f(!0),Dt=!1)}(0,S.mM)(st)>Date.now()&&f(!0)},[]),(0,n.d4)(()=>{ln&&(a||((0,P.j)(P.FP.SUBSCRIBE_PROMPT_SHOWN,{post_id:t.id}),(0,S.ex)(st,sn()().add(1,"hour").valueOf()),(0,S.ex)(nt,sn()().add(1,"hour").valueOf())))},[ln,a]),(0,n.d4)(()=>{L&&((0,P.j)(P.FP.SUBSCRIBE_PROMPT_DISMISSED,{post_id:t.id}),(0,S.ex)(st,sn()().add(1,"day").valueOf()),(0,S.ex)(nt,sn()().add(1,"hour").valueOf()))},[L]);const Yt=Dt=>{window.location.href=(0,g.getPostUrl)(r,t,{urlParams:{subscribe_prompt:Dt}})},Zt=(0,n.I4)(Dt=>H8(void 0,null,function*(){var kt,Gt,mt,hn,Xt;if(!U){B(!0),Pe([]),(0,P.j)(P.FP.SUBSCRIBE_PROMPT_SUBMITTED,{post_id:t.id});try{const vn=yield et().post("/api/v1/free").send({email:Dt,source:"post-subscribe-prompt"});(0,P.IU)(),r.payments_state!=="enabled"&&!r.has_recommendations?Yt("free"):document.location.href=(0,g.getSubscribeUrl)(r,Rv(Rv({utm_medium:"web",utm_source:"post-subscribe-prompt",utm_content:t&&t.id,simple:!0,just_signed_up:!0,next:(0,g.getPostUrl)(r,t),requires_confirmation:vn.body.requires_confirmation?"true":""},vn.body.subscription_id&&{subscription_id:vn.body.subscription_id}),vn.body.referral_token&&{referral_token:vn.body.referral_token}))}catch(vn){(Gt=(kt=vn==null?void 0:vn.response)==null?void 0:kt.body)!=null&&Gt.error&&typeof vn.response.body.error=="string"?Pe([vn.response.body.error]):(hn=(mt=vn==null?void 0:vn.response)==null?void 0:mt.body)!=null&&hn.errors&&Array.isArray(vn.response.body.errors)&&vn.response.body.errors.length>0&&typeof((Xt=vn.response.body.errors[0])==null?void 0:Xt.msg)=="string"&&Pe(vn.response.body.errors.map(Nn=>Nn.msg))}finally{B(!1)}}}),[t,r,U,B]);(0,n.d4)(()=>{if(a||L)return;const Dt=()=>{const kt=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0),Gt=kt-wt;Gt>0&&jt==="absolute"&&kt>Tt-Ee&&qt("fixed"),Gt<0&&jt==="fixed"&&(qt("absolute"),Rt(wt+Ee)),Gt<0&&jt==="absolute"&&kt<Tt-at&&Rt(at+Math.max(Ee,Ct,wt)),Qt(kt),(jt==="fixed"||Gt>0&&kt>Tt-at)&&Bt(!0)};return window.addEventListener("scroll",Dt),window.addEventListener("resize",Dt),()=>{window.removeEventListener("scroll",Dt),window.removeEventListener("resize",Dt)}},[jt,Tt,Rt,wt,Qt,Bt]),(0,n.d4)(()=>{if(a||L)return;const Dt=kt=>{kt.key==="Escape"&&k(!0)};return window.addEventListener("keydown",Dt),()=>{window.removeEventListener("keydown",Dt)}},[a,L,k]);const{iString:xt}=(0,A.M1)();return a||L?(0,e.h)(e.Fragment,null):(0,e.h)(e.Fragment,null,(0,e.h)(de.tu,{ref:Fe,className:xo.subscribeDialog,style:{top:jt==="absolute"?`${Tt}px`:`${Ee}px`,left:`${De}px`,position:jt},alignItems:"center"},(0,e.h)(e.Fragment,null,(0,e.h)(de.gq,{justifyContent:"center",alignItems:"end",paddingBottom:20},(0,e.h)("div",{className:xo.pictureBox},(0,e.h)(ir.qE,{user:{photo_url:r.author_photo_url},size:64,className:xo.authorIcon}),r.logo_url&&(0,e.h)(F8.t,{src:r.logo_url,size:24,className:xo.childPublicationIcon,alt:r.name}))),(0,e.h)(M.xv.H4,{translated:!0,paddingBottom:4,align:"center",color:"pub-primary-text"},"Discover more from ",I18N.p(r.name)),(0,e.h)(M.xv.B4,{color:"pub-secondary-text",paddingBottom:r.rankingDetail?4:24,align:"center"},r.hero_text),r.rankingDetail&&(0,e.h)(M.xv.Detail,{paddingBottom:24,align:"center",color:"pub-secondary-text"},r.rankingDetailFreeSubscriberCount),(0,e.h)("form",{className:xo.form,onSubmit:Dt=>{Dt.preventDefault(),Zt(q)}},(0,e.h)("input",{className:xo.emailInput,placeholder:"Type your email...",value:q,disabled:U,onChange:Dt=>{Dt.stopPropagation(),Dt.preventDefault(),pe(Dt.currentTarget.value)}}),(0,e.h)("div",{id:"error-container"},ge&&ge.map(Dt=>(0,e.h)("div",{className:xo.error},Dt))),(0,e.h)(Be.zx,{type:"submit",disabled:U,grow:!0,priority:"primary-theme"},xt("Subscribe"))),(0,e.h)(de.gq,{gap:8,alignItems:"center",justifyContent:"center",className:xo.dismissButton,onClick:()=>k(!0)},(0,e.h)(M.xv.B4,{translated:!0,weight:"semibold",color:"pub-secondary-text"},"Continue reading"),(0,e.h)(Gi.Z,null)),(0,e.h)(M.xv.B4,{align:"center",className:xo.signInLink,weight:"semibold",color:"pub-primary-text"},(0,e.h)("a",{onClick:()=>{(0,P.j)(P.FP.SUBSCRIBE_PROMPT_SIGN_IN_CLICKED,{post_id:t.id}),(0,i.redirect)((0,g.getSigninUrl)({for_pub:r.subdomain,redirect:(0,g.getPostUrl)(r,t)}))},style:{cursor:"pointer"}},xt("Sign in"))," ")," ")),zt>0&&(0,e.h)("div",{className:xo.background,onClick:on,style:{opacity:`${zt}%`}}))};function Z8({postId:r,onClose:t}){return(0,n.d4)(()=>{(0,P.j)(P.FP.LISTEN_TO_THIS_POST_MODAL_SHOWN,{post_id:r})},[]),(0,e.h)(Jr.u_,{isOpen:!0,onClose:t},(0,e.h)(Jr.xB,{includeClose:!0,onClose:t}),(0,e.h)(Jr.fe,null,(0,e.h)(de.tu,{alignItems:"center",gap:24},(0,e.h)(de.tu,{style:{textAlign:"center"},justifyContent:"center",gap:8},(0,e.h)(Jr.r6,null,"Listen to this post"),(0,e.h)(M.xv,{color:"secondary",style:{lineHeight:1.5}},"Get the Substack app to hear this article read aloud.")),(0,e.h)(G8,null))),(0,e.h)(Jr.mz,{includeDivider:!0,alignment:"center",primaryButton:(0,e.h)(ho.z,{variant:"primary",href:(0,g.getAppStoreRedirectUrl)({utm_source:"web",utm_campaign:"tts-modal"}),onClick:()=>(0,P.j)(P.FP.LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED,{post_id:r})},"Get the app")}))}function G8(){const r="/img/main/tts-dialog";return(0,e.h)("video",{height:220,autoPlay:!0,muted:!0,loop:!0},(0,e.h)("source",{src:`${r}/nux.mp4`,type:"video/mp4"}),(0,e.h)("img",{width:374,height:233,src:`${r}/1x.png`,srcset:Array.from(z8(1,4)).map(t=>`${r}/${t}x.png ${t}x`).join(", ")}))}function*z8(r,t){for(let o=r;o<t;o++)yield o}const Bv={"byline-wrapper":"frontend-components-post-module__byline-wrapper--koh98","byline-wrapper--swap-on-mobile":"frontend-components-post-module__byline-wrapper--swap-on-mobile--n9xWk","byline-faces--swap-on-mobile":"frontend-components-post-module__byline-faces--swap-on-mobile--JiA_S"};var Y8=Object.defineProperty,J8=Object.defineProperties,X8=Object.getOwnPropertyDescriptors,Uv=Object.getOwnPropertySymbols,Q8=Object.prototype.hasOwnProperty,q8=Object.prototype.propertyIsEnumerable,Qd=(r,t,o)=>t in r?Y8(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Is=(r,t)=>{for(var o in t||(t={}))Q8.call(t,o)&&Qd(r,o,t[o]);if(Uv)for(var o of Uv(t))q8.call(t,o)&&Qd(r,o,t[o]);return r},mu=(r,t)=>J8(r,X8(t)),vo=(r,t,o)=>(Qd(r,typeof t!="symbol"?t+"":t,o),o),qd=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const ef="focus-comment-input",kv=["details","comments"],eL=(r,t)=>r&&!r.invite_only&&t&&t.has_publication&&!t.is_admin&&!t.is_contributor&&!t.is_public_admin&&(0,wd.P)(t,r),tL=(r,t,o,a)=>r.payments_state==="enabled"?!(t!=null&&t.is_subscribed):t!=null&&t.is_free_subscribed&&r.payments_state==="disabled"&&!r.invite_only?!a&&o&&!(t!=null&&t.is_pledged):!(t!=null&&t.is_free_subscribed);class tf extends e.Component{constructor(t,o){var a,f,L,k,U,B;super(t,o),vo(this,"onTopReached",Pe=>{this.state.topReached||this.props.postPreview||(this.setState({topReached:!0}),(0,P.jJ)({post:this.props.post,hasPaywall:Pe,surface:"publication",markRead:this.props.user&&!this.props.noPageView}))}),vo(this,"onTranscriptionClick",()=>{this.setState(Pe=>({showTranscription:!Pe.showTranscription}))}),vo(this,"onCommentButtonClicked",Pe=>{var Ee,Me;if(this.props.post.type==="podcast"){Pe.preventDefault(),this.state.activeTab!=="comments"&&(this.setState({activeTab:"comments"}),(Me=(Ee=this.props)==null?void 0:Ee.setTab)==null||Me.call(Ee,"comments"),this.state.podcastComments||this.loadComments()),setTimeout(()=>{var De;(De=this.podcastCommentInput.current)==null||De.focus()},0);return}!this.props.showComments||this.props.post.comment_count||(Pe.stopPropagation(),Pe.preventDefault(),document.dispatchEvent(new CustomEvent(ef)))}),vo(this,"handleClickTab",Pe=>{var Ee,Me;this.setState({activeTab:Pe}),(Me=(Ee=this.props)==null?void 0:Ee.setTab)==null||Me.call(Ee,Pe),Pe==="comments"&&!this.state.podcastComments&&this.loadComments()}),vo(this,"handleAddPodcastComment",Pe=>{this.setState({podcastComments:[Pe].concat(this.state.podcastComments),addedPodcastComments:this.state.addedPodcastComments+1})}),vo(this,"handleUpdatePodcastComments",Pe=>{let Ee=0;const Me=(Ue,Fe)=>Ue.map(Ye=>Ye.id===Fe.id?(Fe.status==="deleted"?Ee-=1:Ee+=Fe.children.length-Ye.children.length,Fe):mu(Is({},Ye),{children:Me(Ye.children,Fe)})),De=Me(this.state.podcastComments,Pe);this.setState({podcastComments:De,addedPodcastComments:this.state.addedPodcastComments+Ee})}),vo(this,"handleUpdateSortPodcastComments",Pe=>{(0,P.j)(P.FP.COMMENTS_SORTED,{post_id:this.props.post.id,post_type:this.props.post.type,sort:Pe}),this.setState({commentSort:Pe},()=>{this.loadComments()})});const q=(0,i.getUrlHash)();this.state={showTranscription:!1,autoPlay:!1,autoPlayVoiceOver:!1,podcastComments:null,addedPodcastComments:0,commentSort:(a=t.post.default_comment_sort)!=null?a:"best_first",activeTab:kv.includes(q)?q:"details",loadedWithHeaderLink:typeof window!="undefined"&&((f=window.location.hash)==null?void 0:f.startsWith(`#${encodeURIComponent("\xA7")}`)),reactors:null,feedUrl:null,clippingMode:!1},(k=(L=this.props)==null?void 0:L.setTab)==null||k.call(L,kv.includes(q)?q:"details"),!t.paywall&&!t.post.hidden&&t.post.body_html&&(this.state.canShowSubscribeFooterAfterPost=iL(t.post.body_html),this.state.truncated=t.truncateAt?aL(t.post.body_html,t.truncateAt,t.truncateTo):null),typeof window!="undefined"&&window.history.replaceState&&((0,g.getQueryItem)("autoPlay")==="true"&&(window.history.replaceState({},document.title,(0,g.updateQuery)({autoPlay:null})),this.state.autoPlay=!0),(0,g.getQueryItem)("play_audio")==="true"&&(window.history.replaceState({},document.title,(0,g.updateQuery)({play_audio:null})),this.state.autoPlayVoiceOver=!0)),this.containerRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.podcastCommentInput=(0,e.createRef)(),this.podcastPlayer=(0,e.createRef)(),this.videoPlayer=(0,e.createRef)(),this.shouldShowRecommendCta=eL(t.pub,t.user);const pe=this.props.getSettingFor("enable_post_page_conversion")===!0;if(this.props.referringUser&&this.props.user&&!this.props.user.is_free_subscribed&&((U=this.props.referringUser)==null?void 0:U.id)!==((B=this.props.user)==null?void 0:B.id)){const Pe=typeof window!="undefined"&&(window!=null&&window.innerHeight)?window.innerHeight:700,Ee=document.getElementsByClassName("available-content"),Me=Ee.length>0?Ee[0].scrollHeight:0}this.shouldShowSubscribePrompt=t.post.type==="newsletter"&&pe&&!t.disableSubscribePrompt&&!t.paywall&&!t.freeSignup&&!t.user&&!q&&!t.readerIsSearchCrawler}loadReactors(){return qd(this,null,function*(){const[t,o]=yield Promise.all([et().get(`/api/v1/post/${this.props.post.id}/reactors`),et().get(`/api/v1/post/${this.props.post.id}/restackers`)]);this.setState({reactors:t.body,restackers:o.body})})}componentDidMount(){return qd(this,null,function*(){this.props.post.type==="podcast"&&this.state.activeTab==="comments"&&(0,Ne.canSeeComments)(this.props.user,this.props.post)&&this.loadComments(),this.props.paywall&&!this.props.postPreview&&(0,P.j)(P.FP.POST_PAYWALL_SHOWN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type,user:this.props.user}),this._triggerShare=()=>this.triggerShare(),this.containerRef.current.addEventListener("share-post",this._triggerShare),this.props.post&&this.loadReactors(),Math.random()<.001&&(0,P.K8)({post:this.props.post});const t=(0,g.getQueryItem)("subscribe_prompt");t&&(t==="paid"?this.props.popToast(o=>(0,e.h)(d.FN,mu(Is({},o),{text:`Subscription purchased for ${this.props.pub.name}`}))):this.props.popToast(o=>(0,e.h)(d.FN,mu(Is({},o),{text:`Subscribed to ${this.props.pub.name}`}))))})}componentWillUnmount(){this._triggerShare&&this.containerRef.current.removeEventListener("share-post",this._triggerShare)}loadComments(){return qd(this,null,function*(){const t={all_comments:!0,sort:this.state.commentSort};try{this.setState({podcastComments:null});const o=yield et().get(`/api/v1/post/${this.props.post.id}/comments`).query(t);this.setState({podcastComments:o.body.comments})}catch(o){alert((0,i.getNetworkErrorMessage)(o))}})}triggerShare({fromEmail:t}={}){t?this.shareDialogRef.current.fromEmail():this.shareDialogRef.current.open()}onBottomReached(t){this.state.bottomReached||this.props.postPreview||(this.setState({bottomReached:!0}),(0,P.xG)({post:this.props.post,hasPaywall:t,surface:"publication"}))}shouldShowUFI(){const{fromPostPage:t,user:o,pub:a,getSettingFor:f}=this.props,{canShowSubscribeFooterAfterPost:L}=this.state;return t&&L?tL(a,o,f("payment_pledges_enabled"),this.shouldShowRecommendCta):!1}shouldTrackPaywallPostSeen(){const t=document.createElement("div");t.innerHTML=this.props.post.body_html;const o=this.props.pub.post_preview_limit||Ne.DEFAULT_PREVIEW_LIMIT;let a="",f=!1;for(let L=t.childNodes.length-1;L>=0;L--){const k=t.childNodes[L];if(a+=k.textContent,a.length>o){f=!0;break}}return f}render({commentsEnabled:t,user:o,pub:a,post:f,freeSignup:L,freeSignupEmail:k,reaction_token:U,invisible:B,paywall:q,onChange:pe,hideTitle:ge,noTitleLink:Pe,showComments:Ee,fromPostPage:Me,freeTrialCoupon:De,showRestackModal:Ue,stripe_publishable_key:Fe,crossPostInfo:Ye,iString:st,iTemplate:nt,themeVariables:at,referringUser:yt,renderComments:Et,renderContent:Ct},{showTranscription:It,activeTab:Tt,loadedWithHeaderLink:Rt,truncated:wt,coupon:Qt,autoPlay:jt,autoPlayVoiceOver:qt,podcastComments:ln,commentSort:Bt,addedPodcastComments:zt,reactors:on,restackers:Yt}){var Zt,xt,Dt,kt;const Gt=(0,R.isMobile)({checkFirst4:!0}),mt=(0,Mr.default)("like_posts_enabled"),hn=(0,Mr.default)("allow_video_transcription"),Xt=this.state.clippingMode,vn=Yn=>this.setState({clippingMode:Yn}),Nn=!q||q&&this.shouldTrackPaywallPostSeen(),jn=f.type==="video"&&(q?_0:Ua.Z),En=f.type==="video"&&hn&&!q&&((Zt=f.videoUpload)==null?void 0:Zt.transcription),Un=f.type==="podcast"&&(t||!!((xt=f.podcastUpload)!=null&&xt.transcription)||!!f.videoUpload),Pn=f.comment_count+zt,un=this.shouldShowUFI(),In=jv(f),Mn=on?on.length>0:!1;let Vn="";f.type==="podcast"?Vn=f.audience==="founding"&&(0,wr.getFoundingTierName)(a)?nt`This episode is for subscribers in the ${(0,wr.getFoundingTierName)(a)} plan`:f.audience==="founding"?nt`This episode is for subscribers in the Founding Member plan`:nt`This episode is for paid subscribers`:f.type==="video"?Vn=f.audience==="founding"&&(0,wr.getFoundingTierName)(a)?nt`The full video is for subscribers in the ${(0,wr.getFoundingTierName)(a)} plan`:f.audience==="founding"?nt`The full video is for subscribers in the Founding Member plan`:nt`The full video is for paid subscribers`:f.type==="adhoc_email"?Vn=f.audience==="founding"&&(0,wr.getFoundingTierName)(a)?nt`This email is for subscribers in the ${(0,wr.getFoundingTierName)(a)} plan`:f.audience==="founding"?nt`This email is for subscribers in the Founding Member plan`:nt`This email is for paid subscribers`:Vn=f.audience==="founding"&&(0,wr.getFoundingTierName)(a)?nt`This post is for subscribers in the ${(0,wr.getFoundingTierName)(a)} plan`:f.audience==="founding"?nt`This post is for subscribers in the Founding Member plan`:nt`This post is for paid subscribers`;const hr=(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"available-content"},It?(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(g0,{post:f,pub:a,user:o,playerRef:this.videoPlayer})):(0,e.h)(ms,{html:wt||f.body_html,pub:a,trackSelection:!0,user:o,freeSignup:L,freeSignupEmail:k,post:f,paywall:q,showing_behind_paywall:!!f.post_paywall_content_for_google,themeVariables:at})),f.post_paywall_content_for_google&&(0,e.h)("div",{className:"paywall-content"},(0,e.h)(ms,{html:f.post_paywall_content_for_google,pub:a,trackSelection:!1,user:o,freeSignup:L,freeSignupEmail:k,post:f,paywall:q})),!B&&Nn&&(0,e.h)(W,{onVisible:()=>this.onBottomReached(q)}));return(0,e.h)("article",{className:u()(`typography ${f.type}-post post`,{"tw-p-0":f.type==="podcast"}),ref:this.containerRef},(o==null?void 0:o.is_contributor)&&(f==null?void 0:f.id)&&(f==null?void 0:f.type)==="page"&&(0,e.h)(ho.z,{variant:"themed-secondary",href:(0,G.getEditPostUrlById)(a,f.id,f.editor_v2,{back:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)(di.Z,{size:20})},"Edit"),(0,e.h)(sL,{post:f,user:o,onChange:pe}),(0,e.h)(Ha.ZP,{ref:this.shareDialogRef,user:o,pub:a,post:f,reaction_token:U,source:"email-share"}),this.shouldShowSubscribePrompt&&(0,e.h)($8,{pub:a,post:f,stripe_publishable_key:Fe,sharer:yt}),Ct?Ct({comments:Et?Et():null,postContent:hr}):(0,e.h)(e.Fragment,null,(0,e.h)($d,{visible:Xt,style:{zIndex:1}}),f.videoUpload&&f.type==="video"&&jn&&(0,e.h)(jn,{mediaUpload:f.videoUpload,pub:a,post:f,autoPlay:jt,restorePlaybackLocation:!0,reaction_token:U,ref:this.videoPlayer,clippingMode:Xt,onClippingModeCancel:()=>vn(!1)}),f.type==="podcast"?(0,e.h)(e.Fragment,null,(0,e.h)(SA,{bylinesEnabled:a.bylines_enabled,commentCount:Pn,commentsEnabled:t,freeSignupEmail:k,isFreeSignup:L,isLikesEnabled:mt,isPaywall:q,post:f,pub:a,magicToken:U,renderEditButton:()=>(0,e.h)(zd.l,{pub:a,post:f,iconHeight:18,user:o,showUpdatedIcons:!0,dropdownClassName:"tw-ml-2",iconClassName:"tw-block tw-stroke-pub-primary-text"}),user:o,onChange:pe,onClickCommentButton:t?this.onCommentButtonClicked:void 0,onTopReached:this.onTopReached,playerRef:this.podcastPlayer,videoPlayerRef:this.videoPlayer,reaction_token:U,onFeedChange:Yn=>this.setState({feedUrl:Yn})}),Un&&(0,e.h)(NA,{activeTab:Tt,loadedWithHeaderLink:Rt,commentCount:Pn,onClickTab:this.handleClickTab,transcription:(Dt=f.podcastUpload)==null?void 0:Dt.transcription,hideComments:!t,showPlayers:!!f.videoUpload&&!Gt,feedUrl:this.state.feedUrl,pub:a,post:f})):(0,e.h)(e.Fragment,null,(0,e.h)(gu,{user:o,pub:a,post:f,isOnPostPage:!0,freeSignup:L,freeSignupEmail:k,reaction_token:U,allowEdit:!0,showShare:!0,showSubtitle:!0,showPhoto:!0,showCommentRestack:!0,hideTitle:ge,noTitleLink:Pe,onChange:pe,hideDate:f.type==="page",hideAudience:f.type==="page",showReactions:mt,showComments:Ee,showLabel:!0,showUpdatedIcons:!0,fromPostPage:Me,onClickCommentButton:this.onCommentButtonClicked,reactors:on,showRestackModal:Ue,showTranscriptionButton:!!En,onTranscriptionClick:this.onTranscriptionClick,themeVariables:at,setClippingMode:vn}),!B&&Nn&&(0,e.h)(W,{onVisible:()=>this.onTopReached(q)}),(f.has_voiceover||!!f.voiceoverUpload)&&(0,e.h)(sa.VoiceoverPlayer,{pub:a,post:f,mediaUploadId:f.voiceover_upload_id,duration:(kt=f.voiceoverUpload)==null?void 0:kt.duration,autoPlay:qt,href:f.canonical_url,isPaywalled:!f.voiceover_upload_id}),!f.voiceoverUpload&&qt&&In&&(0,e.h)(Z8,{postId:f.id,onClose:()=>{(0,P.j)(P.FP.LISTEN_TO_THIS_POST_MODAL_DISMISSED,{post_id:f.id}),this.setState({autoPlayVoiceOver:!1})}})),Ye?(0,e.h)(HA,{postType:f.type,crossPostInfo:Ye}):null,(f.type!=="podcast"||Tt==="details"||!Un)&&(0,e.h)("div",{className:u()({"container container--podcast-post container--podcast-post-with-ufi":f.type==="podcast"})},hr,q&&!f.post_paywall_content_for_google?(0,e.h)(e.Fragment,null,(0,e.h)(_s,Is({user:o,freeSignupEmail:k,freeSignup:L,publication:a,post:f,fromPostPage:Me,coupon:this.props.paywall===!0&&this.props.pub.paywall_free_trial_enabled?De:null},Object.assign({title:Vn,reauthenticationTitle:st("To read this, please re-authenticate.")},q))),(0,e.h)(Pv,{post:f})):wt?(0,e.h)("p",null,(0,e.h)(Ae.Z,{className:"expander",onClick:()=>this.setState({truncated:null})},"+ ",st("show full post"))):!["page"].includes(f==null?void 0:f.type)&&(0,e.h)(e.Fragment,null,un&&(0,e.h)(nL,{pub:a,post:f,user:o,freeSignup:L,freeSignupEmail:k}),!un&&this.shouldShowRecommendCta&&(0,e.h)(U8,{pub:a}),(0,Mr.default)("like_posts_enabled")&&a.community_enabled&&Mn&&(0,e.h)(d.hs,{borderTop:"detail-themed",paddingY:16},(0,e.h)(mv,{post:f,pub:a,user:o,reactors:on,secondaryFaces:Yt})),(0,e.h)("div",{className:"post-footer"},(0,e.h)(qn.Mp,{post:f,pub:a,user:o,onChange:pe,themeVariables:at,postReactionToken:U})),(0,e.h)(Pv,{post:f})),f.show_guest_bios&&f.type!=="podcast"&&(0,e.h)(oL,{user:o,pub:a,post:f})),f.type==="podcast"&&Tt==="comments"&&t&&(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(B9,{comments:ln!=null?ln:[],expectedCommentCount:Pn,post:f,pub:a,sort:Bt,token:U,user:o,inputRef:this.podcastCommentInput,onAddComment:this.handleAddPodcastComment,onUpdateSort:this.handleUpdateSortPodcastComments,onUpdateComment:this.handleUpdatePodcastComments})),f.type==="podcast"&&Tt==="transcription"&&(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(g0,{post:f,pub:a,user:o,playerRef:this.podcastPlayer}))))}}vo(tf,"contextType",St),vo(tf,"displayName","Post");const _u=(0,d.dd)((0,fn.f9)((0,it.us)((0,A.fz)(tf)))),nL=({pub:r,post:t,user:o,freeSignup:a,freeSignupEmail:f,overridePledgesEnabled:L})=>{const{iString:k,iTemplate:U}=(0,A.M1)(),{getSettingFor:B}=(0,it.So)(),q=r.payments_state==="disabled"&&!r.invite_only&&(B("payment_pledges_enabled")||L),pe=r.payments_state==="enabled"&&(o!=null&&o.is_free_subscribed)&&!(o!=null&&o.is_subscribed)?"paid_upsell":q&&(o!=null&&o.is_free_subscribed)&&!(o!=null&&o.is_pledged)?"pledge_upsell":"free_upsell";(0,n.d4)(()=>{(0,P.j)(P.FP.POST_END_CTA_RENDERED,{pub_id:r.id,post_id:t.id,type:pe})},[r.id,t.id,pe]);const ge=(0,Ne.getByLine)(r);return(0,e.h)("div",{className:"post-end-cta-full"},(0,e.h)(W,{onVisible:()=>{(0,P.j)(P.FP.POST_END_CTA_SEEN,{pub_id:r.id,post_id:t.id,type:pe})}}),(0,e.h)("h3",null,q&&(o!=null&&o.is_free_subscribed)?U`Support ${r.name}`:U`Subscribe to ${r.name}`),(0,e.h)("p",{className:"end-cta-author-subs"},ge?U`By ${ge}`:null,ge&&r.rankingDetail?" \xB7 ":null,r.rankingDetail),r.hero_text&&(0,e.h)("p",{className:"end-cta-hero-text"},r.hero_text),q&&(o!=null&&o.is_free_subscribed)&&!(o!=null&&o.is_pledged)?(0,e.h)(Be.zx,{priority:"primary-theme",onClick:()=>{(0,P.j)(P.FP.POST_END_CTA_CLICKED,{type:"pledge"}),(0,i.redirect)((0,G.getSubscribeUrl)(r,{params:{utm_source:"post-end-cta"}}),{local_navigation:!1})}},k("Pledge your support")):(0,e.h)(Do,{pub:r,post:t,user:o,freeSignup:a,freeSignupEmail:f,isStatic:!1,source:"post-end-cta"}))},Fv=({pub:r})=>(0,e.h)("div",{className:"post-silhouette"},(0,e.h)("div",{className:"post-silhouette-title"}),(0,e.h)("div",{className:`post-silhouette-meta ${r&&r.bylines_enabled&&r.byline_images_enabled?"with-byline-image":""}`}),(0,e.h)("div",{className:"post-silhouette-body"})),gu=({allowEdit:r,allowSendEmail:t,allowTruncate:o,base_url:a,children:f,className:L,hideAudience:k,hideDate:U,hideTitle:B,hidePinning:q,noTitleLink:pe,isStatic:ge,isFreePreview:Pe,is_draft:Ee,onChange:Me,post:De,pub:Ue,reaction_token:Fe,showComments:Ye,showDatetime:st,showEmailSent:nt,showReactions:at,showShare:yt,showAppUpsell:Et,showSubtitle:Ct,showPhoto:It,showLabel:Tt,showRestack:Rt,showCommentRestack:wt,hideAuthor:Qt,user:jt,utm_source:qt,showUpdatedIcons:ln,fromPostPage:Bt,onClickCommentButton:zt,reactors:on,inThreadHead:Yt,publishedPost:Zt,compEndsSoon:xt,compEndedRecently:Dt,siteConfigValues:kt={},eligibleForTTS:Gt,showRestackModal:mt,showIcon:hn,isOnPostPage:Xt,showTranscriptionButton:vn,onTranscriptionClick:Nn,themeVariables:jn,setClippingMode:En=void 0})=>{const Un=(0,R.isMobile)({checkFirst4:!0}),Pn=typeof o=="number"?o:45,un=De.title&&De.title.length>Pn,In=Ee?De.draft_title:De.title,Mn=[(hn||De.type==="thread")&&(0,e.h)(D8,{postType:De.type,isStatic:ge,height:15,className:De.type}),un&&o?(0,Ne.truncateWords)(In,Pn):In],Vn=Ee?De.draft_subtitle:De.subtitle;De.section_id&&Ue.sections&&Ue.sections.length&&(De.section=Ue.sections.find(ba=>ba.id===De.section_id));const hr=!["page"].includes(De==null?void 0:De.type),Yn=hr&&ge&&xt&&(kt==null?void 0:kt.continue_support_cta_in_newsletter_emails),mr=jv(De)||Gt||De.voiceoverUpload,eo=(De==null?void 0:De.type)==="adhoc_email",yr=hr&&ge&&!eo;let An;De.post_url_override?An=De.post_url_override:ge?An=Ir.Substitutions.POST_TITLE_URL:An=`${(0,G.getPostUrl)(Ue,De)}${qt?`?utm_source=${qt}`:""}`;const _r=`${Ue.base_url+(De.section?(0,G.getSectionUrl)(Ue,{section:De.section}):"")}/?utm_source=substack&utm_medium=menu`,Bi=()=>{(0,P.j)(P.FP.VIDEO_CLIP_BUTTON_CLICKED,{post_id:De.id,type:De.type}),En==null||En(!0)};return(0,e.h)("div",{className:u()("post-header",L)},Tt&&De.section&&(0,e.h)(d.hs,{className:"post-label"},(0,e.h)(d.xv.Meta,{as:"a",size:14,href:_r},De.section.name)),Yn&&(0,e.h)(RA,{post:De,compAlreadyExpired:Dt}),!B&&(0,e.h)("h1",{className:u()("post-title",De.is_published?"published":De.type==="restack"?"email-only-cross-post":De.type==="adhoc_email"?"adhoc":"unpublished")},pe?Mn:(0,e.h)("a",{href:An},Mn)),Ct&&Vn&&(0,e.h)("h3",{className:"subtitle"},Vn),Xt&&!ge?(0,e.h)(d.tu,{paddingBottom:16},(0,e.h)(d.tu,{paddingY:16},(0,e.h)(Kv,{post:De,pub:Ue})),Un?Bt&&(0,e.h)(qn.mt,{post:De,pub:Ue,user:jt,isStatic:ge,postReactionToken:Fe,onChange:Me,allowEdit:r,hidePinning:q,showEmailSent:nt,allowSendEmail:t,hideComments:!Ye,onCommentsClick:zt,showRestackModal:mt}):(0,e.h)(qn.Mp,{post:De,pub:Ue,user:jt,onChange:Me,showRestackModal:mt,showTranscriptionButton:vn,onTranscriptionClick:Nn,themeVariables:jn,onClipClick:Bi,showClipping:De.type==="video",postReactionToken:Fe})):(0,e.h)(e.Fragment,null,hr&&!ge&&!Zt&&!Yt?(0,e.h)(Ig,{className:"meta-subheader",pub:Ue,post:De,user:jt,showDate:!U,showDatetime:st,isStatic:ge,postReactionToken:Fe,onChange:Me,allowEdit:r,hidePinning:q,showEmailSent:nt,allowSendEmail:t,allowMobileFooter:Bt,reactors:on,onCommentsClick:zt,showRestackModal:mt,setClippingMode:En}):hr&&!ge&&Zt?(0,e.h)(qn._2,{post:De,pub:Ue,user:jt,style:"compressed",labelStyle:"counts-or-none",postReactionToken:Fe,showEmailSent:nt,hideShare:!yt||De.type==="restack",hideComments:De.type==="restack",hideSavePost:De.type==="restack",hideReactions:De.type==="restack",showPreamble:!0,allowEdit:r,allowSendEmail:t,editButtonIsLast:!0,preambleConfig:{showAudience:!k,showDate:!U,showDatetime:st,showAuthor:!Qt},position:"publisher-post-list"}):Yt&&!ge?(0,e.h)(qn._2,{post:De,pub:Ue,user:jt,style:"compressed",labelStyle:"counts-or-none",postReactionToken:Fe,hideSavePost:!0,showPreamble:!0,allowEdit:r,allowSendEmail:t,editButtonIsLast:!0,onChange:Me,preambleConfig:{showAudience:!k,showDate:!U,showDatetime:st,showAuthor:!Qt},hideShare:!yt,position:"publisher-post-list"}):hr?(0,e.h)(Z6,{user:jt,pub:Ue,post:De,showDate:!U,showDatetime:st,showEmailSent:nt,showAudience:!k,showReactions:!yr&&at,showComments:!yr&&Ye,showShare:!yr&&yt,showRestack:!yr&&Rt,reaction_token:Fe,onChange:Me,isStatic:ge,isFreePreview:Pe,sharedShareDialog:!0,base_url:a,allowSendEmail:t,allowEdit:r,showAuthor:!Qt,showPhoto:It,hidePinning:q,showUpdatedIcons:ln,inThreadHead:Yt,fromPostPage:Bt,onClickCommentButton:zt,reactors:on}):(0,e.h)("div",{className:"spacer",style:{height:24}}),hr&&yr&&(0,e.h)(qn.yT,{customization:{showShare:yt,showComments:Ye,showReactions:at,showListen:!Rt&&!Pe&&mr,showSave:!Rt,showRestack:Rt,showCommentRestack:wt,showAppUpsell:Et}}),eo&&(0,e.h)("div",{className:"email-ufi-2-empty"})),f)};class Wv extends e.Component{constructor(){super(...arguments),vo(this,"onClick",t=>{const o=this.getLink();this.props.onClick&&this.props.onClick(),!this.props.disableInteractive&&(0,i.redirect)(o,{event:t})}),vo(this,"getLink",()=>{var t;return this.props.linkToComments?(0,G.getPostUrl)(this.props.pub,this.props.post,{comments:this.props.linkToComments}):((t=this.props.post)==null?void 0:t.type)==="video"?(0,g.updateQuery)(this.props.post.canonical_url,{autoPlay:!0}):this.props.utm?(0,G.pathWithQuery)(this.props.post.canonical_url,this.props.utm):this.props.post.canonical_url})}getMaxTitleLength(){let t=this.props.maxTitleLength;return typeof t=="function"&&(t=t(this)),(typeof t!="number"||!(t>0))&&(t=140),t}getMaxDescriptionLength(){let t=this.props.maxDescriptionLength;return typeof t=="function"&&(t=t(this)),(typeof t!="number"||!(t>0))&&(t=152),t}render({className:t,post:o,pub:a,user:f,showDate:L,hideShare:k,authorInMeta:U,imageAssetSize:B,imageAspectRatio:q,onChange:pe,linkToComments:ge,showPublicationName:Pe,isBigPost:Ee,showPins:Me,hideDescription:De,hideAuthor:Ue,isBelowTheFold:Fe}){var Ye;const st=this.getLink(),nt=typeof window=="undefined"||(0,Mr.default)("like_posts_enabled"),at=!Ue&&!U&&(a==null?void 0:a.bylines_enabled)&&(0,Ne.getPrintedByline)(a,o),yt=this.props.showCoverImage&&((0,dn.getCoverImageUrl)(o)||!this.props.coverImageOptional);!B&&!q&&(q=1.32);const Et=B||336,Ct=(0,Ne.getBylineUsers)(o);return(0,e.h)("div",{className:u()("post-preview",t,{"has-image":yt,"has-author-line":!U}),onClick:this.onClick},(0,e.h)(d.tu,{className:"post-preview-container"},yt&&o.type==="restack"&&(0,e.h)(d.hs,{className:"post-preview-restack",alignItems:"center",gap:4,paddingBottom:8},(0,e.h)(su.Z,{height:Ee?26:16,className:"restack"}),(0,e.h)(d.xv.Meta,{color:"secondary"},"CROSS-POST")),(0,e.h)(d.hs,{className:"post-preview-content-container",gap:4},yt&&(0,e.h)(pa,{className:"post-preview-image",imageAspectRatio:q,post:o,imageWidth:Et,isBelowTheFold:Fe}),(0,e.h)("div",{className:"post-preview-content"},!yt&&o.type==="restack"&&(0,e.h)(d.hs,{className:"post-preview-restack",alignItems:"center",gap:4},(0,e.h)(su.Z,{height:Ee?26:16,className:"restack"}),(0,e.h)(d.xv.Meta,{color:"secondary"},"CROSS-POST")),(0,e.h)("a",{href:st,className:`post-preview-title ${o.type}`},o.type==="thread"&&(0,e.h)(Gd,{height:Ee?26:17,className:"thread"}),o.type==="podcast"&&(o.videoUpload&&((Ye=o.videoUpload)==null?void 0:Ye.media_type)==="video"?(0,e.h)(rv,{height:Ee?26:19,width:Ee?26:19,className:"video"}):(0,e.h)(Zd,{height:Ee?26:17,className:"podcast"})),ge&&o.type!=="thread"&&"Comments on: ",(0,Ne.truncateWords)(o.title,this.getMaxTitleLength())),!De&&(0,e.h)("a",{href:st,className:"post-preview-description"},Tr()((0,Ne.truncateWords)(o.description,this.getMaxDescriptionLength()))),at&&(0,e.h)("div",{className:"post-preview-author"},Ct.length>0?(0,Ne.oxfordComma)(Ct.map(It=>(0,e.h)(mo.Ct,{subject:It,utmSource:"byline"},(0,e.h)("a",{href:(0,g.getProfileUrl)(It,a),onClick:Tt=>Tt.stopPropagation()},It.name)))):(0,Ne.getPrintedByline)(a,o)),a&&(0,e.h)(qn._2,{pub:a,post:o,user:f,hideShare:o.type==="restack"||k,hideReactions:o.type==="restack"||!nt,hideComments:o.type==="restack"||!(0,Ne.showCommentsOnPost)({publication:a,post:o}),hideSavePost:o.type==="restack",showRestackButton:o.type!=="restack",hideFeedRestackButton:o.type==="restack",allowEdit:o.type!=="restack",editButtonIsLast:!0,labelStyle:"counts-or-none",style:"compressed",onChange:pe,showPreamble:!0,preambleConfig:{showPins:Me,showAudience:!0,showDate:L,showAuthor:o.type!=="restack"&&!Ue&&!at&&U,showPublicationName:Pe,showCrossPostedPublicationName:!0},position:"post-list"})))))}}vo(Wv,"contextType",tt.QA);const rL=({className:r,pub:t})=>(0,e.h)("div",{className:`post-preview-silhouette has-image ${r||""}`},(0,e.h)("div",{className:"post-preview-silhouette-image"}),(0,e.h)("div",{className:"post-preview-silhouette-content"},(0,e.h)("div",{className:"post-preview-silhouette-title"}),(0,e.h)("div",{className:"post-preview-silhouette-description"}),t&&t.bylines_enabled&&(0,e.h)("div",{className:"post-preview-silhouette-author"}),(0,e.h)("div",{className:"post-preview-silhouette-meta"}))),oL=({user:r,pub:t,post:o})=>{const{iString:a,iTemplate:f}=(0,A.M1)(),L=(0,Ne.getBylineUsers)(o).filter(k=>k.is_guest);return L.length===0?null:(0,e.h)("div",{className:"post-contributor-footer"},(0,e.h)("div",{className:"container-border"}),L.map(k=>{const U=(0,Ne.guessFirstName)(k.name);let B=k.primaryPublicationSubscribeUrl;B&&(r!=null&&r.email)&&(B=(0,g.updateQuery)(B,{email:r.email,autoSubmit:!0,utm_source:"substack",utm_campaign:"guest_post_bio",utm_medium:"web"}));const q=(0,g.updateQuery)((0,G.getReaderProfileUrl)(k),{utm_campaign:"guest_post_bio",utm_medium:"web"}),pe=Zl.ZP.hasCustomProfilePhoto(k);return(0,e.h)("div",{className:u()("post-contributor-bio",{"post-contributor-bio-no-text":!k.bio}),"data-user-id":k.id},(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-table"},(0,e.h)("tr",{className:"post-contributor-bio-table-row"},pe&&(0,e.h)("td",{className:"post-contributor-bio-userhead-cell post-contributor-bio-userhead-cell-web"},(0,e.h)(mo.Ct,{subject:k,utmSource:"byline"},(0,e.h)(Zl.ZP,{size:52,user:r,pub:t,subject:k}))),(0,e.h)("td",{className:"post-contributor-bio-body-cell post-contributor-bio-body-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-body"},k.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},a("A guest post by")),(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-body-table"},(0,e.h)("tr",{className:"post-contributor-bio-body-table-row"},(0,e.h)("td",{className:"post-contributor-bio-copy-cell"},!k.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},a("A guest post by")),(0,e.h)(d.gq,{gap:4,alignItems:"center",paddingBottom:4},(0,e.h)(mo.Ct,{subject:k,utmSource:"byline"},(0,e.h)("a",{className:"post-contributor-bio-title no-margin",href:q,native:!0},k.name)),(0,e.h)($l.UserBadge,{size:"sm",tier:k.bestseller_tier,userId:k.id})),k.bio&&(0,e.h)("div",{className:"post-contributor-bio-text"},k.bio)),(0,e.h)("td",{className:"post-contributor-bio-controls-cell post-contributor-bio-controls-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-controls"},B&&(0,e.h)("a",{className:"post-contributor-bio-subscribe-button button primary",href:B,native:!0},(0,e.h)("span",{className:"post-contributor-bio-subscribe-button-label"},f`Subscribe to ${U}`)))))))))))}))};class hj extends null{render({renderPost:t,posts:o,hideFirstHeading:a,className:f,top:L,children:k}){return o=o.slice(0).sort((U,B)=>dayjs(B.post_date)-dayjs(U.post_date)),h("div",{className:`calendared-post-list ${f||""}`},L,flat(this.renderByHeading(o,"year",(U,B)=>[!B.isSameNow("year")&&h("h2",{date:B},B.year()),this.renderByHeading(U,"month",(q,pe)=>[!(pe.isSameNow("year")&&pe.isSameNow("month"))&&h("h3",{date:B},get_month_name(pe)," ",!pe.isSameNow("year")&&pe.year()),q.map(ge=>t(ge,o.indexOf(ge),o))])]),1/0).filter(U=>U).filter((U,B,q)=>!a||B>=q.findIndex(pe=>!pe.props||!pe.props.date)),k)}renderByHeading(t,o,a){return Array.from(group_by(t,f=>dayjs(f.post_date)[o]())).sort((f,L)=>L[0]-f[0]).map(([,f])=>a(f,dayjs(f[0].post_date)))}}function aL(r,t=1e4,o=t){if(typeof window=="undefined")return null;const a=document.createElement("div");if(a.innerHTML=r,a.textContent.length<t||a.childNodes.length<=1)return null;do a.removeChild(a.lastChild);while(a.childNodes.length>1&&a.textContent.length>o);return a.innerHTML}function iL(r,t=500){if(typeof window=="undefined")return!1;const o=document.createElement("div");o.innerHTML=r;let a="",f=!1;for(let L=o.childNodes.length-1;L>=0;L--){const k=o.childNodes[L];if((0,i.hasClass)(k,"button-wrapper")||(0,i.hasClass)(k,"subscription-widget-wrap")){f=!0;break}if(a+=k.textContent,a.length>t)break}return!f}function sL({post:r,user:t,onChange:o}){const{onSave:a}=(0,qn.vk)({post:r,isSaved:!1});return(0,n.d4)(()=>{if(new URL(location).searchParams.get("action")==="save"&&(history.replaceState({},"",(0,g.updateQuery)({action:null})),t)){const L=a();o({post:mu(Is({},r),{is_saved:L})})}},[]),null}function jv(r){var t;return(t=r.audio_items)==null?void 0:t.some(o=>o.type==="tts")}function Kv({variant:r="",post:t,pub:o,relativeLinks:a=!1}){const{publishedBylines:f=[]}=t,L=o.bylines_enabled&&(0,Ne.getPrintedByline)(o,t)&&(t.type!=="podcast"||r==="shows"),k=L&&o.byline_images_enabled&&f.some(({photo_url:ge})=>!!ge),U=t.type!=="page",{iContext:B,language:q}=(0,A.M1)(),pe=new Intl.DateTimeFormat(q==="en"?void 0:q,{dateStyle:"medium"});return(0,e.h)(d.hs,{className:u()("byline-wrapper",{[Bv["byline-wrapper--swap-on-mobile"]]:r==="shows"}),gap:12,alignItems:"center"},k&&(0,e.h)(d.hs,{className:u()({[Bv["byline-faces--swap-on-mobile"]]:r==="shows"})},(0,e.h)(gs.ZP,{faces:f,hoverProfiles:!0,maximum:4,showBlanks:!0,relativeLinks:a})),(0,e.h)(d.tu,null,L&&(0,e.h)(d.xv.Meta,{color:"pub-primary-text"},(0,e.h)(Jc.M,{array:f,formatter:ge=>(0,e.h)(mo.Ct,{subject:ge,utmSource:"byline"},(0,e.h)(d.xv,{as:"a",href:(0,G.getReaderProfileUrl)(ge),decoration:"hover-underline"},ge.name)),limit:4})),(0,e.h)(d.hs,{gap:4},(0,e.h)(d.xv.Meta,{color:"pub-secondary-text"},pe.format(sn()(t.post_date).toDate())),U&&(0,dn.isPaidAudience)(t.audience)&&(0,e.h)(d.xv.Meta,{color:"pub-secondary-text"},"\u2219 ",B("postAudience","Paid")))))}var lL=Object.defineProperty,Hv=Object.getOwnPropertySymbols,uL=Object.prototype.hasOwnProperty,cL=Object.prototype.propertyIsEnumerable,nf=(r,t,o)=>t in r?lL(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,rf=(r,t)=>{for(var o in t||(t={}))uL.call(t,o)&&nf(r,o,t[o]);if(Hv)for(var o of Hv(t))cL.call(t,o)&&nf(r,o,t[o]);return r},$a=(r,t,o)=>(nf(r,typeof t!="symbol"?t+"":t,o),o),dL=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});class fL extends e.Component{constructor(t,o){if(super(t,o),$a(this,"onTabClick",a=>f=>{f.preventDefault(),this.loadTab(a)}),$a(this,"onSearchInput",a=>{this.state.tab.id==="search"&&this.loadTab("search",a.target.value||"")}),$a(this,"onSearchKeyDown",a=>{this.state.tab.id==="search"&&a.key==="Escape"&&(a.target.blur(),this.loadTab(this.state.tabs[0].id))}),$a(this,"onPostClicked",(a,f,L,k)=>{(0,P.j)(P.FP.ARCHIVE_PAGE_POST_CLICKED,{post_id:f,tab:this.state.tab.id,rank_in_feed:L,source:k!=null?k:this.props.source})}),$a(this,"onSearchBlur",a=>{this.state.tab.id==="search"&&!a.target.value&&this.loadTab(this.state.tabs[0].id,"")}),$a(this,"loadTab",(a,f)=>dL(this,null,function*(){const L=this.state.tabs.find(pe=>pe.id===a);let k=!1;if(L.id==="search"&&typeof f=="string"&&L.query!==f&&(k=!0,L.query=f,L.posts=null,L.fullyLoaded=!1,L.loading=!1,L.loadingError=null),L.id!==this.state.tab.id?(this.setState({tab:L},()=>{L.id==="search"&&this.searchInput&&(this.searchInput.focus(),this.searchInput.select())}),this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,g.updateQuery)({sort:L.id,search:L.query||null}))):k&&this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,g.updateQuery)({search:L.query||null})),L.loading||L.fullyLoaded)return;if(L.id==="search"&&!L.query){L.posts=[],L.fullyLoaded=!0,this.setState({tabs:this.state.tabs});return}const U=(0,Ne.randomString)();if(L.loading=U,L.loadingError=null,this.setState({tabs:this.state.tabs}),L.id==="search"&&L.query&&(yield new Promise(pe=>setTimeout(pe,300)),L.loading!==U))return;!this.state.tabs.find(pe=>pe.posts||pe.fullyLoaded||pe.loading||pe.loadingError)&&this.props.delayFirstLoad&&(yield new Promise(pe=>setTimeout(pe,this.props.delayFirstLoad)));const q=this.props.pub?"/api/v1/archive":this.props.profile?"/api/v1/profile-archive":null;try{const pe=this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),ge=(yield et().get(q).query(rf(rf(rf({sort:L.id==="search"?"new":L.id,search:L.id==="search"?L.query:"",offset:(L.posts||[]).length,limit:this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),type:this.props.isPodcast?"podcast":void 0},this.props.postTagId&&{post_tag_id:this.props.postTagId}),this.props.sectionId&&{section_id:this.props.sectionId}),this.props.profile&&{profile_user_id:this.props.profile.id}))).body;if(L.loading!==U)return;L.posts=L.posts?L.posts.concat(ge):ge,L.fullyLoaded=ge.length<pe||this.props.maxPosts&&L.posts.length>=this.props.maxPosts}catch(pe){console.error("Failed to load tab:",pe),L.loadingError=pe}L.loading=!1,this.setState({tabs:this.state.tabs})})),$a(this,"onChange",({post:a})=>{a&&((0,i.stateTransaction)(this,f=>{let L=!1;const k=f.tabs.map(U=>U.posts).filter(U=>Array.isArray(U));for(const U of k){const B=U.findIndex(q=>q.id===a.id);B!==-1&&(U[B]=a,L=!0)}L&&this.setState({tabs:f.tabs})}),this.props.onChange&&this.props.onChange(a))}),!(this.props.pub||this.props.profile))throw new Error("Archive must be loaded for a publication or a profile");this.loadTab=this.loadTab.bind(this),this.state=this.getTabs()}componentDidMount(){this.loadTab(this.state.tab.id)}componentWillUnmount(){this.state.tab.id==="search"&&this.searchInput&&this.searchInput.blur()}componentDidUpdate(t){(t.hideTop!==this.props.hideTop||t.newPosts!==this.props.newPosts)&&this.setState(this.getTabs())}getTabs(){var t,o;let a=[];const{iString:f}=this.props;a.push({id:"new",title:this.props.newTitle||f("New"),posts:this.props.newPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.newPosts)}),(!this.props.newPosts||this.props.newPosts.length>=this.getFetchLimit())&&(this.props.hideTop||a.push({id:"top",title:this.props.topTitle||f("Top"),posts:this.props.topPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.topPosts)}),(t=this.props.pub)!=null&&t.community_enabled&&((o=this.props.pub)!=null&&o.has_community_content)&&a.push({id:"community",title:this.props.communityTitle||f("Community"),posts:this.props.communityPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.communityPosts)})),a=this.props.sortTabs&&this.props.sortTabs(a)||a,(this.props.sort==="search"||!(this.props.newPosts&&this.props.newPosts.length<this.getFetchLimit()))&&a.push({id:"search",title:f("Search"),posts:this.props.searchPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.searchPosts),query:this.props.search||"",hidden:!0});const L=a.find(k=>k.id===this.props.sort)||this.props.search&&a.find(k=>k.id==="search")||a[0];return{tabs:a,tab:L}}getFetchLimit(){return this.props.maxPosts||12}render({authorInMeta:t,className:o,disableInteractive:a,emptyMessage:f,filterPosts:L,hideAuthor:k,hideSearchTab:U,hideShare:B,isBelowTheFold:q,isPodcast:pe,maxPosts:ge,maxTitleLength:Pe,pinnedPosts:Ee,profile:Me,pub:De,renderLoading:Ue,renderPosts:Fe,renderTabs:Ye,renderSeeAll:st,showMonthDividers:nt,showPins:at,showPublicationName:yt,source:Et,user:Ct,iString:It,iTemplate:Tt},{tabs:Rt,tab:wt}){f=f||It("No posts");const Qt=nt&&wt.id==="new",jt=Rt.find(mt=>mt.id==="search"),qt=Rt.find(mt=>mt.id==="community");let ln=Array.isArray(wt.posts)?wt.posts.filter(mt=>!(De&&wt.id==="top"&&mt.top_exclusions.includes(De.id))).filter(mt=>De!=null&&De.section&&(Ee!=null&&Ee.length)?!Ee.find(hn=>hn.id===mt.id):!0).filter(mt=>!Ne.hidePaidPostsFor.includes(De==null?void 0:De.subdomain)||mt.audience==="everyone"||(Ct==null?void 0:Ct.is_subscribed)).filter(L||(()=>!0)):[];De!=null&&De.section&&(Ee!=null&&Ee.length)&&["new","top"].includes(wt.id)&&(ln=[...Ee,...ln]);const Bt=ln.length===0,zt=!ln&&!wt.loadingError,on=ln.some&&ln.some(mt=>mt.cover_image);let Yt;Me&&(Yt=new Map(Me.publicationUsers.map(mt=>[mt.publication.id,mt.publication])));const Zt=ge?ln.slice(0,ge):ln,xt=Fe?Fe({posts:Zt,linkToComments:wt===qt,onClickPost:({event:mt,post:hn,index:Xt,source:vn})=>this.onPostClicked(mt,hn.id,Xt,vn),postGroups:Qt?pL(Zt,De.language):null}):[];if(!Fe){let mt;Zt.forEach((hn,Xt)=>{if(Qt){const vn=Vt()(hn.post_date).format("MMMM YYYY");vn!==mt&&(Xt!==0&&xt.push((0,e.h)("h3",null,vn)),mt=vn)}xt.push((0,e.h)(Wv,{key:hn.id,className:"portable-archive-post",post:hn,pub:De||Yt&&Yt.get(hn.publication_id),user:Ct,showDate:!0,showCoverImage:on,authorInMeta:(0,Ne.getBylineUsers)(hn).length<=1&&t!==!1,linkToComments:wt===qt,onChange:this.onChange,disableInteractive:a,showPins:at,showPublicationName:yt,hideAuthor:k,onClick:vn=>this.onPostClicked(vn,hn.id,Xt,Et),maxTitleLength:Pe,hideShare:B,isBelowTheFold:q}))})}const Dt=pe?(0,G.getPodcastArchiveUrl)({pub:De,section:De.section,params:{sort:wt.id,search:wt.query}}):(0,g.getArchiveUrl)(De,{params:{sort:wt.id,search:wt.query}}),kt=st?st({url:Dt}):(0,e.h)("a",{className:"portable-archive-all",href:Dt,native:!0},It("See all")," ",(0,e.h)(Ge,{height:12,width:12})),Gt=Ue?Ue():Array.from(new Array(this.getFetchLimit())).map(()=>(0,e.h)(rL,{pub:De}));return(0,e.h)("div",{className:u()("portable-archive",o,{"empty-list":Bt})},Ye&&Ye({activeTabId:wt.id,isSearching:wt===jt,showSearch:!!(jt&&!U),searchInputProps:{value:jt==null?void 0:jt.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur},searchRef:mt=>{this.searchInput=mt},tabs:Rt.filter(mt=>!mt.hidden),onClick:mt=>{this.loadTab(mt)},onClickSearch:()=>{this.loadTab("search")},onClickSearchClose:()=>{this.loadTab(Rt[0].id)}}),!Ye&&(0,e.h)("div",{className:"portable-archive-tabs"},wt===jt?(0,e.h)("div",{className:"portable-archive-search-bar"},(0,e.h)(Wl,{className:"portable-archive-search-bar-icon"}),(0,e.h)("input",{ref:mt=>this.searchInput=mt,className:"portable-archive-search-bar-input",type:"text",placeholder:It("Search..."),value:wt.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur}),(0,e.h)(s.Z,{className:"portable-archive-search-bar-close",onClick:this.onTabClick(Rt[0].id)})):(0,e.h)(e.Fragment,null,Rt.filter(mt=>!mt.hidden).map(({id:mt,title:hn})=>(0,e.h)("a",{className:`portable-archive-tab ${mt}-tab ${wt.id===mt?"active":""}`,onClick:this.onTabClick(mt)},(0,e.h)("span",{className:"portable-archive-tab-content"},hn))),jt&&!U&&(0,e.h)("a",{className:"portable-archive-tab search-tab",href:"javascript:void(0)",onClick:this.onTabClick("search")},(0,e.h)(Wl,null)))),(0,e.h)("div",{className:"portable-archive-list"},wt.loadingError?(0,e.h)("p",{className:"portable-archive-empty"},It("Failed to load posts")):ln.length===0&&!wt.loading?(0,e.h)("p",{className:"portable-archive-empty"},wt.id!=="search"?f:wt.query?It("No results"):Tt`Search ${De?De.name:""}`):(0,e.h)(e.Fragment,null,xt,!ge&&!zt&&!wt.loading&&!wt.fullyLoaded&&(0,e.h)(W,{threshold:640,onVisible:()=>this.loadTab(wt.id,wt.query)})),wt.loading||zt?Gt:ge&&ln.length>=ge&&kt))}}const of=(0,A.fz)(fL),pL=(r,t="en")=>{let o;const a=[];return r.forEach((f,L)=>{const k=Vt()(f.post_date).locale(t).format("MMMM YYYY");k!==o?(L===0?a.push({label:"",posts:[f]}):a.push({label:k,posts:[f]}),o=k):a[a.length-1].posts.push(f)}),a},af={container:"frontend-main-home-Layout-module__container--GJ6Wt","full-width":"frontend-main-home-Layout-module__full-width--ziPTp","full-width-with-sidebar":"frontend-main-home-Layout-module__full-width-with-sidebar--vLFfe","show-below":"frontend-main-home-Layout-module__show-below--NmYGu","three-column-width":"frontend-main-home-Layout-module__three-column-width--hAsTb","three-column-width-with-sidebar":"frontend-main-home-Layout-module__three-column-width-with-sidebar--a1h_K","one-column-two-column":"frontend-main-home-Layout-module__one-column-two-column--qBLtq","one-column-two-column-one-column":"frontend-main-home-Layout-module__one-column-two-column-one-column--uQ3yl"},ha=({children:r,showContentBelowOnMobile:t,stretchVertically:o,variant:a})=>(0,e.h)("div",{style:o?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:u()(af.container,af[a],{[af["show-below"]]:t})},r)),Ts=({numColumns:r,paddingBottom:t,paddingTop:o})=>(0,e.h)(ha,{variant:r===3?"three-column-width":"full-width"},(0,e.h)(d.tu,{paddingBottom:typeof t=="number"?t:24,paddingTop:typeof o=="number"?o:24},(0,e.h)(d.hs,{borderBottom:"detail-themed"}))),sf=(0,e.createContext)({url:"",linkToComments:!1}),Ds=3/2,Ms=16/9,hL=(0,$t.forwardRef)(({animated:r=!0,variant:t},o)=>["grid","grid-groups"].includes(t)?(0,e.h)(d.tu,{gap:12,ref:o},(0,e.h)(go,{animated:r,aspectRatio:Ds}),(0,e.h)(d.tu,{gap:8},(0,e.h)(go,{animated:r,height:24,width:"70%"}),(0,e.h)(go,{animated:r,height:20,width:"90%"}),(0,e.h)(go,{animated:r,height:20,width:"50%"}))):t==="list"?(0,e.h)(d.tu,{gap:8,ref:o},(0,e.h)(go,{animated:r,height:28,width:"60%"}),(0,e.h)(go,{animated:r,height:24,width:"80%"}),(0,e.h)(go,{animated:r,height:20,width:"20%"})):null),Vv={loadingContainerGrid:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerGrid--uCg9L",loadingContainerList:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerList--Hndyu"},lf=(0,$t.forwardRef)(({animated:r=!0,postCount:t,variant:o},a)=>(0,e.h)("div",{className:u()({[Vv.loadingContainerGrid]:["grid","grid-groups"].includes(o),[Vv.loadingContainerList]:o==="list"}),ref:a},Array.from(new Array(t)).map(()=>(0,e.h)(hL,{variant:o,animated:r})))),$v={pillTab:"frontend-pencraft-unstable-PillTabs-module__pillTab--cqGWE",pillTabActive:"frontend-pencraft-unstable-PillTabs-module__pillTabActive--bmZsx"},mL=({tabs:r,activeTabId:t,onClick:o})=>(0,e.h)(de.gq,{gap:8},r.map(a=>(0,e.h)(_L,{onClick:()=>{o(a.id)},active:a.id===t},a.title))),_L=({active:r,onClick:t,children:o})=>(0,e.h)("div",{className:u()($v.pillTab,{[$v.pillTabActive]:r}),role:"button",onClick:t},o),As={iconButton:"frontend-main-home-ArchiveAdapted-module__iconButton--_iQQr",searchInput:"frontend-main-home-ArchiveAdapted-module__searchInput--ZBorP",searchIcon:"frontend-main-home-ArchiveAdapted-module__searchIcon--cweE0",monthHeader:"frontend-main-home-ArchiveAdapted-module__monthHeader--H_zx5"};var gL=Object.defineProperty,vL=Object.defineProperties,yL=Object.getOwnPropertyDescriptors,Zv=Object.getOwnPropertySymbols,PL=Object.prototype.hasOwnProperty,bL=Object.prototype.propertyIsEnumerable,Gv=(r,t,o)=>t in r?gL(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,EL=(r,t)=>{for(var o in t||(t={}))PL.call(t,o)&&Gv(r,o,t[o]);if(Zv)for(var o of Zv(t))bL.call(t,o)&&Gv(r,o,t[o]);return r},OL=(r,t)=>vL(r,yL(t));const vu=({children:r,communityTitle:t,delayFirstLoad:o,filterPosts:a,isBelowTheFold:f,isPodcast:L,maxPosts:k,pinnedPosts:U,newPosts:B,pub:q,search:pe,sectionId:ge,showMonthDividers:Pe,sort:Ee,sortTabs:Me,source:De,user:Ue,variant:Fe="list"})=>{const{iString:Ye}=(0,A.M1)(),{getSettingFor:st}=(0,it.So)(),nt=(0,Ne.ensureInList)(st("post_preview_crop_gravity"),["center","auto"]);return(0,e.h)(Vl.Provider,{value:{alwaysShowActions:!1,cropGravity:nt}},(0,e.h)(of,{communityTitle:t,delayFirstLoad:o,filterPosts:a,isBelowTheFold:f,isPodcast:L,maxPosts:k,newPosts:B,pinnedPosts:U,pub:q,renderPosts:({posts:at,linkToComments:yt,onClickPost:Et,postGroups:Ct})=>Ct?Ct.map(({label:It,posts:Tt})=>(0,e.h)(e.Fragment,null,It&&(0,e.h)(e.Fragment,null,(0,e.h)(Ts,{paddingTop:8,paddingBottom:8}),(0,e.h)(d.xv.Meta,{className:As.monthHeader,color:"pub-accent",paddingBottom:24},It)),r({posts:Tt,linkToComments:yt,onClickPost:Et}))):r({posts:at,linkToComments:yt,onClickPost:Et}),renderLoading:()=>(0,e.h)(lf,{variant:Fe,postCount:k!=null?k:7}),renderSeeAll:({url:at})=>Fe==="grid-groups"?null:(0,e.h)(d.gq,{paddingTop:16},(0,e.h)(d.zx,{href:at,rightIcon:(0,e.h)(Gi.Z,{size:20}),priority:"secondary-theme",fill:"outline","data-testid":"archive-view-all"},Ye("See all"))),renderTabs:({activeTabId:at,isSearching:yt,tabs:Et,searchInputProps:Ct,searchRef:It,showSearch:Tt,onClick:Rt,onClickSearch:wt,onClickSearchClose:Qt})=>Fe==="grid-groups"?null:yt?(0,e.h)(d.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16},(0,e.h)(d.gq,{gap:4,alignItems:"center",paddingLeft:8},(0,e.h)(Wl,{height:16,className:As.searchIcon}),(0,e.h)("input",OL(EL({},Ct),{ref:It,type:"text",placeholder:Ye("Search..."),className:As.searchInput}))),(0,e.h)("div",{role:"button",onClick:Qt,className:As.iconButton},(0,e.h)(s.Z,{height:20}))):(0,e.h)(d.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16},(0,e.h)(mL,{activeTabId:at,tabs:Et,onClick:Rt}),Tt&&(0,e.h)("div",{role:"button",onClick:wt,className:As.iconButton},(0,e.h)(Wl,{height:20}))),sectionId:ge,search:pe,showMonthDividers:Pe,sort:Ee,sortTabs:Me,source:De,stateInUrl:!0,user:Ue}))},CL=({justified:r,post:t,pub:o,user:a,onChange:f,onToggleMenu:L})=>{const k=t.type==="restack";return(0,e.h)(qn._2,{allowEdit:!k,editButtonIsLast:!0,hideComments:!(0,Ne.showCommentsOnPost)({publication:o,post:t})||k,hideReactions:!o.community_enabled||k,hideShare:k,isStatic:!1,justified:r,labelStyle:"counts-or-none",post:t,pub:o,hideFeedRestackButton:k,showRestackButton:!k,style:"compressed",user:a,position:"pub-preview",onChange:f,onToggleMenu:L})},ma={textContainer:"frontend-main-home-PostPreview-PostPreviewAuthors-module__textContainer--DYUfJ",date:"frontend-main-home-PostPreview-PostPreviewAuthors-module__date--MMeK8",pub:"frontend-main-home-PostPreview-PostPreviewAuthors-module__pub--OGpa8",icon:"frontend-main-home-PostPreview-PostPreviewAuthors-module__icon--Q4O7L",iconClamped:"frontend-main-home-PostPreview-PostPreviewAuthors-module__iconClamped--X6gF7",link:"frontend-main-home-PostPreview-PostPreviewAuthors-module__link--XzaS3"},Za=({clamp:r,post:t,pub:o,showPin:a})=>{const f=(0,Ne.getBylineUsers)(t),{iTemplate:L,language:k}=(0,A.M1)();return(0,e.h)(d.xv.Meta,{className:ma.textContainer,color:"pub-secondary-text",clamp:r},a&&(0,e.h)("div",{className:ma.icon},(0,e.h)(P0,{size:12})),(0,dn.isPaidAudience)(t.audience)&&!(0,La.hidePaidPostUI)({post:t})&&(0,e.h)("div",{className:u()(ma.icon,r&&ma.iconClamped)},(0,e.h)(Og.Z,{audience:t.audience,size:12})),t.restacked_pub_name?(0,e.h)(e.Fragment,null,(0,e.h)("span",{className:ma.pub},L`Published on ${t.restacked_pub_name}`),"\xA0","\u2022","\xA0"):null,(0,e.h)("time",{className:ma.date,dateTime:sn()(t.post_date).toISOString()},(0,qn.fh)({post:t,showDatetime:!1,language:k})),t.type!=="restack"&&f.length>0&&o.bylines_enabled&&(0,e.h)(e.Fragment,null,"\xA0","\u2022","\xA0",(0,Ne.oxfordComma)(f.map(U=>r?(0,e.h)("a",{className:ma.link,href:(0,g.getProfileUrl)(U,o),onClick:B=>B.stopPropagation()},U.name):(0,e.h)(mo.Ct,{subject:U,utmSource:"byline"},(0,e.h)("a",{className:ma.link,href:(0,g.getProfileUrl)(U,o),onClick:B=>B.stopPropagation()},U.name))),{noBreakSpace:!0})))},Ls=({align:r,clamp:t,lineHeight:o=20,maxLength:a=152,paddingBottom:f,post:L,size:k=14})=>{const{url:U}=(0,n.qp)(sf);return(0,e.h)(d.tu,{paddingBottom:f},(0,e.h)(d.xv,{as:"a",align:r,href:U,clamp:t,color:"pub-secondary-text",font:"text",size:k,lineHeight:o},Tr()((0,Ne.truncateWords)(L.description,a))))};var zv=Ke(98961);const uf={sm:{size:14,lineHeight:20},md:{size:18,lineHeight:28},lg:{size:28,lineHeight:40},mobileMd:{size:16,lineHeight:24},mobileLg:{size:24,lineHeight:36}},_a={icon:"frontend-main-home-PostPreview-PostPreviewTitle-module__icon--ftllQ","iconVideo-16":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-16--SoCpZ","iconVideo-20":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-20--ZxgZa","iconVideo-28":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-28--q2Mu_","iconVideo-32":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-32--sMZ1R"},Ci=({align:r,clamp:t,maxLength:o=140,paddingBottom:a,post:f,preset:L})=>{var k;const{url:U,linkToComments:B}=(0,n.qp)(sf),{lineHeight:q,size:pe}=uf[L],ge=pe>=28;return(0,e.h)(d.tu,{paddingBottom:a},(0,e.h)(d.xv,{as:"a",href:U,align:r,clamp:t,font:"pub-headings",lineHeight:q,size:pe,weight:"semibold","data-testid":"post-preview-title"},f.type==="thread"&&(0,e.h)(Gd,{height:ge?26:17,className:_a.icon}),f.type==="podcast"&&(f.videoUpload&&((k=f.videoUpload)==null?void 0:k.media_type)==="video"?(0,e.h)(zv.Z,{height:ge?26:19,width:ge?26:19,className:u()(_a.icon,_a.iconVideo,_a[`iconVideo-${pe}`]),strokeWidth:1.8}):(0,e.h)(Zd,{height:ge?26:17,className:_a.icon})),f.type==="video"&&(0,e.h)(zv.Z,{height:ge?26:19,width:ge?26:19,className:u()(_a.icon,_a.iconVideo,_a[`iconVideo-${pe}`]),strokeWidth:1.8}),B&&f.type!=="thread"&&"Comments on: ",(0,Ne.truncateWords)(f.title,o)))},yu={container:"frontend-main-home-PostPreview-PostPreviewJumbo-module__container--TIl7m",containerNoImage:"frontend-main-home-PostPreview-PostPreviewJumbo-module__containerNoImage--hOvi7",image:"frontend-main-home-PostPreview-PostPreviewJumbo-module__image--kibZN",content:"frontend-main-home-PostPreview-PostPreviewJumbo-module__content--PDmTG"};var wL=Object.defineProperty,SL=Object.defineProperties,IL=Object.getOwnPropertyDescriptors,Yv=Object.getOwnPropertySymbols,TL=Object.prototype.hasOwnProperty,DL=Object.prototype.propertyIsEnumerable,Jv=(r,t,o)=>t in r?wL(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,ML=(r,t)=>{for(var o in t||(t={}))TL.call(t,o)&&Jv(r,o,t[o]);if(Yv)for(var o of Yv(t))DL.call(t,o)&&Jv(r,o,t[o]);return r},AL=(r,t)=>SL(r,IL(t));const Xv=({actions:r,isSmall:t,post:o,pub:a})=>{const{isTablet:f}=(0,cr.v9)(),L=!!(0,dn.getCoverImageUrl)(o);return(0,e.h)("div",{className:u()(yu.container,{[yu.containerNoImage]:!L})},L&&(0,e.h)(pa,{className:yu.image,imageAspectRatio:t?Ds:Ms,imageWidth:1280,isBelowTheFold:!1,post:o,squareImageSize:"large"}),(0,e.h)(d.tu,{className:yu.content,alignItems:"center",justifyContent:"center",paddingX:L?32:64,paddingY:L?24:64},(0,e.h)(Ci,{post:o,align:"center",preset:f?"mobileLg":"lg",clamp:3,paddingBottom:8}),(0,e.h)(Ls,{post:o,align:"center",size:16,lineHeight:24,clamp:3,paddingBottom:20}),(0,e.h)(Za,{post:o,pub:a}),(0,e.h)(d.tu,{paddingTop:20},r({justified:!1}))))},LL=r=>(0,e.h)(Xv,AL(ML({},r),{isSmall:!0})),NL={image:"frontend-main-home-PostPreview-PostPreviewLarge-module__image--jXUNi"},xL=({actions:r,hideImage:t,imageAspectRatio:o,post:a,pub:f})=>(0,e.h)(d.tu,null,!t&&(0,e.h)(pa,{post:a,className:NL.image,imageWidth:1250,imageAspectRatio:o==="wide"?Ms:Ds,isBelowTheFold:!1,squareImageSize:"large"}),(0,e.h)(d.tu,{flex:"grow",alignItems:"center",justifyContent:"center",paddingX:24,paddingY:16},(0,e.h)(Ci,{post:a,align:"center",preset:"lg",clamp:4,paddingBottom:8}),(0,e.h)(Ls,{post:a,align:"center",size:16,lineHeight:24,clamp:2,paddingBottom:16}),(0,e.h)(Za,{post:a,pub:f}),(0,e.h)(d.tu,{paddingTop:16},r({justified:!1})))),cf={container:"frontend-main-home-PostPreview-PostPreviewListing-module__container--zH3ui","container--no-image":"frontend-main-home-PostPreview-PostPreviewListing-module__container--no-image--so05t",image:"frontend-main-home-PostPreview-PostPreviewListing-module__image--RoIBP"},RL=({actions:r,hideImage:t,post:o,pub:a,showPin:f})=>{const{isMobile:L}=(0,cr.v9)();let k=!!a.community_enabled;return t&&!L&&(k=!1),(0,e.h)("div",{className:u()(cf.container,{[cf["container--no-image"]]:t})},(0,e.h)(d.tu,{gap:8,position:"relative"},(0,e.h)(Ci,{clamp:3,post:o,preset:L?"mobileMd":"md"}),(0,e.h)(Ls,{clamp:2,post:o,size:14,lineHeight:t?24:20}),(0,e.h)(Za,{post:o,pub:a,showPin:f})),!t&&(o.cover_image?(0,e.h)(pa,{className:cf.image,post:o,imageWidth:L?150:320,imageAspectRatio:L?1:Ds,isBelowTheFold:!0,squareImageSize:"small"}):(0,e.h)("div",null)),r({justified:k}))},BL={image:"frontend-main-home-PostPreview-PostPreviewMini-module__image--Zfhnm"},UL=({actions:r,post:t,pub:o})=>{const a=!!o.community_enabled;return(0,e.h)(d.tu,{padding:8},(0,e.h)(d.gq,{gap:12,paddingBottom:8,flex:"grow"},(0,e.h)(d.tu,{flex:"grow"},(0,e.h)(Ci,{post:t,clamp:2,preset:"sm",paddingBottom:4}),(0,e.h)(Za,{clamp:1,post:t,pub:o})),(0,e.h)(pa,{className:BL.image,hidePlaceholder:!0,imageWidth:150,imageAspectRatio:1,isBelowTheFold:!1,post:t})),r({justified:a}))},kL={image:"frontend-main-home-PostPreview-PostPreviewMobileHero-module__image--kXonK"},FL=({actions:r,hidePlaceholder:t,post:o,pub:a})=>{const f=!!a.community_enabled;return(0,e.h)(d.tu,null,o.cover_image&&(0,e.h)(pa,{post:o,className:kL.image,imageWidth:1250,imageAspectRatio:Ms,isBelowTheFold:!1,hidePlaceholder:t,squareImageSize:"large"}),(0,e.h)(d.tu,{flex:"grow",justifyContent:"center",paddingX:16,paddingTop:16},(0,e.h)(d.tu,{gap:8,paddingBottom:12},(0,e.h)(Ci,{post:o,preset:"mobileLg",clamp:3}),(0,e.h)(Ls,{post:o,size:14,lineHeight:20,clamp:3}),(0,e.h)(Za,{post:o,pub:a})),r({justified:f})))},WL={image:"frontend-main-home-PostPreview-PostPreviewSquare-module__image--yvn4j"},jL=({actions:r,post:t,pub:o})=>{const{isMobile:a}=(0,cr.v9)(),f=!!o.community_enabled;return(0,e.h)(d.tu,{padding:a?0:8},(0,e.h)(pa,{post:t,className:WL.image,imageWidth:600,imageAspectRatio:Ds,isBelowTheFold:!0,squareImageSize:"medium"}),(0,e.h)(d.tu,{flex:"grow",gap:12,paddingTop:12},(0,e.h)(d.tu,{gap:8,flex:"grow"},(0,e.h)(Ci,{clamp:3,post:t,preset:"md"}),(0,e.h)(Ls,{clamp:1,post:t}),(0,e.h)(Za,{post:t,pub:o})),r({justified:f})))},wi={container:"frontend-main-home-PostPreview-index-module__container--gXuU1",containerWithBackground:"frontend-main-home-PostPreview-index-module__containerWithBackground--p7B8K","container--menu-open":"frontend-main-home-PostPreview-index-module__container--menu-open--js7AZ",actions:"frontend-main-home-PostPreview-index-module__actions--eae29","actions--always-show":"frontend-main-home-PostPreview-index-module__actions--always-show--XnNzu","actions--menu-open":"frontend-main-home-PostPreview-index-module__actions--menu-open--HkA_4"},KL={jumbo:Xv,"jumbo-small":LL,large:xL,listing:RL,mini:UL,"mobile-hero":FL,square:jL},Si=({disableInteractive:r,hideImage:t,hideWash:o,imageAspectRatio:a,linkToComments:f,variant:L,post:k,pub:U,showPin:B,testid:q,user:pe,utm:ge,onChange:Pe,onClick:Ee})=>{const{alwaysShowActions:Me}=(0,n.qp)(Vl),[De,Ue]=(0,n.eJ)(!1),Fe=(0,n.I4)(({active:yt})=>{Ue(yt)},[]),Ye=KL[L];if(!Ye)return(0,e.h)("div",null,"PostPreview: ",L," not implemented");const st=HL({linkToComments:!!f,post:k,pub:U,utm:ge}),nt=yt=>{Ee&&Ee(yt),!r&&(0,i.redirect)(st,{event:yt})},at=["large","jumbo","jumbo-small"].includes(L);return(0,e.h)(sf.Provider,{value:{url:st,linkToComments:!!f}},(0,e.h)(d.tu,{className:u()(wi.container,{[wi.containerWithBackground]:!o&&at,[wi["container--menu-open"]]:De}),"data-testid":q,radius:6,onClick:nt},(0,e.h)(Ye,{hideImage:t,imageAspectRatio:a,post:k,pub:U,showPin:B,actions:({justified:yt})=>k.type==="restack"?null:(0,e.h)(d.tu,{className:u()(wi.actions,{[wi["actions--menu-open"]]:De,[wi["actions--always-show"]]:Me})},(0,e.h)(CL,{justified:yt,post:k,pub:U,user:pe,onChange:Pe,onToggleMenu:Fe}))})))},HL=({linkToComments:r,post:t,pub:o,utm:a})=>r?(0,G.getPostUrl)(o,t,{comments:!0}):t.type==="video"?(0,g.updateQuery)(t.canonical_url,{autoPlay:!0}):a?(0,G.pathWithQuery)(t.canonical_url,a):t.canonical_url,Eo={container:"frontend-main-home-PostsLayout-module__container--ZMlBv","two-small-one-large":"frontend-main-home-PostsLayout-module__two-small-one-large--dUc84",divider:"frontend-main-home-PostsLayout-module__divider--AxHuX","two-column-grid":"frontend-main-home-PostsLayout-module__two-column-grid--B3xhg","long-divider":"frontend-main-home-PostsLayout-module__long-divider--be7gz","three-column-grid":"frontend-main-home-PostsLayout-module__three-column-grid--eqPl6","four-column-grid":"frontend-main-home-PostsLayout-module__four-column-grid--KCnzZ","one-column-list":"frontend-main-home-PostsLayout-module__one-column-list--oWTZ1","large-listing-listing-column":"frontend-main-home-PostsLayout-module__large-listing-listing-column--kMStX","square-square-column":"frontend-main-home-PostsLayout-module__square-square-column--fCDpp","two-column-list":"frontend-main-home-PostsLayout-module__two-column-list--dzbTj","five-up":"frontend-main-home-PostsLayout-module__five-up--h8UyE","mini-row":"frontend-main-home-PostsLayout-module__mini-row--qwBsL","three-column-mini-row":"frontend-main-home-PostsLayout-module__three-column-mini-row--dyBS2"};var VL=Object.defineProperty,$L=Object.defineProperties,ZL=Object.getOwnPropertyDescriptors,Pu=Object.getOwnPropertySymbols,Qv=Object.prototype.hasOwnProperty,qv=Object.prototype.propertyIsEnumerable,e1=(r,t,o)=>t in r?VL(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,ga=(r,t)=>{for(var o in t||(t={}))Qv.call(t,o)&&e1(r,o,t[o]);if(Pu)for(var o of Pu(t))qv.call(t,o)&&e1(r,o,t[o]);return r},Ns=(r,t)=>$L(r,ZL(t)),t1=(r,t)=>{var o={};for(var a in r)Qv.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&Pu)for(var a of Pu(r))t.indexOf(a)<0&&qv.call(r,a)&&(o[a]=r[a]);return o};const br=r=>{const{flex:t,hideImages:o,linkToComments:a,posts:f,pub:L,showSectionPins:k,source:U,user:B,utm:q,variant:pe,onChange:ge,onClickPost:Pe}=r;return pe==="two-three-two"?(0,e.h)(zL,ga({},r)):pe==="two-small-three-medium"?(0,e.h)(GL,ga({},r)):["mini-row","three-column-mini-row"].includes(pe)?(0,e.h)(YL,ga({},r)):(0,e.h)("div",{style:t==="grow"?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:u()(Eo.container,Eo[pe])},f.map((Ee,Me)=>(0,e.h)(e.Fragment,null,Me>0&&["one-column-list","two-column-list","two-column-grid","three-column-grid","four-column-grid","large-listing-listing-column","square-square-column"].includes(pe)&&(0,e.h)(d.gq,{className:Eo.divider,borderBottom:"detail-themed"}),[2,4].includes(Me)&&pe==="five-up"&&(0,e.h)(d.gq,{className:Eo.divider,borderBottom:"detail-themed"}),Me%2===0&&Me>0&&["two-column-grid"].includes(pe)&&(0,e.h)(d.gq,{className:Eo["long-divider"],borderBottom:"detail-themed"}),Me%3===0&&Me>0&&["three-column-grid"].includes(pe)&&(0,e.h)(d.gq,{className:Eo["long-divider"],borderBottom:"detail-themed"}),Me%4===0&&Me>0&&["four-column-grid"].includes(pe)&&(0,e.h)(d.gq,{className:Eo["long-divider"],borderBottom:"detail-themed"}),Me>0&&["mini-row","three-column-mini-row"].includes(pe)&&(0,e.h)(d.gq,{className:Eo.divider,paddingY:16,alignItems:"center"},(0,e.h)(d.gq,{borderLeft:"detail-themed"})),(0,e.h)(Si,{testid:["large-listing-listing-column","two-small-one-large"].includes(pe)?`magazine-spot-${Me+1}`:void 0,hideImage:o,linkToComments:a,post:Ee,pub:L,showPin:k&&Ee.is_section_pinned,user:B,utm:q,variant:n1(pe,Me),onChange:ge,onClick:Pe&&U?De=>{Pe({event:De,post:Ee,index:Me,source:U})}:void 0}))),pe==="two-small-one-large"&&(0,e.h)(d.gq,{borderBottom:"detail-themed"})))},GL=r=>{const t=r,{posts:o}=t,a=t1(t,["posts"]),f=o.slice(0,3),L=o.slice(3);return(0,e.h)(ha,{variant:"one-column-two-column",stretchVertically:!0},(0,e.h)(br,Ns(ga({},a),{flex:"grow",variant:"large-listing-listing-column",posts:f,hideImages:!0})),(0,e.h)(br,Ns(ga({},a),{flex:"grow",variant:"square-square-column",posts:L,hideImages:!1})))},zL=r=>{const t=r,{posts:o}=t,a=t1(t,["posts"]),f=o.slice(0,3),L=o.slice(3,5),k=o.slice(5);return(0,e.h)(ha,{variant:"one-column-two-column-one-column",stretchVertically:!0},(0,e.h)(br,Ns(ga({},a),{flex:"grow",variant:"large-listing-listing-column",posts:f,hideImages:!0})),(0,e.h)(br,Ns(ga({},a),{flex:"grow",variant:"square-square-column",posts:L,hideImages:!1})),(0,e.h)(br,Ns(ga({},a),{flex:"grow",variant:"square-square-column",posts:k,hideImages:!1})))},YL=r=>{const{linkToComments:t,posts:o,pub:a,source:f,user:L,utm:k,variant:U,onChange:B,onClickPost:q}=r,pe=U==="mini-row"?4:3;return(0,e.h)("div",null,(0,e.h)("div",{className:u()(Eo.container,Eo[U])},o.slice(0,pe).map((ge,Pe)=>(0,e.h)(e.Fragment,null,Pe>0&&(0,e.h)(d.gq,{className:Eo.divider,paddingY:16,alignItems:"center"},(0,e.h)(d.gq,{borderLeft:"detail-themed"})),(0,e.h)(Si,{linkToComments:t,post:ge,pub:a,user:L,utm:k,variant:n1(U,Pe),onChange:B,onClick:q&&f?Ee=>{q({event:Ee,post:ge,index:Pe,source:f})}:void 0}))),U==="two-small-one-large"&&(0,e.h)(d.gq,{borderBottom:"detail-themed"})))},n1=(r,t)=>r==="square-square-column"?"square":r==="large-listing-listing-column"?t===0?"large":"listing":r==="two-small-one-large"?t===0?"large":"square":r==="two-column-list"?"listing":r==="five-up"?t===0?"large":"square":["mini-row","three-column-mini-row","one-column-list"].includes(r)?"mini":"square",JL={container:"frontend-main-archive_page-module__container--Brctc"};function xs({children:r,title:t,pub:o,user:a,freeSignup:f,freeSignupEmail:L,sort:k,search:U,newPosts:B,topPosts:q,communityPosts:pe,searchPosts:ge,sectionId:Pe,isPodcast:Ee,metadata:Me}){const De=!!(o!=null&&o.theme),{iString:Ue,iTemplate:Fe}=(0,A.M1)();return(0,e.h)(F.ze,{value:{hasThemedBackground:De}},Me&&(0,i.setMetaData)(Me),(0,e.h)("div",{className:u()("archive-page typography",JL.container,{"use-theme-bg":De})},(0,e.h)("div",{className:"container"},t&&(0,e.h)("h2",null,t),(0,e.h)(vu,{communityPosts:pe,communityTitle:Ue("Discussion"),freeSignup:f,freeSignupEmail:L,isPodcast:Ee,newPosts:B,pub:o,search:U,searchPosts:ge,sectionId:Pe,showMonthDividers:!0,sort:k,source:"archive",topPosts:q,user:a,variant:"list"},({posts:Ye,linkToComments:st,onClickPost:nt})=>(0,e.h)(br,{hideImages:o.theme.hide_images_from_list,linkToComments:st,posts:Ye,pub:o,user:a,variant:"two-column-list",onChange:()=>{},onClickPost:nt})),r)))}var XL=Object.defineProperty,QL=(r,t,o)=>t in r?XL(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,r1=(r,t,o)=>(QL(r,typeof t!="symbol"?t+"":t,o),o),df=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});class o1 extends e.Component{constructor(t,o){super(t,o),r1(this,"likesEnabled",(0,Mr.default)("like_posts_enabled")),this.state={posts:null,hasMore:!0,loading:!1},this.props.notify_user&&typeof window!="undefined"&&(0,aa.ZP)(this.props.notify_user)}componentDidMount(){return df(this,null,function*(){this.triggerShareOnLoad(),yield this.loadMore()})}getBatchSize(){return 5}loadMore(){return df(this,null,function*(){if(!this.state.hasMore)return;(yield(0,i.stateLock)(this,"loading",o=>df(this,[o],function*({hasMore:a,posts:f}){if(a){f=f||[];try{const k=(yield et().get("/api/v1/posts").query({limit:this.getBatchSize(),offset:f.length})).body;f=f.concat(k),a=k.length>=this.getBatchSize(),this.makeSureIosCookiesArentBroken(k),this.setState({posts:f,hasMore:a})}catch(L){console.error(L)}return a}})))&&this.loader&&this.loader.checkVisibility()})}triggerShareOnLoad(){if((0,g.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,g.updateQuery)({action:null}));else return;this.setState({share_on_load:!0}),this.shareDialog.open()}makeSureIosCookiesArentBroken(t){if(!/iPad|iPhone|iPod/.test(navigator.userAgent)||this.props.user&&this.props.user.is_subscribed||!t||t.filter(f=>(0,dn.isPaidAudience)(f.audience)&&!f.hidden).length===0)return;const o="__cookie_checked",a=(0,g.parseQuery)(window.location.search);a[o]||(a[o]="true",window.location.search=`?${(0,g.serializeQuery)(a)}`)}onChange({post:t}){if(t){const o=(this.state.posts||[]).map(a=>a.id).indexOf(t&&t.id);o!==-1&&(this.state.posts[o]=t,this.setState({posts:this.state.posts}))}}render({user:t,pub:o,freeSignup:a,freeSignupEmail:f,preloadedPosts:L,hide_intro_popup:k,children:U,blurbs:B,noBalanceHeroText:q,launchWelcomePage:pe,skipIntoPopupRender:ge},{posts:Pe,hasMore:Ee,share_on_load:Me}){const De=[];for(const Ue of Pe||L||[])Ue.hidden?Array.isArray(De[De.length-1])?De[De.length-1].push(Ue):De.push([Ue]):De.push(Ue);return(0,e.h)("div",{className:"classic-home-page"},(0,e.h)(Ha.ZP,{ref:Ue=>this.shareDialog=Ue,user:t,pub:o}),ge?null:(0,e.h)(wn,{freeSignup:a,freeSignupEmail:f,user:t,post:null,publication:o,hidden:k||Me,blurbs:B,noBalance:q,launchWelcomePage:pe}),o&&o.subdomain==="sinocism"&&(0,e.h)("div",{className:"sinocism-hero-small"},(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"hero-text"},(0,e.h)("p",null,"Bill Bishop's Sinocism China Newsletter provides analysis, commentary and curated links to the important English and Chinese news of the day."),(0,e.h)("p",null,"Join thousands of other subscribers and gain valuable insights into China and its role in the world.")),(0,e.h)("div",{className:"hero-left"},(0,e.h)("p",{className:"review-quote"},"\u201CSinocism is the presidential daily brief for China hands.\u201D"),(0,e.h)("div",{className:"review-footer"},(0,e.h)("h3",null,"Evan Osnos"),(0,e.h)("p",null,"New Yorker correspondent and ",(0,e.h)("br",null),"National Book Award winner"))))),(0,e.h)("div",{className:"post-list"},De.length===0&&!Ee&&(0,e.h)("div",{className:"container-border coming-soon"},(0,e.h)("div",{className:"container"},(0,e.h)("p",null,"Coming soon"))),De.map((Ue,Fe)=>Array.isArray(Ue)?this.renderHiddenPosts(Ue,Fe):this.renderPost(Ue,Fe)),Ee?(0,e.h)("div",{className:"post-loader"},(0,e.h)("div",{className:"container"},(0,e.h)(W,{ref:Ue=>this.loader=Ue,noDedupe:!0,threshold:1280,onVisible:()=>this.loadMore()},(0,e.h)("p",null,"Loading more posts\u2026")))):o.has_posts&&Pe&&Pe.length>0&&(0,e.h)("div",{className:"container"},(0,e.h)("a",{className:"archive-link button invis",href:(0,g.getBaseArchiveUrl)(o)},"View archive"))),U)}renderPost(t){return(0,e.h)("div",{className:"container-border post-list-post"},(0,e.h)("div",{className:"container"},t.type==="thread"?(0,e.h)(fg,{post:t,user:this.props.user,pub:this.props.pub,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,invisible:!this.props.hide_intro_popup,showCta:!0,showReactions:this.likesEnabled}):(0,e.h)(_u,{post:t,user:this.props.user,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,pub:this.props.pub,invisible:!this.props.hide_intro_popup,truncateAt:1e4,truncateTo:8e3,onChange:o=>this.onChange(o),noTitleLink:!!this.props.disableInteractive,disableSubscribePrompt:!0})))}renderHiddenPosts(t,o){let a,f;return o===0?(a=t.slice(0,1),f=t.slice(1)):t.length<=3?(a=t,f=[]):(a=t.slice(0,2),f=t.slice(2)),(0,e.h)(qL,{user:this.props.user,pub:this.props.pub,posts:a,collapsedPosts:f,onChange:L=>this.onChange(L)})}}r1(o1,"contextType",tt.QA);class qL extends e.Component{toggle(){this.state.showing?this.setState({showing:!1}):(this.state.toggled||(0,P.j)(P.FP.COLLAPSED_POSTS_SHOWN,{num_visible_posts:this.props.posts.length,num_collapsed_posts:this.props.collapsedPosts.length}),this.setState({showing:!0,toggled:!0}))}render({user:t,pub:o,posts:a,collapsedPosts:f,onChange:L},{showing:k}){return(0,e.h)("div",{className:`container-border post-list-hidden-posts ${k?"showing":""}`},(0,e.h)("div",{className:"container"},a.map(U=>(0,e.h)(gu,{user:t,pub:o,post:U,onChange:L})),f.length>0&&(0,e.h)("div",{className:"collapse-toggle",onClick:()=>this.toggle()},k?"hide":`+${f.length} more`),f.map(U=>(0,e.h)(gu,{className:"collapsed",user:t,pub:o,post:U,utm_source:"home",onChange:L}))))}}var eN=Ke(2405);function ff(){const r=t=>{var o,a;(t.data==="3pc.supported"||t.data==="3pc.unsupported")&&(t.data==="3pc.supported"&&Array.from(document.getElementsByClassName("tiktok-wrap outer")).forEach(L=>{const k=L.querySelector(".tiktok-iframe");k.classList.add("visible"),L.querySelector(".tiktok-wrap.static").classList.add("hidden");const U=L.querySelector(".fallback-failure");U.classList.add("no-border");try{(k.contentDocument||k.contentWindow.document).readyState=="complete"&&U.classList.add("visible")}catch(B){}k.onload=()=>{U.classList.add("visible")},k.onerror=()=>{U.classList.add("visible")},k.onabort=()=>{U.classList.add("visible")}}),(a=(o=document.getElementsByClassName("third-party-cookie-check-iframe"))==null?void 0:o.forEach)==null||a.call(o,f=>f.remove()))};return window.addEventListener("message",r),()=>{window.removeEventListener("message",r)}}function mj(){useEffect(ff,[])}var pf=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});class tN extends e.Component{constructor(t,o){super(t,o),this.onVisible=f=>{const L=`${f} Seen`;this.state.post&&(this.state[L]||(this.setState({[L]:!0}),(0,P.j)(L,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))},this.fillEmbeddedEmailInputs=()=>{var f;const L=document.querySelectorAll('article.post input[type="email"]'),k=((f=this.state.user)==null?void 0:f.email)||this.props.freeSignupEmail;k&&L.forEach(U=>U.value=k),this.setState({embeddedEmailInputsFilled:!0})};const{user:a}=t;t.post?this.state={post:t.post,user:a,introText:t.introText,crossPostedPub:t.crossPostedPub,crossPostingByLine:t.crossPostingByLine,userWithCrossPostedPubContext:t.userWithCrossPostedPubContext,crossPostedPublicationSettings:t.crossPostedPublicationSettings,crossPostedSiteConfig:t.crossPostedSiteConfig}:this.state={user:a}}componentDidMount(){return pf(this,null,function*(){(0,i.scrollToHash)(),this.cleanUpTikTokEnhanceListener=ff(),this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs()})}componentWillUnmount(){var t;(t=this.cleanUpTikTokEnhanceListener)==null||t.call(this)}componentDidUpdate(t){return pf(this,null,function*(){this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}loadPost(){return pf(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post)this.setState({post:this.props.post},()=>(0,i.scrollToHash)());else try{const t=yield et().get(`/api/v1/cross-posts/${this.props.post_id}`);yield(0,i.setState)(this,{post:t.body.post,introText:t.body.intro_text,crossPostedPub:t.body.crossPostedPub,crossPostingByLine:t.body.crossPostingByLine,userWithCrossPostedPubContext:t.body.userWithCrossPostedPubContext,crossPostedPublicationSettings:t.body.crossPostedPublicationSettings,crossPostedSiteConfig:t.body.crossPostedSiteConfig}),(0,i.scrollToHash)()}catch(t){console.error("Failed to load post:",t),alert((0,i.getNetworkErrorMessage)(t))}})}triggerShareOnLoad(){if((0,g.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,g.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}render({freeSignup:t,freeSignupEmail:o,publication:a},{post:f,user:L,introText:k,crossPostedPub:U,crossPostingByLine:B,userWithCrossPostedPubContext:q,crossPostedPublicationSettings:pe,crossPostedSiteConfig:ge}){const Pe=(f==null?void 0:f.type)==="podcast";return(0,e.h)("div",null,(0,e.h)("div",{className:u()("single-post-container")},(0,e.h)("div",{className:u()({container:!Pe})},(0,e.h)("div",{className:"single-post"},(0,e.h)(ql,{post:f,publication:a}),f&&pe&&ge?(0,e.h)(it.Iz,{settings:pe},(0,e.h)(tt.vC,{siteConfigs:ge},(0,e.h)(eN.uL,{crossPost:{crossPostedPub:U}},(0,e.h)(_u,{ref:Ee=>{this.post=Ee},user:q,post:f,pub:U,freeSignup:t,freeSignupEmail:o,paywall:!1,noTitleLink:!0,onChange:Ee=>this.setState(Ee),fromPostPage:!0,crossPostInfo:{introText:k,crossPostedPub:U,crossPostingByLine:B,userWithCrossPostedPubContext:q}})))):(0,e.h)(Fv,{pub:a}))),a.has_posts?(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(W,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)(of,{user:L,freeSignup:t,freeSignupEmail:o,pub:a,maxPosts:3,filterPosts:Ee=>Ee.id!==(f==null?void 0:f.id),stateInUrl:!0,sortTabs:Ee=>{const Me=Ee.findIndex(De=>De.id==="top");if(Me!==-1)return[Ee[Me]].concat(Ee.filter((De,Ue)=>Ue!==Me))},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))):null))}}var nN=Object.defineProperty,rN=(r,t,o)=>t in r?nN(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,oN=(r,t,o)=>(rN(r,typeof t!="symbol"?t+"":t,o),o);class a1 extends e.Component{constructor(t,o){super(t,o),this.state={freeSignup:t.freeSignup,freeSignupEmail:t.freeSignupEmail,success:!1}}componentDidMount(){var t;(0,i.preloadImage)((0,g.imginary)("/img/substack_wordmark.png",200));const o=this.props.freeSignupEmail||this.props.user&&this.props.user.email;o?this.emailInput.value=o:(0,i.isMobileBrowser)()||(t=this.emailInput)==null||t.focus()}onPrepareData(t){(this.props.pub.plans||!this.context.getConfigFor("no_embed_redirect"))&&!this.subscribeWindow&&(this.subscribeWindow=window.open("about:blank","_blank"))}onSignup(t){this.setState({freeSignup:!0,freeSignupEmail:t.body.email}),this.subscribeWindow&&(this.subscribeWindow.location=(0,G.getSubscribeUrl)(this.props.pub,{addBase:!0,params:{just_signed_up:!0,skip_redirect_check:!0,utm_medium:"web",utm_source:"embed"}}))}onError(t){if(this.subscribeWindow){try{this.subscribeWindow.close()}catch(o){console.error("Failed to close subscribe window:",o)}this.subscribeWindow=null}}render({pub:t,user:o,no_border:a},{freeSignup:f,freeSignupEmail:L,loading:k,success:U}){const B=L||o&&o.email;return(0,e.h)("div",{className:`embed-page ${a?"no-border":""}`},(0,e.h)("div",{className:"embed-page-inner"},t.logo_url&&(0,e.h)("a",{href:`${t.base_url}/`,target:"_blank"},(0,e.h)("img",{className:"publication-logo",src:(0,g.imginary)(t.logo_url,170,{quality:"auto:best"}),alt:"Logo"})),(0,e.h)("h1",{className:`publication-name${t.logo_url?"":" no-logo"}`},(0,e.h)("a",{href:`${t.base_url}/`,target:"_blank"},(0,e.h)(We,{text:t.name}))),!!t.hero_text&&(0,e.h)("p",{className:"publication-tagline"},(0,e.h)(We,{text:t.hero_text})),(0,e.h)("div",{className:"publication-meta"},(0,e.h)(We,{text:an(t,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:t.rankingDetailFreeSubscriberCount,includeRankingDetail:!!t.rankingDetailFreeSubscriberCount})})),t.invite_only?(0,e.h)(ce.ZP,{className:"subscription-request-form",ref:q=>this.form=q,noInlineErrors:!0,action:(0,g.pathWithQuery)("/api/v1/subscription/request"),noJsAction:(0,g.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:q=>{this.setState({loading:!1}),alert((0,i.getNetworkErrorMessage)(q,"Failed to request a subscription"))}},(0,e.h)("input",{type:"hidden",name:"first_url",value:l.xY}),(0,e.h)("input",{type:"hidden",name:"first_referrer",value:l.ip}),(0,e.h)("input",{type:"hidden",name:"current_url",value:l.UE}),(0,e.h)("input",{type:"hidden",name:"current_referrer",value:l.xU}),!!B&&(0,i.inputPrefillHack)(),(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{className:u()(U?"secondary":"primary"),type:"email",name:"email",ref:q=>this.emailInput=q,readOnly:!!(B||k),disabled:!!(k||U||B),placeholder:"Type your email\u2026"}),(0,e.h)(Ae.Z,{className:u()("rightButton",U?"secondary":"primary"),type:"submit",disabled:!!(k||U),onClick:()=>{this.setState({loading:!0})}},(0,e.h)("b",{className:"button-text"},U?"Requested":"Subscribe"))),(0,e.h)("div",{id:"error-container"})):(0,e.h)(Do,{source:"embed",pub:t,user:o,freeSignup:f,freeSignupEmail:L,forceEmailInput:!0,onPrepareData:q=>this.onPrepareData(q),onSignup:q=>this.onSignup(q),onError:q=>this.onError(q)}),(o||f)&&(0,e.h)("p",null,(0,e.h)("span",{className:"account-info-logout"},(0,e.h)("a",{href:(0,g.getSignoutUrl)({redirect:document.location.href,for_pub:t.subdomain}),native:!0},"Sign out")))),(0,e.h)("a",{href:`${(0,g.getSubstackUrl)()}/?utm_source=embed&utm_content=${t.subdomain}`,target:"_blank"},(0,e.h)("img",{ref:q=>this.img=q,className:"substack-watermark",src:(0,g.imginary)("/img/substack_wordmark.black.png",200),onMouseEnter:()=>this.img.src=(0,g.imginary)("/img/substack_wordmark.png",200),onMouseLeave:()=>this.img.src=(0,g.imginary)("/img/substack_wordmark.black.png",200),alt:"Substack"})))}}oN(a1,"contextType",tt.QA);var aN=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const iN=({pub:r,slug:t})=>{var o;const[a,f]=(0,n.eJ)(null);(0,n.d4)(()=>{function k(){return aN(this,null,function*(){try{const U=yield et().get(`/api/v1/posts/${t}`);f(U.body)}catch(U){console.error("Failed to load post:",U),U.status===404?alert("Post not found"):alert((0,i.getNetworkErrorMessage)(U))}})}k()},[t]);let L=!1;return typeof window!="undefined"&&(L=((o=(0,g.parseQuery)(window.location.href).autoplay)!=null?o:"0")==="1"),a?(0,e.h)(Vg.Z,{feature:"Podcast",pub:r,post:a,src:a.podcast_url,autoPlay:L,metricsPost:a,isFancy:!0,showCTAs:!0}):(0,e.h)("div",{className:"loading-container"})};function sN(){return(0,e.h)("div",{className:"embed-test-page"},(0,e.h)("iframe",{style:{border:"1px solid #EEE",background:"white"},width:"480",height:"320",src:"/embed",frameBorder:"0",scrolling:"no"}))}var lN=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const uN=({pub:r,slug:t})=>{var o;const[a,f]=(0,n.eJ)(null);(0,n.d4)(()=>{function k(){return lN(this,null,function*(){try{const U=yield et().get(`/api/v1/posts/${t}`);f(U.body)}catch(U){console.error("Failed to load post:",U),U.status===404?alert("Post not found"):alert((0,i.getNetworkErrorMessage)(U))}})}k()},[t]);let L=!1;return typeof window!="undefined"&&(L=((o=(0,g.parseQuery)(window.location.href).autoplay)!=null?o:"0")==="1"),a?(0,e.h)("div",{className:"video-player-embed-container"},(0,e.h)(Ua.Z,{mediaUpload:a.videoUpload,pub:r,autoPlay:L})):(0,e.h)("div",{className:"loading-container"})};var cN=Object.defineProperty,dN=Object.defineProperties,fN=Object.getOwnPropertyDescriptors,i1=Object.getOwnPropertySymbols,pN=Object.prototype.hasOwnProperty,hN=Object.prototype.propertyIsEnumerable,s1=(r,t,o)=>t in r?cN(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,mN=(r,t)=>{for(var o in t||(t={}))pN.call(t,o)&&s1(r,o,t[o]);if(i1)for(var o of i1(t))hN.call(t,o)&&s1(r,o,t[o]);return r},_N=(r,t)=>dN(r,fN(t));const l1=r=>(0,e.h)(Je.l,_N(mN({},r),{name:"ChevronIcon",svgParams:{height:24,width:24,stroke:"#666666",viewBox:"0 0 24 24"}}),(0,e.h)("path",{d:"M9.88507 18.9609L15.8851 12.9609L9.88507 6.96094",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}));var gN=Object.defineProperty,vN=Object.defineProperties,yN=Object.getOwnPropertyDescriptors,u1=Object.getOwnPropertySymbols,PN=Object.prototype.hasOwnProperty,bN=Object.prototype.propertyIsEnumerable,c1=(r,t,o)=>t in r?gN(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,EN=(r,t)=>{for(var o in t||(t={}))PN.call(t,o)&&c1(r,o,t[o]);if(u1)for(var o of u1(t))bN.call(t,o)&&c1(r,o,t[o]);return r},ON=(r,t)=>vN(r,yN(t));const CN=r=>(0,e.h)(Je.l,ON(EN({},r),{name:"DownloadIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:r.fill||"black"}),(0,e.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:r.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:r.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M16 18.5V8.5",stroke:r.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}));var wN=Object.defineProperty,SN=Object.defineProperties,IN=Object.getOwnPropertyDescriptors,d1=Object.getOwnPropertySymbols,TN=Object.prototype.hasOwnProperty,DN=Object.prototype.propertyIsEnumerable,f1=(r,t,o)=>t in r?wN(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,MN=(r,t)=>{for(var o in t||(t={}))TN.call(t,o)&&f1(r,o,t[o]);if(d1)for(var o of d1(t))DN.call(t,o)&&f1(r,o,t[o]);return r},AN=(r,t)=>SN(r,IN(t));const LN=r=>(0,e.h)(Je.l,AN(MN({},r),{name:"PanelsIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:"black"}),(0,e.h)("rect",{x:"7.19995",y:"7.2002",width:"8.49554",height:"11.8938",rx:"0.424777",fill:"white"}),(0,e.h)("rect",{opacity:"0.7",x:"7.19995",y:"19.603",width:"8.49554",height:"6.79643",rx:"0.424777",fill:"white"}),(0,e.h)("path",{opacity:"0.7",d:"M16.2048 7.62497C16.2048 7.39037 16.395 7.2002 16.6296 7.2002H20.4526C23.737 7.2002 26.3995 9.8627 26.3995 13.1471C26.3995 16.4314 23.737 19.094 20.4526 19.094H16.6296C16.395 19.094 16.2048 18.9038 16.2048 18.6692V7.62497Z",fill:"white"}));var NN=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});function xN(){var r;return typeof window!="undefined"?((r=window._preloads)==null?void 0:r.file)||{}:{}}function RN(r,t){return`${r.title.toLowerCase().replace(/\s/g,"_")}.${t.toLowerCase()}`}function BN({file:r=xN(),pub:t}){const[o,a]=(0,n.eJ)(null);return(0,n.d4)(()=>(()=>NN(this,null,function*(){if(!r.fileKey){const f=yield fetch(`/api/v1/file/entry/${window.location.pathname.split("/").pop()}`);f.redirected&&(window.location.href=f.url);const L=yield f.json();a(L)}}))(),[r.fileKey]),(0,e.h)(UN,{file:o||r,pub:t})}function UN({file:r,pub:t}){var o;if(!r.id)return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("div",{className:"popup-container"},(0,e.h)("div",{className:"overlay"}))));const a=(o=r.file_key)==null?void 0:o.split(".").pop().toUpperCase(),f=(0,Ne.numberToHumanFileSize)(r.num_bytes),L=RN(r,a);return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("span",{className:"table-list-title"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("a",{className:"file-sidebar-header-button",href:`${(0,g.getBaseUrl)(t)}/p/${r.post_id}`},"Back")),(0,e.h)("div",{className:"table-list"},(0,e.h)("div",{className:"table-list-row table-list-header"},(0,e.h)("img",{className:`table-list-thumbnail ${r.thumbnail&&r.thumbnail.indexOf("/img/attachment_icon.svg")===-1?"":"default"}`,src:r.thumbnail||`${(0,g.getBaseUrl)(t)}/img/attachment_icon.svg`}),(0,e.h)("div",{className:"table-list-col"},(0,e.h)("div",{className:"table-list-h1"},r.title||"Unknown File"),(0,e.h)("div",{className:"table-list-h2"},f," \u2219 ",a," File"))),(0,e.h)("a",{className:"table-list-row table-list-item",href:`${(0,g.getBaseUrl)(t)}/api/v1/file/panels/${r.file_key}`},(0,e.h)(LN,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Open in Panels"),(0,e.h)("div",{className:"table-list-h2"},"Comic reader for iOS")),(0,e.h)(l1,{stroke:"#666",strokeWidth:0,isStatic:!0})),(0,e.h)("a",{className:"table-list-row table-list-item",download:L,href:`${(0,g.getBaseUrl)(t)}/api/v1/file/${r.file_key}`},(0,e.h)(CN,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Download file"),(0,e.h)("div",{className:"table-list-h2"},L)),(0,e.h)(l1,{stroke:"#666",strokeWidth:0,isStatic:!0})))))}var kN=Object.defineProperty,FN=(r,t,o)=>t in r?kN(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,p1=(r,t,o)=>(FN(r,typeof t!="symbol"?t+"":t,o),o),WN=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});class hf extends e.Component{constructor(){super(...arguments),p1(this,"acceptInvite",()=>WN(this,null,function*(){var t,o;try{const a=yield et().post(`/api/v1/publication_user_invite/${this.props.matches.id}/accept`);(t=a.body)!=null&&t.postUrl?location.href=(o=a.body)==null?void 0:o.postUrl:(0,i.redirect)(`/invite-success/${this.props.matches.id}`)}catch(a){const f=(0,i.getNetworkErrorMessage)(a);this.setState({error:f})}}))}componentDidMount(){this.props.user||(0,i.redirectToLogin)()}render({pub:t,post:o,user:a,freeSignup:f,freeSignupEmail:L,inviteToPost:k,primaryEligiblePublications:U,switchAccountRedirectUrl:B},{error:q}){if(q)return(0,e.h)("div",{className:"container invite-success"},(0,e.h)("h3",null,"Error"),(0,e.h)("p",null,q));const pe=k&&o&&o.type==="podcast",ge=pe&&a?"Fill out your profile for your podcast appearance":pe&&!a?"Set up your profile for your podcast appearance":k&&a?"Set up your profile":k&&!a?"Fill out your profile":`Your invite to ${t.name}`,Pe=pe?"Listeners will want to know more about you. Use your profile as a chance to express yourself.":k?"Readers will want to know more about you and even follow your writing. Use your profile as a chance to express yourself.":"Before you can accept your invite, finish setting up your profile:",Ee=k?"Update Profile & Accept Invite":"Accept Invite",Me=a?"Already a writer?":"Already have an account?",De=a?"Switch accounts":"Login";return(0,e.h)("div",{className:"container finish-invite"},(0,e.h)("h3",null,ge),(0,e.h)("p",null,Pe),(0,e.h)(xd._0,{pageTitle:"",user:a,freeSignup:f,freeSignupEmail:L,needsPhoto:!1,optionalPhoto:k,isPostInvite:k,primaryEligiblePublications:U,onSuccess:this.acceptInvite,text:Ee}),k&&B&&(0,e.h)("div",{className:"invite-switch-account"},Me," ",(0,e.h)("a",{href:B},De)))}}p1(hf,"defaultProps",{inviteToPost:!1,primaryEligiblePublications:[]});class jN extends e.Component{renderNotAvailable(t,{time:o=!1}={}){const a=o?"this gift has expired":"all of these gifts have already been claimed";return(0,e.h)("div",{className:"container reward-page gift-reward-page"},(0,e.h)("h2",null,"All gone"),t,(0,e.h)("p",null,"Sorry, ",a,". You can still subscribe if you like."),(0,e.h)("div",{className:"signup"},(0,e.h)(Le.Z,{source:"viral_gift_none_left",pub:this.props.pub,onSuccess:()=>document.location.href="/subscribe"})))}renderForSender(){return[(0,e.h)("h3",{className:"sender-hint"},(0,e.h)("span",null,KN(this.props.user),", share this page to give your gift"),(0,e.h)("a",{className:"button twitter-button",href:this.props.viral_gift_data.tweet_link,native:!0},"Share on Twitter"))]}render({pub:t,t:o,user:a,freeSignupEmail:f,viral_gift_data:L}){const{sender_name:k,count_remaining:U,sender_id:B}=L,q=(0,Ne.getGiftValueText)(t.plans),pe=q?` (value: ${q})`:"",ge=`Accept ${k||"your friend"}'s gift`,Pe=`A three-month subscription to ${t.name}${pe}`,Ee=(0,i.setMetaData)({title:ge,description:Pe,image:t.logo_url});if(!o||!U)return this.renderNotAvailable(Ee);let Me=null;a&&a.id==B&&(Me=this.renderForSender());let De="",Ue=f||"";a&&!Me&&(De=a.name,Ue=a.email);const Fe=`${U} left`;return(0,e.h)("div",{className:"container reward-page receive-page"},Me,Ee,(0,e.h)("h2",null,"Accept Gift Subscription"),(0,e.h)("p",null,k||"Your friend"," would like to give you a free, three-month subscription. ",pe),(0,e.h)("p",null,(0,e.h)("b",null,Fe)),(0,e.h)(ce.ZP,{action:"/api/v1/viral_gifts/accept_gift_from_link",onSuccess:()=>document.location.href="/account/gifts/accept"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Your name",value:De}),(0,e.h)("input",{type:"email",name:"email",placeholder:"Your email",value:Ue}),(0,e.h)("input",{type:"hidden",value:o,name:"token"}),(0,e.h)("div",{id:"error-container"}),(0,e.h)("div",{className:"button-container"},(0,e.h)(Ae.Z,{className:"ok-button primary",type:"submit"},"Accept Gift"))))}}function KN(r){return r.name?r.name.trim().split(/\s+/g)[0]:r.email.split("@")[0]}var HN=Ke(39693),h1=Ke.n(HN);const m1=({pub:r,section:t,isPodcast:o})=>{let a,f;return o&&r.podcast_title?({title:a}=Ql(r,r.podcast_title),f=r.podcast_description):t?{title:a,description:f}=Ql(r,`${t.name} | ${r.name}`,t.description):{title:a,description:f}=Ql(r),(0,e.h)(e.Fragment,null,(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:Tc()(Mp(r),{json:!0,isScriptContext:!0})}}),(0,i.setMetaData)({title:a,description:f}))},_1=({blurbs:r,freeSignup:t,freeSignupEmail:o,hide_intro_popup:a,noBalanceHeroText:f,pub:L,referralCode:k,showWelcome:U,user:B,launchWelcomePage:q})=>{const pe=(0,n.sO)(!1),ge=(0,n.sO)(null);return(0,n.d4)(()=>{(0,g.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,g.updateQuery)({action:null})),pe.current=!0),pe.current&&ge.current&&ge.current.open(),typeof window!="undefined"&&U&&(0,i.removeQueryParam)("showWelcome")},[U]),(0,e.h)(e.Fragment,null,(0,e.h)(Ha.ZP,{ref:Pe=>ge.current=Pe,pub:L,user:B}),(0,e.h)(wn,{blurbs:r,freeSignup:t,freeSignupEmail:o,hidden:a||pe.current,noBalance:f,publication:L,referralCode:k,showOnMount:U,user:B,launchWelcomePage:q}))};var VN=Ke(78718),g1=Ke.n(VN),$N=Object.defineProperty,ZN=Object.defineProperties,GN=Object.getOwnPropertyDescriptors,v1=Object.getOwnPropertySymbols,zN=Object.prototype.hasOwnProperty,YN=Object.prototype.propertyIsEnumerable,y1=(r,t,o)=>t in r?$N(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,P1=(r,t)=>{for(var o in t||(t={}))zN.call(t,o)&&y1(r,o,t[o]);if(v1)for(var o of v1(t))YN.call(t,o)&&y1(r,o,t[o]);return r},b1=(r,t)=>ZN(r,GN(t));const E1=({noFirstImage:r,posts:t,pub:o,user:a,utm:f,onChange:L})=>{const k={pub:o,user:a,utm:f,onChange:L};return(0,e.h)(br,b1(P1({},k),{variant:r?"two-three-two":"five-up",posts:t}))},JN=r=>(0,e.h)(E1,b1(P1({},r),{noFirstImage:!0})),XN={link:"frontend-main-home-MetaLink-module__link--b9iM0"},Ii=({children:r,href:t,testid:o,onClick:a})=>(0,e.h)(d.xv.Meta,{className:XN.link,color:"pub-primary-text",as:"a",native:!0,href:t,"data-testid":o,onClick:a?f=>{f.preventDefault(),a()}:void 0},r),QN={title:"frontend-main-home-sidebar-SidebarTitle-module__title--njy6c"},va=({children:r})=>(0,e.h)(d.xv,{className:QN.title,color:"pub-primary-text",font:"pub-headings",weight:"bold"},r),O1=({pub:r})=>{const{iString:t}=(0,A.M1)();return(0,e.h)(d.gq,{justifyContent:"space-between"},(0,e.h)(va,null,t("Most Popular")),(0,e.h)(Ii,{href:(0,g.getArchiveUrl)(r,{params:{sort:"top"}})},t("View all")))};var qN=Object.defineProperty,ex=Object.defineProperties,tx=Object.getOwnPropertyDescriptors,C1=Object.getOwnPropertySymbols,nx=Object.prototype.hasOwnProperty,rx=Object.prototype.propertyIsEnumerable,w1=(r,t,o)=>t in r?qN(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,mf=(r,t)=>{for(var o in t||(t={}))nx.call(t,o)&&w1(r,o,t[o]);if(C1)for(var o of C1(t))rx.call(t,o)&&w1(r,o,t[o]);return r},_f=(r,t)=>ex(r,tx(t));const S1=({noFirstImage:r,posts:t,topPosts:o,pub:a,user:f,utm:L,onChange:k})=>{const U={pub:a,user:f,utm:L,onChange:k},{isTablet:B,isMobile:q}=(0,cr.v9)();return q?null:(0,e.h)(ha,{variant:"full-width-with-sidebar",showContentBelowOnMobile:!0},(0,e.h)(br,_f(mf({},U),{variant:r?"two-small-three-medium":"two-small-one-large",posts:t,flex:"grow"})),o&&(0,e.h)(d.tu,{gap:12},(0,e.h)(O1,{pub:a}),(0,e.h)(br,_f(mf({},U),{flex:"grow",variant:B?"mini-row":"one-column-list",posts:o.slice(0,B?3:5)}))))},ox=r=>(0,e.h)(S1,_f(mf({},r),{noFirstImage:!0})),ax=({posts:r,pub:t,user:o,utm:a,onChange:f})=>r.length?(0,e.h)(Si,{pub:t,user:o,utm:a,onChange:f,variant:"mobile-hero",post:r[0]}):null;var ix=Object.defineProperty,sx=Object.defineProperties,lx=Object.getOwnPropertyDescriptors,I1=Object.getOwnPropertySymbols,ux=Object.prototype.hasOwnProperty,cx=Object.prototype.propertyIsEnumerable,T1=(r,t,o)=>t in r?ix(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,dx=(r,t)=>{for(var o in t||(t={}))ux.call(t,o)&&T1(r,o,t[o]);if(I1)for(var o of I1(t))cx.call(t,o)&&T1(r,o,t[o]);return r},fx=(r,t)=>sx(r,lx(t));const D1=({isSmall:r,posts:t,pub:o,user:a,utm:f,onChange:L})=>t.length?(0,e.h)(ha,{variant:r?"three-column-width":"full-width"},(0,e.h)(Si,{pub:o,user:a,utm:f,onChange:L,variant:r?"jumbo-small":"jumbo",post:t[0]})):null,px=r=>(0,e.h)(D1,fx(dx({},r),{isSmall:!0}));var hx=Object.defineProperty,bu=Object.getOwnPropertySymbols,M1=Object.prototype.hasOwnProperty,A1=Object.prototype.propertyIsEnumerable,L1=(r,t,o)=>t in r?hx(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,mx=(r,t)=>{for(var o in t||(t={}))M1.call(t,o)&&L1(r,o,t[o]);if(bu)for(var o of bu(t))A1.call(t,o)&&L1(r,o,t[o]);return r},_x=(r,t)=>{var o={};for(var a in r)M1.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&bu)for(var a of bu(r))t.indexOf(a)<0&&A1.call(r,a)&&(o[a]=r[a]);return o};const gx={magaziney:S1,"magazine-5":E1,newspaper:D1},vx=r=>{var t=r,{firstPostMissingImage:o,bodyVariant:a,isMobile:f,variant:L}=t,k=_x(t,["firstPostMissingImage","bodyVariant","isMobile","variant"]);let U=gx[L];return f?U=ax:L==="newspaper"&&a==="list"?U=px:L==="magaziney"&&o?U=ox:L==="magazine-5"&&o&&(U=JN),U?(0,e.h)(U,mx({},k)):(console.error("Component not found, add one to HomeHero"),null)},Ga=(0,e.createContext)({contributors:void 0,freeSignup:void 0,freeSignupEmail:void 0,homepageLinks:void 0,numRecommendations:void 0,recommendations:void 0,topPosts:void 0,utm:void 0,onChangePost:void 0});var yx=Ke(7739),Px=Ke.n(yx),bx=Ke(89734),Ex=Ke.n(bx),Ox=Object.defineProperty,Cx=Object.defineProperties,wx=Object.getOwnPropertyDescriptors,N1=Object.getOwnPropertySymbols,Sx=Object.prototype.hasOwnProperty,Ix=Object.prototype.propertyIsEnumerable,x1=(r,t,o)=>t in r?Ox(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Tx=(r,t)=>{for(var o in t||(t={}))Sx.call(t,o)&&x1(r,o,t[o]);if(N1)for(var o of N1(t))Ix.call(t,o)&&x1(r,o,t[o]);return r},Dx=(r,t)=>Cx(r,wx(t));const Mx=r=>(0,e.h)(Je.l,Dx(Tx({},r),{name:"PencilIcon",svgParams:{height:100,width:100}}),(0,e.h)("path",{d:"M55.3,25.6L22.5,58.4c-0.1,0.1-0.2,0.3-0.3,0.4c0,0,0,0.1-0.1,0.1c-0.1,0.1-0.1,0.3-0.2,0.4c0,0,0,0.1,0,0.1l-6.4,21.9   c-0.3,0.9,0,1.8,0.6,2.5c0.5,0.5,1.1,0.7,1.8,0.7c0.2,0,0.5,0,0.7-0.1l21.9-6.4c0,0,0.1,0,0.1,0c0.1,0,0.3-0.1,0.4-0.2   c0,0,0.1,0,0.1-0.1c0.2-0.1,0.3-0.2,0.4-0.3l32.8-32.8L55.3,25.6z M35.1,74.5l-13.5,3.9l3.9-13.5L35.1,74.5z"}),(0,e.h)("path",{d:"M62.1,18.8l-3.3,3.3l19.1,19.1l3.3-3.3c4.7-4.7,4.4-13.3-0.7-18.4C75.4,14.4,66.8,14.1,62.1,18.8z"}));var Ax=Object.defineProperty,R1=Object.getOwnPropertySymbols,Lx=Object.prototype.hasOwnProperty,Nx=Object.prototype.propertyIsEnumerable,B1=(r,t,o)=>t in r?Ax(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,U1=(r,t)=>{for(var o in t||(t={}))Lx.call(t,o)&&B1(r,o,t[o]);if(R1)for(var o of R1(t))Nx.call(t,o)&&B1(r,o,t[o]);return r};const xx=({homepageLinks:r,pub:t,renderGroup:o,renderLink:a})=>{const f=Px()(r,"group"),L=Ex()(Object.keys(f),k=>f[k][0].rank);return(0,e.h)(e.Fragment,null,L.map(k=>(0,e.h)(Rx,{group:k,items:f[k],pub:t,newTab:!0,renderGroup:o,renderLink:a})))},Rx=({group:r,items:t,newTab:o,pub:a,renderGroup:f,renderLink:L})=>{const k=[];let U=null;o&&(U="_blank",k.push("noopener")),(!a||a!=null&&a.no_follow)&&k.push("ugc nofollow");const B={rel:k.join(" "),target:U},q=(0,e.h)(e.Fragment,null,t.map(({title:pe,url:ge,subtitle:Pe,subtitleUrl:Ee,edit:Me,className:De})=>L?L({title:pe,url:ge,subtitle:Pe,linkProps:B}):(0,e.h)("div",{className:u()("home-right-col",De)},Me?(0,e.h)("div",{className:"home-right-col-editable"},(0,e.h)("a",{className:"home-right-col-title",href:ge,native:!0},pe),(0,e.h)(Ae.Z,{className:"button secondary show-on-hover",href:Me,title:"edit"},(0,e.h)(Mx,{height:20,width:20,stroke:"#aaa"}))):(0,e.h)("a",U1({className:"home-right-col-title",href:ge,native:!0},B),pe),Pe&&(0,e.h)("a",U1({className:"home-right-col-sub",href:Ee||ge,native:!0},B),Pe))));return f?f({title:r,links:q}):(0,e.h)("div",{className:"home-right-group"},(0,e.h)("div",{className:"home-right-group-title"},r),q)},k1={container:"frontend-pencraft-unstable-ClickBox-module__container--Fi9JA",containerHoverLight:"frontend-pencraft-unstable-ClickBox-module__containerHoverLight--nsdj2"};var Bx=Object.defineProperty,Ux=Object.defineProperties,kx=Object.getOwnPropertyDescriptors,Eu=Object.getOwnPropertySymbols,F1=Object.prototype.hasOwnProperty,W1=Object.prototype.propertyIsEnumerable,j1=(r,t,o)=>t in r?Bx(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Fx=(r,t)=>{for(var o in t||(t={}))F1.call(t,o)&&j1(r,o,t[o]);if(Eu)for(var o of Eu(t))W1.call(t,o)&&j1(r,o,t[o]);return r},Wx=(r,t)=>Ux(r,kx(t)),jx=(r,t)=>{var o={};for(var a in r)F1.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&Eu)for(var a of Eu(r))t.indexOf(a)<0&&W1.call(r,a)&&(o[a]=r[a]);return o};const Kx=(0,$t.forwardRef)((r,t)=>{var o=r,{children:a,className:f,disable:L,hoverBackground:k,onClick:U}=o,B=jx(o,["children","className","disable","hoverBackground","onClick"]);const q=L?void 0:U;return(0,e.h)(hi.xu,Wx(Fx({},B),{ref:t,className:u()(f,!L&&k1.container,{[k1.containerHoverLight]:k==="light"&&!L}),role:q?"button":void 0,onClick:q}),a)});var Hx=Object.defineProperty,Vx=Object.defineProperties,$x=Object.getOwnPropertyDescriptors,Ou=Object.getOwnPropertySymbols,K1=Object.prototype.hasOwnProperty,H1=Object.prototype.propertyIsEnumerable,V1=(r,t,o)=>t in r?Hx(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,gf=(r,t)=>{for(var o in t||(t={}))K1.call(t,o)&&V1(r,o,t[o]);if(Ou)for(var o of Ou(t))H1.call(t,o)&&V1(r,o,t[o]);return r},vf=(r,t)=>Vx(r,$x(t)),Zx=(r,t)=>{var o={};for(var a in r)K1.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&Ou)for(var a of Ou(r))t.indexOf(a)<0&&H1.call(r,a)&&(o[a]=r[a]);return o};const za=r=>{var t=r,{alignItems:o="center",body:a,clampTitle:f,image:L,linkProps:k,subtitle:U,title:B,url:q}=t,pe=Zx(t,["alignItems","body","clampTitle","image","linkProps","subtitle","title","url"]);const{size:ge,lineHeight:Pe}=uf.sm,Ee=typeof window=="undefined",Me=(0,e.h)(Kx,{hoverBackground:"light",padding:8,radius:6},(0,e.h)(d.gq,vf(gf({},pe),{alignItems:o,gap:16}),L&&(0,e.h)(d.xu,{alignSelf:"start"},L),(0,e.h)(d.tu,{gap:8},(0,e.h)(d.tu,{style:{wordBreak:"break-word"}},(0,e.h)(d.xv,{color:"pub-primary-text",font:"pub-headings",lineHeight:Pe,size:ge,clamp:f},Ee?(0,e.h)("a",vf(gf({},k),{href:q,style:{textDecoration:"none",display:"block"}}),B):B),U&&(0,e.h)(d.xv.B4,{color:"pub-secondary-text",size:12,clamp:3},U)),a&&(0,e.h)("div",null,a))));return Ee?Me:(0,e.h)("a",vf(gf({},k),{href:q,style:{textDecoration:"none",display:"block"}}),Me)},$1=({hideHeaderBorder:r,pub:t})=>{const{homepageLinks:o}=(0,n.qp)(Ga);return!o||o.length===0?null:(0,e.h)(d.tu,{gap:24,"data-testid":"homepage-links"},(0,e.h)(xx,{homepageLinks:o,pub:t,renderGroup:({title:a,links:f})=>(0,e.h)(d.tu,{gap:16},(0,e.h)(d.gq,{alignItems:"center",borderBottom:r?void 0:"detail-themed",paddingBottom:r?void 0:8},(0,e.h)(va,null,a)),(0,e.h)(d.tu,{gap:4},f)),renderLink:({linkProps:a,subtitle:f,title:L,url:k})=>(0,e.h)(za,{linkProps:a,subtitle:f,title:L,url:k})}))},Gx={container:"frontend-main-home-sidebar-SidebarEmptyState-module__container--YAmtL"},Cu=()=>(0,e.h)(d.xu,{paddingX:16,paddingY:20,radius:6,className:Gx.container},(0,e.h)(d.xv.B4,{color:"pub-secondary-text"},"Coming soon"));var zx=Object.defineProperty,Yx=Object.defineProperties,Jx=Object.getOwnPropertyDescriptors,Z1=Object.getOwnPropertySymbols,Xx=Object.prototype.hasOwnProperty,Qx=Object.prototype.propertyIsEnumerable,G1=(r,t,o)=>t in r?zx(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,qx=(r,t)=>{for(var o in t||(t={}))Xx.call(t,o)&&G1(r,o,t[o]);if(Z1)for(var o of Z1(t))Qx.call(t,o)&&G1(r,o,t[o]);return r},eR=(r,t)=>Yx(r,Jx(t)),z1=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const tR=(r,t,o,a,{trackOnly:f=!1,freeSignupEmail:L}={})=>()=>z1(void 0,null,function*(){if((0,P.j)(P.FP.RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:r.id,recommending_publication_id:t.id}),!f)try{const k=o&&!o.is_magic&&o.email||L;yield et().post("/api/v1/free").send({email:k,source:"recommendations_page",first_url:l.xY,first_referrer:l.ip,current_url:l.UE,current_referrer:l.xU,other_publication_id:r.id,referring_pub_id:t.id}),a(r)}catch(k){alert((0,i.getNetworkErrorMessage)(k)||"Something went wrong")}}),nR=(r,t,o,{trackOnly:a=!1}={})=>()=>z1(void 0,null,function*(){if((0,P.j)(P.FP.RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:r.id,recommending_publication_id:t.id}),!a)try{yield et().delete("/api/v1/free").send({publication_id:r.id,source:"recommendations_page"}),o(r)}catch(f){alert((0,i.getNetworkErrorMessage)(f)||"Something went wrong")}}),rR=({pub:r,recommendations:t,allSubscribedPubs:o,fullySubscribedPubs:a,user:f,freeSignupEmail:L})=>{const{getExperimentVariant:k,exposeExperiment:U}=(0,fn.jc)(),{iString:B,iTemplate:q}=(0,A.M1)(),[pe,ge]=(0,n.eJ)(o),Pe=Me=>{ge([...pe,Me])},Ee=Me=>{ge(pe.filter(({id:De})=>De!==Me.id))};return(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"recommendations-page-container"},(0,e.h)("h2",null,q`Recommended by ${(0,Ne.getByLine)(r)||r.name}`),(0,e.h)("div",{className:"recommended-publications-container"},t.map((Me,De)=>{const Ue=Me.recommendedPublication;if(!Ue)return;const Fe=`${(0,g.getBaseUrl)(Ue)}/?utm_source=recommendations_page&utm_campaign=${r.id}`,Ye=(0,g.getSubscribeUrl)(Ue,{addBase:!0,utm_source:"recommendations_page",referring_pub_ids:[r.id],simple:!0}),st=(0,Ne.getByLine)(Ue),nt=a.map(({id:at})=>at).includes(Ue.id);return(0,e.h)("div",{className:"recommended-publications-text-container with-blurb"},(0,e.h)("div",{className:"recommendation-body"},(0,e.h)("div",{className:"publication-content"},(0,e.h)("div",{className:"top-row"},(0,e.h)("a",{className:"left",href:Fe,onClick:()=>{(0,P.j)(P.FP.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{source:"recommendations-page",recommended_publication_id:Ue.id,recommending_publication_id:r.id})}},(0,e.h)(la.Z,{pub:Ue,size:48,logo_url:Ue.logo_url||Ue.author_photo_url,linkify:!1}),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("div",{className:"publication-title"},Ue.name),!!st&&(0,e.h)("div",{className:"publication-author"},q`By ${st}`))),pe.map(({id:at})=>at).includes(Ue.id)?(0,e.h)(Ae.Z,{onClick:nR(Ue,r,Ee,{trackOnly:nt}),href:nt?(0,g.getPubAccountSettingsUrl)(Ue,{addBase:!0}):null,className:"unsubscribe"},B("Subscribed")):(0,e.h)(Ae.Z,{onClick:f&&!f.is_magic&&f.email||L?tR(Ue,r,f,Pe,{freeSignupEmail:L}):()=>{(0,P.j)(P.FP.RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:Ue.id,recommending_publication_id:r.id}),(0,i.redirect)(Ye,{local_navigation:!1})}},(0,e.h)(d.gq,{alignItems:"center",gap:8},(0,e.h)(Zi.Z,{size:20}),B("Subscribe")))),(0,e.h)("div",{className:"publication-suggestion-text-area"},(Ue.editorial_bio||Ue.hero_text)&&(0,e.h)("div",{className:"publication-description"},Ue.editorial_bio||Ue.hero_text)),Me.description&&(0,e.h)(oR,{content:Me.description,author:(0,Ne.getByLine)(r)||r.name}))))}))))},oR=({author:r,content:t})=>(0,e.h)("div",{className:"blurb"},(0,e.h)("p",{className:"blurb-content"},t),(0,e.h)("p",{className:"blurb-author"},"- ",r)),aR=({recommendations:r,numRecommendations:t,pub:o,user:a,render:f,renderRecommendation:L})=>{const{iString:k,iTemplate:U}=(0,A.M1)(),B=r.map(q=>(0,e.h)(iR,{recommendation:q,pub:o,signedIn:!!a,render:L}));return(0,n.d4)(()=>{(0,P.j)(P.FP.PUBLICATION_RECOMMENDATIONS_SHOWN,{source:"pub-home",recommendations:r.map(({recommendedPublication:q})=>q.id)})},[r]),f?f({recommendations:B,canManage:!!(a!=null&&a.is_admin),manageUrl:(0,g.getPublishSettingsRecommendationsUrl)(o),hasMore:t>r.length,hasMoreUrl:(0,g.getRecommendationsPageUrl)(o),recommendationsCount:t}):(0,e.h)("div",{className:"home-right-group recommendations"},(0,e.h)("div",{className:"home-right-group-title"},(0,e.h)("a",{href:(0,g.getRecommendationsPageUrl)(o)},"Recommendations"),a!=null&&a.is_admin?(0,e.h)("a",{href:(0,g.getPublishSettingsRecommendationsUrl)(o),native:!0},k("Manage")):t>r.length?(0,e.h)("a",{href:(0,g.getRecommendationsPageUrl)(o),native:!0},U`View all ${t}`):null),B)},iR=({recommendation:r,pub:t,signedIn:o,render:a})=>{const{recommendedPublication:f}=r,L=(0,g.getPubUrl)(f,{params:{utm_source:"homepage_recommendations",utm_campaign:t.id},signedIn:o}),k=()=>{(0,P.j)(P.FP.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{recommending_publication_id:t.id,recommended_publication_id:f.id,source:"homepage-recommendations"})},U={pub:f,logo_url:f.logo_url,href:L,openInNewTab:!0,belowTheFold:!0};return a?a({pubIconProps:U,pubName:f.name,pubAuthor:f.author.name,url:L,onClick:k}):(0,e.h)("div",{className:"home-right-col"},(0,e.h)("div",{className:"recommendation-row"},(0,e.h)("div",{className:"left"},(0,e.h)("a",{onClick:k},(0,e.h)(la.Z,eR(qx({},U),{size:32}))),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("a",{href:L,target:"_blank",onClick:k},f.name),(0,e.h)("div",{className:"pub-author"},f.author.name)))))},sR=aR;var lR=Object.defineProperty,uR=Object.defineProperties,cR=Object.getOwnPropertyDescriptors,Y1=Object.getOwnPropertySymbols,dR=Object.prototype.hasOwnProperty,fR=Object.prototype.propertyIsEnumerable,J1=(r,t,o)=>t in r?lR(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,pR=(r,t)=>{for(var o in t||(t={}))dR.call(t,o)&&J1(r,o,t[o]);if(Y1)for(var o of Y1(t))fR.call(t,o)&&J1(r,o,t[o]);return r},hR=(r,t)=>uR(r,cR(t));const X1=({pub:r,showEmptyState:t,hideHeaderBorder:o,user:a})=>{const{numRecommendations:f,recommendations:L}=(0,n.qp)(Ga),{iString:k,iTemplate:U}=(0,A.M1)();return!L||L.length===0&&!t?null:(0,e.h)(sR,{recommendations:L,numRecommendations:f,pub:r,user:a,render:({recommendations:B,canManage:q,manageUrl:pe,hasMore:ge,hasMoreUrl:Pe,recommendationsCount:Ee})=>(0,e.h)(d.tu,{gap:16},(0,e.h)(d.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:o?void 0:8,borderBottom:o?void 0:"detail-themed"},(0,e.h)(va,null,k("Recommendations")),q?(0,e.h)(Ii,{href:pe},k("Manage")):ge?(0,e.h)(Ii,{href:Pe,testid:"homepage-recommendations-view-all"},U`View all ${Ee}`):null),(0,e.h)(d.tu,{gap:4,"data-testid":"homepage-recommendations"},f===0?(0,e.h)(Cu,null):B)),renderRecommendation:({url:B,onClick:q,pubIconProps:pe,pubName:ge,pubAuthor:Pe})=>{const Ee={onClick:q,target:"_blank",rel:"noopener"};return(0,e.h)(za,{"data-testid":"homepage-recommendation",image:(0,e.h)(la.Z,hR(pR({},pe),{size:40,noMargin:!0})),linkProps:Ee,subtitle:Pe,title:ge,url:B})}})},Q1={container:"frontend-main-home-sidebar-SidebarSubscribe-module__container--iNbOy",pubLogo:"frontend-main-home-sidebar-SidebarSubscribe-module__pubLogo--ujmr4"},q1=({pub:r,user:t})=>{const{freeSignup:o,freeSignupEmail:a}=(0,n.qp)(Ga),{size:f,lineHeight:L}=uf.sm;return(0,e.h)(d.tu,{className:Q1.container,gap:24},(0,e.h)(d.tu,{gap:8},r.logo_url&&(0,e.h)("img",{"data-testid":"homepage-sidebar-pub-logo",className:Q1.pubLogo,src:(0,g.imginary)(r.logo_url,88),alt:r.name}),(0,e.h)("div",null,(0,e.h)(d.xv,{size:f,lineHeight:L,weight:"semibold",color:"pub-primary-text",font:"pub-headings"},r.name),r.hero_text&&(0,e.h)(d.xv,{size:12,lineHeight:20,color:"pub-secondary-text",font:"text"},r.hero_text))),!(t!=null&&t.is_subscribed)&&(0,e.h)(Do,{expectTruncation:!0,freeSignup:o,freeSignupEmail:a,isStatic:!1,pub:r,source:"magaziney-home-page",user:t}))},mR=({pub:r,user:t})=>{const{isMobile:o}=(0,cr.v9)();return(0,e.h)(d.tu,{gap:40},!o&&(0,e.h)(q1,{pub:r,user:t}),r.show_recs_on_homepage&&(0,e.h)(X1,{pub:r,user:t}),(0,e.h)($1,{pub:r}))},_R=(0,mn.Z)("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"14",key:"8pmw4r"}],["rect",{width:"7",height:"7",x:"3",y:"3",key:"i95qnx"}],["line",{x1:"14",x2:"21",y1:"4",y2:"4",key:"1jpd8k"}],["line",{x1:"14",x2:"21",y1:"9",y2:"9",key:"z1w1u5"}],["line",{x1:"14",x2:"21",y1:"15",y2:"15",key:"evly31"}],["line",{x1:"14",x2:"21",y1:"20",y2:"20",key:"v5or0t"}]]);var gR=Ke(35570);const Rs={homePageGroupsGrid:"frontend-main-home-HomepageGroupsGrid-module__homePageGroupsGrid--PXkAL",divider:"frontend-main-home-HomepageGroupsGrid-module__divider--ER4Bl","three-column-grid":"frontend-main-home-HomepageGroupsGrid-module__three-column-grid--QWtWI","long-divider":"frontend-main-home-HomepageGroupsGrid-module__long-divider--Oskx5",emptyRowsView:"frontend-main-home-HomepageGroupsGrid-module__emptyRowsView--Py19H",emptyGroupView:"frontend-main-home-HomepageGroupsGrid-module__emptyGroupView--CMxWO",emptyContentIcon:"frontend-main-home-HomepageGroupsGrid-module__emptyContentIcon--3iM7o"};var vR=Object.defineProperty,yR=Object.defineProperties,PR=Object.getOwnPropertyDescriptors,wu=Object.getOwnPropertySymbols,ey=Object.prototype.hasOwnProperty,ty=Object.prototype.propertyIsEnumerable,ny=(r,t,o)=>t in r?vR(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,ya=(r,t)=>{for(var o in t||(t={}))ey.call(t,o)&&ny(r,o,t[o]);if(wu)for(var o of wu(t))ty.call(t,o)&&ny(r,o,t[o]);return r},Ti=(r,t)=>yR(r,PR(t)),ry=(r,t)=>{var o={};for(var a in r)ey.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&wu)for(var a of wu(r))t.indexOf(a)<0&&ty.call(r,a)&&(o[a]=r[a]);return o},bR=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const Su=r=>"email_from_name"in r,ER=r=>{var t;const[o,a]=(0,n.eJ)((t=r.postsByGroupId)!=null?t:{}),[f,L]=(0,n.eJ)(!1),k=r,{posts:U,bodyPostGroups:B,hasEmptyGroupOptions:q,setHasInvalidGroupSelection:pe}=k,ge=ry(k,["posts","bodyPostGroups","hasEmptyGroupOptions","setHasInvalidGroupSelection"]);(0,n.d4)(()=>{const De=Ue=>bR(void 0,null,function*(){const Fe=ya({},o);for(const Ye of Ue){const st={limit:6};if(Su(Ye)?st.section_id=Ye.id:st.post_tag_id=Ye.id,!Fe[Ye.id]){const{body:nt}=yield et().get("/api/v1/archive").query(st);Fe[Ye.id]=nt}}Ps()(Fe,o)||(a(Fe),L(!1))});Object.keys(o).length===0&&B&&(B==null?void 0:B.length)>0&&(L(!0),De(B))},[B,a,o]);const Pe=(0,n.I4)(De=>{var Ue;const Fe=(Ue=De.post_tag_id)!=null?Ue:De.section_id;if(!Fe)throw new Error("Must supply section_id or post_tag_id");o&&o[Fe]||et().get("/api/v1/archive").query(ya({limit:3},De)).then(({body:Ye})=>{a(Ti(ya({},o),{[Fe]:Ye}))})},[o,a]),Ee=[U.slice(0,3),U.slice(3,6),U.slice(6)],Me=(0,n.I4)(De=>{var Ue;return!o||o&&Object.keys(o).length===0||!o[De]?null:(Ue=o[De])==null?void 0:Ue.slice(0,3)},[o]);return q||!B||(B==null?void 0:B.length)===0?pe?(pe(!0),(0,e.h)(oy,{message:"No groups selected"})):(0,e.h)(d.tu,null,(0,e.h)(yf,{pub:r.pub}),(0,e.h)(br,Ti(ya({},ge),{variant:"three-column-grid",posts:Ee.slice(B!=null&&B.length?B==null?void 0:B.length:0).flat()}))):(0,e.h)("div",{className:Rs.homePageGroupsGrid},B.map(De=>{const Ue=Me(De.id);return(0,e.h)(d.tu,{paddingBottom:24},(0,e.h)(yf,{pub:r.pub,row:De}),(0,e.h)(OR,Ti(ya({},ge),{posts:U,loadingSync:f,groupModel:De,postsForId:Ue,setHasInvalidGroupSelection:pe,onIntersectCallback:()=>{const Fe=Su(De)?{section_id:De.id}:{post_tag_id:De.id};Pe(Fe)}})))}),B.length<3?(0,e.h)(d.tu,null,(0,e.h)(yf,{pub:r.pub}),(0,e.h)(br,Ti(ya({},ge),{variant:"three-column-grid",posts:Ee.slice(B!=null&&B.length?B==null?void 0:B.length:0).flat()}))):null)},oy=({groupModel:r,message:t})=>(0,e.h)(d.xu,{paddingTop:8,paddingBottom:40},(0,e.h)(d.tu,{alignItems:"center",justifyContent:"center",className:u()(Rs.homePageGroupsGrid,r?Rs.emptyGroupView:Rs.emptyRowsView)},(0,e.h)(_R,{className:Rs.emptyContentIcon}),t&&(0,e.h)(d.xv.B4,{color:"pub-secondary-text",paddingTop:20,weight:"semi-bold"},t),r&&(0,e.h)(d.xv.B4,{color:"pub-secondary-text",paddingTop:4},"Add posts to this ",Su(r)?"section":"tag"," to include it on your homepage."))),yf=({row:r,pub:t})=>{var o;const{isMobile:a}=(0,cr.v9)();let f="/archive";return r&&(f=Su(r)?(0,G.getSectionUrl)(t,{section:r}):(0,G.getPostTagUrl)(t,r)),(0,e.h)(d.tu,{paddingBottom:12,paddingX:a?0:8},(0,e.h)(d.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(d.xv.H2,{color:"pub-primary-text",font:"pub-headings"},(o=r==null?void 0:r.name)!=null?o:"Recent posts"),(0,e.h)(Ii,{href:f},"See all")))},OR=r=>{const t=r,{onIntersectCallback:o,groupModel:a,loadingSync:f,postsForId:L,setHasInvalidGroupSelection:k}=t,U=ry(t,["onIntersectCallback","groupModel","loadingSync","postsForId","setHasInvalidGroupSelection"]),[B,q]=(0,gR.Z)();return(0,n.d4)(()=>{q!=null&&q.isIntersecting&&!f&&o()},[q==null?void 0:q.isIntersecting,o,f]),L?L.length===0?k?(k(!0),(0,e.h)(oy,{groupModel:a})):(0,e.h)(br,Ti(ya({},U),{variant:"three-column-grid",posts:U.posts.slice(0,3)})):(0,e.h)(br,Ti(ya({},U),{variant:"three-column-grid",posts:L})):(0,e.h)(lf,{postCount:3,variant:"grid-groups",ref:B})};var CR=Object.defineProperty,wR=Object.defineProperties,SR=Object.getOwnPropertyDescriptors,ay=Object.getOwnPropertySymbols,IR=Object.prototype.hasOwnProperty,TR=Object.prototype.propertyIsEnumerable,iy=(r,t,o)=>t in r?CR(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,sy=(r,t)=>{for(var o in t||(t={}))IR.call(t,o)&&iy(r,o,t[o]);if(ay)for(var o of ay(t))TR.call(t,o)&&iy(r,o,t[o]);return r},DR=(r,t)=>wR(r,SR(t));function MR({pub:r,user:t,freeSignup:o,freeSignupEmail:a,className:f=""}){const{iString:L,language:k}=(0,A.M1)();return(0,e.h)("div",{className:u()("home-sitemap",f)},(0,e.h)("h4",{className:"home-sitemap-title"},r.name),o||t&&t.is_free_subscribed?!(t&&t.is_subscribed)&&r.plans?(0,e.h)("a",{className:"button primary home-sitemap-subscribe subscribe-btn",href:(0,g.getSubscribeUrl)(r,{utm_source:"home-sitemap"}),native:!0},(0,Ne.getSubscribeText)(r,{language:k})):null:(0,e.h)(d.xu,{paddingTop:20},(0,e.h)(Le.Z,{className:"home-sitemap-signup-form",freeSignup:o,freeSignupEmail:a,pub:r,source:"home-sitemap",user:t,onSuccess:U=>{U.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,g.pathWithQuery)("/account/login",{redirect:document.location.href,email:U.body.email})},30):r.plans?document.location.href=(0,g.pathWithQuery)("/subscribe",DR(sy(sy({next:document.location.href,later:!0,just_signed_up:!0},U.body.subscription_id&&{subscription_id:U.body.subscription_id}),U.body.referral_token&&{referral_token:U.body.referral_token}),{requires_confirmation:U.body.requires_confirmation?"true":""})):document.location.reload()},onConfirmationRequired:(r==null?void 0:r.payments_state)==="enabled"?()=>null:void 0})),(0,e.h)("div",{className:"home-sitemap-links"},(0,e.h)("a",{href:(0,g.getAboutUrl)(r),native:!1},L("About")),(0,e.h)("a",{href:(0,g.getBaseArchiveUrl)(r)},L("Archive")),r.has_recommendations&&(0,e.h)("a",{href:(0,g.getRecommendationsPageUrl)(r),native:!0},L("Recommendations")),r.can_have_sitemap&&(0,e.h)("a",{href:(0,g.getSitemapUrl)(r),native:!0},L("Sitemap"))))}var AR=Object.defineProperty,LR=Object.defineProperties,NR=Object.getOwnPropertyDescriptors,ly=Object.getOwnPropertySymbols,xR=Object.prototype.hasOwnProperty,RR=Object.prototype.propertyIsEnumerable,uy=(r,t,o)=>t in r?AR(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Ya=(r,t)=>{for(var o in t||(t={}))xR.call(t,o)&&uy(r,o,t[o]);if(ly)for(var o of ly(t))RR.call(t,o)&&uy(r,o,t[o]);return r},Ja=(r,t)=>LR(r,NR(t));const cy=["newspaper","magaziney","magazine-5"],dy=16,Ej=7,Oj={newspaper:{id:"newspaper",legacyEquivalent:"newspaper",postCount:{desktop:1,tablet:1,mobile:1}},magaziney:{id:"magaziney",legacyEquivalent:"magaziney",postCount:{desktop:3,tablet:3,mobile:1}},"magazine-5":{id:"magazine-5",legacyEquivalent:"magaziney",postCount:{desktop:5,tablet:3,mobile:1}}},fy=()=>{const{iString:r,iTemplate:t}=(0,A.M1)();return{newspaper:{id:"newspaper",label:r("Feature"),description:r("One featured post"),legacyEquivalent:"newspaper",postCount:{desktop:1,tablet:1,mobile:1}},magaziney:{id:"magaziney",label:r("Newspaper"),description:r("A side column of top posts"),legacyEquivalent:"magaziney",postCount:{desktop:3,tablet:3,mobile:1}},"magazine-5":{id:"magazine-5",label:r("Magazine"),description:r("Five featured posts"),legacyEquivalent:"magaziney",postCount:{desktop:5,tablet:3,mobile:1}}}},Cj=()=>{const r=fy();return cy.map(o=>({value:o,label:r[o].label}))},BR=()=>{const r=fy();return cy.reduce((t,o)=>Ja(Ya({},t),{[o]:r[o].postCount}),{})},py=["list","grid","grid-groups","custom"],hy=()=>{const{iString:r,iTemplate:t}=(0,A.M1)();return{list:{id:"list",label:r("List"),description:r("A list of posts"),postCount:{desktop:7,tablet:7,mobile:7}},grid:{id:"grid",label:r("Grid"),description:r("A grid of nine posts"),postCount:{desktop:9,tablet:9,mobile:7}},"grid-groups":{id:"grid-groups",label:r("Groups (sections or tags)"),description:r("A grid of nine posts, grouped by section or tag"),postCount:{desktop:9,tablet:9,mobile:7}},custom:{id:"custom",label:r("Custom"),description:r("Custom layout"),postCount:{desktop:0,tablet:0,mobile:0}}}},UR=()=>{const r=hy();return py.reduce((t,o)=>Ja(Ya({},t),{[o]:r[o].postCount}),{})},wj=({excludeCustom:r})=>{const t=hy();return py.filter(o=>!r||o!=="custom").map(o=>({value:o,label:t[o].label}))},Sj={subscribe:{id:"subscribe",label:"Subscribe"},recommendations:{id:"recommendations",label:"Recommendations"},links:{id:"links",label:"Links"},contributors:{id:"contributors",label:"Contributors"},newsletters:{id:"newsletters",label:"Newsletters"},podcasts:{id:"podcasts",label:"Podcasts"},"top-posts":{id:"top-posts",label:"Top posts"}},Pf={posts:{min:3,default:6,max:7},rows:{min:1,default:2,max:3}},Ij=r=>{let t=!1;const o=[],a={},f=new Set,L=new Set;let k=0;return r.length===0&&(t=!0,o.push("You must have at least one content block")),r.forEach(U=>{const B=kR(U);B==="latest"&&(k+=bf({contentBlock:U}),k>dy&&(t=!0,a[U.id]=Ja(Ya({},a[U.id]),{post_source:[`You can't have more than ${dy} of your most recent posts`]}))),B!=="latest"&&B!=="none"&&(f.has(B)?(t=!0,a[U.id]=Ja(Ya({},a[U.id]),{post_source:["You can't use the same post source more than once"]})):f.add(B)),B==="none"&&U.block_type!=="subscribe"&&(t=!0,a[U.id]=Ja(Ya({},a[U.id]),{post_source:["This block type requires a post source"]})),U.primary_sidebar_modules.forEach(q=>{L.has(q)?(t=!0,a[U.id]=Ja(Ya({},a[U.id]),{primary_sidebar_modules:["You can't use the same module more than once"]})):L.add(q)}),U.secondary_sidebar_modules.forEach(q=>{L.has(q)?(t=!0,a[U.id]=Ja(Ya({},a[U.id]),{secondary_sidebar_modules:["You can't use the same module more than once"]})):L.add(q)})}),{hasError:t,errorObject:{global:o.length?o:null,contentBlocks:a}}},kR=r=>r.post_source==="tag"?`tag:${r.post_tag_id}`:r.post_source==="section"?`section:${r.section_id}`:r.post_source,bf=({contentBlock:r,breakpoint:t="desktop"})=>{if(r.block_type==="list")return r.num_posts||Pf.posts.default;if(r.block_type==="grid"){const o=r.num_rows||Pf.rows.default;if(t==="desktop"||t==="mobile"){let a=4;return r.primary_sidebar_modules.length>0&&(a-=1),r.secondary_sidebar_modules.length>0&&(a-=1),a*o}else if(t==="tablet"){let a=3;return(r.primary_sidebar_modules.length>0||r.secondary_sidebar_modules.length>0)&&(a-=1),a*o}}return r.block_type==="feature"?4:0};var FR=Object.defineProperty,WR=Object.defineProperties,jR=Object.getOwnPropertyDescriptors,Iu=Object.getOwnPropertySymbols,my=Object.prototype.hasOwnProperty,_y=Object.prototype.propertyIsEnumerable,gy=(r,t,o)=>t in r?FR(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Ef=(r,t)=>{for(var o in t||(t={}))my.call(t,o)&&gy(r,o,t[o]);if(Iu)for(var o of Iu(t))_y.call(t,o)&&gy(r,o,t[o]);return r},Of=(r,t)=>WR(r,jR(t)),KR=(r,t)=>{var o={};for(var a in r)my.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&Iu)for(var a of Iu(r))t.indexOf(a)<0&&_y.call(r,a)&&(o[a]=r[a]);return o};const HR={grid:"full-width-with-sidebar","grid-groups":"full-width-with-sidebar",list:"three-column-width-with-sidebar"},VR={grid:"three-column-grid",list:"two-column-list"},$R={grid:"full-width","grid-groups":"full-width",list:"three-column-width"},ZR=r=>{var t=r,{freeSignup:o,freeSignupEmail:a,hideImagesFromList:f,posts:L,pub:k,showSiteMap:U,source:B,user:q,utm:pe,variant:ge,onChange:Pe,bodyPostGroups:Ee,postsByGroupId:Me}=t,De=KR(t,["freeSignup","freeSignupEmail","hideImagesFromList","posts","pub","showSiteMap","source","user","utm","variant","onChange","bodyPostGroups","postsByGroupId"]);const{breakpoint:Ue}=(0,cr.v9)(),Ye=UR()[ge][Ue],st=ge==="list"&&(f||L.slice(0,Ye).every(nt=>!nt.cover_image));return(0,e.h)(e.Fragment,null,(0,e.h)(ha,{variant:HR[ge],showContentBelowOnMobile:!0},(0,e.h)(vu,Of(Ef({},De),{maxPosts:Ye,newPosts:L,pub:k,user:q,variant:ge}),({posts:nt,linkToComments:at,onClickPost:yt})=>{const Et={hideImages:st,linkToComments:at,posts:nt,pub:k,source:B,user:q,utm:pe,onChange:Pe,onClickPost:yt};return ge==="grid-groups"?(0,e.h)(ER,Of(Ef({},Et),{bodyPostGroups:Ee,postsByGroupId:Me,setHasInvalidGroupSelection:De.setHasInvalidGroupSelection,hasEmptyGroupOptions:De.hasEmptyGroupOptions})):(0,e.h)(br,Of(Ef({},Et),{variant:VR[ge]}))}),(0,e.h)(mR,{pub:k,user:q})),U&&(0,e.h)(ha,{variant:$R[ge]},(0,e.h)(MR,{pub:k,user:q,freeSignup:o,freeSignupEmail:a})))},GR={container:"frontend-main-home-content_blocks-ContentBlockEmptyState-module__container--FYIsx"},Cf=()=>(0,e.h)(d.xu,{paddingX:16,paddingY:48,radius:6,className:GR.container},(0,e.h)(d.xv.B4,{color:"pub-secondary-text",textAlign:"center"},"No posts found")),wf=({title:r,viewAllUrl:t})=>{const{isMobile:o}=(0,cr.v9)();return(0,e.h)(d.gq,{alignItems:"baseline",justifyContent:"space-between",paddingBottom:o?12:16},o?(0,e.h)(va,null,r):(0,e.h)(d.xv.H2,{color:"pub-primary-text",font:"pub-headings"},r),t&&(0,e.h)(Ii,{href:t},"View all"))},Bs={container:"frontend-main-home-LayoutHalfHalf-module__container--UpdiU",column:"frontend-main-home-LayoutHalfHalf-module__column--xDXwf",left:"frontend-main-home-LayoutHalfHalf-module__left--GzFMe",right:"frontend-main-home-LayoutHalfHalf-module__right--IS8pD"},zR=({leftContent:r,rightContent:t,mobileContent:o})=>{const{isMobile:a}=(0,cr.v9)();return a&&o?o:(0,e.h)("div",{className:Bs.container},(0,e.h)("div",{className:u()(Bs.column,Bs.left)},r),(0,e.h)("div",{className:u()(Bs.column,Bs.right)},t))},YR=({posts:r,pub:t,showEmptyState:o,title:a,user:f,viewAllUrl:L,onChange:k})=>{const{isTablet:U}=(0,cr.v9)();return!o&&r.length===0?null:(0,e.h)(e.Fragment,null,a&&(0,e.h)(wf,{title:a,viewAllUrl:L}),r.length?(0,e.h)(zR,{leftContent:(0,e.h)(Si,{imageAspectRatio:"wide",hideWash:!0,post:r[0],pub:t,user:f,variant:"large",onChange:k}),rightContent:(0,e.h)(br,{posts:r.slice(1,4),pub:t,user:f,variant:U?"one-column-list":"two-column-list",onChange:k}),mobileContent:(0,e.h)(br,{posts:r.slice(0,4),pub:t,user:f,variant:"two-column-list",onChange:k})}):(0,e.h)(Cf,null))},Ro={outerContainer:"frontend-main-home-LayoutColumns-module__outerContainer--qy4d2",container:"frontend-main-home-LayoutColumns-module__container--H9Z5Z",column:"frontend-main-home-LayoutColumns-module__column--wj9tn",column1:"frontend-main-home-LayoutColumns-module__column1--t4q5a",column2:"frontend-main-home-LayoutColumns-module__column2--XTexX",column3:"frontend-main-home-LayoutColumns-module__column3--xV51Q",column4:"frontend-main-home-LayoutColumns-module__column4--mmZnX"},Sf=({leftContent:r,mainContent:t,rightContent:o,stretchToFullWidth:a})=>{const{isMobile:f,isTablet:L,isDesktop:k}=(0,cr.v9)(),U=r&&o;let B=2;return a&&(k?B=4-(r?1:0)-(o?1:0):L&&(B=3-(r||o?1:0))),f&&(B=1),(0,e.h)("div",{className:Ro.outerContainer},(0,e.h)("div",{className:Ro.container},r&&(0,e.h)(d.xu,{className:u()(Ro.column,Ro.column1),borderRight:U?"detail-themed":void 0,paddingTop:8},r),(0,e.h)(d.xu,{className:u()(Ro.column,{[Ro.column2]:B===2,[Ro.column3]:B===3,[Ro.column4]:B===4}),borderRight:U?"detail-themed":void 0},t),o&&(0,e.h)(d.xu,{className:u()(Ro.column,Ro.column1),paddingTop:8},o)))};var JR=Ke(8400),XR=Ke.n(JR);const Us={postRow:"frontend-main-home-PostsGrid-module__postRow--IK5v4",postContainer:"frontend-main-home-PostsGrid-module__postContainer--cSdz5",postContainerTwoColumn:"frontend-main-home-PostsGrid-module__postContainerTwoColumn--sSPsj",postContainerThreeColumn:"frontend-main-home-PostsGrid-module__postContainerThreeColumn--S7iyT",postContainerFourColumn:"frontend-main-home-PostsGrid-module__postContainerFourColumn--eIjBf"},QR=({posts:r,pub:t,numColumns:o,user:a,onChange:f})=>{const L=XR()(r,o);return(0,e.h)(d.tu,{gap:16},L.map(k=>(0,e.h)(d.gq,{className:Us.postRow},k.map(U=>(0,e.h)("div",{className:u()(Us.postContainer,{[Us.postContainerTwoColumn]:o===2,[Us.postContainerThreeColumn]:o===3,[Us.postContainerFourColumn]:o===4})},(0,e.h)(Si,{post:U,pub:t,user:a,variant:"square",onChange:f}))))))};var vy=Ke(2731);const yy=10,qR=()=>{const{iTemplate:r}=(0,A.M1)(),{contributors:t}=(0,n.qp)(Ga),[o,a]=(0,n.eJ)(!1);if(!t)return null;const f=t.filter(U=>!!U.name),L=f.slice(0,yy),k=f.slice(yy);return(0,e.h)(d.tu,{gap:16},(0,e.h)(va,null,"Contributors"),(0,e.h)(d.tu,{gap:4},L.length?L.map(U=>{var B;return(0,e.h)(za,{image:U.photo_url?(0,e.h)(rs,{imageUrl:U.photo_url,size:"md"}):void 0,title:(B=U.name)!=null?B:"",url:(0,vy.getReaderProfileUrl)(U,{utm_source:"pub-home-sidebar"})})}):(0,e.h)(Cu,null),(0,e.h)(d.HZ,{expanded:o},(0,e.h)(d.tu,{gap:4},k.map(U=>{var B;return(0,e.h)(za,{image:U.photo_url?(0,e.h)(rs,{imageUrl:U.photo_url,size:"md"}):void 0,title:(B=U.name)!=null?B:"",url:(0,vy.getReaderProfileUrl)(U,{utm_source:"pub-home-sidebar"})})}))),k.length>0&&(0,e.h)(d.gq,{justifyContent:"center",paddingY:4},(0,e.h)(Ii,{onClick:()=>{a(!o)}},o?r`Show less`:r`Show ${k.length} more`))))},Xa={logo:"frontend-main-home-sidebar-PodcastArt-module__logo--NMNSr","logo-64":"frontend-main-home-sidebar-PodcastArt-module__logo-64--zEi9Z","logo-72":"frontend-main-home-sidebar-PodcastArt-module__logo-72--COwbG",logoPlaceholder:"frontend-main-home-sidebar-PodcastArt-module__logoPlaceholder--D2tNI"},Py=({altText:r="Section logo",size:t=64,url:o,showPlaceholder:a})=>o?(0,e.h)("img",{className:u()(Xa.logo,{[Xa["logo-64"]]:t===64,[Xa["logo-72"]]:t===72}),src:(0,g.imginary)(o,t*2),alt:r}):a?(0,e.h)("div",{className:u()(Xa.logo,Xa.logoPlaceholder,{[Xa["logo-64"]]:t===64,[Xa["logo-72"]]:t===72})}):null,e7=({pub:r})=>{const t=r.sections.filter(a=>(0,Ne.sectionIsSpecificallyMarkedAsNewsletter)({section:a,pub:r})||!a.is_podcast),o=t.some(a=>a.logo_url);return(0,e.h)(d.tu,{gap:16},(0,e.h)(va,null,"Newsletters"),(0,e.h)(d.tu,{gap:4},t.length?t.map(a=>(0,e.h)(za,{image:a.logo_url||o?(0,e.h)(Py,{size:64,url:a.logo_url,altText:`Logo for ${a.name}`,showPlaceholder:!0}):null,title:a.name,subtitle:a.description,url:(0,G.getSectionUrl)(r,{section:a,addBase:!0})})):(0,e.h)(Cu,null)))},t7=({pub:r})=>{const t=(0,Os.FV)(r),o=t.some(a=>a.podcast_art_url);return(0,e.h)(d.tu,{gap:16},(0,e.h)(va,null,"Podcasts"),(0,e.h)(d.tu,{gap:4},t.length?t.map(a=>(0,e.h)(za,{image:a.podcast_art_url||o?(0,e.h)(Py,{size:64,url:a.podcast_art_url,altText:`Logo for ${a.title}`,showPlaceholder:!0}):null,title:a.title,subtitle:a.subtitle,url:a.url})):(0,e.h)(Cu,null)))},n7=({pub:r,user:t})=>{const{topPosts:o,utm:a,onChangePost:f}=(0,n.qp)(Ga);return!o||!f?null:(0,e.h)(d.tu,{gap:16},(0,e.h)(va,null,"Top posts"),(0,e.h)(br,{pub:r,posts:o.slice(0,5),user:t,utm:a,variant:"one-column-list",onChange:f}))};var r7=Object.defineProperty,by=Object.getOwnPropertySymbols,o7=Object.prototype.hasOwnProperty,a7=Object.prototype.propertyIsEnumerable,Ey=(r,t,o)=>t in r?r7(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,i7=(r,t)=>{for(var o in t||(t={}))o7.call(t,o)&&Ey(r,o,t[o]);if(by)for(var o of by(t))a7.call(t,o)&&Ey(r,o,t[o]);return r};const Pa=({ids:r,pub:t,user:o})=>{const a=h1()(r.map(f=>f==="subscribe"?(0,e.h)(q1,{pub:t,user:o}):f==="recommendations"?(0,e.h)(X1,{pub:t,user:o,showEmptyState:!0,hideHeaderBorder:!0}):f==="links"?s7($1,{pub:t,hideHeaderBorder:!0}):f==="contributors"?(0,e.h)(qR,null):f==="podcasts"?(0,e.h)(t7,{pub:t}):f==="newsletters"?(0,e.h)(e7,{pub:t}):f==="top-posts"?(0,e.h)(n7,{pub:t,user:o}):null));return(0,e.h)(d.tu,null,a.map((f,L)=>(0,e.h)(e.Fragment,null,f,L<a.length-1&&(0,e.h)(Ts,null))))},s7=(r,t)=>{const o=(0,e.h)(r,i7({},t));return typeof o.type=="function"&&o.type(t)===null?null:o},l7=({numPosts:r,posts:t,pub:o,showEmptyState:a,sidebarLeft:f,sidebarRight:L,title:k,user:U,viewAllUrl:B,onChange:q})=>{const{isDesktop:pe,isTablet:ge}=(0,cr.v9)();if(!a&&t.length===0)return null;const Pe=f&&f.length>0,Ee=L&&L.length>0;let Me,De,Ue;pe?(Me=Pe?(0,e.h)(Pa,{ids:f,pub:o,user:U}):void 0,De=Ee?(0,e.h)(Pa,{ids:L,pub:o,user:U}):void 0,Ue=4-(Ee?1:0)-(Pe?1:0)):ge?Ee?(De=(0,e.h)(Pa,{ids:[...L,...f!=null?f:[]],pub:o,user:U}),Ue=2):Pe?(Me=(0,e.h)(Pa,{ids:f,pub:o,user:U}),Ue=2):Ue=3:Ue=1;const Fe=(0,e.h)(e.Fragment,null,k&&(0,e.h)(wf,{title:k,viewAllUrl:B}),t.length?(0,e.h)(QR,{posts:t.slice(0,r),pub:o,user:U,numColumns:Ue,onChange:q}):(0,e.h)(Cf,null));return(0,e.h)(Sf,{mainContent:Fe,leftContent:Me,rightContent:De,stretchToFullWidth:!0})},u7=({numPosts:r,posts:t,pub:o,showEmptyState:a,sidebarLeft:f,sidebarRight:L,title:k,user:U,viewAllUrl:B,onChange:q})=>{const{isTablet:pe,isDesktop:ge}=(0,cr.v9)();if(!a&&t.length===0)return null;const Pe=f&&f.length>0,Ee=L&&L.length>0;let Me,De;const Ue=(0,e.h)(e.Fragment,null,k&&(0,e.h)(wf,{title:k,viewAllUrl:B}),t.length?(0,e.h)(br,{posts:t.slice(0,r),pub:o,user:U,variant:"two-column-list",onChange:q}):(0,e.h)(Cf,null));return ge?(Me=Pe?(0,e.h)(Pa,{ids:f,pub:o,user:U}):void 0,De=Ee?(0,e.h)(Pa,{ids:L,pub:o,user:U}):void 0):pe&&(Ee?De=(0,e.h)(Pa,{ids:[...L,...f!=null?f:[]],pub:o,user:U}):Pe&&(Me=(0,e.h)(Pa,{ids:f,pub:o,user:U}))),(0,e.h)(Sf,{mainContent:Ue,leftContent:Me,rightContent:De})},Oy={outerContainer:"frontend-main-home-content_blocks-ContentBlockSubscribe-module__outerContainer--y7q8i",innerContainer:"frontend-main-home-content_blocks-ContentBlockSubscribe-module__innerContainer--kL5ui"},c7=({contentBlock:r,pub:t,user:o})=>{const{iString:a}=(0,A.M1)(),{freeSignup:f,freeSignupEmail:L}=(0,n.qp)(Ga),{isMobile:k}=(0,cr.v9)(),U=f||(o==null?void 0:o.is_free_subscribed),B=o==null?void 0:o.is_subscribed,q=(0,G.getSubscribeUrl)(t,{params:{utm_source:"subscribe_content_block",gift:!0,next:document.location.href}});return(0,e.h)("div",{className:Oy.outerContainer},(0,e.h)(d.xu,{className:Oy.innerContainer,paddingY:k?40:48},(0,e.h)(d.hs,{direction:k?"column":"row",alignItems:"center",gap:16,justifyContent:"center"},(0,e.h)(d.xv.B1,{textAlign:k?"center":"left"},B?r.attrs.paid_subscriber_message:U?r.attrs.free_subscriber_message:r.attrs.non_subscriber_message),(0,e.h)(d.xu,{flex:"auto"},B?(0,e.h)(d.zx,{priority:"primary-theme",href:q,localNavigation:!1},a("Gift a subscription")):(0,e.h)(Do,{pub:t,user:o,freeSignup:f,freeSignupEmail:L,source:"content-block"})))))},d7=({contentBlock:r,posts:t,pub:o,showEmptyState:a,title:f,user:L,viewAllUrl:k,onChange:U})=>{var B;const{breakpoint:q}=(0,cr.v9)();if(r.block_type==="list")return(0,e.h)(u7,{numPosts:(B=r.num_posts)!=null?B:Pf.posts.default,posts:t,pub:o,sidebarLeft:r.secondary_sidebar_modules,sidebarRight:r.primary_sidebar_modules,showEmptyState:a,title:f,user:L,viewAllUrl:k,onChange:U});if(r.block_type==="grid"){const pe=bf({contentBlock:r,breakpoint:q});return(0,e.h)(l7,{numPosts:pe,posts:t,pub:o,sidebarLeft:r.secondary_sidebar_modules,sidebarRight:r.primary_sidebar_modules,showEmptyState:a,title:f,user:L,viewAllUrl:k,onChange:U})}return r.block_type==="feature"?(0,e.h)(YR,{posts:t,pub:o,showEmptyState:a,title:f,user:L,viewAllUrl:k,onChange:U}):r.block_type==="subscribe"?(0,e.h)(c7,{contentBlock:r,pub:o,user:L}):null},f7=()=>(0,e.h)(d.xu,{paddingBottom:120},(0,e.h)(Sf,{mainContent:(0,e.h)(lf,{animated:!1,postCount:4,variant:"list"}),leftContent:(0,e.h)("div",null,"\xA0"),rightContent:(0,e.h)("div",null,"\xA0")})),p7=({contentBlocks:r,postsBySectionId:t,postsByTagId:o,postTagsById:a,pub:f,recentPosts:L,sectionsById:k,showEmptyStates:U,user:B,onChange:q})=>{const{breakpoint:pe}=(0,cr.v9)();let ge=0;const Pe=r.filter(Ee=>Ee.post_source==="latest").length>1;return(0,e.h)(d.tu,{paddingBottom:40},r.length||!U?r.map((Ee,Me)=>{var De,Ue;let Fe=[],Ye="",st;if(Ee.post_source==="latest"){const nt=bf({contentBlock:Ee,breakpoint:pe});Fe=L.slice(ge,ge+nt),ge+=nt,Ye=Pe?"":"Recent posts",st=(0,g.getBaseArchiveUrl)(f)}else if(Ee.post_source==="section"&&Ee.section_id){const nt=k[Ee.section_id];Fe=(De=t[Ee.section_id])!=null?De:[],Ye=(nt==null?void 0:nt.name)||"",st=(0,G.getSectionUrl)(f,{section:nt})}else if(Ee.post_source==="tag"&&Ee.post_tag_id){const nt=a[Ee.post_tag_id];Fe=(Ue=o[Ee.post_tag_id])!=null?Ue:[],Ye=(nt==null?void 0:nt.name)||"",st=nt&&(0,G.getPostTagUrl)(f,nt)}return(0,e.h)(e.Fragment,null,(0,e.h)("div",{id:`block-${Ee.id}`,style:{scrollMarginTop:48}},(0,e.h)(d7,{key:Ee.id,contentBlock:Ee,posts:Fe,pub:f,showEmptyState:U,title:Ye,user:B,viewAllUrl:st,onChange:q})),Me<r.length-1&&(0,e.h)(Ts,null))}):(0,e.h)(f7,null))};var h7=Object.defineProperty,m7=Object.defineProperties,_7=Object.getOwnPropertyDescriptors,Tu=Object.getOwnPropertySymbols,Cy=Object.prototype.hasOwnProperty,wy=Object.prototype.propertyIsEnumerable,Sy=(r,t,o)=>t in r?h7(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,g7=(r,t)=>{for(var o in t||(t={}))Cy.call(t,o)&&Sy(r,o,t[o]);if(Tu)for(var o of Tu(t))wy.call(t,o)&&Sy(r,o,t[o]);return r},v7=(r,t)=>m7(r,_7(t)),y7=(r,t)=>{var o={};for(var a in r)Cy.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&Tu)for(var a of Tu(r))t.indexOf(a)<0&&wy.call(r,a)&&(o[a]=r[a]);return o};const P7=r=>{var t=r,{columns:o=4,posts:a,pub:f}=t,L=y7(t,["columns","posts","pub"]);const{isMobile:k}=(0,cr.v9)();return k?null:(0,e.h)(ha,{variant:o===3?"three-column-width":"full-width"},(0,e.h)(d.tu,{gap:12},(0,e.h)(O1,{pub:f}),(0,e.h)(br,v7(g7({},L),{pub:f,posts:a,variant:o===3?"three-column-mini-row":"mini-row"}))))},Di={container:"frontend-main-home-ModularHome-module__container--u5zRH",bodyContainer:"frontend-main-home-ModularHome-module__bodyContainer--UX7ez","container--empty":"frontend-main-home-ModularHome-module__container--empty--aO2aD"};var b7=Object.defineProperty,E7=Object.defineProperties,O7=Object.getOwnPropertyDescriptors,Du=Object.getOwnPropertySymbols,Iy=Object.prototype.hasOwnProperty,Ty=Object.prototype.propertyIsEnumerable,Dy=(r,t,o)=>t in r?b7(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,C7=(r,t)=>{for(var o in t||(t={}))Iy.call(t,o)&&Dy(r,o,t[o]);if(Du)for(var o of Du(t))Ty.call(t,o)&&Dy(r,o,t[o]);return r},w7=(r,t)=>E7(r,O7(t)),S7=(r,t)=>{var o={};for(var a in r)Iy.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&Du)for(var a of Du(r))t.indexOf(a)<0&&Ty.call(r,a)&&(o[a]=r[a]);return o};const I7="modular-home-posts",T7=r=>{var t;const o=r,{alwaysShowActions:a,bodyPostGroups:f,contentBlocks:L,contributors:k,freeSignup:U,freeSignupEmail:B,homepageLinks:q,numRecommendations:pe,postsByGroupId:ge,postsBySectionId:Pe,postsByTagId:Ee,postTagsById:Me,pub:De,recommendations:Ue,sectionsById:Fe,showEmptyStates:Ye,showSiteMap:st,theme:nt,user:at,utm:yt}=o,Et=S7(o,["alwaysShowActions","bodyPostGroups","contentBlocks","contributors","freeSignup","freeSignupEmail","homepageLinks","numRecommendations","postsByGroupId","postsBySectionId","postsByTagId","postTagsById","pub","recommendations","sectionsById","showEmptyStates","showSiteMap","theme","user","utm"]),{posts:Ct,topPosts:It,onChange:Tt,postsLoaded:Rt}=(0,cr.uj)(g1()(r,["newPosts","pinnedPosts","topPosts","postsLoaded"])),{breakpoint:wt,isMobile:Qt}=(0,cr.v9)(),{getSettingFor:jt}=(0,it.So)(),qt=(0,Ne.ensureInList)(jt("post_preview_crop_gravity"),["center","auto"]),ln=BR();if(Ct.length===0)return Rt?(0,e.h)(D7,null):(0,e.h)(d.tu,{className:u()(Di.container,Di["container--empty"]),alignItems:"center",justifyContent:"center"},(0,e.h)("div",{className:"more-loader"}));const Bt=Ct[0],zt=It==null?void 0:It.filter(Gt=>!Bt||Gt.id!==Bt.id),on=!((t=Ct[0])!=null&&t.cover_image);let Yt=ln[nt.home_hero][wt];on&&["magaziney","magazine-5"].includes(nt.home_hero)&&["desktop","tablet"].includes(wt)&&(Yt+=2);let Zt=nt.home_hero;Ct.length<Yt+1&&(Zt="newspaper",Yt=1);const xt=["newspaper","feature"].includes(Zt)&&nt.home_posts==="list",Dt=Ct.length>=Yt+1,kt=Dt?Ct.slice(Yt):Ct;return(0,e.h)(Vl.Provider,{value:{alwaysShowActions:a,cropGravity:qt}},(0,e.h)(Ga.Provider,{value:{contributors:k,freeSignup:U,freeSignupEmail:B,homepageLinks:q,numRecommendations:pe,recommendations:Ue,topPosts:It,utm:yt,onChangePost:Tt}},(0,e.h)(d.tu,{className:Di.container},(0,e.h)(d.tu,{gap:32,paddingTop:!Dt&&Qt?24:0},Dt&&(0,e.h)(vx,{firstPostMissingImage:on,bodyVariant:nt.home_posts,isMobile:Qt,posts:Ct.slice(0,Yt),pub:De,topPosts:zt,user:at,utm:yt,variant:Zt,onChange:Tt}),nt.home_show_top_posts&&zt&&Zt!=="magaziney"&&Dt&&(0,e.h)(P7,{columns:xt?3:4,posts:zt,pub:De,user:at,utm:yt,onChange:Tt})),(0,e.h)(d.tu,{className:Di.bodyContainer,id:I7},Dt&&(0,e.h)(Ts,{numColumns:xt?3:4}),(0,e.h)("div",{id:"home-body",style:{scrollMarginTop:48}},nt.home_posts!=="custom"&&(0,e.h)(ZR,w7(C7({},Et),{freeSignup:U,freeSignupEmail:B,hideImagesFromList:nt.hide_images_from_list,posts:kt,pub:De,showSiteMap:st,source:`${nt.home_hero}-${nt.home_posts}-home`,user:at,utm:yt,variant:nt.home_posts,onChange:Tt,bodyPostGroups:f,postsByGroupId:ge,hasEmptyGroupOptions:r.hasEmptyGroupOptions})),nt.home_posts==="custom"&&L&&Pe&&Ee&&Me&&Fe&&(0,e.h)(p7,{contentBlocks:L,postsBySectionId:Pe,postsByTagId:Ee,postTagsById:Me,pub:De,recentPosts:kt,sectionsById:Fe,showEmptyStates:Ye,user:at,onChange:Tt}))))))},D7=()=>(0,e.h)(d.tu,{className:u()(Di.container,Di["container--empty"]),alignItems:"center",justifyContent:"center"},"Coming Soon");var M7=Object.defineProperty,A7=Object.defineProperties,L7=Object.getOwnPropertyDescriptors,Mu=Object.getOwnPropertySymbols,My=Object.prototype.hasOwnProperty,Ay=Object.prototype.propertyIsEnumerable,Ly=(r,t,o)=>t in r?M7(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Ny=(r,t)=>{for(var o in t||(t={}))My.call(t,o)&&Ly(r,o,t[o]);if(Mu)for(var o of Mu(t))Ay.call(t,o)&&Ly(r,o,t[o]);return r},N7=(r,t)=>A7(r,L7(t)),x7=(r,t)=>{var o={};for(var a in r)My.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&Mu)for(var a of Mu(r))t.indexOf(a)<0&&Ay.call(r,a)&&(o[a]=r[a]);return o};const R7=r=>{var t=r,{blurbs:o,contentBlocks:a,contentBlockPostTagsById:f,contentBlockSectionsById:L,contributors:k,freeSignup:U,freeSignupEmail:B,hasEmptyGroupOptions:q,homepageLinks:pe,hide_intro_popup:ge,newPosts:Pe,noBalanceHeroText:Ee,notify_user:Me,numRecommendations:De,pinnedPosts:Ue,pub:Fe,recommendations:Ye,referralCode:st,showEmptyStates:nt,showWelcome:at,user:yt,postTags:Et,postsByGroupId:Ct,postsBySectionId:It,postsByTagId:Tt,sections:Rt,topPosts:wt,launchWelcomePage:Qt,skipIntoPopupRender:jt}=t,qt=x7(t,["blurbs","contentBlocks","contentBlockPostTagsById","contentBlockSectionsById","contributors","freeSignup","freeSignupEmail","hasEmptyGroupOptions","homepageLinks","hide_intro_popup","newPosts","noBalanceHeroText","notify_user","numRecommendations","pinnedPosts","pub","recommendations","referralCode","showEmptyStates","showWelcome","user","postTags","postsByGroupId","postsBySectionId","postsByTagId","sections","topPosts","launchWelcomePage","skipIntoPopupRender"]),ln;const Bt=(0,cr.qU)({pubId:Fe.id,preloads:{contentBlocks:a,contributors:k,homepageLinks:pe,newPosts:Pe,pinnedPosts:Ue,recommendations:Ye,topPosts:wt,postsBySectionId:It,postsByTagId:Tt}});(0,n.d4)(()=>{Me&&typeof window!="undefined"&&(0,aa.ZP)(Me)},[Me]);const zt=!!(Ue&&Ue.length>0),on=h1()((ln=Fe.theme.body_post_groups)==null?void 0:ln.map(Yt=>{var Zt,xt,Dt,kt;return Yt.tag_id?(xt=(Zt=Yt.post_tag)!=null?Zt:Et==null?void 0:Et.find(Gt=>Gt.id===Yt.tag_id))!=null?xt:null:Yt.section_id&&(kt=(Dt=Yt.section)!=null?Dt:Rt==null?void 0:Rt.find(Gt=>Gt.id===Yt.section_id))!=null?kt:null}));return(0,e.h)("div",{className:"home-page home-page--modular"},(0,e.h)(m1,{pub:Fe}),(0,e.h)(T7,N7(Ny(Ny({},qt),Bt),{alwaysShowActions:!1,bodyPostGroups:on,freeSignup:U,freeSignupEmail:B,hasEmptyGroupOptions:q,numRecommendations:De,postsByGroupId:Ct,postTagsById:f,pub:Fe,sectionsById:L,showEmptyStates:!!nt,showSiteMap:zt,theme:Fe.theme,user:yt})),jt?null:(0,e.h)(_1,{blurbs:o,freeSignup:U,freeSignupEmail:B,hide_intro_popup:ge,noBalanceHeroText:Ee,pub:Fe,referralCode:st,showWelcome:at,user:yt,launchWelcomePage:Qt}))},B7={logo:"frontend-main-home-SectionHeader-module__logo--k74v2"},xy=({logoUrl:r,name:t,description:o})=>(0,e.h)(d.tu,{gap:12,paddingTop:32,paddingBottom:24},r&&(0,e.h)("img",{className:B7.logo,src:(0,g.imginary)(r,72*2),alt:t}),(0,e.h)(d.xv.H1,{font:"pub-headings",color:"pub-primary-text"},t),(0,e.h)(d.xv.B3,{color:"pub-secondary-text"},o)),U7={container:"frontend-main-home-SectionPage-module__container--W1M1c"},If=({blurbs:r,freeSignup:t,freeSignupEmail:o,hide_intro_popup:a,isPodcast:f,newPosts:L,noBalanceHeroText:k,notify_user:U,pinnedPosts:B,pub:q,referralCode:pe,search:ge,section:Pe,sort:Ee,showWelcome:Me,user:De,utm:Ue,launchWelcomePage:Fe,skipIntoPopupRender:Ye})=>{var st,nt;if((0,n.d4)(()=>{U&&typeof window!="undefined"&&(0,aa.ZP)(U)},[U]),!Pe&&!f)return console.warn("Should be either a section or podcast or both"),null;let at=null;return f&&(at=Pe?(0,qi.getSectionPodcastSettings)({pub:q,section:Pe}):(0,qi.getPubPodcastSettings)({pub:q})),(0,e.h)("div",{className:u()("home-page",U7.container)},(0,e.h)(m1,{pub:q,section:Pe,isPodcast:f}),at?(0,e.h)(xy,{name:(st=at.title)!=null?st:"",description:(nt=at.description)!=null?nt:"",logoUrl:at.artUrl}):Pe&&(0,e.h)(xy,{name:Pe.name,description:Pe.description,logoUrl:Pe.logo_url}),(0,e.h)(Ts,null),(0,e.h)(vu,{isPodcast:f,maxPosts:7,newPosts:L,pinnedPosts:B,pub:q,search:ge,sectionId:Pe==null?void 0:Pe.id,sort:Ee,user:De,variant:"list"},({posts:yt,linkToComments:Et,onClickPost:Ct})=>(0,e.h)(br,{hideImages:q.theme.hide_images_from_list,linkToComments:Et,posts:yt,pub:q,showSectionPins:!0,user:De,utm:Ue,variant:"two-column-list",onChange:()=>{},onClickPost:Ct})),Ye?null:(0,e.h)(_1,{blurbs:r,freeSignup:t,freeSignupEmail:o,hide_intro_popup:a,isPodcast:f,noBalanceHeroText:k,pub:q,referralCode:pe,showWelcome:Me,user:De,launchWelcomePage:Fe}))};var k7=Object.defineProperty,F7=(r,t,o)=>t in r?k7(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Ry=(r,t,o)=>(F7(r,typeof t!="symbol"?t+"":t,o),o),By=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});class W7 extends e.Component{constructor(){super(...arguments),Ry(this,"state",{loading:!0,invites:[]}),Ry(this,"onSuccess",()=>By(this,null,function*(){alert("Invite sent!"),document.location.reload()}))}componentDidMount(){if(!this.hasInvites()){(0,i.redirectToAccount)(this.props.pub);return}this.loadInvites()}hasInvites(){const{pub:t,user:o}=this.props;return t.invite_only?o&&o.is_contributor?!0:!(!(t.subscriber_invites>0)||!(o&&o.is_subscribed)):!1}loadInvites(){return By(this,null,function*(){try{const t=yield et().get("/api/v1/publication/invite");this.setState({invites:t.body,loading:!1})}catch(t){console.error("Failed to fetch invites:",t),alert((0,i.getNetworkErrorMessage)(t))}})}render({pub:t,user:o},{loading:a,invites:f}){if(!this.hasInvites())return(0,e.h)("p",{className:"main-loader"},"Loading\u2026");const L=o&&o.is_contributor,k=Math.max(o&&o.invites,f.length),U=Math.max(k,t.subscriber_invites),B=U-k;return(0,e.h)("div",{className:"invite-page page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Your invites"),(0,e.h)("p",null,t.name," is invite-only, but you\u2019ve been granted"," ",L?"an infinite number of invites":(0,Ne.pluralize)(U,"invite")," to give out."),(B>0||L)&&[!L&&(0,e.h)("h5",null,"You have ",(0,Ne.pluralize)(B,"invite")," left"),(0,e.h)(ce.ZP,{ref:q=>this.form=q,action:"/api/v1/publication/invite",onSuccess:this.onSuccess,noInlineErrors:!0},(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Name\u2026"}),(0,e.h)("input",{type:"text",name:"email",placeholder:"Email\u2026"}),(0,e.h)(Ae.Z,{type:"submit",className:"primary"},"Invite")),(0,e.h)("div",{id:"error-container"}))],a&&k>0?(0,e.h)("p",null,(0,e.h)("br",null),"Loading\u2026"):f.length>0?[(0,e.h)("h5",null,"Used invites"),(0,e.h)("ul",null,f.sort((q,pe)=>new Date(pe.created_at)-new Date(q.created_at)).map(q=>(0,e.h)("li",null,q.inviteeUser&&q.inviteeUser.name||""," on"," ",sn()(q.created_at).standardDate())))]:null))}}function j7({pub:r,post:t}){return(0,e.h)(de.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(de.tu,{alignItems:"center",gap:4},(0,e.h)(de.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(M.xv.H1,null,"You rejected your invite to ",r.name)),(0,e.h)(M.xv.B3,null,"If you change your mind, you can accept from your email invitation."),t.is_published?(0,e.h)(M.xv.B3,null,"Your byline has been removed from this post: ",(0,e.h)("a",{href:(0,g.getPostUrl)(r,t)},t.title)):null),(0,e.h)(Be.zx,{href:r.base_url},`Go to ${r.name}`))}function K7({pub:r,user:t,post:o,freeSignup:a,freeSignupEmail:f}){const L=(0,n.sO)(null),k=()=>L.current&&L.current.open();if(!o)return(0,e.h)(de.tu,{paddingTop:32},(0,e.h)("div",{className:"container invite-success"},(0,e.h)("p",null,"You accepted your invite to ",r.name,"."),(0,e.h)("p",null,"If you need admin access, ask your inviter to change your status in the publication settings."),(0,e.h)("p",null,"If you expect to be shown on this publication's author list, make sure your"," ",(0,e.h)(zi.Z,{onClick:k},"profile is up to date")),(0,e.h)(xd.EB,{ref:L,user:t,freeSignup:a,freeSignupEmail:f,needsPhoto:!0})));const U=o.type==="podcast"?"We\u2019ll let you know when the podcast episode goes live":"We\u2019ll let you know when your guest post is live",B="Your profile is set up and good to go!";return(0,e.h)(de.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(de.tu,{alignItems:"center",gap:4},(0,e.h)(de.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(M.xv.H1,null,U)),(0,e.h)(M.xv.B3,null,B)),(0,e.h)(Be.zx,{href:r.base_url},`Go to ${r.name}`))}const H7=(0,mn.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var V7=Object.defineProperty,$7=Object.defineProperties,Z7=Object.getOwnPropertyDescriptors,Uy=Object.getOwnPropertySymbols,G7=Object.prototype.hasOwnProperty,z7=Object.prototype.propertyIsEnumerable,ky=(r,t,o)=>t in r?V7(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Y7=(r,t)=>{for(var o in t||(t={}))G7.call(t,o)&&ky(r,o,t[o]);if(Uy)for(var o of Uy(t))z7.call(t,o)&&ky(r,o,t[o]);return r},J7=(r,t)=>$7(r,Z7(t));const X7=r=>(0,e.h)(Je.l,J7(Y7({},r),{name:"FacebookIcon",svgParams:{height:24,width:24}}),(0,e.h)("path",{d:"M18 2H15C13.6739 2 12.4021 2.52678 11.4645 3.46447C10.5268 4.40215 10 5.67392 10 7V10H7V14H10V22H14V14H17L18 10H14V7C14 6.73478 14.1054 6.48043 14.2929 6.29289C14.4804 6.10536 14.7348 6 15 6H18V2Z"}));var Q7=Object.defineProperty,q7=Object.defineProperties,eB=Object.getOwnPropertyDescriptors,Fy=Object.getOwnPropertySymbols,tB=Object.prototype.hasOwnProperty,nB=Object.prototype.propertyIsEnumerable,Wy=(r,t,o)=>t in r?Q7(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,rB=(r,t)=>{for(var o in t||(t={}))tB.call(t,o)&&Wy(r,o,t[o]);if(Fy)for(var o of Fy(t))nB.call(t,o)&&Wy(r,o,t[o]);return r},oB=(r,t)=>q7(r,eB(t));const jy=r=>(0,e.h)(Je.l,oB(rB({},r),{name:"TwitterIcon",svgParams:{height:24,width:24}}),(0,e.h)("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"}));var aB=(r=>(r.ForYou="for-you",r.ForYouEngagementScoreBeta="for-you-engagement-score-beta",r.ForYouSagemakerPosts="for-you-sagemaker-posts",r.Subscribed="subscribed",r.Writers="writers-v2",r.Everyone="everyone",r.FirstNote="first-note",r.FeaturedContentPreview="featured-content-preview",r))(aB||{}),iB=(r=>(r.postStatsDismissKey="post-stats.dismissed",r.appUnifiedHomeCtaDismissKey="app-unified-home-cta.dismissed",r.feedCtaDismissKey="feed-dashboard-cta.dismissed",r.publicationNotesTabAnnouncement="pub-notes-tab-announcement.dismissed",r.createChatInviteDraft2CtaKey="create-chat-invite-draft-2.dismissed",r.createChatInviteDraftCtaKey="create-chat-invite-draft.dismissed",r.newDashboardAnnouncement="new-dashboard-announcement.dismissed",r.enablePaid="enable-paid.dismissed",r.chatEnableReaderParticipation="chat-enable-reader-participation.dismissed",r.readerReferral="reader-referral.dismissed",r.referralPostAnnouncement="referral-post-announcement.dismissed",r.pubIntroText="publication-intro-text.dismissed",r.pledgeTurnOnPaid="pledge-turn-on-paid.dismissed",r))(iB||{}),sB=(r=>(r.post="post",r))(sB||{}),lB=(r=>(r.DIRECT_EMAIL="direct_email",r.POST_REPLY="post_reply",r))(lB||{}),uB=(r=>(r.SENT="sent",r.REJECTED="rejected",r.NEEDS_REVIEW="needs_review",r.FAILED="failed",r))(uB||{});const cB={rewardBox:"frontend-components-referrals-RewardBox-module__rewardBox--kM6__"},dB=({isSelected:r,tier:t})=>{const{iString:o,iTemplate:a,iPlural:f}=(0,A.M1)(),L={[Ba.CompOneMonth]:o("1 month comp"),[Ba.CompThreeMonths]:o("3 month comp"),[Ba.CompSixMonths]:o("6 month comp"),[Ba.CompNineMonths]:o("9 month comp"),[Ba.CompTwelveMonths]:o("12 month comp"),[Ba.Custom]:o("Custom")};return(0,e.h)(de.tu,{className:cB.rewardBox,border:"detail-themed",radius:12,justifyContent:"space-between",alignItems:"center",flex:"grow",paddingTop:{desktop:20,mobile:20},paddingBottom:{desktop:8,mobile:8},paddingX:{desktop:8,mobile:8},textAlign:"center",sizing:"border-box",style:{borderColor:r?"var(--color-accent-themed)":void 0}},(0,e.h)(de.gq,{gap:4,alignItems:"center"},new Array(t.display_order).fill(0).map(()=>(0,e.h)(cv,{size:20,fill:"var(--color-accent-themed)",stroke:"var(--color-accent-themed)"}))),(0,e.h)(M.xv.H4,{weight:"bold",font:"pub-headings",color:"pub-primary-text"},t.reward_type==="custom"?t.reward_description:L[t.reward_type]),(0,e.h)(M.xv.Meta,{weight:"semibold",style:{color:r?"var(--color-accent-themed)":void 0}},r?a`You're here!`:f("1 Referral","%1 Referrals",t.num_referrals_required)))};var Tf=Ke(17040);const so={wrapper:"frontend-main-leaderboard-module__wrapper--AadCn",headerWrapper:"frontend-main-leaderboard-module__headerWrapper--f9bYD",copyLinkInput:"frontend-main-leaderboard-module__copyLinkInput--c5HVz",copyLinkButton:"frontend-main-leaderboard-module__copyLinkButton--QU9vO",shareButton:"frontend-main-leaderboard-module__shareButton--b9Eiq",referrerRow:"frontend-main-leaderboard-module__referrerRow--k8_kA",referrerRowInverted:"frontend-main-leaderboard-module__referrerRowInverted--I94_a",referrerLink:"frontend-main-leaderboard-module__referrerLink--Wzn16",responsiveHeader:"frontend-main-leaderboard-module__responsiveHeader--ZuruO",shareButtons:"frontend-main-leaderboard-module__shareButtons--G9JHR"};var fB=Object.defineProperty,pB=Object.defineProperties,hB=Object.getOwnPropertyDescriptors,Ky=Object.getOwnPropertySymbols,mB=Object.prototype.hasOwnProperty,_B=Object.prototype.propertyIsEnumerable,Hy=(r,t,o)=>t in r?fB(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Vy=(r,t)=>{for(var o in t||(t={}))mB.call(t,o)&&Hy(r,o,t[o]);if(Ky)for(var o of Ky(t))_B.call(t,o)&&Hy(r,o,t[o]);return r},$y=(r,t)=>pB(r,hB(t)),Zy=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const Df=(r,t)=>{(0,P.j)(P.FP.SHARE_LINK_CLICKED,{name:t,source:"leaderboard"}),r&&(r.startsWith("http")?window.open(r,"_blank"):document.location.href=r)},Gy=({user:r,rank:t,referrals:o,isSelf:a,isHighlighted:f})=>{const{iString:L}=(0,A.M1)();return(0,e.h)(M.xv,{as:r?"a":"div",href:r?(0,G.getProfileUrlById)(r.id,r.name):void 0,className:so.referrerLink},(0,e.h)(de.gq,{sizing:"border-box",style:{width:"100%"},alignItems:"center",border:a||f?"detail-themed":"transparent",radius:12,paddingLeft:12,paddingY:a?16:8,paddingRight:20,justifyContent:"space-between",className:u()(so.referrerRow,{[so.referrerRowInverted]:!a})},(0,e.h)(de.gq,{gap:8,alignItems:"center"},(0,e.h)(M.xv.Digit,{weight:"semibold",paddingRight:4,color:"primary-themed"},t,"."),r?(0,e.h)(mo.Ct,{subject:r,dontStopPropagation:!1},(0,e.h)(ir.qE,{size:36,user:r})):(0,e.h)(ir.qE,{size:36,showProfileHovercard:!1}),(0,e.h)(M.xv.B4,{color:"primary-themed",weight:"semibold"},(r==null?void 0:r.name)||L("Anonymous Reader"))),(0,e.h)(M.xv.B4,{color:"primary-themed",weight:"semibold"},o)))},gB=({pub:r,user:t,freeSignupEmail:o})=>{const{iString:a,iTemplate:f,iPlural:L}=(0,A.M1)(),{getExperimentVariant:k,exposeExperiment:U}=(0,fn.jc)(),B=(0,ur.pm)(),{result:q,isLoading:pe,refetch:ge}=(0,Ze.ib)({pathname:"/api/v1/reader_referrals/leaderboard",auto:!0}),{refetch:Pe}=(0,Ze.Q1)({auto:!1,pathname:"/api/v1/subscription/visibilities",method:"post"});if((0,n.d4)(()=>{!pe&&!q&&(0,i.redirect)((0,G.getBaseUrl)(r))},[q,pe,r]),pe||!q)return(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"}));const{current_user_stats:Ee,tiers:Me,top_referrers:De,current_user_can_share:Ue,current_user_id:Fe,current_user_profile_hidden:Ye}=q,st=t==null?void 0:t.is_admin,nt=t==null?void 0:t.is_contributor,at=(0,g.getQueryItem)("referrer_token"),yt=t&&!t.is_magic&&t.email||o||null,Et=(0,G.pathWithQuery)((0,G.getBaseUrl)(r),{r:(Fe==null?void 0:Fe.toString(36))||at});let Ct,It;Me.find((Rt,wt)=>{const Qt=(Ee==null?void 0:Ee.referrals)||0,jt=Me[wt+1];Qt>=Rt.num_referrals_required&&(!jt||Qt<jt.num_referrals_required)&&(Ct=Rt,It=jt)});let Tt="";return!Ct&&Ee?Tt=`${L("You have %1 referral","You have %1 referrals",Ee.referrals)} - ${L("only %1 more referral to earn your first reward!","only %1 more referrals to earn your first reward!",Me[0].num_referrals_required-Ee.referrals)}`:Ct&&It&&Ee?Tt=`${L("You\u2019ve referred %1 reader!","You\u2019ve referred %1 readers!",Ee.referrals)} ${f`Youve qualified for the Tier ${Ct.display_order} reward.`} ${L("Invite %1 more reader to earn the Tier %2 reward!","Invite %1 more readers to earn the Tier %2 reward!",It.num_referrals_required-Ee.referrals,It.display_order)}`:Ct&&!It&&Ee&&(Tt=`${L("You\u2019ve referred %1 reader!","You\u2019ve referred %1 readers!",Ee.referrals)} You\u2019re number #${Ee.rank} on the leaderboard.`),(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"},(0,e.h)(de.tu,{gap:64,className:so.wrapper},(st||nt)&&(0,e.h)(de.tu,{border:"detail-themed",gap:16,paddingX:24,paddingY:16,radius:12},(0,e.h)(de.tu,{gap:4},(0,e.h)(M.xv.Meta,{color:"pub-primary-text"},st?"Admin View":"Contributor View"),(0,e.h)(M.xv.B4,{color:"pub-secondary-text"},a(st?"A view of your leaderboard as it appears to your subscribers. Note: As an admin your referrals will not appear on the leaderboard.":"A view of your leaderboard as it appears to your subscribers. Note: As a contributor your referrals will not appear on the leaderboard."))),st&&(0,e.h)(Be.zx,{priority:"secondary-theme",outline:"none",href:"/publish/settings#referrals",localNavigation:!1},a("Edit Referral Settings"))),(0,e.h)(de.tu,{alignItems:"center"},(0,e.h)(de.tu,{gap:24,className:so.headerWrapper,alignItems:"center"},(0,e.h)(hi.xu,null,(0,e.h)(Tf.F,{pub:r,size:64})),(0,e.h)(de.tu,{alignItems:"center",gap:4},(0,e.h)(M.xv,{className:so.responsiveHeader,font:"pub-headings",color:"pub-primary-text",textAlign:"center"},Ue||at?f`Refer friends to ${r.name}`:f`Subscribe and invite friends to ${r.name}`),(0,e.h)(M.xv.B3,{translated:!0,color:"pub-secondary-text",textAlign:"center",className:so.introText},"Show your support by sharing ",I18N.p(r.name)," and earn rewards for your referrals.")),!Ue&&!at&&!(nt||st)&&(0,e.h)(de.tu,{style:{width:"100%"}},(0,e.h)(Be.zx,{grow:!0,priority:"primary-theme",onClick:Rt=>Zy(void 0,null,function*(){Rt.preventDefault();let wt;try{yt&&(wt=(yield et().post("/api/v1/free").send({source:"referral-leaderboard",email:yt,first_url:l.xY,first_referrer:l.ip,current_url:l.UE,current_referrer:l.xU})).body.referral_token,(0,P.IU)())}catch(Qt){(0,P.j)(P.FP.FREE_SIGNUP_FAILED,{reason:Qt.message,source:"referral-leaderboard"})}window.location.href=(0,G.getSubscribeUrl)(r,{addBase:!0,params:{simple:!0,next:document.location.href,utm_source:"referral-leaderboard",utm_medium:"web",skip_redirect_check:!0,just_signed_up:!0,referral_token:wt}})}),href:(0,G.pathWithQuery)("/subscribe",{next:(0,G.getLeaderboardUrl)(r,void 0,{addBase:!0}),utm_source:"referral-leaderboard"}),localNavigation:!1},(0,e.h)(de.gq,{alignItems:"center",gap:8},(0,e.h)(Zi.Z,{size:20}),a("Subscribe")))))),(Ue||nt||st||at)&&(0,e.h)(de.tu,{alignItems:"center",gap:16,style:{width:"100%"}},(0,e.h)(de.gq,{style:{width:"100%"}},(0,e.h)(d.oi,{className:so.copyLinkInput,readOnly:!0,value:Et}),(0,e.h)(Be.zx,{className:so.copyLinkButton,priority:"primary-theme",onClick:()=>{(0,P.j)(P.FP.SHARE_LINK_CLICKED,{name:"copy",source:"leaderboard"}),(0,i.copyToClipboard)(Et),B.popToast(Rt=>(0,e.h)(ur.FN,$y(Vy({},Rt),{Icon:fs.Z,text:a("Link copied to clipboard")})))}},a("Copy link"))),(0,e.h)(de.hs,{className:so.shareButtons,gap:{desktop:16,mobile:8},style:{width:"100%"}},(0,e.h)(Be.zx,{className:so.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(jy,{width:18,height:18,style:{paddingTop:2}}),onClick:()=>Df((0,G.pathWithQuery)("https://twitter.com/share",{url:Et,text:r.name}),"twitter")},"Twitter"),(0,e.h)(Be.zx,{className:so.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(X7,{height:20,width:20}),onClick:()=>Df((0,G.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:Et}),"facebook")},"Facebook"),(0,e.h)(Be.zx,{className:so.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(iv,{strokeWidth:1,height:20,width:20,style:{paddingTop:2}}),onClick:()=>Df((0,G.pathWithQuery)("mailto:",{subject:r.name,body:Et}),"email")},"Email"))),(0,e.h)(de.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(M.xv.H3,{translated:!0,font:"pub-headings",color:"pub-primary-text"},"Rewards and Progress"),(0,e.h)(de.gq,{gap:{desktop:16,mobile:12},style:{width:"100%"}},Me.map(Rt=>(0,e.h)(dB,{key:Rt.display_order,tier:Rt,isSelected:Rt.display_order===(Ct==null?void 0:Ct.display_order)}))),Ue&&Ee&&(0,e.h)(de.tu,{gap:8,style:{width:"100%"},textAlign:"center"},(0,e.h)(Gy,{user:t,isSelf:!0,referrals:Ee.referrals,rank:Ee.rank}),!Ye&&(0,e.h)(M.xv.B4,{color:"pub-secondary-text"},Tt),Ye&&(0,e.h)(de.gq,{sizing:"border-box",style:{width:"100%"},alignItems:"center",border:"detail-themed",radius:12,paddingX:12,paddingY:16,justifyContent:"space-between",bg:"secondary",gap:32},(0,e.h)(de.tu,{textAlign:"left",gap:4},(0,e.h)(M.xv.B4,{translated:!0,weight:"semibold",color:"pub-primary-text"},"Your subscription is private"),(0,e.h)(M.xv.B4,{translated:!0,color:"pub-secondary-text"},"To appear on the leaderboard, turn on visibility for ",I18N.p(r.name))),(0,e.h)(Be.zx,{fill:"outline",priority:"primary-theme",onClick:()=>Zy(void 0,null,function*(){yield Pe({body:{ids:[q.current_user_subscription_id],visibility:"public"}}),ge(),B.popToast(Rt=>(0,e.h)(ur.FN,$y(Vy({},Rt),{text:`${r.name} is now visible on your profile!`})))})},a("Show on profile"))))),(0,e.h)(de.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(M.xv.H3,{translated:!0,font:"pub-headings",color:"pub-primary-text"},"Leaderboard"),(De==null?void 0:De.length)===0&&(0,e.h)(de.tu,{alignItems:"center",justifyContent:"center",textAlign:"center",paddingX:48,sizing:"border-box",style:{width:"100%",minHeight:350},gap:4,border:"detail-themed",radius:12},(0,e.h)(H7,{size:22,stroke:"var(--color-secondary-themed)"}),(0,e.h)(M.xv.B4,{color:"pub-secondary-text"},f`No referrers yet. Be the first on ${r.name}'s leaderboard by helping them find new readers.`)),(De==null?void 0:De.length)>0&&(0,e.h)(de.tu,{gap:8,style:{width:"100%"}},(0,e.h)(de.gq,{alignItems:"center",style:{width:"100%"},justifyContent:"space-between",paddingBottom:2},(0,e.h)(M.xv.Meta,{translated:!0,weight:"semibold"},"Referrer"),(0,e.h)(M.xv.Meta,{translated:!0,weight:"semibold"},"Referrals")),De==null?void 0:De.map(Rt=>(0,e.h)(Gy,{key:Rt.rank,user:Rt.user,isHighlighted:Rt.isCurrentUser,rank:Rt.rank,referrals:Rt.referrals})))))))},vB=(0,mn.Z)("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),yB=(0,mn.Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),qr={button:"frontend-main-meetings-index-module__button--wsD2q",avatarWithPubLogo:"frontend-main-meetings-index-module__avatarWithPubLogo--y0aPR",avatar:"frontend-main-meetings-index-module__avatar--PXkDJ",pubLogo:"frontend-main-meetings-index-module__pubLogo--uZbq7",displayedBadge:"frontend-main-meetings-index-module__displayedBadge--iRT2H",pubIcon:"frontend-main-meetings-index-module__pubIcon--gVPS8",offer:"frontend-main-meetings-index-module__offer--CSaPR",unavailable:"frontend-main-meetings-index-module__unavailable--tuv9T",description:"frontend-main-meetings-index-module__description--hbU6r",check:"frontend-main-meetings-index-module__check--f6G_J",disabledCheck:"frontend-main-meetings-index-module__disabledCheck--A1ds_",originalPrice:"frontend-main-meetings-index-module__originalPrice--QstfM",closeButton:"frontend-main-meetings-index-module__closeButton--jdnTH",closeIcon:"frontend-main-meetings-index-module__closeIcon--yvID4"},zy=({pub:r})=>{const t=()=>{const o=(0,g.getQueryItem)("referrer"),a=o!=null?o:(0,g.getPubUrl)(r);(0,i.redirect)(a,{local_navigation:!1})};return(0,e.h)(Be.hU,{onClick:t,className:qr.closeButton,size:40,fill:"outline",priority:"secondary"},(0,e.h)(es.Z,{className:qr.closeIcon}))},Mi=({pub:r,user_id:t,user_profile_photo_url:o,children:a})=>(0,Mr.getConfigFor)("meetings_embed_publication_name")?(0,e.h)(de.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)(Tf.F,{className:qr.pubLogo,pub:r,size:112}),a):(0,e.h)(de.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)("div",{className:qr.avatarWithPubLogo},(0,e.h)(ir.qE,{className:qr.avatar,user:{id:t,photo_url:o},size:112}),(r.logo_url||r.cover_photo_url)&&(0,e.h)(Tf.F,{className:qr.pubIcon,pub:r,size:40})),a),PB=({pub:r,user:t,settings:o})=>{var a,f,L,k;const{selected_event_type:{price:U,subscriber_price:B,founding_price:q,currency:pe,description_html:ge,duration:Pe,num_availabilities:Ee},user_name:Me}=o;let De=U,Ue=null;((f=(a=r.plans)==null?void 0:a.length)!=null?f:0>0)&&(t!=null&&t.is_subscribed&&B&&(De=B,Ue="SUBSCRIBER DISCOUNT"),t!=null&&t.is_founding&&q&&(De=q,Ue=`${(L=(0,wr.getFoundingTierName)(r)||"FOUNDING")==null?void 0:L.toUpperCase()} DISCOUNT`)),(0,n.d4)(()=>{var at,yt;(0,P.j)(P.FP.MEETING_PAGE_VIEWED,{publication_id:r.id,user_id:t.id,referrer:(at=(0,g.getQueryItem)("referrer"))!=null?at:null,source:(yt=(0,g.getQueryItem)("source"))!=null?yt:null})},[]);const Fe=(k=(0,g.getQueryItem)("referrer"))!=null?k:void 0,Ye=(0,g.updateQuery)("/meetings/book",{referrer:Fe}),st=Ee>0,nt=ge?{__html:ge.replace(/<br>/g,"")}:{__html:""};return(0,e.h)(e.Fragment,null,(0,e.h)(zy,{pub:r}),(0,e.h)(de.tu,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(de.tu,{paddingX:24,gap:32,style:{width:400,maxWidth:"100%",boxSizing:"border-box"}},(0,e.h)(Mi,{pub:r,user_id:o.user_id,user_profile_photo_url:o.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(M.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(M.xv.H2,{align:"center",paddingTop:4},(0,Mr.getConfigFor)("meetings_embed_publication_name")?r.name:Me))),(0,e.h)(de.tu,{bg:"primary",className:u()(qr.offer,{[qr.unavailable]:!st}),radius:12,shadow:"xl",padding:20},Ue&&(0,e.h)("div",{className:qr.displayedBadge},Ue),(0,e.h)(de.gq,{justifyContent:"space-between",paddingBottom:16},(0,e.h)(de.tu,null,De&&pe&&Pe&&(0,e.h)(e.Fragment,null,(0,e.h)(M.xv.H3,{color:st?"primary":"secondary"},Pe,"-minute meeting"),(0,e.h)(M.xv.B4,{color:st?"primary":"secondary",paddingTop:4},De<U&&(0,e.h)("span",{className:qr.originalPrice},(0,Ne.centsToPriceString)(U,pe)),(0,Ne.centsToPriceString)(De,pe)," \xB7"," ",st?Ee>50?"Many availabilities":`${(0,Ne.pluralize)(Ee,"slot")} available this month`:"No slots available in the next week"))),st?(0,e.h)(vB,{className:qr.check,size:28}):(0,e.h)(yB,{size:28,className:qr.disabledCheck})),(0,e.h)(M.xv.B4,{color:"secondary"},(0,e.h)("div",{className:qr.description,dangerouslySetInnerHTML:nt}))),(0,e.h)(Be.zx,{className:qr.button,disabled:!st,grow:!0,localNavigation:!1,href:Ye},st?"Continue to book":"No meetings available"))))},Yy={meetingDetails:"frontend-main-meetings-MeetingDetails-module__meetingDetails--kw2Rc"};var bB=Object.defineProperty,EB=Object.defineProperties,OB=Object.getOwnPropertyDescriptors,Jy=Object.getOwnPropertySymbols,CB=Object.prototype.hasOwnProperty,wB=Object.prototype.propertyIsEnumerable,Xy=(r,t,o)=>t in r?bB(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,SB=(r,t)=>{for(var o in t||(t={}))CB.call(t,o)&&Xy(r,o,t[o]);if(Jy)for(var o of Jy(t))wB.call(t,o)&&Xy(r,o,t[o]);return r},IB=(r,t)=>EB(r,OB(t));const TB=(r,t,o)=>{var a,f,L,k,U,B,q,pe,ge,Pe,Ee,Me,De,Ue,Fe,Ye,st,nt,at,yt,Et,Ct,It,Tt,Rt,wt,Qt,jt,qt,ln,Bt,zt,on;return!((a=r.location)!=null&&a.location)&&!((f=r.location)!=null&&f.join_url)?t&&o?{href:(0,G.getMeetingOrderUrl)(o,r.id,{addBase:!0}),label:"View here"}:{href:null,label:"Processing..."}:{zoom:{href:(L=r.location)==null?void 0:L.join_url,copyContent:(k=r.location)==null?void 0:k.join_url,label:"Join Zoom"},zoom_conference:{href:(U=r.location)==null?void 0:U.join_url,copyContent:(B=r.location)==null?void 0:B.join_url,label:"Join Zoom"},google:{href:(q=r.location)==null?void 0:q.join_url,copyContent:(pe=r.location)==null?void 0:pe.join_url,label:"Join Meet"},google_conference:{href:(ge=r.location)==null?void 0:ge.join_url,copyContent:(Pe=r.location)==null?void 0:Pe.join_url,label:"Join Meet"},inbound_call:{href:`tel:${(Ee=r.location)==null?void 0:Ee.location}`,copyContent:(Me=r.location)==null?void 0:Me.location,label:(De=r.location)==null?void 0:De.location},outbound_call:{href:null,label:`${(0,Ne.guessFirstName)(r.user_name)} will call you at ${(Ue=r.location)==null?void 0:Ue.location}`},microsoft_teams:{href:(Fe=r.location)==null?void 0:Fe.join_url,copyContent:(Ye=r.location)==null?void 0:Ye.join_url,label:"Join Teams"},microsoft_teams_conference:{href:(st=r.location)==null?void 0:st.join_url,copyContent:(nt=r.location)==null?void 0:nt.join_url,label:"Join Teams"},webex:{href:(at=r.location)==null?void 0:at.join_url,copyContent:(yt=r.location)==null?void 0:yt.join_url,label:"Join Webex"},webex_conference:{href:(Et=r.location)==null?void 0:Et.join_url,copyContent:(Ct=r.location)==null?void 0:Ct.join_url,label:"Join Webex"},gotomeeting:{href:(It=r.location)==null?void 0:It.join_url,copyContent:(Tt=r.location)==null?void 0:Tt.join_url,label:"Join GoToMeeting"},gotomeeting_conference:{href:(Rt=r.location)==null?void 0:Rt.join_url,copyContent:(wt=r.location)==null?void 0:wt.join_url,label:"Join GoToMeeting"},physical:{href:null,label:(jt=(Qt=r.location)==null?void 0:Qt.location)!=null?jt:"Unknown"},ask_invitee:{href:null,label:(ln=(qt=r.location)==null?void 0:qt.location)!=null?ln:"Unknown"},custom:{href:null,label:(zt=(Bt=r.location)==null?void 0:Bt.location)!=null?zt:"Unknown"}}[(on=r.location)==null?void 0:on.type]||{}},DB=({order:r,isStatic:t=!1,pub:o=null})=>{const a=(0,ur.pm)(),{href:f,label:L,copyContent:k}=TB(r,t,o),U=(0,e.h)(M.xv.B3,{align:"right"},f?(0,e.h)("a",{href:f},L):L);return t||!k?U:(0,e.h)(de.gq,{gap:4,alignItems:"center"},U,(0,e.h)(Be.hU,{size:24,onClick:()=>{(0,i.copyToClipboard)(k),a.popToast(B=>(0,e.h)(ur.FN,IB(SB({},B),{Icon:Ma.Z,text:"Invite link copied"})))}},(0,e.h)(Dc,{height:20})))},MB=({order:r,pub:t})=>{const o=sn()(r.start_time),a=sn()(r.end_time),f=`${o.format("MMMM D, YYYY")} at ${o.format("h:mm A z")}`,L=a.diff(o,"minute");return(0,e.h)(de.tu,{gap:8,className:Yy.meetingDetails},(0,e.h)(de.gq,{justifyContent:"space-between",gap:8},(0,e.h)(M.xv.B3,{weight:"bold"},"Time"),(0,e.h)(M.xv.B3,null,f)),(0,e.h)(de.gq,{justifyContent:"space-between",gap:8},(0,e.h)(M.xv.B3,{weight:"bold"},"Length"),(0,e.h)(M.xv.B3,null,L," minutes")),(0,e.h)(de.gq,{justifyContent:"space-between",alignItems:"center",gap:8},(0,e.h)(M.xv.B3,{weight:"bold"},"Location"),(0,e.h)(DB,{order:r,pub:t})),(0,e.h)(M.xv.B3,{align:"center",className:Yy.description,paddingTop:16},(0,e.h)("i",null,r.description)))},AB=({booking:r,settings:t,pub:o})=>{const a=(0,Mr.getConfigFor)("meetings_embed_publication_name")?o.name:r.user_name;return r.cancelled_at?(0,e.h)(e.Fragment,null,(0,e.h)(Mi,{pub:o,user_id:t.user_id,user_profile_photo_url:t.user_profile_photo_url},(0,e.h)(M.xv.H2,{align:"center"},"Your meeting with ",a," has been cancelled")),r.cancellation_reason&&(0,e.h)(e.Fragment,null,(0,e.h)(M.xv.B3,{align:"center",paddingBottom:16},"The author provided the following reason:"),(0,e.h)(M.xv.B4,{align:"center",paddingBottom:32},r.cancellation_reason)),r.refunded_at&&(0,e.h)(M.xv.B3,{align:"center"},"A refund has been issued to your original form of payment."),t.enabled&&(0,e.h)(M.xv.B3,{align:"center",paddingBottom:16},(0,e.h)(e.Fragment,null,"You can book another meeting"," ",(0,e.h)("a",{href:(0,G.getMeetingsUrl)(o,{params:{source:"cancellation-rebook"}})},"here"),"."))):(0,e.h)(e.Fragment,null,(0,e.h)(Mi,{pub:o,user_id:t.user_id,user_profile_photo_url:t.user_profile_photo_url},(0,e.h)(M.xv.H2,{align:"center"},"Your meeting with ",a," has been ",r.num_rebookings>0?"rebooked":"booked")),(0,e.h)(de.tu,{gap:16,alignItems:"center"},(0,e.h)(MB,{order:r,pub:o}),(0,e.h)(M.xv.B4,{align:"center"},"A confirmation of your booking has been emailed to you."),r.refunded_at&&(0,e.h)(M.xv.B4,{align:"center"},"A refund has been issued to your original form of payment."),(0,e.h)(Be.zx,{onClick:()=>{const f=(0,g.getQueryItem)("referrer"),L=f!=null?f:(0,g.getPubUrl)(o);(0,i.redirect)(L,{local_navigation:!1})}},"Done")))};var Mf=Ke(44043),LB=Object.defineProperty,NB=Object.defineProperties,xB=Object.getOwnPropertyDescriptors,Qy=Object.getOwnPropertySymbols,RB=Object.prototype.hasOwnProperty,BB=Object.prototype.propertyIsEnumerable,qy=(r,t,o)=>t in r?LB(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,UB=(r,t)=>{for(var o in t||(t={}))RB.call(t,o)&&qy(r,o,t[o]);if(Qy)for(var o of Qy(t))BB.call(t,o)&&qy(r,o,t[o]);return r},kB=(r,t)=>NB(r,xB(t));const FB=r=>(0,e.h)(Je.l,kB(UB({},r),{name:"CreditCardIcon",svgParams:{height:21,width:32}}),(0,e.h)("g",{fill:"none",fillRule:"evenodd"},(0,e.h)("g",{fill:r.fill||"#515e80",stroke:"none"},(0,e.h)("g",{transform:"translate(0 2)"},(0,e.h)("path",{d:"M26.58 19H2.42A2.4 2.4 0 0 1 0 16.62V2.38A2.4 2.4 0 0 1 2.42 0h24.16A2.4 2.4 0 0 1 29 2.38v14.25A2.4 2.4 0 0 1 26.58 19zM10 5.83c0-.46-.35-.83-.78-.83H3.78c-.43 0-.78.37-.78.83v3.34c0 .46.35.83.78.83h5.44c.43 0 .78-.37.78-.83V5.83z",opacity:".2"}),(0,e.h)("path",{d:"M25 15h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0H4c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1z",opacity:".3"}))))),WB=(0,mn.Z)("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Qa={dragArea:"frontend-pencraft-FilePicker-module__dragArea--LGGe6",dragActive:"frontend-pencraft-FilePicker-module__dragActive--C8WhV",text:"frontend-pencraft-FilePicker-module__text--k5tBg",icon:"frontend-pencraft-FilePicker-module__icon--y8qlT",browse:"frontend-pencraft-FilePicker-module__browse--Q1jvI",file:"frontend-pencraft-FilePicker-module__file--iTNSV"};var eP=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const jB=({onFileSelected:r,dropCTA:t,pickCTA:o,pickCTAHandler:a,acceptableTypes:f,loading:L,className:k,multiple:U=!1,addMode:B=!1,onDrop:q,onPick:pe,info:ge})=>{const[Pe,Ee]=(0,n.eJ)(!1),Me=(0,n.sO)(),{iString:De,iTemplate:Ue}=(0,A.M1)();!o&&!a&&(o=(0,e.h)("a",{className:Qa.browse,href:"javascript:void(0)"},De("browse"))),t||(t=De("Drop file here"));const Fe=nt=>{nt.preventDefault(),Ee(!0)},Ye=nt=>{nt.preventDefault(),Ee(!1)},st=nt=>eP(void 0,null,function*(){var at,yt,Et,Ct;nt.preventDefault(),Ee(!1);let It,Tt;if(((yt=(at=nt.dataTransfer)==null?void 0:at.items)==null?void 0:yt.length)>0){const Rt=Array.from(nt.dataTransfer.items);for(const wt of Rt)if(wt.kind!=="file"){alert(De("Please only drag files!"));return}It=nt.dataTransfer.items[0].getAsFile(),Tt=Rt.map(wt=>wt.getAsFile())}else if(((Ct=(Et=nt.dataTransfer)==null?void 0:Et.files)==null?void 0:Ct.length)>0)It=nt.dataTransfer.files[0],Tt=nt.dataTransfer.files;else{alert(De("Something went wrong!"));return}U?yield r(Tt):yield r(It),q==null||q(U?Tt:It)});return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:u()(Qa.dragArea,k,{[Qa.dragActive]:Pe,"test-drag-active":Pe}),onDragEnter:Fe,onDragOver:Fe,onDragLeave:Ye,onDrop:st,"aria-label":De("File Picker"),onClick:()=>{var nt;a||(nt=Me.current)==null||nt.click()}},B?(0,e.h)(Zi.Z,{size:20,className:Qa.icon}):(0,e.h)(WB,{size:24,className:Qa.icon}),!R.isMobile&&(0,e.h)("p",{className:Qa.text},L?De("Loading..."):Pe?De("Release to upload"):B?De("Add another image"):(0,e.h)(e.Fragment,null,t," ",De("or")," ")),(0,e.h)(M.xv.H4,null,"Select file to upload"),(0,e.h)(M.xv.Detail,null," Or drag and drop file"),L?null:o||(a?a(()=>{Me.current.click()}):null),ge?(0,e.h)(M.xv.Detail,{paddingTop:32,paddingX:32},ge):null),(0,e.h)("input",{className:u()(Qa.file,"file-picker-input"),ref:Me,type:"file",name:"file",accept:f,multiple:U,onInput:nt=>eP(void 0,null,function*(){const at=nt.target.files;at&&at[0]&&(U?yield r(at):yield r(at[0]),pe==null||pe(U?at:at[0]))})}))};var KB=Ke(61274);const HB={label:"frontend-pencraft-unstable-InputGroup-module__label--_DuZI"},tP=({className:r,children:t,detail:o,label:a,alignment:f="vertical",error:L=!1})=>{const k=f==="vertical"?VB:$B;return(0,e.h)(k,{className:r,detail:o,error:L,label:a},$t.Children.map(t,U=>(0,$t.isValidElement)(U)?(0,e.cloneElement)(U,{error:L}):U))},VB=({children:r,className:t,detail:o,error:a,label:f})=>(0,e.h)(de.tu,{className:t,gap:8,justifyContent:"start"},(0,e.h)("label",null,(0,e.h)(M.xv.B4,{weight:"semibold",as:"div",color:a?"error":"primary",paddingBottom:8},f),r),o&&(0,e.h)(nP,{detail:o,error:a})),$B=({children:r,className:t,detail:o,error:a,label:f})=>(0,e.h)(de.gq,{className:t,justifyContent:"space-between",alignItems:"center"},(0,e.h)(de.tu,{gap:4},f&&(0,e.h)(ZB,{label:f,error:a}),o&&(0,e.h)(nP,{detail:o,error:a})),r),ZB=({label:r,error:t})=>(0,e.h)(M.xv.B4,{weight:"semibold",className:HB.label,color:t?"error":"primary"},r),nP=({detail:r,error:t})=>(0,e.h)(M.xv.B4,{color:t?"error":"secondary"},r),lo={button:"frontend-main-meetings-book-index-module__button--EbzMe",tos:"frontend-main-meetings-book-index-module__tos--OWtRB",orderForm:"frontend-main-meetings-book-index-module__orderForm--Glxgf",input:"frontend-main-meetings-book-index-module__input--nYlb7",error:"frontend-main-meetings-book-index-module__error--P2ZlT",stripeError:"frontend-main-meetings-book-index-module__stripeError--fCZ4g",originalPrice:"frontend-main-meetings-book-index-module__originalPrice--ghITj",filePicker:"frontend-main-meetings-book-index-module__filePicker--Qc_29",fileAttachment:"frontend-main-meetings-book-index-module__fileAttachment--kG9Ix",fileName:"frontend-main-meetings-book-index-module__fileName--wcKMn",fileRemoveIcon:"frontend-main-meetings-book-index-module__fileRemoveIcon--zOEGl",savedCard:"frontend-main-meetings-book-index-module__savedCard--JV5Ce",cardOnFileIcon:"frontend-main-meetings-book-index-module__cardOnFileIcon--LFx2T",errorContainer:"frontend-main-meetings-book-index-module__errorContainer--J_c84",errorTooltip:"frontend-main-meetings-book-index-module__errorTooltip--gnIsr",checkoutBox:"frontend-main-meetings-book-index-module__checkoutBox--sZ81I"};var Af=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const GB=({stripe_publishable_key:r,onComplete:t,user:o,pub:a,booking:f,settings:L})=>{const[k,U]=(0,n.eJ)(f.name),[B,q]=(0,n.eJ)(f.description),[pe,ge]=(0,n.eJ)(null),[Pe,Ee]=(0,n.eJ)(null),[Me,De]=(0,n.eJ)(null),[Ue,Fe]=(0,n.eJ)(null),[Ye,st]=(0,n.eJ)(!1),[nt,at]=(0,n.eJ)(null);(0,n.d4)(()=>{const Bt=(0,ce.lQ)(r,a),zt=Bt&&(0,ce.UD)(Bt);Ee(Bt),De(zt)},[a,r,Ee,De]),(0,n.d4)(()=>{(0,P.j)(Mf.F.MEETING_ORDER_PAGE_VIEWED,{user_id:o.id,publication_id:a.id})},[]),(0,n.d4)(()=>{(()=>Af(void 0,null,function*(){var zt;const on=yield et().get("/api/v1/subscription/last4");(zt=on.body)!=null&&zt.last4&&Fe(on.body.last4)}))()},[a]);const yt=L.selected_event_type,{price:Et,duration:Ct,subscriber_price:It,founding_price:Tt,currency:Rt}=yt;let wt=Et;o.is_subscribed&&It&&(wt=It),o.is_founding&&Tt&&(wt=Tt);const Qt=!!(o!=null&&o.has_saved_payment),jt=(0,n.I4)(()=>Af(void 0,null,function*(){return Pe?yield Pe.createToken(Me):{token:null,error:{message:""}}}),[Pe,Me]),qt=(0,n.I4)(()=>Af(void 0,null,function*(){var Bt,zt,on,Yt;st(!0),at(null);let Zt;if(!Qt){const{token:kt,error:Gt}=yield jt();if(Gt){st(!1),at(Gt&&Gt.message),(0,P.j)(Mf.F.MEETING_MISSING_PAYMENT,{type:Gt&&Gt.type,code:Gt&&Gt.code,decline_code:Gt&&Gt.decline_code,reason:Gt&&Gt.message});return}Zt=kt}const xt=new FormData;xt.append("name",k),xt.append("description",B),Zt&&xt.append("stripe_token",JSON.stringify(Zt)),pe&&xt.append("attachment",pe);const Dt=Intl.DateTimeFormat().resolvedOptions().timeZone;Dt&&xt.append("timezone",Dt),(0,P.j)(Mf.F.MEETING_SUBMIT_PRESSED,{publication_id:a.id,user_id:o.id});try{const kt=yield et().post("/api/v1/meetings/book").send(xt);history.pushState({},"",`/meetings/book/${kt.body.order_id}`),t("schedule",g1()(kt.body,["order_id","calendly_scheduling_uri","name","email","description"]))}catch(kt){(zt=(Bt=kt.response)==null?void 0:Bt.body)!=null&&zt.error?at((Yt=(on=kt.response)==null?void 0:on.body)==null?void 0:Yt.error):at("Something went wrong.")}st(!1)}),[k,B,jt,pe,st,at]),ln=!!k&&!!B;return(0,e.h)(e.Fragment,null,(0,e.h)(Mi,{pub:a,user_id:L.user_id,user_profile_photo_url:L.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(d.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(d.xv.H2,{align:"center",paddingTop:4},(0,Mr.getConfigFor)("meetings_embed_publication_name")?a.name:L.user_name),(0,e.h)(d.xv.B3,{align:"center",paddingTop:8},wt<Et&&(0,e.h)("span",{className:lo.originalPrice},(0,Ne.centsToPriceString)(Et,Rt)),(0,Ne.centsToPriceString)(wt,Rt)," \xB7 ",Ct,"-minute meeting"))),(0,e.h)(d.tu,{gap:32},(0,e.h)(tP,{alignment:"vertical",label:"Your name"},(0,e.h)(d.oi,{name:"name",value:k||"",onChange:Bt=>U(Bt.target.value),placeholder:"Name...",disabled:Ye,maxLength:500})),(0,e.h)(tP,{alignment:"vertical",label:"What do you want to talk about?"},(0,e.h)(d.gx,{name:"description",value:B,onChange:Bt=>q(Bt.target.value),rows:4,maxLength:1e3,placeholder:"E.g. I\u2019m really interested in knowing...",disabled:Ye})),pe?(0,e.h)("div",null,(0,e.h)(d.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(d.gq,{className:lo.fileAttachment,gap:8,alignItems:"center",flex:"auto"},(0,e.h)(es.Z,{onClick:()=>ge(null),className:lo.fileRemoveIcon,height:24}),(0,e.h)(d.xv.B3,{className:lo.fileName},pe.name))):(0,e.h)("div",null,(0,e.h)(d.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(jB,{className:lo.filePicker,onFileSelected:Bt=>ge(Bt),acceptableTypes:".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/pdf, image/*, audio/*, video/*, .pdf, .xls, .xlsx"})),(0,e.h)("div",{className:lo.checkoutBox},Qt&&(0,e.h)(d.gq,{className:lo.savedCard,padding:12,gap:12},(0,e.h)(FB,{className:lo.cardOnFileIcon}),(0,e.h)(d.xv.B4,null,Ue?`**** **** **** ${Ue}`:"Use card on file")),!Qt&&Me&&(0,e.h)(ce.GP,{className:lo.input,element:Me}),nt&&(0,e.h)(d.xv.B4,{paddingTop:12,className:lo.errorContainer},nt),(0,e.h)(d.hs,{paddingTop:12},(0,e.h)(KB.u,{text:L.enabled?"You must provide your name and a topic for the meeting before booking.":"You must enable Meetings before one can be booked.",disabled:Ye||ln&&L.enabled,preferPlacement:"top-center",className:lo.errorTooltip},(0,e.h)(d.zx,{className:lo.button,grow:!0,type:"submit",onClick:qt,disabled:Ye||!ln||!L.enabled},Ye?"Loading...":"Book meeting"))))),(0,e.h)(d.xv,{className:lo.tos,paddingBottom:16,size:14,align:"center",color:"secondary"},"By booking, you will be automatically signed up for a free subscription to ",a.name,". Additionally, you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),"."))};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Lf=function(r,t){return Lf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var f in a)a.hasOwnProperty(f)&&(o[f]=a[f])},Lf(r,t)};function ks(r,t){Lf(r,t);function o(){this.constructor=r}r.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}var Fs=function(){return Fs=Object.assign||function(t){for(var o,a=1,f=arguments.length;a<f;a++){o=arguments[a];for(var L in o)Object.prototype.hasOwnProperty.call(o,L)&&(t[L]=o[L])}return t},Fs.apply(this,arguments)};function zB(r,t){t===void 0&&(t={});var o=t.insertAt;if(!(!r||typeof document=="undefined")){var a=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",o==="top"&&a.firstChild?a.insertBefore(f,a.firstChild):a.appendChild(f),f.styleSheet?f.styleSheet.cssText=r:f.appendChild(document.createTextNode(r))}}var YB=`/*
  code is extracted from Calendly's embed stylesheet: https://assets.calendly.com/assets/external/widget.css
*/

.calendly-inline-widget,
.calendly-inline-widget *,
.calendly-badge-widget,
.calendly-badge-widget *,
.calendly-overlay,
.calendly-overlay * {
    font-size:16px;
    line-height:1.2em
}

.calendly-inline-widget iframe,
.calendly-badge-widget iframe,
.calendly-overlay iframe {
    display:inline;
    width:100%;
    height:100%
}

.calendly-popup-content {
    position:relative
}

.calendly-popup-content.calendly-mobile {
    -webkit-overflow-scrolling:touch;
    overflow-y:auto
}

.calendly-overlay {
    position:fixed;
    top:0;
    left:0;
    right:0;
    bottom:0;
    overflow:hidden;
    z-index:9999;
    background-color:#a5a5a5;
    background-color:rgba(31,31,31,0.4)
}

.calendly-overlay .calendly-close-overlay {
    position:absolute;
    top:0;
    left:0;
    right:0;
    bottom:0
}

.calendly-overlay .calendly-popup {
    box-sizing:border-box;
    position:absolute;
    top:50%;
    left:50%;
    -webkit-transform:translateY(-50%) translateX(-50%);
    transform:translateY(-50%) translateX(-50%);
    width:80%;
    min-width:900px;
    max-width:1000px;
    height:90%;
    max-height:680px
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup {
        position:fixed;
        top:50px;
        left:0;
        right:0;
        bottom:0;
        -webkit-transform:none;
        transform:none;
        width:100%;
        height:auto;
        min-width:0;
        max-height:none
    }
}

.calendly-overlay .calendly-popup .calendly-popup-content {
    height:100%;
}

.calendly-overlay .calendly-popup-close {
    position:absolute;
    top:25px;
    right:25px;
    color:#fff;
    width:19px;
    height:19px;
    cursor:pointer;
    background:url(https://assets.calendly.com/assets/external/close-icon.svg) no-repeat;
    background-size:contain
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup-close {
        top:15px;
        right:15px
    }
}

.calendly-badge-widget {
    position:fixed;
    right:20px;
    bottom:15px;
    z-index:9998
}

.calendly-badge-widget .calendly-badge-content {
    display:table-cell;
    width:auto;
    height:45px;
    padding:0 30px;
    border-radius:25px;
    box-shadow:rgba(0,0,0,0.25) 0 2px 5px;
    font-family:sans-serif;
    text-align:center;
    vertical-align:middle;
    font-weight:bold;
    font-size:14px;
    color:#fff;
    cursor:pointer
}

.calendly-badge-widget .calendly-badge-content.calendly-white {
    color:#666a73
}

.calendly-badge-widget .calendly-badge-content span {
    display:block;
    font-size:12px
}

.calendly-spinner {
    position:absolute;
    top:50%;
    left:0;
    right:0;
    -webkit-transform:translateY(-50%);
    transform:translateY(-50%);
    text-align:center;
    z-index:-1
}

.calendly-spinner>div {
    display:inline-block;
    width:18px;
    height:18px;
    background-color:#e1e1e1;
    border-radius:50%;
    vertical-align:middle;
    -webkit-animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    -webkit-animation-fill-mode:both;
    animation-fill-mode:both
}

.calendly-spinner .calendly-bounce1 {
    -webkit-animation-delay:-0.32s;
    animation-delay:-0.32s
}

.calendly-spinner .calendly-bounce2 {
    -webkit-animation-delay:-0.16s;
    animation-delay:-0.16s
}

@-webkit-keyframes calendly-bouncedelay {
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    } 
    
    40%{
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}

@keyframes calendly-bouncedelay{ 
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    }
    
    40% {
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}`;zB(YB);var Ai;(function(r){r.PROFILE_PAGE_VIEWED="calendly.profile_page_viewed",r.EVENT_TYPE_VIEWED="calendly.event_type_viewed",r.DATE_AND_TIME_SELECTED="calendly.date_and_time_selected",r.EVENT_SCHEDULED="calendly.event_scheduled"})(Ai||(Ai={}));var rP=function(r){var t=r.url,o=r.prefill,a=o===void 0?{}:o,f=r.pageSettings,L=f===void 0?{}:f,k=r.utm,U=k===void 0?{}:k,B=r.embedType,q=L.backgroundColor,pe=L.hideEventTypeDetails,ge=L.hideLandingPageDetails,Pe=L.primaryColor,Ee=L.textColor,Me=L.hideGdprBanner,De=a.customAnswers,Ue=a.date,Fe=a.email,Ye=a.firstName,st=a.guests,nt=a.lastName,at=a.location,yt=a.name,Et=U.utmCampaign,Ct=U.utmContent,It=U.utmMedium,Tt=U.utmSource,Rt=U.utmTerm,wt=U.salesforce_uuid,Qt=t.indexOf("?"),jt=Qt>-1,qt=t.slice(Qt+1),ln=jt?t.slice(0,Qt):t,Bt=[jt?qt:null,q?"background_color="+q:null,pe?"hide_event_type_details=1":null,ge?"hide_landing_page_details=1":null,Pe?"primary_color="+Pe:null,Ee?"text_color="+Ee:null,Me?"hide_gdpr_banner=1":null,yt?"name="+encodeURIComponent(yt):null,at?"location="+encodeURIComponent(at):null,Ye?"first_name="+encodeURIComponent(Ye):null,nt?"last_name="+encodeURIComponent(nt):null,st?"guests="+st.map(encodeURIComponent).join(","):null,Fe?"email="+encodeURIComponent(Fe):null,Ue&&Ue instanceof Date?"date="+JB(Ue):null,Et?"utm_campaign="+encodeURIComponent(Et):null,Ct?"utm_content="+encodeURIComponent(Ct):null,It?"utm_medium="+encodeURIComponent(It):null,Tt?"utm_source="+encodeURIComponent(Tt):null,Rt?"utm_term="+encodeURIComponent(Rt):null,wt?"salesforce_uuid="+encodeURIComponent(wt):null,B?"embed_type="+B:null,"embed_domain=1"].concat(De?QB(De):[]).filter(function(zt){return zt!==null}).join("&");return ln+"?"+Bt},JB=function(r){var t=r.getMonth()+1,o=r.getDate(),a=r.getFullYear();return[a,t<10?"0"+t:t,o<10?"0"+o:o].join("-")},XB=/^a\d{1,2}$/,QB=function(r){var t=Object.keys(r).filter(function(o){return o.match(XB)});return t.length?t.map(function(o){return o+"="+encodeURIComponent(r[o])}):[]},oP=function(r){ks(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(){return(0,$t.createElement)("div",{className:"calendly-spinner"},(0,$t.createElement)("div",{className:"calendly-bounce1"}),(0,$t.createElement)("div",{className:"calendly-bounce2"}),(0,$t.createElement)("div",{className:"calendly-bounce3"}))},t}($t.Component),qB={minWidth:"320px",height:"630px"},eU=function(r){ks(t,r);function t(o){var a=r.call(this,o)||this;return a.state={isLoading:!0},a.onLoad=a.onLoad.bind(a),a}return t.prototype.onLoad=function(){this.setState({isLoading:!1})},t.prototype.render=function(){var o=rP({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"Inline"});return(0,$t.createElement)("div",{className:"calendly-inline-widget",style:this.props.styles||qB},this.state.isLoading&&(0,$t.createElement)(oP,null),(0,$t.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:o}))},t}($t.Component),tU=function(r){ks(t,r);function t(o){var a=r.call(this,o)||this;return a.state={isLoading:!0},a.onLoad=a.onLoad.bind(a),a}return t.prototype.onLoad=function(){this.setState({isLoading:!1})},t.prototype.render=function(){var o=rP({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"PopupWidget"});return(0,$t.createElement)($t.Fragment,null,this.state.isLoading&&(0,$t.createElement)(oP,null),(0,$t.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:o}))},t}($t.Component),aP=function(r){return r.open?(0,$t.createPortal)((0,$t.createElement)("div",{className:"calendly-overlay"},(0,$t.createElement)("div",{onClick:r.onModalClose,className:"calendly-close-overlay"}),(0,$t.createElement)("div",{className:"calendly-popup"},(0,$t.createElement)("div",{className:"calendly-popup-content"},(0,$t.createElement)(tU,Fs({},r)))),(0,$t.createElement)("button",{className:"calendly-popup-close",onClick:r.onModalClose,"aria-label":"Close modal",style:{display:"block",border:"none",padding:0}})),r.rootElement):null},Lj=function(r){ks(t,r);function t(o){var a=r.call(this,o)||this;return a.state={isOpen:!1},a.onClick=a.onClick.bind(a),a.onClose=a.onClose.bind(a),a}return t.prototype.onClick=function(o){o.preventDefault(),this.setState({isOpen:!0})},t.prototype.onClose=function(o){o.stopPropagation(),this.setState({isOpen:!1})},t.prototype.render=function(){return(0,$t.createElement)($t.Fragment,null,(0,$t.createElement)("button",{onClick:this.onClick,style:this.props.styles||{},className:this.props.className||""},this.props.text),(0,$t.createElement)(aP,Fs({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},t}($t.Component),Nj=function(r){ks(t,r);function t(o){var a=r.call(this,o)||this;return a.state={isOpen:!1},a.onClick=a.onClick.bind(a),a.onClose=a.onClose.bind(a),a}return t.prototype.onClick=function(){this.setState({isOpen:!0})},t.prototype.onClose=function(o){o.stopPropagation(),this.setState({isOpen:!1})},t.prototype.render=function(){return(0,$t.createElement)("div",{className:"calendly-badge-widget",onClick:this.onClick},(0,$t.createElement)("div",{className:"calendly-badge-content",style:{background:this.props.color||"#00a2ff",color:this.props.textColor||"#ffffff"}},this.props.text||"Schedule time with me",this.props.branding&&(0,$t.createElement)("span",null,"powered by Calendly")),(0,$t.createElement)(aP,Fs({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},t}($t.Component),iP="message";function nU(r){var t=r||{},o=t.onDateAndTimeSelected,a=t.onEventScheduled,f=t.onEventTypeViewed,L=t.onProfilePageViewed;(0,$t.useEffect)(function(){var k=function(U){var B=U.data.event;B===Ai.DATE_AND_TIME_SELECTED?o&&o(U):B===Ai.EVENT_SCHEDULED?a&&a(U):B===Ai.EVENT_TYPE_VIEWED?f&&f(U):B===Ai.PROFILE_PAGE_VIEWED&&L&&L(U)};return window.addEventListener(iP,k),function(){window.removeEventListener(iP,k)}},[r])}var rU=Ke(9849),oU=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const aU=({booking:r,onComplete:t,settings:o,pub:a})=>{const f="calendly",[L,k]=(0,n.eJ)(!1),[U,B]=(0,n.eJ)(!1),{duration:q}=o.selected_event_type,pe=(0,Mr.getConfigFor)("meetings_embed_publication_name")?a.name:r.user_name,ge=(0,Ph.useMediaQuery)({maxWidth:698});return nU({onEventScheduled:Pe=>oU(void 0,null,function*(){var Ee,Me,De;const Ue=(De=(Me=(Ee=Pe.data)==null?void 0:Ee.payload)==null?void 0:Me.event)==null?void 0:De.uri;k(!0);try{const Fe=yield et().put(`/api/v1/meetings/order/${r.order_id}`).send({calendly_event_uri:Ue});yield new Promise(Ye=>setTimeout(Ye,2e3)),t("confirmation",Fe.body)}catch(Fe){B(!0)}})}),U?(0,e.h)(Mi,{pub:a,user_id:o.user_id,user_profile_photo_url:o.user_profile_photo_url},(0,e.h)(M.xv.H2,{align:"center"},"Something went wrong with your booking. Please contact meetings@substackinc.com.")):L?(0,e.h)(de.hs,{justifyContent:"center"},(0,e.h)(rU.a,{type:"circular"})):(0,e.h)(e.Fragment,null,(0,e.h)(Mi,{pub:a,user_id:o.user_id,user_profile_photo_url:o.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(M.xv.H2,{align:"center"},r.num_rebookings>0?"Rebook":"Book"," your meeting with ",pe),(0,e.h)(M.xv.B3,{align:"center",paddingTop:8},"Schedule your ",q,"-minute meeting"))),typeof window!="undefined"&&r.calendly_scheduling_uri&&(0,e.h)(eU,{iframeTitle:f,url:`${r.calendly_scheduling_uri}?hide_gdpr_banner=1`,prefill:{name:r.name||"",email:r.email,customAnswers:{a1:r.description}},styles:{minWidth:"320px",height:"700px",marginTop:ge?"0px":"-66px"}}))};var iU=Object.defineProperty,Au=Object.getOwnPropertySymbols,sP=Object.prototype.hasOwnProperty,lP=Object.prototype.propertyIsEnumerable,uP=(r,t,o)=>t in r?iU(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Li=(r,t)=>{for(var o in t||(t={}))sP.call(t,o)&&uP(r,o,t[o]);if(Au)for(var o of Au(t))lP.call(t,o)&&uP(r,o,t[o]);return r},sU=(r,t)=>{var o={};for(var a in r)sP.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&Au)for(var a of Au(r))t.indexOf(a)<0&&lP.call(r,a)&&(o[a]=r[a]);return o};const lU=r=>{var t=r,{step:o}=t,a=sU(t,["step"]);switch(o){case"order":return(0,e.h)(GB,Li({},a));case"schedule":return(0,e.h)(aU,Li({},a));case"confirmation":return(0,e.h)(AB,Li({},a))}},cP=({stripe_publishable_key:r,pub:t,user:o,order:a,order_id:f,settings:L})=>{const k=f?a.calendly_scheduling_uri?"schedule":"confirmation":"order",[U,B]=(0,n.eJ)(k),[q,pe]=(0,n.eJ)(Li({name:o.name,email:o.email,description:""},a)),ge=lU({step:U,booking:q,settings:L,order:a,onComplete:(Pe,Ee)=>{pe(Li(Li({},q),Ee)),B(Pe)},pub:t,stripe_publishable_key:r,user:o,orderId:f});return(0,e.h)(e.Fragment,null,(0,e.h)(zy,{pub:t}),(0,e.h)(de.hs,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(de.tu,{paddingX:24,gap:32,style:{width:U==="schedule"?"100%":450,maxWidth:"100%",boxSizing:"border-box"}},ge)))},uU=({subdomain:r})=>(0,e.h)("div",{className:"page typography signup-page",path:"/not-found"},(0,i.setMetaData)({title:"Not Found"}),(0,e.h)("div",{className:"container"},(0,e.h)("h2",null,"Not Found"),(0,e.h)("p",null,"The page you are attempting to access is not found."),(0,e.h)("p",null,"If you want to claim this URL you can start a Substack today"),(0,e.h)("p",null,(0,e.h)("a",{href:(0,g.getStartPublishingUrl)(),class:"button primary",rel:"nofollow"},"Start a Substack")),(0,e.h)("p",null,(0,e.h)("a",{href:(0,g.getDiscoverSearchUrl)({query:r,params:{searching:"publication"}})},'Search Substack for "',r,'"'))));var cU=Ke(55727);const dP={"player-wrapper-outer":"frontend-shows-ShowsPostAudioPlayer-module__player-wrapper-outer--NvMj8","player-wrapper-inner":"frontend-shows-ShowsPostAudioPlayer-module__player-wrapper-inner--cF55h"},dU=({audioPlayerRef:r,hasPaywall:t,post:o,pub:a,section:f,user:L,onChange:k,onCommentsClick:U})=>(0,e.h)("div",{className:dP["player-wrapper-outer"]},(0,e.h)("div",{className:dP["player-wrapper-inner"]},(0,e.h)(cU.Fb,{audioPlayerRef:r,hasPaywall:t,post:o,pub:a,section:f,user:L,ufiComponent:(0,e.h)(qn._2,{isStatic:!1,labelStyle:"counts-or-none",position:"shows-episode-player",post:o,pub:a,style:"large-on-dark",user:L,onChange:k,onCommentsClick:U})}))),fP={"icon-20":"frontend-shows-ShowLinkIcon-module__icon-20--okag9","icon-40":"frontend-shows-ShowLinkIcon-module__icon-40--u4yey"},fU={apple_podcasts:"/img/shows_app_icons/apple_podcasts.svg?v=1",google_podcasts:"/img/shows_app_icons/google_podcasts.svg?v=1",overcast:"/img/shows_app_icons/overcast.svg?v=1",pocket_casts:"/img/shows_app_icons/pocket_casts.svg?v=1",rss:"/img/shows_app_icons/rss.svg?v=1",spotify:"/img/shows_app_icons/spotify.svg?v=1",substack:"/img/shows_app_icons/substack.svg?v=1",youtube:"/img/shows_app_icons/youtube.svg?v=1"},Nf=({platformKey:r,size:t=20})=>(0,e.h)("img",{className:u()({[fP["icon-20"]]:t===20,[fP["icon-40"]]:t===40}),src:fU[r]}),pP={button:"frontend-shows-ShowsListenOnMobile-module__button--SMKzW"},pU=({feedUrl:r,post:t,pub:o,section:a,showLinks:f,user:L})=>{const{title:k}=(0,Go.Mv)({pub:o,section:a}),[U,B]=(0,Tg.E)();return(0,e.h)(e.Fragment,null,(0,e.h)(d.gq,{gap:8},(0,e.h)(d.zx,{className:pP.button,fill:"outline",priority:"secondary-theme",onClick:()=>ou({feedUrl:r,pub:o,post:t})},(0,e.h)(d.gq,{gap:12,alignItems:"center"},(0,e.h)(Nf,{platformKey:"substack"}),"Open in app")),(0,e.h)(d.zx,{className:pP.button,fill:"outline",priority:"secondary-theme",onClick:()=>{B()}},"More options")),(0,e.h)(bo.ZP,{ref:U,noTail:!0,noList:!0,noPlace:!0,useDrawerOnMobile:!0},(0,e.h)(d.tu,{gap:24,paddingBottom:24},(0,e.h)(d.tu,{borderBottom:"detail-themed",paddingX:8,paddingBottom:L!=null&&L.is_free_subscribed?8:16},(0,e.h)(d.xv.H3,{paddingY:16},"Open in other app"),!(L!=null&&L.is_free_subscribed)&&(0,e.h)(d.xv.B3,null,"Never miss a new episode,"," ",(0,e.h)("a",{href:(0,G.getSubscribeUrl)(o,{addBase:!0,params:{utm_medium:"web",utm_source:"shows-listen-on-mobile-dropdown",utm_content:t.id}}),native:!0},"subscribe to ",k))),(0,e.h)(d.tu,{gap:24,paddingX:8},f&&(0,Go.U6)({feedUrl:r,isMobile:!0,showLinks:f,user:L,render:({key:q,label:pe,url:ge,onClick:Pe})=>(0,e.h)(hU,{platformKey:q,label:pe,url:ge,onClick:Pe})}),(L==null?void 0:L.is_subscribed)&&(0,e.h)(d.xv.B3,null,"Listen to paid episodes on your favorite podcast app with your private RSS feed."," ",(0,e.h)("a",{href:Go.ty},"Learn about RSS")),(0,e.h)(d.zx,{fill:"outline",priority:"secondary-theme",onClick:()=>{(0,aa.ZP)("RSS feed URL copied"),(0,i.copyToClipboard)(r)}},"Copy RSS Feed")))))},hU=({platformKey:r,label:t,url:o,onClick:a})=>(0,e.h)("a",{href:o,style:{textDecoration:"none"},onClick:f=>{f.preventDefault(),a()}},(0,e.h)(d.gq,{alignItems:"center",gap:12},(0,e.h)(Nf,{platformKey:r,size:40}),(0,e.h)(d.xv.B3,{weight:"bold"},t))),mU=({feedUrl:r,post:t,pub:o,magicToken:a,section:f,showLinks:L,themeVariables:k,user:U,onChange:B,onCommentsClick:q})=>{const{isMobile:pe}=(0,cr.v9)();return(0,e.h)(d.tu,{gap:16},(0,e.h)(d.tu,{gap:8},(0,e.h)(d.xv,{color:"pub-primary-text",font:"display",size:pe?20:28,lineHeight:pe?28:36,weight:"bold"},t.title),t.subtitle&&(0,e.h)(d.xv.B3,{color:"pub-secondary-text"},t.subtitle)),(0,e.h)(Kv,{variant:"shows",post:t,pub:o}),pe&&(0,e.h)(pU,{feedUrl:r,post:t,pub:o,section:f,showLinks:L,user:U}),!pe&&(0,e.h)(qn.Mp,{hideBottomBorder:!0,post:t,pub:o,user:U,onChange:B,themeVariables:k,postReactionToken:a,onCommentsClick:q}))},_U=({bylines:r})=>(0,e.h)(d.tu,{gap:16},(0,e.h)(d.xv.H4,{color:"pub-primary-text",translated:!0},"Appears in episode"),(0,e.h)(Eg,{bylines:r,variant:"shows"}));var gU=Ke(19541);const vU={"subscribe-container":"frontend-shows-ShowsCTA-module__subscribe-container--ao5j2"},yU=({pub:r,section:t,user:o})=>{const{title:a,description:f}=(0,Go.Mv)({pub:r,section:t});return(0,e.h)(d.tu,{border:"detail-themed",gap:24,paddingX:16,paddingY:24,radius:12,shadow:"lg"},(0,e.h)(d.tu,{gap:8,alignItems:"center"},(0,e.h)(gU.p,{pub:r,section:t}),a&&(0,e.h)(d.xv.H4,{textAlign:"center",color:"pub-primary-text"},a),f&&(0,e.h)(d.xv.B4,{color:"pub-secondary-text",textAlign:"center"},f)),!(o!=null&&o.is_subscribed)&&(0,e.h)("div",{className:vU["subscribe-container"]},(0,e.h)(Do,{expectTruncation:!0,pub:r,source:"episode-page-sidebar",user:o})))},PU={"listen-on-item":"frontend-shows-ShowsListenOn-module__listen-on-item--_4h4Q"},bU=({feedUrl:r,pub:t,post:o,showLinks:a,user:f})=>{const{iString:L}=(0,A.M1)();return(0,e.h)(d.tu,{gap:16},(0,e.h)(d.xv.H4,{color:"pub-primary-text",translated:!0},"Listen on"),(0,e.h)(d.gq,{gap:8,wrap:"wrap"},(0,e.h)(hP,{platformKey:"substack",label:L("Substack App"),onClick:()=>{ou({feedUrl:r,pub:t,post:o})}}),(0,Go.U6)({feedUrl:r,isMobile:!1,showLinks:a,user:f,render:({label:k,key:U,onClick:B})=>(0,e.h)(hP,{label:k,platformKey:U,onClick:B})})))},hP=({label:r,platformKey:t,onClick:o})=>(0,e.h)(d.gq,{className:PU["listen-on-item"],bg:"secondary",gap:12,alignItems:"center",radius:6,paddingX:12,onClick:o},(0,e.h)(Nf,{platformKey:t}),(0,e.h)(d.xv.B4,{weight:"medium",color:"pub-secondary-text"},r)),Lu={image:"frontend-shows-ShowsEpisodePreview-module__image--KC1Rx","thumbnail-wrapper":"frontend-shows-ShowsEpisodePreview-module__thumbnail-wrapper--TSOIp","thumbnail-duration":"frontend-shows-ShowsEpisodePreview-module__thumbnail-duration--oW4Om","thumbnail-duration-text":"frontend-shows-ShowsEpisodePreview-module__thumbnail-duration-text--lVStO"},EU=({post:r,pub:t})=>{var o,a;const f=(a=(o=r.videoUpload)==null?void 0:o.duration)!=null?a:null,L=(0,n.sO)(null);return(0,Dh.UM)(L,()=>{(0,P.j)(P.FP.RECENT_EPISODE_ITEM_SEEN,{post_id:r.id})}),(0,e.h)(d.gq,{ref:L},(0,e.h)(za,{alignItems:"start",body:(0,e.h)(Za,{post:r,pub:t}),clampTitle:2,image:(0,e.h)("div",{className:Lu["thumbnail-wrapper"]},(0,e.h)(v0,{containerRef:L,post:r,aspectRatio:Ms,size:"small"}),(0,e.h)(pa,{className:Lu.image,imageAspectRatio:Ms,imageWidth:300,isBelowTheFold:!0,post:r}),typeof f=="number"&&(0,e.h)(d.gq,{className:Lu["thumbnail-duration"],bg:"glass-inverted-thick"},(0,e.h)(d.xv.Meta,{className:Lu["thumbnail-duration-text"]},(0,kd.DL)(f)))),title:r.title,url:r.canonical_url,linkProps:{onClick:()=>{(0,P.j)(P.FP.RECENT_EPISODE_ITEM_CLICKED,{post_id:r.id})}}}))},OU=({isStandaloneVideo:r,pub:t,recentEpisodes:o})=>{const{iString:a}=(0,A.M1)();return(0,e.h)(d.tu,{gap:16},(0,e.h)(d.xv.H4,{color:"pub-primary-text"},a(r?"Recent Posts":"Recent Episodes")),(0,e.h)(d.tu,{gap:16},o.map(f=>(0,e.h)(EU,{post:f,pub:t}))))};var CU=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const wU=({feedUrl:r,isStandaloneVideo:t,post:o,pub:a,recentEpisodes:f,section:L,showLinks:k,user:U})=>{var B;const{isMobile:q}=(0,cr.v9)(),[pe,ge]=(0,n.eJ)(f),Pe=(0,n.Ye)(()=>{var Me;return(Me=pe==null?void 0:pe.filter(De=>De.id!==o.id))!=null?Me:null},[pe,o.id]),Ee=(0,Ne.getBylineUsers)(o).sort((Me,De)=>Me.id===a.author_id?-1:De.id===a.author_id?1:Me.is_guest&&!De.is_guest?-1:!Me.is_guest&&De.is_guest?1:(Me.name||"").localeCompare(De.name||""));return(0,n.d4)(()=>{f||(()=>CU(void 0,null,function*(){var De,Ue,Fe;const Ye=yield et().get("/api/v1/recent_posts").query({section_id:(De=L==null?void 0:L.id)!=null?De:null,episodes_only:!((Ue=o.podcastFields)!=null&&Ue.hide_from_feed)});ge((Fe=Ye.body)!=null?Fe:[])}))()},[o.id,(B=o.podcastFields)==null?void 0:B.hide_from_feed,f,a.id,L==null?void 0:L.id]),(0,e.h)(d.tu,{gap:32},!q&&(0,e.h)(yU,{pub:a,section:L,user:U}),(0,e.h)(d.tu,{gap:48},!q&&!t&&(0,e.h)(bU,{feedUrl:r,showLinks:k,post:o,pub:a,user:U}),!q&&!t&&a.bylines_enabled&&Ee.length>0&&(0,e.h)(_U,{bylines:Ee}),Pe&&Pe.length>0&&(0,e.h)(OU,{isStandaloneVideo:t,pub:a,recentEpisodes:Pe})))},Bo={container:"frontend-shows-ShowsTranscript-module__container--gR_Eu","container--collapsed":"frontend-shows-ShowsTranscript-module__container--collapsed--n9den",header:"frontend-shows-ShowsTranscript-module__header--HOKBZ",icon:"frontend-shows-ShowsTranscript-module__icon--SxusQ","icon--expanded":"frontend-shows-ShowsTranscript-module__icon--expanded--ddc0e","transcription-container":"frontend-shows-ShowsTranscript-module__transcription-container--IjluX","transcription-chunk":"frontend-shows-ShowsTranscript-module__transcription-chunk--HW9zd",transcriptionWords:"frontend-shows-ShowsTranscript-module__transcriptionWords--AGVSc","transcription-chunk--active":"frontend-shows-ShowsTranscript-module__transcription-chunk--active--lMJxz","transcription-timestamp":"frontend-shows-ShowsTranscript-module__transcription-timestamp--NAgIH","transcription-text":"frontend-shows-ShowsTranscript-module__transcription-text--nnfzG"},SU=({post:r,playerRef:t,transcription:o})=>{const[a,f]=(0,n.eJ)(!1),[L,k]=(0,n.eJ)(0),U=(0,n.sO)(null);(0,n.d4)(()=>{if(!(!U.current||!a)&&U.current){const q=U.current.clientHeight,pe=U.current.querySelector(`#transcription-${L}`);pe&&U.current.scrollTo({top:pe.offsetTop-.5*(q-pe.clientHeight),behavior:"smooth"})}},[L,a]);const B=()=>{const q=!a;f(q),(0,P.j)(P.FP.TRANSCRIPTION_TOGGLED,{state:q?"expanded":"collapsed",post_id:r.id})};return(0,e.h)(d.tu,{radius:6,className:u()(Bo.container,{[Bo["container--collapsed"]]:!a})},(0,e.h)(d.gq,{className:Bo.header,justifyContent:"space-between",alignItems:"center",padding:16,onClick:B},(0,e.h)(d.gq,{alignItems:"center",gap:8},(0,e.h)(Zg,{size:16}),(0,e.h)(d.xv.B4,{color:"pub-primary-text",weight:"bold",translated:!0},"Transcript")),(0,e.h)(d.gq,{color:"pub-secondary-text",justifyContent:"center",alignItems:"center",className:u()(Bo.icon,{[Bo["icon--expanded"]]:a})},(0,e.h)(ap.Z,{size:16}))),(0,e.h)(d.HZ,{expanded:a,renderWhenCollapsed:!0},(0,e.h)("div",{className:Bo["transcription-container"],ref:U},(0,e.h)(d0,{player:t,postId:r.id,renderTranscriptionChunk:({isPlaying:q,row:pe,rowIndex:ge,words:Pe,onPause:Ee,onPlay:Me})=>{const De=ge===L&&q,Ue=`transcription-${ge}`;return(0,e.h)(d.xu,{id:Ue,paddingY:4,paddingRight:16,className:u()(Bo["transcription-chunk"],{[Bo["transcription-chunk--active"]]:De}),onClick:()=>{var Fe;(Fe=window.getSelection())!=null&&Fe.toString()||(De?Ee():Me())}},(0,e.h)(d.gq,{alignItems:"baseline",gap:12},(0,e.h)(d.xv.B4,{className:Bo["transcription-timestamp"],color:"pub-secondary-text"},(0,kd.DL)(pe.start)),(0,e.h)(d.xu,{display:"inline",className:Bo.transcriptionWords,lineHeight:22,padding:4,radius:6,"data-chunk-index":ge},Pe.map(Fe=>Fe.word).join(" "))))},transcription:o,onUpdateActiveRowIndex:k}))))};var IU=Ke(23493),TU=Ke.n(IU);const DU=({idleAfter:r=3e3,element:t})=>{const[o,a]=(0,n.eJ)(!1);return(0,n.d4)(()=>{const f=t!=null?t:window;let L;const k=()=>{a(!0)},U=TU()(()=>{a(!1),clearTimeout(L),L=setTimeout(k,r)},500),B=()=>{document.hidden||U()};return L=setTimeout(k,r),f.addEventListener("mousemove",U),f.addEventListener("mousedown",U),f.addEventListener("resize",U),f.addEventListener("keydown",U),f.addEventListener("touchstart",U),f.addEventListener("wheel",U),t||document.addEventListener("visibilitychange",B),()=>{f.removeEventListener("mousemove",U),f.removeEventListener("mousedown",U),f.removeEventListener("resize",U),f.removeEventListener("keydown",U),f.removeEventListener("touchstart",U),f.removeEventListener("wheel",U),t||document.removeEventListener("visibilitychange",B),clearTimeout(L)}},[t,r]),{isIdle:o}};var MU=Ke(26494),AU=Ke(70428);const Ni={container:"frontend-shows-ShowsVideoPlayer-module__container--YsDXk","video-wrapper":"frontend-shows-ShowsVideoPlayer-module__video-wrapper--kVvEJ","preview-label-container":"frontend-shows-ShowsVideoPlayer-module__preview-label-container--l5L0H",sidebar:"frontend-shows-ShowsVideoPlayer-module__sidebar--poWlZ","sidebar--hidden":"frontend-shows-ShowsVideoPlayer-module__sidebar--hidden--ljSvj","sidebar-icons":"frontend-shows-ShowsVideoPlayer-module__sidebar-icons--xA9c1"};var LU=Object.defineProperty,Nu=Object.getOwnPropertySymbols,mP=Object.prototype.hasOwnProperty,_P=Object.prototype.propertyIsEnumerable,gP=(r,t,o)=>t in r?LU(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,NU=(r,t)=>{for(var o in t||(t={}))mP.call(t,o)&&gP(r,o,t[o]);if(Nu)for(var o of Nu(t))_P.call(t,o)&&gP(r,o,t[o]);return r},xU=(r,t)=>{var o={};for(var a in r)mP.call(r,a)&&t.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&Nu)for(var a of Nu(r))t.indexOf(a)<0&&_P.call(r,a)&&(o[a]=r[a]);return o};const RU=r=>{var t=r,{hasPaywall:o,mediaUpload:a,post:f,pub:L,user:k,videoPlayerRef:U,onChange:B,onClipClick:q,onCommentsClick:pe}=t,ge=xU(t,["hasPaywall","mediaUpload","post","pub","user","videoPlayerRef","onChange","onClipClick","onCommentsClick"]),Pe,Ee;const{iString:Me}=(0,A.M1)(),[De,Ue]=(0,n.eJ)(!1),{isMobile:Fe}=(0,cr.v9)(),Ye=(0,n.sO)(null),{isPlaying:st}=s0(U),{isIdle:nt}=DU({idleAfter:2e3,element:Ye.current}),at=((Pe=a.preview_duration)!=null?Pe:0)>0,yt=o&&(!at||De),Et=()=>{var Ct;(Ct=U.current)!=null&&Ct.player&&(Ue(!1),U.current.player.currentTime=0,U.current.player.play())};return(0,e.h)("div",{className:Ni.container,ref:Ye},(0,e.h)("div",{className:Ni["video-wrapper"]},(0,e.h)(Ua.Z,NU({ref:U,doNotResetOnEnd:!0,hidePlayButton:yt,mediaUpload:a,noControls:yt&&!o,post:f,pub:L,onFinishVideo:()=>{Ue(!0)}},ge)),at&&o&&!yt&&(0,e.h)("div",{className:Ni["preview-label-container"]},(0,e.h)(AU.l,null,Me("Preview")," \u2022 ",(0,Ne.secondsToHHMMSS)((Ee=a.preview_duration)!=null?Ee:0))),!Fe&&!yt&&(0,e.h)("div",{className:u()(Ni.sidebar,{[Ni["sidebar--hidden"]]:st&&nt})},(0,e.h)(d.hs,{className:Ni["sidebar-icons"],bg:"glass-inverted-thick",paddingX:8,paddingY:16},(0,e.h)(qn._2,{isStatic:!1,labelStyle:"counts-or-none",position:"shows-episode-player",post:f,pub:L,style:"large-on-dark",user:k,showClipping:f.type==="podcast",onChange:B,onClipClick:q,onCommentsClick:pe})))),yt&&(0,e.h)(MU.Y,{isFreeSubscribed:!!(k!=null&&k.is_free_subscribed),post:f,pub:L,variant:"video",onRestart:at?Et:void 0}))},xu={container:"frontend-shows-ShowsPost-module__container--kzpgm","main-content-and-sidebar":"frontend-shows-ShowsPost-module__main-content-and-sidebar--p703x","main-content":"frontend-shows-ShowsPost-module__main-content--mgpu3",sidebar:"frontend-shows-ShowsPost-module__sidebar--qwsJE"};var BU=Object.defineProperty,UU=Object.defineProperties,kU=Object.getOwnPropertyDescriptors,vP=Object.getOwnPropertySymbols,FU=Object.prototype.hasOwnProperty,WU=Object.prototype.propertyIsEnumerable,yP=(r,t,o)=>t in r?BU(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,jU=(r,t)=>{for(var o in t||(t={}))FU.call(t,o)&&yP(r,o,t[o]);if(vP)for(var o of vP(t))WU.call(t,o)&&yP(r,o,t[o]);return r},KU=(r,t)=>UU(r,kU(t));const HU=(0,$t.forwardRef)((r,t)=>{var o,a,f,L,k;const[U,B]=(0,n.eJ)(!1),q=(0,n.sO)(null),pe=(0,n.sO)(null),{paywall:ge,post:Pe,pub:Ee,reaction_token:Me,recentEpisodes:De,themeVariables:Ue,user:Fe,onChange:Ye}=r,st=Pe.section_id&&(o=Ee.sections.find(Tt=>Tt.id===Pe.section_id))!=null?o:null,nt=(a=st==null?void 0:st.id)!=null?a:null,{feedUrl:at}=H3({pub:Ee,magicToken:Me,user:Fe,sectionId:nt}),yt=((f=Pe.podcastUpload)==null?void 0:f.transcription)||((L=Pe.videoUpload)==null?void 0:L.transcription),Et=(0,Go.a9)({pub:Ee,section:st}),Ct=!!((k=Pe.podcastFields)!=null&&k.hide_from_feed),It=Tt=>{Tt.preventDefault(),(0,P.j)(P.FP.COMMENTS_CLICKED,{post_id:Pe.id});const Rt=document.getElementById(Go.nK);Rt&&Rt.scrollIntoView({behavior:"smooth"})};return(0,e.h)(_u,KU(jU({},r),{ref:t,renderContent:({comments:Tt,postContent:Rt})=>(0,e.h)("div",{className:xu.container},(0,e.h)($d,{visible:U,style:{zIndex:1}}),Pe.videoUpload?(0,e.h)(RU,{autoPlay:!1,hasPaywall:ge,mediaUpload:Pe.videoUpload,post:Pe,pub:Ee,reaction_token:Me,restorePlaybackLocation:!0,user:Fe,videoPlayerRef:q,onChange:Ye,clippingMode:U,onClipClick:()=>B(!0),onClippingModeCancel:()=>B(!1),onCommentsClick:It}):Pe.podcastUpload?(0,e.h)(dU,{audioPlayerRef:pe,hasPaywall:ge,post:Pe,pub:Ee,section:st,user:Fe,onChange:Ye,onCommentsClick:It}):null,(0,e.h)("div",{className:xu["main-content-and-sidebar"]},(0,e.h)("div",{className:xu["main-content"]},(0,e.h)(d.tu,{gap:32},(0,e.h)(d.tu,{gap:16},(0,e.h)(mU,{feedUrl:at,magicToken:Me,post:Pe,pub:Ee,section:st,showLinks:Et,themeVariables:Ue,user:Fe,onChange:Ye,onCommentsClick:It}),yt&&!ge&&(0,e.h)(SU,{playerRef:Pe.videoUpload?q:pe,post:Pe,transcription:yt})),(0,e.h)("div",null,Rt,Tt))),(0,e.h)(d.tu,{className:xu.sidebar,borderLeft:"detail-themed",paddingX:32,paddingY:24},(0,e.h)(wU,{feedUrl:at,isStandaloneVideo:Ct,post:Pe,pub:Ee,recentEpisodes:De,section:st,showLinks:Et,user:Fe}))))}))});var VU=Ke(66141),PP=Ke(19696);function $U(){return useDismissed("reader-ios-install-banner",60*60*24*7)}function xj({user:r,pathname:t="/inbox"}){const[o,a]=$U(),f=CP();if(o||!f||r!=null&&r.reader_installed_at&&f==="ios"&&isSafari()&&(t.startsWith(FEED_PATH)||t.includes("/note/"))||t.startsWith("/chat"))return null;const L=()=>{track(EVENTS.APP_BANNER_DISMISSED),a()},k=U=>{track(EVENTS.APP_BANNER_TAPPED,{surface:"reader"})};return h(bP,{className:"app-banner-fixed"},h(xf,{surface:"reader"}),h(OP,null),h(EP,null,h("div",null,"Get the full experience")),h("a",{href:GU(t),className:"app-banner-cta",onClick:k},"Get app"),h("button",{className:"reader2-button-reset",onClick:L},h(X,{size:16,className:"app-banner-x-out"})))}function ZU({post:r,subdomain:t}){const o=CP();if(!(0,R.isMobile)({checkFirst4:!0})||!o)return null;const a=(0,g.getPostAppLinkUrl)(t,r.slug,{redirect:"app-store",source:"post-banner"}),f=()=>{(0,P.j)(P.FP.APP_BANNER_TAPPED,{surface:"post"})};return(0,e.h)(bP,null,(0,e.h)(xf,{surface:"post"}),(0,e.h)(OP,null),(0,e.h)(EP,null,(0,e.h)("div",null,r.type==="podcast"?"Listen":r.type==="video"?"Watch":"Read"," in the Substack app")),(0,e.h)("a",{className:"app-banner-cta",href:a,onClick:f},"Open app"))}function xf({surface:r,bannerType:t}){return(0,n.d4)(()=>{(0,P.j)(P.FP.APP_BANNER_VIEWED,{surface:r,bannerType:t})},[]),null}const bP=(0,PP.L)("app-banner"),EP=(0,PP.L)("app-banner-text");function OP(){return(0,e.h)("div",{className:"app-banner-icon"},(0,e.h)(V.Z,{height:16}))}function CP(){return(0,R.isIos)()?"ios":(0,R.isAndroid)()?"android":null}function GU(r){const t=r.split("/"),o=t.length>1?t[1]:null;return o&&["/chat",FEED_PATH,"/activity","/library"].includes(`/${o}`)?getAppLinkTabUrl({tab:o,redirect:"app-store"}):getAppLinkTabUrl({tab:"inbox",redirect:"app-store"})}function zU({user:r,pub:t,post:o}){const a="post-referral-banner",f=(0,G.getReaderProfileUrl)(r,{utm_source:a}),L=(0,g.getPostAppLinkUrl)(t.subdomain,o.slug,{redirect:"app-store",source:a}),k=()=>(0,P.j)(P.FP.APP_BANNER_TAPPED,{surface:"post",bannerType:"post-referral-banner",tappedElement:"cta"}),U=()=>(0,P.j)(P.FP.APP_BANNER_TAPPED,{surface:"post",bannerType:"post-referral-banner",tappedElement:"profile"});return(0,e.h)(d.hs,{bg:"secondary",alignItems:"center",justifyContent:"space-between",paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,gap:12},(0,e.h)(xf,{surface:"post",bannerType:"post-referral-banner"}),(0,e.h)(Zl.ZP,{subject:r,url:f,onClick:U}),(0,e.h)(d.tu,{flex:"fill"},(0,e.h)(M.xv,{as:"a",href:f,onClick:U,font:"display",size:11,weight:"bold"},"Shared by ",r.name),(0,e.h)(M.xv,{font:"display",size:11},"Follow their reading in the app")),(0,e.h)(d.kG,{href:L,className:"referral-banner-cta",onClick:k},"Open App"))}var YU=Object.defineProperty,JU=Object.defineProperties,XU=Object.getOwnPropertyDescriptors,wP=Object.getOwnPropertySymbols,QU=Object.prototype.hasOwnProperty,qU=Object.prototype.propertyIsEnumerable,SP=(r,t,o)=>t in r?YU(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,ek=(r,t)=>{for(var o in t||(t={}))QU.call(t,o)&&SP(r,o,t[o]);if(wP)for(var o of wP(t))qU.call(t,o)&&SP(r,o,t[o]);return r},tk=(r,t)=>JU(r,XU(t));const Rj=r=>h(SvgIcon,tk(ek({},r),{name:"BellIcon",svgParams:{viewBox:"0 0 20 20",height:20,width:20,fill:"none"}}),h("path",{d:"M3.54717 7.14905L2.80009 7.08297L2.79717 7.11595V7.14905H3.54717ZM2.91038 10.6428L2.24437 10.298H2.24436L2.91038 10.6428ZM1 15.1428H0.25C0.25 15.557 0.585786 15.8928 0.999999 15.8928L1 15.1428ZM1.63679 12.6832L2.30281 13.0281L1.63679 12.6832ZM16.4528 7.14907H17.2028V7.10282L17.1971 7.05691L16.4528 7.14907ZM17.0896 10.8385L17.7556 10.4937L17.0896 10.8385ZM19 15.1429V15.8929C19.1989 15.8929 19.3896 15.8138 19.5303 15.6732C19.6709 15.5325 19.75 15.3418 19.75 15.1429H19ZM18.3632 12.6832L17.6972 13.0281V13.0281L18.3632 12.6832ZM11.8822 16.4286C11.8822 17.4412 11.0709 18.25 10.085 18.25V19.75C11.9127 19.75 13.3822 18.2562 13.3822 16.4286H11.8822ZM10.085 18.25C9.09913 18.25 8.28782 17.4412 8.28782 16.4286H6.78782C6.78782 18.2562 8.25733 19.75 10.085 19.75V18.25ZM8.28782 16.4286V15.1429H6.78782V16.4286H8.28782ZM13.3822 16.4286V15.1429H11.8822V16.4286H13.3822ZM10.085 0.25C8.89057 0.25 7.20474 0.623466 5.74421 1.66361C4.25626 2.7233 3.0324 4.45632 2.80009 7.08297L4.29425 7.21512C4.48647 5.04178 5.4702 3.70027 6.61436 2.88543C7.78595 2.05106 9.15677 1.75 10.085 1.75V0.25ZM2.79717 7.14905C2.79717 7.71546 2.73571 8.36489 2.63006 8.95552C2.52161 9.56174 2.37824 10.0394 2.24437 10.298L3.57639 10.9877C3.81469 10.5275 3.98971 9.87319 4.10662 9.21966C4.22632 8.55054 4.29717 7.81245 4.29717 7.14905H2.79717ZM2.24436 10.298C2.08304 10.6095 1.89068 10.8906 1.66386 11.2217C1.44351 11.5434 1.19295 11.9093 0.97078 12.3384L2.30281 13.0281C2.47688 12.6919 2.67702 12.3969 2.90136 12.0694C3.11923 11.7514 3.36554 11.3949 3.57639 10.9877L2.24436 10.298ZM0.97078 12.3384C0.607085 13.0407 0.428923 13.7345 0.340527 14.2466C0.296032 14.5044 0.27347 14.721 0.261993 14.8761C0.256245 14.9538 0.25325 15.0165 0.25169 15.0617C0.25091 15.0843 0.250487 15.1026 0.25026 15.1162C0.250146 15.123 0.250081 15.1287 0.250045 15.1331C0.250026 15.1353 0.250015 15.1373 0.250009 15.1389C0.250005 15.1397 0.250003 15.1404 0.250002 15.1411C0.250001 15.1414 0.250001 15.1417 0.25 15.142C0.25 15.1422 0.25 15.1424 0.25 15.1424C0.25 15.1426 0.25 15.1428 1 15.1428C1.75 15.1428 1.75 15.143 1.75 15.1432C1.75 15.1433 1.75 15.1434 1.75 15.1435C1.75 15.1438 1.75 15.144 1.75 15.1441C1.75 15.1445 1.75 15.1448 1.75 15.145C1.74999 15.1454 1.74999 15.1456 1.74999 15.1454C1.75 15.1452 1.75001 15.1437 1.75005 15.1412C1.75013 15.1362 1.75033 15.1269 1.7508 15.1135C1.75172 15.0866 1.7537 15.0436 1.75791 14.9868C1.76633 14.8729 1.78357 14.7052 1.81867 14.5018C1.88947 14.0916 2.02971 13.5555 2.30281 13.0281L0.97078 12.3384ZM10.085 1.75C11.0068 1.75 12.2869 2.04746 13.3926 2.87498C14.4767 3.68634 15.4356 5.03759 15.7085 7.24122L17.1971 7.05691C16.8756 4.46053 15.712 2.73725 14.2914 1.67407C12.8924 0.627065 11.2858 0.25 10.085 0.25V1.75ZM15.7028 7.14907C15.7028 7.81063 15.7733 8.59469 15.8917 9.30825C16.0065 9.99938 16.1801 10.7132 16.4236 11.1834L17.7556 10.4937C17.6269 10.245 17.4821 9.72906 17.3715 9.06262C17.2646 8.4186 17.2028 7.71732 17.2028 7.14907H15.7028ZM16.4236 11.1834C16.6493 11.6193 16.9157 11.9442 17.1336 12.2143C17.3558 12.4898 17.5373 12.7194 17.6972 13.0281L19.0292 12.3384C18.7928 11.8818 18.5236 11.5484 18.3011 11.2726C18.0743 10.9913 17.902 10.7765 17.7556 10.4937L16.4236 11.1834ZM17.6972 13.0281C17.9703 13.5555 18.1105 14.0916 18.1813 14.5018C18.2164 14.7052 18.2336 14.8729 18.2421 14.9868C18.2463 15.0436 18.2482 15.0866 18.2492 15.1135C18.2496 15.1269 18.2498 15.1363 18.2499 15.1413C18.25 15.1438 18.25 15.1452 18.25 15.1455C18.25 15.1456 18.25 15.1455 18.25 15.145C18.25 15.1448 18.25 15.1445 18.25 15.1442C18.25 15.144 18.25 15.1438 18.25 15.1436C18.25 15.1435 18.25 15.1433 18.25 15.1432C18.25 15.143 18.25 15.1429 19 15.1429C19.75 15.1429 19.75 15.1427 19.75 15.1425C19.75 15.1424 19.75 15.1422 19.75 15.142C19.75 15.1417 19.75 15.1414 19.75 15.1411C19.75 15.1405 19.75 15.1397 19.75 15.1389C19.7499 15.1373 19.7499 15.1354 19.7499 15.1331C19.7499 15.1287 19.7498 15.123 19.7497 15.1162C19.7495 15.1026 19.7491 15.0843 19.7483 15.0617C19.7467 15.0165 19.7437 14.9539 19.738 14.8762C19.7265 14.721 19.7039 14.5045 19.6594 14.2467C19.571 13.7345 19.3929 13.0408 19.0292 12.3384L17.6972 13.0281ZM0.999999 15.8928L19 15.8929V14.3929L1 14.3928L0.999999 15.8928Z"})),Bj=null,Ru=({children:r,dismissKey:t,dismissDurationInSeconds:o,beforeDismiss:a,className:f,level:L="info"}={})=>{const[k,U]=(0,VU.Z)(t,o,a);if(!k)return(0,e.h)("div",{className:u()("banner",L,f)},r,(0,e.h)(s.Z,{width:12,height:12,className:"banner-close",onClick:B=>{B.preventDefault(),B.stopPropagation(),U()}}))},Uj=null,kj=()=>(useEffect(()=>{track(EVENTS.GO_PAID_CTA_SHOWN,{type:"banner"})},[]),h(Ru,{dismissKey:"go-paid-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS,beforeDismiss:()=>{track(EVENTS.GO_PAID_CTA_DISMISSED,{type:"banner"})}},h(BellIcon,{stroke:"var(--print_pop)",fill:"var(--print_pop)",strokeWidth:0,className:"go-paid-banner-bell"}),h("a",{href:"/publish/settings#connect",native:!0,onClick:()=>{track(EVENTS.GO_PAID_CTA_CLICKED,{type:"banner"})}},"Turn on paid subscriptions")," ",h("span",{className:"go-paid-banner-text"},"to get paid for your writing"))),Fj=({action:r="connect"})=>{const{getConfigFor:t}=useSiteConfigs(),[o,a]=useState(!1);return o||!t("twitter_connect_flows_enabled")?null:h(Ru,{level:"setup",dismissKey:"setup-twitter-banner.dismissed",beforeDismiss:()=>{track(EVENTS.SETUP_TWITTER_CTA_DISMISSED,{type:"banner"})}},h("div",{className:"setup-twitter-banner-header"},"Help more readers discover your writing"),h("p",null,"Connect your Twitter account so we can notify your followers about your Substack."),r==="connect"&&h(Button,{className:"twitter-button centered-icon",onClick:()=>{track(EVENTS.SETUP_TWITTER_CTA_CONNECT_CLICKED,{type:"banner"}),location.href=getConnectTwitterUrl({type:"connect_pub"})}},"Connect Twitter"),r==="set-discoverable"&&h(FancyForm,{className:"minimal",action:"/api/v1/twitter/set-discoverable",method:"put",onSuccess:()=>a(!0)},h("input",{type:"hidden",name:"d",value:"true"}),h(Button,{className:"twitter-button centered-icon",type:"Submit",onClick:()=>track(EVENTS.SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED,{type:"banner"})},"Turn on Discoverability")),h("div",{className:"twitter-permission-notice"},"We never tweet without your explicit permission"))},nk=()=>{const{iString:r,iTemplate:t}=(0,A.M1)();return(0,e.h)(Ru,{level:"coming-soon",dismissKey:"coming-soon-banner.dismissed",beforeDismiss:()=>{et().put("/api/v1/publication_settings").send({seen_coming_soon_explainer:!0})}},(0,e.h)("div",{className:"coming-soon-banner-header"},r("Welcome to Substack!")),(0,e.h)("br",null),(0,e.h)("p",null,r(`We've created this "Coming Soon" post for you. To edit it, click the three-dot icon.`)),(0,e.h)("br",null),(0,e.h)("p",null,r(`It's just a placeholder and won't be sent out to your subscribers. To email them, click the "New Post" button.`)))},Wj=({children:r,className:t,level:o="info",onClose:a}={})=>{const[f,L]=useState(!1);if(!(f&&o!=="error"))return h("div",{className:classnames("banner",o,t)},o!=="error"&&h(CloseIcon,{width:12,height:12,className:"banner-close",onClick:k=>{k.preventDefault(),k.stopPropagation(),a&&a(),L(!0)}}),r)},jj=({featureName:r,featureLink:t,preText:o,linkedText:a,postText:f,children:L})=>{useEffect(()=>{track(EVENTS.FEATURE_ANNOUNCEMENT_BANNER_SHOWN,{type:r})},[r]);const k=isMobileBrowser();return h(Ru,{level:"new-feature",dismissKey:"new-feature-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS},!k&&L,h("p",{className:"new-feature-banner-text"},o," ",h("a",{href:t,native:!0,onClick:()=>{track(EVENTS.FEATURE_ANNOUNCEMENT_BANNER_CLICKED,{type:r})}},a)," ",f))};var rk=Ke(51576),ok=Ke(65207),ak=Object.defineProperty,ik=Object.defineProperties,sk=Object.getOwnPropertyDescriptors,IP=Object.getOwnPropertySymbols,lk=Object.prototype.hasOwnProperty,uk=Object.prototype.propertyIsEnumerable,TP=(r,t,o)=>t in r?ak(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,ck=(r,t)=>{for(var o in t||(t={}))lk.call(t,o)&&TP(r,o,t[o]);if(IP)for(var o of IP(t))uk.call(t,o)&&TP(r,o,t[o]);return r},dk=(r,t)=>ik(r,sk(t));const fk=r=>(0,e.h)(Je.l,dk(ck({},r),{name:"LucideExternalLink",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(ok.Z,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));var pk=Object.defineProperty,hk=Object.defineProperties,mk=Object.getOwnPropertyDescriptors,DP=Object.getOwnPropertySymbols,_k=Object.prototype.hasOwnProperty,gk=Object.prototype.propertyIsEnumerable,MP=(r,t,o)=>t in r?pk(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,vk=(r,t)=>{for(var o in t||(t={}))_k.call(t,o)&&MP(r,o,t[o]);if(DP)for(var o of DP(t))gk.call(t,o)&&MP(r,o,t[o]);return r},yk=(r,t)=>hk(r,mk(t));const Pk=r=>(0,e.h)(Je.l,yk(vk({},r),{name:"ShareFacebookBoxedIcon",svgParams:{height:17,width:16,viewBox:"10 0 10 26"}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15,3C8.373,3,3,8.373,3,15c0,6.016,4.432,10.984,10.206,11.852V18.18h-2.969v-3.154h2.969v-2.099c0-3.475,1.693-5,4.581-5 c1.383,0,2.115,0.103,2.461,0.149v2.753h-1.97c-1.226,0-1.654,1.163-1.654,2.473v1.724h3.593L19.73,18.18h-3.106v8.697 C22.481,26.083,27,21.075,27,15C27,8.373,21.627,3,15,3z"}));var bk=Ke(7775),Ek=Ke(74957);const Rf={toast:"frontend-components-prompts-WriterShareModal-module__toast--Vdu8m",cta:"frontend-components-prompts-WriterShareModal-module__cta--ozgSr",modal:"frontend-components-prompts-WriterShareModal-module__modal--XLKpl"};var Ok=Object.defineProperty,Ck=Object.defineProperties,wk=Object.getOwnPropertyDescriptors,AP=Object.getOwnPropertySymbols,Sk=Object.prototype.hasOwnProperty,Ik=Object.prototype.propertyIsEnumerable,LP=(r,t,o)=>t in r?Ok(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Ws=(r,t)=>{for(var o in t||(t={}))Sk.call(t,o)&&LP(r,o,t[o]);if(AP)for(var o of AP(t))Ik.call(t,o)&&LP(r,o,t[o]);return r},NP=(r,t)=>Ck(r,wk(t));const xP="https://twitter.com",RP=()=>{const r=(0,ur.pm)();return(t,o=null)=>r.popToast(a=>(0,e.h)(ur.FN,NP(Ws({},a),{className:Rf.toast,text:t,cta:o})))},Tk=({post:r,publication:t,autoSharedOnTwitter:o,showAfter:a,publicationTwitterScreenName:f,authorVersion:L})=>{const k=(0,n.sO)(null),[U,B]=(0,n.eJ)(!0),q=RP();(0,n.d4)(()=>{o&&q("Post shared to Twitter",f?(0,e.h)("a",{className:Rf.cta,href:`${xP}/${f}`,target:"_blank",rel:"noopener"},"View"):null)},[]);const pe=()=>{B(!1)};return!U&&a?a:(0,e.h)(ct.Z,{testID:"share-modal",openByDefault:!0,className:u()("force-light-theme",Rf.modal),ref:k,variant:"structured",modalTitle:`Share your ${L?"substack:":"post:"}`,modalFooter:(0,e.h)(ho.z,{variant:L?"primary":"secondary",look:"button",onClick:ge=>{ge.preventDefault(),k.current.close()}},L?"View Dashboard":"View post"),onBeforeClose:pe},(0,e.h)("div",{className:"author-post-share-container author-post-share-container--fullscreen author-post-share-container--publish"},(0,e.h)("div",{className:"author-post-share__check-container"},(0,e.h)(fs.Z,{size:20,strokeWidth:2})),(0,e.h)("h5",null,L?"Share your Substack with your friends, fans, and communities":"Your post has been published! It\u2019s time to get the word out"),!L&&(0,e.h)("div",{className:"tw-mb-8"},(0,e.h)(Mk,{modalRef:k})),(0,e.h)(Dk,{post:r,publication:t,hideEmailOption:!L,trackingParams:{sd:"pf"},autoSharedOnTwitter:o,authorVersion:L})))},Dk=({post:r,publication:t,hideEmailOption:o=!1,trackingParams:a,autoSharedOnTwitter:f,authorVersion:L})=>{const k=L?(0,g.getBaseUrl)(t):r.canonical_url,U=q=>{(0,P.j)(P.FP.SHARE_LINK_CLICKED,{name:q,post_id:r==null?void 0:r.id,source:"fullscreen-author-share-dialog"})},B=RP();return(0,e.h)(e.Fragment,null,(0,e.h)(js,{onClick:()=>{U("facebook"),window.open(`https://www.facebook.com/sharer/sharer.php?${(0,g.serializeQuery)({u:(0,g.updateQuery)(k,Ws({utm_source:"facebook"},a))})}`)},className:"share facebook"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(Pk,{height:16,fill:"#256fe2",stroke:"white",strokeWidth:1}),"Share on Facebook")),!f&&(0,e.h)(js,{onClick:()=>{U("twitter"),window.open(`${xP}/share?${(0,g.serializeQuery)({url:(0,g.updateQuery)(k,Ws({utm_source:"twitter"},a))})}`)},className:"share twitter"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(jy,{height:16,fill:"#1DA1F2",stroke:"#1DA1F2",strokeWidth:0}),"Share on Twitter")),(0,e.h)(js,{onClick:()=>{(0,i.copyToClipboard)((0,g.updateQuery)(k,a)),U("copy"),B("Link copied to clipboard")},className:"share copy"},(0,e.h)("button",{className:"button short-button tw-w-full"},(0,e.h)(bk.Z,{height:16,strokeWidth:0,fill:"black"}),"Copy Link")),!o&&(0,e.h)(js,{onClick:()=>{U("email"),window.open(`mailto:?${(0,g.serializeQuery)({subject:L?`Check out ${t.name}`:r.title,body:(0,g.updateQuery)(k,Ws({utm_source:"email"},a))})}`)},className:"share email"},(0,e.h)("button",{className:"button short-button tw-mb-8 tw-w-full"},(0,e.h)(Ek.Z,{height:16,strokeWidth:0,fill:"black"}),"Share with email")),!L&&(0,e.h)(js,{onClick:()=>{U("media-assets"),window.open(`${(0,g.getPostUrl)(t,r)}/media-assets`)},className:"share press-kit"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(fk,{stroke:"#404040",fill:"white"}),"View shareable images")))},js=r=>(0,e.h)("a",NP(Ws({},r),{native:!0})),Mk=({modalRef:r})=>{var t,o,a;let f="";typeof window!="undefined"&&(f=window.location.host);const L=(t=document.head.querySelector('meta[property="og:image"]'))==null?void 0:t.content,k=(o=document.head.querySelector('meta[property="og:title"]'))==null?void 0:o.content,U=(a=document.head.querySelector('meta[property="og:description"]'))==null?void 0:a.content;return(0,e.h)("div",{onClick:()=>{r.current.close()},className:"overflow-hidden tw-cursor-pointer tw-rounded-xl tw-border tw-border-solid tw-border-substack-detail"},L&&(0,e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail"},(0,e.h)("img",{src:L,className:"social-media-share-preview__image"})),(0,e.h)("div",{className:"tw-p-3"},(0,e.h)("div",{className:"tw-text-sm tw-font-bold tw-text-substack-secondary"},f),(0,e.h)("div",{className:"tw-text-base tw-font-bold tw-text-substack-primary"},k),(0,e.h)("div",{className:"social-media-share-preview__description tw-text-sm tw-font-medium tw-text-substack-secondary"},U)))},Ak=Tk;var Lk=Object.defineProperty,Nk=Object.defineProperties,xk=Object.getOwnPropertyDescriptors,BP=Object.getOwnPropertySymbols,Rk=Object.prototype.hasOwnProperty,Bk=Object.prototype.propertyIsEnumerable,UP=(r,t,o)=>t in r?Lk(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,kP=(r,t)=>{for(var o in t||(t={}))Rk.call(t,o)&&UP(r,o,t[o]);if(BP)for(var o of BP(t))Bk.call(t,o)&&UP(r,o,t[o]);return r},Uk=(r,t)=>Nk(r,xk(t)),kk=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});const Fk=({pub:r,pubsToRecommend:t})=>{const{iString:o,iTemplate:a,iPlural:f}=(0,A.M1)(),[L,k]=(0,n.eJ)(!0),[U,B]=(0,n.eJ)(!0),[q,pe]=(0,n.eJ)((t||[]).reduce((Ue,Fe)=>Uk(kP({},Ue),{[Fe.id]:!0}),{})),ge=()=>{k(!L),B(!1)},Pe=Ue=>{const Fe=kP({},q);Fe[Ue]=!Fe[Ue],pe(Fe)},Ee=()=>kk(void 0,null,function*(){try{const Ue=Object.keys(q).filter(Fe=>q[Fe]===!0).map(Fe=>Number(Fe));yield et().put("/api/v1/recommendations/multiple").send({recommending_publication_id:r.id,recommended_publication_ids:Ue,source:"post_publish_cta",suggested:Ue.map(()=>!0)}),Ue.length&&(0,aa.ZP)(f("Recommended %1 publication","Recommended %1 publications",Ue.length),{timeout:1500}),ge()}catch(Ue){console.error("Failed to add recommendations: ",Ue),ge()}});let Me,De;return t!=null&&t.length&&(Me=(Object.values(q).filter(Ue=>Ue===!0)||[]).length,De=t.length>1?f("Do you want to recommend %2 and %1 other publication","Do you want to recommend %2 and %1 other publications",t.length-1,t[0].name):a`Do you want to recommend ${t[0].name}`),(0,e.h)(e.Fragment,null,U?(0,e.h)(Jr.u_,{isOpen:L,onClose:ge},(0,e.h)(Jr.xB,{onClose:ge,title:De}),(0,e.h)(Jr.fe,null,(0,e.h)("div",{className:"recommend-linked-publication-modal-container"},(0,e.h)("p",{className:"subtitle"},t.length>1?a`Since you embedded ${t.length} publications on your post, we thought you might want to recommend them to your readers`:a`Since you embedded ${t[0].name} on your post, we thought you might want to recommend them to your readers`),t&&t.length&&t.map((Ue,Fe)=>(0,e.h)("div",{className:u()("recommend-publication-container",{last:Fe===t.length-1}),onClick:()=>Pe(Ue.id)},(0,e.h)(la.Z,{pub:Ue,size:40,logo_url:Ue.logo_url,openInNewTab:!0}),(0,e.h)("div",{className:"publication-name-author"},(0,e.h)("a",{className:"publication-name",href:(0,g.getBaseUrl)(Ue),target:"_blank"},Ue.name),(0,e.h)("p",{className:"author-name"},(0,Ne.getByLine)(Ue))),(0,e.h)(um.p,{checked:q[Ue.id]?q[Ue.id]:!1}))))),(0,e.h)(Jr.mz,{alignment:"center",primaryButton:(0,e.h)(ho.z,{onClick:Ee,variant:"primary"},Me===0?o("Continue"):f("Recommend %1 publication","Recommend %1 publications",Me)),secondaryButton:(0,e.h)(ho.z,{onClick:ge,variant:"secondary"},o("Maybe later"))})):null)};class Wk extends e.Component{isSubscribed(){const{user:t}=this.props;return t&&t.is_subscribed}isFreeSubscribed(){const{freeSignup:t,user:o}=this.props;return t||o&&o.is_free_subscribed&&!o.is_contributor}onFreeSubscribe(t){if(this.props.publication.plans){let o=(0,g.getSubscribeUrl)(this.props.publication,{just_signed_up:!0,referral_token:t.body.referral_token});t.body.prompt_to_login&&(o=`/account/login?redirect=${encodeURIComponent(o)}&email=${encodeURIComponent(t.body.email)}`),document.location.href=o}else window.location.reload()}render({publication:t,user:o,freeSignupEmail:a,features:f,iString:L,language:k}){if(!(this.isSubscribed()||this.isFreeSubscribed()&&!t.plans))return(0,e.h)("div",{className:"subscribe-footer"},(0,e.h)("div",{className:"container"},(0,e.h)("p",null,L("Ready for more?")),this.isFreeSubscribed()?(0,e.h)("div",null,(0,e.h)("a",{className:"cta",href:(0,g.getSubscribeUrl)(t,{utm_source:"ready-for-more"}),native:!0},(0,e.h)(Ae.Z,{className:"primary"},(0,e.h)("b",null,(0,Ne.getSubscribeText)(t,{language:k}))))):(0,e.h)(d.gq,{justifyContent:"center"},(0,e.h)("div",null,(0,e.h)(Le.Z,{freeSignupEmail:a,onAccentBackground:!0,pub:t,source:"subscribe_footer",submitButtonText:(0,Ne.getSubscribeText)(t),user:o,onSuccess:this.onFreeSubscribe.bind(this)})))))}}const jk=(0,A.fz)(Wk),Kk=()=>{const[r,t]=(0,n.eJ)(!0),o=()=>{t(!r)};return(0,e.h)(Jr.u_,{isOpen:r,onClose:o},(0,e.h)(Jr.fe,null,(0,e.h)(d.tu,{padding:16,gap:12},(0,e.h)(M.xv.H3,{color:"primary"},"Select a chunk of text to share as a video."),(0,e.h)("img",{src:(0,G.imginary)("/img/publish/selection.gif"),style:{padding:"16px",borderRadius:"25px"}}),(0,e.h)(d.zx,{onClick:o,grow:!0,priority:"primary-theme"},"Got it"))))};var Hk=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});function Vj(r,t={}){r=r||getQueryItem("selection");const{isLoading:o,error:a,result:f}=useFetch({pathname:`/api/v1/post_selection/${r}`,auto:!!r,deps:[r]});return{isLoading:o,error:a,postSelection:f!=null?f:null,highlightSelection:()=>{f&&FP(f,t)}}}function Vk(r){return Hk(this,arguments,function*(t,o={}){t=t||(0,g.getQueryItem)("selection");let a=null;try{a=yield(0,Ze.rd)(`/api/v1/post_selection/${t}`,{})}catch(f){}a&&FP(a,o)})}function FP(r,t={}){var o,a;if(t.ignoreSafari&&(0,i.isSafari)()||!r.text)return;const f=((a=(o=/^[^.]+\./.exec(r.text))==null?void 0:o[0])!=null?a:r.text).replace(/\.+$/g,"");if(!f)return;const L=`#:~:text=${encodeURIComponent(f)}`;history.replaceState({},document.title,L),document.location.hash=L}const $k=r=>{const{delayFirstLoad:t,filterPosts:o,isBelowTheFold:a,maxPosts:f,pub:L,search:k,sort:U,sortTabs:B,source:q,user:pe}=r;return(0,e.h)(d.xu,{paddingY:24},(0,e.h)(vu,{delayFirstLoad:t,filterPosts:o,isBelowTheFold:a,maxPosts:f,pub:L,search:k,sort:U,sortTabs:B,source:q,user:pe},({posts:ge,linkToComments:Pe,onClickPost:Ee})=>(0,e.h)(br,{hideImages:L.theme.hide_images_from_list,linkToComments:Pe,posts:ge,pub:L,user:pe,variant:"two-column-list",onChange:()=>{},onClickPost:Ee})))},uo={container:"frontend-main-scheduled_post_page-module__container--IhNeJ",imageContainer:"frontend-main-scheduled_post_page-module__imageContainer--r8zca",postContainer:"frontend-main-scheduled_post_page-module__postContainer--XGEvi",imagePreview:"frontend-main-scheduled_post_page-module__imagePreview--qfOgy",shareButton:"frontend-main-scheduled_post_page-module__shareButton--QQbjJ",foundingButton:"frontend-main-scheduled_post_page-module__foundingButton--lN7jr",upsellDescription:"frontend-main-scheduled_post_page-module__upsellDescription--WIiTE",countdownContainer:"frontend-main-scheduled_post_page-module__countdownContainer--ozFoc",countdownInnerContainer:"frontend-main-scheduled_post_page-module__countdownInnerContainer--JhNKd",refreshLink:"frontend-main-scheduled_post_page-module__refreshLink--h1Cco"},Zk=({post:r,publication:t,user:o,freeSignup:a,freeSignupEmail:f})=>{var L,k,U,B,q,pe,ge,Pe,Ee,Me;const De=(0,n.sO)(),Ue=r.cover_image,Fe=r.title,Ye=r.description,st=(0,Ne.getPrintedByline)(t,r),nt=((L=r.postSchedule)==null?void 0:L.email_audience)==="founding"&&(o==null?void 0:o.is_founding)||((k=r.postSchedule)==null?void 0:k.email_audience)==="only_paid"&&o&&(0,wd.P)(o,t)||((U=r.postSchedule)==null?void 0:U.email_audience)==="everyone"&&(o==null?void 0:o.is_free_subscribed),[at,yt]=(0,n.eJ)(sn()((B=r.postSchedule)==null?void 0:B.trigger_at).diff(sn()(),"second")),Et=Math.floor(at/60/60/24),Ct=Math.floor(at/60/60%24),It=Math.floor(at/60%60),Tt=at%60;return(0,n.d4)(()=>{const Rt=setInterval(()=>{var wt;yt(sn()((wt=r.postSchedule)==null?void 0:wt.trigger_at).diff(sn()(),"second"))},500);return()=>{clearInterval(Rt)}}),(0,n.d4)(()=>{(0,P.j)(P.FP.SCHEDULED_POST_SEEN,{post_id:r.id})},[]),(0,e.h)(e.Fragment,null,(0,e.h)(ql,{post:r,publication:t}),(0,e.h)(d.tu,{className:uo.container,alignItems:"center",gap:96,paddingTop:{desktop:64,mobile:32},paddingX:12},(0,e.h)(d.tu,{className:uo.postAndImageContainer,alignItems:"center",gap:32},Ue&&(0,e.h)("div",{className:uo.imageContainer},(0,e.h)("img",{src:Ue,className:uo.imagePreview})),(0,e.h)(d.tu,{className:uo.postContainer,alignItems:"center",gap:4},(0,e.h)(d.xv.H2,{color:"pub-primary-text",align:"center"},Fe),(0,e.h)(d.xv.B3,{color:"pub-secondary-text",align:"center"},(0,Ne.truncateText)(Ye,135)),(0,e.h)(d.xv.Meta,{color:"pub-secondary-text",align:"center"},((q=r.postSchedule)==null?void 0:q.email_audience)==="founding"?(0,e.h)(e.Fragment,null,(0,e.h)(d.xv.Meta,{as:"span",color:"pub-accent"},"Founding"),st?"\xA0\xA0\u2022\xA0\xA0":""):((pe=r.postSchedule)==null?void 0:pe.email_audience)==="only_paid"?(0,e.h)(e.Fragment,null,(0,e.h)(d.xv.Meta,{as:"span",color:"pub-accent"},"Paid"),st?"\xA0\xA0\u2022\xA0\xA0":""):"",st?`By ${st}`:""))),(0,e.h)(d.tu,{className:uo.upsellContainer,alignItems:"center"},nt?(0,e.h)(d.gq,{gap:12},(0,e.h)(d.zx,{onClick:()=>{var Rt;o!=null&&o.is_admin||o!=null&&o.is_contributor?(0,i.redirect)((0,G.getPostDetailsShareCenterUrl)(t,r.id),{local_navigation:!1}):(Rt=De.current)==null||Rt.open()},className:uo.shareButton,leftIcon:(0,e.h)(Ud.Z,null),priority:"primary-theme"},"Share"),o!=null&&o.is_admin||o!=null&&o.is_contributor?(0,e.h)(d.zx,{onClick:()=>{(0,i.redirect)((0,G.getEditPostUrlById)(t,r.id,!!r.editor_v2),{local_navigation:!1})},className:uo.shareButton,leftIcon:(0,e.h)(di.Z,null),priority:"secondary-theme"},"Edit Post"):null):((ge=r.postSchedule)==null?void 0:ge.email_audience)==="founding"&&!(o!=null&&o.is_founding)?(0,e.h)(d.zx,{className:uo.foundingButton,onClick:()=>{var Rt,wt;const Qt=(wt=(Rt=t.plans)==null?void 0:Rt.find(jt=>{var qt;return(qt=jt.metadata)==null?void 0:qt.founding}))==null?void 0:wt.id;(0,i.redirect)(Qt?(0,G.getSubscribeUrl)(t,{addBase:!0,params:{next:document.location.href,utm_source:"post-scheduled-page",utm_medium:"web",utm_content:r.id,selectedPlanId:Qt}}):(0,g.getCheckoutUrl)(t,{simple:!0,next:document.location.href,utm_source:"post-scheduled-page",utm_medium:"web",utm_content:r.id,plan:"founding"}),{local_navigation:!1})}},"Upgrade to founding"):(0,e.h)(Do,{pub:t,post:r,user:o,freeSignup:a,freeSignupEmail:f,isStatic:!1,source:"post-scheduled-page"}),(0,e.h)(d.xv.B3,{className:uo.upsellDescription,color:"pub-primary-text",align:"center"},"Publishes on ",sn()((Pe=r.postSchedule)==null?void 0:Pe.trigger_at).format("MMMM Do, h:mma"),"."," ",o!=null&&o.is_admin||o!=null&&o.is_contributor?"":nt?"You\u2019ll receive this post in your inbox when it\u2019s live. Meanwhile, help spread the word!":((Ee=r.postSchedule)==null?void 0:Ee.email_audience)==="founding"&&(o!=null&&o.is_free_subscribed)?"Upgrade to founding and receive this post in your inbox when it\u2019s live":((Me=r.postSchedule)==null?void 0:Me.email_audience)==="only_paid"&&(o!=null&&o.is_free_subscribed)?"Upgrade to paid and receive this post in your inbox when it\u2019s live":"Subscribe now and receive the post in your inbox when it\u2019s live"))),(0,e.h)("div",{className:uo.countdownContainer},(0,e.h)(d.tu,{className:uo.countdownInnerContainer,alignItems:"center",gap:4},at>0?(0,e.h)(d.xv.B3,{color:"pub-secondary-text",align:"center"},"Available in ",Et>0?`${(0,Ne.pluralize)(Et,"day")}, `:"",Et>0||Ct>0?`${(0,Ne.pluralize)(Ct,"hour")}, `:"",Et>0||Ct>0||It>0?`${(0,Ne.pluralize)(It,"minute")}${Et>0||Ct>0?",":""} and `:"",(0,Ne.pluralize)(Tt,"second")):(0,e.h)(d.xv.B3,{color:"pub-secondary-text",align:"center"},"Available now!"," ",(0,e.h)(d.xv.B3,{as:"a",color:"pub-secondary-text",align:"center",onClick:()=>{location.reload()},className:uo.refreshLink,decoration:"underline"},"Refresh to see the post"),"."))),(0,e.h)(Ha.ZP,{ref:De,user:o,pub:t,post:r}))};var Gk=Object.defineProperty,zk=Object.defineProperties,Yk=Object.getOwnPropertyDescriptors,WP=Object.getOwnPropertySymbols,Jk=Object.prototype.hasOwnProperty,Xk=Object.prototype.propertyIsEnumerable,Bf=(r,t,o)=>t in r?Gk(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Qk=(r,t)=>{for(var o in t||(t={}))Jk.call(t,o)&&Bf(r,o,t[o]);if(WP)for(var o of WP(t))Xk.call(t,o)&&Bf(r,o,t[o]);return r},qk=(r,t)=>zk(r,Yk(t)),qa=(r,t,o)=>(Bf(r,typeof t!="symbol"?t+"":t,o),o),Bu=(r,t,o)=>new Promise((a,f)=>{var L=B=>{try{U(o.next(B))}catch(q){f(q)}},k=B=>{try{U(o.throw(B))}catch(q){f(q)}},U=B=>B.done?a(B.value):Promise.resolve(B.value).then(L,k);U((o=o.apply(r,t)).next())});class Uf extends e.Component{constructor(t,o){super(t,o),qa(this,"updateSubscribeTakeover",()=>{const f=this.props.publication.id,L=`pub-${f}-subscribe-prompt-next-shown-at`,k=`pub-${f}-takeover-next-shown-at`,U=(0,S.mM)(k),B=!U||Date.now()>=U;(0,i.isWindowVisible)()?this.state.subscribeTakeOverTimer&&(B&&Date.now()-this.state.subscribeTakeOverTimer>=2*60*1e3&&this.setState({showSubscribeTakeover:!0}),this.setState({subscribeTakeOverTimer:null}),(0,S.ex)(L,sn()().add(1,"hour").valueOf()),(0,S.ex)(k,sn()().add(1,"hour").valueOf())):this.state.subscribeTakeOverTimer||this.setState({subscribeTakeOverTimer:new Date})}),qa(this,"onChangeComment",f=>{this.setState({comments:vs(this.state.comments,f)})}),qa(this,"onVisible",f=>{const L=`${f} Seen`;this.state.post&&(this.state[L]||(this.setState({[L]:!0}),(0,P.j)(L,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))}),qa(this,"_inlineComments",()=>{const{inlineComments:f,publication:L}=this.props;return f||(0,Ne.shouldUseInlineComments)(L,this.state.post||this.props.post)}),qa(this,"fillEmbeddedEmailInputs",()=>{var f;const L=document.querySelectorAll('article.post input[type="email"]'),k=((f=this.state.user)==null?void 0:f.email)||this.props.freeSignupEmail;if(k)for(const U of L)U.value=k;this.setState({embeddedEmailInputsFilled:!0})});let{user:a}=t;this.I18N=I18N.i({pub:t.publication}),t.postPreview&&(a=qk(Qk({},a),{is_draft:!1,is_subscribed:t.postPreview!=="free",is_founding:t.postPreview==="founding"})),t.post&&[t.post.slug,t.post.uuid].filter(f=>f).includes(t.slug)&&!this.shouldRedirectToComments(t.post)?this.state={post:t.post,comments:t.renderedComments,user:a}:this.state={post:null,comments:null,user:a}}componentDidMount(){return Bu(this,null,function*(){(0,i.scrollToHash)(),this.cleanUpTikTokEnhanceListener=ff();const t=this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(o=>o).includes(this.props.slug)&&this.props.post;if(this.shouldRedirectToComments(t)?this.redirectToComments(t):this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs(),this.props.justPublished){(0,i.removeQueryParam)("justPublished"),(0,i.preloadImage)(eu(this.props.publication,this.props.post)[0]);const o=sg(this.props.publication,this.props.post);o&&(0,i.preloadImage)(o)}(this.props.embeddedPostPublications||this.props.embeddedPostPublications==="")&&(0,i.removeQueryParam)("embeddedPostPublications"),this.props.autoSharedOnTwitter&&(0,i.removeQueryParam)("autoSharedOnTwitter"),this.props.showRestackModal&&(0,i.removeQueryParam)("showRestackModal"),this.props.action&&(0,i.removeQueryParam)("action"),this.props.showWelcome||(0,i.onWindowVisibilityChange)(this.updateSubscribeTakeover),this.props.selectionFromQuery&&Vk(this.props.selectionFromQuery)})}componentWillUnmount(){var t;(t=this.cleanUpTikTokEnhanceListener)==null||t.call(this),(0,i.offWindowVisibilityChange)(this.updateSubscribeTakeover)}componentDidUpdate(t){return Bu(this,null,function*(){t.slug!==this.props.slug&&this.loadPost(),this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}shouldRedirectToComments(t){if(t&&t.type==="thread")return!0}redirectToComments(t){(0,y.route)((0,g.getPostUrl)(this.props.publication,t,{comments:!0,noBase:!0}),!0)}loadPost(){return Bu(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(t=>t).includes(this.props.slug)&&!this.shouldRedirectToComments(this.props.post))this.setState({post:this.props.post,comments:this.props.renderedComments},()=>(0,i.scrollToHash)());else{this.setState({post:null,comments:null});try{const t=yield et().get(`/api/v1/posts/${this.props.slug}`).query({postPreview:this.props.postPreview,updated:this.props.updated,sub:this.props.sub,device:this.props.device,audience:this.props.audience,free_preview:this.props.free_preview,freemail:this.props.freemail});this.shouldRedirectToComments(t.body)?this.redirectToComments(t.body):(yield(0,i.setState)(this,{post:t.body,comments:t.body.comments,stateThemeVariables:t.body.themeVariables}),(0,i.scrollToHash)())}catch(t){console.error("Failed to load post:",t),t.status===404?this.setState({notFound:!0}):alert((0,i.getNetworkErrorMessage)(t))}}})}triggerShareOnLoad(){if((0,g.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,g.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}render({slug:t,freeSignup:o,freeSignupEmail:a,publication:f,reaction_token:L,hide_intro_popup:k,unlock:U,sort:B,search:q,children:pe,showWelcome:ge,justPublished:Pe,autoSharedOnTwitter:Ee,readerIsSearchCrawler:Me,postPreview:De,truncatedPost:Ue,selectionFromQuery:Fe,embeddedPublications:Ye,siteConfigs:st={},freeTrialCoupon:nt,showRestackModal:at,action:yt,publicationSettings:Et,show_reaction_upsell:Ct,stripe_publishable_key:It,bannedFromNotes:Tt,themeVariables:Rt,referringUser:wt,clip:Qt,recentEpisodes:jt},{comments:qt,notFound:ln,post:Bt,user:zt,showSubscribeTakeover:on,stateThemeVariables:Yt,tab:Zt,showIntroPopup:xt}){const{iString:Dt,iTemplate:kt}=this.I18N,Gt=this._inlineComments(),mt=Bt!=null&&Bt.audience?(0,dn.userHasFullAccessToPost)(zt,Bt):!0,hn=(zt==null?void 0:zt.is_subscribed)&&mt,Xt=Bt&&Bt.slug&&Bt.slug!=="coming-soon"&&Bt.type!=="page",vn=(0,Ne.commentsEnabledForPost)({publication:f,post:Bt}),Nn=(0,Ne.showCommentsOnPost)({publication:f,post:Bt}),jn=hn||(zt==null?void 0:zt.is_free_subscriber)||o,En=!!(Bt!=null&&Bt.podcastUpload&&this.context.getConfigFor("shows_episode_page")),Un=Yt||Rt,Pn=(Bt==null?void 0:Bt.type)==="podcast",un=!(Bt!=null&&Bt.hidden)&&((0,Ne.isUUID)(t)||hn||Me||Bt&&!(0,dn.isPaidAudience)(Bt.audience)||Bt&&!Bt.slug),In=!un||(zt==null?void 0:zt.is_contributor)&&Bt&&(0,dn.isPaidAudience)(Bt.audience),Mn=Pe&&(zt==null?void 0:zt.is_contributor)&&!this.props.publication.invite_only&&!["page"].includes(Bt.type);let Vn=!1;if(typeof window!="undefined"&&(Vn=new URLSearchParams(window.location.search).get("selectQuote")==="true"),Bt!=null&&Bt.is_scheduled)return(0,e.h)(Zk,{freeSignup:o,freeSignupEmail:a,user:zt,post:Bt,publication:f});const hr=(0,e.h)(tF,{commentsEnabled:vn,comments:qt,post:Bt,slug:t,user:zt,freeSignup:o,freeSignupEmail:a,publication:f,reaction_token:L,onVisible:this.onVisible,onChangeComment:this.onChangeComment,inlineComments:Gt,selectionFromQuery:Fe,onChange:mr=>this.setState(mr),bannedFromNotes:Tt}),Yn=En?HU:_u;return(0,e.h)("div",null,yt==="restack-comment"&&(0,e.h)(rF,{post:Bt,pub:f,selection:Fe}),(0,e.h)(nF,{pub:f,post:Bt}),ge||on?(0,e.h)(wn,{freeSignup:o,freeSignupEmail:a,user:zt,post:Bt,publication:f,hidden:k,launchWelcomePage:ge,noBalance:ge}):null,(0,e.h)(eF,{user:zt,referringUser:wt,post:Bt,publication:f,readerIsSearchCrawler:Me,publicationSettings:Et}),(0,e.h)("div",{className:u()("single-post-container")},(0,e.h)("div",{className:u()({container:!Pn})},(0,e.h)("div",{className:"single-post"},(0,e.h)(ql,{publication:f,post:Bt,clip:Qt,selection:Fe,siteConfigs:st}),Bt?(0,e.h)(Yn,{ref:mr=>{this.post=mr},commentsEnabled:vn,isShowsEpisodePage:En,postPreview:De,showComments:Nn,user:zt,post:Bt,pub:f,freeSignup:o,freeSignupEmail:a,reaction_token:L,disableSubscribePrompt:ge&&!k,paywall:!un,noTitleLink:!0,onChange:mr=>this.setState(mr),fromPostPage:!0,freeTrialCoupon:nt,showRestackModal:!!at,stripe_publishable_key:It,readerIsSearchCrawler:Me,renderComments:()=>hr,themeVariables:Un,referringUser:wt,setTab:mr=>{this.setState({tab:mr})},recentEpisodes:jt}):ln?(0,e.h)("p",{className:"main-loader"},Dt("Post not found")):(0,e.h)(Fv,{pub:f}),pe)),Xt&&un&&[Nn&&Zt!=="comments"&&!En&&hr,f.has_posts&&!En&&(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(W,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)($k,{user:zt,freeSignup:o,freeSignupEmail:a,pub:f,maxPosts:!In&&!hn&&!(jn&&!f.plans)?3:10,filterPosts:mr=>mr.id!==Bt.id,sort:B,search:q,stateInUrl:!0,sortTabs:mr=>{const eo=mr.findIndex(yr=>yr.id==="top");if(eo!==-1)return[mr[eo]].concat(mr.filter((yr,An)=>An!==eo))},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))),!In&&[(0,e.h)(W,{onVisible:()=>this.onVisible("Subscribe Footer")}),(0,e.h)(jk,{publication:f,user:zt,freeSignupEmail:a,freeSignup:o})]],Mn?(0,e.h)(Ak,{post:Bt,autoSharedOnTwitter:Ee==="true",publicationTwitterScreenName:f.twitter_screen_name,publication:f,showAfter:Ye!=null&&Ye.length?(0,e.h)(Fk,{pub:f,pubsToRecommend:Ye}):null}):null,Ct?(0,e.h)(cg.hF,{user:zt,pub:f,post:Bt}):null,Vn&&(0,e.h)(Kk,null),(0,e.h)(Mr.SiteConfigGate,{configKey:"enable_episode_clips"},(0,e.h)(rk.Z,{user:zt,pub:f,post:Bt,mediaUploadId:this.props.clipId}))))}}qa(Uf,"contextType",St);function eF({user:r,referringUser:t,post:o,publication:a,readerIsSearchCrawler:f,publicationSettings:L}){const k=t&&(!r||t.id!==r.id),U=o&&a&&!f,B=r&&r.is_contributor&&(o==null?void 0:o.slug)=="coming-soon"&&!(L!=null&&L.seen_coming_soon_explainer);return(0,e.h)(e.Fragment,null,U&&(k&&(0,i.isMobileBrowser)()?(0,e.h)(zU,{user:t,pub:a,post:o}):(0,e.h)(ZU,{subdomain:a.subdomain,post:o})),B&&(0,e.h)(nk,null))}class tF extends e.Component{constructor(t,o){super(t,o),qa(this,"modalRef",(0,e.createRef)(null)),this.I18N=I18N.i({pub:t.publication}),this.inputRef=(0,e.createRef)(null),this.handleFocusInput=()=>{this.inputRef.current.focus()},this.state={comments:t.comments,reactionSigninComment:null}}componentDidMount(){document.addEventListener(ef,this.handleFocusInput)}componentWillUnmount(){document.removeEventListener(ef,this.handleFocusInput)}render({commentsEnabled:t,inlineComments:o,post:a,user:f,freeSignup:L,freeSignupEmail:k,publication:U,reaction_token:B,onVisible:q,onChangeComment:pe,selectionFromQuery:ge,slug:Pe,onChange:Ee,bannedFromNotes:Me},{comments:De,reactionSigninComment:Ue}){if(o)return(0,e.h)("div",{id:Go.nK},(0,e.h)(Kd,{slug:Pe,user:f,freeSignupEmail:k,freeSignup:L,post:a,publication:U,post_reaction_token:B,selectionFromQuery:ge,initialComments:De,inline:!0,onChange:Ee}));const{iPlural:Fe,iString:Ye}=this.I18N,st=(nt,at)=>Bu(this,null,function*(){return yg({user:f,reactionToken:B,comments:De,id:nt,reacted:at,setComments:yt=>this.setState({comments:yt}),onNeedsSignin:yt=>new Promise(Et=>this.setState({reactionSigninComment:yt},()=>this.modalRef.current.open(Et)))})});return(0,e.h)("div",{className:"single-post-section comments-section"},(0,e.h)("div",{className:"container"},(t||a.comment_count>0)&&(0,e.h)("div",{className:"comments-section-title"},a.comment_count>0?Fe("1 Comment","%1 Comments",a.comment_count):Ye("Comments")),(0,e.h)(W,{onVisible:()=>q("Post Comments Footer")}),t&&(0,e.h)(Es,{user:f,freeSignup:L,freeSignupEmail:k,pub:U,post:a,token:B,ref:this.inputRef,bannedFromNotes:Me}),De.length>0&&!t&&(0,e.h)(vg,{post:a}),De&&De.length>0&&U.community_enabled&&(0,e.h)(Xl,{className:"post-page-root-comment-list",key:`post:${a.id}`,user:f,freeSignup:L,freeSignupEmail:k,pub:U,post:a,comments:De,reaction_token:B,onChange:pe,updateCommentReacted:st,noRestack:!0}),t&&a.comment_count>(De||[]).length&&(0,e.h)("a",{className:"more-comments",href:ys(a,U)},Fe("1 more comment...","%1 more comments...",a.comment_count-(De||[]).length)),Ue&&(0,e.h)(Va.oq,{comment:Ue,pub:U,user:f,react:()=>st(Ue.id,!0),modalRef:this.modalRef})))}}const nF=({pub:r,post:t})=>{if(t)return(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:Tc()(zE(r,t),{json:!0,isScriptContext:!0})}})};function rF({pub:r,post:t,selection:o}){const a=(0,Qi.i3)();return(0,n.d4)(()=>{a.open({restackUrl:(0,g.getPostUrl)(r,t,{urlParams:{selection:o}})})},[]),null}var Uu=Ke(71278);const xi={root:"frontend-main-PressKitPage-module__root--dLeu2",pageTitle:"frontend-main-PressKitPage-module__pageTitle--kpiZE",container:"frontend-main-PressKitPage-module__container--zXRkh",imageContainer:"frontend-main-PressKitPage-module__imageContainer--ha3vh",divider:"frontend-main-PressKitPage-module__divider--RPKz6",text:"frontend-main-PressKitPage-module__text--H7Zpf",textFooter:"frontend-main-PressKitPage-module__textFooter--XdCwH",textWithGreyBox:"frontend-main-PressKitPage-module__textWithGreyBox--vRGlY"},oF=r=>{const t=r.themeVariables,o=t.web_bg_color||t.cover_bg_color,a=r.post.cover_image||r.publication.cover_photo_url,[f,L]=(0,n.eJ)("square");return(0,n.d4)(()=>{(0,P.j)(P.FP.WRITER_MEDIA_ASSETS_PAGE_VISITED,{post_id:r.post.id})},[r.post.id]),(0,e.h)("div",{className:xi.root},(0,e.h)(M.xv.H2,{color:"pub-primary-text",className:xi.pageTitle},"Share ",r.post.title),(0,e.h)(M.xv.B3,{color:"pub-primary-text",className:xi.text},"We\u2019ve generated custom images to help you promote your post on other social networks. Download your images and share with a link to your post!"),(0,e.h)(de.gq,{paddingY:24,gap:8,alignItems:"center"},(0,e.h)(M.xv.B4,{weight:"semibold",color:"pub-primary-text"},"Aspect Ratio:"),(0,e.h)(d.gu,{name:"aspectRatio",value:f,onChange:L,options:[{value:"square",label:"Square"},{value:"instagram",label:(0,R.isMobile)()?"Insta":"Instagram"},{value:"stories",label:(0,R.isMobile)()?"IG Stories":"Instagram Stories"}],horizontal:!0,labelProps:{color:"pub-primary-text"}})),(0,e.h)(de.tu,{justifyContent:"center",className:xi.container},(0,e.h)(de.gq,{paddingBottom:16,alignItems:"center",justifyContent:"space-between"},(0,e.h)(M.xv.H4,{color:"pub-primary-text"},r.post.title),!(0,R.isMobile)()&&(0,e.h)(d.zx,{priority:"secondary",leftIcon:(0,e.h)(xl.Z,{stroke:"#404040",size:20}),href:(0,g.pathWithQuery)(`/api/v1/press_kit/all/${r.post.id}`,{aspectRatio:f,isDraft:r.post.is_draft}),newTab:!0},"Download")),(0,e.h)("div",{className:xi.divider}),(0,R.isMobile)()&&(0,e.h)(d.xu,{bg:"secondary",radius:12,color:"secondary",paddingTop:8,paddingBottom:8,style:{"margin-bottom":"16px"}},(0,e.h)(M.xv.B4,{textAlign:"center",color:"pub-secondary-text",fontSize:14},"Press and hold to download an image, or tap to share.")),(0,e.h)(de.hs,{wrap:"wrap",justifyContent:"space-between"},(0,e.h)(Uu.ZP,{pub:r.publication,post:r.post,style:{bgColor:o,textColor:t.print_on_web_bg_color||t.cover_print_primary||"#1a1a1a",aspectRatio:f},text:"Background Color"}),t.background_pop&&(0,e.h)(Uu.ZP,{pub:r.publication,post:r.post,style:{bgColor:t.background_pop,textColor:t.print_on_pop,aspectRatio:f},text:"Accent Color"}),a&&(0,e.h)(Uu.ZP,{pub:r.publication,post:r.post,style:{bgImage:!0,textColor:"#ffffff",aspectRatio:f},text:"Image"}),o.toLowerCase()!=="#ffffff"?(0,e.h)(Uu.ZP,{pub:r.publication,post:r.post,style:{bgColor:"#ffffff",textColor:"#404040",aspectRatio:f},text:"Black and White"}):null)),(0,e.h)("div",{className:xi.textFooter},(0,e.h)(M.xv.B4,{color:"pub-secondary-text"},"These images are generated from your publication theme colors which you can edit in your"," ",(0,e.h)("a",{href:(0,g.getPublishSettingsUrl)(r.publication,{addBase:!0,section:"theme"})},"publication settings")," ","and the social preview which you can edit in your post settings.")))},jP=({sitemapHeader:r,sitemapDescription:t,sitemapLinks:o})=>(0,e.h)("div",{className:"container typography sitemap-page"},(0,i.setMetaData)({title:r,description:t}),(0,e.h)("h1",null,r),(0,e.h)("div",null,o.map(a=>(0,e.h)("p",null,(0,e.h)("a",{className:"sitemap-link",href:a.href,native:!0},a.text))))),KP={container:"frontend-main-setup_all_podcasts-module__container--r2UWH",noPodcasts:"frontend-main-setup_all_podcasts-module__noPodcasts--W7x7E"},ku=Ke(6378),aF=({})=>{const{iString:r}=(0,A.M1)();return(0,e.h)("div",{className:KP.noPodcasts},r("No podcasts."))},HP=(r,t,o)=>{let a=r[t.id];return a||(a=(0,g.getPodcatcherSetupUrl)(t,{section:null,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!o||!o.is_free_subscribed,params:{utm_source:"all-podcasts"}})),a},iF=({pub:r,user:t,idToMagicLink:o,openInNewTab:a})=>r.subdomain!=="thebulwark"?null:(0,e.h)(M.xv.B3,{translated:!0,paddingTop:16,paddingBottom:16},(0,e.h)("a",{href:HP(o!=null?o:{},r,t),target:a?"_blank":void 0,rel:"noopener"},"Click here")," ","to set up your podcast app for everything in one feed."),sF=({pub:r,user:t,idToMagicLink:o={},openInNewTab:a=!1,newFormatting:f=!1})=>{const L=[],{iString:k}=(0,A.M1)();ku.getSectionPodcasts(r)&&ku.getSectionPodcasts(r).forEach(ge=>{var Pe,Ee;if(!(0,ll.canSubscribeToSectionPodcast)({pub:r,section:ge}))return;const Me=(0,qi.getSectionPodcastSettings)({pub:r,section:ge});if(!Me.title)return;const De={logoUrl:(Pe=Me.artUrl)!=null?Pe:void 0,mainClickUrl:(0,g.getPodcastLandingUrl)({pub:r,section:ge,addBase:!0}),buttonClickUrl:o[ge.id]||(0,g.getPodcatcherSetupUrl)(r,{section:ge,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!t||!t.is_free_subscribed,params:{utm_source:"all-podcasts"}}),name:Me.title,description:(Ee=Me.description)!=null?Ee:"",buttonText:k("Set up podcast")};L.push(De)}),(0,ll.canSubscribeToPubPodcast)(r)&&L.push(r3(r,HP(o,r,t)));const U=Object.keys(o).length>0||!!(t!=null&&t.is_free_subscribed);let B=L.length>1?k("Podcast feeds"):k("Podcast feed");U&&(B=ku.hasMultiplePodcasts(r)?k("Private podcast feeds"):k("Private podcast feed"));const q=(0,e.h)(de.tu,{radius:12,border:"detail",padding:16},ku.hasPodcast(r)?(0,e.h)(e.Fragment,null,(0,e.h)(Ul,{showButton:!0,items:L,openInNewTab:a,buttonText:k("Set up podcast")}),(0,e.h)(iF,{pub:r,user:t,idToMagicLink:o,openInNewTab:a})):(0,e.h)(aF,null));return f?(0,e.h)(e.Fragment,null,(0,e.h)(M.xv.H4,{paddingTop:20,paddingBottom:8},B),q):(0,e.h)("div",{className:"container"},(0,e.h)("div",{id:"set-up-podcast"},(0,e.h)(M.xv.H3,{paddingTop:16,paddingBottom:16},B),q))},lF=({pub:r,user:t,idToMagicLink:o,openInNewTab:a=!1})=>(0,e.h)("div",{className:u()("page","typography",KP.container)},(0,e.h)(sF,{pub:r,user:t,idToMagicLink:o,openInNewTab:a}));function uF({slug:r,pub:t,user:o,freeSignup:a,freeSignupEmail:f,tagPagePreloads:L}){var k,U;const B=!!(t!=null&&t.theme),q=(0,Ze.ib)({pathname:`/api/v1/publication/post-tag/slug/${r}`,auto:(L==null?void 0:L.slug)!==r,initialResult:(L==null?void 0:L.slug)===r?L.postTag:null,deps:[L,r]});return(0,e.h)(F.ze,{value:{hasThemedBackground:B}},(0,e.h)("div",{className:u()("archive-page typography",{"use-theme-bg":B})},(0,e.h)("div",{className:"container"},q.isLoading?(0,e.h)("p",{className:"main-loader"},"Loading.."):(0,e.h)(e.Fragment,null,(0,e.h)("h2",null,((k=q.result)==null?void 0:k.name)||"Page not found"),(0,e.h)(of,{user:o,freeSignup:a,freeSignupEmail:f,pub:t,sort:"new",postTagId:(U=q.result)==null?void 0:U.id,newPosts:(L==null?void 0:L.slug)===r?L.posts:null,source:"tag-archive"})))))}var cF=Object.defineProperty,VP=Object.getOwnPropertySymbols,dF=Object.prototype.hasOwnProperty,fF=Object.prototype.propertyIsEnumerable,$P=(r,t,o)=>t in r?cF(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,Ri=(r,t)=>{for(var o in t||(t={}))dF.call(t,o)&&$P(r,o,t[o]);if(VP)for(var o of VP(t))fF.call(t,o)&&$P(r,o,t[o]);return r};class pF extends e.Component{constructor(t,o){super(t,o),this.state=t.initialData||{}}componentDidUpdate(t,o){var a,f,L,k;this.props.initialData&&JSON.stringify(this.props.initialData)!==JSON.stringify(this.state)&&this.setState(Ri({},this.props.initialData));const U=(f=(a=this.state.pub)==null?void 0:a.theme)==null?void 0:f.web_bg_color,B=document.documentElement;B&&U&&((k=(L=o==null?void 0:o.pub)==null?void 0:L.theme)==null?void 0:k.web_bg_color)!==U&&(B.style.background=U)}componentDidMount(){var t,o,a,f;const L=(f=(a=(o=(t=this.props)==null?void 0:t.initialData)==null?void 0:o.pub)==null?void 0:a.theme)==null?void 0:f.web_bg_color,k=document.documentElement;k&&L&&(k.style.background=L)}render({coupon:t,skipIntoPopupRender:o},{pub:a,section:f,user:L,userProfile:k,freeSignup:U,freeSignupEmail:B,posts:q,post:pe,truncatedPost:ge,pinnedPosts:Pe,newPosts:Ee,topPosts:Me,contentBlocks:De,communityPosts:Ue,communityAction:Fe,searchPosts:Ye,contentBlockSectionsById:st,contentBlockPostTagsById:nt,contributors:at,postsByGroupId:yt,postsBySectionId:Et,postsByTagId:Ct,inlineComments:It,latestSectionPosts:Tt,subscribeContent:Rt,homepageLinks:wt,recommendations:Qt,numRecommendations:jt,allSubscribedPubs:qt,fullySubscribedPubs:ln,sitemapHeader:Bt,sitemapDescription:zt,sitemapLinks:on,referralCode:Yt,hide_intro_popup:Zt,post_reaction_token:xt,stripe_publishable_key:Dt,viral_gift_data:kt,campaign:Gt,referralCampaign:mt,file:hn,primaryEligiblePublications:Xt,flagged_as_spam:vn,switchAccountRedirectUrl:Nn,readerIsSearchCrawler:jn,commentId:En,selectionFromQuery:Un,siteConfigs:Pn={},blurbs:un,noBalanceHeroText:In,embeddedPublications:Mn,themeVariables:Vn,subdomainNotFound:hr,freeTrialCoupon:Yn,signupForFreeVariant:mr,people:eo,useNewSubscribePage:yr,idToMagicLink:An,token:_r,podcast_rss_url:Bi,publicationSettings:ba,pledgePlans:Uo,isChatActive:ZP,isMeetingsActive:Ks,optOutLegacyTheming:gF,meetingsOrder:kf,meetingsSettings:Ff,appModalOpenByDefault:GP,twitterCardUrl:vF,tagPagePreloads:yF,initialComments:zP,bannedFromNotes:Fu,intro_text:PF,crossPostedPub:bF,crossPostingByLine:EF,userWithCrossPostedPubContext:OF,crossPostedPublicationSettings:CF,crossPostedSiteConfig:wF,launchWelcomePage:Ui,referringUser:SF,clip:IF,recentEpisodes:TF}){var YP;const JP=O()(this.state.comments)?this.state.comments:[];if(hr)return(0,e.h)(uU,{subdomain:hr});if(vn&&!(L!=null&&L.is_global_admin))return(0,e.h)("div",{className:"page typography signup-page",path:"/flagged"},(0,i.setMetaData)({title:"Flagged as TOS violation"}),(0,e.h)("div",{className:"container"},(0,e.h)("h2",null,"Publication Not Available"),(0,e.h)("p",null,"The page you are attempting to access is unavailable."," ",(0,e.h)("a",{href:`${(0,g.getBaseUrl)()}`,native:!0},"Click here")," ","to view some more great writing."),(0,e.h)("p",null,(0,e.h)("a",{href:(0,g.getBaseUrl)(),className:"button primary"},"Go to substack.com"))));const XP=!!(a!=null&&a.theme&&!gF),DF=(0,y.getCurrentUrl)().startsWith("/chat"),{iString:zo,iTemplate:ei}=I18N.i(this.state.language);return(0,e.h)(CE,{pub:a,user:L,siteConfigs:Pn,hasThemedBackground:XP,language:this.state.language,country:this.state.country,experimentInfo:this.props.initialData,publicationSettings:ba},(0,e.h)(p,Ri({},this.props)),(0,e.h)(a9,{publication:a,twitterCardUrl:vF}),(0,e.h)(hF,{user:L}),(0,e.h)(mF,{user:L,pub:a}),(0,e.h)(_F,null),(0,e.h)("div",{className:u()("main typography",{"use-theme-bg":XP,"should-flex":DF}),id:"main"},(0,e.h)(E.qE,{path:"/"},({path:Gn})=>{var QP,qP;let to="/home";/^\/about\b/.test(Gn)?to="/about":/^\/notes\b/.test(Gn)?to="/notes":/^\/leaderboard\b/.test(Gn)?to="/leaderboard":/^\/chat\b/.test(Gn)?to="/chat":/^\/podcast\b/.test(Gn)?to="/podcast":/^\/archive\b/.test(Gn)?to="/archive":/^\/newsletters\b/.test(Gn)?to="/newsletters":/^\/recommendations\b/.test(Gn)?to="/recommendations":/^\/listen\b/.test(Gn)?to="/listen":f?to=f.id:/^\/p\//.test(Gn)?to=((QP=/^\/p\/([^/?#]+)/.exec(Gn))==null?void 0:QP[0])||"/p":/^\/t\//.test(Gn)&&(to=((qP=/^\/t\/([^/?#]+)/.exec(Gn))==null?void 0:qP[0])||"/p");let Hs;typeof window!="undefined"&&window.location.search&&(Hs=(0,g.parseQuery)(window.location.search));const eb=/^\/p\/([^/?#]*)/.exec(Gn),tb=eb&&!((pe==null?void 0:pe.type)==="page"&&pe.slug===eb[1]),nb=Gn.startsWith("/subscribe")||Gn.startsWith("/finish-invite")||Gn.startsWith("/meetings"),MF=Gn.startsWith("/chat/posts/");return f?(0,e.h)(sl,{pub:a,user:L,freeSignup:U,freeSignupEmail:B,hide_subscribe_cta:Gn.startsWith("/subscribe"),selectedSectionId:to,isPostView:tb,showCustomerSupportModeModal:!!(Hs!=null&&Hs.showCustomerSupportModeModal),lowChrome:nb,numRecommendations:jt,isChatActive:ZP,isMeetingsActive:Ks,signupForFreeVariant:mr}):!["welcome","embed","meetings"].some(AF=>Gn.startsWith(`/${AF}`))&&!(Gn.startsWith("/subscribe")&&(yr||Uo))&&(0,e.h)(sl,{pub:a,user:L,freeSignup:U,freeSignupEmail:B,hide_subscribe_cta:Gn.startsWith("/subscribe"),isPostView:tb,selectedSectionId:to,showCustomerSupportModeModal:!!(Hs!=null&&Hs.showCustomerSupportModeModal),lowChrome:nb,numRecommendations:jt,isChatActive:ZP,isMeetingsActive:Ks,signupForFreeVariant:mr,hideSections:MF})}),(0,e.h)(aa.g1,{pub:a,user:L}),(0,e.h)(y.Router,{onChange:WE},["newspaper","magaziney"].includes(a.homepage_type)?(0,e.h)(R7,{path:"/",blurbs:un,bodyPostGroups:(YP=a.theme)==null?void 0:YP.body_post_groups,contentBlocks:De!=null?De:[],freeSignup:U,freeSignupEmail:B,hide_intro_popup:Zt,homepageLinks:wt,contentBlockSectionsById:st!=null?st:{},contentBlockPostTagsById:nt!=null?nt:{},contributors:at,latestSectionPosts:Tt,newPosts:Ee,noBalanceHeroText:In,numRecommendations:jt,pinnedPosts:Pe,postsByGroupId:yt,postsBySectionId:Et,postsByTagId:Ct,pub:a,recommendations:Qt,referralCampaign:mt,referralCode:Yt,topPosts:Me,user:L,launchWelcomePage:Ui,skipIntoPopupRender:o}):(0,e.h)(o1,{path:"/",user:L,freeSignupEmail:B,freeSignup:U,hide_intro_popup:Zt,preloadedPosts:q,pub:a,blurbs:un,noBalanceHeroText:In,launchWelcomePage:Ui,skipIntoPopupRender:o}),(0,e.h)(If,{path:"/listen/:sectionSlug",blurbs:un,user:L,freeSignupEmail:B,freeSignup:U,hide_intro_popup:Zt,pub:a,pinnedPosts:Pe,newPosts:Ee,latestSectionPosts:Tt,section:a.section,referralCampaign:mt,isPodcast:!0,launchWelcomePage:Ui,noBalanceHeroText:In,skipIntoPopupRender:o}),(0,e.h)(If,{path:"/podcast",blurbs:un,user:L,freeSignupEmail:B,freeSignup:U,hide_intro_popup:Zt,pub:a,pinnedPosts:Pe,newPosts:Ee,latestSectionPosts:Tt,recommendations:Qt,numRecommendations:jt,referralCampaign:mt,isPodcast:!0,includePinnedPosts:!0,launchWelcomePage:Ui,noBalanceHeroText:In}),(0,e.h)(xs,{path:"/podcast/archive",blurbs:un,user:L,newPosts:Ee,topPosts:Me,communityPosts:Ue,searchPosts:Ye,pub:a,freeSignupEmail:B,freeSignup:U,isPodcast:!0,metadata:Ri({title:ei`Podcast Archive - ${a.name}`,description:ei`Full archive of all the episodes from ${a.name}.`},!!(Ye||(0,g.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(If,{path:"/s/:slug",blurbs:un,user:L,freeSignupEmail:B,freeSignup:U,hide_intro_popup:Zt,pub:a,pinnedPosts:Pe,newPosts:Ee,latestSectionPosts:Tt,section:a.section,referralCampaign:mt,launchWelcomePage:Ui,noBalanceHeroText:In,skipIntoPopupRender:o}),(0,e.h)(xs,{path:"/archive",user:L,newPosts:Ee,topPosts:Me,communityPosts:Ue,searchPosts:Ye,pub:a,freeSignupEmail:B,freeSignup:U,metadata:Ri({title:ei`Archive - ${a.name}`,description:ei`Full archive of all the posts from ${a.name}.`},!!(Ye||(0,g.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(xs,{path:"/s/:slug/archive",user:L,newPosts:Ee,topPosts:Me,communityPosts:Ue,searchPosts:Ye,pub:a,freeSignupEmail:B,freeSignup:U,sectionId:f==null?void 0:f.id,metadata:Ri({title:ei`Archive - ${f==null?void 0:f.name} of ${a.name}`,description:ei`Full archive of all the posts from ${f==null?void 0:f.name} of ${a.name}.`},!!(Ye||(0,g.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(xs,{path:"/listen/:sectionSlug/archive/",user:L,newPosts:Ee,topPosts:Me,communityPosts:Ue,searchPosts:Ye,pub:a,freeSignupEmail:B,freeSignup:U,sectionId:f==null?void 0:f.id,metadata:Ri({title:zo("Podcast Archive - %1",(0,qi.getSectionPodcastSettings)({pub:a,section:a.section}).title),description:zo("Full archive of all the episodes from %1.",(0,qi.getSectionPodcastSettings)({pub:a,section:a.section}).title)},!!(Ye||(0,g.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(uF,{path:"/t/:slug",user:L,freeSignupEmail:B,freeSignup:U,pub:a,tagPagePreloads:yF}),(0,e.h)(xs,{default:!0,title:zo("Page not found"),user:L,newPosts:Ee,topPosts:Me,communityPosts:Ue,searchPosts:Ye,pub:a,freeSignupEmail:B,freeSignup:U}),(0,e.h)(le,{path:"/tos",html:a.tos_content_html||zo("Terms of Service"),metadata:{title:zo("Terms of Service")}},(0,e.h)(d.xv,{translated:!0,as:"p"},"You agree to the terms of service below, and the"," ",(0,e.h)("a",{href:"https://substack.com/tos",native:!0},"Terms of Use for Substack"),", the technology provider.")),(0,e.h)(le,{path:"/privacy",html:a.privacy_content_html||zo("Privacy Policy"),metadata:{title:zo("Privacy Policy")}},(0,e.h)(d.xv,{translated:!0,as:"p"},"You agree to the privacy policy below, and the"," ",(0,e.h)("a",{href:(0,g.getPrivacyUrl)(),native:!0},"Privacy Policy for Substack"),", the technology provider.")),(0,e.h)(le,{path:"/disclosures",html:a.disclosures_content_html||zo("Disclosures"),metadata:{title:zo("Disclosures")}}),(0,e.h)(wn,{path:"/welcome",publication:a,post:null,user:L,freeSignup:U,freeSignupEmail:B,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),(0,e.h)(wn,{path:"/podcast",publication:a,post:null,referralCode:Yt,user:L,freeSignup:U,freeSignupEmail:B,coupon:t,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),(0,e.h)(W7,{pub:a,path:"/invite",user:L,freeSignup:U,freeSignupEmail:B}),(0,e.h)(K7,{path:"/invite-success/:id",pub:a,user:L,post:pe,freeSignup:U,freeSignupEmail:B}),(0,e.h)(j7,{path:"/invite-reject-success/:id",pub:a,user:L,post:pe}),(0,e.h)(hf,{path:"/finish-invite/:id",pub:a,user:L,freeSignup:U,freeSignupEmail:B}),(0,e.h)(hf,{path:"/finish-post-invite/:id",pub:a,post:pe,user:L,freeSignup:U,freeSignupEmail:B,inviteToPost:!0,primaryEligiblePublications:Xt||[],switchAccountRedirectUrl:Nn}),(0,e.h)(rR,{path:"/recommendations",pub:a,user:L,recommendations:Qt,allSubscribedPubs:qt,fullySubscribedPubs:ln,freeSignupEmail:B}),(0,e.h)(jP,{path:"/sitemap",pub:a,sitemapHeader:Bt,sitemapDescription:zt,sitemapLinks:on}),(0,e.h)(jP,{path:"/sitemap/:year",pub:a,sitemapHeader:Bt,sitemapDescription:zt,sitemapLinks:on}),(0,e.h)(f3,{path:"/about",pub:a,user:L,freeSignup:U,freeSignupEmail:B,subscribeContent:Rt,people:eo,metadata:{title:ei`About - ${a.name}`}}),(0,e.h)(Uf,{path:"/p/:slug",user:L,freeSignupEmail:B,freeSignup:U,referralCode:Yt,post:pe,truncatedPost:ge,publication:a,renderedComments:JP,inlineComments:It,reaction_token:xt,hide_intro_popup:Zt,stripe_publishable_key:Dt,readerIsSearchCrawler:jn,selectionFromQuery:Un,embeddedPublications:Mn,siteConfigs:Pn,freeTrialCoupon:Yn,publicationSettings:ba,bannedFromNotes:Fu,themeVariables:Vn,referringUser:SF,clip:IF,showWelcome:Ui,recentEpisodes:TF}),(0,e.h)(tN,{path:"/cp/:post_id",user:L,freeSignupEmail:B,freeSignup:U,post:pe,publication:a,introText:PF,crossPostedPub:bF,crossPostingByLine:EF,userWithCrossPostedPubContext:OF,crossPostedPublicationSettings:CF,crossPostedSiteConfig:wF}),(0,e.h)(lF,{path:"/listen",pub:a,user:L||null,openInNewTab:!0,idToMagicLink:An}),(0,e.h)(pE,{path:"/newsletters",pub:a,user:L!=null?L:null}),(0,e.h)(oF,{path:"/p/:slug/media-assets",post:pe,publication:a,themeVariables:Vn}),It?(0,e.h)(Uf,{path:"/p/:slug/comments",user:L,freeSignupEmail:B,freeSignup:U,referralCode:Yt,post:pe,truncatedPost:ge,publication:a,renderedComments:JP,inlineComments:It,reaction_token:xt,hide_intro_popup:Zt,stripe_publishable_key:Dt,readerIsSearchCrawler:jn,selectionFromQuery:Un,siteConfigs:Pn,freeTrialCoupon:Yn,bannedFromNotes:Fu,themeVariables:Vn}):(0,e.h)(Kd,{path:"/p/:slug/comments",user:L,freeSignupEmail:B,freeSignup:U,post:pe,publication:a,post_reaction_token:xt,commentId:En,freeTrialCoupon:Yn,initialComments:zP,bannedFromNotes:Fu}),!It&&(0,e.h)(Kd,{path:"/p/:slug/comment/:comment_id",user:L,freeSignupEmail:B,freeSignup:U,post:pe,publication:a,post_reaction_token:xt,commentId:En,freeTrialCoupon:Yn,initialComments:zP,bannedFromNotes:Fu}),(0,e.h)(jN,{path:"/rewards/receive",pub:a,user:L,freeSignupEmail:B,viral_gift_data:kt}),(0,e.h)(a1,{path:"/embed",pub:a,user:L,freeSignup:U,freeSignupEmail:B}),(0,e.h)(sN,{path:"/embed/test",pub:a,user:L,freeSignup:U,freeSignupEmail:B}),(0,e.h)(iN,{path:"/embed/podcast/:slug",pub:a}),(0,e.h)(uN,{path:"/embed/video/:slug",pub:a}),(0,e.h)(BN,{path:"/f/:fileId",pub:a,user:L,hide_subscribe_cta:!0,file:hn}),Pn.live_events&&(0,e.h)(Wn.cr,{module:"../live_events",onRequest:()=>Promise.all([Ke.e(9315),Ke.e(829)]).then(Ke.bind(Ke,20829)),resolve:Gn=>Gn.LiveEventPage,path:"/live_event/:eventId/:participantType",pub:a,user:L}),(0,e.h)(QO,{path:"/chat",publication:a,user:L}),(0,e.h)(qO,{path:"/chat/posts/:postId",publication:a,communityAction:Fe,user:L,appModalOpenByDefault:GP}),(0,e.h)(eC,{path:"/chat/replies/:commentId",publication:a,communityAction:Fe,user:L,appModalOpenByDefault:GP}),Pn.meetings_v1&&(Ks||(L==null?void 0:L.is_author))&&(0,e.h)(PB,{path:"/meetings",exact:!0,pub:a,user:L,settings:Ff}),Pn.meetings_v1&&(Ks||(L==null?void 0:L.is_author))&&(0,e.h)(cP,{path:"/meetings/book",pub:a,user:L,stripe_publishable_key:Dt,order:kf,settings:Ff}),Pn.meetings_v1&&(kf||Ks||(L==null?void 0:L.is_author))&&(0,e.h)(cP,{path:"/meetings/book/:order_id?",pub:a,user:L,stripe_publishable_key:Dt,order:kf,settings:Ff}),(0,e.h)(gB,{pub:a,user:L,freeSignupEmail:B,path:"/leaderboard"}),(0,e.h)(wE,{path:"/notes"})),(0,e.h)(E.qE,{path:"/"},({path:Gn})=>!Gn.startsWith("/welcome")&&!Gn.startsWith("/embed")&&!Gn.startsWith("/subscribe")&&!Gn.startsWith("/meetings")&&!Gn.startsWith("/chat")&&(0,e.h)(Q,{publication:a,user:L,showIntrinioAttrib:pe&&pe.hasCashtag,path:Gn})),(0,e.h)(I,{pub:a,user:L})))}}function hF({user:r}){const t=(0,Sp.S)({user:r});return(0,n.d4)(()=>{const o=new URLSearchParams(location.search);if(o.get("reaction")==="\u2764"){t(),o.delete("reaction");const a=o.toString();history.replaceState({},document.title,location.pathname+(a&&`?${a}`))}},[]),null}function mF({user:r,pub:t}){return UE({user:r,pub:t}),null}function _F(){return xE(),null}(0,j.Z)(pF)})()})()});UF();})();

//# sourceMappingURL=main.23daad6628831a1374b1.bundle.js.map